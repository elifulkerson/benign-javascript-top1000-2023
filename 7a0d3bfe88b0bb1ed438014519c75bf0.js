"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[86354],{764250:(e,t,n)=>{n.d(t,{ActionGroup:()=>s});class r{constructor(e,t){this._group=e,this.hotkey=t.hotkey,this.handler=t.handler,this.desc=t.desc,this.element=t.element||null,t.isDisabled?"function"==typeof t.isDisabled?this.isDisabled=t.isDisabled:this.isDisabled=()=>!0:this.isDisabled=()=>!1}destroy(){this._group&&(this._group.remove(this),this._group=null)}}class s{constructor(e,t){this._actions=[],this._manager=e,this.modal=!(!t||!t.modal),t&&(this.desc=t.desc),t&&t.isDisabled?"function"==typeof t.isDisabled?this.isDisabled=t.isDisabled:this.isDisabled=()=>!0:this.isDisabled=()=>!1,this._manager.registerGroup(this)}add(e){const t=new r(this,e);return this._actions.push(t),t}remove(e){for(let t=this._actions.length;t-- >0;)this._actions[t]===e&&this._actions.splice(t,1)}handleHotkey(e,t){for(let n=this._actions.length;n-- >0;){const r=this._actions[n];if(r.hotkey===e&&((!r.element||t.target&&r.element.contains(t.target))&&!r.isDisabled()))return r.handler(t),t.preventDefault(),this._callMatchedHotkeyHandler(e),!0}return!1}promote(){this._manager.promoteGroup(this)}destroy(){this._actions.length=0,this._manager.unregisterGroup(this)}static setMatchedHotkeyHandler(e){s._matchedHotkeyHandler=e}_callMatchedHotkeyHandler(e){s._matchedHotkeyHandler&&s._matchedHotkeyHandler(e)}}},233346:(e,t,n)=>{n.d(t,{createGroup:()=>d,keyboardPressedKeysState:()=>h,pressedKeys:()=>c,registerWindow:()=>g,unregisterWindow:()=>f});var r=n(91679),s=n(591800),i=n(607423);class o{constructor(e,t){this.modifiers=e,this.code=t}altOrOptionCode(){return"AltLeft"===this.code||"AltRight"===this.code}controlOrMetaCode(){return s.isMacKeyboard?"MetaLeft"===this.code||"MetaRight"===this.code||"OSLeft"===this.code||"OSRight"===this.code:"ControlLeft"===this.code||"ControlRight"===this.code}}class a extends r.WatchedValue{setValue(e,t){const n=this.value();(t||void 0===n||n.code!==e.code||n.modifiers!==e.modifiers)&&super.setValue(e)}}var l=n(764250);const u=new class{constructor(){this._groups=[],this._pressedKeys=new r.WatchedValue(0),this._keyboardPressedKeysState=new a(new o(0)),this._keyDownListener=e=>{if(e.defaultPrevented)return;const t=(0,s.hashFromEvent)(e);if(this._pressedKeys.setValue(t),this._keyboardPressedKeysState.setValue(new o((0,s.modifiersFromEvent)(e),e.code)),!(0,i.isNativeUIInteraction)(t,e.target))for(let n=this._groups.length;n-- >0;){const r=this._groups[n];if(!r.isDisabled()){if(r.handleHotkey(t,e))return;if(r.modal)return}}},this._keyUpListener=e=>{const t=(0,s.hashFromEvent)(e);this._pressedKeys.setValue(t),this._keyboardPressedKeysState.setValue(new o((0,s.modifiersFromEvent)(e),""))},this._blurEvent=()=>{this._pressedKeys.setValue(0),this._keyboardPressedKeysState.setValue(new o(0,""))},this._mouseEvent=e=>{var t;const n=(0,s.modifiersFromEvent)(e),r=255&(null!==(t=this._pressedKeys.value())&&void 0!==t?t:0);this._pressedKeys.setValue(n|r)}}listen(e){e.addEventListener("keydown",this._keyDownListener),
e.addEventListener("keyup",this._keyUpListener),e.addEventListener("blur",this._blurEvent),e.addEventListener("mousemove",this._mouseEvent)}unlisten(e){e.removeEventListener("keydown",this._keyDownListener),e.removeEventListener("keyup",this._keyUpListener),e.removeEventListener("blur",this._blurEvent),e.removeEventListener("mousemove",this._mouseEvent)}registerGroup(e){this._groups.push(e)}unregisterGroup(e){for(let t=this._groups.length;t--;)this._groups[t]===e&&this._groups.splice(t,1)}promoteGroup(e){let t=this._groups.length-1;for(let n=this._groups.length;n--;){if(this._groups[n]===e)return void(n!==t&&(this._groups.splice(n,1),this._groups.splice(t,0,e)));this._groups[n].modal&&(t=n-1)}}pressedKeys(){return this._pressedKeys.readonly()}keyboardPressedKeysState(){return this._keyboardPressedKeysState.readonly()}},c=u.pressedKeys(),h=u.keyboardPressedKeysState();function d(e){return new l.ActionGroup(u,e)}function g(e){u.listen(e)}function f(e){u.unlisten(e)}},591800:(e,t,n)=>{n.d(t,{Modifiers:()=>i,hashFromEvent:()=>a,hashShiftPlusEnter:()=>l,humanReadableHash:()=>h,humanReadableModifiers:()=>u,isMacKeyboard:()=>s,modifiersFromEvent:()=>o});var r=n(167175);const s=r.isMac||r.isIOS;var i;function o(e){let t=0;return e.shiftKey&&(t+=1024),e.altKey&&(t+=512),e.ctrlKey&&(t+=256),e.metaKey&&(t+=2048),t}function a(e){return o(e)|e.keyCode}!function(e){e[e.None=0]="None",e[e.Alt=512]="Alt",e[e.Shift=1024]="Shift",e[e.Mod=s?2048:256]="Mod",e[e.Control=256]="Control",e[e.Meta=2048]="Meta"}(i||(i={}));const l=1037;function u(e,t=!s){let n="";return 256&e&&(n+=s?"^":"Ctrl",t&&(n+=" + ")),512&e&&(n+=s?"⌥":"Alt",t&&(n+=" + ")),1024&e&&(n+=s?"⇧":"Shift",t&&(n+=" + ")),2048&e&&(n+=s?"⌘":"Win",t&&(n+=" + ")),n}const c={9:"⇥",13:"↵",27:"Esc",8:s?"⌫":"Backspace",32:"Space",35:"End",36:"Home",37:"←",38:"↑",39:"→",40:"↓",45:"Ins",46:"Del",188:",",191:"/"};for(let e=1;e<=16;e++)c[e+111]=`F${e}`;function h(e){let t=u(e);const n=255&e;return t+=n in c?c[n]:String.fromCharCode(n),t}},607423:(e,t,n)=>{n.d(t,{isNativeUIInteraction:()=>i,isTextEditingField:()=>s});var r=n(591800);function s(e){if("INPUT"===e.tagName){const t=e.type;return"text"===t||"email"===t||"number"===t||"password"===t||"search"===t||"tel"===t||"url"===t}return"TEXTAREA"===e.tagName||e.isContentEditable}function i(e,t){if(!t)return!1;const n=255&e;if(27===n||n>>>4==7)return!1;switch(e^n){case r.Modifiers.Alt:return(38===n||40===n)&&"SELECT"===t.tagName||s(t);case r.Modifiers.Alt+r.Modifiers.Shift:return s(t);case r.Modifiers.Mod:if(67===n||!r.isMacKeyboard&&45===n){const e=t.ownerDocument&&t.ownerDocument.getSelection();if(e&&!e.isCollapsed)return!0}return s(t);case r.Modifiers.Mod+r.Modifiers.Shift:return n>=33&&n<=40&&s(t);case r.Modifiers.Shift:case 0:return 9===n?!(!t.ownerDocument||t===t.ownerDocument.body||t===t.ownerDocument.documentElement):(!function(e){if("BUTTON"===e.tagName)return!0;if("INPUT"===e.tagName){const t=e.type;if("submit"===t||"button"===t||"reset"===t||"checkbox"===t||"radio"===t)return!0}return!1
}(t)||13===n||32===n||9===n)&&("form"in t||t.isContentEditable)}return!1}},167175:(e,t,n)=>{n.d(t,{isAndroid:()=>f,isAnyMobile:()=>w,isBlackBerry:()=>p,isChrome:()=>a,isEdge:()=>u,isFF:()=>l,isIOS:()=>m,isIPad:()=>b,isLinux:()=>g,isMac:()=>h,isOperaMini:()=>y,isSafari:()=>c,isWindows:()=>d,mobiletouch:()=>i,touch:()=>o});const r="undefined"!=typeof window&&"undefined"!=typeof navigator,s=r&&"ontouchstart"in window,i=r&&s&&"onorientationchange"in window,o=r&&(s||!!navigator.maxTouchPoints),a=r&&window.chrome&&window.chrome.runtime,l=r&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,u=r&&/\sEdge\/\d\d\b/.test(navigator.userAgent),c=r&&Boolean(navigator.vendor)&&navigator.vendor.indexOf("Apple")>-1&&-1===navigator.userAgent.indexOf("CriOS")&&-1===navigator.userAgent.indexOf("FxiOS"),h=r&&/mac/i.test(navigator.platform),d=r&&/Win32|Win64/i.test(navigator.platform),g=r&&/Linux/i.test(navigator.platform),f=r&&/Android/i.test(navigator.userAgent),p=r&&/BlackBerry/i.test(navigator.userAgent),m=r&&/iPhone|iPad|iPod/.test(navigator.platform),y=r&&/Opera Mini/i.test(navigator.userAgent),b=r&&("MacIntel"===navigator.platform&&navigator.maxTouchPoints>1||/iPad/.test(navigator.platform)),w=f||p||m||y},284849:(e,t,n)=>{n.d(t,{t:()=>r});const r=n.tf},251954:(e,t,n)=>{n.r(t),n.d(t,{emit:()=>h,emitOnce:()=>d,on:()=>l,subscribe:()=>u,subscribeToAll:()=>c,unsubscribe:()=>a});var r=n(707957);const s={},i=[],o={};function a(e,t,n){s[e].unsubscribe(n,t)}function l(e,t,n){u(e,t,n)}function u(e,t,n,i){s.hasOwnProperty(e)||(s[e]=new r.Delegate),o[e]?t.call(n):s[e].subscribe(n,t,i)}function c(e){i.push(e)}function h(e,...t){const n=[e].concat(t);i.forEach((e=>{e.apply(null,n)})),s.hasOwnProperty(e)&&s[e].fire.apply(s[e],t)}function d(e){o[e]&&console.warn(`Something went wrong: emitOnce called multiple times with same event (${e})`),o[e]=!0,h.apply(null,arguments)}},799786:(e,t,n)=>{n.r(t),n.d(t,{Modifiers:()=>i.Modifiers,createGroup:()=>r.createGroup,keyboardPressedKeysState:()=>r.keyboardPressedKeysState,pressedKeys:()=>r.pressedKeys,registerWindow:()=>r.registerWindow,unregisterWindow:()=>r.unregisterWindow});var r=n(233346),s=n(764250),i=n(591800),o=n(345848);(0,r.registerWindow)(window),s.ActionGroup.setMatchedHotkeyHandler((e=>{(0,o.trackEvent)("Keyboard Shortcuts",(0,i.humanReadableHash)(e))}))},345848:(e,t,n)=>{n.d(t,{disableTrackingEvents:()=>u,trackEvent:()=>l});var r=n(251954),s=n(77122);const i=(0,n(201089).getLogger)("Common.TrackEvent"),o=[/Study_(Drawing)_(.*)/,/(Study)_(.*)@tv-basicstudies/,/(Study)_(.*)/,/(Chart Style) (.*)/];let a=!1;const l=(e,t,n)=>{if(a)return;if(s.enabled("charting_library_base"))return void((e,t,n)=>{t=t||e||n||"";let s="";for(let e=0;e<o.length;e++){const n=t.match(o[e]);if(n&&3===n.length){t=n[1],s=n[2];break}}(0,r.emit)(t.toLowerCase().replace(" ","_"),{category:e,label:n,value:s})})(e,t,n);let l=(e?e+":":"")+t;n&&(l+=" "+n),i.logNormal(l),s.enabled("widget")||!window._UNIT_TESTS&&window.gtag&&window.gtag("event",t,{event_category:e,event_label:n})};function u(){a=!0}
"undefined"!=typeof window&&(window.TradingView=window.TradingView||{},window.TradingView.trackEvent=l)},707957:(e,t,n)=>{n.r(t),n.d(t,{Delegate:()=>i});const r=(0,n(194582).getLogger)("Common.Delegate");function s(e){return!e.singleShot}class i{constructor(){this.fire=this._fireImpl.bind(this),this._listeners=[]}subscribe(e,t,n){this._listeners.push({object:e,member:t,singleShot:!!n,skip:!1})}unsubscribe(e,t){for(let n=0;n<this._listeners.length;++n){const r=this._listeners[n];if(r.object===e&&r.member===t){r.skip=!0,this._listeners.splice(n,1);break}}}unsubscribeAll(e){for(let t=this._listeners.length-1;t>=0;--t){const n=this._listeners[t];n.object===e&&(n.skip=!0,this._listeners.splice(t,1))}}destroy(){this._listeners=[]}_fireImpl(...e){const t=this._listeners;this._listeners=this._listeners.filter(s);const n=t.length;for(let s=0;s<n;++s){const n=t[s];if(!n.skip)try{n.member.apply(n.object||null,e)}catch(e){r.logError(`${e&&(e.stack||e.message)}`)}}}}},428123:(e,t,n)=>{function r(e){const t=Object.create(e);return t.release=()=>{},t.ownership=()=>t,t}function s(e){const t=Object.create(e);return t.release=()=>e.destroy(),t.ownership=()=>t,t}n.r(t),n.d(t,{ownership:()=>s,weakReference:()=>r})},194582:(e,t,n)=>{n.d(t,{LOGLEVEL:()=>i,getLogHistory:()=>_,getLogLevel:()=>m,getLogger:()=>L,getRawLogHistory:()=>w,isHighRateEnabled:()=>y,loggingOff:()=>N,loggingOn:()=>S,serializeLogHistoryEntry:()=>v,setLogLevel:()=>b});const r="undefined"!=typeof window?window:{};let s=!1;try{localStorage.getItem(""),s=!0}catch(e){}var i;!function(e){e[e.ERROR=1]="ERROR",e[e.WARNING=2]="WARNING",e[e.INFO=3]="INFO",e[e.NORMAL=4]="NORMAL",e[e.DEBUG=5]="DEBUG"}(i||(i={}));let o=0;const a="tv.logger.loglevel",l="tv.logger.logHighRate",u=[];let c=null,h=null,d=null,g=NaN,f=i.WARNING,p=!1;function m(){return f}function y(){return p}function b(e){e=Math.max(i.ERROR,Math.min(i.DEBUG,e)),f=e,R()}function w(e,t){let n=u.reduce(((e,t)=>e.concat(t)),[]);return n.sort(((e,t)=>e.id-t.id)),void 0!==t&&(n=n.filter((e=>e.subSystemId===t))),"number"==typeof e&&(n=n.slice(-e)),n}function v(e){return new Date(e.timestamp).toISOString()+":"+e.subSystemId+":"+e.message.replace(/"/g,"'")}const _=r.lget=(e,t)=>function(e,t){let n,r=0,s=0;for(n=e.length-1;n>=1&&(r+=8*(1+encodeURIComponent(e[n]).length),!(n-1>0&&(s=8*(1+encodeURIComponent(e[n-1]).length),r+s>t)));n--);return e.slice(n)}(w(e,t).map(v),75497472);function E(e,t,n,r){if(t===h&&r.id===d)return;const s=new Date;if(e<=i.NORMAL&&function(e,t,n,r,s){"function"==typeof structuredClone&&(t=structuredClone(t));const i={id:o,message:t,subSystemId:r,timestamp:Number(e)};o+=1,n.push(i),void 0!==s&&n.length>s&&n.splice(0,1)}(s,t,n,r.id,r.maxCount),e<=f&&(!r.highRate||y())&&(!c||r.id.match(c))){const n=s.toISOString()+":"+r.id+":"+t;switch(e){case i.DEBUG:console.debug(n);break;case i.INFO:case i.NORMAL:r.color?console.log("%c"+n,"color: "+r.color):console.log(n);break;case i.WARNING:console.warn(n);break;case i.ERROR:console.error(n)}h=t,d=r.id,g&&clearTimeout(g),g=setTimeout((()=>{h=null,d=null,g=NaN}),1e3)}}
function L(e,t={}){const n=[];u.push(n);const r=Object.assign(t,{id:e});function s(e){return t=>E(e,String(t),n,r)}return{logDebug:s(i.DEBUG),logError:s(i.ERROR),logInfo:s(i.INFO),logNormal:s(i.NORMAL),logWarn:s(i.WARNING)}}const k=L("logger"),S=r.lon=(e,t)=>{b(i.DEBUG),k.logNormal("Debug logging enabled"),p=Boolean(e),c=t||null,R()},N=r.loff=()=>{b(i.INFO),k.logInfo("Debug logging disabled")};function R(){try{s&&(localStorage.setItem(l,String(p)),localStorage.setItem(a,String(f)))}catch(e){k.logWarn(`Cannot save logger state (level: ${f}, high-rate: ${p}) to localStorage: ${e.message}`)}}!function(){p=!!s&&"true"===localStorage.getItem(l);let e=parseInt(s&&localStorage.getItem(a)||"");Number.isNaN(e)&&(e=i.WARNING),b(e),k.logNormal(`Init with settings - level: ${f}, high-rate: ${p}`)}(),r.performance&&r.performance.now?k.logNormal(`Sync logger and perf times, now is ${r.performance.now()}`):k.logWarn("Perf time is not available")},678515:(e,t,n)=>{function r(e,t){return e<=t}function s(e,t){return e>=t}function i(e,t,n){return Math.min(Math.max(e,t),n)}function o(e){return e<0?-1:e>0?1:0}function a(e){if(e<0)return!1;if(e>1e18)return!0;for(let t=e;t>1;t/=10)if(t%10!=0)return!1;return!0}function l(e,t,n){return t-e<=n}function u(e,t,n){return Math.abs(e-t)<n}function c(e){return e<=0?NaN:Math.log(e)/Math.log(10)}function h(e,t){return e<t?-1:e>t?1:0}function d(e,t=h){if(e.length<1)throw Error("array is empty");let n=e[0];for(let r=0;r<e.length;++r)t(e[r],n)<0&&(n=e[r]);return n}function g(e,t=h){if(e.length<1)throw Error("array is empty");let n=e[0];for(let r=0;r<e.length;++r)t(e[r],n)>0&&(n=e[r]);return n}function f(e){const t=Math.ceil(e);return t%2!=0?t-1:t}function p(e){return e>0?Math.floor(e):Math.ceil(e)}n.r(t),n.d(t,{ceiledEven:()=>f,clamp:()=>i,defComparator:()=>h,equal:()=>u,greaterOrEqual:()=>l,greaterThan:()=>s,isBaseDecimal:()=>a,lessThan:()=>r,log10:()=>c,max:()=>g,min:()=>d,sign:()=>o,toInt:()=>p})},129025:(e,t,n)=>{n.r(t),n.d(t,{WatchedValue:()=>o});var r=n(428123);const s=(0,n(194582).getLogger)("Common.WatchedValue");function i(e){s.logError(`${e&&(e.stack||e.message)}`)}class o{constructor(...e){this._listeners=[],e.length>0&&(this._value=e[0])}destroy(){this.unsubscribe()}value(){return this._owner?this._owner._value:this._value}setValue(e,t){const n=this._owner?this._owner:this;if("function"==typeof n.hook&&(e=n.hook(e)),n.writeLock)return;const r=n._value===e||Number.isNaN(n._value)&&Number.isNaN(e);if(!t&&r&&n.hasOwnProperty("_value"))return;n._value=e;const s=n._listeners.slice();let o=0;for(let t=0;t<s.length;t++){s[t].once&&(n._listeners.splice(t-o,1),o++);try{s[t].cb(e)}catch(e){i(e)}}}deleteValue(){this.setValue(void 0)}subscribe(e,t){if("function"!=typeof e)throw new TypeError("callback must be a function");const n=!!t&&!!t.once,r=!!t&&!!t.callWithLast,s=this._owner?this._owner:this;if(r&&s.hasOwnProperty("_value")){try{e(s._value)}catch(e){i(e)}if(n)return}s._listeners.push({cb:e,owner:this,once:!!t&&!!t.once})}unsubscribe(e){const t=this._owner?this._owner:this;void 0===e&&(e=null)
;const n=t._listeners;for(let r=n.length;r--;)n[r].owner!==this&&t!==this||n[r].cb!==e&&null!==e||n.splice(r,1)}readonly(){if(this._readonlyInstance)return this._readonlyInstance;const e={subscribe:this.subscribe.bind(this),unsubscribe:this.unsubscribe.bind(this),value:this.value.bind(this),when:this.when.bind(this),ownership:this.ownership.bind(this),spawnOwnership:this.spawnOwnership.bind(this),weakReference:this.weakReference.bind(this),spawn:e=>this.spawn(e).readonly(),destroy:this.destroy.bind(this)};return this._readonlyInstance=e,e}spawn(e){return new a(this._owner||this,e)}when(e){!function(e,t,n){if(t(e.value()))return void n();const r=s=>{t(s)&&(e.unsubscribe(r),n())};e.subscribe(r,{callWithLast:!0})}(this,(e=>Boolean(e)),(()=>{try{e(this.value())}catch(e){i(e)}}))}assertNoSubscriptions(){0}ownership(){return(0,r.ownership)(this)}spawnOwnership(){return(0,r.ownership)(this.spawn())}weakReference(){return(0,r.weakReference)(this)}}class a extends o{constructor(e,t){super(),delete this._listeners,this._owner=e,this._onDestroy=t}destroy(){var e;try{null===(e=this._onDestroy)||void 0===e||e.call(this)}catch(e){i(e)}super.destroy()}readonly(){return super.readonly()}}},201089:(e,t,n)=>{n.r(t),n.d(t,{LOGLEVEL:()=>r.LOGLEVEL,getLogHistory:()=>r.getLogHistory,getLogLevel:()=>r.getLogLevel,getLogger:()=>r.getLogger,getRawLogHistory:()=>r.getRawLogHistory,isHighRateEnabled:()=>r.isHighRateEnabled,loggingOff:()=>r.loggingOff,loggingOn:()=>r.loggingOn,serializeLogHistoryEntry:()=>r.serializeLogHistoryEntry,setLogLevel:()=>r.setLogLevel});var r=n(194582)},31341:(e,t,n)=>{n.r(t),n.d(t,{detectAutoDirection:()=>m,forceLTRStr:()=>u,forceLTRStrSsr:()=>c,forceRTLStr:()=>h,getLTRScrollLeft:()=>d,getLTRScrollLeftOffset:()=>g,isRtl:()=>s,startWithLTR:()=>l,stripLTRMarks:()=>a});var r=n(64531);const s=()=>"rtl"===window.document.dir,i="‬",o=new RegExp("‎|‪|‫|‬","g");function a(e){return""!==e&&s()&&null!=e?e.replace(o,""):e}function l(e){return""!==e&&s()&&null!=e?"‎"+e:e}function u(e){return""!==e&&s()&&null!=e?"‪"+e+i:e}function c(e){return"‪"+e+i}function h(e){return""!==e&&s()&&null!=e?"‫"+e+i:e}function d(e){return(0,r.getNormalizedScrollLeft)(e,"rtl")}function g(e,t){const n=(0,r.detectScrollType)();if("indeterminate"===n)return 0;switch(n){case"negative":t=e.clientWidth-e.scrollWidth+t;break;case"reverse":t=e.scrollWidth-e.clientWidth-t}return t}const f=/[^\u0000-\u0040\u005B-\u0060\u007B-\u00BF\u00D7\u00F7\u02B9-\u02FF\u2000-\u200E\u2010-\u2029\u202C\u202F-\u2BFF]/,p=/[\u0590-\u07FF\u200F\u202B\u202E\uFB1D-\uFDFD\uFE70-\uFEFC]/;function m(e){const t=f.exec(e);return t?p.test(t[0])?"rtl":"ltr":""}},777466:(e,t,n)=>{function r(e){e.preventDefault()}n.d(t,{preventDefault:()=>r,preventDefaultForContextMenu:()=>i});const s=["input:not([type])",'input[type="text"]','input[type="email"]','input[type="password"]','input[type="search"]','input[type="number"]','input[type="url"]',"textarea","a[href]",'*[contenteditable="true"]',"[data-allow-context-menu]"];function i(e){const t=e.target
;t&&!t.closest(s.join(", "))&&e.preventDefault()}}}]);