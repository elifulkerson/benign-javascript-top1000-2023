+function(){function t(t,e){var n=new Image;n.src=pic,n.onload=function(){e(t)}}$.fn.videoHover=function(e){return e=e||{},this.each(function(){var n=$(this),i=e.hover||".imgBox";n.on("mouseenter",i,function(){yp.pub("page/livesitem/mouseenter");var e=$(this),n=e.find("img");e.closest("li").addClass("hover"),n.data("gif")&&t(n.data("gif"),function(t){e.closest("li").hasClass("hover")&&n.attr("src",t)})}).on("mouseleave",i,function(){yp.pub("page/livesitem/mouseleave");var t=$(this),e=t.find("img");t.closest("li").removeClass("hover"),e.data("default")&&e.attr("src",e.data("default"))}),n.on("anchorNameCut",function(){n.find(".anchor-to-cut").not(".cuted").each(function(){var t=$(this),e=t.data("cutwidth")||150;e<t.width()&&t.width(e),t.addClass("cuted")})}),n.on("click",".js-jump-link",function(t){yp.pub("page/livesitem/click"),t.preventDefault(),"_blank"==$(this).attr("target")?window.open($(this).attr("href")):window.location.href=$(this).attr("href")})})},$.fn.listAutofix=function(t){return this.each(function(){var e=$(this);if(e.is(":visible")){t=t||0;var n=e.data("width"),i=e.width()-22,a=e.find(">li").eq(0).outerWidth(!0)-e.find(">li").eq(0).width(),o=Math.min(Math.ceil(i/n),5),s=i/o-a,r=e.data("lines");if(r){var c=r*o;e.find(">li").slice(0,c).show(),e.find(">li").slice(c).hide()}else e.find("li").length*n<i&&(s=n-a);e.find(">li").slice(t).each(function(){$(this).width(s);var t=s,e=t/16*9;$(this).find(".name").width(t-20),$(this).find(".imgBox").css({width:t,height:e}),$(this).find("img").not(".img").css({width:t,height:e}),$(this).find(".anchor-to-cut").width(.5*(s-100)),$(this).find(".game-name").width(.5*(s-100))})}})},$.fn.listfix=function(t){return this.each(function(){var e=$(this);if(e.is(":visible")){t=t||0;var n=6;$("body").hasClass("size960")?n=4:$("body").hasClass("size1440")&&(n=5),e.data("num")&&(n=e.data("num"));var i=e.width()/n-(e.find(">li").eq(0).outerWidth(!0)-e.find(">li").eq(0).width());e.find(">li").slice(t).each(function(){$(this).width(i);var t=i,e=t/16*9;$(this).find(".name").width(t-20),$(this).find(".imgBox").css({width:t,height:e}),$(this).find("img").not(".img").css({width:t,height:e}),$(this).find(".anchor-to-cut").width(.5*(i-100)),$(this).find(".game-name").width(.5*(i-100))})}})}}(),define("videoHover",function(){}),$.fn.pagetransitions=function(t){function e(t){clearTimeout(v),v=setTimeout(function(){n(),e(t)},t)}function n(t,e){if(f)return!1;f=!0;var n=s.eq(d);if(void 0!=t){if(d==t)return f=!1,!1;d=t,d>=c&&(d=0),d<=-1&&(d=c-1)}else d<c-1?++d:d=0;r.length&&r.removeClass("active").eq(d).addClass("active");var a=s.eq(d).addClass("pt-page-current"),o="",m="";switch(e||(e=n.index()>a.index()?"leftToRight":"rightToLeft"),l&&(e=n.index()>a.index()?"topToBottom":"bottomToTop"),e){case"rightToLeft":o="pt-page-moveToLeft",m="pt-page-moveFromRight";break;case"leftToRight":o="pt-page-moveToRight",m="pt-page-moveFromLeft";break;case"topToBottom":o="pt-page-moveToBottom",m="pt-page-moveFromTop";break;case"bottomToTop":o="pt-page-moveToTop",m="pt-page-moveFromBottom"}n.addClass(o).on(g,function(){n.off(g),h=!0,u&&i(n,a)}),a.addClass(m).on(g,function(){a.off(g),u=!0,h&&i(n,a)}),p||i(n,a)}function i(e,n){h=!1,u=!1,a(e,n),f=!1,t.onAnimationEnd&&"function"==typeof t.onAnimationEnd&&t.onAnimationEnd()}function a(t,e){t.attr("class",t.data("originalClassList")),e.attr("class",e.data("originalClassList")+" pt-page-current")}var o=$(this),s=o.find(".pt-page"),r=o.find(".pt-page-nav"),c=s.length,d=0,f=!1,l=!1,h=!1,u=!1,m={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},g=m[Modernizr.prefixed("animation")],p=Modernizr.cssanimations,v=0;!function(){t.isChildren&&(s=o.children(".pt-page"),r=o.children(".pt-page-nav-area").find(".pt-page-nav")),s.each(function(){var t=$(this);t.data("originalClassList",t.attr("class"))}),s.eq(d).addClass("pt-page-current");var i=r.length;if(i){if(r.eq(d).addClass("active"),o.find(".pt-page-nav-area").show(),t.setWidth){var a=15*i+18,c=-a/2;t.noActiveWidth&&(a-=18),o.find(".pt-page-nav-area").css({width:a,marginLeft:c})}r.on("click",function(t){t.preventDefault(),$(this).hasClass("active")||n($(this).index())})}t.auto&&(t.time=t.time||3e3,e(t.time),o.on("mouseenter",function(){clearTimeout(v)}).on("mouseleave",function(){e(t.time)})),t.animationTopToDown&&(l=!0),t.bNextPre&&o.on("click",".js-next-pre",function(t){t.preventDefault(),$(this).hasClass("next")?n():n(d-1,"leftToRight")})}()},define("jquery.pagetransitions",function(){}),function(t,e,n,i){var a=t(e);t.fn.lazyload=function(o){function s(){var e=0;c.each(function(){var n=t(this);if(!d.skip_invisible||n.is(":visible"))if(t.abovethetop(this,d)||t.leftofbegin(this,d));else if(t.belowthefold(this,d)||t.rightoffold(this,d)){if(++e>d.failure_limit)return!1}else n.trigger("appear"),e=0})}var r,c=this,d={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return o&&(i!==o.failurelimit&&(o.failure_limit=o.failurelimit,delete o.failurelimit),i!==o.effectspeed&&(o.effect_speed=o.effectspeed,delete o.effectspeed),t.extend(d,o)),r=d.container===i||d.container===e?a:t(d.container),0===d.event.indexOf("scroll")&&r.bind(d.event,function(){return s()}),this.each(function(){var e=this,n=t(e);e.loaded=!1,(n.attr("src")===i||!1===n.attr("src"))&&n.is("img")&&n.attr("src",d.placeholder),n.one("appear",function(){if(!this.loaded){if(d.appear){var i=c.length;d.appear.call(e,i,d)}t("<img />").bind("load",function(){var i=n.attr("data-"+d.data_attribute);n.hide(),n.is("img")?n.attr("src",i):n.css("background-image","url('"+i+"')"),n[d.effect](d.effect_speed),e.loaded=!0;var a=t.grep(c,function(t){return!t.loaded});if(c=t(a),d.load){var o=c.length;d.load.call(e,o,d)}}).attr("src",n.attr("data-"+d.data_attribute))}}),0!==d.event.indexOf("scroll")&&n.bind(d.event,function(){e.loaded||n.trigger("appear")})}),a.bind("resize",function(){s()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&a.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&c.each(function(){t(this).trigger("appear")})}),t(n).ready(function(){s()}),this},t.belowthefold=function(n,o){return(o.container===i||o.container===e?(e.innerHeight?e.innerHeight:a.height())+a.scrollTop():t(o.container).offset().top+t(o.container).height())<=t(n).offset().top-o.threshold},t.rightoffold=function(n,o){return(o.container===i||o.container===e?a.width()+a.scrollLeft():t(o.container).offset().left+t(o.container).width())<=t(n).offset().left-o.threshold},t.abovethetop=function(n,o){return(o.container===i||o.container===e?a.scrollTop():t(o.container).offset().top)>=t(n).offset().top+o.threshold+t(n).height()},t.leftofbegin=function(n,o){return(o.container===i||o.container===e?a.scrollLeft():t(o.container).offset().left)>=t(n).offset().left+o.threshold+t(n).width()},t.inviewport=function(e,n){return!(t.rightoffold(e,n)||t.leftofbegin(e,n)||t.belowthefold(e,n)||t.abovethetop(e,n))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),define("lazyload",function(){}),yp.use("videoHover, jquery.pagetransitions, lazyload",function(){yp.ready(function(){var t=["","lock-icon","charge-icon"],e={$win:$(window),$body:$("body"),$flash_panel:$(".index-page .banner .left-area"),$curPage:$("#js-index__page"),$matchAction:$("#js-match-enter-list"),$jsFlashPanel:$(".js-flash-panel"),$tollBar:$(".js-up-area")},n={pagination:{curIndex:1,curPageInfo:[],totalPage:1,pageTotal:6},rankData:{rankSelects:["上周","本周","上月","本月"],week:[],month:[]},curHotLiveRoom:[],webpSupported:window.oPageConfig.webpSupported,scrollFlag:[{className:"#information",flag:!0,fn:function(){this.fetchGameInformationData()}},{className:"#active",flag:!0,fn:function(){this.fetchActiveData()}},{className:"#recommend",flag:!0,fn:function(){this.fetchLiveTypeData()}},{className:"#hotMatch",flag:!0,fn:function(){this.fetchHotMatchData()}},{className:"#hotVideo",flag:!0,fn:function(){this.fetchHotVideo()}}]},i={liveroomlist:{url:"/api/static/v2.2/index/liveroomlist.json",type:"get"},gameswithnews:{url:"/api/static/v2.2/index/gameswithnews.json",type:"get"},activewithrookie:{url:"/api/static/v2.2/index/activewithrank.json",type:"get"},starlist:{url:"/api/static/v2.2/index/starlist.json",type:"get"},rank:{url:"/api/static/v2.2/index/rank.json",type:"get"},lastrank:{url:"/api/static/v2.2/index/lastrank.json",type:"get"},hot:{url:"/api/static/v2.1/live/index/hot.json",type:"get"},hotMatch:{url:"/api/static/v2.1/match/list/0/hot.json",type:"get"},hotVideo:{url:"/api/static/v2.2/video/choice/quicktop/0.json",type:"get"}},a={init:function(){this.view(),this.listenYpEvent(),this.bindEvent(),this.listenSocket(),this.fSocketLogin(),this.fAboutFlashFullScreen(),this.fetchStaticPic()},view:function(){e.$indexToolBarList=$($("#js-toolbar-list").html()),e.$tollBar.find(".bd").prepend(e.$indexToolBarList),this.renderCarousel()},listenSocket:function(){var t=this;$.topic("msgc/togglesize").sub(function(e){t.fFlashToggleSize(e.esc)}),$.topic("msgc/error").sub(function(e){var n=e.code;10002==n?t.fLoginRoom():59==n&&(t.bNewLogin=!0)}),$.topic("msgc/winsizereq").sub(function(){t.ajax_socket("winsizeack",{wid:$(window).width(),hei:$(window).height()})}),$.topic("msgc/ifdomreq").sub(function(){t.ajax_socket("ifdomack",{dom:window!=window.parent?document.referrer:""})}),$.topic("msgc/login_req").sub(function(t){yp.pub("page/login",{dataStatistics:["_trackEvent","login_source","login_source_flash"]}),mfTongji("flash_login","pc")}),$.topic("msgc/regist_req").sub(function(t){yp.pub("page/regist",{dataStatistics:["_trackEvent","login_source","login_source_flash"]}),mfTongji("flash_regist","pc")})},listenYpEvent:function(){var t=this;yp.sub("page/login/done",function(){t.fSendUserinfo()}),yp.sub("page/regist/done",function(){t.fSendUserinfo()}),yp.sub("page/logout/done",function(){})},bindEvent:function(){var t=this;e.$curPage.on("click",".js-anchor-week",function(){$(this).find(".js-anchor-weekOptions").removeClass("hidden")}).on("click",".js-anchor-month",function(){$(this).find(".js-anchor-monthOptions").removeClass("hidden")}).on("click",".js-anchor-weekOptions >ul>li",function(i){i.stopPropagation();var a=$(this).data("type");e.$curPage.find(".js-week-name").html(n.rankData.rankSelects[a]),e.$curPage.find(".js-month-name").html("月榜"),0===a?t.fetchBeforeData("weekrank"):t.renderRankAnchor({weekrank:n.rankData.week}),$(this).closest(".js-anchor-weekOptions").addClass("hidden"),t.renderSwitchTab($(this).closest(".tab"),1)}).on("click",".js-anchor-monthOptions >ul>li",function(i){i.stopPropagation();var a=$(this).data("type");e.$curPage.find(".js-month-name").html(n.rankData.rankSelects[a]),e.$curPage.find(".js-week-name").html("周榜"),2===a?t.fetchBeforeData("monthrank"):t.renderRankAnchor({monthrank:n.rankData.month}),$(this).closest(".js-anchor-monthOptions").addClass("hidden"),t.renderSwitchTab($(this).closest(".tab"),2)}).on("mouseleave",".js-leave",function(){e.$curPage.find(".rank-select").addClass("hidden")}).on("click",".js-hot-refresh",function(){t.fetchHotLiveList()}).on("click",".js-anchor-tabs > li",function(){0===$(this).index()&&(t.renderSwitchTab($(this),0),e.$curPage.find(".js-week-name").html("周榜"),e.$curPage.find(".js-month-name").html("月榜"))}),e.$indexToolBarList.on("click",function(){var t=$(this).data("id");$("html, body").animate({scrollTop:$(t).offset().top-100},300)});var i=this.debounce(function(){yp.each(n.scrollFlag,function(e){var n=$(e.className);if(n.length){var i=$(window).height(),a=$(document).scrollTop(),o=n.offset().top,s=n.height();o<a+i&&o+s>a&&(e.flag&&e.fn.call(t,null),e.flag=!1)}})},250);i(),$(window).scroll(function(){i()}).on("resize",function(){i()}),t.fVideoChange()},fSocketLogin:function(){var t=this;$.when(flashReadyDtd).done(function(){t.fSendUserinfo(),t.ajax_socket("viewerInfo",{data:window.oPageConfig.oViewer}),t.fLoginRoom()})},fLoginRoom:function(){this.ajax_socket("loginreq",{roomid:window.oPageConfig.oRoom.flashvars.RoomId,uid:window.oPageConfig.oViewer.uid,gid:window.oPageConfig.oViewer.gid,sid:window.oPageConfig.oViewer.sid,timestamp:window.oPageConfig.oViewer.timestamp,nickname:window.oPageConfig.oViewer.nickname||"",t:0,isfp:1,hideslv:1})},videoIndex:window.videoIndex||0,fVideoChange:function(){var t=$(".videoList");t.on("click",".item",function(e){mfTongji("homepage_carousel","pc"),e.preventDefault();var n=$(this),i=n.data("index")-1,o=window.oPageConfig.aVideos[i].flashvars;if(hmtTongJi("siteBanner","index_recommend",i),i==a.videoIndex)return!1;a.videoIndex=i,window.oPageConfig.oRoom=window.oPageConfig.aVideos[i],o.SelfRoom=window.oPageConfig.oViewer&&window.oPageConfig.oViewer.uid==window.oPageConfig.oRoom.uid?1:0,o.UID=window.oPageConfig.oLoginInfo?window.oPageConfig.oLoginInfo.uid:0,a.ajax_socket("connvideo",o),t.find(".active").removeClass("active"),t.find('.item[data-index="'+(+a.videoIndex+1)+'"]').addClass("active")}).find(".item").hover(function(){$(this).addClass("hover")},function(){$(this).removeClass("hover")})},ajax_socket:function(t,e){return e=e||{},yp.ajax(t,{type:"socket",data:e})},fFlashToggleSize:function(t){t||e.$body.hasClass("maxScreen")?(e.$body.removeClass("maxScreen"),e.$js_flash_panel.css({height:"",width:""}),$(window).off("resize.flashToggle")):(e.$body.addClass("maxScreen"),e.$js_flash_panel.css({height:$(window).height(),width:$(window).width()}),$(window).on("resize.flashToggle",function(){e.$js_flash_panel.css({height:$(window).height(),width:$(window).width()})}))},fSendUserinfo:function(){var t=this,e={uid:window.oPageConfig.oLoginInfo?window.oPageConfig.oLoginInfo.uid:0,bindEmail:window.oPageConfig.oLoginInfo?window.oPageConfig.oLoginInfo.bindEmail:"",bindMobile:window.oPageConfig.oLoginInfo?window.oPageConfig.oLoginInfo.bindMobile:""};t.ajax_socket("userinfo",e)},fStarScroll:function(t,e){var n=this,i=($("#js-star-list-panel"),$(e));$(t).on("click",function(t){t.preventDefault();var e,a=n.fGetMarginLeft(i);if(i.is(":animated"))return!1;var o=i.data("itemWidth"),s=i.data("listWidth")-12*o,r=0-s-6*o;e=$(this).hasClass("js-prev")?a+6*o:a-6*o,$(this).hasClass("js-prev")&&e>0?(i.css({marginLeft:a-s}),e-=s):r>e&&!$(this).hasClass("js-prev")&&(i.css({marginLeft:a+s}),e+=s),i.animate({marginLeft:e},500)})},fGetMarginLeft:function(t){return parseInt(t.css("marginLeft"))},fSetScrollListData:function(t,e){e=e||0;var n,i=t.find(".js-list-item"),a=t.find(".js-list-item").eq(0).outerWidth(!0),o=i.slice(-6).clone(),s=i.slice(0,6).clone(),r=i.length+12,c=0-6*a+e;t.prepend(o).append(s),n=a*r,t.css({width:n,marginLeft:c}).data("itemWidth",a).data("listWidth",n)},fAboutFlashFullScreen:function(){var t=this;supportFullScreen()&&($.topic("msgc/fullScreen").sub(function(e){t.fFlashFullScreen(!0)}),$.topic("msgc/unFullScreen").sub(function(e){t.fFlashFullScreen(!1)}),$.topic("msgc/toggleScreen").sub(function(e){switch(e.type){case 0:t.fFlashFullScreen(!1);break;case 1:t.fFlashFullScreen(!0)}}),onFullScreenEvent(function(n){n||(e.$body.removeClass("maxScreen"),t.ajax_socket("toggleScreen",{type:0,bEsc:!0}))}))},fFlashFullScreen:function(t){var n=fullScreenStatus();n&&!t?cancelFullScreen(e.$flash_panel[0]):!n&&t&&(e.$body.addClass("maxScreen"),requestFullScreen(e.$flash_panel[0]))},fetchMatchData:function(){function t(){var t=e.storage.getItem("indexMatchData");e.renderMatchList(t)}var e=this;this.fetch(i.matchlist).then(function(n){0===n.code?(e.renderMatchList(n.data),e.storage.setItem("indexMatchData",n.data)):t()},function(){t()})},fetchActiveData:function(){function t(t){t&&(e.$curPage.find(".js-activity-loading").addClass("hidden"),e.$curPage.find(".exciting-activity-area").removeClass("hidden"),o.renderActiveTransitions(t.active),o.renderNewList(t.active.lists))}function n(){t(o.storage.getItem("indexActiveData"))}var a,o=this;this.fetch(i.activewithrookie).then(function(e){0===e.code?(a=e.data,t(a),o.storage.setItem("indexActiveData",a)):n()},function(){n()})},fetchGameInformationData:function(){function t(t){if(t){if(e.$curPage.find(".js-games-loading").addClass("hidden"),e.$curPage.find(".exciting-game-area").removeClass("hidden"),e.$curPage.find(".zq-information-area").removeClass("hidden"),a=t.gameList,o=t.adsList,t.newsList.push(t.videoList[0]),o.length>0){var n=o[0].cntUrl||o[0].url;a.length>=10?(a[a.length-1].spic=r.webpSupportedImg(o[0].pic),a[a.length-1].url=n):a.push({spic:r.webpSupportedImg(o[0].pic),url:n})}r.renderGameInformation(a),r.renderZqInformationList(t.newsList)}}function n(){t(r.storage.getItem("indexInformationData"))}var a,o,s,r=this;r.fetch(i.gameswithnews).then(function(e){0===e.code?(s=e.data,t(s),r.storage.setItem("indexInformationData",s)):n()},function(){n()})},fetchStarsWallData:function(){function t(){var t=e.storage.getItem("indexStarsWallData");e.storage.setItem("indexStarsWallData",t)}var e=this;this.fetch(i.starlist).then(function(n){0===n.code?(e.renderStarsWallList(n.data),e.storage.setItem("indexStarsWallData",n.data)):t()},function(){t()})},fetchLiveTypeData:function(){function t(t){t&&(e.$curPage.find(".js-type-loading").addClass("hidden"),t.hot&&(t.hot.curType="hot",t.common.unshift(t.hot),o.getCurHotLiveRoomId(t.hot.roomList)),o.renderLiveType(t.common))}function n(){t(o.storage.getItem("indexLiveTypeData"))}var a,o=this;this.fetch(i.liveroomlist).then(function(e){0===e.code?(a=e.data,t(a),o.storage.setItem("indexLiveTypeData",a)):n()},function(){n()})},fetchRankGuardData:function(){function t(t){t&&(o.renderRankAnchor(t.bean),o.renderRankBoss(t.consume),n.rankData.week=t.bean.weekrank,n.rankData.month=t.bean.monthrank)}function e(){t(o.storage.getItem("indexRankGuardData"))}var a,o=this;mfTongji("homepage_ranklist","pc"),this.fetch(i.rank).then(function(n){0===n.code?(a=n.data,t(a),o.storage.setItem("indexRankGuardData",a)):e()},function(){e()})},fetchBeforeData:function(t){function e(e){e&&("weekrank"===t?o.renderRankAnchor({weekrank:e.week}):"monthrank"===t&&o.renderRankAnchor({monthrank:e.month}))}function n(){e(o.storage.getItem("indexRankBeforeData"))}var a,o=this;this.fetch(i.lastrank).then(function(t){0===t.code?(a=t.data,e(a),o.storage.setItem("indexRankBeforeData",a)):n()},function(){n()})},fetchHotLiveList:function(){var t=this,e=[],a={roomIds:n.curHotLiveRoom.join(",")};this.fetch(i.hot,a).then(function(n){0===n.code&&(t.getCurHotLiveRoomId(n.data),e.push({roomList:n.data}),t.renderLiveListContent(e,"batch"))})},fetchHotMatchData:function(){function t(){var t=e.storage.getItem("indexHotMatchData");e.renderHotMatch(t)}var e=this;this.fetch(i.hotMatch).then(function(n){0===n.code?(e.storage.setItem("indexHotMatchData",n.data),e.renderHotMatch(n.data)):t()},function(){t()})},fetchHotVideo:function(){function t(){var t=e.storage.getItem("indexHotVideoData");e.renderHotVideo(t)}var e=this;this.fetch(i.hotVideo).then(function(n){if(0===n.code){var i=n.data.videos||[];e.storage.setItem("indexHotVideoData",i),e.renderHotVideo(i)}else t()},function(){t()})},renderMatchList:function(t){function n(t){var e=new Date(1e3*parseInt(t)),n=e.getMonth()+1,a=e.getDate(),o=e.getHours(),s=e.getMinutes();return i(n)+"月"+i(a)+"日 "+i(o)+" : "+i(s)}function i(t){return parseInt(t)>9?t:"0"+t}if(t){var a=this;this.renderTemplate({name:"#js-match__list",parent:e.$matchAction,data:t,cb:function(){a.renderCarousel(t&&t.length)},init:function(t,e){t.spic=a.webpSupportedImg(t.spic);var i=4===parseInt(t.realStatus);1==+t.extraStatus&&i?t.remark=a.calcHotPersonNum(t.online)+"人观看直播":-1==+t.extraStatus&&i&&(t.remark=a.calcHotPersonNum(t.online)+"人观看重播"),i&&(t.livingStatus="living"),t.matchTime>0&&(t.teamLeftLogo=t.leftTeam.teamLogo,t.teamrightLogo=t.rightTeam.teamLogo,t.time=n(t.matchTime),t.hoverName="hover")}})}},renderCarousel:function(){this.fSetScrollListData($("#js-match-enter-list"),6),this.fStarScroll(".js-match-list-arrow","#js-match-enter-list")},renderActiveTransitions:function(t){if(t){var n,i,a,o,s,r,c=this,d={left:t.left,rightTop:t.rightTop,rightDown:t.rightDown},f=0,l=!1,h=e.$curPage.find(".js-main__title");h.attr("href",t.lists[0].url),h.attr("title",t.lists[0].title),h.find("p").text(t.lists[0].title),""!==t.lists[0].spic&&h.find("img").attr("src",t.lists[0].spic);for(r in d)o="",s="",f++,i=e.$curPage.find("#adPic-"+r),a=e.$curPage.find("#adBtn-"+r),n=e.$curPage.find("#roll_wrap-"+r),yp.each(d[r],function(t,e){t.curIndex=e,t.spic=c.webpSupportedImg(t.spic),o+=yp.format('  <a href="${url}" target="_blank" class="pt-page" onclick="mfTongji(\'homepage_wonderfulactivity_pic\', \'pc\')"> <img src="${spic}" class="img-wh"> <i class="sub-mask"></i> </a>',t),s+=yp.format('<a href="javascript:;" class="js-roll-btn  pt-page-nav"><span>${curIndex}</span>></a>',t)}),d[r].length>1?(l=!0,a.html(s).removeClass("hidden")):l=!1,i.html(o),n.pagetransitions({auto:l,time:4e3-500*f,setWidth:!1,noActiveWidth:!0})}},renderNewList:function(t){if(t){var n=e.$curPage.find(".js-active__news"),i=t.slice(1,4);i.forEach(function(t){t.dateline=t.editTime.slice(5)}),this.renderTemplate({name:"#js-activeNews-list",parent:n,data:i})}},renderGameInformation:function(t){if(t){var n=this,i=e.$curPage.find(".js-games-information");this.renderTemplate({name:"#js-gameInfomation-list",parent:i,data:t,init:function(t,e){t.spic=n.webpSupportedImg(t.spic)}})}},renderZqInformationList:function(n){if(n){var i=this;n=n.splice(0,3);var a=e.$curPage.find(".js-zqInformation-list");this.renderTemplate({name:"#js-zqInfomation-list",parent:a,data:n,init:function(e,n){e.lockStyle="display:none;",e.lockClass="",n<2?(e.url=fGetInformationHref(e),e.view="浏览数 "+e.view,e.pic=i.webpSupportedImg(e.pic)):(e.pic=i.webpSupportedImg(e.spic),e.view="播放量 "+e.playCnt,e.comment=e.commentCnt,e.marks="explosion",0!=e.lockStatus&&(e.lockStyle="",e.lockClass=t[+e.lockStatus]))}}),$.pub("mods/ready/lazyload")}},renderStarsWallList:function(t){if(t){var n=this,i=e.$curPage.find(".js-stars-wall");this.renderTemplate({name:"#js-stars-wall",parent:i,data:t,init:function(t,e){t.image=fPicWebpSuffix(t.image),4===parseInt(t.status)&&(t.className="on-live")},cb:function(){t&&t.length>6&&($(".js-star-list-arrow").show(),n.fSetScrollListData($("#js-star-list")),n.fStarScroll(".js-star-list-arrow","#js-star-list"))}})}},renderLiveType:function(t){if(t){var n,i=e.$curPage.find(".js-live-type"),a=[];yp.each(t,function(t){"hot"===t.curType?t.hiddenName="js-hot-refresh":t.hiddenName="hidden",t.roomList&&t.roomList.length>=5&&(t.roomList.length%5!=0&&(n=t.roomList.length-t.roomList.length%5,t.roomList=t.roomList.slice(0,n)),a.push(t))}),this.renderTemplate({name:"#js-live-type",parent:i,data:a}),this.renderLiveListContent(a)}},renderLiveListContent:function(t,n){if(t){var i,a=e.$curPage.find(".js-live-content"),o=this;yp.each(t,function(s,r){if("batch"===n)var c=$(a[r]);o.renderTemplate({name:"#js-live-item",parent:$(a[r]),data:s.roomList,init:function(t,e){t.online=o.calcHotPersonNum(t.online),t.spic=fPicWebpSuffix(t.spic),1===parseInt(t.gender)?t.genderName="sex-woman":t.genderName="sex-man"},cb:function(){if("batch"===n){var e=t[0].roomList;yp.each(e,function(t,e){$(c.find(".js-lazy")[e]).attr("src",t.spic)})}}}),i=e.$curPage.find(".js-live-gameType"),o.renderTemplate({name:"#js-live-gameType",parent:$(i[r]),data:s.gameList||[]})}),n||$.pub("mods/ready/lazyload")}},renderRankAnchor:function(t){if(t){var n,i;for(n in t)if(t[n].length){e.$curPage.find(".js-anchor-empty-"+n).hide(),i=e.$curPage.find(".js-anchor-"+n);var a=t[n].slice(0,4);this.renderTemplate({name:"#js-rank-anchor",parent:i,data:a,init:function(t,e){t.firstStatus="hidden",0===e?(t.indexName="first",t.firstStatus=""):1===e?t.indexName="second":2===e&&(t.indexName="third"),4===parseInt(t.status)&&(t.liveStatus="on-live"),t.curUpIcon=1===parseInt(t.up)?"up":-1===parseInt(t.up)?"down":"",t.curIndex=e+1}})}else e.$curPage.find(".js-anchor-empty-"+n).show()}},renderRankBoss:function(t){if(t){var n,i;for(n in t)if(t[n].length){e.$curPage.find(".js-boss-empty-"+n).hide(),i=e.$curPage.find(".js-boss-"+n);var a=t[n].slice(0,4);this.renderTemplate({name:"sevenlevel"===n?"#js-rank-boss-seven":"#js-rank-boss",parent:i,data:a,init:function(t,e){t.midtop="mid-top",0===e?(t.topHtml=yp.format(' <div class="img-box"> <i class="img-bg"></i> <img src="${avatar}-medium" alt="" class="img-wh"> <div class="all-level ${iconClass}"></div> </div>',t),t.indexName="first",t.midtop=""):1===e?t.indexName="second":2===e&&(t.indexName="third"),"sevenlevel"!==n&&(t.diffState="hidden"),t.rankIndex=e+1,t.curUpIcon=1===parseInt(t.up)?"up":-1===parseInt(t.up)?"down":""}})}else e.$curPage.find(".js-boss-empty-"+n).show()}},renderHotMatch:function(t){var e=["","报名准备","正在报名","确认对阵"," 正在比赛","比赛结束"],n=["","个人","战队"];t&&this.renderTemplate({name:"#js-hotMatch-tmpl",parent:$("#js-hotMatch-wrap"),data:t,init:function(t,i){t.eventScheduleText=e[t.eventSchedule],t.typeText=n[t.type],t.statusClass=5===t.eventSchedule?"match-over":"",t.visibleClass=3===t.applyStatus?"":"hidden"}})},renderHotVideo:function(e){var n=this,i=[];if(e&&e.length&&(e.length>10?i=e.slice(0,10):e.length>5&&(i=e.slice(0,5))),!i||!i.length)return void $("#hotVideo").html();this.renderTemplate({name:"#js-hotvideo-tmpl",parent:$("#js-hotvideo-wrap"),data:i,init:function(e,i){1e6<e.playCnt?e.playCntTxt=Math.round(e.playCnt/1e4)+"万":1e4<e.playCnt?e.playCntTxt=Math.round(e.playCnt/1e3)/10+"万":e.playCntTxt=e.playCnt,e.personPage=e.uid?"/profile/"+e.uid:"javascript:;",e.durationTxt=n.fFormatDuration(+e.duration||0),e.lockClass=t[+e.lockStatus],e.lockStyle=0==e.lockStatus?"display:none;":""}})},fFormatDuration:function(t){var e=this,n=t%60,i=Math.floor(t/60),a=i%60,o=Math.floor(i/60);return 0<o?e.fFormatNum(o)+":"+e.fFormatNum(a)+":"+e.fFormatNum(n):e.fFormatNum(a)+":"+e.fFormatNum(n)},fFormatNum:function(t){return 9<t?t:"0"+t},debounce:function(t,e,n){var i;return function(){var a=this,o=arguments,s=function(){i=null,n||t.apply(a,o)},r=n&&!i;clearTimeout(i),i=setTimeout(s,e),r&&t.apply(a,o)}},storage:function(){var t=window.localStorage;return t?{setItem:function(e,n){t.setItem(e,JSON.stringify(n))},getItem:function(e){var n=t.getItem(e)||null;return JSON.parse(n)}}:{setItem:function(){},getItem:function(){return null}}}(),webpSupportedImg:function(t){return t},renderSwitchTab:function(t,n){e.$curPage.find(".js-anchor-tabs > li").removeClass("active"),e.$curPage.find(".js-anchor-tabc").addClass("hidden").removeClass("active"),t.addClass("active"),e.$curPage.find(".js-anchor-tabc").eq(n).removeClass("hidden").addClass("active")},getCurHotLiveRoomId:function(t){n.curHotLiveRoom=[],yp.each(t,function(t){n.curHotLiveRoom.push(t.id)})},calcHotPersonNum:function(t){return+t>1e6?(+t/1e4).toFixed(0)+"万":+t>1e4?(+t/1e4).toFixed(1)+"万":t},renderTemplate:function(t){var e=$(t.name).html(),n="";yp.each(t.data,function(i,a){t.init&&t.init(i,a),n+=yp.format(e,i)}),t.parent.html(n),t.cb&&t.cb()},fetch:function(t,n,i){i=i||e.$curPage,i.data("ajaxing",!0);var a=t.type||"get";return n=n||{},yp.ajax({type:a,noCache:!0,url:t.url,data:n}).always(function(){i.data("ajaxing",!1)})},fetchStaticPic:function(){var t=oPageConfig.oUrl.sUrlBase+"images/index/newAnchor-image.jpg";try{yp.ajax("/api/static/v2.1/active/getpic/103.json",{noCache:!0}).done(function(e){if(0==e.code&&e.data.length>0){var n=e.data[0];n.pic&&(t=n.pic)}$(".js-newAnchor-image").html('<img src="'+t+'" />')}).fail(function(){$(".js-newAnchor-image").html('<img src="'+t+'" />')})}catch(e){$(".js-newAnchor-image").html('<img src="'+t+'" />')}}};a.init()})},!0),define("j/web4.0/index_v3",function(){});