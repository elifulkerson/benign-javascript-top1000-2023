/*!
 * Glide.js v3.6.0
 * (c) 2013-2022 Jędrzej Chałubek (https://github.com/jedrzejchalubek/)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Glide=t()}(this,(function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=c(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}}).apply(this,arguments)}var u={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perSwipe:"",touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",waitForTransition:!0,throttle:10,direction:"ltr",peek:0,cloningRatio:1,breakpoints:{},classes:{swipeable:"glide--swipeable",dragging:"glide--dragging",direction:{ltr:"glide--ltr",rtl:"glide--rtl"},type:{slider:"glide--slider",carousel:"glide--carousel"},slide:{clone:"glide__slide--clone",active:"glide__slide--active"},arrow:{disabled:"glide__arrow--disabled"},nav:{active:"glide__bullet--active"}}};function d(e){console.error("[Glide warn]: ".concat(e))}function h(e){return parseInt(e)}function f(e){return"string"==typeof e}function p(t){var n=e(t);return"function"===n||"object"===n&&!!t}function m(e){return"function"==typeof e}function g(e){return void 0===e}function v(e){return e.constructor===Array}function y(e,t,n){var i={};for(var r in t)m(t[r])?i[r]=t[r](e,i,n):d("Extension must be a function");for(var a in i)m(i[a].mount)&&i[a].mount();return i}function b(e,t,n){Object.defineProperty(e,t,n)}function w(e,t){var n=Object.assign({},e,t);return t.hasOwnProperty("classes")&&(n.classes=Object.assign({},e.classes,t.classes),t.classes.hasOwnProperty("direction")&&(n.classes.direction=Object.assign({},e.classes.direction,t.classes.direction)),t.classes.hasOwnProperty("type")&&(n.classes.type=Object.assign({},e.classes.type,t.classes.type)),t.classes.hasOwnProperty("slide")&&(n.classes.slide=Object.assign({},e.classes.slide,t.classes.slide)),t.classes.hasOwnProperty("arrow")&&(n.classes.arrow=Object.assign({},e.classes.arrow,t.classes.arrow)),t.classes.hasOwnProperty("nav")&&(n.classes.nav=Object.assign({},e.classes.nav,t.classes.nav))),t.hasOwnProperty("breakpoints")&&(n.breakpoints=Object.assign({},e.breakpoints,t.breakpoints)),n}var x=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.events=n,this.hop=n.hasOwnProperty}return i(e,[{key:"on",value:function(e,t){if(!v(e)){this.hop.call(this.events,e)||(this.events[e]=[]);var n=this.events[e].push(t)-1;return{remove:function(){delete this.events[e][n]}}}for(var i=0;i<e.length;i++)this.on(e[i],t)}},{key:"emit",value:function(e,t){if(v(e))for(var n=0;n<e.length;n++)this.emit(e[n],t);else this.hop.call(this.events,e)&&this.events[e].forEach((function(e){e(t||{})}))}}]),e}(),k=function(){function e(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t(this,e),this._c={},this._t=[],this._e=new x,this.disabled=!1,this.selector=n,this.settings=w(u,i),this.index=this.settings.startAt}return i(e,[{key:"mount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._e.emit("mount.before"),p(e)?this._c=y(this,e,this._e):d("You need to provide a object on `mount()`"),this._e.emit("mount.after"),this}},{key:"mutate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return v(e)?this._t=e:d("You need to provide a array on `mutate()`"),this}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.settings=w(this.settings,e),e.hasOwnProperty("startAt")&&(this.index=e.startAt),this._e.emit("update"),this}},{key:"go",value:function(e){return this._c.Run.make(e),this}},{key:"move",value:function(e){return this._c.Transition.disable(),this._c.Move.make(e),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e&&(this.settings.autoplay=e),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(e,t){return this._e.on(e,t),this}},{key:"isType",value:function(e){return this.settings.type===e}},{key:"settings",get:function(){return this._o},set:function(e){p(e)?this._o=e:d("Options must be an `object` instance.")}},{key:"index",get:function(){return this._i},set:function(e){this._i=h(e)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(e){this._d=!!e}}]),e}();function S(){return(new Date).getTime()}function M(e,t,n){var i,r,a,o,s=0;n||(n={});var c=function(){s=!1===n.leading?0:S(),i=null,o=e.apply(r,a),i||(r=a=null)},l=function(){var l=S();s||!1!==n.leading||(s=l);var u=t-(l-s);return r=this,a=arguments,u<=0||u>t?(i&&(clearTimeout(i),i=null),s=l,o=e.apply(r,a),i||(r=a=null)):i||!1===n.trailing||(i=setTimeout(c,u)),o};return l.cancel=function(){clearTimeout(i),s=0,i=r=a=null},l}var C={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]};function _(e){if(e&&e.parentNode){for(var t=e.parentNode.firstChild,n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}return[]}function T(e){return!!(e&&e instanceof window.HTMLElement)}function L(e){return Array.prototype.slice.call(e)}var E='[data-glide-el="track"]',I=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(this,e),this.listeners=n}return i(e,[{key:"on",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];f(e)&&(e=[e]);for(var r=0;r<e.length;r++)this.listeners[e[r]]=n,t.addEventListener(e[r],this.listeners[e[r]],i)}},{key:"off",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];f(e)&&(e=[e]);for(var i=0;i<e.length;i++)t.removeEventListener(e[i],this.listeners[e[i]],n)}},{key:"destroy",value:function(){delete this.listeners}}]),e}(),A=["ltr","rtl"],D={">":"<","<":">","=":"="};function W(e,t){return{modify:function(e){return t.Direction.is("rtl")?-e:e}}}function P(e,t){return{modify:function(e){var n=Math.floor(e/t.Sizes.slideWidth);return e+t.Gaps.value*n}}}function j(e,t){return{modify:function(e){return e+t.Clones.grow/2}}}function q(e,t){return{modify:function(n){if(e.settings.focusAt>=0){var i=t.Peek.value;return p(i)?n-i.before:n-i}return n}}}function R(e,t){return{modify:function(n){var i=t.Gaps.value,r=t.Sizes.width,a=e.settings.focusAt,o=t.Sizes.slideWidth;return"center"===a?n-(r/2-o/2):n-o*a-i*a}}}var O=!1;try{var N=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("testPassive",null,N),window.removeEventListener("testPassive",null,N)}catch(e){}var H=O,B=["touchstart","mousedown"],F=["touchmove","mousemove"],V=["touchend","touchcancel","mouseup","mouseleave"],U=["mousedown","mousemove","mouseup","mouseleave"],z='[data-glide-el^="controls"]',G="".concat(z,' [data-glide-dir*="<"]'),$="".concat(z,' [data-glide-dir*=">"]');function Y(e){return p(e)?(t=e,Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e[n],e}),{})):(d("Breakpoints option must be an object"),{});var t}var Z={Html:function(e,t,n){var i={mount:function(){this.root=e.selector,this.track=this.root.querySelector(E),this.collectSlides()},collectSlides:function(){this.slides=L(this.wrapper.children).filter((function(t){return!t.classList.contains(e.settings.classes.slide.clone)}))}};return b(i,"root",{get:function(){return i._r},set:function(e){f(e)&&(e=document.querySelector(e)),T(e)?i._r=e:d("Root element must be a existing Html node")}}),b(i,"track",{get:function(){return i._t},set:function(e){T(e)?i._t=e:d("Could not find track element. Please use ".concat(E," attribute."))}}),b(i,"wrapper",{get:function(){return i.track.children[0]}}),n.on("update",(function(){i.collectSlides()})),i},Translate:function(e,t,n){var i={set:function(n){var i=function(e,t,n){var i=[P,j,q,R].concat(e._t,[W]);return{mutate:function(n){for(var r=0;r<i.length;r++){var a=i[r];m(a)&&m(a().modify)?n=a(e,t,void 0).modify(n):d("Transformer should be a function that returns an object with `modify()` method")}return n}}}(e,t).mutate(n),r="translate3d(".concat(-1*i,"px, 0px, 0px)");t.Html.wrapper.style.mozTransform=r,t.Html.wrapper.style.webkitTransform=r,t.Html.wrapper.style.transform=r},remove:function(){t.Html.wrapper.style.transform=""},getStartIndex:function(){var n=t.Sizes.length,i=e.index,r=e.settings.perView;return t.Run.isOffset(">")||t.Run.isOffset("|>")?n+(i-r):(i+r)%n},getTravelDistance:function(){var n=t.Sizes.slideWidth*e.settings.perView;return t.Run.isOffset(">")||t.Run.isOffset("|>")?-1*n:n}};return n.on("move",(function(r){if(!e.isType("carousel")||!t.Run.isOffset())return i.set(r.movement);t.Transition.after((function(){n.emit("translate.jump"),i.set(t.Sizes.slideWidth*e.index)}));var a=t.Sizes.slideWidth*t.Translate.getStartIndex();return i.set(a-t.Translate.getTravelDistance())})),n.on("destroy",(function(){i.remove()})),i},Transition:function(e,t,n){var i=!1,r={compose:function(t){var n=e.settings;return i?"".concat(t," 0ms ").concat(n.animationTimingFunc):"".concat(t," ").concat(this.duration,"ms ").concat(n.animationTimingFunc)},set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";t.Html.wrapper.style.transition=this.compose(e)},remove:function(){t.Html.wrapper.style.transition=""},after:function(e){setTimeout((function(){e()}),this.duration)},enable:function(){i=!1,this.set()},disable:function(){i=!0,this.set()}};return b(r,"duration",{get:function(){var n=e.settings;return e.isType("slider")&&t.Run.offset?n.rewindDuration:n.animationDuration}}),n.on("move",(function(){r.set()})),n.on(["build.before","resize","translate.jump"],(function(){r.disable()})),n.on("run",(function(){r.enable()})),n.on("destroy",(function(){r.remove()})),r},Direction:function(e,t,n){var i={mount:function(){this.value=e.settings.direction},resolve:function(e){var t=e.slice(0,1);return this.is("rtl")?e.split(t).join(D[t]):e},is:function(e){return this.value===e},addClass:function(){t.Html.root.classList.add(e.settings.classes.direction[this.value])},removeClass:function(){t.Html.root.classList.remove(e.settings.classes.direction[this.value])}};return b(i,"value",{get:function(){return i._v},set:function(e){A.indexOf(e)>-1?i._v=e:d("Direction value must be `ltr` or `rtl`")}}),n.on(["destroy","update"],(function(){i.removeClass()})),n.on("update",(function(){i.mount()})),n.on(["build.before","update"],(function(){i.addClass()})),i},Peek:function(e,t,n){var i={mount:function(){this.value=e.settings.peek}};return b(i,"value",{get:function(){return i._v},set:function(e){p(e)?(e.before=h(e.before),e.after=h(e.after)):e=h(e),i._v=e}}),b(i,"reductor",{get:function(){var t=i.value,n=e.settings.perView;return p(t)?t.before/n+t.after/n:2*t/n}}),n.on(["resize","update"],(function(){i.mount()})),i},Sizes:function(e,t,n){var i={setupSlides:function(){for(var e="".concat(this.slideWidth,"px"),n=t.Html.slides,i=0;i<n.length;i++)n[i].style.width=e},setupWrapper:function(){t.Html.wrapper.style.width="".concat(this.wrapperSize,"px")},remove:function(){for(var e=t.Html.slides,n=0;n<e.length;n++)e[n].style.width="";t.Html.wrapper.style.width=""}};return b(i,"length",{get:function(){return t.Html.slides.length}}),b(i,"width",{get:function(){return t.Html.track.offsetWidth}}),b(i,"wrapperSize",{get:function(){return i.slideWidth*i.length+t.Gaps.grow+t.Clones.grow}}),b(i,"slideWidth",{get:function(){return i.width/e.settings.perView-t.Peek.reductor-t.Gaps.reductor}}),n.on(["build.before","resize","update"],(function(){i.setupSlides(),i.setupWrapper()})),n.on("destroy",(function(){i.remove()})),i},Gaps:function(e,t,n){var i={apply:function(e){for(var n=0,i=e.length;n<i;n++){var r=e[n].style,a=t.Direction.value;r[C[a][0]]=0!==n?"".concat(this.value/2,"px"):"",n!==e.length-1?r[C[a][1]]="".concat(this.value/2,"px"):r[C[a][1]]=""}},remove:function(e){for(var t=0,n=e.length;t<n;t++){var i=e[t].style;i.marginLeft="",i.marginRight=""}}};return b(i,"value",{get:function(){return h(e.settings.gap)}}),b(i,"grow",{get:function(){return i.value*t.Sizes.length}}),b(i,"reductor",{get:function(){var t=e.settings.perView;return i.value*(t-1)/t}}),n.on(["build.after","update"],M((function(){i.apply(t.Html.wrapper.children)}),30)),n.on("destroy",(function(){i.remove(t.Html.wrapper.children)})),i},Move:function(e,t,n){var i={mount:function(){this._o=0},make:function(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=i,n.emit("move",{movement:this.value}),t.Transition.after((function(){n.emit("move.after",{movement:e.value})}))}};return b(i,"offset",{get:function(){return i._o},set:function(e){i._o=g(e)?0:h(e)}}),b(i,"translate",{get:function(){return t.Sizes.slideWidth*e.index}}),b(i,"value",{get:function(){var e=this.offset,n=this.translate;return t.Direction.is("rtl")?n+e:n-e}}),n.on(["build.before","run"],(function(){i.make()})),i},Clones:function(e,t,n){var i={mount:function(){this.items=[],e.isType("carousel")&&(this.items=this.collect())},collect:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=t.Html.slides,r=e.settings,a=r.perView,o=r.classes,s=r.cloningRatio;if(0!==i.length)for(var c=+!!e.settings.peek,l=a+c+Math.round(a/2),u=i.slice(0,l).reverse(),d=i.slice(-1*l),h=0;h<Math.max(s,Math.floor(a/i.length));h++){for(var f=0;f<u.length;f++){var p=u[f].cloneNode(!0);p.classList.add(o.slide.clone),n.push(p)}for(var m=0;m<d.length;m++){var g=d[m].cloneNode(!0);g.classList.add(o.slide.clone),n.unshift(g)}}return n},append:function(){for(var e=this.items,n=t.Html,i=n.wrapper,r=n.slides,a=Math.floor(e.length/2),o=e.slice(0,a).reverse(),s=e.slice(-1*a).reverse(),c="".concat(t.Sizes.slideWidth,"px"),l=0;l<s.length;l++)i.appendChild(s[l]);for(var u=0;u<o.length;u++)i.insertBefore(o[u],r[0]);for(var d=0;d<e.length;d++)e[d].style.width=c},remove:function(){for(var e=this.items,n=0;n<e.length;n++)t.Html.wrapper.removeChild(e[n])}};return b(i,"grow",{get:function(){return(t.Sizes.slideWidth+t.Gaps.value)*i.items.length}}),n.on("update",(function(){i.remove(),i.mount(),i.append()})),n.on("build.before",(function(){e.isType("carousel")&&i.append()})),n.on("destroy",(function(){i.remove()})),i},Resize:function(e,t,n){var i=new I,r={mount:function(){this.bind()},bind:function(){i.on("resize",window,M((function(){n.emit("resize")}),e.settings.throttle))},unbind:function(){i.off("resize",window)}};return n.on("destroy",(function(){r.unbind(),i.destroy()})),r},Build:function(e,t,n){var i={mount:function(){n.emit("build.before"),this.typeClass(),this.activeClass(),n.emit("build.after")},typeClass:function(){t.Html.root.classList.add(e.settings.classes.type[e.settings.type])},activeClass:function(){var n=e.settings.classes,i=t.Html.slides[e.index];i&&(i.classList.add(n.slide.active),_(i).forEach((function(e){e.classList.remove(n.slide.active)})))},removeClasses:function(){var n=e.settings.classes,i=n.type,r=n.slide;t.Html.root.classList.remove(i[e.settings.type]),t.Html.slides.forEach((function(e){e.classList.remove(r.active)}))}};return n.on(["destroy","update"],(function(){i.removeClasses()})),n.on(["resize","update"],(function(){i.mount()})),n.on("move.after",(function(){i.activeClass()})),i},Run:function(e,t,n){var i={mount:function(){this._o=!1},make:function(i){var r=this;e.disabled||(!e.settings.waitForTransition||e.disable(),this.move=i,n.emit("run.before",this.move),this.calculate(),n.emit("run",this.move),t.Transition.after((function(){r.isStart()&&n.emit("run.start",r.move),r.isEnd()&&n.emit("run.end",r.move),r.isOffset()&&(r._o=!1,n.emit("run.offset",r.move)),n.emit("run.after",r.move),e.enable()})))},calculate:function(){var t=this.move,n=this.length,r=t.steps,a=t.direction,o=1;if("="===a)return e.settings.bound&&h(r)>n?void(e.index=n):void(e.index=r);if(">"!==a||">"!==r)if("<"!==a||"<"!==r){if("|"===a&&(o=e.settings.perView||1),">"===a||"|"===a&&">"===r){var s=function(t){var n=e.index;return e.isType("carousel")?n+t:n+(t-n%t)}(o);return s>n&&(this._o=!0),void(e.index=function(t,n){var r=i.length;return t<=r?t:e.isType("carousel")?t-(r+1):e.settings.rewind?i.isBound()&&!i.isEnd()?r:0:i.isBound()?r:Math.floor(r/n)*n}(s,o))}if("<"===a||"|"===a&&"<"===r){var c=function(t){var n=e.index;return e.isType("carousel")?n-t:(Math.ceil(n/t)-1)*t}(o);return c<0&&(this._o=!0),void(e.index=function(t,n){var r=i.length;return t>=0?t:e.isType("carousel")?t+(r+1):e.settings.rewind?i.isBound()&&i.isStart()?r:Math.floor(r/n)*n:0}(c,o))}d("Invalid direction pattern [".concat(a).concat(r,"] has been used"))}else e.index=0;else e.index=n},isStart:function(){return e.index<=0},isEnd:function(){return e.index>=this.length},isOffset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return e?!!this._o&&("|>"===e?"|"===this.move.direction&&">"===this.move.steps:"|<"===e?"|"===this.move.direction&&"<"===this.move.steps:this.move.direction===e):this._o},isBound:function(){return e.isType("slider")&&"center"!==e.settings.focusAt&&e.settings.bound}};return b(i,"move",{get:function(){return this._m},set:function(e){var t=e.substr(1);this._m={direction:e.substr(0,1),steps:t?h(t)?h(t):t:0}}}),b(i,"length",{get:function(){var n=e.settings,i=t.Html.slides.length;return this.isBound()?i-1-(h(n.perView)-1)+h(n.focusAt):i-1}}),b(i,"offset",{get:function(){return this._o}}),i},Swipe:function(e,t,n){var i=new I,r=0,a=0,o=0,s=!1,c=!!H&&{passive:!0},l={mount:function(){this.bindSwipeStart()},start:function(t){if(!s&&!e.disabled){this.disable();var i=this.touches(t);r=null,a=h(i.pageX),o=h(i.pageY),this.bindSwipeMove(),this.bindSwipeEnd(),n.emit("swipe.start")}},move:function(i){if(!e.disabled){var s=e.settings,c=s.touchAngle,l=s.touchRatio,u=s.classes,d=this.touches(i),f=h(d.pageX)-a,p=h(d.pageY)-o,m=Math.abs(f<<2),g=Math.abs(p<<2),v=Math.sqrt(m+g),y=Math.sqrt(g);if(!(180*(r=Math.asin(y/v))/Math.PI<c))return!1;i.stopPropagation(),t.Move.make(f*parseFloat(l)),t.Html.root.classList.add(u.dragging),n.emit("swipe.move")}},end:function(i){if(!e.disabled){var o=e.settings,s=o.perSwipe,c=o.touchAngle,l=o.classes,u=this.touches(i),d=this.threshold(i),h=u.pageX-a,f=180*r/Math.PI;this.enable(),h>d&&f<c?t.Run.make(t.Direction.resolve("".concat(s,"<"))):h<-d&&f<c?t.Run.make(t.Direction.resolve("".concat(s,">"))):t.Move.make(),t.Html.root.classList.remove(l.dragging),this.unbindSwipeMove(),this.unbindSwipeEnd(),n.emit("swipe.end")}},bindSwipeStart:function(){var n=this,r=e.settings,a=r.swipeThreshold,o=r.dragThreshold;a&&i.on(B[0],t.Html.wrapper,(function(e){n.start(e)}),c),o&&i.on(B[1],t.Html.wrapper,(function(e){n.start(e)}),c)},unbindSwipeStart:function(){i.off(B[0],t.Html.wrapper,c),i.off(B[1],t.Html.wrapper,c)},bindSwipeMove:function(){var n=this;i.on(F,t.Html.wrapper,M((function(e){n.move(e)}),e.settings.throttle),c)},unbindSwipeMove:function(){i.off(F,t.Html.wrapper,c)},bindSwipeEnd:function(){var e=this;i.on(V,t.Html.wrapper,(function(t){e.end(t)}))},unbindSwipeEnd:function(){i.off(V,t.Html.wrapper)},touches:function(e){return U.indexOf(e.type)>-1?e:e.touches[0]||e.changedTouches[0]},threshold:function(t){var n=e.settings;return U.indexOf(t.type)>-1?n.dragThreshold:n.swipeThreshold},enable:function(){return s=!1,t.Transition.enable(),this},disable:function(){return s=!0,t.Transition.disable(),this}};return n.on("build.after",(function(){t.Html.root.classList.add(e.settings.classes.swipeable)})),n.on("destroy",(function(){l.unbindSwipeStart(),l.unbindSwipeMove(),l.unbindSwipeEnd(),i.destroy()})),l},Images:function(e,t,n){var i=new I,r={mount:function(){this.bind()},bind:function(){i.on("dragstart",t.Html.wrapper,this.dragstart)},unbind:function(){i.off("dragstart",t.Html.wrapper)},dragstart:function(e){e.preventDefault()}};return n.on("destroy",(function(){r.unbind(),i.destroy()})),r},Anchors:function(e,t,n){var i=new I,r=!1,a=!1,o={mount:function(){this._a=t.Html.wrapper.querySelectorAll("a"),this.bind()},bind:function(){i.on("click",t.Html.wrapper,this.click)},unbind:function(){i.off("click",t.Html.wrapper)},click:function(e){a&&(e.stopPropagation(),e.preventDefault())},detach:function(){if(a=!0,!r){for(var e=0;e<this.items.length;e++)this.items[e].draggable=!1;r=!0}return this},attach:function(){if(a=!1,r){for(var e=0;e<this.items.length;e++)this.items[e].draggable=!0;r=!1}return this}};return b(o,"items",{get:function(){return o._a}}),n.on("swipe.move",(function(){o.detach()})),n.on("swipe.end",(function(){t.Transition.after((function(){o.attach()}))})),n.on("destroy",(function(){o.attach(),o.unbind(),i.destroy()})),o},Controls:function(e,t,n){var i=new I,r=!!H&&{passive:!0},a={mount:function(){this._n=t.Html.root.querySelectorAll('[data-glide-el="controls[nav]"]'),this._c=t.Html.root.querySelectorAll(z),this._arrowControls={previous:t.Html.root.querySelectorAll(G),next:t.Html.root.querySelectorAll($)},this.addBindings()},setActive:function(){for(var e=0;e<this._n.length;e++)this.addClass(this._n[e].children)},removeActive:function(){for(var e=0;e<this._n.length;e++)this.removeClass(this._n[e].children)},addClass:function(t){var n=e.settings,i=t[e.index];i&&i&&(i.classList.add(n.classes.nav.active),_(i).forEach((function(e){e.classList.remove(n.classes.nav.active)})))},removeClass:function(t){var n=t[e.index];n&&n.classList.remove(e.settings.classes.nav.active)},setArrowState:function(){if(!e.settings.rewind){var n=a._arrowControls.next,i=a._arrowControls.previous;this.resetArrowState(n,i),0===e.index&&this.disableArrow(i),e.index===t.Run.length&&this.disableArrow(n)}},resetArrowState:function(){for(var t=e.settings,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i.forEach((function(e){L(e).forEach((function(e){e.classList.remove(t.classes.arrow.disabled)}))}))},disableArrow:function(){for(var t=e.settings,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];i.forEach((function(e){L(e).forEach((function(e){e.classList.add(t.classes.arrow.disabled)}))}))},addBindings:function(){for(var e=0;e<this._c.length;e++)this.bind(this._c[e].children)},removeBindings:function(){for(var e=0;e<this._c.length;e++)this.unbind(this._c[e].children)},bind:function(e){for(var t=0;t<e.length;t++)i.on("click",e[t],this.click),i.on("touchstart",e[t],this.click,r)},unbind:function(e){for(var t=0;t<e.length;t++)i.off(["click","touchstart"],e[t])},click:function(e){H||"touchstart"!==e.type||e.preventDefault();var n=e.currentTarget.getAttribute("data-glide-dir");t.Run.make(t.Direction.resolve(n))}};return b(a,"items",{get:function(){return a._c}}),n.on(["mount.after","move.after"],(function(){a.setActive()})),n.on(["mount.after","run"],(function(){a.setArrowState()})),n.on("destroy",(function(){a.removeBindings(),a.removeActive(),i.destroy()})),a},Keyboard:function(e,t,n){var i=new I,r={mount:function(){e.settings.keyboard&&this.bind()},bind:function(){i.on("keyup",document,this.press)},unbind:function(){i.off("keyup",document)},press:function(n){var i=e.settings.perSwipe;"ArrowRight"===n.code&&t.Run.make(t.Direction.resolve("".concat(i,">"))),"ArrowLeft"===n.code&&t.Run.make(t.Direction.resolve("".concat(i,"<")))}};return n.on(["destroy","update"],(function(){r.unbind()})),n.on("update",(function(){r.mount()})),n.on("destroy",(function(){i.destroy()})),r},Autoplay:function(e,t,n){var i=new I,r={mount:function(){this.enable(),this.start(),e.settings.hoverpause&&this.bind()},enable:function(){this._e=!0},disable:function(){this._e=!1},start:function(){var i=this;this._e&&(this.enable(),e.settings.autoplay&&g(this._i)&&(this._i=setInterval((function(){i.stop(),t.Run.make(">"),i.start(),n.emit("autoplay")}),this.time)))},stop:function(){this._i=clearInterval(this._i)},bind:function(){var e=this;i.on("mouseover",t.Html.root,(function(){e._e&&e.stop()})),i.on("mouseout",t.Html.root,(function(){e._e&&e.start()}))},unbind:function(){i.off(["mouseover","mouseout"],t.Html.root)}};return b(r,"time",{get:function(){return h(t.Html.slides[e.index].getAttribute("data-glide-autoplay")||e.settings.autoplay)}}),n.on(["destroy","update"],(function(){r.unbind()})),n.on(["run.before","swipe.start","update"],(function(){r.stop()})),n.on(["pause","destroy"],(function(){r.disable(),r.stop()})),n.on(["run.after","swipe.end"],(function(){r.start()})),n.on(["play"],(function(){r.enable(),r.start()})),n.on("update",(function(){r.mount()})),n.on("destroy",(function(){i.destroy()})),r},Breakpoints:function(e,t,n){var i=new I,r=e.settings,a=Y(r.breakpoints),o=Object.assign({},r),s={match:function(e){if(void 0!==window.matchMedia)for(var t in e)if(e.hasOwnProperty(t)&&window.matchMedia("(max-width: ".concat(t,"px)")).matches)return e[t];return o}};return Object.assign(r,s.match(a)),i.on("resize",window,M((function(){e.settings=w(r,s.match(a))}),e.settings.throttle)),n.on("update",(function(){a=Y(a),o=Object.assign({},r)})),n.on("destroy",(function(){i.off("resize",window)})),s}};return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(o,e);var n=s(o);function o(){return t(this,o),n.apply(this,arguments)}return i(o,[{key:"mount",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return l(r(o.prototype),"mount",this).call(this,Object.assign({},Z,e))}}]),o}(k)})),function(){for(var e=(e,t,n)=>{let i=e.settings.perView;const r={mount(){a()}},a=()=>{t.Html.slides.length>e.settings.perView?e.enable():e.disable()};return n.on("resize",((e,t)=>{let n;return function(){const i=this,r=arguments;clearTimeout(n),n=setTimeout(()=>e.apply(i,r),t)}})(()=>{i!==e.settings.perView&&(i=e.settings.perView,e.index=0),a()},250)),n.on("move",()=>{e.index<e.settings.perView&&(e.index=0)}),r},t=document.querySelectorAll(".glide"),n=0;n<t.length;n++){new Glide(t[n],{type:"carousel",startAt:0,perView:4,gap:10,perTouch:1,peek:{before:0,after:0},breakpoints:{1280:{perView:3},975:{perView:2},640:{perView:1,peek:{before:0,after:50}}}}).mount({CustomHandler:e})}}(),function(e){var t=navigator.userAgent;e.HTMLPictureElement&&/ecko/.test(t)&&t.match(/rv\:(\d+)/)&&RegExp.$1<41&&addEventListener("resize",function(){var t,n=document.createElement("source"),i=function(e){var t,i,r=e.parentNode;"PICTURE"===r.nodeName.toUpperCase()?(t=n.cloneNode(),r.insertBefore(t,r.firstElementChild),setTimeout((function(){r.removeChild(t)}))):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout((function(){e.sizes=i})))},r=function(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)i(t[e])},a=function(){clearTimeout(t),t=setTimeout(r,99)},o=e.matchMedia&&matchMedia("(orientation: landscape)"),s=function(){a(),o&&o.addListener&&o.addListener(a)};return n.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?s():document.addEventListener("DOMContentLoaded",s),a}())}(window),function(e,t,n){"use strict";function i(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function r(e,t,n,i){var r,a,o;return"saveData"===b.algorithm?e>2.7?o=n+1:(a=(t-n)*(r=Math.pow(e-.6,1.5)),i&&(a+=.1*r),o=e+a):o=n>1?Math.sqrt(e*t):e,o>n}function a(e,t){return e.res-t.res}function o(e,t,n){var i;return!n&&t&&(n=(n=e[d.ns].sets)&&n[n.length-1]),(i=s(t,n))&&(t=d.makeUrl(t),e[d.ns].curSrc=t,e[d.ns].curCan=i,i.res||z(i,i.set.sizes)),i}function s(e,t){var n,i,r;if(e&&t)for(r=d.parseSet(t),e=d.makeUrl(e),n=0;n<r.length;n++)if(e===d.makeUrl(r[n].url)){i=r[n];break}return i}t.createElement("picture");var c,l,u,d={},h=function(){},f=t.createElement("img"),p=f.getAttribute,m=f.setAttribute,g=f.removeAttribute,v=t.documentElement,y={},b={algorithm:""},w="data-pfsrc",x=w+"set",k=navigator.userAgent,S=/rident/.test(k)||/ecko/.test(k)&&k.match(/rv\:(\d+)/)&&RegExp.$1>35,M="currentSrc",C=/\s+\+?\d+(e\d+)?w/,_=/(\([^)]+\))?\s*(.+)/,T=e.picturefillCFG,L="font-size:100%!important;",E=!0,I={},A={},D=e.devicePixelRatio,W={px:1,in:96},P=t.createElement("a"),j=!1,q=/^[ \t\n\r\u000c]+/,R=/^[, \t\n\r\u000c]+/,O=/^[^ \t\n\r\u000c]+/,N=/[,]+$/,H=/^\d+$/,B=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,F=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},V=function(e){var t={};return function(n){return n in t||(t[n]=e(n)),t[n]}},U=function(){var e=/^([\d\.]+)(em|vw|px)$/,t=V((function(e){return"return "+function(){for(var e=arguments,t=0,n=e[0];++t in e;)n=n.replace(e[t],e[++t]);return n}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}));return function(n,i){var r;if(!(n in I))if(I[n]=!1,i&&(r=n.match(e)))I[n]=r[1]*W[r[2]];else try{I[n]=new Function("e",t(n))(W)}catch(e){}return I[n]}}(),z=function(e,t){return e.w?(e.cWidth=d.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e},G=function(e){var n,i,r,a=e||{};if(a.elements&&1===a.elements.nodeType&&("IMG"===a.elements.nodeName.toUpperCase()?a.elements=[a.elements]:(a.context=a.elements,a.elements=null)),r=(n=a.elements||d.qsa(a.context||t,a.reevaluate||a.reselect?d.sel:d.selShort)).length){for(d.setupRun(a),j=!0,i=0;r>i;i++)d.fillImg(n[i],a);d.teardownRun(a)}};e.console&&console.warn,M in f||(M="src"),y["image/jpeg"]=!0,y["image/gif"]=!0,y["image/png"]=!0,y["image/svg+xml"]=t.implementation.hasFeature("http://wwwindow.w3.org/TR/SVG11/feature#Image","1.1"),d.ns=("pf"+(new Date).getTime()).substr(0,9),d.supSrcset="srcset"in f,d.supSizes="sizes"in f,d.supPicture=!!e.HTMLPictureElement,d.supSrcset&&d.supPicture&&!d.supSizes&&function(e){f.srcset="data:,a",e.src="data:,a",d.supSrcset=f.complete===e.complete,d.supPicture=d.supSrcset&&d.supPicture}(t.createElement("img")),d.selShort="picture>img,img[srcset]",d.sel=d.selShort,d.cfg=b,d.supSrcset&&(d.sel+=",img["+x+"]"),d.DPR=D||1,d.u=W,d.types=y,l=d.supSrcset&&!d.supSizes,d.setSize=h,d.makeUrl=V((function(e){return P.href=e,P.href})),d.qsa=function(e,t){return e.querySelectorAll(t)},d.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?d.matchesMedia=function(e){return!e||matchMedia(e).matches}:d.matchesMedia=d.mMQ,d.matchesMedia.apply(this,arguments)},d.mMQ=function(e){return!e||U(e)},d.calcLength=function(e){var t=U(e,!0)||!1;return 0>t&&(t=!1),t},d.supportsType=function(e){return!e||y[e]},d.parseSize=V((function(e){var t=(e||"").match(_);return{media:t&&t[1],length:t&&t[2]}})),d.parseSet=function(e){return e.cands||(e.cands=function(e,t){function n(t){var n,i=t.exec(e.substring(h));return i?(n=i[0],h+=n.length,n):void 0}function r(){var e,n,i,r,a,c,l,u,d,h=!1,p={};for(r=0;r<s.length;r++)c=(a=s[r])[a.length-1],l=a.substring(0,a.length-1),u=parseInt(l,10),d=parseFloat(l),H.test(l)&&"w"===c?((e||n)&&(h=!0),0===u?h=!0:e=u):B.test(l)&&"x"===c?((e||n||i)&&(h=!0),0>d?h=!0:n=d):H.test(l)&&"h"===c?((i||n)&&(h=!0),0===u?h=!0:i=u):h=!0;h||(p.url=o,e&&(p.w=e),n&&(p.d=n),i&&(p.h=i),i||n||e||(p.d=1),1===p.d&&(t.has1x=!0),p.set=t,f.push(p))}function a(){for(n(q),c="",l="in descriptor";;){if(u=e.charAt(h),"in descriptor"===l)if(i(u))c&&(s.push(c),c="",l="after descriptor");else{if(","===u)return h+=1,c&&s.push(c),void r();if("("===u)c+=u,l="in parens";else{if(""===u)return c&&s.push(c),void r();c+=u}}else if("in parens"===l)if(")"===u)c+=u,l="in descriptor";else{if(""===u)return s.push(c),void r();c+=u}else if("after descriptor"===l)if(i(u));else{if(""===u)return void r();l="in descriptor",h-=1}h+=1}}for(var o,s,c,l,u,d=e.length,h=0,f=[];;){if(n(R),h>=d)return f;o=n(O),s=[],","===o.slice(-1)?(o=o.replace(N,""),r()):a()}}(e.srcset,e)),e.cands},d.getEmValue=function(){var e;if(!c&&(e=t.body)){var n=t.createElement("div"),i=v.style.cssText,r=e.style.cssText;n.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",v.style.cssText=L,e.style.cssText=L,e.appendChild(n),c=n.offsetWidth,e.removeChild(n),c=parseFloat(c,10),v.style.cssText=i,e.style.cssText=r}return c||16},d.calcListLength=function(e){if(!(e in A)||b.uT){var t=d.calcLength(function(e){function t(e){return!!(l.test(e)&&parseFloat(e)>=0)||(!!u.test(e)||("0"===e||"-0"===e||"+0"===e))}var n,r,a,o,s,c,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,u=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(r=function(e){function t(){a&&(o.push(a),a="")}function n(){o[0]&&(s.push(o),o=[])}for(var r,a="",o=[],s=[],c=0,l=0,u=!1;;){if(""===(r=e.charAt(l)))return t(),n(),s;if(u){if("*"===r&&"/"===e[l+1]){u=!1,l+=2,t();continue}l+=1}else{if(i(r)){if(e.charAt(l-1)&&i(e.charAt(l-1))||!a){l+=1;continue}if(0===c){t(),l+=1;continue}r=" "}else if("("===r)c+=1;else if(")"===r)c-=1;else{if(","===r){t(),n(),l+=1;continue}if("/"===r&&"*"===e.charAt(l+1)){u=!0,l+=2;continue}}a+=r,l+=1}}}(e),a=r.length,n=0;a>n;n++)if(t(s=(o=r[n])[o.length-1])){if(c=s,o.pop(),0===o.length)return c;if(o=o.join(" "),d.matchesMedia(o))return c}return"100vw"}(e));A[e]=t||W.width}return A[e]},d.setRes=function(e){var t;if(e)for(var n=0,i=(t=d.parseSet(e)).length;i>n;n++)z(t[n],e.sizes);return t},d.setRes.res=z,d.applySetCandidate=function(e,t){if(e.length){var n,i,s,c,l,u,h,f,p,m=t[d.ns],g=d.DPR;if(u=m.curSrc||t[M],(h=m.curCan||o(t,u,e[0].set))&&h.set===e[0].set&&((p=S&&!t.complete&&h.res-.1>g)||(h.cached=!0,h.res>=g&&(l=h))),!l)for(e.sort(a),l=e[(c=e.length)-1],i=0;c>i;i++)if((n=e[i]).res>=g){l=e[s=i-1]&&(p||u!==d.makeUrl(n.url))&&r(e[s].res,n.res,g,e[s].cached)?e[s]:n;break}l&&(f=d.makeUrl(l.url),m.curSrc=f,m.curCan=l,f!==u&&d.setSrc(t,l),d.setSize(t))}},d.setSrc=function(e,t){var n;e.src=t.url,"image/svg+xml"===t.set.type&&(n=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=n))},d.getSet=function(e){var t,n,i,r=!1,a=e[d.ns].sets;for(t=0;t<a.length&&!r;t++)if((n=a[t]).srcset&&d.matchesMedia(n.media)&&(i=d.supportsType(n.type))){"pending"===i&&(n=i),r=n;break}return r},d.parseSets=function(e,t,i){var r,a,o,c,u=t&&"PICTURE"===t.nodeName.toUpperCase(),h=e[d.ns];(h.src===n||i.src)&&(h.src=p.call(e,"src"),h.src?m.call(e,w,h.src):g.call(e,w)),(h.srcset===n||i.srcset||!d.supSrcset||e.srcset)&&(r=p.call(e,"srcset"),h.srcset=r,c=!0),h.sets=[],u&&(h.pic=!0,function(e,t){var n,i,r,a,o=e.getElementsByTagName("source");for(n=0,i=o.length;i>n;n++)(r=o[n])[d.ns]=!0,(a=r.getAttribute("srcset"))&&t.push({srcset:a,media:r.getAttribute("media"),type:r.getAttribute("type"),sizes:r.getAttribute("sizes")})}(t,h.sets)),h.srcset?(a={srcset:h.srcset,sizes:p.call(e,"sizes")},h.sets.push(a),(o=(l||h.src)&&C.test(h.srcset||""))||!h.src||s(h.src,a)||a.has1x||(a.srcset+=", "+h.src,a.cands.push({url:h.src,d:1,set:a}))):h.src&&h.sets.push({srcset:h.src,sizes:null}),h.curCan=null,h.curSrc=n,h.supported=!(u||a&&!d.supSrcset||o),c&&d.supSrcset&&!h.supported&&(r?(m.call(e,x,r),e.srcset=""):g.call(e,x)),h.supported&&!h.srcset&&(!h.src&&e.src||e.src!==d.makeUrl(h.src))&&(null===h.src?e.removeAttribute("src"):e.src=h.src),h.parsed=!0},d.fillImg=function(e,t){var n,i=t.reselect||t.reevaluate;e[d.ns]||(e[d.ns]={}),n=e[d.ns],(i||n.evaled!==u)&&((!n.parsed||t.reevaluate)&&d.parseSets(e,e.parentNode,t),n.supported?n.evaled=u:function(e){var t,n=d.getSet(e),i=!1;"pending"!==n&&(i=u,n&&(t=d.setRes(n),d.applySetCandidate(t,e))),e[d.ns].evaled=i}(e))},d.setupRun=function(){(!j||E||D!==e.devicePixelRatio)&&(E=!1,D=e.devicePixelRatio,I={},A={},d.DPR=D||1,W.width=Math.max(e.innerWidth||0,v.clientWidth),W.height=Math.max(e.innerHeight||0,v.clientHeight),W.vw=W.width/100,W.vh=W.height/100,u=[W.height,W.width,D].join("-"),W.em=d.getEmValue(),W.rem=W.em)},d.supPicture?(G=h,d.fillImg=h):function(){var n,i=e.attachEvent?/d$|^c/:/d$|^c|^i/,r=function(){var e=t.readyState||"";a=setTimeout(r,"loading"===e?200:999),t.body&&(d.fillImgs(),(n=n||i.test(e))&&clearTimeout(a))},a=setTimeout(r,t.body?9:99),o=v.clientHeight;F(e,"resize",function(e,t){var n,i,r=function(){var a=new Date-i;t>a?n=setTimeout(r,t-a):(n=null,e())};return function(){i=new Date,n||(n=setTimeout(r,t))}}((function(){E=Math.max(e.innerWidth||0,v.clientWidth)!==W.width||v.clientHeight!==o,o=v.clientHeight,E&&d.fillImgs()}),99)),F(t,"readystatechange",r)}(),d.picturefill=G,d.fillImgs=G,d.teardownRun=h,G._=d,e.picturefillCFG={pf:d,push:function(e){var t=e.shift();"function"==typeof d[t]?d[t].apply(d,e):(b[t]=e[0],j&&d.fillImgs({reselect:!0}))}};for(;T&&T.length;)e.picturefillCFG.push(T.shift());e.picturefill=G,"object"==typeof module&&"object"==typeof module.exports?module.exports=G:"function"==typeof define&&define.amd&&define("picturefill",(function(){return G})),d.supPicture||(y["image/webp"]=function(t,n){var i=new e.Image;return i.onerror=function(){y[t]=!1,G()},i.onload=function(){y[t]=1===i.width,G()},i.src=n,"pending"}("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),function(e){"use strict";var t,n=0,i=function(){window.picturefill&&function(e){var t=window.document,n=window.Element,i=window.MutationObserver,r=function(){},a={disconnect:r,take:r,observe:r,start:r,stop:r,connected:!1},o=/^loade|^c|^i/.test(t.readyState||""),s=e._;if(s.mutationSupport=!1,s.observer=a,Object.keys&&window.HTMLSourceElement&&t.addEventListener){var c,l,u,d,h={src:1,srcset:1,sizes:1,media:1},f={attributes:!0,childList:!0,subtree:!0,attributeFilter:Object.keys(h)},p=n&&n.prototype,m={},g=function(e,t){m[e]=s[e],s[e]=t};p&&!p.matches&&(p.matches=p.matchesSelector||p.mozMatchesSelector||p.webkitMatchesSelector||p.msMatchesSelector),p&&p.matches&&(c=function(e,t){return e.matches(t)},s.mutationSupport=!(!Object.create||!Object.defineProperties)),s.mutationSupport&&(a.observe=function(){u&&(a.connected=!0,l&&l.observe(t.documentElement,f))},a.disconnect=function(){a.connected=!1,l&&l.disconnect()},a.take=function(){l?s.onMutations(l.takeRecords()):d&&d.take()},a.start=function(){u=!0,a.observe()},a.stop=function(){u=!1,a.disconnect()},g("setupRun",(function(){return a.disconnect(),m.setupRun.apply(this,arguments)})),g("teardownRun",(function(){var e=m.setupRun.apply(this,arguments);return a.observe(),e})),g("setSrc",(function(){var e,t=a.connected;return a.disconnect(),e=m.setSrc.apply(this,arguments),t&&a.observe(),e})),s.onMutations=function(e){var t,n,i=[];for(t=0,n=e.length;n>t;t++)o&&"childList"===e[t].type?s.onSubtreeChange(e[t],i):"attributes"===e[t].type&&s.onAttrChange(e[t],i);i.length&&s.fillImgs({elements:i,reevaluate:!0})},s.onSubtreeChange=function(e,t){s.findAddedMutations(e.addedNodes,t),s.findRemovedMutations(e.removedNodes,e.target,t)},s.findAddedMutations=function(e,t){var n,i,r,a;for(n=0,i=e.length;i>n;n++)1===(r=e[n]).nodeType&&("PICTURE"===(a=r.nodeName.toUpperCase())?s.addToElements(r.getElementsByTagName("img")[0],t):"IMG"===a&&c(r,s.selShort)?s.addToElements(r,t):"SOURCE"===a?s.addImgForSource(r,r.parentNode,t):s.addToElements(s.qsa(r,s.selShort),t))},s.findRemovedMutations=function(e,t,n){var i,r,a;for(i=0,r=e.length;r>i;i++)1===(a=e[i]).nodeType&&"SOURCE"===a.nodeName.toUpperCase()&&s.addImgForSource(a,t,n)},s.addImgForSource=function(e,t,n){t&&"PICTURE"!==(t.nodeName||"").toUpperCase()&&((t=t.parentNode)&&"PICTURE"===(t.nodeName||"").toUpperCase()||(t=null)),t&&s.addToElements(t.getElementsByTagName("img")[0],n)},s.addToElements=function(e,t){var n,i;if(e)if("length"in e&&!e.nodeType)for(n=0,i=e.length;i>n;n++)s.addToElements(e[n],t);else e.parentNode&&-1===t.indexOf(e)&&t.push(e)},s.onAttrChange=function(e,t){var n,i=e.target[s.ns];i||"srcset"!==e.attributeName||"IMG"!==(n=e.target.nodeName.toUpperCase())?i&&(n||(n=e.target.nodeName.toUpperCase()),"IMG"===n?(e.attributeName in i&&(i[e.attributeName]=void 0),s.addToElements(e.target,t)):"SOURCE"===n&&s.addImgForSource(e.target,e.target.parentNode,t)):s.addToElements(e.target,t)},s.supPicture||(i&&!s.testMutationEvents?l=new i(s.onMutations):(d=function(){var e=!1,t=[],n=window.setImmediate||window.setTimeout;return function(i){e||(e=!0,d.take||(d.take=function(){t.length&&(s.onMutations(t),t=[]),e=!1}),n(d.take)),t.push(i)}}(),t.documentElement.addEventListener("DOMNodeInserted",(function(e){a.connected&&o&&d({type:"childList",addedNodes:[e.target],removedNodes:[]})}),!0),t.documentElement.addEventListener("DOMNodeRemoved",(function(e){a.connected&&o&&"SOURCE"===(e.target||{}).nodeName&&d({type:"childList",addedNodes:[],removedNodes:[e.target],target:e.target.parentNode})}),!0),t.documentElement.addEventListener("DOMAttrModified",(function(e){a.connected&&h[e.attrName]&&d({type:"attributes",target:e.target,attributeName:e.attrName})}),!0)),window.HTMLImageElement&&Object.defineProperties&&function(){var e=t.createElement("img"),n=[],i=e.getAttribute,r=e.setAttribute,a={src:1};s.supSrcset&&!s.supSizes&&(a.srcset=1),Object.defineProperties(HTMLImageElement.prototype,{getAttribute:{value:function(e){var t;return a[e]&&(t=this[s.ns])&&void 0!==t[e]?t[e]:i.apply(this,arguments)},writeable:!0,enumerable:!0,configurable:!0}}),s.supSrcset||n.push("srcset"),s.supSizes||n.push("sizes"),n.forEach((function(e){Object.defineProperty(HTMLImageElement.prototype,e,{set:function(t){r.call(this,e,t)},get:function(){return i.call(this,e)||""},enumerable:!0,configurable:!0})})),"currentSrc"in e||function(){var e,n=function(e,t){null==t&&(t=e.src||""),Object.defineProperty(e,"pfCurrentSrc",{value:t,writable:!0})},i=n;s.supSrcset&&window.devicePixelRatio&&(e=function(e,t){return(e.d||e.w||e.res)-(t.d||t.w||t.res)},n=function(t){var n,r,a,o,c=t[s.ns];if(c&&c.supported&&c.srcset&&c.sets&&(r=s.parseSet(c.sets[0]))&&r.sort){for(r.sort(e),o=r[(a=r.length)-1],n=0;a>n;n++)if(r[n].d>=window.devicePixelRatio){o=r[n];break}o&&(o=s.makeUrl(o.url))}i(t,o)}),t.addEventListener("load",(function(e){"IMG"===e.target.nodeName.toUpperCase()&&n(e.target)}),!0),Object.defineProperty(HTMLImageElement.prototype,"currentSrc",{set:function(){window.console&&console.warn&&console.warn("currentSrc can't be set on img element")},get:function(){return this.complete&&n(this),(this.src||this.srcset)&&this.pfCurrentSrc||""},enumerable:!0,configurable:!0})}(),!window.HTMLSourceElement||"srcset"in t.createElement("source")||["srcset","sizes"].forEach((function(e){Object.defineProperty(window.HTMLSourceElement.prototype,e,{set:function(t){this.setAttribute(e,t)},get:function(){return this.getAttribute(e)||""},enumerable:!0,configurable:!0})}))}(),a.start()),o||t.addEventListener("DOMContentLoaded",(function(){o=!0})))}}(window.picturefill),(window.picturefill||n>9999)&&clearInterval(t),n++};t=setInterval(i,8),i()}(),
/*!
 * jQuery JavaScript Library v2.2.4-pre -ajax/jsonp,-wrap,-core/ready
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-04-21T18:40Z
 */
function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,(function(e,t){var n=[],i=e.document,r=n.slice,a=n.concat,o=n.push,s=n.indexOf,c={},l=c.toString,u=c.hasOwnProperty,d={},h="2.2.4-pre -ajax/script,-ajax/jsonp,-wrap,-core/ready",f=function(e,t){return new f.fn.init(e,t)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,g=/-([\da-z])/gi,v=function(e,t){return t.toUpperCase()};function y(e){var t=!!e&&"length"in e&&e.length,n=f.type(e);return"function"!==n&&!f.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}f.fn=f.prototype={jquery:h,constructor:f,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=f.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return f.each(this,e)},map:function(e){return this.pushStack(f.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:o,sort:n.sort,splice:n.splice},f.extend=f.fn.extend=function(){var e,t,n,i,r,a,o=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[s]||{},s++),"object"==typeof o||f.isFunction(o)||(o={}),s===c&&(o=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],o!==(i=e[t])&&(l&&i&&(f.isPlainObject(i)||(r=f.isArray(i)))?(r?(r=!1,a=n&&f.isArray(n)?n:[]):a=n&&f.isPlainObject(n)?n:{},o[t]=f.extend(l,a,i)):void 0!==i&&(o[t]=i));return o},f.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===f.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!f.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==f.type(e)||e.nodeType||f.isWindow(e))return!1;if(e.constructor&&!u.call(e,"constructor")&&!u.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||u.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[l.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=f.trim(e))&&(1===e.indexOf("use strict")?((t=i.createElement("script")).text=e,i.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(m,"ms-").replace(g,v)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(y(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(p,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(y(Object(e))?f.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,a=e.length,o=!n;r<a;r++)!t(e[r],r)!==o&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(y(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return a.apply([],s)},guid:1,proxy:function(e,t){var n,i,a;if("string"==typeof t&&(n=e[t],t=e,e=n),f.isFunction(e))return i=r.call(arguments,2),(a=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||f.guid++,a},now:Date.now,support:d}),"function"==typeof Symbol&&(f.fn[Symbol.iterator]=n[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){c["[object "+t+"]"]=t.toLowerCase()}));var b=
/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){var t,n,i,r,a,o,s,c,l,u,d,h,f,p,m,g,v,y,b,w="sizzle"+1*new Date,x=e.document,k=0,S=0,M=re(),C=re(),_=re(),T=function(e,t){return e===t&&(d=!0),0},L={}.hasOwnProperty,E=[],I=E.pop,A=E.push,D=E.push,W=E.slice,P=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",q="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O="\\["+q+"*("+R+")(?:"+q+"*([*^$|!~]?=)"+q+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+q+"*\\]",N=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",H=new RegExp(q+"+","g"),B=new RegExp("^"+q+"+|((?:^|[^\\\\])(?:\\\\.)*)"+q+"+$","g"),F=new RegExp("^"+q+"*,"+q+"*"),V=new RegExp("^"+q+"*([>+~]|"+q+")"+q+"*"),U=new RegExp("="+q+"*([^\\]'\"]*?)"+q+"*\\]","g"),z=new RegExp(N),G=new RegExp("^"+R+"$"),$={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+q+"*(even|odd|(([+-]|)(\\d*)n|)"+q+"*(?:([+-]|)"+q+"*(\\d+)|))"+q+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+q+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+q+"*((?:-\\d)?\\d*)"+q+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,K=/'|\\/g,ee=new RegExp("\\\\([\\da-f]{1,6}"+q+"?|("+q+")|.)","ig"),te=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ne=function(){h()};try{D.apply(E=W.call(x.childNodes),x.childNodes),E[x.childNodes.length].nodeType}catch(e){D={apply:E.length?function(e,t){A.apply(e,W.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ie(e,t,i,r){var a,s,l,u,d,p,v,y,k=t&&t.ownerDocument,S=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return i;if(!r&&((t?t.ownerDocument||t:x)!==f&&h(t),t=t||f,m)){if(11!==S&&(p=Q.exec(e)))if(a=p[1]){if(9===S){if(!(l=t.getElementById(a)))return i;if(l.id===a)return i.push(l),i}else if(k&&(l=k.getElementById(a))&&b(t,l)&&l.id===a)return i.push(l),i}else{if(p[2])return D.apply(i,t.getElementsByTagName(e)),i;if((a=p[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(i,t.getElementsByClassName(a)),i}if(n.qsa&&!_[e+" "]&&(!g||!g.test(e))){if(1!==S)k=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(K,"\\$&"):t.setAttribute("id",u=w),s=(v=o(e)).length,d=G.test(u)?"#"+u:"[id='"+u+"']";s--;)v[s]=d+" "+pe(v[s]);y=v.join(","),k=X.test(e)&&he(t.parentNode)||t}if(y)try{return D.apply(i,k.querySelectorAll(y)),i}catch(e){}finally{u===w&&t.removeAttribute("id")}}}return c(e.replace(B,"$1"),t,i,r)}function re(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ae(e){return e[w]=!0,e}function oe(e){var t=f.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function se(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function le(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ue(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function de(e){return ae((function(t){return t=+t,ae((function(n,i){for(var r,a=e([],n.length,t),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))}))}))}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},a=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=ie.setDocument=function(e){var t,r,o=e?e.ownerDocument||e:x;return o!==f&&9===o.nodeType&&o.documentElement?(p=(f=o).documentElement,m=!a(f),(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ne,!1):r.attachEvent&&r.attachEvent("onunload",ne)),n.attributes=oe((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=oe((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=oe((function(e){return p.appendChild(e).id=w,!f.getElementsByName||!f.getElementsByName(w).length})),n.getById?(i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}},i.filter.ID=function(e){var t=e.replace(ee,te);return function(e){return e.getAttribute("id")===t}}):(delete i.find.ID,i.filter.ID=function(e){var t=e.replace(ee,te);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=J.test(f.querySelectorAll))&&(oe((function(e){p.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+q+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+q+"*(?:value|"+j+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")})),oe((function(e){var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+q+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&oe((function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),v.push("!=",N)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=J.test(p.compareDocumentPosition),b=t||J.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===f||e.ownerDocument===x&&b(x,e)?-1:t===f||t.ownerDocument===x&&b(x,t)?1:u?P(u,e)-P(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,a=t.parentNode,o=[e],s=[t];if(!r||!a)return e===f?-1:t===f?1:r?-1:a?1:u?P(u,e)-P(u,t):0;if(r===a)return ce(e,t);for(n=e;n=n.parentNode;)o.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?ce(o[i],s[i]):o[i]===x?-1:s[i]===x?1:0},f):f},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&h(e),t=t.replace(U,"='$1']"),n.matchesSelector&&m&&!_[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return ie(t,f,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==f&&h(e),b(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==f&&h(e);var r=i.attrHandle[t.toLowerCase()],a=r&&L.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==a?a:n.attributes||!m?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,i=[],r=0,a=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[a++];)t===e[a]&&(r=i.push(a));for(;r--;)e.splice(i[r],1)}return u=null,e},r=ie.getText=function(e){var t,n="",i=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=ie.selectors={cacheLength:50,createPseudo:ae,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ee,te),e[3]=(e[3]||e[4]||e[5]||"").replace(ee,te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return $.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ee,te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=M[e+" "];return t||(t=new RegExp("(^|"+q+")"+e+"("+q+"|$)"))&&M(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=ie.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,h,f,p,m=a!==o?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(g){if(a){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[o?g.firstChild:g.lastChild],o&&y){for(b=(f=(l=(u=(d=(h=g)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&l[1])&&l[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===t){u[e]=[k,f,b];break}}else if(y&&(b=f=(l=(u=(d=(h=t)[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===k&&l[1]),!1===b)for(;(h=++f&&h&&h[m]||(b=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[w]||(h[w]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[k,b]),h!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return r[w]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae((function(e,n){for(var i,a=r(e,t),o=a.length;o--;)e[i=P(e,a[o])]=!(n[i]=a[o])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ae((function(e){var t=[],n=[],i=s(e.replace(B,"$1"));return i[w]?ae((function(e,t,n,r){for(var a,o=i(e,null,r,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))})):function(e,r,a){return t[0]=e,i(t,null,a,n),t[0]=null,!n.pop()}})),has:ae((function(e){return function(t){return ie(e,t).length>0}})),contains:ae((function(e){return e=e.replace(ee,te),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}})),lang:ae((function(e){return G.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(ee,te).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Z.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de((function(){return[0]})),last:de((function(e,t){return[t-1]})),eq:de((function(e,t,n){return[n<0?n+t:n]})),even:de((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:de((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:de((function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e})),gt:de((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=le(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=ue(t);function fe(){}function pe(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function me(e,t,n){var i=t.dir,r=n&&"parentNode"===i,a=S++;return t.first?function(t,n,a){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,a)}:function(t,n,o){var s,c,l,u=[k,a];if(o){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,o))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(c=(l=t[w]||(t[w]={}))[t.uniqueID]||(l[t.uniqueID]={}))[i])&&s[0]===k&&s[1]===a)return u[2]=s[2];if(c[i]=u,u[2]=e(t,n,o))return!0}}}function ge(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function ve(e,t,n,i,r){for(var a,o=[],s=0,c=e.length,l=null!=t;s<c;s++)(a=e[s])&&(n&&!n(a,i,r)||(o.push(a),l&&t.push(s)));return o}function ye(e,t,n,i,r,a){return i&&!i[w]&&(i=ye(i)),r&&!r[w]&&(r=ye(r,a)),ae((function(a,o,s,c){var l,u,d,h=[],f=[],p=o.length,m=a||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ie(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!a&&t?m:ve(m,h,e,s,c),v=n?r||(a?e:p||i)?[]:o:g;if(n&&n(g,v,s,c),i)for(l=ve(v,f),i(l,[],s,c),u=l.length;u--;)(d=l[u])&&(v[f[u]]=!(g[f[u]]=d));if(a){if(r||e){if(r){for(l=[],u=v.length;u--;)(d=v[u])&&l.push(g[u]=d);r(null,v=[],l,c)}for(u=v.length;u--;)(d=v[u])&&(l=r?P(a,d):h[u])>-1&&(a[l]=!(o[l]=d))}}else v=ve(v===o?v.splice(p,v.length):v),r?r(null,o,v,c):D.apply(o,v)}))}function be(e){for(var t,n,r,a=e.length,o=i.relative[e[0].type],s=o||i.relative[" "],c=o?1:0,u=me((function(e){return e===t}),s,!0),d=me((function(e){return P(t,e)>-1}),s,!0),h=[function(e,n,i){var r=!o&&(i||n!==l)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];c<a;c++)if(n=i.relative[e[c].type])h=[me(ge(h),n)];else{if((n=i.filter[e[c].type].apply(null,e[c].matches))[w]){for(r=++c;r<a&&!i.relative[e[r].type];r++);return ye(c>1&&ge(h),c>1&&pe(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(B,"$1"),n,c<r&&be(e.slice(c,r)),r<a&&be(e=e.slice(r)),r<a&&pe(e))}h.push(n)}return ge(h)}return fe.prototype=i.filters=i.pseudos,i.setFilters=new fe,o=ie.tokenize=function(e,t){var n,r,a,o,s,c,l,u=C[e+" "];if(u)return t?0:u.slice(0);for(s=e,c=[],l=i.preFilter;s;){for(o in n&&!(r=F.exec(s))||(r&&(s=s.slice(r[0].length)||s),c.push(a=[])),n=!1,(r=V.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(B," ")}),s=s.slice(n.length)),i.filter)!(r=$[o].exec(s))||l[o]&&!(r=l[o](r))||(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ie.error(e):C(e,c).slice(0)},s=ie.compile=function(e,t){var n,r=[],a=[],s=_[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=be(t[n]))[w]?r.push(s):a.push(s);(s=_(e,function(e,t){var n=t.length>0,r=e.length>0,a=function(a,o,s,c,u){var d,p,g,v=0,y="0",b=a&&[],w=[],x=l,S=a||r&&i.find.TAG("*",u),M=k+=null==x?1:Math.random()||.1,C=S.length;for(u&&(l=o===f||o||u);y!==C&&null!=(d=S[y]);y++){if(r&&d){for(p=0,o||d.ownerDocument===f||(h(d),s=!m);g=e[p++];)if(g(d,o||f,s)){c.push(d);break}u&&(k=M)}n&&((d=!g&&d)&&v--,a&&b.push(d))}if(v+=y,n&&y!==v){for(p=0;g=t[p++];)g(b,w,o,s);if(a){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=I.call(c));w=ve(w)}D.apply(c,w),u&&!a&&w.length>0&&v+t.length>1&&ie.uniqueSort(c)}return u&&(k=M,l=x),b};return n?ae(a):a}(a,r))).selector=e}return s},c=ie.select=function(e,t,r,a){var c,l,u,d,h,f="function"==typeof e&&e,p=!a&&o(e=f.selector||e);if(r=r||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&n.getById&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(u.matches[0].replace(ee,te),t)||[])[0]))return r;f&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(c=$.needsContext.test(e)?0:l.length;c--&&(u=l[c],!i.relative[d=u.type]);)if((h=i.find[d])&&(a=h(u.matches[0].replace(ee,te),X.test(l[0].type)&&he(t.parentNode)||t))){if(l.splice(c,1),!(e=a.length&&pe(l)))return D.apply(r,a),r;break}}return(f||s(e,p))(a,t,!m,r,!t||X.test(e)&&he(t.parentNode)||t),r},n.sortStable=w.split("").sort(T).join("")===w,n.detectDuplicates=!!d,h(),n.sortDetached=oe((function(e){return 1&e.compareDocumentPosition(f.createElement("div"))})),oe((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||se("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&oe((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||se("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),oe((function(e){return null==e.getAttribute("disabled")}))||se(j,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),ie}(e);f.find=b,f.expr=b.selectors,f.expr[":"]=f.expr.pseudos,f.uniqueSort=f.unique=b.uniqueSort,f.text=b.getText,f.isXMLDoc=b.isXML,f.contains=b.contains;var w=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&f(e).is(n))break;i.push(e)}return i},x=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=f.expr.match.needsContext,S=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,M=/^.[^:#\[\.,]*$/;function C(e,t,n){if(f.isFunction(t))return f.grep(e,(function(e,i){return!!t.call(e,i,e)!==n}));if(t.nodeType)return f.grep(e,(function(e){return e===t!==n}));if("string"==typeof t){if(M.test(t))return f.filter(t,e,n);t=f.filter(t,e)}return f.grep(e,(function(e){return s.call(t,e)>-1!==n}))}f.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?f.find.matchesSelector(i,e)?[i]:[]:f.find.matches(e,f.grep(t,(function(e){return 1===e.nodeType})))},f.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(f(e).filter((function(){for(t=0;t<n;t++)if(f.contains(r[t],this))return!0})));for(t=0;t<n;t++)f.find(e,r[t],i);return(i=this.pushStack(n>1?f.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&k.test(e)?f(e):e||[],!1).length}});var _,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(f.fn.init=function(e,t,n){var r,a;if(!e)return this;if(n=n||_,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:T.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof f?t[0]:t,f.merge(this,f.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:i,!0)),S.test(r[1])&&f.isPlainObject(t))for(r in t)f.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(a=i.getElementById(r[2]))&&a.parentNode&&(this.length=1,this[0]=a),this.context=i,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):f.isFunction(e)?void 0!==n.ready?n.ready(e):e(f):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),f.makeArray(e,this))}).prototype=f.fn,_=f(i);var L=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};function I(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}f.fn.extend({has:function(e){var t=f(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(f.contains(this,t[e]))return!0}))},closest:function(e,t){for(var n,i=0,r=this.length,a=[],o=k.test(e)||"string"!=typeof e?f(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&f.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?f.uniqueSort(a):a)},index:function(e){return e?"string"==typeof e?s.call(f(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),f.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return w(e,"parentNode")},parentsUntil:function(e,t,n){return w(e,"parentNode",n)},next:function(e){return I(e,"nextSibling")},prev:function(e){return I(e,"previousSibling")},nextAll:function(e){return w(e,"nextSibling")},prevAll:function(e){return w(e,"previousSibling")},nextUntil:function(e,t,n){return w(e,"nextSibling",n)},prevUntil:function(e,t,n){return w(e,"previousSibling",n)},siblings:function(e){return x((e.parentNode||{}).firstChild,e)},children:function(e){return x(e.firstChild)},contents:function(e){return e.contentDocument||f.merge([],e.childNodes)}},(function(e,t){f.fn[e]=function(n,i){var r=f.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=f.filter(i,r)),this.length>1&&(E[e]||f.uniqueSort(r),L.test(e)&&r.reverse()),this.pushStack(r)}}));var A,D=/\S+/g;function W(){i.removeEventListener("DOMContentLoaded",W),e.removeEventListener("load",W),f.ready()}f.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return f.each(e.match(D)||[],(function(e,n){t[n]=!0})),t}(e):f.extend({},e);var t,n,i,r,a=[],o=[],s=-1,c=function(){for(r=e.once,i=t=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},l={add:function(){return a&&(n&&!t&&(s=a.length-1,o.push(n)),function t(n){f.each(n,(function(n,i){f.isFunction(i)?e.unique&&l.has(i)||a.push(i):i&&i.length&&"string"!==f.type(i)&&t(i)}))}(arguments),n&&!t&&c()),this},remove:function(){return f.each(arguments,(function(e,t){for(var n;(n=f.inArray(t,a,n))>-1;)a.splice(n,1),n<=s&&s--})),this},has:function(e){return e?f.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],n||(a=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],o.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!i}};return l},f.extend({Deferred:function(e){var t=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return f.Deferred((function(n){f.each(t,(function(t,a){var o=f.isFunction(e[t])&&e[t];r[a[1]]((function(){var e=o&&o.apply(this,arguments);e&&f.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this===i?n.promise():this,o?[e]:arguments)}))})),e=null})).promise()},promise:function(e){return null!=e?f.extend(e,i):i}},r={};return i.pipe=i.then,f.each(t,(function(e,a){var o=a[2],s=a[3];i[a[1]]=o.add,s&&o.add((function(){n=s}),t[1^e][2].disable,t[2][2].lock),r[a[0]]=function(){return r[a[0]+"With"](this===r?i:this,arguments),this},r[a[0]+"With"]=o.fireWith})),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,a=0,o=r.call(arguments),s=o.length,c=1!==s||e&&f.isFunction(e.promise)?s:0,l=1===c?e:f.Deferred(),u=function(e,n,i){return function(a){n[e]=this,i[e]=arguments.length>1?r.call(arguments):a,i===t?l.notifyWith(n,i):--c||l.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);a<s;a++)o[a]&&f.isFunction(o[a].promise)?o[a].promise().progress(u(a,n,t)).done(u(a,i,o)).fail(l.reject):--c;return c||l.resolveWith(i,o),l.promise()}}),f.fn.ready=function(e){return f.ready.promise().done(e),this},f.extend({isReady:!1,readyWait:1,holdReady:function(e){e?f.readyWait++:f.ready(!0)},ready:function(e){(!0===e?--f.readyWait:f.isReady)||(f.isReady=!0,!0!==e&&--f.readyWait>0||(A.resolveWith(i,[f]),f.fn.triggerHandler&&(f(i).triggerHandler("ready"),f(i).off("ready"))))}}),f.ready.promise=function(t){return A||(A=f.Deferred(),"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?e.setTimeout(f.ready):(i.addEventListener("DOMContentLoaded",W),e.addEventListener("load",W))),A.promise(t)},f.ready.promise();var P=function(e,t,n,i,r,a,o){var s=0,c=e.length,l=null==n;if("object"===f.type(n))for(s in r=!0,n)P(e,t,s,n[s],!0,a,o);else if(void 0!==i&&(r=!0,f.isFunction(i)||(o=!0),l&&(o?(t.call(e,i),t=null):(l=t,t=function(e,t,n){return l.call(f(e),n)})),t))for(;s<c;s++)t(e[s],n,o?i:i.call(e[s],s,t(e[s],n)));return r?e:l?t.call(e):c?t(e[0],n):a},j=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function q(){this.expando=f.expando+q.uid++}q.uid=1,q.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!j(e))return{};var t=e[this.expando];return t||(t={},j(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[t]=n;else for(i in t)r[i]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,f.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,a=e[this.expando];if(void 0!==a){if(void 0===t)this.register(e);else{f.isArray(t)?i=t.concat(t.map(f.camelCase)):(r=f.camelCase(t),i=t in a?[t,r]:(i=r)in a?[i]:i.match(D)||[]),n=i.length;for(;n--;)delete a[i[n]]}(void 0===t||f.isEmptyObject(a))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!f.isEmptyObject(t)}};var R=new q,O=new q,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/[A-Z]/g;function B(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(H,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:N.test(n)?f.parseJSON(n):n)}catch(e){}O.set(e,t,n)}else n=void 0;return n}f.extend({hasData:function(e){return O.hasData(e)||R.hasData(e)},data:function(e,t,n){return O.access(e,t,n)},removeData:function(e,t){O.remove(e,t)},_data:function(e,t,n){return R.access(e,t,n)},_removeData:function(e,t){R.remove(e,t)}}),f.fn.extend({data:function(e,t){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(r=O.get(a),1===a.nodeType&&!R.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=f.camelCase(i.slice(5)),B(a,i,r[i]));R.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){O.set(this,e)})):P(this,(function(t){var n,i;if(a&&void 0===t)return void 0!==(n=O.get(a,e)||O.get(a,e.replace(H,"-$&").toLowerCase()))?n:(i=f.camelCase(e),void 0!==(n=O.get(a,i))||void 0!==(n=B(a,i,void 0))?n:void 0);i=f.camelCase(e),this.each((function(){var n=O.get(this,i);O.set(this,i,t),e.indexOf("-")>-1&&void 0!==n&&O.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){O.remove(this,e)}))}}),f.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=R.get(e,t),n&&(!i||f.isArray(n)?i=R.access(e,t,f.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=f.queue(e,t),i=n.length,r=n.shift(),a=f._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete a.stop,r.call(e,(function(){f.dequeue(e,t)}),a)),!i&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return R.get(e,n)||R.access(e,n,{empty:f.Callbacks("once memory").add((function(){R.remove(e,[t+"queue",n])}))})}}),f.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?f.queue(this[0],e):void 0===t?this:this.each((function(){var n=f.queue(this,e,t);f._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&f.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){f.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=f.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=R.get(a[o],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var F=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,V=new RegExp("^(?:([+-])=|)("+F+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],z=function(e,t){return e=t||e,"none"===f.css(e,"display")||!f.contains(e.ownerDocument,e)};function G(e,t,n,i){var r,a=1,o=20,s=i?function(){return i.cur()}:function(){return f.css(e,t,"")},c=s(),l=n&&n[3]||(f.cssNumber[t]?"":"px"),u=(f.cssNumber[t]||"px"!==l&&+c)&&V.exec(f.css(e,t));if(u&&u[3]!==l){l=l||u[3],n=n||[],u=+c||1;do{u/=a=a||".5",f.style(e,t,u+l)}while(a!==(a=s()/c)&&1!==a&&--o)}return n&&(u=+u||+c||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=l,i.start=u,i.end=r)),r}var $=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,J={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Q(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&f.nodeName(e,t)?f.merge([e],n):n}function X(e,t){for(var n=0,i=e.length;n<i;n++)R.set(e[n],"globalEval",!t||R.get(t[n],"globalEval"))}J.optgroup=J.option,J.tbody=J.tfoot=J.colgroup=J.caption=J.thead,J.th=J.td;var K,ee,te=/<|&#?\w+;/;function ne(e,t,n,i,r){for(var a,o,s,c,l,u,d=t.createDocumentFragment(),h=[],p=0,m=e.length;p<m;p++)if((a=e[p])||0===a)if("object"===f.type(a))f.merge(h,a.nodeType?[a]:a);else if(te.test(a)){for(o=o||d.appendChild(t.createElement("div")),s=(Y.exec(a)||["",""])[1].toLowerCase(),c=J[s]||J._default,o.innerHTML=c[1]+f.htmlPrefilter(a)+c[2],u=c[0];u--;)o=o.lastChild;f.merge(h,o.childNodes),(o=d.firstChild).textContent=""}else h.push(t.createTextNode(a));for(d.textContent="",p=0;a=h[p++];)if(i&&f.inArray(a,i)>-1)r&&r.push(a);else if(l=f.contains(a.ownerDocument,a),o=Q(d.appendChild(a),"script"),l&&X(o),n)for(u=0;a=o[u++];)Z.test(a.type||"")&&n.push(a);return d}K=i.createDocumentFragment().appendChild(i.createElement("div")),(ee=i.createElement("input")).setAttribute("type","radio"),ee.setAttribute("checked","checked"),ee.setAttribute("name","t"),K.appendChild(ee),d.checkClone=K.cloneNode(!0).cloneNode(!0).lastChild.checked,K.innerHTML="<textarea>x</textarea>",d.noCloneChecked=!!K.cloneNode(!0).lastChild.defaultValue;var ie=/^key/,re=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ae=/^([^.]*)(?:\.(.+)|)/;function oe(){return!0}function se(){return!1}function ce(){try{return i.activeElement}catch(e){}}function le(e,t,n,i,r,a){var o,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)le(e,s,n,i,t[s],a);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=se;else if(!r)return e;return 1===a&&(o=r,(r=function(e){return f().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=f.guid++)),e.each((function(){f.event.add(this,t,r,i,n)}))}f.event={global:{},add:function(e,t,n,i,r){var a,o,s,c,l,u,d,h,p,m,g,v=R.get(e);if(v)for(n.handler&&(n=(a=n).handler,r=a.selector),n.guid||(n.guid=f.guid++),(c=v.events)||(c=v.events={}),(o=v.handle)||(o=v.handle=function(t){return void 0!==f&&f.event.triggered!==t.type?f.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(D)||[""]).length;l--;)p=g=(s=ae.exec(t[l])||[])[1],m=(s[2]||"").split(".").sort(),p&&(d=f.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=f.event.special[p]||{},u=f.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&f.expr.match.needsContext.test(r),namespace:m.join(".")},a),(h=c[p])||((h=c[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,m,o)||e.addEventListener&&e.addEventListener(p,o)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),f.event.global[p]=!0)},remove:function(e,t,n,i,r){var a,o,s,c,l,u,d,h,p,m,g,v=R.hasData(e)&&R.get(e);if(v&&(c=v.events)){for(l=(t=(t||"").match(D)||[""]).length;l--;)if(p=g=(s=ae.exec(t[l])||[])[1],m=(s[2]||"").split(".").sort(),p){for(d=f.event.special[p]||{},h=c[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=h.length;a--;)u=h[a],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(a,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));o&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,m,v.handle)||f.removeEvent(e,p,v.handle),delete c[p])}else for(p in c)f.event.remove(e,p+t[l],n,i,!0);f.isEmptyObject(c)&&R.remove(e,"handle events")}},dispatch:function(e){e=f.event.fix(e);var t,n,i,a,o,s=[],c=r.call(arguments),l=(R.get(this,"events")||{})[e.type]||[],u=f.event.special[e.type]||{};if(c[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=f.event.handlers.call(this,e,l),t=0;(a=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,n=0;(o=a.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((f.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,c))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,a,o=[],s=t.delegateCount,c=e.target;if(s&&c.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&(!0!==c.disabled||"click"!==e.type)){for(i=[],n=0;n<s;n++)void 0===i[r=(a=t[n]).selector+" "]&&(i[r]=a.needsContext?f(r,this).index(c)>-1:f.find(r,this,null,[c]).length),i[r]&&i.push(a);i.length&&o.push({elem:c,handlers:i})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,a,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||i).documentElement,a=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[f.expando])return e;var t,n,r,a=e.type,o=e,s=this.fixHooks[a];for(s||(this.fixHooks[a]=s=re.test(a)?this.mouseHooks:ie.test(a)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new f.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=i),3===e.target.nodeType&&(e.target=e.target.parentNode),s.filter?s.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ce()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&f.nodeName(this,"input"))return this.click(),!1},_default:function(e){return f.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},f.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},f.Event=function(e,t){if(!(this instanceof f.Event))return new f.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?oe:se):this.type=e,t&&f.extend(this,t),this.timeStamp=e&&e.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={constructor:f.Event,isDefaultPrevented:se,isPropagationStopped:se,isImmediatePropagationStopped:se,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=oe,e&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=oe,e&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=oe,e&&e.stopImmediatePropagation(),this.stopPropagation()}},f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){f.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,a=e.handleObj;return r&&(r===i||f.contains(i,r))||(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}})),f.fn.extend({on:function(e,t,n,i){return le(this,e,t,n,i)},one:function(e,t,n,i){return le(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,f(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=se),this.each((function(){f.event.remove(this,e,n,t)}))}});var ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,de=/<script|<style|<link/i,he=/checked\s*(?:[^=]|=\s*.checked.)/i,fe=/^true\/(.*)/,pe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function me(e,t){return f.nodeName(e,"table")&&f.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ge(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ve(e){var t=fe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ye(e,t){var n,i,r,a,o,s,c,l;if(1===t.nodeType){if(R.hasData(e)&&(a=R.access(e),o=R.set(t,a),l=a.events))for(r in delete o.handle,o.events={},l)for(n=0,i=l[r].length;n<i;n++)f.event.add(t,r,l[r][n]);O.hasData(e)&&(s=O.access(e),c=f.extend({},s),O.set(t,c))}}function be(e,t,n,i){t=a.apply([],t);var r,o,s,c,l,u,h=0,p=e.length,m=p-1,g=t[0],v=f.isFunction(g);if(v||p>1&&"string"==typeof g&&!d.checkClone&&he.test(g))return e.each((function(r){var a=e.eq(r);v&&(t[0]=g.call(this,r,a.html())),be(a,t,n,i)}));if(p&&(o=(r=ne(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(c=(s=f.map(Q(r,"script"),ge)).length;h<p;h++)l=r,h!==m&&(l=f.clone(l,!0,!0),c&&f.merge(s,Q(l,"script"))),n.call(e[h],l,h);if(c)for(u=s[s.length-1].ownerDocument,f.map(s,ve),h=0;h<c;h++)l=s[h],Z.test(l.type||"")&&!R.access(l,"globalEval")&&f.contains(u,l)&&(l.src?f._evalUrl&&f._evalUrl(l.src):f.globalEval(l.textContent.replace(pe,"")))}return e}function we(e,t,n){for(var i,r=t?f.filter(t,e):e,a=0;null!=(i=r[a]);a++)n||1!==i.nodeType||f.cleanData(Q(i)),i.parentNode&&(n&&f.contains(i.ownerDocument,i)&&X(Q(i,"script")),i.parentNode.removeChild(i));return e}f.extend({htmlPrefilter:function(e){return e.replace(ue,"<$1></$2>")},clone:function(e,t,n){var i,r,a,o,s,c,l,u=e.cloneNode(!0),h=f.contains(e.ownerDocument,e);if(!(d.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||f.isXMLDoc(e)))for(o=Q(u),i=0,r=(a=Q(e)).length;i<r;i++)s=a[i],c=o[i],l=void 0,"input"===(l=c.nodeName.toLowerCase())&&$.test(s.type)?c.checked=s.checked:"input"!==l&&"textarea"!==l||(c.defaultValue=s.defaultValue);if(t)if(n)for(a=a||Q(e),o=o||Q(u),i=0,r=a.length;i<r;i++)ye(a[i],o[i]);else ye(e,u);return(o=Q(u,"script")).length>0&&X(o,!h&&Q(e,"script")),u},cleanData:function(e){for(var t,n,i,r=f.event.special,a=0;void 0!==(n=e[a]);a++)if(j(n)){if(t=n[R.expando]){if(t.events)for(i in t.events)r[i]?f.event.remove(n,i):f.removeEvent(n,i,t.handle);n[R.expando]=void 0}n[O.expando]&&(n[O.expando]=void 0)}}}),f.fn.extend({domManip:be,detach:function(e){return we(this,e,!0)},remove:function(e){return we(this,e)},text:function(e){return P(this,(function(e){return void 0===e?f.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return be(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||me(this,e).appendChild(e)}))},prepend:function(){return be(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=me(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return be(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(f.cleanData(Q(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return f.clone(this,e,t)}))},html:function(e){return P(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!de.test(e)&&!J[(Y.exec(e)||["",""])[1].toLowerCase()]){e=f.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(f.cleanData(Q(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return be(this,arguments,(function(t){var n=this.parentNode;f.inArray(this,e)<0&&(f.cleanData(Q(this)),n&&n.replaceChild(t,this))}),e)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){f.fn[e]=function(e){for(var n,i=[],r=f(e),a=r.length-1,s=0;s<=a;s++)n=s===a?this:this.clone(!0),f(r[s])[t](n),o.apply(i,n.get());return this.pushStack(i)}}));var xe,ke={HTML:"block",BODY:"block"};function Se(e,t){var n=f(t.createElement(e)).appendTo(t.body),i=f.css(n[0],"display");return n.detach(),i}function Me(e){var t=i,n=ke[e];return n||("none"!==(n=Se(e,t))&&n||((t=(xe=(xe||f("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Se(e,t),xe.detach()),ke[e]=n),n}var Ce=/^margin/,_e=new RegExp("^("+F+")(?!px)[a-z%]+$","i"),Te=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Le=function(e,t,n,i){var r,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in r=n.apply(e,i||[]),t)e.style[a]=o[a];return r},Ee=i.documentElement;function Ie(e,t,n){var i,r,a,o,s=e.style;return""!==(o=(n=n||Te(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==o||f.contains(e.ownerDocument,e)||(o=f.style(e,t)),n&&!d.pixelMarginRight()&&_e.test(o)&&Ce.test(t)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a),void 0!==o?o+"":o}function Ae(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,n,r,a,o=i.createElement("div"),s=i.createElement("div");function c(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ee.appendChild(o);var i=e.getComputedStyle(s);t="1%"!==i.top,a="2px"===i.marginLeft,n="4px"===i.width,s.style.marginRight="50%",r="4px"===i.marginRight,Ee.removeChild(o)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",d.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",o.appendChild(s),f.extend(d,{pixelPosition:function(){return c(),t},boxSizingReliable:function(){return null==n&&c(),n},pixelMarginRight:function(){return null==n&&c(),r},reliableMarginLeft:function(){return null==n&&c(),a},reliableMarginRight:function(){var t,n=s.appendChild(i.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",Ee.appendChild(o),t=!parseFloat(e.getComputedStyle(n).marginRight),Ee.removeChild(o),s.removeChild(n),t}}))}();var De=/^(none|table(?!-c[ea]).+)/,We={position:"absolute",visibility:"hidden",display:"block"},Pe={letterSpacing:"0",fontWeight:"400"},je=["Webkit","O","Moz","ms"],qe=i.createElement("div").style;function Re(e){if(e in qe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=je.length;n--;)if((e=je[n]+t)in qe)return e}function Oe(e,t,n){var i=V.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ne(e,t,n,i,r){for(var a=n===(i?"border":"content")?4:"width"===t?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=f.css(e,n+U[a],!0,r)),i?("content"===n&&(o-=f.css(e,"padding"+U[a],!0,r)),"margin"!==n&&(o-=f.css(e,"border"+U[a]+"Width",!0,r))):(o+=f.css(e,"padding"+U[a],!0,r),"padding"!==n&&(o+=f.css(e,"border"+U[a]+"Width",!0,r)));return o}function He(t,n,r){var a=!0,o="width"===n?t.offsetWidth:t.offsetHeight,s=Te(t),c="border-box"===f.css(t,"boxSizing",!1,s);if(i.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[n])),o<=0||null==o){if(((o=Ie(t,n,s))<0||null==o)&&(o=t.style[n]),_e.test(o))return o;a=c&&(d.boxSizingReliable()||o===t.style[n]),o=parseFloat(o)||0}return o+Ne(t,n,r||(c?"border":"content"),a,s)+"px"}function Be(e,t){for(var n,i,r,a=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(a[o]=R.get(i,"olddisplay"),n=i.style.display,t?(a[o]||"none"!==n||(i.style.display=""),""===i.style.display&&z(i)&&(a[o]=R.access(i,"olddisplay",Me(i.nodeName)))):(r=z(i),"none"===n&&r||R.set(i,"olddisplay",r?n:f.css(i,"display"))));for(o=0;o<s;o++)(i=e[o]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?a[o]||"":"none"));return e}function Fe(e,t,n,i,r){return new Fe.prototype.init(e,t,n,i,r)}f.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ie(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,s=f.camelCase(t),c=e.style;if(t=f.cssProps[s]||(f.cssProps[s]=Re(s)||s),o=f.cssHooks[t]||f.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(e,!1,i))?r:c[t];"string"===(a=typeof n)&&(r=V.exec(n))&&r[1]&&(n=G(e,t,r),a="number"),null!=n&&n==n&&("number"===a&&(n+=r&&r[3]||(f.cssNumber[s]?"":"px")),d.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,i))||(c[t]=n))}},css:function(e,t,n,i){var r,a,o,s=f.camelCase(t);return t=f.cssProps[s]||(f.cssProps[s]=Re(s)||s),(o=f.cssHooks[t]||f.cssHooks[s])&&"get"in o&&(r=o.get(e,!0,n)),void 0===r&&(r=Ie(e,t,i)),"normal"===r&&t in Pe&&(r=Pe[t]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),f.each(["height","width"],(function(e,t){f.cssHooks[t]={get:function(e,n,i){if(n)return De.test(f.css(e,"display"))&&0===e.offsetWidth?Le(e,We,(function(){return He(e,t,i)})):He(e,t,i)},set:function(e,n,i){var r,a=i&&Te(e),o=i&&Ne(e,t,i,"border-box"===f.css(e,"boxSizing",!1,a),a);return o&&(r=V.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=f.css(e,t)),Oe(0,n,o)}}})),f.cssHooks.marginLeft=Ae(d.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ie(e,"marginLeft"))||e.getBoundingClientRect().left-Le(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),f.cssHooks.marginRight=Ae(d.reliableMarginRight,(function(e,t){if(t)return Le(e,{display:"inline-block"},Ie,[e,"marginRight"])})),f.each({margin:"",padding:"",border:"Width"},(function(e,t){f.cssHooks[e+t]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+U[i]+t]=a[i]||a[i-2]||a[0];return r}},Ce.test(e)||(f.cssHooks[e+t].set=Oe)})),f.fn.extend({css:function(e,t){return P(this,(function(e,t,n){var i,r,a={},o=0;if(f.isArray(t)){for(i=Te(e),r=t.length;o<r;o++)a[t[o]]=f.css(e,t[o],!1,i);return a}return void 0!==n?f.style(e,t,n):f.css(e,t)}),e,t,arguments.length>1)},show:function(){return Be(this,!0)},hide:function(){return Be(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){z(this)?f(this).show():f(this).hide()}))}}),f.Tween=Fe,Fe.prototype={constructor:Fe,init:function(e,t,n,i,r,a){this.elem=e,this.prop=n,this.easing=r||f.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=a||(f.cssNumber[n]?"":"px")},cur:function(){var e=Fe.propHooks[this.prop];return e&&e.get?e.get(this):Fe.propHooks._default.get(this)},run:function(e){var t,n=Fe.propHooks[this.prop];return this.options.duration?this.pos=t=f.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Fe.propHooks._default.set(this),this}},Fe.prototype.init.prototype=Fe.prototype,Fe.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=f.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){f.fx.step[e.prop]?f.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[f.cssProps[e.prop]]&&!f.cssHooks[e.prop]?e.elem[e.prop]=e.now:f.style(e.elem,e.prop,e.now+e.unit)}}},Fe.propHooks.scrollTop=Fe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},f.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},f.fx=Fe.prototype.init,f.fx.step={};var Ve,Ue,ze=/^(?:toggle|show|hide)$/,Ge=/queueHooks$/;function $e(){return e.setTimeout((function(){Ve=void 0})),Ve=f.now()}function Ye(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=U[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Ze(e,t,n){for(var i,r=(Je.tweeners[t]||[]).concat(Je.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,t,e))return i}function Je(e,t,n){var i,r,a=0,o=Je.prefilters.length,s=f.Deferred().always((function(){delete c.elem})),c=function(){if(r)return!1;for(var t=Ve||$e(),n=Math.max(0,l.startTime+l.duration-t),i=1-(n/l.duration||0),a=0,o=l.tweens.length;a<o;a++)l.tweens[a].run(i);return s.notifyWith(e,[l,i,n]),i<1&&o?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:f.extend({},t),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},n),originalProperties:t,originalOptions:n,startTime:Ve||$e(),duration:n.duration,tweens:[],createTween:function(t,n){var i=f.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,i=t?l.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(!function(e,t){var n,i,r,a,o;for(n in e)if(r=t[i=f.camelCase(n)],a=e[n],f.isArray(a)&&(r=a[1],a=e[n]=a[0]),n!==i&&(e[i]=a,delete e[n]),(o=f.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete e[i],a)n in e||(e[n]=a[n],t[n]=r);else t[i]=r}(u,l.opts.specialEasing);a<o;a++)if(i=Je.prefilters[a].call(l,e,u,l.opts))return f.isFunction(i.stop)&&(f._queueHooks(l.elem,l.opts.queue).stop=f.proxy(i.stop,i)),i;return f.map(u,Ze,l),f.isFunction(l.opts.start)&&l.opts.start.call(e,l),f.fx.timer(f.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}f.Animation=f.extend(Je,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return G(n.elem,e,V.exec(t),n),n}]},tweener:function(e,t){f.isFunction(e)?(t=e,e=["*"]):e=e.match(D);for(var n,i=0,r=e.length;i<r;i++)n=e[i],Je.tweeners[n]=Je.tweeners[n]||[],Je.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,a,o,s,c,l,u=this,d={},h=e.style,p=e.nodeType&&z(e),m=R.get(e,"fxshow");for(i in n.queue||(null==(s=f._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,c=s.empty.fire,s.empty.fire=function(){s.unqueued||c()}),s.unqueued++,u.always((function(){u.always((function(){s.unqueued--,f.queue(e,"fx").length||s.empty.fire()}))}))),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(l=f.css(e,"display"))?R.get(e,"olddisplay")||Me(e.nodeName):l)&&"none"===f.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",u.always((function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}))),t)if(r=t[i],ze.exec(r)){if(delete t[i],a=a||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}d[i]=m&&m[i]||f.style(e,i)}else l=void 0;if(f.isEmptyObject(d))"inline"===("none"===l?Me(e.nodeName):l)&&(h.display=l);else for(i in m?"hidden"in m&&(p=m.hidden):m=R.access(e,"fxshow",{}),a&&(m.hidden=!p),p?f(e).show():u.done((function(){f(e).hide()})),u.done((function(){var t;for(t in R.remove(e,"fxshow"),d)f.style(e,t,d[t])})),d)o=Ze(p?m[i]:0,i,u),i in m||(m[i]=o.start,p&&(o.end=o.start,o.start="width"===i||"height"===i?1:0))}],prefilter:function(e,t){t?Je.prefilters.unshift(e):Je.prefilters.push(e)}}),f.speed=function(e,t,n){var i=e&&"object"==typeof e?f.extend({},e):{complete:n||!n&&t||f.isFunction(e)&&e,duration:e,easing:n&&t||t&&!f.isFunction(t)&&t};return i.duration=f.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in f.fx.speeds?f.fx.speeds[i.duration]:f.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f.isFunction(i.old)&&i.old.call(this),i.queue&&f.dequeue(this,i.queue)},i},f.fn.extend({fadeTo:function(e,t,n,i){return this.filter(z).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=f.isEmptyObject(e),a=f.speed(t,n,i),o=function(){var t=Je(this,f.extend({},e),a);(r||R.get(this,"finish"))&&t.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",a=f.timers,o=R.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&Ge.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem!==this||null!=e&&a[r].queue!==e||(a[r].anim.stop(n),t=!1,a.splice(r,1));!t&&n||f.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=R.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],a=f.timers,o=i?i.length:0;for(n.finish=!0,f.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),f.each(["toggle","show","hide"],(function(e,t){var n=f.fn[t];f.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Ye(t,!0),e,i,r)}})),f.each({slideDown:Ye("show"),slideUp:Ye("hide"),slideToggle:Ye("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){f.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),f.timers=[],f.fx.tick=function(){var e,t=0,n=f.timers;for(Ve=f.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||f.fx.stop(),Ve=void 0},f.fx.timer=function(e){f.timers.push(e),e()?f.fx.start():f.timers.pop()},f.fx.interval=13,f.fx.start=function(){Ue||(Ue=e.setInterval(f.fx.tick,f.fx.interval))},f.fx.stop=function(){e.clearInterval(Ue),Ue=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(t,n){return t=f.fx&&f.fx.speeds[t]||t,n=n||"fx",this.queue(n,(function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}}))},function(){var e=i.createElement("input"),t=i.createElement("select"),n=t.appendChild(i.createElement("option"));e.type="checkbox",d.checkOn=""!==e.value,d.optSelected=n.selected,t.disabled=!0,d.optDisabled=!n.disabled,(e=i.createElement("input")).value="t",e.type="radio",d.radioValue="t"===e.value}();var Qe,Xe=f.expr.attrHandle;f.fn.extend({attr:function(e,t){return P(this,f.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){f.removeAttr(this,e)}))}}),f.extend({attr:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?f.prop(e,t,n):(1===a&&f.isXMLDoc(e)||(t=t.toLowerCase(),r=f.attrHooks[t]||(f.expr.match.bool.test(t)?Qe:void 0)),void 0!==n?null===n?void f.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=f.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!d.radioValue&&"radio"===t&&f.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,a=t&&t.match(D);if(a&&1===e.nodeType)for(;n=a[r++];)i=f.propFix[n]||n,f.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)}}),Qe={set:function(e,t,n){return!1===t?f.removeAttr(e,n):e.setAttribute(n,n),n}},f.each(f.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=Xe[t]||f.find.attr;Xe[t]=function(e,t,i){var r,a;return i||(a=Xe[t],Xe[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Xe[t]=a),r}}));var Ke=/^(?:input|select|textarea|button)$/i,et=/^(?:a|area)$/i;f.fn.extend({prop:function(e,t){return P(this,f.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[f.propFix[e]||e]}))}}),f.extend({prop:function(e,t,n){var i,r,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&f.isXMLDoc(e)||(t=f.propFix[t]||t,r=f.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=f.find.attr(e,"tabindex");return t?parseInt(t,10):Ke.test(e.nodeName)||et.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),d.optSelected||(f.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){f.propFix[this.toLowerCase()]=this}));var tt=/[\t\r\n\f]/g;function nt(e){return e.getAttribute&&e.getAttribute("class")||""}f.fn.extend({addClass:function(e){var t,n,i,r,a,o,s,c=0;if(f.isFunction(e))return this.each((function(t){f(this).addClass(e.call(this,t,nt(this)))}));if("string"==typeof e&&e)for(t=e.match(D)||[];n=this[c++];)if(r=nt(n),i=1===n.nodeType&&(" "+r+" ").replace(tt," ")){for(o=0;a=t[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=f.trim(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,r,a,o,s,c=0;if(f.isFunction(e))return this.each((function(t){f(this).removeClass(e.call(this,t,nt(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(D)||[];n=this[c++];)if(r=nt(n),i=1===n.nodeType&&(" "+r+" ").replace(tt," ")){for(o=0;a=t[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=f.trim(i))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):f.isFunction(e)?this.each((function(n){f(this).toggleClass(e.call(this,n,nt(this),t),t)})):this.each((function(){var t,i,r,a;if("string"===n)for(i=0,r=f(this),a=e.match(D)||[];t=a[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else void 0!==e&&"boolean"!==n||((t=nt(this))&&R.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":R.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+nt(n)+" ").replace(tt," ").indexOf(t)>-1)return!0;return!1}});var it=/\r/g,rt=/[\x20\t\r\n\f]+/g;f.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=f.isFunction(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,f(this).val()):e)?r="":"number"==typeof r?r+="":f.isArray(r)&&(r=f.map(r,(function(e){return null==e?"":e+""}))),(t=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=f.valHooks[r.type]||f.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(it,""):null==n?"":n:void 0}}),f.extend({valHooks:{option:{get:function(e){var t=f.find.attr(e,"value");return null!=t?t:f.trim(f.text(e)).replace(rt," ")}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,a="select-one"===e.type||r<0,o=a?null:[],s=a?r+1:i.length,c=r<0?s:a?r:0;c<s;c++)if(((n=i[c]).selected||c===r)&&(d.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!f.nodeName(n.parentNode,"optgroup"))){if(t=f(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,a=f.makeArray(t),o=r.length;o--;)((i=r[o]).selected=f.inArray(f.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),f.each(["radio","checkbox"],(function(){f.valHooks[this]={set:function(e,t){if(f.isArray(t))return e.checked=f.inArray(f(e).val(),t)>-1}},d.checkOn||(f.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}));var at=/^(?:focusinfocus|focusoutblur)$/;f.extend(f.event,{trigger:function(t,n,r,a){var o,s,c,l,d,h,p,m=[r||i],g=u.call(t,"type")?t.type:t,v=u.call(t,"namespace")?t.namespace.split("."):[];if(s=c=r=r||i,3!==r.nodeType&&8!==r.nodeType&&!at.test(g+f.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),d=g.indexOf(":")<0&&"on"+g,(t=t[f.expando]?t:new f.Event(g,"object"==typeof t&&t)).isTrigger=a?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:f.makeArray(n,[t]),p=f.event.special[g]||{},a||!p.trigger||!1!==p.trigger.apply(r,n))){if(!a&&!p.noBubble&&!f.isWindow(r)){for(l=p.delegateType||g,at.test(l+g)||(s=s.parentNode);s;s=s.parentNode)m.push(s),c=s;c===(r.ownerDocument||i)&&m.push(c.defaultView||c.parentWindow||e)}for(o=0;(s=m[o++])&&!t.isPropagationStopped();)t.type=o>1?l:p.bindType||g,(h=(R.get(s,"events")||{})[t.type]&&R.get(s,"handle"))&&h.apply(s,n),(h=d&&s[d])&&h.apply&&j(s)&&(t.result=h.apply(s,n),!1===t.result&&t.preventDefault());return t.type=g,a||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(m.pop(),n)||!j(r)||d&&f.isFunction(r[g])&&!f.isWindow(r)&&((c=r[d])&&(r[d]=null),f.event.triggered=g,r[g](),f.event.triggered=void 0,c&&(r[d]=c)),t.result}},simulate:function(e,t,n){var i=f.extend(new f.Event,n,{type:e,isSimulated:!0});f.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}}),f.fn.extend({trigger:function(e,t){return this.each((function(){f.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return f.event.trigger(e,t,n,!0)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){f.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),f.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),d.focusin="onfocusin"in e,d.focusin||f.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){f.event.simulate(t,e.target,f.event.fix(e))};f.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=R.access(i,t);r||i.addEventListener(e,n,!0),R.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=R.access(i,t)-1;r?R.access(i,t,r):(i.removeEventListener(e,n,!0),R.remove(i,t))}}}));var ot=e.location,st=f.now(),ct=/\?/;f.parseJSON=function(e){return JSON.parse(e+"")},f.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+t),n};var lt=/#.*$/,ut=/([?&])_=[^&]*/,dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,ht=/^(?:GET|HEAD)$/,ft=/^\/\//,pt={},mt={},gt="*/".concat("*"),vt=i.createElement("a");function yt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,a=t.toLowerCase().match(D)||[];if(f.isFunction(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function bt(e,t,n,i){var r={},a=e===mt;function o(s){var c;return r[s]=!0,f.each(e[s]||[],(function(e,s){var l=s(t,n,i);return"string"!=typeof l||a||r[l]?a?!(c=l):void 0:(t.dataTypes.unshift(l),o(l),!1)})),c}return o(t.dataTypes[0])||!r["*"]&&o("*")}function wt(e,t){var n,i,r=f.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&f.extend(!0,e,i),e}vt.href=ot.href,f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ot.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?wt(wt(e,f.ajaxSettings),t):wt(f.ajaxSettings,e)},ajaxPrefilter:yt(pt),ajaxTransport:yt(mt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,a,o,s,c,l,u,d,h=f.ajaxSetup({},n),p=h.context||h,m=h.context&&(p.nodeType||p.jquery)?f(p):f.event,g=f.Deferred(),v=f.Callbacks("once memory"),y=h.statusCode||{},b={},w={},x=0,k="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!s)for(s={};t=dt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=w[n]=w[n]||e,b[e]=t),this},overrideMimeType:function(e){return x||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)y[t]=[y[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||k;return r&&r.abort(t),M(0,t),this}};if(g.promise(S).complete=v.add,S.success=S.done,S.error=S.fail,h.url=((t||h.url||ot.href)+"").replace(lt,"").replace(ft,ot.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=f.trim(h.dataType||"*").toLowerCase().match(D)||[""],null==h.crossDomain){l=i.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=vt.protocol+"//"+vt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=f.param(h.data,h.traditional)),bt(pt,h,n,S),2===x)return S;for(d in(u=f.event&&h.global)&&0==f.active++&&f.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ht.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(ct.test(a)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=ut.test(a)?a.replace(ut,"$1_="+st++):a+(ct.test(a)?"&":"?")+"_="+st++)),h.ifModified&&(f.lastModified[a]&&S.setRequestHeader("If-Modified-Since",f.lastModified[a]),f.etag[a]&&S.setRequestHeader("If-None-Match",f.etag[a])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&S.setRequestHeader("Content-Type",h.contentType),S.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+gt+"; q=0.01":""):h.accepts["*"]),h.headers)S.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,S,h)||2===x))return S.abort();for(d in k="abort",{success:1,error:1,complete:1})S[d](h[d]);if(r=bt(mt,h,n,S)){if(S.readyState=1,u&&m.trigger("ajaxSend",[S,h]),2===x)return S;h.async&&h.timeout>0&&(c=e.setTimeout((function(){S.abort("timeout")}),h.timeout));try{x=1,r.send(b,M)}catch(e){if(!(x<2))throw e;M(-1,e)}}else M(-1,"No Transport");function M(t,n,i,s){var l,d,b,w,k,M=n;2!==x&&(x=2,c&&e.clearTimeout(c),r=void 0,o=s||"",S.readyState=t>0?4:0,l=t>=200&&t<300||304===t,i&&(w=function(e,t,n){for(var i,r,a,o,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){c.unshift(r);break}if(c[0]in n)a=c[0];else{for(r in n){if(!c[0]||e.converters[r+" "+c[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==c[0]&&c.unshift(a),n[a]}(h,S,i)),w=function(e,t,n,i){var r,a,o,s,c,l={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!c&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=a,a=u.shift())if("*"===a)a=c;else if("*"!==c&&c!==a){if(!(o=l[c+" "+a]||l["* "+a]))for(r in l)if((s=r.split(" "))[1]===a&&(o=l[c+" "+s[0]]||l["* "+s[0]])){!0===o?o=l[r]:!0!==l[r]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+c+" to "+a}}}return{state:"success",data:t}}(h,w,S,l),l?(h.ifModified&&((k=S.getResponseHeader("Last-Modified"))&&(f.lastModified[a]=k),(k=S.getResponseHeader("etag"))&&(f.etag[a]=k)),204===t||"HEAD"===h.type?M="nocontent":304===t?M="notmodified":(M=w.state,d=w.data,l=!(b=w.error))):(b=M,!t&&M||(M="error",t<0&&(t=0))),S.status=t,S.statusText=(n||M)+"",l?g.resolveWith(p,[d,M,S]):g.rejectWith(p,[S,M,b]),S.statusCode(y),y=void 0,u&&m.trigger(l?"ajaxSuccess":"ajaxError",[S,h,l?d:b]),v.fireWith(p,[S,M]),u&&(m.trigger("ajaxComplete",[S,h]),--f.active||f.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return f.get(e,t,n,"json")},getScript:function(e,t){return f.get(e,void 0,t,"script")}}),f.each(["get","post"],(function(e,t){f[t]=function(e,n,i,r){return f.isFunction(n)&&(r=r||i,i=n,n=void 0),f.ajax(f.extend({url:e,type:t,dataType:r,data:n,success:i},f.isPlainObject(e)&&e))}})),f._evalUrl=function(e){return f.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},f.expr.filters.hidden=function(e){return!f.expr.filters.visible(e)},f.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var xt=/%20/g,kt=/\[\]$/,St=/\r?\n/g,Mt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;function _t(e,t,n,i){var r;if(f.isArray(t))f.each(t,(function(t,r){n||kt.test(e)?i(e,r):_t(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==f.type(t))i(e,t);else for(r in t)_t(e+"["+r+"]",t[r],n,i)}f.param=function(e,t){var n,i=[],r=function(e,t){t=f.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(e)||e.jquery&&!f.isPlainObject(e))f.each(e,(function(){r(this.name,this.value)}));else for(n in e)_t(n,e[n],t,r);return i.join("&").replace(xt,"+")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=f.prop(this,"elements");return e?f.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!f(this).is(":disabled")&&Ct.test(this.nodeName)&&!Mt.test(e)&&(this.checked||!$.test(e))})).map((function(e,t){var n=f(this).val();return null==n?null:f.isArray(n)?f.map(n,(function(e){return{name:t.name,value:e.replace(St,"\r\n")}})):{name:t.name,value:n.replace(St,"\r\n")}})).get()}}),f.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Tt={0:200,1223:204},Lt=f.ajaxSettings.xhr();d.cors=!!Lt&&"withCredentials"in Lt,d.ajax=Lt=!!Lt,f.ajaxTransport((function(t){var n,i;if(d.cors||Lt&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);n=function(e){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(Tt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout((function(){n&&i()}))},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}})),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return f.globalEval(e),e}}}),f.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),f.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain)return{send:function(r,a){t=f("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&a("error"===e.type?404:200,e.type)}),i.head.appendChild(t[0])},abort:function(){n&&n()}}})),f.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||i;var r=S.exec(e),a=!n&&[];return r?[t.createElement(r[1])]:(r=ne([e],t,a),a&&a.length&&f(a).remove(),f.merge([],r.childNodes))};var Et=f.fn.load;function It(e){return f.isWindow(e)?e:9===e.nodeType&&e.defaultView}f.fn.load=function(e,t,n){if("string"!=typeof e&&Et)return Et.apply(this,arguments);var i,r,a,o=this,s=e.indexOf(" ");return s>-1&&(i=f.trim(e.slice(s)),e=e.slice(0,s)),f.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),o.length>0&&f.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){a=arguments,o.html(i?f("<div>").append(f.parseHTML(e)).find(i):e)})).always(n&&function(e,t){o.each((function(){n.apply(this,a||[e.responseText,t,e])}))}),this},f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){f.fn[t]=function(e){return this.on(t,e)}})),f.expr.filters.animated=function(e){return f.grep(f.timers,(function(t){return e===t.elem})).length},f.offset={setOffset:function(e,t,n){var i,r,a,o,s,c,l=f.css(e,"position"),u=f(e),d={};"static"===l&&(e.style.position="relative"),s=u.offset(),a=f.css(e,"top"),c=f.css(e,"left"),("absolute"===l||"fixed"===l)&&(a+c).indexOf("auto")>-1?(o=(i=u.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(c)||0),f.isFunction(t)&&(t=t.call(e,n,f.extend({},s))),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},f.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){f.offset.setOffset(this,e,t)}));var t,n,i=this[0],r={top:0,left:0},a=i&&i.ownerDocument;return a?(t=a.documentElement,f.contains(t,i)?(r=i.getBoundingClientRect(),n=It(a),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===f.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),f.nodeName(e[0],"html")||(i=e.offset()),i.top+=f.css(e[0],"borderTopWidth",!0),i.left+=f.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-f.css(n,"marginTop",!0),left:t.left-i.left-f.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===f.css(e,"position");)e=e.offsetParent;return e||Ee}))}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;f.fn[e]=function(i){return P(this,(function(e,i,r){var a=It(e);if(void 0===r)return a?a[t]:e[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):e[i]=r}),e,i,arguments.length)}})),f.each(["top","left"],(function(e,t){f.cssHooks[t]=Ae(d.pixelPosition,(function(e,n){if(n)return n=Ie(e,t),_e.test(n)?f(e).position()[t]+"px":n}))})),f.each({Height:"height",Width:"width"},(function(e,t){f.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){f.fn[i]=function(i,r){var a=arguments.length&&(n||"boolean"!=typeof i),o=n||(!0===i||!0===r?"margin":"border");return P(this,(function(t,n,i){var r;return f.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?f.css(t,n,o):f.style(t,n,i,o)}),t,a?i:void 0,a,null)}}))})),f.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),f.fn.andSelf=f.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return f}));var At=e.jQuery,Dt=e.$;return f.noConflict=function(t){return e.$===f&&(e.$=Dt),t&&e.jQuery===f&&(e.jQuery=At),f},t||(e.jQuery=e.$=f),f})),function(e,t){"use strict";if(!e.setImmediate){var n,i,r,a,o,s=1,c={},l=!1,u=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?n=function(){var e=h(arguments);return process.nextTick(f(p,e)),e}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((r=new MessageChannel).port1.onmessage=function(e){p(e.data)},n=function(){var e=h(arguments);return r.port2.postMessage(e),e}):u&&"onreadystatechange"in u.createElement("script")?(i=u.documentElement,n=function(){var e=h(arguments),t=u.createElement("script");return t.onreadystatechange=function(){p(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t),e}):n=function(){var e=h(arguments);return setTimeout(f(p,e),0),e}:(a="setImmediate$"+Math.random()+"$",o=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&p(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent("onmessage",o),n=function(){var t=h(arguments);return e.postMessage(a+t,"*"),t}),d.setImmediate=n,d.clearImmediate=m}function h(e){return c[s]=f.apply(void 0,e),s++}function f(e){var t=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(void 0,t):new Function(""+e)()}}function p(e){if(l)setTimeout(f(p,e),0);else{var t=c[e];if(t){l=!0;try{t()}finally{m(e),l=!1}}}}function m(e){delete c[e]}}("undefined"==typeof self?"undefined"==typeof global?this:global:self),
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
 * @version   3.0.2
 */
function(){"use strict";function e(e){return"function"==typeof e}var t,n,i=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,a=function(e,t){v[r]=e,v[r+1]=t,2===(r+=2)&&(n?n(y):h())};var o="undefined"!=typeof window?window:void 0,s=o||{},c=s.MutationObserver||s.WebKitMutationObserver,l="undefined"!=typeof process&&"[object process]"==={}.toString.call(process),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){return function(){setTimeout(y,1)}}var h,f,p,m,g,v=new Array(1e3);function y(){for(var e=0;e<r;e+=2){(0,v[e])(v[e+1]),v[e]=void 0,v[e+1]=void 0}r=0}function b(){}l?h=function(){process.nextTick(y)}:c?(p=0,m=new c(y),g=document.createTextNode(""),m.observe(g,{characterData:!0}),h=function(){g.data=p=++p%2}):u?((f=new MessageChannel).port1.onmessage=y,h=function(){f.port2.postMessage(0)}):h=void 0===o&&"function"==typeof require?function(){try{var e=require("vertx");return t=e.runOnLoop||e.runOnContext,function(){t(y)}}catch(e){return d()}}():d();var w=new L;function x(t,n){if(n.constructor===t.constructor)!function(e,t){1===t._state?M(e,t._result):2===t._state?C(e,t._result):_(t,void 0,(function(t){k(e,t)}),(function(t){C(e,t)}))}(t,n);else{var i=function(e){try{return e.then}catch(e){return w.error=e,w}}(n);i===w?C(t,w.error):void 0===i?M(t,n):e(i)?function(e,t,n){a((function(e){var i=!1,r=function(e,t,n,i){try{e.call(t,n,i)}catch(e){return e}}(n,t,(function(n){i||(i=!0,t!==n?k(e,n):M(e,n))}),(function(t){i||(i=!0,C(e,t))}),e._label);!i&&r&&(i=!0,C(e,r))}),e)}(t,n,i):M(t,n)}}function k(e,t){var n;e===t?C(e,new TypeError("You cannot resolve a promise with itself")):"function"==typeof(n=t)||"object"==typeof n&&null!==n?x(e,t):M(e,t)}function S(e){e._onerror&&e._onerror(e._result),T(e)}function M(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&a(T,e))}function C(e,t){void 0===e._state&&(e._state=2,e._result=t,a(S,e))}function _(e,t,n,i){var r=e._subscribers,o=r.length;e._onerror=null,r[o]=t,r[o+1]=n,r[o+2]=i,0===o&&e._state&&a(T,e)}function T(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var i,r,a=e._result,o=0;o<t.length;o+=3)i=t[o],r=t[o+n],i?I(n,i,r,a):r(a);e._subscribers.length=0}}function L(){this.error=null}var E=new L;function I(t,n,i,r){var a,o,s,c,l=e(i);if(l){if((a=function(e,t){try{return e(t)}catch(e){return E.error=e,E}}(i,r))===E?(c=!0,o=a.error,a=null):s=!0,n===a)return void C(n,new TypeError("A promises callback cannot return that same promise."))}else a=r,s=!0;void 0!==n._state||(l&&s?k(n,a):c?C(n,o):1===t?M(n,a):2===t&&C(n,a))}function A(e,t){this._instanceConstructor=e,this.promise=new e(b),this._validateInput(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._init(),0===this.length?M(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&M(this.promise,this._result))):C(this.promise,this._validationError())}A.prototype._validateInput=function(e){return i(e)},A.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},A.prototype._init=function(){this._result=new Array(this.length)};var D=A;A.prototype._enumerate=function(){for(var e=this.length,t=this.promise,n=this._input,i=0;void 0===t._state&&i<e;i++)this._eachEntry(n[i],i)},A.prototype._eachEntry=function(e,t){var n,i=this._instanceConstructor;"object"==typeof(n=e)&&null!==n?e.constructor===i&&void 0!==e._state?(e._onerror=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(i.resolve(e),t):(this._remaining--,this._result[t]=e)},A.prototype._settledAt=function(e,t,n){var i=this.promise;void 0===i._state&&(this._remaining--,2===e?C(i,n):this._result[t]=n),0===this._remaining&&M(i,this._result)},A.prototype._willSettleAt=function(e,t){var n=this;_(e,void 0,(function(e){n._settledAt(1,t,e)}),(function(e){n._settledAt(2,t,e)}))};var W=function(e){return new D(this,e).promise};var P=function(e){var t=new this(b);if(!i(e))return C(t,new TypeError("You must pass an array to race.")),t;var n=e.length;function r(e){k(t,e)}function a(e){C(t,e)}for(var o=0;void 0===t._state&&o<n;o++)_(this.resolve(e[o]),void 0,r,a);return t};var j=function(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(b);return k(t,e),t};var q=function(e){var t=new this(b);return C(t,e),t},R=0;var O=N;function N(t){this._id=R++,this._state=void 0,this._result=void 0,this._subscribers=[],b!==t&&(e(t)||function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof N||function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}(),function(e,t){try{t((function(t){k(e,t)}),(function(t){C(e,t)}))}catch(t){C(e,t)}}(this,t))}N.all=W,N.race=P,N.resolve=j,N.reject=q,N._setScheduler=function(e){n=e},N._setAsap=function(e){a=e},N._asap=a,N.prototype={constructor:N,then:function(e,t){var n=this,i=n._state;if(1===i&&!e||2===i&&!t)return this;var r=new this.constructor(b),o=n._result;if(i){var s=arguments[i-1];a((function(){I(i,r,s,o)}))}else _(n,r,e,t);return r},catch:function(e){return this.then(null,e)}};var H=function(){var e;if("undefined"!=typeof global)e=global;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=O)},B={Promise:O,polyfill:H};"function"==typeof define&&define.amd?define((function(){return B})):"undefined"!=typeof module&&module.exports?module.exports=B:void 0!==this&&(this.ES6Promise=B),H()}.call(this),function(){"use strict";if(!self.fetch){s.prototype.append=function(e,t){e=a(e),t=o(t);var n=this.map[e];n||(n=[],this.map[e]=n),n.push(t)},s.prototype.delete=function(e){delete this.map[a(e)]},s.prototype.get=function(e){var t=this.map[a(e)];return t?t[0]:null},s.prototype.getAll=function(e){return this.map[a(e)]||[]},s.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},s.prototype.set=function(e,t){this.map[a(e)]=[o(t)]},s.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach((function(n){this.map[n].forEach((function(i){e.call(t,i,n,this)}),this)}),this)};var e="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),t="FormData"in self,n="ArrayBuffer"in self,i=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];h.prototype.clone=function(){return new h(this)},d.call(h.prototype),d.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var r=[301,302,303,307,308];m.redirect=function(e,t){if(-1===r.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})},self.Headers=s,self.Request=h,self.Response=m,self.fetch=function(t,n){return new Promise((function(i,r){var a;a=h.prototype.isPrototypeOf(t)&&!n?t:new h(t,n);var o=new XMLHttpRequest;o.onload=function(){var e=1223===o.status?204:o.status;if(e<100||e>599)r(new TypeError("Network request failed"));else{var t={status:e,statusText:o.statusText,headers:p(o),url:"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0},n="response"in o?o.response:o.responseText;i(new m(n,t))}},o.onerror=function(){r(new TypeError("Network request failed"))},o.open(a.method,a.url,!0),"include"===a.credentials&&(o.withCredentials=!0),"responseType"in o&&e&&(o.responseType="blob"),a.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),o.send(void 0===a._bodyInit?null:a._bodyInit)}))},self.fetch.polyfill=!0}function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){this.map={},e instanceof s?e.forEach((function(e,t){this.append(t,e)}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function l(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function u(e){var t=new FileReader;return t.readAsArrayBuffer(e),l(t)}function d(){return this.bodyUsed=!1,this._initBody=function(i){if(this._bodyInit=i,"string"==typeof i)this._bodyText=i;else if(e&&Blob.prototype.isPrototypeOf(i))this._bodyBlob=i;else if(t&&FormData.prototype.isPrototypeOf(i))this._bodyFormData=i;else if(i){if(!n||!ArrayBuffer.prototype.isPrototypeOf(i))throw new Error("unsupported BodyInit type")}else this._bodyText=""},e?(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(u)},this.text=function(){var e,t,n=c(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,(t=new FileReader).readAsText(e),l(t);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=c(this);return e||Promise.resolve(this._bodyText)},t&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(e,t){var n,r,a=(t=t||{}).body;if(h.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,a||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),i.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function f(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(r))}})),t}function p(e){var t=new s;return e.getAllResponseHeaders().trim().split("\n").forEach((function(e){var n=e.trim().split(":"),i=n.shift().trim(),r=n.join(":").trim();t.append(i,r)})),t}function m(e,t){t||(t={}),this._initBody(e),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof s?t.headers:new s(t.headers),this.url=t.url||""}}(),
/*!
 * ASP.NET SignalR JavaScript Library v2.2.0
 * http://signalr.net/
 *
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *
 */
function(e,t,n){var i={nojQuery:"jQuery was not found. Please ensure jQuery is referenced before the SignalR client JavaScript file.",noTransportOnInit:"No transport could be initialized successfully. Try specifying a different transport or none at all for auto initialization.",errorOnNegotiate:"Error during negotiation request.",stoppedWhileLoading:"The connection was stopped during page load.",stoppedWhileNegotiating:"The connection was stopped during the negotiate request.",errorParsingNegotiateResponse:"Error parsing negotiate response.",errorDuringStartRequest:"Error during start request. Stopping the connection.",stoppedDuringStartRequest:"The connection was stopped during the start request.",errorParsingStartResponse:"Error parsing start response: '{0}'. Stopping the connection.",invalidStartResponse:"Invalid start response: '{0}'. Stopping the connection.",protocolIncompatible:"You are using a version of the client that isn't compatible with the server. Client version {0}, server version {1}.",sendFailed:"Send failed.",parseFailed:"Failed at parsing response: {0}",longPollFailed:"Long polling request failed.",eventSourceFailedToConnect:"EventSource failed to connect.",eventSourceError:"Error raised by EventSource",webSocketClosed:"WebSocket closed.",pingServerFailedInvalidResponse:"Invalid ping response when pinging server: '{0}'.",pingServerFailed:"Failed to ping server.",pingServerFailedStatusCode:"Failed to ping server.  Server responded with status code {0}, stopping the connection.",pingServerFailedParse:"Failed to parse ping server response, stopping the connection.",noConnectionTransport:"Connection is in an invalid state, there is no transport active.",webSocketsInvalidState:"The Web Socket transport is in an invalid state, transitioning into reconnecting.",reconnectTimeout:"Couldn't reconnect within the configured timeout of {0} ms, disconnecting.",reconnectWindowTimeout:"The client has been inactive since {0} and it has exceeded the inactivity timeout of {1} ms. Stopping the connection."};if("function"!=typeof e)throw new Error(i.nojQuery);var r,a,o,s,c="complete"===t.document.readyState,l=e(t),u={onStart:"onStart",onStarting:"onStarting",onReceived:"onReceived",onError:"onError",onConnectionSlow:"onConnectionSlow",onReconnecting:"onReconnecting",onReconnect:"onReconnect",onStateChanged:"onStateChanged",onDisconnect:"onDisconnect"},d=function(t,n,i){return n===t.state&&(t.state=i,e(t).triggerHandler(u.onStateChanged,[{oldState:n,newState:i}]),!0)},h=function(e){return e._.keepAliveData.activated&&e.transport.supportsKeepAlive(e)};function f(e,t){return t.match(/:\d+$/)?t:t+":"+function(e){return"http:"===e?80:"https:"===e?443:void 0}(e)}function p(t,n){var i=[];this.tryBuffer=function(n){return t.state===e.signalR.connectionState.connecting&&(i.push(n),!0)},this.drain=function(){if(t.state===e.signalR.connectionState.connected)for(;i.length>0;)n(i.shift())},this.clear=function(){i=[]}}(r=function(e,t,n){return new r.fn.init(e,t,n)})._={defaultContentType:"application/x-www-form-urlencoded; charset=UTF-8",ieVersion:("Microsoft Internet Explorer"===t.navigator.appName&&(s=/MSIE ([0-9]+\.[0-9]+)/.exec(t.navigator.userAgent))&&(o=t.parseFloat(s[1])),o),error:function(e,t,n){var i=new Error(e);return i.source=t,void 0!==n&&(i.context=n),i},transportError:function(e,t,n,i){var r=this.error(e,n,i);return r.transport=t?t.name:void 0,r},format:function(){for(var e=arguments[0],t=0;t<arguments.length-1;t++)e=e.replace("{"+t+"}",arguments[t+1]);return e},firefoxMajorVersion:function(e){var t=e.match(/Firefox\/(\d+)/);return!t||!t.length||t.length<2?0:parseInt(t[1],10)},configurePingInterval:function(n){var i=n._.config,a=function(t){e(n).triggerHandler(u.onError,[t])};i&&!n._.pingIntervalId&&i.pingInterval&&(n._.pingIntervalId=t.setInterval((function(){r.transports._logic.pingServer(n).fail(a)}),i.pingInterval))}},r.events=u,r.resources=i,r.ajaxDefaults={processData:!0,timeout:null,async:!0,global:!1,cache:!1},r.changeState=d,r.isDisconnecting=function(e){return e.state===r.connectionState.disconnected},r.connectionState={connecting:0,connected:1,reconnecting:2,disconnected:4},r.hub={start:function(){throw new Error("SignalR: Error loading hubs. Ensure your hubs reference is correct, e.g. <script src='/signalr/js'><\/script>.")}},l.load((function(){c=!0})),r.fn=r.prototype={init:function(t,n,i){var r=e(this);this.url=t,this.qs=n,this.lastError=null,this._={keepAliveData:{},connectingMessageBuffer:new p(this,(function(e){r.triggerHandler(u.onReceived,[e])})),lastMessageAt:(new Date).getTime(),lastActiveAt:(new Date).getTime(),beatInterval:5e3,beatHandle:null,totalTransportConnectTimeout:0},"boolean"==typeof i&&(this.logging=i)},_parseResponse:function(e){return e&&"string"==typeof e?this.json.parse(e):e},_originalJson:t.JSON,json:t.JSON,isCrossDomain:function(n,i){var r;return n=e.trim(n),i=i||t.location,0===n.indexOf("http")&&((r=t.document.createElement("a")).href=n,r.protocol+f(r.protocol,r.host)!==i.protocol+f(i.protocol,i.host))},ajaxDataType:"text",contentType:"application/json; charset=UTF-8",logging:!1,state:r.connectionState.disconnected,clientProtocol:"1.5",reconnectDelay:2e3,transportConnectTimeout:0,disconnectTimeout:3e4,reconnectWindow:3e4,keepAliveWarnAt:2/3,start:function(n,a){var o,s=this,f={pingInterval:3e5,waitForPageLoad:!0,transport:"auto",jsonp:!1},p=s._deferral||e.Deferred(),m=t.document.createElement("a");if(s.lastError=null,s._deferral=p,!s.json)throw new Error("SignalR: No JSON parser found. Please ensure json2.js is referenced before the SignalR.js file if you need to support clients without native JSON parsing support, e.g. IE<8.");if("function"===e.type(n)?a=n:"object"===e.type(n)&&(e.extend(f,n),"function"===e.type(f.callback)&&(a=f.callback)),f.transport=function(t,n){if(e.isArray(t)){for(var i=t.length-1;i>=0;i--){var a=t[i];"string"===e.type(a)&&r.transports[a]||(n.log("Invalid transport: "+a+", removing it from the transports list."),t.splice(i,1))}0===t.length&&(n.log("No transports remain within the specified transport array."),t=null)}else if(r.transports[t]||"auto"===t){if("auto"===t&&r._.ieVersion<=8)return["longPolling"]}else n.log("Invalid transport: "+t.toString()+"."),t=null;return t}(f.transport,s),!f.transport)throw new Error("SignalR: Invalid transport(s) specified, aborting start.");if(s._.config=f,!c&&!0===f.waitForPageLoad)return s._.deferredStartHandler=function(){s.start(n,a)},l.bind("load",s._.deferredStartHandler),p.promise();if(s.state===r.connectionState.connecting)return p.promise();if(!1===d(s,r.connectionState.disconnected,r.connectionState.connecting))return p.resolve(s),p.promise();!function(n){var i,a;n._.configuredStopReconnectingTimeout||(a=function(t){var n=r._.format(r.resources.reconnectTimeout,t.disconnectTimeout);t.log(n),e(t).triggerHandler(u.onError,[r._.error(n,"TimeoutException")]),t.stop(!1,!1)},n.reconnecting((function(){var e=this;e.state===r.connectionState.reconnecting&&(i=t.setTimeout((function(){a(e)}),e.disconnectTimeout))})),n.stateChanged((function(e){e.oldState===r.connectionState.reconnecting&&t.clearTimeout(i)})),n._.configuredStopReconnectingTimeout=!0)}(s),m.href=s.url,m.protocol&&":"!==m.protocol?(s.protocol=m.protocol,s.host=m.host):(s.protocol=t.document.location.protocol,s.host=m.host||t.document.location.host),s.baseUrl=s.protocol+"//"+s.host,s.wsProtocol="https:"===s.protocol?"wss://":"ws://","auto"===f.transport&&!0===f.jsonp&&(f.transport="longPolling"),0===s.url.indexOf("//")&&(s.url=t.location.protocol+s.url,s.log("Protocol relative URL detected, normalizing it to '"+s.url+"'.")),this.isCrossDomain(s.url)&&(s.log("Auto detected cross domain url."),"auto"===f.transport&&(f.transport=["webSockets","serverSentEvents","longPolling"]),void 0===f.withCredentials&&(f.withCredentials=!0),f.jsonp||(f.jsonp=!e.support.cors,f.jsonp&&s.log("Using jsonp because this browser doesn't support CORS.")),s.contentType=r._.defaultContentType),s.withCredentials=f.withCredentials,s.ajaxDataType=f.jsonp?"jsonp":"text",e(s).bind(u.onStart,(function(t,n){"function"===e.type(a)&&a.call(s),p.resolve(s)})),s._.initHandler=r.transports._logic.initHandler(s),o=function(n,a){var c=r._.error(i.noTransportOnInit);if((a=a||0)>=n.length)return 0===a?s.log("No transports supported by the server were selected."):1===a?s.log("No fallback transports were selected."):s.log("Fallback transports exhausted."),e(s).triggerHandler(u.onError,[c]),p.reject(c),void s.stop();if(s.state!==r.connectionState.disconnected){var f=n[a],m=r.transports[f],g=function(){o(n,a+1)};s.transport=m;try{s._.initHandler.start(m,(function(){var n=r._.firefoxMajorVersion(t.navigator.userAgent)>=11,i=!!s.withCredentials&&n;s.log("The start request succeeded. Transitioning to the connected state."),h(s)&&r.transports._logic.monitorKeepAlive(s),r.transports._logic.startHeartbeat(s),r._.configurePingInterval(s),d(s,r.connectionState.connecting,r.connectionState.connected)||s.log("WARNING! The connection was not in the connecting state."),s._.connectingMessageBuffer.drain(),e(s).triggerHandler(u.onStart),l.bind("unload",(function(){s.log("Window unloading, stopping the connection."),s.stop(i)})),n&&l.bind("beforeunload",(function(){t.setTimeout((function(){s.stop(i)}),0)}))}),g)}catch(e){s.log(m.name+" transport threw '"+e.message+"' when attempting to start."),g()}}};var g=s.url+"/negotiate",v=function(t,n){var a=r._.error(i.errorOnNegotiate,t,n._.negotiateRequest);e(n).triggerHandler(u.onError,a),p.reject(a),n.stop()};return e(s).triggerHandler(u.onStarting),g=r.transports._logic.prepareQueryString(s,g),s.log("Negotiating with '"+g+"'."),s._.negotiateRequest=r.transports._logic.ajax(s,{url:g,error:function(e,t){"__Negotiate Aborted__"!==t?v(e,s):p.reject(r._.error(i.stoppedWhileNegotiating,null,s._.negotiateRequest))},success:function(t){var n,a,c,l=[],d=[];try{n=s._parseResponse(t)}catch(e){return void v(r._.error(i.errorParsingNegotiateResponse,e),s)}if(a=s._.keepAliveData,s.appRelativeUrl=n.Url,s.id=n.ConnectionId,s.token=n.ConnectionToken,s.webSocketServerUrl=n.WebSocketServerUrl,s._.pollTimeout=1e3*n.ConnectionTimeout+1e4,s.disconnectTimeout=1e3*n.DisconnectTimeout,s._.totalTransportConnectTimeout=s.transportConnectTimeout+1e3*n.TransportConnectTimeout,n.KeepAliveTimeout?(a.activated=!0,a.timeout=1e3*n.KeepAliveTimeout,a.timeoutWarning=a.timeout*s.keepAliveWarnAt,s._.beatInterval=(a.timeout-a.timeoutWarning)/3):a.activated=!1,s.reconnectWindow=s.disconnectTimeout+(a.timeout||0),!n.ProtocolVersion||n.ProtocolVersion!==s.clientProtocol)return c=r._.error(r._.format(i.protocolIncompatible,s.clientProtocol,n.ProtocolVersion)),e(s).triggerHandler(u.onError,[c]),void p.reject(c);e.each(r.transports,(function(e){if(0===e.indexOf("_")||"webSockets"===e&&!n.TryWebSockets)return!0;d.push(e)})),e.isArray(f.transport)?e.each(f.transport,(function(t,n){e.inArray(n,d)>=0&&l.push(n)})):"auto"===f.transport?l=d:e.inArray(f.transport,d)>=0&&l.push(f.transport),o(l)}}),p.promise()},starting:function(t){var n=this;return e(n).bind(u.onStarting,(function(e,i){t.call(n)})),n},send:function(e){if(this.state===r.connectionState.disconnected)throw new Error("SignalR: Connection must be started before data can be sent. Call .start() before .send()");if(this.state===r.connectionState.connecting)throw new Error("SignalR: Connection has not been fully initialized. Use .start().done() or .start().fail() to run logic after the connection has started.");return this.transport.send(this,e),this},received:function(t){var n=this;return e(n).bind(u.onReceived,(function(e,i){t.call(n,i)})),n},stateChanged:function(t){var n=this;return e(n).bind(u.onStateChanged,(function(e,i){t.call(n,i)})),n},error:function(t){var n=this;return e(n).bind(u.onError,(function(e,i,r){n.lastError=i,t.call(n,i,r)})),n},disconnected:function(t){var n=this;return e(n).bind(u.onDisconnect,(function(e,i){t.call(n)})),n},connectionSlow:function(t){var n=this;return e(n).bind(u.onConnectionSlow,(function(e,i){t.call(n)})),n},reconnecting:function(t){var n=this;return e(n).bind(u.onReconnecting,(function(e,i){t.call(n)})),n},reconnected:function(t){var n=this;return e(n).bind(u.onReconnect,(function(e,i){t.call(n)})),n},stop:function(n,a){var o=this._deferral;return this._.deferredStartHandler&&l.unbind("load",this._.deferredStartHandler),delete this._.config,delete this._.deferredStartHandler,c||this._.config&&!0!==this._.config.waitForPageLoad?this.state!==r.connectionState.disconnected?(this.log("Stopping connection."),d(this,this.state,r.connectionState.disconnected),t.clearTimeout(this._.beatHandle),t.clearInterval(this._.pingIntervalId),this.transport&&(this.transport.stop(this),!1!==a&&this.transport.abort(this,n),h(this)&&r.transports._logic.stopMonitoringKeepAlive(this),this.transport=null),this._.negotiateRequest&&(this._.negotiateRequest.abort("__Negotiate Aborted__"),delete this._.negotiateRequest),this._.initHandler&&this._.initHandler.stop(),e(this).triggerHandler(u.onDisconnect),delete this._deferral,delete this.messageId,delete this.groupsToken,delete this.id,delete this._.pingIntervalId,delete this._.lastMessageAt,delete this._.lastActiveAt,this._.connectingMessageBuffer.clear(),this):void 0:(this.log("Stopping connection prior to negotiate."),void(o&&o.reject(r._.error(i.stoppedWhileLoading))))},log:function(e){!function(e,n){var i;!1!==n&&(void 0!==t.console&&(i="["+(new Date).toTimeString()+"] SignalR: "+e,t.console.debug?t.console.debug(i):t.console.log&&t.console.log(i)))}(e,this.logging)}},r.fn.init.prototype=r.fn,r.noConflict=function(){return e.connection===r&&(e.connection=a),r},e.connection&&(a=e.connection),e.connection=e.signalR=r}(window.jQuery,window),function(e,t,n){var i,r=e.signalR,a=e.signalR.events,o=e.signalR.changeState;function s(n){n._.keepAliveData.monitoring&&function(t){var n,i=t._.keepAliveData;t.state===r.connectionState.connected&&((n=(new Date).getTime()-t._.lastMessageAt)>=i.timeout?(t.log("Keep alive timed out.  Notifying transport that connection has been lost."),t.transport.lostConnection(t)):n>=i.timeoutWarning?i.userNotified||(t.log("Keep alive has been missed, connection may be dead/slow."),e(t).triggerHandler(a.onConnectionSlow),i.userNotified=!0):i.userNotified=!1)}(n),i.markActive(n)&&(n._.beatHandle=t.setTimeout((function(){s(n)}),n._.beatInterval))}function c(e,t){var n=e.url+t;return e.transport&&(n+="?transport="+e.transport.name),i.prepareQueryString(e,n)}function l(e){this.connection=e,this.startRequested=!1,this.startCompleted=!1,this.connectionStopped=!1}r.transports={},l.prototype={start:function(e,n,i){var r=this,a=r.connection,o=!1;r.startRequested||r.connectionStopped?a.log("WARNING! "+e.name+" transport cannot be started. Initialization ongoing or completed."):(a.log(e.name+" transport starting."),r.transportTimeoutHandle=t.setTimeout((function(){o||(o=!0,a.log(e.name+" transport timed out when trying to connect."),r.transportFailed(e,void 0,i))}),a._.totalTransportConnectTimeout),e.start(a,(function(){o||r.initReceived(e,n)}),(function(t){return o||(o=!0,r.transportFailed(e,t,i)),!r.startCompleted||r.connectionStopped})))},stop:function(){this.connectionStopped=!0,t.clearTimeout(this.transportTimeoutHandle),r.transports._logic.tryAbortStartRequest(this.connection)},initReceived:function(e,n){var i=this,a=i.connection;i.startRequested?a.log("WARNING! The client received multiple init messages."):i.connectionStopped||(i.startRequested=!0,t.clearTimeout(i.transportTimeoutHandle),a.log(e.name+" transport connected. Initiating start request."),r.transports._logic.ajaxStart(a,(function(){i.startCompleted=!0,n()})))},transportFailed:function(n,i,o){var s,c=this.connection,l=c._deferral;this.connectionStopped||(t.clearTimeout(this.transportTimeoutHandle),this.startRequested?this.startCompleted||(s=r._.error(r.resources.errorDuringStartRequest,i),c.log(n.name+" transport failed during the start request. Stopping the connection."),e(c).triggerHandler(a.onError,[s]),l&&l.reject(s),c.stop()):(n.stop(c),c.log(n.name+" transport failed to connect. Attempting to fall back."),o()))}},i=r.transports._logic={ajax:function(t,n){return e.ajax(e.extend(!0,{},e.signalR.ajaxDefaults,{type:"GET",data:{},xhrFields:{withCredentials:t.withCredentials},contentType:t.contentType,dataType:t.ajaxDataType},n))},pingServer:function(t){var n,a,o=e.Deferred();return t.transport?(n=t.url+"/ping",n=i.addQs(n,t.qs),a=i.ajax(t,{url:n,success:function(e){var n;try{n=t._parseResponse(e)}catch(e){return o.reject(r._.transportError(r.resources.pingServerFailedParse,t.transport,e,a)),void t.stop()}"pong"===n.Response?o.resolve():o.reject(r._.transportError(r._.format(r.resources.pingServerFailedInvalidResponse,e),t.transport,null,a))},error:function(e){401===e.status||403===e.status?(o.reject(r._.transportError(r._.format(r.resources.pingServerFailedStatusCode,e.status),t.transport,e,a)),t.stop()):o.reject(r._.transportError(r.resources.pingServerFailed,t.transport,e,a))}})):o.reject(r._.transportError(r.resources.noConnectionTransport,t.transport)),o.promise()},prepareQueryString:function(e,n){var r;return r=i.addQs(n,"clientProtocol="+e.clientProtocol),r=i.addQs(r,e.qs),e.token&&(r+="&connectionToken="+t.encodeURIComponent(e.token)),e.data&&(r+="&connectionData="+t.encodeURIComponent(e.data)),r},addQs:function(t,n){var i,r=-1!==t.indexOf("?")?"&":"?";if(!n)return t;if("object"==typeof n)return t+r+e.param(n);if("string"==typeof n)return"?"!==(i=n.charAt(0))&&"&"!==i||(r=""),t+r+n;throw new Error("Query string property must be either a string or object.")},getUrl:function(e,n,r,a,o){var s=("webSockets"===n?"":e.baseUrl)+e.appRelativeUrl,c="transport="+n;return!o&&e.groupsToken&&(c+="&groupsToken="+t.encodeURIComponent(e.groupsToken)),r?(s+=a?"/poll":"/reconnect",!o&&e.messageId&&(c+="&messageId="+t.encodeURIComponent(e.messageId))):s+="/connect",s+="?"+c,s=i.prepareQueryString(e,s),o||(s+="&tid="+Math.floor(11*Math.random())),s},maximizePersistentResponse:function(e){return{MessageId:e.C,Messages:e.M,Initialized:void 0!==e.S,ShouldReconnect:void 0!==e.T,LongPollDelay:e.L,GroupsToken:e.G}},updateGroups:function(e,t){t&&(e.groupsToken=t)},stringifySend:function(e,t){return"string"==typeof t||null==t?t:e.json.stringify(t)},ajaxSend:function(t,n){var o,s=i.stringifySend(t,n),l=c(t,"/send"),u=function(t,i){e(i).triggerHandler(a.onError,[r._.transportError(r.resources.sendFailed,i.transport,t,o),n])};return o=i.ajax(t,{url:l,type:"jsonp"===t.ajaxDataType?"GET":"POST",contentType:r._.defaultContentType,data:{data:s},success:function(e){var n;if(e){try{n=t._parseResponse(e)}catch(e){return u(e,t),void t.stop()}i.triggerReceived(t,n)}},error:function(e,n){"abort"!==n&&"parsererror"!==n&&u(e,t)}})},ajaxAbort:function(e,t){if(void 0!==e.transport){t=void 0===t||t;var n=c(e,"/abort");i.ajax(e,{url:n,async:t,timeout:1e3,type:"POST"}),e.log("Fired ajax abort async = "+t+".")}},ajaxStart:function(t,n){var o=function(e){var n=t._deferral;n&&n.reject(e)},s=function(n){t.log("The start request failed. Stopping the connection."),e(t).triggerHandler(a.onError,[n]),o(n),t.stop()};t._.startRequest=i.ajax(t,{url:c(t,"/start"),success:function(e,i,a){var o;try{o=t._parseResponse(e)}catch(t){return void s(r._.error(r._.format(r.resources.errorParsingStartResponse,e),t,a))}"started"===o.Response?n():s(r._.error(r._.format(r.resources.invalidStartResponse,e),null,a))},error:function(e,n,i){"__Start Aborted__"!==n?s(r._.error(r.resources.errorDuringStartRequest,i,e)):(t.log("The start request aborted because connection.stop() was called."),o(r._.error(r.resources.stoppedDuringStartRequest,null,e)))}})},tryAbortStartRequest:function(e){e._.startRequest&&(e._.startRequest.abort("__Start Aborted__"),delete e._.startRequest)},tryInitialize:function(e,t){e.Initialized&&t()},triggerReceived:function(t,n){t._.connectingMessageBuffer.tryBuffer(n)||e(t).triggerHandler(a.onReceived,[n])},processMessages:function(t,n,r){var a;i.markLastMessage(t),n&&(a=i.maximizePersistentResponse(n),i.updateGroups(t,a.GroupsToken),a.MessageId&&(t.messageId=a.MessageId),a.Messages&&(e.each(a.Messages,(function(e,n){i.triggerReceived(t,n)})),i.tryInitialize(a,r)))},monitorKeepAlive:function(t){var n=t._.keepAliveData;n.monitoring?t.log("Tried to monitor keep alive but it's already being monitored."):(n.monitoring=!0,i.markLastMessage(t),t._.keepAliveData.reconnectKeepAliveUpdate=function(){i.markLastMessage(t)},e(t).bind(a.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t.log("Now monitoring keep alive with a warning timeout of "+n.timeoutWarning+", keep alive timeout of "+n.timeout+" and disconnecting timeout of "+t.disconnectTimeout))},stopMonitoringKeepAlive:function(t){var n=t._.keepAliveData;n.monitoring&&(n.monitoring=!1,e(t).unbind(a.onReconnect,t._.keepAliveData.reconnectKeepAliveUpdate),t._.keepAliveData={},t.log("Stopping the monitoring of the keep alive."))},startHeartbeat:function(e){e._.lastActiveAt=(new Date).getTime(),s(e)},markLastMessage:function(e){e._.lastMessageAt=(new Date).getTime()},markActive:function(e){return!!i.verifyLastActive(e)&&(e._.lastActiveAt=(new Date).getTime(),!0)},isConnectedOrReconnecting:function(e){return e.state===r.connectionState.connected||e.state===r.connectionState.reconnecting},ensureReconnectingState:function(t){return!0===o(t,r.connectionState.connected,r.connectionState.reconnecting)&&e(t).triggerHandler(a.onReconnecting),t.state===r.connectionState.reconnecting},clearReconnectTimeout:function(e){e&&e._.reconnectTimeout&&(t.clearTimeout(e._.reconnectTimeout),delete e._.reconnectTimeout)},verifyLastActive:function(t){if((new Date).getTime()-t._.lastActiveAt>=t.reconnectWindow){var n=r._.format(r.resources.reconnectWindowTimeout,new Date(t._.lastActiveAt),t.reconnectWindow);return t.log(n),e(t).triggerHandler(a.onError,[r._.error(n,"TimeoutException")]),t.stop(!1,!1),!1}return!0},reconnect:function(e,n){var a=r.transports[n];if(i.isConnectedOrReconnecting(e)&&!e._.reconnectTimeout){if(!i.verifyLastActive(e))return;e._.reconnectTimeout=t.setTimeout((function(){i.verifyLastActive(e)&&(a.stop(e),i.ensureReconnectingState(e)&&(e.log(n+" reconnecting."),a.start(e)))}),e.reconnectDelay)}},handleParseFailure:function(t,n,i,o,s){var c=r._.transportError(r._.format(r.resources.parseFailed,n),t.transport,i,s);o&&o(c)?t.log("Failed to parse server response while attempting to connect."):(e(t).triggerHandler(a.onError,[c]),t.stop())},initHandler:function(e){return new l(e)},foreverFrame:{count:0,connections:{}}}}(window.jQuery,window),function(e,t,n){var i=e.signalR,r=e.signalR.events,a=e.signalR.changeState,o=i.transports._logic;i.transports.webSockets={name:"webSockets",supportsKeepAlive:function(){return!0},send:function(t,n){var a=o.stringifySend(t,n);try{t.socket.send(a)}catch(a){e(t).triggerHandler(r.onError,[i._.transportError(i.resources.webSocketsInvalidState,t.transport,a,t.socket),n])}},start:function(n,s,c){var l,u=!1,d=this,h=!s,f=e(n);t.WebSocket?n.socket||(l=n.webSocketServerUrl?n.webSocketServerUrl:n.wsProtocol+n.host,l+=o.getUrl(n,this.name,h),n.log("Connecting to websocket endpoint '"+l+"'."),n.socket=new t.WebSocket(l),n.socket.onopen=function(){u=!0,n.log("Websocket opened."),o.clearReconnectTimeout(n),!0===a(n,i.connectionState.reconnecting,i.connectionState.connected)&&f.triggerHandler(r.onReconnect)},n.socket.onclose=function(t){var a;this===n.socket&&(u&&void 0!==t.wasClean&&!1===t.wasClean?(a=i._.transportError(i.resources.webSocketClosed,n.transport,t),n.log("Unclean disconnect from websocket: "+(t.reason||"[no reason given]."))):n.log("Websocket closed."),c&&c(a)||(a&&e(n).triggerHandler(r.onError,[a]),d.reconnect(n)))},n.socket.onmessage=function(t){var i;try{i=n._parseResponse(t.data)}catch(e){return void o.handleParseFailure(n,t.data,e,c,t)}i&&(e.isEmptyObject(i)||i.M?o.processMessages(n,i,s):o.triggerReceived(n,i))}):c()},reconnect:function(e){o.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},stop:function(e){o.clearReconnectTimeout(e),e.socket&&(e.log("Closing the Websocket."),e.socket.close(),e.socket=null)},abort:function(e,t){o.ajaxAbort(e,t)}}}(window.jQuery,window),function(e,t,n){var i=e.signalR,r=e.signalR.events,a=e.signalR.changeState,o=i.transports._logic,s=function(e){t.clearTimeout(e._.reconnectAttemptTimeoutHandle),delete e._.reconnectAttemptTimeoutHandle};i.transports.serverSentEvents={name:"serverSentEvents",supportsKeepAlive:function(){return!0},timeOut:3e3,start:function(n,c,l){var u,d=this,h=!1,f=e(n),p=!c;if(n.eventSource&&(n.log("The connection already has an event source. Stopping it."),n.stop()),t.EventSource){u=o.getUrl(n,this.name,p);try{n.log("Attempting to connect to SSE endpoint '"+u+"'."),n.eventSource=new t.EventSource(u,{withCredentials:n.withCredentials})}catch(e){return n.log("EventSource failed trying to connect with error "+e.Message+"."),void(l?l():(f.triggerHandler(r.onError,[i._.transportError(i.resources.eventSourceFailedToConnect,n.transport,e)]),p&&d.reconnect(n)))}p&&(n._.reconnectAttemptTimeoutHandle=t.setTimeout((function(){!1===h&&n.eventSource.readyState!==t.EventSource.OPEN&&d.reconnect(n)}),d.timeOut)),n.eventSource.addEventListener("open",(function(e){n.log("EventSource connected."),s(n),o.clearReconnectTimeout(n),!1===h&&(h=!0,!0===a(n,i.connectionState.reconnecting,i.connectionState.connected)&&f.triggerHandler(r.onReconnect))}),!1),n.eventSource.addEventListener("message",(function(e){var t;if("initialized"!==e.data){try{t=n._parseResponse(e.data)}catch(t){return void o.handleParseFailure(n,e.data,t,l,e)}o.processMessages(n,t,c)}}),!1),n.eventSource.addEventListener("error",(function(e){var a=i._.transportError(i.resources.eventSourceError,n.transport,e);this===n.eventSource&&(l&&l(a)||(n.log("EventSource readyState: "+n.eventSource.readyState+"."),e.eventPhase===t.EventSource.CLOSED?(n.log("EventSource reconnecting due to the server connection ending."),d.reconnect(n)):(n.log("EventSource error."),f.triggerHandler(r.onError,[a]))))}),!1)}else l&&(n.log("This browser doesn't support SSE."),l())},reconnect:function(e){o.reconnect(e,this.name)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){o.ajaxSend(e,t)},stop:function(e){s(e),o.clearReconnectTimeout(e),e&&e.eventSource&&(e.log("EventSource calling close()."),e.eventSource.close(),e.eventSource=null,delete e.eventSource)},abort:function(e,t){o.ajaxAbort(e,t)}}}(window.jQuery,window),function(e,t,n){var i,r,a=e.signalR,o=e.signalR.events,s=e.signalR.changeState,c=a.transports._logic,l=function(){var e=t.document.createElement("iframe");return e.setAttribute("style","position:absolute;top:0;left:0;width:0;height:0;visibility:hidden;"),e},u=(i=null,r=0,{prevent:function(){a._.ieVersion<=8&&(0===r&&(i=t.setInterval((function(){var e=l();t.document.body.appendChild(e),t.document.body.removeChild(e),e=null}),1e3)),r++)},cancel:function(){1===r&&t.clearInterval(i),r>0&&r--}});a.transports.foreverFrame={name:"foreverFrame",supportsKeepAlive:function(){return!0},iframeClearThreshold:50,start:function(e,n,i){var r,a=this,o=c.foreverFrame.count+=1,s=l(),d=function(){e.log("Forever frame iframe finished loading and is no longer receiving messages."),i&&i()||a.reconnect(e)};t.EventSource?i&&(e.log("Forever Frame is not supported by SignalR on browsers with SSE support."),i()):(s.setAttribute("data-signalr-connection-id",e.id),u.prevent(),r=c.getUrl(e,this.name),r+="&frameId="+o,t.document.documentElement.appendChild(s),e.log("Binding to iframe's load event."),s.addEventListener?s.addEventListener("load",d,!1):s.attachEvent&&s.attachEvent("onload",d),s.src=r,c.foreverFrame.connections[o]=e,e.frame=s,e.frameId=o,n&&(e.onSuccess=function(){e.log("Iframe transport started."),n()}))},reconnect:function(e){var n=this;c.isConnectedOrReconnecting(e)&&c.verifyLastActive(e)&&t.setTimeout((function(){if(c.verifyLastActive(e)&&e.frame&&c.ensureReconnectingState(e)){var t=e.frame,i=c.getUrl(e,n.name,!0)+"&frameId="+e.frameId;e.log("Updating iframe src to '"+i+"'."),t.src=i}}),e.reconnectDelay)},lostConnection:function(e){this.reconnect(e)},send:function(e,t){c.ajaxSend(e,t)},receive:function(t,n){var i,r,o;if(t.json!==t._originalJson&&(n=t._originalJson.stringify(n)),o=t._parseResponse(n),c.processMessages(t,o,t.onSuccess),t.state===e.signalR.connectionState.connected&&(t.frameMessageCount=(t.frameMessageCount||0)+1,t.frameMessageCount>a.transports.foreverFrame.iframeClearThreshold&&(t.frameMessageCount=0,(i=t.frame.contentWindow||t.frame.contentDocument)&&i.document&&i.document.body)))for(r=i.document.body;r.firstChild;)r.removeChild(r.firstChild)},stop:function(e){var n=null;if(u.cancel(),e.frame){if(e.frame.stop)e.frame.stop();else try{(n=e.frame.contentWindow||e.frame.contentDocument).document&&n.document.execCommand&&n.document.execCommand("Stop")}catch(t){e.log("Error occured when stopping foreverFrame transport. Message = "+t.message+".")}e.frame.parentNode===t.document.body&&t.document.body.removeChild(e.frame),delete c.foreverFrame.connections[e.frameId],e.frame=null,e.frameId=null,delete e.frame,delete e.frameId,delete e.onSuccess,delete e.frameMessageCount,e.log("Stopping forever frame.")}},abort:function(e,t){c.ajaxAbort(e,t)},getConnection:function(e){return c.foreverFrame.connections[e]},started:function(t){!0===s(t,a.connectionState.reconnecting,a.connectionState.connected)&&e(t).triggerHandler(o.onReconnect)}}}(window.jQuery,window),function(e,t,n){var i=e.signalR,r=e.signalR.events,a=e.signalR.changeState,o=e.signalR.isDisconnecting,s=i.transports._logic;i.transports.longPolling={name:"longPolling",supportsKeepAlive:function(){return!1},reconnectDelay:3e3,start:function(n,c,l){var u=this,d=function(){d=e.noop,n.log("LongPolling connected."),c()},h=function(e){return!!l(e)&&(n.log("LongPolling failed to connect."),!0)},f=n._,p=0,m=function(n){t.clearTimeout(f.reconnectTimeoutId),f.reconnectTimeoutId=null,!0===a(n,i.connectionState.reconnecting,i.connectionState.connected)&&(n.log("Raising the reconnect event"),e(n).triggerHandler(r.onReconnect))};n.pollXhr&&(n.log("Polling xhr requests already exists, aborting."),n.stop()),n.messageId=null,f.reconnectTimeoutId=null,f.pollTimeoutId=t.setTimeout((function(){!function a(c,l){var g=!(null===c.messageId),v=!l,y=s.getUrl(c,u.name,g,v,!0),b={};c.messageId&&(b.messageId=c.messageId),c.groupsToken&&(b.groupsToken=c.groupsToken),!0!==o(c)&&(n.log("Opening long polling request to '"+y+"'."),c.pollXhr=s.ajax(n,{xhrFields:{onprogress:function(){s.markLastMessage(n)}},url:y,type:"POST",contentType:i._.defaultContentType,data:b,timeout:n._.pollTimeout,success:function(i){var r,l,u,g=0;n.log("Long poll complete."),p=0;try{r=n._parseResponse(i)}catch(e){return void s.handleParseFailure(c,i,e,h,c.pollXhr)}null!==f.reconnectTimeoutId&&m(c),r&&(l=s.maximizePersistentResponse(r)),s.processMessages(c,r,d),l&&"number"===e.type(l.LongPollDelay)&&(g=l.LongPollDelay),!0!==o(c)&&((u=l&&l.ShouldReconnect)&&!s.ensureReconnectingState(c)||(g>0?f.pollTimeoutId=t.setTimeout((function(){a(c,u)}),g):a(c,u)))},error:function(o,l){var d=i._.transportError(i.resources.longPollFailed,n.transport,o,c.pollXhr);if(t.clearTimeout(f.reconnectTimeoutId),f.reconnectTimeoutId=null,"abort"!==l){if(!h(d)){if(p++,n.state!==i.connectionState.reconnecting&&(n.log("An error occurred using longPolling. Status = "+l+".  Response = "+o.responseText+"."),e(c).triggerHandler(r.onError,[d])),(n.state===i.connectionState.connected||n.state===i.connectionState.reconnecting)&&!s.verifyLastActive(n))return;if(!s.ensureReconnectingState(c))return;f.pollTimeoutId=t.setTimeout((function(){a(c,!0)}),u.reconnectDelay)}}else n.log("Aborted xhr request.")}}),g&&!0===l&&(f.reconnectTimeoutId=t.setTimeout((function(){m(c)}),Math.min(1e3*(Math.pow(2,p)-1),36e5))))}(n)}),250)},lostConnection:function(e){e.pollXhr&&e.pollXhr.abort("lostConnection")},send:function(e,t){s.ajaxSend(e,t)},stop:function(e){t.clearTimeout(e._.pollTimeoutId),t.clearTimeout(e._.reconnectTimeoutId),delete e._.pollTimeoutId,delete e._.reconnectTimeoutId,e.pollXhr&&(e.pollXhr.abort(),e.pollXhr=null,delete e.pollXhr)},abort:function(e,t){s.ajaxAbort(e,t)}}}(window.jQuery,window),function(e,t,n){var i=e.signalR;function r(e){return e+".hubProxy"}function a(e,t,n){var i,r=e.length,a=[];for(i=0;i<r;i+=1)e.hasOwnProperty(i)&&(a[i]=t.call(n,e[i],i,e));return a}function o(t){return e.isFunction(t)||"undefined"===e.type(t)?null:t}function s(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}function c(e,t){var n,i=e._.invocationCallbacks;for(var r in s(i)&&e.log("Clearing hub invocation callbacks with error: "+t+"."),e._.invocationCallbackId=0,delete e._.invocationCallbacks,e._.invocationCallbacks={},i)(n=i[r]).method.call(n.scope,{E:t})}function l(e,t){return new l.fn.init(e,t)}function u(t,n){var i={qs:null,logging:!1,useDefaultPath:!0};return e.extend(i,n),t&&!i.useDefaultPath||(t=(t||"")+"/signalr"),new u.fn.init(t,i)}l.fn=l.prototype={init:function(e,t){this.state={},this.connection=e,this.hubName=t,this._={callbackMap:{}}},constructor:l,hasSubscriptions:function(){return s(this._.callbackMap)},on:function(t,n){var i=this,a=i._.callbackMap;return a[t=t.toLowerCase()]||(a[t]={}),a[t][n]=function(e,t){n.apply(i,t)},e(i).bind(r(t),a[t][n]),i},off:function(t,n){var i,a=this._.callbackMap;return(i=a[t=t.toLowerCase()])&&(i[n]?(e(this).unbind(r(t),i[n]),delete i[n],s(i)||delete a[t]):n||(e(this).unbind(r(t)),delete a[t])),this},invoke:function(t){var n=this,r=n.connection,s=e.makeArray(arguments).slice(1),c=a(s,o),l={H:n.hubName,M:t,A:c,I:r._.invocationCallbackId},u=e.Deferred(),d=function(a){var o,s,c=n._maximizeHubResponse(a);e.extend(n.state,c.State),c.Progress?u.notifyWith?u.notifyWith(n,[c.Progress.Data]):r._.progressjQueryVersionLogged||(r.log("A hub method invocation progress update was received but the version of jQuery in use ("+e.prototype.jquery+") does not support progress updates. Upgrade to jQuery 1.7+ to receive progress notifications."),r._.progressjQueryVersionLogged=!0):c.Error?(c.StackTrace&&r.log(c.Error+"\n"+c.StackTrace+"."),o=c.IsHubException?"HubException":"Exception",(s=i._.error(c.Error,o)).data=c.ErrorData,r.log(n.hubName+"."+t+" failed to execute. Error: "+s.message),u.rejectWith(n,[s])):(r.log("Invoked "+n.hubName+"."+t),u.resolveWith(n,[c.Result]))};return r._.invocationCallbacks[r._.invocationCallbackId.toString()]={scope:n,method:d},r._.invocationCallbackId+=1,e.isEmptyObject(n.state)||(l.S=n.state),r.log("Invoking "+n.hubName+"."+t),r.send(l),u.promise()},_maximizeHubResponse:function(e){return{State:e.S,Result:e.R,Progress:e.P?{Id:e.P.I,Data:e.P.D}:null,Id:e.I,IsHubException:e.H,Error:e.E,StackTrace:e.T,ErrorData:e.D}}},l.fn.init.prototype=l.fn,u.fn=u.prototype=e.connection(),u.fn.init=function(t,n){var i={qs:null,logging:!1,useDefaultPath:!0},a=this;e.extend(i,n),e.signalR.fn.init.call(a,t,i.qs,i.logging),a.proxies={},a._.invocationCallbackId=0,a._.invocationCallbacks={},a.received((function(t){var n,i,o,s,c,l;t&&(void 0!==t.P?(o=t.P.I.toString(),(s=a._.invocationCallbacks[o])&&s.method.call(s.scope,t)):void 0!==t.I?(o=t.I.toString(),(s=a._.invocationCallbacks[o])&&(a._.invocationCallbacks[o]=null,delete a._.invocationCallbacks[o],s.method.call(s.scope,t))):(n=this._maximizeClientHubInvocation(t),a.log("Triggering client hub event '"+n.Method+"' on hub '"+n.Hub+"'."),c=n.Hub.toLowerCase(),l=n.Method.toLowerCase(),i=this.proxies[c],e.extend(i.state,n.State),e(i).triggerHandler(r(l),[n.Args])))})),a.error((function(e,t){var n,i;t&&(n=t.I,(i=a._.invocationCallbacks[n])&&(a._.invocationCallbacks[n]=null,delete a._.invocationCallbacks[n],i.method.call(i.scope,{E:e})))})),a.reconnecting((function(){a.transport&&"webSockets"===a.transport.name&&c(a,"Connection started reconnecting before invocation result was received.")})),a.disconnected((function(){c(a,"Connection was disconnected before invocation result was received.")}))},u.fn._maximizeClientHubInvocation=function(e){return{Hub:e.H,Method:e.M,Args:e.A,State:e.S}},u.fn._registerSubscribedHubs=function(){var t=this;t._subscribedToHubs||(t._subscribedToHubs=!0,t.starting((function(){var n=[];e.each(t.proxies,(function(e){this.hasSubscriptions()&&(n.push({name:e}),t.log("Client subscribed to hub '"+e+"'."))})),0===n.length&&t.log("No hubs have been subscribed to.  The client will not receive data from hubs.  To fix, declare at least one client side function prior to connection start for each hub you wish to subscribe to."),t.data=t.json.stringify(n)})))},u.fn.createHubProxy=function(e){e=e.toLowerCase();var t=this.proxies[e];return t||(t=l(this,e),this.proxies[e]=t),this._registerSubscribedHubs(),t},u.fn.init.prototype=u.fn,e.hubConnection=u}(window.jQuery,window),window.jQuery.signalR.version="2.2.0",
/*!
 * numeral.js
 * version : 1.5.3
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */
function(){function e(e){this._value=e}function t(e,t,n,i){var r,a,o=Math.pow(10,t);return a=(n(e*o)/o).toFixed(t),i&&(r=new RegExp("0{1,"+i+"}$"),a=a.replace(r,"")),a}function n(e,t,n){return t.indexOf("$")>-1?function(e,t,n){var i,a,o=t.indexOf("$"),s=t.indexOf("("),u=t.indexOf("-"),d="";return t.indexOf(" $")>-1?(d=" ",t=t.replace(" $","")):t.indexOf("$ ")>-1?(d=" ",t=t.replace("$ ","")):t=t.replace("$",""),a=r(e._value,t,n),1>=o?a.indexOf("(")>-1||a.indexOf("-")>-1?(a=a.split(""),i=1,(s>o||u>o)&&(i=0),a.splice(i,0,c[l].currency.symbol+d),a=a.join("")):a=c[l].currency.symbol+d+a:a.indexOf(")")>-1?((a=a.split("")).splice(-1,0,d+c[l].currency.symbol),a=a.join("")):a=a+d+c[l].currency.symbol,a}(e,t,n):t.indexOf("%")>-1?function(e,t,n){var i,a="",o=100*e._value;return t.indexOf(" %")>-1?(a=" ",t=t.replace(" %","")):t=t.replace("%",""),(i=r(o,t,n)).indexOf(")")>-1?((i=i.split("")).splice(-1,0,a+"%"),i=i.join("")):i=i+a+"%",i}(e,t,n):t.indexOf(":")>-1?function(e){var t=Math.floor(e._value/60/60),n=Math.floor((e._value-60*t*60)/60),i=Math.round(e._value-60*t*60-60*n);return t+":"+(10>n?"0"+n:n)+":"+(10>i?"0"+i:i)}(e):r(e._value,t,n)}function i(e,t){var n,i,r,a,o,s=t,d=["KB","MB","GB","TB","PB","EB","ZB","YB"],h=!1;if(t.indexOf(":")>-1)e._value=function(e){var t=e.split(":"),n=0;return 3===t.length?(n+=60*Number(t[0])*60,n+=60*Number(t[1]),n+=Number(t[2])):2===t.length&&(n+=60*Number(t[0]),n+=Number(t[1])),Number(n)}(t);else if(t===u)e._value=0;else{for("."!==c[l].delimiters.decimal&&(t=t.replace(/\./g,"").replace(c[l].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+c[l].abbreviations.thousand+"(?:\\)|(\\"+c[l].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+c[l].abbreviations.million+"(?:\\)|(\\"+c[l].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+c[l].abbreviations.billion+"(?:\\)|(\\"+c[l].currency.symbol+")?(?:\\))?)?$"),a=new RegExp("[^a-zA-Z]"+c[l].abbreviations.trillion+"(?:\\)|(\\"+c[l].currency.symbol+")?(?:\\))?)?$"),o=0;o<=d.length&&!(h=t.indexOf(d[o])>-1&&Math.pow(1024,o+1));o++);e._value=(h||1)*(s.match(n)?Math.pow(10,3):1)*(s.match(i)?Math.pow(10,6):1)*(s.match(r)?Math.pow(10,9):1)*(s.match(a)?Math.pow(10,12):1)*(t.indexOf("%")>-1?.01:1)*((t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1)*Number(t.replace(/[^0-9\.]+/g,"")),e._value=h?Math.ceil(e._value):e._value}return e._value}function r(e,n,i){var r,a,o,s,d,h,f=!1,p=!1,m=!1,g="",v=!1,y=!1,b=!1,w=!1,x=!1,k="",S="",M=Math.abs(e),C=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],_="",T=!1;if(0===e&&null!==u)return u;if(n.indexOf("(")>-1?(f=!0,n=n.slice(1,-1)):n.indexOf("+")>-1&&(p=!0,n=n.replace(/\+/g,"")),n.indexOf("a")>-1&&(v=n.indexOf("aK")>=0,y=n.indexOf("aM")>=0,b=n.indexOf("aB")>=0,w=n.indexOf("aT")>=0,x=v||y||b||w,n.indexOf(" a")>-1?(g=" ",n=n.replace(" a","")):n=n.replace("a",""),M>=Math.pow(10,12)&&!x||w?(g+=c[l].abbreviations.trillion,e/=Math.pow(10,12)):M<Math.pow(10,12)&&M>=Math.pow(10,9)&&!x||b?(g+=c[l].abbreviations.billion,e/=Math.pow(10,9)):M<Math.pow(10,9)&&M>=Math.pow(10,6)&&!x||y?(g+=c[l].abbreviations.million,e/=Math.pow(10,6)):(M<Math.pow(10,6)&&M>=Math.pow(10,3)&&!x||v)&&(g+=c[l].abbreviations.thousand,e/=Math.pow(10,3))),n.indexOf("b")>-1)for(n.indexOf(" b")>-1?(k=" ",n=n.replace(" b","")):n=n.replace("b",""),o=0;o<=C.length;o++)if(r=Math.pow(1024,o),a=Math.pow(1024,o+1),e>=r&&a>e){k+=C[o],r>0&&(e/=r);break}return n.indexOf("o")>-1&&(n.indexOf(" o")>-1?(S=" ",n=n.replace(" o","")):n=n.replace("o",""),S+=c[l].ordinal(e)),n.indexOf("[.]")>-1&&(m=!0,n=n.replace("[.]",".")),s=e.toString().split(".")[0],d=n.split(".")[1],h=n.indexOf(","),d?(d.indexOf("[")>-1?_=t(e,(d=(d=d.replace("]","")).split("["))[0].length+d[1].length,i,d[1].length):_=t(e,d.length,i),s=_.split(".")[0],_=_.split(".")[1].length?c[l].delimiters.decimal+_.split(".")[1]:"",m&&0===Number(_.slice(1))&&(_="")):s=t(e,null,i),s.indexOf("-")>-1&&(s=s.slice(1),T=!0),h>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+c[l].delimiters.thousands)),0===n.indexOf(".")&&(s=""),(f&&T?"(":"")+(!f&&T?"-":"")+(!T&&p?"+":"")+s+_+(S||"")+(g||"")+(k||"")+(f&&T?")":"")}function a(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}function o(){var e=Array.prototype.slice.call(arguments);return e.reduce((function(e,t){var n=a(e),i=a(t);return n>i?n:i}),-1/0)}var s,c={},l="en",u=null,d="0,0",h="undefined"!=typeof module&&module.exports;(s=function(t){return s.isNumeral(t)?t=t.value():0===t||void 0===t?t=0:Number(t)||(t=s.fn.unformat(t)),new e(Number(t))}).version="1.5.3",s.isNumeral=function(t){return t instanceof e},s.language=function(e,t){if(!e)return l;if(e&&!t){if(!c[e])throw new Error("Unknown language : "+e);l=e}return(t||!c[e])&&function(e,t){c[e]=t}(e,t),s},s.languageData=function(e){if(!e)return c[l];if(!c[e])throw new Error("Unknown language : "+e);return c[e]},s.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(e){var t=e%10;return 1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th"},currency:{symbol:"$"}}),s.zeroFormat=function(e){u="string"==typeof e?e:null},s.defaultFormat=function(e){d="string"==typeof e?e:"0.0"},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(e,t){"use strict";if(null==this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof e)throw new TypeError(e+" is not a function");var n,i,r=this.length>>>0,a=!1;for(1<arguments.length&&(i=t,a=!0),n=0;r>n;++n)this.hasOwnProperty(n)&&(a?i=e(i,this[n],n,this):(i=this[n],a=!0));if(!a)throw new TypeError("Reduce of empty array with no initial value");return i}),s.fn=e.prototype={clone:function(){return s(this)},format:function(e,t){return n(this,e||d,void 0!==t?t:Math.round)},unformat:function(e){return"[object Number]"===Object.prototype.toString.call(e)?e:i(this,e||d)},value:function(){return this._value},valueOf:function(){return this._value},set:function(e){return this._value=Number(e),this},add:function(e){var t=o.call(null,this._value,e);return this._value=[this._value,e].reduce((function(e,n){return e+t*n}),0)/t,this},subtract:function(e){var t=o.call(null,this._value,e);return this._value=[e].reduce((function(e,n){return e-t*n}),this._value*t)/t,this},multiply:function(e){return this._value=[this._value,e].reduce((function(e,t){var n=o(e,t);return e*n*t*n/(n*n)}),1),this},divide:function(e){return this._value=[this._value,e].reduce((function(e,t){var n=o(e,t);return e*n/(t*n)})),this},difference:function(e){return Math.abs(s(this._value).subtract(e).value())}},h&&(module.exports=s),"undefined"==typeof ender&&(this.numeral=s),"function"==typeof define&&define.amd&&define([],(function(){return s}))}.call(this);var docCookies={getItem:function(e){return e&&decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,i,r,a){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var o="";if(n)switch(n.constructor){case Number:o=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n;break;case String:o="; expires="+n;break;case Date:o="; expires="+n.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+o+(r?"; domain="+r:"")+(i?"; path="+i:"")+(a?"; secure":""),!0},removeItem:function(e,t,n){return!!this.hasItem(e)&&(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0)},hasItem:function(e){return!!e&&new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}};"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=docCookies),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?exports.BlueGrass2Silent2=t(require("jquery")):e.BlueGrass2Silent2=t(e.jQuery)}(this,(function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){
/*!
	 * silent2.js
	 * Module that exports the Layer for silent-testing BG2.  BG2 is used, while BG2 on another endpoint is also called in the background.
	 */
var i=n(2),r=n(11);e.exports=i({type:"BG2Silent2",library:"BlueGrass2",legacy:!0,factory:function(){var e=n(12),t=n(3),a=n(10),o=n(7)("silent2"),s=n(9),c=i({type:"BG2P",library:"BlueGrass2Prime",factory:r}),l=t.blueGrass2SilentTest,u=a.hasSetting("use-silent");if(null==l)return o.info("Silent connection disabled; no silent settings defined."),c.Runtime;if("object"!=typeof l)return o.warn("Silent connection disabled; silent settings must be a non-null object."),c.Runtime;if(!l.enabled&&!u&&!a.hasSetting("silent"))return o.info("Silent connection disabled."),c.Runtime;var d=l.endpoint;if("string"==typeof d&&(d={to:d}),"object"!=typeof d||null===d||!d.to)return o.warn("Silent connection disabled; endpoint is required and must be a string or a valid endpoint object."),c.Runtime;if(u)return o.info("Using silent connection only."),{openConnection:function(e,t){return c.Runtime.openConnection(d,t)},getConnection:c.Runtime.getConnection};o.info("Silent connection enabled.");var h=i({type:"BG2S",library:"BlueGrass2Silent",factory:r}),f={connect:function(e,t){o.info(t)},subscribe:function(e,t,n){o.info("subscribe "+e)},unsubscribe:function(e,t,n){o.info("unsubscribe "+e+(t?" (specific callback)":" (all callbacks)"))},unsubscribeLast:function(e){o.info("unsubscribe "+e+" (unsubscribing from operator)")},message:function(e){var t,n=e&&e.h?e.h:e;try{t=JSON.stringify(n)}catch(e){t=n}o.info("message "+t)},error:o.error,warn:o.warn,info:o.info},p=function(e){try{e()}catch(e){f.error(e)}},m=function(t,n,i){var r,a,o,s=this,l=function(e){y((function(){e(a)}))},u=e.isArray(i)?i:[i],m=[],v=[],y=function(e){a?p(e):null!==v?(f.info("Action attempted before silent connection is ready; queuing action."),v.push(e)):f.info("Action attempted before silent connection is ready.  Took too long to connect; skipping action.")},b=function(t,n){r||(r=t),e.each(u,(function(){try{this(s,n)}catch(e){f.warn("Error in connection callback: "+e.message)}}))},w=function(t,n){a||(null!==o&&(clearTimeout(o),o=null),a=t,null!==v?(f.info("Silent connection is ready; flushing any queued actions..."),e.each(v,(function(){f.info("Flushing queued silent action."),p(this)})),v=[]):f.info("Silent connection is finally ready.  Took too long to connect; any queued actions were forgotten.")),f.connect(t,n)},x=function(){f.error("Silent connection took too long to connect.  Forgetting any queued actions."),v=null},k=function(e,t){"unsubscribe"==e.h.a&&null!=m[t.getChannelName()]&&delete m[t.getChannelName()],r.lowLevelSend(e),y((function(){a.lowLevelSend(e)}))};this.subscribe=function(e,t,n){f.subscribe(e,t,n);var i=m[e];return i?i.addCallback(t):(i=new g(r,l,e,t,n,k),m[e]=i),i},this.unsubscribe=function(e,t,n){f.unsubscribe(e,t,n);var i=m[e];return i&&(i.removeCallback(t),t||i.unsubscribe()),i},this.getChannel=function(e){return m[e]},this.close=function(){u=[],m={},r.close(),a&&p((function(){a.close()}))},this.reconnect=function(){r.reconnect(),a&&p((function(){a.reconnect()}))},this.isOpen=function(){if(!r)return!1;var e=r.isOpen();return a&&p((function(){var t=a.isOpen();t!==e&&f.warn("Silent connection returned a different result from .isOpen() than primary.  Primary returned "+e+" while silent returned "+t)})),e},this.isDisabled=function(){var e=r.isDisabled();return p((function(){var t=a.isDisabled();t!==e&&f.warn("Silent connection returned a different result from .isDisabled() than primary.  Primary returned "+e+" while silent returned "+t)})),e},this.addCallback=function(e){u.push(e)},this.setTransmitHook=function(e){r.setTransmitHook(e)},this.setReceiveHook=function(e){r.setReceiveHook(e)},this.setSystemHook=function(e){r.setSystemHook(e)},this.scrambleClientId=function(){r.scrambleClientId()},this.getChannelCount=function(){var e=r.getChannelCount();return p((function(){var t=a.getChannelCount();t!==e&&f.warn("Silent connection returned a different result from .getChannelCount() than primary.  Primary returned "+e+" while silent returned "+t)})),e},this.lowLevelSend=function(e){r.lowLevelSend(e),y((function(){a.lowLevelSend(e)}))},c.Runtime.openConnection(n,b),p((function(){o=setTimeout(x,6e4),h.Runtime.openConnection(d,w)}))},g=function(t,n,i,r,a,o){var c,l,u=i,d=[r],h=o,m=function(e){s.forEach(d,(function(t){try{t(e)}catch(t){f.warn('Error delivering message %o on "%s": %o',e,u,t)}}))};this.getChannelName=function(){return u},this.getDeliveryType=function(){return c.getDeliveryType()},this.setDeliveryType=function(e){c.setDeliveryType(e),l&&n((function(){l.setDeliveryType(e)}))},this.getCallbacks=function(){return d},this.clearTimers=function(){c.clearTimers(),l&&p((function(){l.clearTimers()}))},this.unsubscribe=function(){f.unsubscribeLast(u),c.unsubscribe(),n((function(){l.unsubscribe()})),e.isFunction(h)&&h({h:{t:u,a:"unsubscribe"}},this)},this.deliver=function(e){c.deliver(e),n((function(){l.deliver(e)}))},this.resetState=function(){c.resetState(),l&&p((function(){l.resetState()}))},this.addCallback=function(t){-1==e.inArray(t,d)&&d.push(t)},this.removeCallback=function(e){1==d.length&&d[0]==e&&this.unsubscribe(),d=s.filter(d,(function(t){return t!==e}))},this.getLastMessageNumber=function(){return c.getLastMessageNumber()},this.getSequence=function(){return c.getSequence()},this.getToken=function(){return c.getToken()},c=t.subscribe(i,m,a),n((function(e){l=e.subscribe(i,f.message,a)}))},v=null,y=[],b=!1;return y.push((function(){b=!1})),{openConnection:function(e,t){v?t&&(b?v.addCallback(t):t(v,"connect")):(b=!0,t&&y.push(t),v=new m(this,e,y),y=null)},getConnection:function(e){return"function"!=typeof e||(v?b?v.addCallback(e):e(v,"connect"):y.push(e)),v}}}})},function(e,t,n){
/*!
	 * top-level.js
	 * Module that exports a function that creates a top-level BlueGrass2 namespace object.
	 */
var i=n(3),r=n(4),a=n(5);e.exports=function(e){var t,o=function(){throw new Error("BlueGrass2 client requires a global window and document object.  It is intended to run in the browser, not on the server.")};if(i.document){var s=e.library&&i[e.library]||e.factory();t=s.Runtime?s:{type:e.type,Runtime:s,Utility:r},e.library&&(i[e.library]=t),e.legacy&&(!i.BlueGrass1&&i.BlueGrass&&void 0===i.BlueGrass.type&&(i.BlueGrass1=i.BlueGrass),i.BlueGrass=t)}else t={type:e.type,Runtime:{openConnection:o,getConnection:o},Utility:r};return a(t),t.debug=function(){n(7).enable()},t}},function(e,t){e.exports="undefined"!=typeof window?window:{}},function(e,t){
/*!
	 * utility.js
	 * Module that exports a BlueGrass2 Utility object.
	 */
e.exports=function(){var e=(new Date).getTimezoneOffset()/60;return{arrayRemove:function(e,t,n){var i=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,i)},convertToExchangeTime:function(t,n){if(!t||null===t)return null;void 0!==n?n+=e:n=0;var i=parseInt(t);return isNaN(i)&&(t=t.indexOf("-")>=0||t.indexOf("+")>=0?t.substring(6,t.length-7):t.substring(6,t.length-2),i=parseInt(t)),i+=36e5*n,new Date(i)},prettyDate:function(e,t){"object"!=typeof e&&(e=this.convertToExchangeTime(e,t));var n,i=[[60,"Just Now"],[90,"1 Minute"],[3600,"Minutes",60],[5400,"1 Hour"],[86400,"Hours",3600],[129600,"1 Day"],[604800,"Days",86400],[907200,"1 Week"],[2628e3,"Weeks",604800],[3942e3,"1 Month"],[31536e3,"Months",2628e3],[47304e3,"1 Year"],[31536e5,"Years",31536e3],[47304e5,"1 Century"]],r=(new Date-e)/1e3,a=" Ago",o=0;for(r<0&&(r=Math.abs(r),a="");n=i[o++];)if(r<n[0])return 2==n.length?n[1]+(o>1?a:""):Math.round(r/n[2])+" "+n[1]+(o>1?a:"");return r>47304e5?Math.round(r/47304e5)+" Centuries"+a:date_str}}}()},function(e,t,n){var i=n(6),r=n(7)("client");e.exports=i({name:"Client",factory:function(e){var t,n=null,i=null,a=!1,o=0,s=0,c={now:"now",later:"later",latest:"latest",setup:"setup",create:"create",subscribe:"subscribe",default:"default"},l=((t={})[c.default]=c.create,t[c.now]=c.setup,t[c.later]=c.create,t[c.latest]=c.subscribe,function(e){return t[e&&"string"==typeof e?e:c.default]||(c.hasOwnProperty(e)?e:t[c.default])}),u=function(t){if(!a&&n&&(i===t||i===c.create&&o>0||i===c.subscribe&&s>0)){a=!0,o=null,s=null;var r=n.endpoint;"string"==typeof r&&(r={to:r}),e.Runtime.openConnection(r)}};function d(){var t=null,n={},i=!1;e.Runtime.getConnection((function(e,i){if(!t&&"connect"===i)for(var r in t=e,n)for(var a=n[r],o=0;o<a.handlers.length;o++)t.subscribe(r,a.handlers[o],a.options)})),this.subscribe=function(e,o,l){if(i)r.warn("subscribe ignored because client is closed.");else{e in n||(n[e]={handlers:[]});for(var d=n[e],h=0;h<d.handlers.length;h++)if(d.handlers===o)return;0===d.handlers.length&&(d.options=l,a||s++),d.handlers.push(o),t&&t.subscribe(e,o,l),u(c.subscribe)}},this.unsubscribe=function(e,o){if(i)r.warn("unsubscribe ignored because client is closed.");else if(e in n){var c=n[e];if(o){for(var l=!1,u=0;u<c.handlers.length;u++)if(c.handlers[u]===o){c.handlers.splice(u,1),l=!0;break}if(!l)return;0!==c.handlers.length||a||s--,t&&t.unsubscribe(e,o)}else{var d=c.handlers;if(0===d.length)return;if(c.handlers=[],c.options=null,a||s--,t)for(u=0;u<d.length;u++)t.unsubscribe(e,d[u])}}},this.close=function(){if(i)r.warn("close ignored because client is already closed.");else{if(i=!0,a||(o--,s-=n.length),t)for(var e in n)if(n.hasOwnProperty(e))for(var c=n[e],l=0;l<c.handlers.length;l++)t.unsubscribe(e,c.handlers[l]);n={},t=null}}}return{connect:c,setup:function(e){if(!e||"object"!=typeof e)throw new Error("Config is required and must be an object.");if("string"!=typeof e.endpoint&&(e.endpoint,1))throw new Error("A valid BlueGrass endpoint is required.");a?r.warn("setup ignored because a BG2 connection is already open."):(n&&r.warn("setup called more than once.  New configuration will replace the former."),n=e,i=l(e.connect),u(c.setup))},create:function(){return a||(o++,u(c.create)),new d}}}})},function(e,t){e.exports=function(e){var t=function(t){return t&&(t[e.name]=t[e.name]||e.factory(t))};return t(window.BlueGrass),t(window.BlueGrass1),t(window.BlueGrass2),t(window.BlueGrassAB),t(window.BlueGrass2Silent),t(window.BlueGrass2Legacy),t}},function(e,t,n){var i=n(8),r=n(10),a=n(9),o={enabled:r.hasSetting("debug")||r.hasKey("debugbg2"),enable:function(){s.enabled=!0,a.assign(s,a.filter(i,(function(e,t){return s[t]===a.noop}))),i.info("Debug mode enabled.")}},s=e.exports=function(e){var t=a.assign({},a.map(o,(function(e,t){return s[t]})));return a.defaults(t,a.mapValues(s,(function(t,n){return function(){var t=a.map(arguments);return"string"==typeof t[0]?t[0]="["+e+"] "+t[0]:t.unshift("["+e+"] "),s[n].apply(s,t)}}))),t};a.assign(s,o),a.defaults(s,a.map(i,(function(){return a.noop}))),s.enabled&&s.enable()},function(e,t,n){var i=n(3),r=n(9);function a(){return r.reduce(arguments,(function(e,t){var n=i.console;return e||n&&"function"==typeof n[t]&&o(n,n[t])}))||r.noop}function o(e,t){return function(){var n=r.map(arguments);"string"==typeof n[0]?n[0]="BG2: "+n[0]:n.unshift("BG2: "),t.apply(e,n)}}e.exports={log:a("log","info"),info:a("info","log"),warn:a("warn","info","log"),error:a("error","warn","info","log")}},function(e,t){function n(e,t,n){var i=e[0];if(i){var r=e[1];s.isArray(r)||(r=s.map(e)).shift(),s.reduce(r,(function(e,n){return s.reduce(n,t,e,this)}),i,n)}return i}function i(e){return e?function(t,n,i,r){e.apply(this,[n,i,r])}:s.noop}function r(e){return function(t,n,i,r){return t[i]=(e||s.identity).apply(this,[n,i,r]),t}}function a(e){return function(t,n,i,r){return t.hasOwnProperty(i)||(t[i]=(e||s.identity).apply(this,[n,i,r])),t}}function o(e){return!e||"length"in e?[]:{}}var s=e.exports={assign:function(e,t){return n(arguments,r())},defaults:function(e,t){return n(arguments,a())},forEach:function(e,t,n){return s.reduce(e,i(t),null,n),e},filter:function(e,t,n){return s.reduce(e,(function(e,n,i,r){return(t||s.identity).apply(this,[n,i,r])&&(s.isArray(e)?e.push(n):e[i]=n),e}),o(e),n)},forOwn:function(e,t,n){return s.reduceOwn(collection,i(t),null,n),e},identity:function(e){return e},isArray:Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},map:function(e,t,n){return s.reduce(e,r(t),o(e),n)},mapValues:function(e,t,n){return s.reduceOwn(e,r(t),{},n)},noop:function(){},reduce:function(e,t,n,i){if(e)if("length"in e)for(var r=0;r<e.length;r++)n=(t||s.identity).apply(i,[n,e[r],r,e]);else n=s.reduceOwn(e,t,n,i);return n},reduceOwn:function(e,t,n,i){for(var r in e)e.hasOwnProperty(r)&&(n=(t||s.identity).apply(i,[n,e[r],r,e]));return n}}},function(e,t,n){var i=n(3),r=n(9),a={},o={};!function(){var e=i.location&&i.location.href&&i.location.href.match(/\?(.+)$/i);if(e){var t=e[1].split("&"),n=r.filter(r.map(t,(function(e){return e.match(/^([^\=]+)(?:\=(.*))?$/i)})));r.forEach(n,(function(e){var t=e[1].toLowerCase(),n=e[2];"bg2"===t&&r.forEach(n&&n.split(","),(function(e){o[e.toLowerCase()]=!0})),void 0===n&&(n=!0),a[t]=n}))}}(),e.exports={hasKey:function(e){return a.hasOwnProperty(e.toLowerCase())},hasSetting:function(e){return!!o[e.toLowerCase()]}}},function(e,t,n){
/*!
	 * runtime.js
	 * Module that exports a function that creates a BlueGrass2 Runtime object.
	 */
var i=n(12);n(13)(i),n(13)(i);var r=n(8),a=n(7)("runtime"),o=n(9);e.exports=function(){!i.signalR||i.support.cors||i.signalR.prototype.__start||(i.signalR.prototype.__start=i.signalR.prototype.start,i.signalR.prototype.start=function(){var e,t=i.support.cors;try{i.support.cors=!0,e=i.signalR.prototype.__start.apply(this,arguments)}finally{i.support.cors=t}return e}),i.signalR.prototype.__stop||(i.signalR.prototype.__stop=i.signalR.prototype.stop,i.signalR.prototype.stop=function(e,t){return i.signalR.prototype.__stop.apply(this,[!0,t])});var e={h:{a:"process",t:"/system/resubscribe"},b:{resubscribe:!0}},t={h:{a:"heartbeat"},b:{}},n=function(e,t){return"string"==typeof e&&0!==e.length&&"/"===e.charAt(0)||(r.error(t+" called with invalid channel name: %o",e),!1)},s=function(e,t,n,i){return i&&!e?(r.error(n+" called without a "+t+", which is required."),!1):!e||"function"==typeof e||(r.error(n+" called with invalid "+t+", which must be a function: %o",e),!1)},c=function(e,t,a){var c=t,d=i.isArray(a)?a:[a],h={},f=null,p=null,m=this,g=function(e,t){"unsubscribe"==e.h.a&&null!=h[t.getChannelName()]&&delete h[t.getChannelName()],f.send(e)},v=function(e){"process"===e.h.a&&e.b?e.b.resubscribe?y():e.b.channelState&&w(e.b.channelState):"inform"===e.h.a&&"/system/channelinfo"===e.h.t&&b(e.b),p&&p(e)},y=function(){i.each(h,(function(){this.lowLevelSubscribe()}))},b=function(e){e&&e.channelName&&i.each(h,(function(){this.getChannelName()==e.channelName&&e.deliveryType&&this.setDeliveryType(e.deliveryType)}))},w=function(e){var t=h[e.channelName];null!=t&&(e.enabled||t.resetState())},x=function(){f&&(f.terminate(),f=null)},k=function(e,t){if(e===f){if(t){var n=h[t.h.t];n&&n.deliver(t)}}else e.terminate()};this.subscribe=function(e,t,i){if(!n(e,"subscribe")||!s(t,"callback","subscribe",!0))return null;i;var r=h[e];return r?r.addCallback(t):(r=new u(e,t,i,g),h[e]=r),r},this.unsubscribe=function(e,t,i){if(!n(e,"unsubscribe")||!s(t,"callback","unsubscribe",!1))return null;var r=h[e];return r&&(t?r.removeCallback(t):r.unsubscribe()),r},this.getChannel=function(e){return n(e,"getChannel")?h[e]:null},this.close=function(){d=null,h={},x()},this.reconnect=function(){},this.isOpen=function(){return!!f&&f.isOpen()},this.isDisabled=function(){return!!f&&f.isDisabled()},this.addCallback=function(e){s(e,"callback","addCallback",!0)&&d&&d.push(e)},this.setTransmitHook=function(e){s(e,"hook","setTransmitHook",!1)&&f&&f.setTransmitHook(e)},this.setReceiveHook=function(e){s(e,"hook","setReceiveHook",!1)&&f&&f.setReceiveHook(e)},this.setSystemHook=function(e){s(e,"hook","setSystemHook",!1)&&(p=e)},this.scrambleClientId=function(){f&&f.scrambleClientId()},this.getChannelCount=function(){return o.reduceOwn(h,(function(e){return e+1}),0)},this.lowLevelSend=function(e){e&&"object"==typeof e?f&&f.send(e):r.error("lowLevelSend called with invalid message: %o",e)},function(e){if(!i)throw new Error("BlueGrass2 requires jQuery.  jQuery was not found.");if(!i.signalR)throw new Error("BlueGrass2 requires Microsoft SignalR client, which is a jQuery plug-in.");e()}((function(){x();(f=new l((function(){var e,t;e=m,t="connect",d&&(i.each(d,(function(){try{this(e,t)}catch(e){r.warn("Error in connection callback: "+e.message)}})),d=null)}),v)).initialize(c,k)}))},l=function(n,o){var s,c,l,u,d,h,f,p,m,g=[],v=8e3,y=0,b=0,w=!1,x=!1,k=!1,S=null,M=3e4,C=n,_=o,T=this,L=function(){if(!k&&!h){var e=u;"number"==typeof e?(u=null,v=8e3):(e=v,v=Math.min(e*e,6e4)),h=setTimeout((function(){h=null,k||p.start().fail((function(){L()}))}),e)}},E=function(e){e.newState==i.signalR.connectionState.connected?(x||(x=!0,W(),w||(w=!0,i.isFunction(C)&&C())),0!==g.length&&g[0]===t||g.unshift(t),q()):(d&&clearTimeout(d),S&&clearTimeout(S),f&&clearTimeout(f),e.newState==i.signalR.connectionState.disconnected&&x&&(x=!1,k||L())),_({h:{a:"inform",t:"/system/signalrstatechanged"},b:e})},I=function(e){var t=JSON.parse(e);null!=l&&l(t),t.h&&t.h.t&&0===t.h.t.indexOf("/system/")&&_(t),s(T,t)},A=function(e,t){_({h:{a:"inform",t:"/system/channelinfo"},b:{channelName:e,deliveryType:t}})},D=function(e){e!==M&&e>=2e3&&(M=e,f&&(clearTimeout(f),f=setTimeout(j,e)))},W=function(){_(e)},P=function(e){u=e||0,p.stop()},j=function(){f=setTimeout(j,M),R(t)},q=function(){if(x&&(S=null,!(b>=2)))if(0!==g.length){var e=g.shift();if(y>0)d=setTimeout((function(){R(e)}),1e3*Math.min(900,Math.pow(2,y)));else{clearTimeout(d),R(e);var t=g.length>0?100:M;S=setTimeout(q,t)}}else f||(f=setTimeout(j,M))},R=function(e){if(x){var t=function(t){b++,t.done((function(e,t){O(t)})).fail((function(){N(e)}))};null!=c&&c(e),e.h&&("heartbeat"===e.h.a?t(m.invoke("ping")):"subscribe"===e.h.a?e.b.securityToken?t(m.invoke("subscribe",e.h.t,e.b.sequence,e.b.number,e.b.securityToken)):t(m.invoke("subscribe",e.h.t,e.b.sequence,e.b.number)):"unsubscribe"===e.h.a?t(m.invoke("unsubscribe",e.h.t)):"fetch"===e.h.a&&t(m.invoke("fetch",e.h.t,e.b.sequence,e.b.ranges)))}},O=function(e){b--,y=0,f&&(clearTimeout(f),f=null),q()},N=function(e){b--,y++,f||(f=setTimeout(j,M)),g.push(e),q()};this.initialize=function(e,t){s=t,p=i.hubConnection(e.to),a.enabled&&(p.logging=!0),(m=p.createHubProxy("mainHub")).on("newMessage",I),m.on("setDeliveryType",A),m.on("setHeartbeatInterval",D),m.on("resubscribe",W),m.on("reconnect",P),p.stateChanged(E),p.start().fail((function(){r.error("Failed to connect to BlueGrass2 SignalR endpoint: "+e.to+".  Will retry..."),L()}))},this.terminate=function(){k||(k=!0,d&&clearTimeout(d),h&&clearTimeout(h),p&&(p.stop(),p=null,m=null))},this.setPickupInterval=function(e){},this.scrambleClientId=function(){},this.setTransmitHook=function(e){c=e},this.setReceiveHook=function(e){l=e},this.send=function(e){x&&(g.push(e),null==S&&(S=setTimeout(q,100)))},this.isOpen=function(){return x},this.isDisabled=function(){return!1}},u=function(e,t,n,a){var c=e,l=[],u="",d="0",h=a;l.push(t);var f=function(e){o.forEach(l,(function(t){try{t(e)}catch(t){r.warn('Error delivering message %o on "%s": %o',e,c,t)}}))},p="Lossy";n&&n.sequence&&(u=n.sequence),n&&n.number&&(d=n.number);var m=d,g=null,v=0,y=[],b=null,w=null;n&&n.securityToken&&(w=n.securityToken);var x=this,k=function(){if(y&&y.length>0){y.sort((function(e,t){return e.h.n-t.h.n}));for(var e=0,t=0;t<y.length&&y[t].h.n==m+1;t++)f(y[t]),m=y[t].h.n,e=t+1;(y=y.length>e?y.slice(e):[]).length>0?b=setTimeout((function(){k()}),1e3):(clearTimeout(g),b=null,v=0,y=[])}},S=function(){u="",y=[],clearTimeout(g),v=0},M=function(){if(v>=10)S();else{var e=[];if(y.length>0){y.sort((function(e,t){return e.h.n-t.h.n}));for(var t=m,n=0;n<y.length;n++){var r=y[n].h.n;if(r>t+1){var a=t+1;r==a+1?e.push([a]):e.push([a,r-1])}t=r}}if(i.isFunction(h))h({h:{t:c,a:"fetch"},b:{sequence:u,ranges:e}},x);v++,g=setTimeout((function(){M()}),1e3*Math.min(32,Math.pow(2,v)))}};this.getChannelName=function(){return c},this.getDeliveryType=function(){return p},this.setDeliveryType=function(e){p=e},this.getCallbacks=function(){return l},this.clearTimers=function(){g&&clearTimeout(g),b&&clearTimeout(b)},this.lowLevelSubscribe=function(){if(i.isFunction(h)){var e={h:{t:c,a:"subscribe"},b:{sequence:u,number:m}};w&&(e.b.securityToken=w),h(e,this)}},this.unsubscribe=function(){i.isFunction(h)&&h({h:{t:c,a:"unsubscribe"}},this)},this.deliver=function(e){if(f&&e&&e.h&&e.h.t==c)if("retransmit"==e.h.a){for(var t=!1,n=0;n<y.length;n++)if(y[n].h.n==e.h.n){t=!0;break}t||y.push(e),b||(b=setTimeout((function(){k()}),1e3))}else if("broadcast"==e.h.a){var i=!1;if(e.h.s!=u&&(u=e.h.s,d=e.h.n,m=e.h.n,y=[],clearTimeout(g),v=0,"Lossy"==p&&(i=!0)),"Lossy"==p&&e.h.n>m||"BestEffort"==p)i=!0;else if("Guaranteed"==p){if(e.h.n<=m&&e.h.n!=d)return;if(m+1==e.h.n||e.h.n==d||e.h.n>=m+50)i=!0;else{var r=y.push(e);1==r?g=setTimeout((function(){M()}),1e3):r>=50&&(this.resetState(),this.deliver(e))}}i&&(m=e.h.n,f(e))}},this.resetState=function(){S()},this.addCallback=function(e){s(e,"callback","addCallback",!0)&&-1==i.inArray(e,l)&&l.push(e)},this.removeCallback=function(e){s(e,"callback","removeCallback",!0)&&(1==l.length&&l[0]==e&&this.unsubscribe(),l=o.filter(l,(function(t){return t!==e})))},this.getLastMessageNumber=function(){return m},this.getSequence=function(){return u},this.getToken=function(){return w},this.lowLevelSubscribe()},d=null,h=!1,f=[];return f.push((function(){h=!1})),{openConnection:function(e,t){if(e&&e.to)(h||d)&&a.warn("openConnection has already been called.  The endpoint given will be ignored.  Consider using getConnection(callback) instead.");else{var n="Calling openConnection without an endpoint is deprecated.  Consider using getConnection(callback) instead.";h||d||(n+="  Since this is the first call to openConnection, the endpoint will default to MarketWatch production."),a.warn(n)}e||(e={}),e.to||(e.to="http://mwstream.wsj.net/bg2"),d?t&&(h?d.addCallback(t):t(d,"connect")):(h=!0,t&&f.push(t),d=new c(this,e,f),f=null)},getConnection:function(e){return"function"!=typeof e?(d?h&&a.warn("getConnection called after openConnection, but before the connection was successfully opened.  The returned connection may not function as expected.  Consider using getConnection with a callback instead."):a.warn("getConnection called before openConnection; null will be returned.  Consider using getConnection with a callback instead."),d):(d?h?d.addCallback(e):e(d,"connect"):f.push(e),d)}}}},function(t,n){t.exports=e},function(e,t){e.exports=function(){}}])})),
/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
"undefined"==typeof WeakMap&&function(){var e=Object.defineProperty,t=Date.now()%1e9,n=function(){this.name="__st"+(1e9*Math.random()>>>0)+t+++"__"};n.prototype={set:function(t,n){var i=t[this.name];return i&&i[0]===t?i[1]=n:e(t,this.name,{value:[t,n],writable:!0}),this},get:function(e){var t;return(t=e[this.name])&&t[0]===e?t[1]:void 0},delete:function(e){var t=e[this.name];return!(!t||t[0]!==e)&&(t[0]=t[1]=void 0,!0)},has:function(e){var t=e[this.name];return!!t&&t[0]===e}},window.WeakMap=n}(),function(e){if(!e.JsMutationObserver){var t,n=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))t=setTimeout;else if(window.setImmediate)t=window.setImmediate;else{var i=[],r=String(Math.random());window.addEventListener("message",(function(e){if(e.data===r){var t=i;i=[],t.forEach((function(e){e()}))}})),t=function(e){i.push(e),window.postMessage(r,"*")}}var a,o,s=!1,c=[],l=0;h.prototype={observe:function(e,t){var i;if(i=e,e=window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(i)||i,!t.childList&&!t.attributes&&!t.characterData||t.attributeOldValue&&!t.attributes||t.attributeFilter&&t.attributeFilter.length&&!t.attributes||t.characterDataOldValue&&!t.characterData)throw new SyntaxError;var r,a=n.get(e);a||n.set(e,a=[]);for(var o=0;o<a.length;o++)if(a[o].observer===this){(r=a[o]).removeListeners(),r.options=t;break}r||(r=new v(this,e,t),a.push(r),this.nodes_.push(e)),r.addListeners()},disconnect:function(){this.nodes_.forEach((function(e){for(var t=n.get(e),i=0;i<t.length;i++){var r=t[i];if(r.observer===this){r.removeListeners(),t.splice(i,1);break}}}),this),this.records_=[]},takeRecords:function(){var e=this.records_;return this.records_=[],e}},v.prototype={enqueue:function(e){var n,i=this.observer.records_,r=i.length;if(i.length>0){var a=g(i[r-1],e);if(a)return void(i[r-1]=a)}else n=this.observer,c.push(n),s||(s=!0,t(u));i[r]=e},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(e){var t=this.options;t.attributes&&e.addEventListener("DOMAttrModified",this,!0),t.characterData&&e.addEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.addEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(e){var t=this.options;t.attributes&&e.removeEventListener("DOMAttrModified",this,!0),t.characterData&&e.removeEventListener("DOMCharacterDataModified",this,!0),t.childList&&e.removeEventListener("DOMNodeInserted",this,!0),(t.childList||t.subtree)&&e.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(e){if(e!==this.target){this.addListeners_(e),this.transientObservedNodes.push(e);var t=n.get(e);t||n.set(e,t=[]),t.push(this)}},removeTransientObservers:function(){var e=this.transientObservedNodes;this.transientObservedNodes=[],e.forEach((function(e){this.removeListeners_(e);for(var t=n.get(e),i=0;i<t.length;i++)if(t[i]===this){t.splice(i,1);break}}),this)},handleEvent:function(e){switch(e.stopImmediatePropagation(),e.type){case"DOMAttrModified":var t=e.attrName,n=e.relatedNode.namespaceURI,i=e.target;(s=new p("attributes",i)).attributeName=t,s.attributeNamespace=n;var r=e.attrChange===MutationEvent.ADDITION?null:e.prevValue;d(i,(function(e){if(e.attributes&&(!e.attributeFilter||!e.attributeFilter.length||-1!==e.attributeFilter.indexOf(t)||-1!==e.attributeFilter.indexOf(n)))return e.attributeOldValue?m(r):s}));break;case"DOMCharacterDataModified":var s=p("characterData",i=e.target);r=e.prevValue;d(i,(function(e){if(e.characterData)return e.characterDataOldValue?m(r):s}));break;case"DOMNodeRemoved":this.addTransientObserver(e.target);case"DOMNodeInserted":var c,l,u=e.target;"DOMNodeInserted"===e.type?(c=[u],l=[]):(c=[],l=[u]);var h=u.previousSibling,f=u.nextSibling;(s=p("childList",e.target.parentNode)).addedNodes=c,s.removedNodes=l,s.previousSibling=h,s.nextSibling=f,d(e.relatedNode,(function(e){if(e.childList)return s}))}a=o=void 0}},e.JsMutationObserver=h,e.MutationObserver||(e.MutationObserver=h,h._isPolyfilled=!0)}function u(){s=!1;var e=c;c=[],e.sort((function(e,t){return e.uid_-t.uid_}));var t=!1;e.forEach((function(e){var i=e.takeRecords();!function(e){e.nodes_.forEach((function(t){var i=n.get(t);i&&i.forEach((function(t){t.observer===e&&t.removeTransientObservers()}))}))}(e),i.length&&(e.callback_(i,e),t=!0)})),t&&u()}function d(e,t){for(var i=e;i;i=i.parentNode){var r=n.get(i);if(r)for(var a=0;a<r.length;a++){var o=r[a],s=o.options;if(i===e||s.subtree){var c=t(s);c&&o.enqueue(c)}}}}function h(e){this.callback_=e,this.nodes_=[],this.records_=[],this.uid_=++l}function f(e,t){this.type=e,this.target=t,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function p(e,t){return a=new f(e,t)}function m(e){return o||((n=new f((t=a).type,t.target)).addedNodes=t.addedNodes.slice(),n.removedNodes=t.removedNodes.slice(),n.previousSibling=t.previousSibling,n.nextSibling=t.nextSibling,n.attributeName=t.attributeName,n.attributeNamespace=t.attributeNamespace,n.oldValue=t.oldValue,(o=n).oldValue=e,o);var t,n}function g(e,t){return e===t?e:o&&((n=e)===o||n===a)?o:null;var n}function v(e,t,n){this.observer=e,this.target=t,this.options=n,this.transientObservedNodes=[]}}(self),function(e){"use strict";if(!window.performance||!window.performance.now){var t=Date.now();window.performance={now:function(){return Date.now()-t}}}var n,i;if(window.requestAnimationFrame||(window.requestAnimationFrame=(n=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame)?function(e){return n((function(){e(performance.now())}))}:function(e){return window.setTimeout(e,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||function(e){clearTimeout(e)}),!((i=document.createEvent("Event")).initEvent("foo",!0,!0),i.preventDefault(),i.defaultPrevented)){var r=Event.prototype.preventDefault;Event.prototype.preventDefault=function(){this.cancelable&&(r.call(this),Object.defineProperty(this,"defaultPrevented",{get:function(){return!0},configurable:!0}))}}var a=/Trident/.test(navigator.userAgent);if((!window.CustomEvent||a&&"function"!=typeof window.CustomEvent)&&(window.CustomEvent=function(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,Boolean(t.bubbles),Boolean(t.cancelable),t.detail),n},window.CustomEvent.prototype=window.Event.prototype),!window.Event||a&&"function"!=typeof window.Event){var o=window.Event;window.Event=function(e,t){t=t||{};var n=document.createEvent("Event");return n.initEvent(e,Boolean(t.bubbles),Boolean(t.cancelable)),n},window.Event.prototype=o.prototype}}(window.WebComponents),window.CustomElements=window.CustomElements||{flags:{}},function(e){var t=e.flags,n=[];e.addModule=function(e){n.push(e)},e.initializeModules=function(){n.forEach((function(t){t(e)}))},e.hasNative=Boolean(document.registerElement),e.isIE=/Trident/.test(navigator.userAgent),e.useNative=!t.register&&e.hasNative&&!window.ShadowDOMPolyfill&&(!window.HTMLImports||window.HTMLImports.useNative)}(window.CustomElements),window.CustomElements.addModule((function(e){var t=window.HTMLImports?window.HTMLImports.IMPORT_LINK_TYPE:"none";function n(e,t){!function e(t,n,i){var r=t.firstElementChild;if(!r)for(r=t.firstChild;r&&r.nodeType!==Node.ELEMENT_NODE;)r=r.nextSibling;for(;r;)!0!==n(r,i)&&e(r,n,i),r=r.nextElementSibling;return null}(e,(function(e){if(t(e))return!0;i(e,t)})),i(e,t)}function i(e,t){for(var i=e.shadowRoot;i;)n(i,t),i=i.olderShadowRoot}e.forDocumentTree=function(e,n){!function e(n,i,r){if(n=window.wrap(n),r.indexOf(n)>=0)return;r.push(n);for(var a,o=n.querySelectorAll("link[rel="+t+"]"),s=0,c=o.length;s<c&&(a=o[s]);s++)a.import&&e(a.import,i,r);i(n)}(e,n,[])},e.forSubtree=n})),window.CustomElements.addModule((function(e){var t=e.flags,n=e.forSubtree,i=e.forDocumentTree;function r(e,t){return a(e,t)||o(e,t)}function a(t,n){if(e.upgrade(t,n))return!0;n&&h(t)}function o(e,t){n(e,(function(e){if(a(e,t))return!0}))}var s=window.MutationObserver._isPolyfilled&&t["throttle-attached"];e.hasPolyfillMutations=s,e.hasThrottledAttached=s;var c=!1,l=[];function u(e){l.push(e),c||(c=!0,setTimeout(d))}function d(){c=!1;for(var e,t=l,n=0,i=t.length;n<i&&(e=t[n]);n++)e();l=[]}function h(e){s?u((function(){f(e)})):f(e)}function f(e){e.__upgraded__&&!e.__attached&&(e.__attached=!0,e.attachedCallback&&e.attachedCallback())}function p(e){s?u((function(){m(e)})):m(e)}function m(e){e.__upgraded__&&e.__attached&&(e.__attached=!1,e.detachedCallback&&e.detachedCallback())}function g(e,i){if(t.dom){var a=i[0];if(a&&"childList"===a.type&&a.addedNodes&&a.addedNodes){for(var o=a.addedNodes[0];o&&o!==document&&!o.host;)o=o.parentNode;var s=o&&(o.URL||o._URL||o.host&&o.host.localName)||"";s=s.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",i.length,s||"")}var c=function(e){for(var t=e,n=window.wrap(document);t;){if(t==n)return!0;t=t.parentNode||t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&t.host}}(e);i.forEach((function(e){"childList"===e.type&&(v(e.addedNodes,(function(e){e.localName&&r(e,c)})),v(e.removedNodes,(function(e){var t;e.localName&&(p(t=e),n(t,(function(e){p(e)})))})))})),t.dom&&console.groupEnd()}var v=Array.prototype.forEach.call.bind(Array.prototype.forEach);function y(e){if(!e.__observer){var t=new MutationObserver(g.bind(this,e));t.observe(e,{childList:!0,subtree:!0}),e.__observer=t}}function b(e){e=window.wrap(e),t.dom&&console.group("upgradeDocument: ",e.baseURI.split("/").pop()),r(e,e===window.wrap(document)),y(e),t.dom&&console.groupEnd()}var w=Element.prototype.createShadowRoot;w&&(Element.prototype.createShadowRoot=function(){var e=w.call(this);return window.CustomElements.watchShadow(this),e}),e.watchShadow=function(e){if(e.shadowRoot&&!e.shadowRoot.__watched){t.dom&&console.log("watching shadow-root for: ",e.localName);for(var n=e.shadowRoot;n;)y(n),n=n.olderShadowRoot}},e.upgradeDocumentTree=function(e){i(e,b)},e.upgradeDocument=b,e.upgradeSubtree=o,e.upgradeAll=r,e.attached=h,e.takeRecords=function(e){for((e=window.wrap(e))||(e=window.wrap(document));e.parentNode;)e=e.parentNode;var t=e.__observer;t&&(g(e,t.takeRecords()),d())}})),window.CustomElements.addModule((function(e){var t=e.flags;function n(n,r,a){return t.upgrade&&console.group("upgrade:",n.localName),r.is&&n.setAttribute("is",r.is),i(n,r),n.__upgraded__=!0,function(e){e.createdCallback&&e.createdCallback()}(n),a&&e.attached(n),e.upgradeSubtree(n,a),t.upgrade&&console.groupEnd(),n}function i(e,t){Object.__proto__||function(e,t,n){var i={},r=t;for(;r!==n&&r!==HTMLElement.prototype;){for(var a,o=Object.getOwnPropertyNames(r),s=0;a=o[s];s++)i[a]||(Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a)),i[a]=1);r=Object.getPrototypeOf(r)}}(e,t.prototype,t.native),e.__proto__=t.prototype}e.upgrade=function(t,i){if("template"===t.localName&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(t),!t.__upgraded__&&t.nodeType===Node.ELEMENT_NODE){var r=t.getAttribute("is"),a=e.getRegisteredDefinition(t.localName)||e.getRegisteredDefinition(r);if(a&&(r&&a.tag==t.localName||!r&&!a.extends))return n(t,a,i)}},e.upgradeWithDefinition=n,e.implementPrototype=i})),window.CustomElements.addModule((function(e){e.isIE;var t=e.upgradeDocumentTree,n=e.upgradeAll,i=e.upgradeWithDefinition,r=e.implementPrototype,a=e.useNative;function o(e,t,n){e=e.toLowerCase();var i=this.getAttribute(e);n.apply(this,arguments);var r=this.getAttribute(e);this.attributeChangedCallback&&r!==i&&this.attributeChangedCallback(e,i,r)}var s=["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"];var c={};function l(e){if(e)return c[e.toLowerCase()]}function u(e,t){e&&(e=e.toLowerCase()),t&&(t=t.toLowerCase());var n,i=l(t||e);if(i){if(e==i.tag&&t==i.is)return new i.ctor;if(!t&&!i.is)return new i.ctor}return t?((n=u(e)).setAttribute("is",t),n):(n=h(e),e.indexOf("-")>=0&&0!=e.indexOf("ufc-")&&"focus-trap"!==e&&r(n,HTMLElement),n)}var d,h=document.createElement.bind(document),f=document.createElementNS.bind(document);function p(e,t){var i=e[t];e[t]=function(){var e=i.apply(this,arguments);return n(e),e}}d=Object.__proto__||a?function(e,t){return e instanceof t}:function(e,t){if(e instanceof t)return!0;for(var n=e;n;){if(n===t.prototype)return!0;n=n.__proto__}return!1},p(Node.prototype,"cloneNode"),p(document,"importNode"),document.registerElement=function(n,r){var a=r||{};if(!n)throw new Error("document.registerElement: first argument `name` must not be empty");if(n.indexOf("-")<0)throw new Error("document.registerElement: first argument ('name') must contain a dash ('-'). Argument provided was '"+String(n)+"'.");if(function(e){for(var t=0;t<s.length;t++)if(e===s[t])return!0}(n))throw new Error("Failed to execute 'registerElement' on 'Document': Registration failed for type '"+String(n)+"'. The type name is invalid.");if(l(n))throw new Error("DuplicateDefinitionError: a type with name '"+String(n)+"' is already registered");return a.prototype||(a.prototype=Object.create(HTMLElement.prototype)),a.__name=n.toLowerCase(),a.extends&&(a.extends=a.extends.toLowerCase()),a.lifecycle=a.lifecycle||{},a.ancestry=function e(t){var n=l(t);if(n)return e(n.extends).concat([n]);return[]}(a.extends),function(e){for(var t,n=e.extends,i=0;t=e.ancestry[i];i++)n=t.is&&t.tag;e.tag=n||e.__name,n&&(e.is=e.__name)}(a),function(e){if(!Object.__proto__){var t=HTMLElement.prototype;if(e.is){var n=document.createElement(e.tag);t=Object.getPrototypeOf(n)}for(var i,r=e.prototype,a=!1;r;)r==t&&(a=!0),(i=Object.getPrototypeOf(r))&&(r.__proto__=i),r=i;a||console.warn(e.tag+" prototype not found in prototype chain for "+e.is),e.native=t}}(a),function(e){if(e.setAttribute._polyfilled)return;var t=e.setAttribute;e.setAttribute=function(e,n){o.call(this,e,n,t)};var n=e.removeAttribute;e.removeAttribute=function(e){o.call(this,e,null,n)},e.setAttribute._polyfilled=!0}(a.prototype),function(e,t){c[e]=t}(a.__name,a),a.ctor=function(e){return function(){return function(e){return i(h(e.tag),e)}(e)}}(a),a.ctor.prototype=a.prototype,a.prototype.constructor=a.ctor,e.ready&&t(document),a.ctor},document.createElement=u,document.createElementNS=function(e,t,n){return"http://www.w3.org/1999/xhtml"===e?u(t,n):f(e,t)},e.registry=c,e.instanceof=d,e.reservedTagList=s,e.getRegisteredDefinition=l,document.register=document.registerElement})),function(e){var t=e.useNative,n=e.initializeModules;e.isIE;if(t){var i=function(){};e.watchShadow=i,e.upgrade=i,e.upgradeAll=i,e.upgradeDocumentTree=i,e.upgradeSubtree=i,e.takeRecords=i,e.instanceof=function(e,t){return e instanceof t}}else n();var r=e.upgradeDocumentTree,a=e.upgradeDocument;function o(){r(window.wrap(document)),window.CustomElements.ready=!0,(window.requestAnimationFrame||function(e){setTimeout(e,16)})((function(){setTimeout((function(){window.CustomElements.readyTime=Date.now(),window.HTMLImports&&(window.CustomElements.elapsed=window.CustomElements.readyTime-window.HTMLImports.readyTime),document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}))}))}if(window.wrap||(window.ShadowDOMPolyfill?(window.wrap=window.ShadowDOMPolyfill.wrapIfNeeded,window.unwrap=window.ShadowDOMPolyfill.unwrapIfNeeded):window.wrap=window.unwrap=function(e){return e}),window.HTMLImports&&(window.HTMLImports.__importsParsingHook=function(e){e.import&&a(wrap(e.import))}),"complete"===document.readyState||e.flags.eager)o();else if("interactive"!==document.readyState||window.attachEvent||window.HTMLImports&&!window.HTMLImports.ready){var s=window.HTMLImports&&!window.HTMLImports.ready?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(s,o)}else o()}(window.CustomElements),
/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
"undefined"==typeof HTMLTemplateElement&&function(){var e=document.implementation.createHTMLDocument("template"),t=!0;HTMLTemplateElement=function(){},HTMLTemplateElement.prototype=Object.create(HTMLElement.prototype),HTMLTemplateElement.decorate=function(n){if(!n.content){var a;for(n.content=e.createDocumentFragment();a=n.firstChild;)n.content.appendChild(a);if(t)try{Object.defineProperty(n,"innerHTML",{get:function(){for(var e="",t=this.content.firstChild;t;t=t.nextSibling)e+=t.outerHTML||t.data.replace(i,r);return e},set:function(t){for(e.body.innerHTML=t,HTMLTemplateElement.bootstrap(e);this.content.firstChild;)this.content.removeChild(this.content.firstChild);for(;e.body.firstChild;)this.content.appendChild(e.body.firstChild)},configurable:!0})}catch(e){t=!1}HTMLTemplateElement.bootstrap(n.content)}},HTMLTemplateElement.bootstrap=function(e){for(var t,n=e.querySelectorAll("template"),i=0,r=n.length;i<r&&(t=n[i]);i++)HTMLTemplateElement.decorate(t)},document.addEventListener("DOMContentLoaded",(function(){HTMLTemplateElement.bootstrap(document)}));var n=document.createElement;document.createElement=function(){"use strict";var e=n.apply(document,arguments);return"template"==e.localName&&HTMLTemplateElement.decorate(e),e};var i=/[&\u00A0<>]/g;function r(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case" ":return"&nbsp;"}}}(),function(){function e(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function t(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.g.offsetWidth,n=t+100;return e.j.style.width=n+"px",e.i.scrollLeft=n,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function r(t,n){function r(){var e=a;i(e)&&null!==e.g.parentNode&&n(e.l)}var a=t;e(t.h,r),e(t.i,r),i(t)}function a(e,t,n){t=t||{},n=n||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=n}var o=null,s=null,c=null,l=null;function u(e){return null===l&&(l=!!e.document.fonts),l}function d(e,t){var n=e.style,i=e.weight;if(null===c){var r=document.createElement("div");try{r.style.font="condensed 100px sans-serif"}catch(e){}c=""!==r.style.font}return[n,i,c?e.stretch:"","100px",t].join(" ")}a.prototype.load=function(e,i){var a=this,c=e||"BESbswy",l=0,h=i||3e3,f=(new Date).getTime();return new Promise((function(e,i){if(u(a.context)&&!function(e){return null===s&&(u(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&603>parseInt(e[1],10)):s=!1),s}(a.context)){var p=new Promise((function(e,t){!function n(){(new Date).getTime()-f>=h?t(Error(h+"ms timeout exceeded")):a.context.document.fonts.load(d(a,'"'+a.family+'"'),c).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),m=new Promise((function(e,t){l=setTimeout((function(){t(Error(h+"ms timeout exceeded"))}),h)}));Promise.race([m,p]).then((function(){clearTimeout(l),e(a)}),i)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function s(){var t;(t=-1!=g&&-1!=v||-1!=g&&-1!=y||-1!=v&&-1!=y)&&((t=g!=v&&g!=y&&v!=y)||(null===o&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),o=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=o&&(g==b&&v==b&&y==b||g==w&&v==w&&y==w||g==x&&v==x&&y==x)),t=!t),t&&(null!==k.parentNode&&k.parentNode.removeChild(k),clearTimeout(l),e(a))}var u=new t(c),p=new t(c),m=new t(c),g=-1,v=-1,y=-1,b=-1,w=-1,x=-1,k=document.createElement("div");k.dir="ltr",n(u,d(a,"sans-serif")),n(p,d(a,"serif")),n(m,d(a,"monospace")),k.appendChild(u.g),k.appendChild(p.g),k.appendChild(m.g),a.context.document.body.appendChild(k),b=u.g.offsetWidth,w=p.g.offsetWidth,x=m.g.offsetWidth,function e(){if((new Date).getTime()-f>=h)null!==k.parentNode&&k.parentNode.removeChild(k),i(Error(h+"ms timeout exceeded"));else{var t=a.context.document.hidden;!0!==t&&void 0!==t||(g=u.g.offsetWidth,v=p.g.offsetWidth,y=m.g.offsetWidth,s()),l=setTimeout(e,50)}}(),r(u,(function(e){g=e,s()})),n(u,d(a,'"'+a.family+'",sans-serif')),r(p,(function(e){v=e,s()})),n(p,d(a,'"'+a.family+'",serif')),r(m,(function(e){y=e,s()})),n(m,d(a,'"'+a.family+'",monospace'))}))}))},"object"==typeof module?module.exports=a:(window.FontFaceObserver=a,window.FontFaceObserver.prototype.load=a.prototype.load)}();var TinyDatePicker=function(){"use strict";var e=function(){var e=window.CustomEvent;"function"!=typeof e&&((e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype);return e}();return function(i,r){var a=function(t,i){r=t,t="string"==typeof r?document.querySelector(r):r;var r;var a={input:"dp-permanent"!==i.mode?t:null,container:"dp-permanent"===i.mode?t:null,mode:i.mode||"dp-modal",days:i.days||["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:i.months||["January","February","March","April","May","June","July","August","September","October","November","December"],today:i.today||"Today",clear:i.clear||"Clear",close:i.close||"Close",onOpen:i.onOpen||function(){},dateClass:i.dateClass||function(){},inRange:i.inRange||function(){return!0},onSelectYear:i.onSelectYear||function(){},onSelectMonth:i.onSelectMonth||function(){},onChangeDate:i.onChangeDate||function(){},onClearDate:i.onClearDate||function(){},onNavigate:i.onNavigate||function(){},format:i.format||function(e){return e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear()},parse:i.parse||function(e){var t=new Date(e);return isNaN(t)?y():t},inputFocused:function(){return!a.container&&t===document.activeElement},onChange:function(n,i){(!n||g(a,n)&&!v(a,n))&&(n&&(a.selectedDate=new Date(a.currentDate=n),a.onChangeDate(a)),i||a.isPermanent||(t.value=n?a.format(n):""),a.isModal?f(t):s(u,a),a.isPermanent||t.dispatchEvent(new e("change",{bubbles:!0})))},open:function(){h(a)||n(a)},openYears:function(){a.open(),s(c,a)},openMonths:function(){a.open(),s(l,a)},setValue:function(e){e=a.parse(e),a.onChange(e)},addMonths:function(e){return d(a.currentDate,a.currentDate.getMonth()+e),a.goToDate(a.currentDate)},addYears:function(e){return a.addMonths(12*e)},goToDate:function(e){return a.currentDate=a.parse(e),s(u,a),a.onNavigate(a),a.selectedDate},setMinDate:function(e){a.min=m(a,e,-100)},setMaxDate:function(e){a.max=m(a,e,100)},weekStartsMonday:i.weekStartsMonday,disableWeekends:i.disableWeekends||!1};a.min=m(a,i.min,-100),a.max=m(a,i.max,100),a.isModal="dp-modal"===a.mode,a.isBelow="dp-below"===a.mode,a.isPermanent="dp-permanent"===a.mode,a.preselectedDate=a.parse(i.preselectedDate)||new Date,a.isPermanent&&n(a);return a}(i,r||{});a.isModal?i.readOnly=!0:a.isPermanent||o("blur",i,t(5,(function(){a.el&&!a.el.contains(document.activeElement)&&p(a)})));var b=t(5,(function(){h(a)?p(a):n(a)}));a.isPermanent||(o("mousedown",i,(function(){a.inputFocused()&&b()})),o("focus",i,b),o("input",i,(function(e){var t=a.parse(e.target.value);isNaN(t)||a.onChange(t,!0)})));return a};function t(e,t){var n=void 0;return function(){clearTimeout(n),n=setTimeout(t,e)}}function n(e){if(!e.el){var n=e.input,h=document.createElement("div");if(h.className=e.mode,h.innerHTML='<div class="dp"></div>'+(e.isModal?'<a href="#" class="dp-focuser">.</a>':""),e.el=h,!e.isPermanent){var m=h.querySelector(".dp");o("blur",m,t(10,(function(){m.contains(document.activeElement)||(e.isModal?f(n):e.inputFocused()||p(e))})))}switch(function(e){var t=e.input||{},n=e.parse(t.value);e.currentDate=t.value&&g(e,n)?n:e.preselectedDate,e.selectedDate=new Date(e.currentDate),t.value&&(t.value=e.format(e.currentDate))}(e),e.mode){case"dp-modal":document.body.appendChild(h);break;case"dp-below":h.style.visibility="hidden",n.parentElement.appendChild(h);break;case"dp-permanent":e.container.appendChild(h)}e.isAbove=null,s(u,e);var v=e.el.querySelector(".dp-current");v&&v.focus(),o("mousedown",h,(function(e){e.target!==h&&"A"!==e.target.tagName&&e.preventDefault()})),o("keydown",h,(function(t){t.keyCode>=37&&t.keyCode<=40&&t.preventDefault(),h.querySelector(".dp-cal")?function(e,t,n){var i=e.keyCode;37===i?a(t,n,-1):39===i?a(t,n,1):38===i?a(t,n,-7):40===i&&a(t,n,7)}(t,h,e):h.querySelector(".dp-months")?function(e,t,n){var i=e.keyCode;37===i?r(t,n,-1):39===i?r(t,n,1):38===i?r(t,n,-3):40===i&&r(t,n,3)}(t,h,e):h.querySelector(".dp-years")&&function(e,t,n){var r=e.keyCode;37===r||38===r?i(e,t,n,-1):39!==r&&40!==r||i(e,t,n,1)}(t,h,e)})),o("click","dp-next",h,(function(){d(e.currentDate,e.currentDate.getMonth()+1),s(u,e),e.onNavigate(e)})),o("click","dp-prev",h,(function(){d(e.currentDate,e.currentDate.getMonth()-1),s(u,e),e.onNavigate(e)})),o("click","dp-day",h,(function(i){e.onChange(new Date(parseInt(i.target.getAttribute("data-date")))),i.target.classList.contains("dp-day-disabled")||(f(n),e.isBelow&&t(10,(function(){p(e)}))())})),o("click","dp-year",h,(function(t){e.currentDate.setFullYear(parseInt(t.target.getAttribute("data-year"))),s(u,e),e.onSelectYear(e),e.onNavigate(e)})),o("click","dp-month",h,(function(t){e.currentDate.setMonth(parseInt(t.target.getAttribute("data-month"))),s(u,e),e.onSelectMonth(e),e.onNavigate(e)})),o("click","dp-cal-year",h,(function(){s(c,e)})),o("click","dp-cal-month",h,(function(){s(l,e)})),o("click","dp-today",h,(function(){e.onChange(y())})),o("click","dp-clear",h,(function(){e.onChange(null),e.onClearDate(e)})),o("click","dp-close",h,(function(){f(n),e.isBelow&&t(10,(function(){p(e)}))()})),e.onOpen(e)}}function i(e,t,n,i){e.preventDefault();var r=n.currentDate.getFullYear()+i,a=Math.min(n.max.getFullYear(),Math.max(n.min.getFullYear(),r));n.currentDate.setFullYear(a),s(c,n),n.onNavigate(n)}function r(e,t,n){var i=(12+(t.currentDate.getMonth()+n))%12;d(t.currentDate,i),s(l,t),t.onNavigate(t)}function a(e,t,n){var i=t.currentDate;i.setDate(i.getDate()+n),s(u,t),t.onNavigate(t)}function o(e,t,n,i){i?t=new RegExp("\\b"+t+"\\b"):(i=n,n=t,t=/.*/),n.addEventListener(e,(function(e){t.test(e.target.className)&&i(e)}),!0)}function s(e,t){var n=e(t);if(n&&(t.el.firstChild.innerHTML=n),t.isBelow&&function(e){var t=e.input.getBoundingClientRect(),n=document.documentElement;!function(e,t,n){var i=e.el,r=e.input,a=n.clientHeight,o=i.offsetHeight;if(null===e.isAbove){var s=t.bottom+8+o;e.isAbove=s>a&&t.top>o}var c=r.offsetTop+(e.isAbove?-o-8:r.offsetHeight+8);i.style.top=c+"px"}(e,t,n),function(e,t,n){var i=e.el,r=e.input;if(e.input.classList.contains("dp-alignRight"))i.style.right="0px";else{var a=n.clientWidth,o=i.offsetWidth,s=t.left+o,c=s<a||t.right<o,l=r.offsetLeft-(c?0:s-a);i.style.left=l+"px"}}(e,t,n),e.el.style.visibility=""}(t),t.isModal||!t.inputFocused()){var i=t.el.querySelector(".dp-current");return i&&i.focus()}}function c(e){var t=e.currentDate.getFullYear(),n=e.selectedDate.getFullYear();return'<div class="dp-years">'+function(e,t){for(var n="",i=e.max.getFullYear();i>=e.min.getFullYear();--i)n+=t(i);return n}(e,(function(e){var i="dp-year";return i+=e===t?" dp-current":"",'<a tabindex="-1" href="javascript:;" class="'+(i+=e===n?" dp-selected":"")+'" data-year="'+e+'">'+e+"</a>"}))+"</div>"}function l(e){var t=e.months,n=e.currentDate.getMonth();return'<div class="dp-months">'+t.map((function(e,t){var i="dp-month";return'<a tabindex="-1" href="javascript:;" class="'+(i+=n===t?" dp-current":"")+'" data-month="'+t+'">'+e+"</a>"})).join("")+"</div>"}function u(e){var t=e.days,n=e.weekStartsMonday?1:0,i=e.currentDate,r=e.selectedDate,a=i.getMonth(),o=y().getTime();return'<div class="dp-cal"><header class="dp-cal-header"><a tabindex="-1" href="javascript:;" class="dp-prev">Prev</a><a tabindex="-1" href="javascript:;" class="dp-cal-month">'+e.months[a]+'</a><a tabindex="-1" href="javascript:;" class="dp-cal-year">'+i.getFullYear()+'</a><a tabindex="-1" href="javascript:;" class="dp-next">Next</a></header><div class="dp-days">'+t.map((function(e,i){return'<span class="dp-col-header">'+t[(i+n)%t.length]+"</span>"})).join("")+function(e,t,n){var i="",r=new Date(e);r.setDate(1),r.setDate(1-r.getDay()+t),t&&2===r.getDate()&&r.setDate(-5);for(var a=0;a<42;++a)i+=n(r),r.setDate(r.getDate()+1);return i}(i,n,(function(t){var n=t.getMonth()!==a,s=!g(e,t)||v(e,t),c=t.getTime()===o,l="dp-day";return l+=n?" dp-edge-day":"",l+=b(t,i)?" dp-current":"",l+=b(t,r)?" dp-selected":"",l+=s?" dp-day-disabled":"",l+=c?" dp-day-today":"",'<a tabindex="-1" href="javascript:;" class="'+(l+=" "+e.dateClass(t,e))+'" data-date="'+t.getTime()+'">'+t.getDate()+"</a>"}))+'</div><footer class="dp-cal-footer"><a tabindex="-1" href="javascript:;" class="dp-today">'+e.today+'</a><a tabindex="-1" href="javascript:;" class="dp-clear">'+e.clear+'</a><a tabindex="-1" href="javascript:;" class="dp-close">'+e.close+"</a></footer></div>"}function d(e,t){var n=e.getDate();e.setDate(1),e.setMonth(t),e.setDate(n),e.getDate()<n&&e.setDate(1-e.getDate())}function h(e){return e.isModal&&!!e.el}function f(e){e.focus(),/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&e.blur()}function p(e){var t=e.el;t&&t.parentElement.removeChild(t),e.el=void 0}function m(e,t,n){return t?e.parse(t):new Date(y().setFullYear(y().getFullYear()+n))}function g(e,t){return e.inRange(t,e)&&e.min<=t&&e.max>=t}function v(e,t){return e.disableWeekends&&(0==t.getDay()||6==t.getDay())}function y(){var e=new Date;return e.setHours(0,0,0,0),e}function b(e,t){return e.toDateString()===t.toDateString()}}();if("undefined"!=typeof module&&module.exports&&(module.exports=TinyDatePicker),"function"!=typeof Object.assign&&(Object.assign=function(e,t){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(null!=r)for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])}return n}),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),function(e){var t;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"==typeof exports&&(module.exports=e(),t=!0),!t)window.JSShare=e()}((function(){function e(e){""===e.url&&(e.url=location.href);var t=e.url,n="";return""!==e.utm_source&&(n+="&utm_source="+e.utm_source),""!==e.utm_medium&&(n+="&utm_medium="+e.utm_medium),""!==e.utm_campaign&&(n+="&utm_campaign="+e.utm_campaign),""!==n&&(t=t+"?"+n),t}"indexOf"in Array.prototype||(Array.prototype.indexOf=function(e,t){void 0===t&&(t=0),t<0&&(t+=this.length),t<0&&(t=0);for(var n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1});var t={unknown:function(t){return encodeURIComponent(e(t))},vk:function(t){return"http://vk.com/share.php?url="+encodeURIComponent(e(t))+"&title="+encodeURIComponent(t.title)+"&description="+encodeURIComponent(t.text)+"&image="+encodeURIComponent(t.image)+"&noparse=true"},ok:function(t){return"https://connect.ok.ru/offer?url="+encodeURIComponent(e(t))+"&title="+encodeURIComponent(t.title)+"&description="+encodeURIComponent(t.text)+"&imageUrl="+encodeURIComponent(t.image)},fb:function(t){return"https://www.facebook.com/sharer.php?u="+encodeURIComponent(e(t))},facebook:function(t){return"https://www.facebook.com/sharer.php?u="+encodeURIComponent(e(t))},googlebookmarks:function(t){return"https://www.google.com/bookmarks/mark?op=edit&bkmk="+encodeURIComponent(e(t))+"&title="+encodeURIComponent(t.title)+"&annotation="+encodeURIComponent(t.text)+"&labels="},livejournal:function(t){return"http://livejournal.com/update.bml?subject="+encodeURIComponent(t.title)+"&event="+encodeURIComponent(t.text+'<br/><a href="'+e(t)+'">'+t.title+"</a>")+"&transform=1"},tumblr:function(t){return"https://www.tumblr.com/widgets/share/tool?canonicalUrl="+encodeURIComponent(e(t))+"&title="+encodeURIComponent(t.title)+"&caption="+encodeURIComponent(t.text)+"&tags="},pinterest:function(t){return"http://pinterest.com/pin/create/link/?url="+encodeURIComponent(e(t))},linkedin:function(t){return"https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(e(t))+"&title="+encodeURIComponent(t.title)+"&summary="+encodeURIComponent(t.text)},reddit:function(t){return"https://reddit.com/submit?url="+encodeURIComponent(e(t))+"&title="+encodeURIComponent(t.title)},twitter:function(t){var n=e(t);return"http://twitter.com/share?text="+encodeURIComponent(t.title)+"&url="+encodeURIComponent(n)+"&counturl="+encodeURIComponent(n)},mailru:function(t){return"http://connect.mail.ru/share?url="+encodeURIComponent(e(t))+"&title="+encodeURIComponent(t.title)+"&description="+encodeURIComponent(t.text)+"&imageurl="+encodeURIComponent(t.image)},googleplus:function(t){return"https://plus.google.com/share?url="+encodeURIComponent(e(t))},weibo:function(t){return"http://service.weibo.com/share/share.php?url="+encodeURIComponent(e(t))+"&title="+encodeURIComponent(t.title)+"&pic="+encodeURIComponent(t.image)},telegram:function(t){return t.link_telegram+"?url="+encodeURIComponent(e(t)+"\n"+t.title)},whatsapp:function(t){return t.link_whatsapp+"?text="+encodeURIComponent(e(t)+"\n"+t.title)},viber:function(t){return"viber://forward?text="+encodeURIComponent(e(t)+"\n"+t.title)},skype:function(t){return"https://web.skype.com/share?url="+encodeURIComponent(e(t))+"&text="+encodeURIComponent(t.title)},line:function(t){return"https://lineit.line.me/share/ui?url="+encodeURIComponent(e(t))+"&text="+encodeURIComponent(t.title)},email:function(t){return"mailto:?subject="+encodeURIComponent(t.title)+"&body="+encodeURIComponent(e(t))+encodeURIComponent("\n"+t.text)}};return function(){var e={type:"email",url:"",title:document.title,image:"",text:"",utm_source:"",utm_medium:"",utm_campaign:"",popup_width:626,popup_height:436,link_telegram:"https://telegram.me/share/url",link_whatsapp:"https://wa.me/"};function n(){}return n.go=function(n,i){var r,a,o,s=!0;return i=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}(e,function(e,t){var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=e.getAttribute("data-"+i);null!=r&&(n[i]=r)}return n}(n,e),i),void 0===t[i.type]&&(i.type="unknown"),r=t[i.type](i),-1===["unknown","viber","telegram","whatsapp","email","skype","line"].indexOf(i.type)&&(s=null===(a=r,o=i,window.open(a,"","toolbar=0,status=0,scrollbars=1,width="+o.popup_width+",height="+o.popup_height))),!!s&&("A"===n.tagName&&"a"===n.tagName?(n.setAttribute("href",r),!0):(location.href=r,!1))},n.options=e,n}()})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Chart=t()}(this,(function(){"use strict";function e(){}const t=function(){let e=0;return function(){return e++}}();function n(e){return null==e}function i(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function r(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}const a=e=>("number"==typeof e||e instanceof Number)&&isFinite(+e);function o(e,t){return a(e)?e:t}function s(e,t){return void 0===e?t:e}const c=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100:e/t,l=(e,t)=>"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function u(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function d(e,t,n,a){let o,s,c;if(i(e))if(s=e.length,a)for(o=s-1;o>=0;o--)t.call(n,e[o],o);else for(o=0;o<s;o++)t.call(n,e[o],o);else if(r(e))for(c=Object.keys(e),s=c.length,o=0;o<s;o++)t.call(n,e[c[o]],c[o])}function h(e,t){let n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],a=t[n],r.datasetIndex!==a.datasetIndex||r.index!==a.index)return!1;return!0}function f(e){if(i(e))return e.map(f);if(r(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let r=0;for(;r<i;++r)t[n[r]]=f(e[n[r]]);return t}return e}function p(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function m(e,t,n,i){if(!p(e))return;const a=t[e],o=n[e];r(a)&&r(o)?g(a,o,i):t[e]=f(o)}function g(e,t,n){const a=i(t)?t:[t],o=a.length;if(!r(e))return e;const s=(n=n||{}).merger||m;for(let i=0;i<o;++i){if(!r(t=a[i]))continue;const o=Object.keys(t);for(let i=0,r=o.length;i<r;++i)s(o[i],e,t,n)}return e}function v(e,t){return g(e,t,{merger:y})}function y(e,t,n){if(!p(e))return;const i=t[e],a=n[e];r(i)&&r(a)?v(i,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=f(a))}const b={"":e=>e,x:e=>e.x,y:e=>e.y};function w(e,t){return(b[t]||(b[t]=function(e){const t=x(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t)))(e)}function x(e){const t=e.split("."),n=[];let i="";for(const e of t)i+=e,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function k(e){return e.charAt(0).toUpperCase()+e.slice(1)}const S=e=>void 0!==e,M=e=>"function"==typeof e,C=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function _(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}const T=Math.PI,L=2*T,E=L+T,I=Number.POSITIVE_INFINITY,A=T/180,D=T/2,W=T/4,P=2*T/3,j=Math.log10,q=Math.sign;function R(e){const t=Math.round(e);e=H(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(j(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function O(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i==0&&(t.push(i),t.push(e/i));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}function N(e){return!isNaN(parseFloat(e))&&isFinite(e)}function H(e,t,n){return Math.abs(e-t)<n}function B(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function F(e,t,n){let i,r,a;for(i=0,r=e.length;i<r;i++)a=e[i][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function V(e){return e*(T/180)}function U(e){return e*(180/T)}function z(e){if(!a(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function G(e,t){const n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i);let a=Math.atan2(i,n);return a<-.5*T&&(a+=L),{angle:a,distance:r}}function $(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Y(e,t){return(e-t+E)%L-T}function Z(e){return(e%L+L)%L}function J(e,t,n,i){const r=Z(e),a=Z(t),o=Z(n),s=Z(a-r),c=Z(o-r),l=Z(r-a),u=Z(r-o);return r===a||r===o||i&&a===o||s>c&&l<u}function Q(e,t,n){return Math.max(t,Math.min(n,e))}function X(e){return Q(e,-32768,32767)}function K(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function ee(e,t,n){n=n||(n=>e[n]<t);let i,r=e.length-1,a=0;for(;r-a>1;)i=a+r>>1,n(i)?a=i:r=i;return{lo:a,hi:r}}const te=(e,t,n,i)=>ee(e,n,i?i=>e[i][t]<=n:i=>e[i][t]<n),ne=(e,t,n)=>ee(e,n,i=>e[i][t]>=n);function ie(e,t,n){let i=0,r=e.length;for(;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}const re=["push","pop","shift","splice","unshift"];function ae(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),re.forEach(t=>{const n="_onData"+k(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(...t){const r=i.apply(this,t);return e._chartjs.listeners.forEach(e=>{"function"==typeof e[n]&&e[n](...t)}),r}})}))}function oe(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(re.forEach(t=>{delete e[t]}),delete e._chartjs)}function se(e){const t=new Set;let n,i;for(n=0,i=e.length;n<i;++n)t.add(e[n]);return t.size===i?e:Array.from(t)}const ce="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function le(e,t,n){const i=n||(e=>Array.prototype.slice.call(e));let r=!1,a=[];return function(...n){a=i(n),r||(r=!0,ce.call(window,()=>{r=!1,e.apply(t,a)}))}}function ue(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const de=e=>"start"===e?"left":"end"===e?"right":"center",he=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2,fe=(e,t,n,i)=>e===(i?"left":"right")?n:"center"===e?(t+n)/2:t;function pe(e,t,n){const i=t.length;let r=0,a=i;if(e._sorted){const{iScale:o,_parsed:s}=e,c=o.axis,{min:l,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(r=Q(Math.min(te(s,o.axis,l).lo,n?i:te(t,c,o.getPixelForValue(l)).lo),0,i-1)),a=h?Q(Math.max(te(s,o.axis,u,!0).hi+1,n?0:te(t,c,o.getPixelForValue(u),!0).hi+1),r,i)-r:i-r}return{start:r,count:a}}function me(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;const a=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),a}var ge=new class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,i){const r=t.listeners[i],a=t.duration;r.forEach(i=>i({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=ce.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const r=n.items;let a,o=r.length-1,s=!1;for(;o>=0;--o)a=r[o],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),s=!0):(r[o]=r[r.length-1],r.pop());s&&(i.draw(),this._notify(i,n,e,"progress")),r.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),t+=r.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}};
/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function ve(e){return e+.5|0}const ye=(e,t,n)=>Math.max(Math.min(e,n),t);function be(e){return ye(ve(2.55*e),0,255)}function we(e){return ye(ve(255*e),0,255)}function xe(e){return ye(ve(e/2.55)/100,0,1)}function ke(e){return ye(ve(100*e),0,100)}const Se={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Me=[..."0123456789ABCDEF"],Ce=e=>Me[15&e],_e=e=>Me[(240&e)>>4]+Me[15&e],Te=e=>(240&e)>>4==(15&e);const Le=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ee(e,t,n){const i=t*Math.min(n,1-n),r=(t,r=(t+e/30)%12)=>n-i*Math.max(Math.min(r-3,9-r,1),-1);return[r(0),r(8),r(4)]}function Ie(e,t,n){const i=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function Ae(e,t,n){const i=Ee(e,1,.5);let r;for(t+n>1&&(r=1/(t+n),t*=r,n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function De(e){const t=e.r/255,n=e.g/255,i=e.b/255,r=Math.max(t,n,i),a=Math.min(t,n,i),o=(r+a)/2;let s,c,l;return r!==a&&(l=r-a,c=o>.5?l/(2-r-a):l/(r+a),s=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(t,n,i,l,r),s=60*s+.5),[0|s,c||0,o]}function We(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(we)}function Pe(e,t,n){return We(Ee,e,t,n)}function je(e){return(e%360+360)%360}const qe={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Re={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Oe;const Ne=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,He=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Be=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Fe(e,t,n){if(e){let i=De(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=Pe(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Ve(e,t){return e?Object.assign(t||{},e):e}function Ue(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=we(e[3]))):(t=Ve(e,{r:0,g:0,b:0,a:1})).a=we(t.a),t}function ze(e){return"r"===e.charAt(0)?function(e){const t=Ne.exec(e);let n,i,r,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?be(e):ye(255*e,0,255)}return n=+t[1],i=+t[3],r=+t[5],n=255&(t[2]?be(n):ye(n,0,255)),i=255&(t[4]?be(i):ye(i,0,255)),r=255&(t[6]?be(r):ye(r,0,255)),{r:n,g:i,b:r,a:a}}}(e):function(e){const t=Le.exec(e);let n,i=255;if(!t)return;t[5]!==n&&(i=t[6]?be(+t[5]):we(+t[5]));const r=je(+t[2]),a=+t[3]/100,o=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return We(Ae,e,t,n)}(r,a,o):"hsv"===t[1]?function(e,t,n){return We(Ie,e,t,n)}(r,a,o):Pe(r,a,o),{r:n[0],g:n[1],b:n[2],a:i}}(e)}class Ge{constructor(e){if(e instanceof Ge)return e;const t=typeof e;let n;var i,r,a;"object"===t?n=Ue(e):"string"===t&&(a=(i=e).length,"#"===i[0]&&(4===a||5===a?r={r:255&17*Se[i[1]],g:255&17*Se[i[2]],b:255&17*Se[i[3]],a:5===a?17*Se[i[4]]:255}:7!==a&&9!==a||(r={r:Se[i[1]]<<4|Se[i[2]],g:Se[i[3]]<<4|Se[i[4]],b:Se[i[5]]<<4|Se[i[6]],a:9===a?Se[i[7]]<<4|Se[i[8]]:255})),n=r||function(e){Oe||(Oe=function(){const e={},t=Object.keys(Re),n=Object.keys(qe);let i,r,a,o,s;for(i=0;i<t.length;i++){for(o=s=t[i],r=0;r<n.length;r++)a=n[r],s=s.replace(a,qe[a]);a=parseInt(Re[o],16),e[s]=[a>>16&255,a>>8&255,255&a]}return e}(),Oe.transparent=[0,0,0,0]);const t=Oe[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}(e)||ze(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Ve(this._rgb);return e&&(e.a=xe(e.a)),e}set rgb(e){this._rgb=Ue(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${xe(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?function(e){var t=(e=>Te(e.r)&&Te(e.g)&&Te(e.b)&&Te(e.a))(e)?Ce:_e;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=De(e),n=t[0],i=ke(t[1]),r=ke(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${r}%, ${xe(e.a)})`:`hsl(${n}, ${i}%, ${r}%)`}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,i=e.rgb;let r;const a=t===r?.5:t,o=2*a-1,s=n.a-i.a,c=((o*s==-1?o:(o+s)/(1+o*s))+1)/2;r=1-c,n.r=255&c*n.r+r*i.r+.5,n.g=255&c*n.g+r*i.g+.5,n.b=255&c*n.b+r*i.b+.5,n.a=a*n.a+(1-a)*i.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const i=Be(xe(e.r)),r=Be(xe(e.g)),a=Be(xe(e.b));return{r:we(He(i+n*(Be(xe(t.r))-i))),g:we(He(r+n*(Be(xe(t.g))-r))),b:we(He(a+n*(Be(xe(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Ge(this.rgb)}alpha(e){return this._rgb.a=we(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=ve(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Fe(this._rgb,2,e),this}darken(e){return Fe(this._rgb,2,-e),this}saturate(e){return Fe(this._rgb,1,e),this}desaturate(e){return Fe(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=De(e);n[0]=je(n[0]+t),n=Pe(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function $e(e){return new Ge(e)}function Ye(e){if(e&&"object"==typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ze(e){return Ye(e)?e:$e(e)}function Je(e){return Ye(e)?e:$e(e).saturate(.5).darken(.1).hexString()}const Qe=Object.create(null),Xe=Object.create(null);function Ke(e,t){if(!t)return e;const n=t.split(".");for(let t=0,i=n.length;t<i;++t){const i=n[t];e=e[i]||(e[i]=Object.create(null))}return e}function et(e,t,n){return"string"==typeof t?g(Ke(e,t),n):g(Ke(e,""),t)}var tt=new class{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Je(t.backgroundColor),this.hoverBorderColor=(e,t)=>Je(t.borderColor),this.hoverColor=(e,t)=>Je(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return et(this,e,t)}get(e){return Ke(this,e)}describe(e,t){return et(Xe,e,t)}override(e,t){return et(Qe,e,t)}route(e,t,n,i){const a=Ke(this,e),o=Ke(this,n),c="_"+t;Object.defineProperties(a,{[c]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[c],t=o[i];return r(e)?Object.assign({},t,e):s(e,t)},set(e){this[c]=e}}})}}({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function nt(){return"undefined"!=typeof window&&"undefined"!=typeof document}function it(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function rt(e,t,n){let i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}const at=e=>window.getComputedStyle(e,null);function ot(e,t){return at(e).getPropertyValue(t)}const st=["top","right","bottom","left"];function ct(e,t,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const a=st[r];i[a]=parseFloat(e[t+"-"+a+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function lt(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,r=at(n),a="border-box"===r.boxSizing,o=ct(r,"padding"),s=ct(r,"border","width"),{x:c,y:l,box:u}=function(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:r,offsetY:a}=i;let o,s,c=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(r,a,e.target))o=r,s=a;else{const e=t.getBoundingClientRect();o=i.clientX-e.left,s=i.clientY-e.top,c=!0}return{x:o,y:s,box:c}}(e,n),d=o.left+(u&&s.left),h=o.top+(u&&s.top);let{width:f,height:p}=t;return a&&(f-=o.width+s.width,p-=o.height+s.height),{x:Math.round((c-d)/f*n.width/i),y:Math.round((l-h)/p*n.height/i)}}const ut=e=>Math.round(10*e)/10;function dt(e,t,n,i){const r=at(e),a=ct(r,"margin"),o=rt(r.maxWidth,e,"clientWidth")||I,s=rt(r.maxHeight,e,"clientHeight")||I,c=function(e,t,n){let i,r;if(void 0===t||void 0===n){const a=it(e);if(a){const e=a.getBoundingClientRect(),o=at(a),s=ct(o,"border","width"),c=ct(o,"padding");t=e.width-c.width-s.width,n=e.height-c.height-s.height,i=rt(o.maxWidth,a,"clientWidth"),r=rt(o.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||I,maxHeight:r||I}}(e,t,n);let{width:l,height:u}=c;if("content-box"===r.boxSizing){const e=ct(r,"border","width"),t=ct(r,"padding");l-=t.width+e.width,u-=t.height+e.height}return l=Math.max(0,l-a.width),u=Math.max(0,i?Math.floor(l/i):u-a.height),l=ut(Math.min(l,o,c.maxWidth)),u=ut(Math.min(u,s,c.maxHeight)),l&&!u&&(u=ut(l/2)),{width:l,height:u}}function ht(e,t,n){const i=t||1,r=Math.floor(e.height*i),a=Math.floor(e.width*i);e.height=r/i,e.width=a/i;const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=e.height+"px",o.style.width=e.width+"px"),(e.currentDevicePixelRatio!==i||o.height!==r||o.width!==a)&&(e.currentDevicePixelRatio=i,o.height=r,o.width=a,e.ctx.setTransform(i,0,0,i,0,0),!0)}const ft=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function pt(e,t){const n=ot(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function mt(e){return!e||n(e.size)||n(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function gt(e,t,n,i,r){let a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i}function vt(e,t,n,r){let a=(r=r||{}).data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(a=r.data={},o=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let s=0;const c=n.length;let l,u,d,h,f;for(l=0;l<c;l++)if(h=n[l],null!=h&&!0!==i(h))s=gt(e,a,o,s,h);else if(i(h))for(u=0,d=h.length;u<d;u++)f=h[u],null==f||i(f)||(s=gt(e,a,o,s,f));e.restore();const p=o.length/2;if(p>n.length){for(l=0;l<p;l++)delete a[o[l]];o.splice(0,p)}return s}function yt(e,t,n){const i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function bt(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function wt(e,t,n,i){xt(e,t,n,i,null)}function xt(e,t,n,i,r){let a,o,s,c,l,u;const d=t.pointStyle,h=t.rotation,f=t.radius;let p=(h||0)*A;if(d&&"object"==typeof d&&(a=d.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,i),e.rotate(p),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),d){default:r?e.ellipse(n,i,r/2,f,0,0,L):e.arc(n,i,f,0,L),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(p)*f,i-Math.cos(p)*f),p+=P,e.lineTo(n+Math.sin(p)*f,i-Math.cos(p)*f),p+=P,e.lineTo(n+Math.sin(p)*f,i-Math.cos(p)*f),e.closePath();break;case"rectRounded":l=.516*f,c=f-l,o=Math.cos(p+W)*c,s=Math.sin(p+W)*c,e.arc(n-o,i-s,l,p-T,p-D),e.arc(n+s,i-o,l,p-D,p),e.arc(n+o,i+s,l,p,p+D),e.arc(n-s,i+o,l,p+D,p+T),e.closePath();break;case"rect":if(!h){c=Math.SQRT1_2*f,u=r?r/2:c,e.rect(n-u,i-c,2*u,2*c);break}p+=W;case"rectRot":o=Math.cos(p)*f,s=Math.sin(p)*f,e.moveTo(n-o,i-s),e.lineTo(n+s,i-o),e.lineTo(n+o,i+s),e.lineTo(n-s,i+o),e.closePath();break;case"crossRot":p+=W;case"cross":o=Math.cos(p)*f,s=Math.sin(p)*f,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o);break;case"star":o=Math.cos(p)*f,s=Math.sin(p)*f,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o),p+=W,o=Math.cos(p)*f,s=Math.sin(p)*f,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s),e.moveTo(n+s,i-o),e.lineTo(n-s,i+o);break;case"line":o=r?r/2:Math.cos(p)*f,s=Math.sin(p)*f,e.moveTo(n-o,i-s),e.lineTo(n+o,i+s);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(p)*f,i+Math.sin(p)*f)}e.fill(),t.borderWidth>0&&e.stroke()}}function kt(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function St(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Mt(e){e.restore()}function Ct(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){const i=(t.x+n.x)/2;e.lineTo(i,t.y),e.lineTo(i,n.y)}else"after"===r!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function _t(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Tt(e,t,r,a,o,s={}){const c=i(t)?t:[t],l=s.strokeWidth>0&&""!==s.strokeColor;let u,d;for(e.save(),e.font=o.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),n(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),u=0;u<c.length;++u)d=c[u],l&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),n(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(d,r,a,s.maxWidth)),e.fillText(d,r,a,s.maxWidth),Lt(e,r,a,d,s),a+=o.lineHeight;e.restore()}function Lt(e,t,n,i,r){if(r.strikethrough||r.underline){const a=e.measureText(i),o=t-a.actualBoundingBoxLeft,s=t+a.actualBoundingBoxRight,c=n-a.actualBoundingBoxAscent,l=n+a.actualBoundingBoxDescent,u=r.strikethrough?(c+l)/2:l;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(o,u),e.lineTo(s,u),e.stroke()}}function Et(e,t){const{x:n,y:i,w:r,h:a,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-D,T,!0),e.lineTo(n,i+a-o.bottomLeft),e.arc(n+o.bottomLeft,i+a-o.bottomLeft,o.bottomLeft,T,D,!0),e.lineTo(n+r-o.bottomRight,i+a),e.arc(n+r-o.bottomRight,i+a-o.bottomRight,o.bottomRight,D,0,!0),e.lineTo(n+r,i+o.topRight),e.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-D,!0),e.lineTo(n+o.topLeft,i)}function It(e,t=[""],n=e,i,r=(()=>e[0])){S(i)||(i=Bt("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:n,_fallback:i,_getTarget:r,override:r=>It([r,...e],t,n,i)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,i)=>jt(n,i,()=>function(e,t,n,i){let r;for(const a of t)if(r=Bt(Wt(a,e),n),S(r))return Pt(e,r)?Nt(n,i,e,r):r}(i,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>Ft(e).includes(t),ownKeys:e=>Ft(e),set(e,t,n){const i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function At(e,t,n,a){const o={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Dt(e,a),setContext:t=>At(e,t,n,a),override:i=>At(e.override(i),t,n,a)};return new Proxy(o,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>jt(e,t,()=>function(e,t,n){const{_proxy:a,_context:o,_subProxy:s,_descriptors:c}=e;let l=a[t];return M(l)&&c.isScriptable(t)&&(l=function(e,t,n,i){const{_proxy:r,_context:a,_subProxy:o,_stack:s}=n;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);return s.add(e),t=t(a,o||i),s.delete(e),Pt(e,t)&&(t=Nt(r._scopes,r,e,t)),t}(t,l,e,n)),i(l)&&l.length&&(l=function(e,t,n,i){const{_proxy:a,_context:o,_subProxy:s,_descriptors:c}=n;if(S(o.index)&&i(e))t=t[o.index%t.length];else if(r(t[0])){const n=t,i=a._scopes.filter(e=>e!==n);t=[];for(const r of n){const n=Nt(i,a,e,r);t.push(At(n,o,s&&s[e],c))}}return t}(t,l,e,c.isIndexable)),Pt(t,l)&&(l=At(l,o,s&&s[t],c)),l}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,i)=>(e[n]=i,delete t[n],!0)})}function Dt(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=e;return{allKeys:r,scriptable:n,indexable:i,isScriptable:M(n)?n:()=>n,isIndexable:M(i)?i:()=>i}}const Wt=(e,t)=>e?e+k(t):t,Pt=(e,t)=>r(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function jt(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function qt(e,t,n){return M(e)?e(t,n):e}const Rt=(e,t)=>!0===e?t:"string"==typeof e?w(t,e):void 0;function Ot(e,t,n,i,r){for(const a of t){const t=Rt(n,a);if(t){e.add(t);const a=qt(t._fallback,n,r);if(S(a)&&a!==n&&a!==i)return a}else if(!1===t&&S(i)&&n!==i)return null}return!1}function Nt(e,t,n,a){const o=t._rootScopes,s=qt(t._fallback,n,a),c=[...e,...o],l=new Set;l.add(a);let u=Ht(l,c,n,s||n,a);return null!==u&&(!S(s)||s===n||(u=Ht(l,c,s,u,a),null!==u))&&It(Array.from(l),[""],o,s,()=>function(e,t,n){const a=e._getTarget();t in a||(a[t]={});const o=a[t];return i(o)&&r(n)?n:o}(t,n,a))}function Ht(e,t,n,i,r){for(;n;)n=Ot(e,t,n,i,r);return n}function Bt(e,t){for(const n of t){if(!n)continue;const t=n[e];if(S(t))return t}}function Ft(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function Vt(e,t,n,i){const{iScale:r}=e,{key:a="r"}=this._parsing,o=new Array(i);let s,c,l,u;for(s=0,c=i;s<c;++s)l=s+n,u=t[l],o[s]={r:r.parse(w(u,a),l)};return o}const Ut=Number.EPSILON||1e-14,zt=(e,t)=>t<e.length&&!e[t].skip&&e[t],Gt=e=>"x"===e?"y":"x";function $t(e,t,n,i){const r=e.skip?t:e,a=t,o=n.skip?t:n,s=$(a,r),c=$(o,a);let l=s/(s+c),u=c/(s+c);l=isNaN(l)?0:l,u=isNaN(u)?0:u;const d=i*l,h=i*u;return{previous:{x:a.x-d*(o.x-r.x),y:a.y-d*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}}function Yt(e,t="x"){const n=Gt(t),i=e.length,r=Array(i).fill(0),a=Array(i);let o,s,c,l=zt(e,0);for(o=0;o<i;++o)if(s=c,c=l,l=zt(e,o+1),c){if(l){const e=l[t]-c[t];r[o]=0!==e?(l[n]-c[n])/e:0}a[o]=s?l?q(r[o-1])!==q(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}!function(e,t,n){const i=e.length;let r,a,o,s,c,l=zt(e,0);for(let u=0;u<i-1;++u)c=l,l=zt(e,u+1),c&&l&&(H(t[u],0,Ut)?n[u]=n[u+1]=0:(r=n[u]/t[u],a=n[u+1]/t[u],s=Math.pow(r,2)+Math.pow(a,2),s<=9||(o=3/Math.sqrt(s),n[u]=r*o*t[u],n[u+1]=a*o*t[u])))}(e,r,a),function(e,t,n="x"){const i=Gt(n),r=e.length;let a,o,s,c=zt(e,0);for(let l=0;l<r;++l){if(o=s,s=c,c=zt(e,l+1),!s)continue;const r=s[n],u=s[i];o&&(a=(r-o[n])/3,s["cp1"+n]=r-a,s["cp1"+i]=u-a*t[l]),c&&(a=(c[n]-r)/3,s["cp2"+n]=r+a,s["cp2"+i]=u+a*t[l])}}(e,a,t)}function Zt(e,t,n){return Math.max(Math.min(e,n),t)}function Jt(e,t,n,i,r){let a,o,s,c;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)Yt(e,r);else{let n=i?e[e.length-1]:e[0];for(a=0,o=e.length;a<o;++a)s=e[a],c=$t(n,s,e[Math.min(a+1,o-(i?0:1))%o],t.tension),s.cp1x=c.previous.x,s.cp1y=c.previous.y,s.cp2x=c.next.x,s.cp2y=c.next.y,n=s}t.capBezierPoints&&function(e,t){let n,i,r,a,o,s=kt(e[0],t);for(n=0,i=e.length;n<i;++n)o=a,a=s,s=n<i-1&&kt(e[n+1],t),a&&(r=e[n],o&&(r.cp1x=Zt(r.cp1x,t.left,t.right),r.cp1y=Zt(r.cp1y,t.top,t.bottom)),s&&(r.cp2x=Zt(r.cp2x,t.left,t.right),r.cp2y=Zt(r.cp2y,t.top,t.bottom)))}(e,n)}const Qt=e=>0===e||1===e,Xt=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*L/n),Kt=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*L/n)+1,en={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*D),easeOutSine:e=>Math.sin(e*D),easeInOutSine:e=>-.5*(Math.cos(T*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Qt(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Qt(e)?e:Xt(e,.075,.3),easeOutElastic:e=>Qt(e)?e:Kt(e,.075,.3),easeInOutElastic(e){const t=.1125;return Qt(e)?e:e<.5?.5*Xt(2*e,t,.45):.5+.5*Kt(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-en.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*en.easeInBounce(2*e):.5*en.easeOutBounce(2*e-1)+.5};function tn(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function nn(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function rn(e,t,n,i){const r={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},o=tn(e,r,n),s=tn(r,a,n),c=tn(a,t,n),l=tn(o,s,n),u=tn(s,c,n);return tn(l,u,n)}const an=new Map;function on(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let i=an.get(n);return i||(i=new Intl.NumberFormat(e,t),an.set(n,i)),i}(t,n).format(e)}const sn=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),cn=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function ln(e,t){const n=(""+e).match(sn);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}function un(e,t){const n={},i=r(t),a=i?Object.keys(t):t,o=r(e)?i?n=>s(e[n],e[t[n]]):t=>e[t]:()=>e;for(const e of a)n[e]=+o(e)||0;return n}function dn(e){return un(e,{top:"y",right:"x",bottom:"y",left:"x"})}function hn(e){return un(e,["topLeft","topRight","bottomLeft","bottomRight"])}function fn(e){const t=dn(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function pn(e,t){e=e||{},t=t||tt.font;let n=s(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));let i=s(e.style,t.style);i&&!(""+i).match(cn)&&(console.warn('Invalid font style specified: "'+i+'"'),i="");const r={family:s(e.family,t.family),lineHeight:ln(s(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:s(e.weight,t.weight),string:""};return r.string=mt(r),r}function mn(e,t,n,r){let a,o,s,c=!0;for(a=0,o=e.length;a<o;++a)if(s=e[a],void 0!==s&&(void 0!==t&&"function"==typeof s&&(s=s(t),c=!1),void 0!==n&&i(s)&&(s=s[n%s.length],c=!1),void 0!==s))return r&&!c&&(r.cacheable=!1),s}function gn(e,t,n){const{min:i,max:r}=e,a=l(t,(r-i)/2),o=(e,t)=>n&&0===e?0:e+t;return{min:o(i,-Math.abs(a)),max:o(r,a)}}function vn(e,t){return Object.assign(Object.create(e),t)}function yn(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function bn(e,t){let n,i;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function wn(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function xn(e){return"angle"===e?{between:J,compare:Y,normalize:Z}:{between:K,compare:(e,t)=>e-t,normalize:e=>e}}function kn({start:e,end:t,count:n,loop:i,style:r}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n==0,style:r}}function Sn(e,t,n){if(!n)return[e];const{property:i,start:r,end:a}=n,o=t.length,{compare:s,between:c,normalize:l}=xn(i),{start:u,end:d,loop:h,style:f}=function(e,t,n){const{property:i,start:r,end:a}=n,{between:o,normalize:s}=xn(i),c=t.length;let l,u,{start:d,end:h,loop:f}=e;if(f){for(d+=c,h+=c,l=0,u=c;l<u&&o(s(t[d%c][i]),r,a);++l)d--,h--;d%=c,h%=c}return h<d&&(h+=c),{start:d,end:h,loop:f,style:e.style}}(e,t,n),p=[];let m,g,v,y=!1,b=null;for(let e=u,n=u;e<=d;++e)g=t[e%o],g.skip||(m=l(g[i]),m!==v&&(y=c(m,r,a),null===b&&(y||c(r,v,m)&&0!==s(r,v))&&(b=0===s(m,r)?e:n),null!==b&&(!y||0===s(a,m)||c(a,v,m))&&(p.push(kn({start:b,end:e,loop:h,count:o,style:f})),b=null),n=e,v=m));return null!==b&&p.push(kn({start:b,end:d,loop:h,count:o,style:f})),p}function Mn(e,t){const n=[],i=e.segments;for(let r=0;r<i.length;r++){const a=Sn(i[r],e.points,t);a.length&&n.push(...a)}return n}function Cn(e,t){const n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];const a=!!e._loop,{start:o,end:s}=function(e,t,n,i){let r=0,a=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(a+=r);a>r&&e[a%t].skip;)a--;return a%=t,{start:r,end:a}}(n,r,a,i);return _n(e,!0===i?[{start:o,end:s,loop:a}]:function(e,t,n,i){const r=e.length,a=[];let o,s=t,c=e[t];for(o=t+1;o<=n;++o){const n=e[o%r];n.skip||n.stop?c.skip||(i=!1,a.push({start:t%r,end:(o-1)%r,loop:i}),t=s=n.stop?o:null):(s=o,c.skip&&(t=o)),c=n}return null!==s&&a.push({start:t%r,end:s%r,loop:i}),a}(n,o,s<o?s+r:s,!!e._fullLoop&&0===o&&s===r-1),n,t)}function _n(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){const r=e._chart.getContext(),a=Tn(e.options),{_datasetIndex:o,options:{spanGaps:s}}=e,c=n.length,l=[];let u=a,d=t[0].start,h=d;function f(e,t,i,r){const a=s?-1:1;if(e!==t){for(e+=c;n[e%c].skip;)e-=a;for(;n[t%c].skip;)t+=a;e%c!=t%c&&(l.push({start:e%c,end:t%c,loop:i,style:r}),u=r,d=t%c)}}for(const e of t){d=s?d:e.start;let t,a=n[d%c];for(h=d+1;h<=e.end;h++){const s=n[h%c];t=Tn(i.setContext(vn(r,{type:"segment",p0:a,p1:s,p0DataIndex:(h-1)%c,p1DataIndex:h%c,datasetIndex:o}))),Ln(t,u)&&f(d,h-1,e.loop,u),a=s,u=t}d<h-1&&f(d,h-1,e.loop,u)}return l}(e,t,n,i):t}function Tn(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ln(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var En=Object.freeze({__proto__:null,easingEffects:en,isPatternOrGradient:Ye,color:Ze,getHoverColor:Je,noop:e,uid:t,isNullOrUndef:n,isArray:i,isObject:r,isFinite:a,finiteOrDefault:o,valueOrDefault:s,toPercentage:c,toDimension:l,callback:u,each:d,_elementsEqual:h,clone:f,_merger:m,merge:g,mergeIf:v,_mergerIf:y,_deprecated:function(e,t,n,i){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+i+'" instead')},resolveObjectKey:w,_splitKey:x,_capitalize:k,defined:S,isFunction:M,setsEqual:C,_isClickEvent:_,toFontString:mt,_measureText:gt,_longestText:vt,_alignPixel:yt,clearCanvas:bt,drawPoint:wt,drawPointLegend:xt,_isPointInArea:kt,clipArea:St,unclipArea:Mt,_steppedLineTo:Ct,_bezierCurveTo:_t,renderText:Tt,addRoundedRectPath:Et,_lookup:ee,_lookupByKey:te,_rlookupByKey:ne,_filterBetween:ie,listenArrayEvents:ae,unlistenArrayEvents:oe,_arrayUnique:se,_createResolver:It,_attachContext:At,_descriptors:Dt,_parseObjectDataRadialScale:Vt,splineCurve:$t,splineCurveMonotone:Yt,_updateBezierControlPoints:Jt,_isDomSupported:nt,_getParentNode:it,getStyle:ot,getRelativePosition:lt,getMaximumSize:dt,retinaScale:ht,supportsEventListenerOptions:ft,readUsedSize:pt,fontString:function(e,t,n){return t+" "+e+"px "+n},requestAnimFrame:ce,throttled:le,debounce:ue,_toLeftRightCenter:de,_alignStartEnd:he,_textX:fe,_getStartAndCountOfVisiblePoints:pe,_scaleRangesChanged:me,_pointInLine:tn,_steppedInterpolation:nn,_bezierInterpolation:rn,formatNumber:on,toLineHeight:ln,_readValueToProps:un,toTRBL:dn,toTRBLCorners:hn,toPadding:fn,toFont:pn,resolve:mn,_addGrace:gn,createContext:vn,PI:T,TAU:L,PITAU:E,INFINITY:I,RAD_PER_DEG:A,HALF_PI:D,QUARTER_PI:W,TWO_THIRDS_PI:P,log10:j,sign:q,niceNum:R,_factorize:O,isNumber:N,almostEquals:H,almostWhole:B,_setMinAndMaxByKey:F,toRadians:V,toDegrees:U,_decimalPlaces:z,getAngleFromPoint:G,distanceBetweenPoints:$,_angleDiff:Y,_normalizeAngle:Z,_angleBetween:J,_limitValue:Q,_int16Range:X,_isBetween:K,getRtlAdapter:yn,overrideTextDirection:bn,restoreTextDirection:wn,_boundSegment:Sn,_boundSegments:Mn,_computeSegments:Cn});function In(e,t,n,i){const{controller:r,data:a,_sorted:o}=e,s=r._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&o&&a.length){const e=s._reversePixels?ne:te;if(!i)return e(a,t,n);if(r._sharedOptions){const i=a[0],r="function"==typeof i.getRange&&i.getRange(t);if(r){const i=e(a,t,n-r),o=e(a,t,n+r);return{lo:i.lo,hi:o.hi}}}}return{lo:0,hi:a.length-1}}function An(e,t,n,i,r){const a=e.getSortedVisibleDatasetMetas(),o=n[t];for(let e=0,n=a.length;e<n;++e){const{index:n,data:s}=a[e],{lo:c,hi:l}=In(a[e],t,o,r);for(let e=c;e<=l;++e){const t=s[e];t.skip||i(t,n,e)}}}function Dn(e,t,n,i,r){const a=[];return r||e.isPointInArea(t)?(An(e,n,t,(function(n,o,s){(r||kt(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&a.push({element:n,datasetIndex:o,index:s})}),!0),a):a}function Wn(e,t,n,i,r,a){return a||e.isPointInArea(t)?"r"!==n||i?function(e,t,n,i,r,a){let o=[];const s=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){const r=t?Math.abs(e.x-i.x):0,a=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}(n);let c=Number.POSITIVE_INFINITY;return An(e,n,t,(function(n,l,u){const d=n.inRange(t.x,t.y,r);if(i&&!d)return;const h=n.getCenterPoint(r);if(!a&&!e.isPointInArea(h)&&!d)return;const f=s(t,h);f<c?(o=[{element:n,datasetIndex:l,index:u}],c=f):f===c&&o.push({element:n,datasetIndex:l,index:u})})),o}(e,t,n,i,r,a):function(e,t,n,i){let r=[];return An(e,n,t,(function(e,n,a){const{startAngle:o,endAngle:s}=e.getProps(["startAngle","endAngle"],i),{angle:c}=G(e,{x:t.x,y:t.y});J(c,o,s)&&r.push({element:e,datasetIndex:n,index:a})})),r}(e,t,n,r):[]}function Pn(e,t,n,i,r){const a=[],o="x"===n?"inXRange":"inYRange";let s=!1;return An(e,n,t,(e,i,c)=>{e[o](t[n],r)&&(a.push({element:e,datasetIndex:i,index:c}),s=s||e.inRange(t.x,t.y,r))}),i&&!s?[]:a}var jn={evaluateInteractionItems:An,modes:{index(e,t,n,i){const r=lt(t,e),a=n.axis||"x",o=n.includeInvisible||!1,s=n.intersect?Dn(e,r,a,i,o):Wn(e,r,a,!1,i,o),c=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=s[0].index,n=e.data[t];n&&!n.skip&&c.push({element:n,datasetIndex:e.index,index:t})}),c):[]},dataset(e,t,n,i){const r=lt(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;let s=n.intersect?Dn(e,r,a,i,o):Wn(e,r,a,!1,i,o);if(s.length>0){const t=s[0].datasetIndex,n=e.getDatasetMeta(t).data;s=[];for(let e=0;e<n.length;++e)s.push({element:n[e],datasetIndex:t,index:e})}return s},point:(e,t,n,i)=>Dn(e,lt(t,e),n.axis||"xy",i,n.includeInvisible||!1),nearest(e,t,n,i){const r=lt(t,e),a=n.axis||"xy",o=n.includeInvisible||!1;return Wn(e,r,a,n.intersect,i,o)},x:(e,t,n,i)=>Pn(e,lt(t,e),"x",n.intersect,i),y:(e,t,n,i)=>Pn(e,lt(t,e),"y",n.intersect,i)}};const qn=["left","top","right","bottom"];function Rn(e,t){return e.filter(e=>e.pos===t)}function On(e,t){return e.filter(e=>-1===qn.indexOf(e.pos)&&e.box.axis===t)}function Nn(e,t){return e.sort((e,n)=>{const i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function Hn(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Bn(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Fn(e,t,n,i){const{pos:a,box:o}=n,s=e.maxPadding;if(!r(a)){n.size&&(e[a]-=n.size);const t=i[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?o.height:o.width),n.size=t.size/t.count,e[a]+=n.size}o.getPadding&&Bn(s,o.getPadding());const c=Math.max(0,t.outerWidth-Hn(s,e,"left","right")),l=Math.max(0,t.outerHeight-Hn(s,e,"top","bottom")),u=c!==e.w,d=l!==e.h;return e.w=c,e.h=l,n.horizontal?{same:u,other:d}:{same:d,other:u}}function Vn(e,t){const n=t.maxPadding;return function(e){const i={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{i[e]=Math.max(t[e],n[e])}),i}(e?["left","right"]:["top","bottom"])}function Un(e,t,n,i){const r=[];let a,o,s,c,l,u;for(a=0,o=e.length,l=0;a<o;++a){s=e[a],c=s.box,c.update(s.width||t.w,s.height||t.h,Vn(s.horizontal,t));const{same:o,other:d}=Fn(t,n,s,i);l|=o&&r.length,u=u||d,c.fullSize||r.push(s)}return l&&Un(r,t,n,i)||u}function zn(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function Gn(e,t,n,i){const r=n.padding;let{x:a,y:o}=t;for(const s of e){const e=s.box,c=i[s.stack]||{count:1,placed:0,weight:1},l=s.stackWeight/c.weight||1;if(s.horizontal){const i=t.w*l,a=c.size||e.height;S(c.start)&&(o=c.start),e.fullSize?zn(e,r.left,o,n.outerWidth-r.right-r.left,a):zn(e,t.left+c.placed,o,i,a),c.start=o,c.placed+=i,o=e.bottom}else{const i=t.h*l,o=c.size||e.width;S(c.start)&&(a=c.start),e.fullSize?zn(e,a,r.top,o,n.outerHeight-r.bottom-r.top):zn(e,a,t.top+c.placed,o,i),c.start=a,c.placed+=i,a=e.right}}t.x=a,t.y=o}tt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var $n={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const r=fn(e.options.layout.padding),a=Math.max(t-r.width,0),o=Math.max(n-r.height,0),s=function(e){const t=function(e){const t=[];let n,i,r,a,o,s;for(n=0,i=(e||[]).length;n<i;++n)r=e[n],({position:a,options:{stack:o,stackWeight:s=1}}=r),t.push({index:n,box:r,pos:a,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&a+o,stackWeight:s});return t}(e),n=Nn(t.filter(e=>e.box.fullSize),!0),i=Nn(Rn(t,"left"),!0),r=Nn(Rn(t,"right")),a=Nn(Rn(t,"top"),!0),o=Nn(Rn(t,"bottom")),s=On(t,"x"),c=On(t,"y");return{fullSize:n,leftAndTop:i.concat(a),rightAndBottom:r.concat(c).concat(o).concat(s),chartArea:Rn(t,"chartArea"),vertical:i.concat(r).concat(c),horizontal:a.concat(o).concat(s)}}(e.boxes),c=s.vertical,l=s.horizontal;d(e.boxes,e=>{"function"==typeof e.beforeLayout&&e.beforeLayout()});const u=c.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:a,availableHeight:o,vBoxMaxWidth:a/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},r);Bn(f,fn(i));const p=Object.assign({maxPadding:f,w:a,h:o,x:r.left,y:r.top},r),m=function(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:i,stackWeight:r}=n;if(!e||!qn.includes(i))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=r}return t}(e),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let a,o,s;for(a=0,o=e.length;a<o;++a){s=e[a];const{fullSize:o}=s.box,c=n[s.stack],l=c&&s.stackWeight/c.weight;s.horizontal?(s.width=l?l*i:o&&t.availableWidth,s.height=r):(s.width=i,s.height=l?l*r:o&&t.availableHeight)}return n}(c.concat(l),h);Un(s.fullSize,p,h,m),Un(c,p,h,m),Un(l,p,h,m)&&Un(c,p,h,m),function(e){const t=e.maxPadding;function n(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(p),Gn(s.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,Gn(s.rightAndBottom,p,h,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},d(s.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Yn{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}isAttached(e){return!0}updateConfig(e){}}class Zn extends Yn{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Jn={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Qn=e=>null===e||""===e,Xn=!!ft&&{passive:!0};function Kn(e,t,n){e.canvas.removeEventListener(t,n,Xn)}function ei(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function ti(e,t,n){const i=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||ei(n.addedNodes,i),t=t&&!ei(n.removedNodes,i);t&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function ni(e,t,n){const i=e.canvas,r=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||ei(n.removedNodes,i),t=t&&!ei(n.addedNodes,i);t&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const ii=new Map;let ri=0;function ai(){const e=window.devicePixelRatio;e!==ri&&(ri=e,ii.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function oi(e,t,n){const i=e.canvas,r=i&&it(i);if(!r)return;const a=le((e,t)=>{const i=r.clientWidth;n(e,t),i<r.clientWidth&&n()},window),o=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||a(n,i)});return o.observe(r),function(e,t){ii.size||window.addEventListener("resize",ai),ii.set(e,t)}(e,a),o}function si(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){ii.delete(e),ii.size||window.removeEventListener("resize",ai)}(e)}function ci(e,t,n){const i=e.canvas,r=le(t=>{null!==e.ctx&&n(function(e,t){const n=Jn[e.type]||e.type,{x:i,y:r}=lt(e,t);return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==r?r:null}}(t,e))},e,e=>{const t=e[0];return[t,t.offsetX,t.offsetY]});return function(e,t,n){e.addEventListener(t,n,Xn)}(i,t,r),r}class li extends Yn{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e.$chartjs={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Qn(r)){const t=pt(e,"width");void 0!==t&&(e.width=t)}if(Qn(i))if(""===e.style.height)e.height=e.width/(t||2);else{const t=pt(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t.$chartjs)return!1;const i=t.$chartjs.initial;["height","width"].forEach(e=>{const r=i[e];n(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=i.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t.$chartjs,!0}addEventListener(e,t,n){this.removeEventListener(e,t);const i=e.$proxies||(e.$proxies={}),r={attach:ti,detach:ni,resize:oi}[t]||ci;i[t]=r(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),i=n[t];i&&(({attach:si,detach:si,resize:si}[t]||Kn)(e,t,i),n[t]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,i){return dt(e,t,n,i)}isAttached(e){const t=it(e);return!(!t||!t.isConnected)}}function ui(e){return!nt()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Zn:li}var di=Object.freeze({__proto__:null,_detectPlatform:ui,BasePlatform:Yn,BasicPlatform:Zn,DomPlatform:li});const hi="transparent",fi={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const i=Ze(e||hi),r=i.valid&&Ze(t||hi);return r&&r.valid?r.mix(i,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class pi{constructor(e,t,n,i){const r=t[n];i=mn([e.to,i,r,e.from]);const a=mn([e.from,r,i]);this._active=!0,this._fn=e.fn||fi[e.type||typeof a],this._easing=en[e.easing]||en.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=i,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const i=this._target[this._prop],r=n-this._start,a=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=mn([e.to,t,i,e.from]),this._from=mn([e.from,i,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,i=this._prop,r=this._from,a=this._loop,o=this._to;let s;if(this._active=r!==o&&(a||t<n),!this._active)return this._target[i]=o,void this._notify(!0);t<0?this._target[i]=r:(s=t/n%2,s=a&&s>1?2-s:s,s=this._easing(Math.min(1,Math.max(0,s))),this._target[i]=this._fn(r,o,s))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let e=0;e<n.length;e++)n[e][t]()}}tt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const mi=Object.keys(tt.animation);tt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),tt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),tt.describe("animations",{_fallback:"animation"}),tt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}});class gi{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!r(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const a=e[n];if(!r(a))return;const o={};for(const e of mi)o[e]=a[e];(i(a.properties)&&a.properties||[n]).forEach(e=>{e!==n&&t.has(e)||t.set(e,o)})})}_animateOptions(e,t){const n=t.options,i=function(e,t){if(!t)return;let n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}(e,n);if(!i)return[];const r=this._createAnimations(i,n);return n.$shared&&function(e,t){const n=[],i=Object.keys(t);for(let t=0;t<i.length;t++){const r=e[i[t]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),r}_createAnimations(e,t){const n=this._properties,i=[],r=e.$animations||(e.$animations={}),a=Object.keys(t),o=Date.now();let s;for(s=a.length-1;s>=0;--s){const c=a[s];if("$"===c.charAt(0))continue;if("options"===c){i.push(...this._animateOptions(e,t));continue}const l=t[c];let u=r[c];const d=n.get(c);if(u){if(d&&u.active()){u.update(d,l,o);continue}u.cancel()}d&&d.duration?(r[c]=u=new pi(d,e,c,l),i.push(u)):e[c]=l}return i}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(ge.add(this._chart,n),!0):void 0}}function vi(e,t){const n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:i?a:r,end:i?r:a}}function yi(e,t){const n=[],i=e._getSortedDatasetMetas(t);let r,a;for(r=0,a=i.length;r<a;++r)n.push(i[r].index);return n}function bi(e,t,n,i={}){const r=e.keys,o="single"===i.mode;let s,c,l,u;if(null!==t){for(s=0,c=r.length;s<c;++s){if(l=+r[s],l===n){if(i.all)continue;break}u=e.values[l],a(u)&&(o||0===t||q(t)===q(u))&&(t+=u)}return t}}function wi(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function xi(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function ki(e,t,n,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const t=e[r.index];if(n&&t>0||!n&&t<0)return r.index}return null}function Si(e,t){const{chart:n,_cachedMeta:i}=e,r=n._stacks||(n._stacks={}),{iScale:a,vScale:o,index:s}=i,c=a.axis,l=o.axis,u=function(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}(a,o,i),d=t.length;let h;for(let e=0;e<d;++e){const n=t[e],{[c]:a,[l]:d}=n;h=(n._stacks||(n._stacks={}))[l]=xi(r,u,a),h[s]=d,h._top=ki(h,o,!0,i.type),h._bottom=ki(h,o,!1,i.type)}}function Mi(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function Ci(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[i]||void 0===t[i][n])return;delete t[i][n]}}}const _i=e=>"reset"===e||"none"===e,Ti=(e,t)=>t?e:Object.assign({},e);class Li{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=wi(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Ci(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=(e,t,n,i)=>"x"===e?t:"r"===e?i:n,r=t.xAxisID=s(n.xAxisID,Mi(e,"x")),a=t.yAxisID=s(n.yAxisID,Mi(e,"y")),o=t.rAxisID=s(n.rAxisID,Mi(e,"r")),c=t.indexAxis,l=t.iAxisID=i(c,r,a,o),u=t.vAxisID=i(c,a,r,o);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&oe(this._data,this),e._stacked&&Ci(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(r(t))this._data=function(e){const t=Object.keys(e),n=new Array(t.length);let i,r,a;for(i=0,r=t.length;i<r;++i)a=t[i],n[i]={x:a,y:e[a]};return n}(t);else if(n!==t){if(n){oe(n,this);const e=this._cachedMeta;Ci(e),e._parsed=[]}t&&Object.isExtensible(t)&&ae(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const r=t._stacked;t._stacked=wi(t.vScale,t),t.stack!==n.stack&&(i=!0,Ci(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&Si(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:a}=this,{iScale:o,_stacked:s}=n,c=o.axis;let l,u,d,h=0===e&&t===a.length||n._sorted,f=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=a,n._sorted=!0,d=a;else{d=i(a[e])?this.parseArrayData(n,a,e,t):r(a[e])?this.parseObjectData(n,a,e,t):this.parsePrimitiveData(n,a,e,t);const o=()=>null===u[c]||f&&u[c]<f[c];for(l=0;l<t;++l)n._parsed[l+e]=u=d[l],h&&(o()&&(h=!1),f=u);n._sorted=h}s&&Si(this,d)}parsePrimitiveData(e,t,n,i){const{iScale:r,vScale:a}=e,o=r.axis,s=a.axis,c=r.getLabels(),l=r===a,u=new Array(i);let d,h,f;for(d=0,h=i;d<h;++d)f=d+n,u[d]={[o]:l||r.parse(c[f],f),[s]:a.parse(t[f],f)};return u}parseArrayData(e,t,n,i){const{xScale:r,yScale:a}=e,o=new Array(i);let s,c,l,u;for(s=0,c=i;s<c;++s)l=s+n,u=t[l],o[s]={x:r.parse(u[0],l),y:a.parse(u[1],l)};return o}parseObjectData(e,t,n,i){const{xScale:r,yScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,c=new Array(i);let l,u,d,h;for(l=0,u=i;l<u;++l)d=l+n,h=t[d],c[l]={x:r.parse(w(h,o),d),y:a.parse(w(h,s),d)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const i=this.chart,r=this._cachedMeta,a=t[e.axis];return bi({keys:yi(i,!0),values:t._stacks[e.axis]},a,r.index,{mode:n})}updateRangeFromParsed(e,t,n,i){const r=n[t.axis];let a=null===r?NaN:r;const o=i&&n._stacks[t.axis];i&&o&&(i.values=o,a=bi(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,i=n._parsed,r=n._sorted&&e===n.iScale,o=i.length,s=this._getOtherScale(e),c=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:yi(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=function(e){const{min:t,max:n,minDefined:i,maxDefined:r}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}(s);let h,f;function p(){f=i[h];const t=f[s.axis];return!a(f[e.axis])||u>t||d<t}for(h=0;h<o&&(p()||(this.updateRangeFromParsed(l,e,f,c),!r));++h);if(r)for(h=o-1;h>=0;--h)if(!p()){this.updateRangeFromParsed(l,e,f,c);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let i,r,o;for(i=0,r=t.length;i<r;++i)o=t[i][e.axis],a(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,i,a;return r(e)?(t=e.top,n=e.right,i=e.bottom,a=e.left):t=n=i=a=e,{top:t,right:n,bottom:i,left:a,disabled:!1===e}}(s(this.options.clip,function(e,t,n){if(!1===n)return!1;const i=vi(e,n),r=vi(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,i=n.data||[],r=t.chartArea,a=[],o=this._drawStart||0,s=this._drawCount||i.length-o,c=this.options.drawActiveElementsOnTop;let l;for(n.dataset&&n.dataset.draw(e,r,o,s),l=o;l<o+s;++l){const t=i[l];t.hidden||(t.active&&c?a.push(t):t.draw(e,r))}for(l=0;l<a.length;++l)a[l].draw(e,r)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const i=this.getDataset();let r;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];r=t.$context||(t.$context=function(e,t,n){return vn(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),r.parsed=this.getParsed(e),r.raw=i.data[e],r.index=r.dataIndex=e}else r=this.$context||(this.$context=function(e,t){return vn(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!t,r.mode=n,r}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const i="active"===t,r=this._cachedDataOpts,a=e+"-"+t,o=r[a],s=this.enableOptionSharing&&S(n);if(o)return Ti(o,s);const c=this.chart.config,l=c.datasetElementScopeKeys(this._type,e),u=i?[e+"Hover","hover",e,""]:[e,""],d=c.getOptionScopes(this.getDataset(),l),h=Object.keys(tt.elements[e]),f=c.resolveNamedOptions(d,h,()=>this.getContext(n,i),u);return f.$shared&&(f.$shared=s,r[a]=Object.freeze(Ti(f,s))),f}_resolveAnimations(e,t,n){const i=this.chart,r=this._cachedDataOpts,a="animation-"+t,o=r[a];if(o)return o;let s;if(!1!==i.options.animation){const i=this.chart.config,r=i.datasetAnimationScopeKeys(this._type,t),a=i.getOptionScopes(this.getDataset(),r);s=i.createResolver(a,this.getContext(e,n,t))}const c=new gi(i,s&&s.animations);return s&&s._cacheable&&(r[a]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||_i(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),a=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:a}}updateElement(e,t,n,i){_i(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}updateSharedOptions(e,t,n){e&&!_i(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,i){e.active=i;const r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[e,t,n]of this._syncList)this[e](t,n);this._syncList=[];const i=n.length,r=t.length,a=Math.min(r,i);a&&this.parse(0,a),r>i?this._insertElements(i,r-i,e):r<i&&this._removeElements(r,i-r)}_insertElements(e,t,n=!0){const i=this._cachedMeta,r=i.data,a=e+t;let o;const s=e=>{for(e.length+=t,o=e.length-1;o>=a;o--)e[o]=e[o-t]};for(s(r),o=e;o<a;++o)r[o]=new this.dataElementType;this._parsing&&s(i._parsed),this.parse(e,t),n&&this.updateElements(r,e,t,"reset")}updateElements(e,t,n,i){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,t);n._stacked&&Ci(n,i)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,i]=e;this[t](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Li.defaults={},Li.prototype.datasetElementType=null,Li.prototype.dataElementType=null;class Ei{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return N(this.x)&&N(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const i={};return e.forEach(e=>{i[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),i}}Ei.defaults={},Ei.defaultRoutes=void 0;const Ii={values:e=>i(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const i=this.chart.options.locale;let r,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(r="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}(e,n)}const o=j(Math.abs(a)),s=Math.max(Math.min(-1*Math.floor(o),20),0),c={notation:r,minimumFractionDigits:s,maximumFractionDigits:s};return Object.assign(c,this.options.ticks.format),on(e,i,c)},logarithmic(e,t,n){if(0===e)return"0";const i=e/Math.pow(10,Math.floor(j(e)));return 1===i||2===i||5===i?Ii.numeric.call(this,e,t,n):""}};var Ai={formatters:Ii};function Di(e,t){const i=e.options.ticks,r=i.maxTicksLimit||function(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),a=i.major.enabled?function(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}(t):[],o=a.length,s=a[0],c=a[o-1],l=[];if(o>r)return function(e,t,n,i){let r,a=0,o=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===o&&(t.push(e[r]),a++,o=n[a*i])}(t,l,a,o/r),l;const u=function(e,t,n){const i=function(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}(e),r=t.length/n;if(!i)return Math.max(r,1);const a=O(i);for(let e=0,t=a.length-1;e<t;e++){const t=a[e];if(t>r)return t}return Math.max(r,1)}(a,t,r);if(o>0){let e,i;const r=o>1?Math.round((c-s)/(o-1)):null;for(Wi(t,l,u,n(r)?0:s-r,s),e=0,i=o-1;e<i;e++)Wi(t,l,u,a[e],a[e+1]);return Wi(t,l,u,c,n(r)?t.length:c+r),l}return Wi(t,l,u),l}function Wi(e,t,n,i,r){const a=s(i,0),o=Math.min(s(r,e.length),e.length);let c,l,u,d=0;for(n=Math.ceil(n),r&&(c=r-i,n=c/Math.floor(c/n)),u=a;u<0;)d++,u=Math.round(a+d*n);for(l=Math.max(a,0);l<o;l++)l===u&&(t.push(e[l]),d++,u=Math.round(a+d*n))}tt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ai.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),tt.route("scale.ticks","color","","color"),tt.route("scale.grid","color","","borderColor"),tt.route("scale.grid","borderColor","","borderColor"),tt.route("scale.title","color","","color"),tt.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e}),tt.describe("scales",{_fallback:"scale"}),tt.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e});const Pi=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n;function ji(e,t){const n=[],i=e.length/t,r=e.length;let a=0;for(;a<r;a+=i)n.push(e[Math.floor(a)]);return n}function qi(e,t,n){const i=e.ticks.length,r=Math.min(t,i-1),a=e._startPixel,o=e._endPixel,s=1e-6;let c,l=e.getPixelForTick(r);if(!(n&&(c=1===i?Math.max(l-a,o-l):0===t?(e.getPixelForTick(1)-l)/2:(l-e.getPixelForTick(r-1))/2,l+=r<t?c:-c,l<a-s||l>o+s)))return l}function Ri(e){return e.drawTicks?e.tickLength:0}function Oi(e,t){if(!e.display)return 0;const n=pn(e.font,t),r=fn(e.padding);return(i(e.text)?e.text.length:1)*n.lineHeight+r.height}function Ni(e,t,n){let i=de(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=(e=>"left"===e?"right":"right"===e?"left":e)(i)),i}class Hi extends Ei{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:i}=this;return e=o(e,Number.POSITIVE_INFINITY),t=o(t,Number.NEGATIVE_INFINITY),n=o(n,Number.POSITIVE_INFINITY),i=o(i,Number.NEGATIVE_INFINITY),{min:o(e,n),max:o(t,i),minDefined:a(e),maxDefined:a(t)}}getMinMax(e){let t,{min:n,max:i,minDefined:r,maxDefined:a}=this.getUserBounds();if(r&&a)return{min:n,max:i};const s=this.getMatchingVisibleMetas();for(let o=0,c=s.length;o<c;++o)t=s[o].controller.getMinMax(this,e),r||(n=Math.min(n,t.min)),a||(i=Math.max(i,t.max));return n=a&&n>i?i:n,i=r&&n>i?n:i,{min:o(n,o(i,n)),max:o(i,o(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){u(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:i,grace:r,ticks:a}=this.options,o=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gn(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const s=o<this.ticks.length;this._convertTicksToLabels(s?ji(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=Di(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){u(this.options.afterUpdate,[this])}beforeSetDimensions(){u(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){u(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),u(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){u(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,i,r;for(n=0,i=e.length;n<i;n++)r=e[n],r.label=u(t.callback,[r.value,n,e],this)}afterTickToLabelConversion(){u(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){u(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,i=t.minRotation||0,r=t.maxRotation;let a,o,s,c=i;if(!this._isVisible()||!t.display||i>=r||n<=1||!this.isHorizontal())return void(this.labelRotation=i);const l=this._getLabelSizes(),u=l.widest.width,d=l.highest.height,h=Q(this.chart.width-u,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),u+6>a&&(a=h/(n-(e.offset?.5:1)),o=this.maxHeight-Ri(e.grid)-t.padding-Oi(e.title,this.chart.options.font),s=Math.sqrt(u*u+d*d),c=U(Math.min(Math.asin(Q((l.highest.height+6)/a,-1,1)),Math.asin(Q(o/s,-1,1))-Math.asin(Q(d/s,-1,1)))),c=Math.max(i,Math.min(r,c))),this.labelRotation=c}afterCalculateLabelRotation(){u(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){u(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:i,grid:r}}=this,a=this._isVisible(),o=this.isHorizontal();if(a){const a=Oi(i,t.options.font);if(o?(e.width=this.maxWidth,e.height=Ri(r)+a):(e.height=this.maxHeight,e.width=Ri(r)+a),n.display&&this.ticks.length){const{first:t,last:i,widest:r,highest:a}=this._getLabelSizes(),s=2*n.padding,c=V(this.labelRotation),l=Math.cos(c),u=Math.sin(c);if(o){const t=n.mirror?0:u*r.width+l*a.height;e.height=Math.min(this.maxHeight,e.height+t+s)}else{const t=n.mirror?0:l*r.width+u*a.height;e.width=Math.min(this.maxWidth,e.width+t+s)}this._calculatePadding(t,i,u,l)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,i){const{ticks:{align:r,padding:a},position:o}=this.options,s=0!==this.labelRotation,c="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,l=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,d=0;s?c?(u=i*e.width,d=n*t.height):(u=n*e.height,d=i*t.width):"start"===r?d=t.width:"end"===r?u=e.width:"inner"!==r&&(u=e.width/2,d=t.width/2),this.paddingLeft=Math.max((u-o+a)*this.width/(this.width-o),0),this.paddingRight=Math.max((d-l+a)*this.width/(this.width-l),0)}else{let n=t.height/2,i=e.height/2;"start"===r?(n=0,i=e.height):"end"===r&&(n=t.height,i=0),this.paddingTop=n+a,this.paddingBottom=i+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){u(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,i=e.length;t<i;t++)n(e[t].label)&&(e.splice(t,1),i--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=ji(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:r,_longestTextCache:a}=this,o=[],s=[];let c,l,u,h,f,p,m,g,v,y,b,w=0,x=0;for(c=0;c<t;++c){if(h=e[c].label,f=this._resolveTickFontOptions(c),r.font=p=f.string,m=a[p]=a[p]||{data:{},gc:[]},g=f.lineHeight,v=y=0,n(h)||i(h)){if(i(h))for(l=0,u=h.length;l<u;++l)b=h[l],n(b)||i(b)||(v=gt(r,m.data,m.gc,v,b),y+=g)}else v=gt(r,m.data,m.gc,v,h),y=g;o.push(v),s.push(y),w=Math.max(v,w),x=Math.max(y,x)}!function(e,t){d(e,e=>{const n=e.gc,i=n.length/2;let r;if(i>t){for(r=0;r<i;++r)delete e.data[n[r]];n.splice(0,i)}})}(a,t);const k=o.indexOf(w),S=s.indexOf(x),M=e=>({width:o[e]||0,height:s[e]||0});return{first:M(0),last:M(t-1),widest:M(k),highest:M(S),widths:o,heights:s}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return X(this._alignToPixels?yt(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return vn(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=vn(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=V(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?s*n>o*i?o/n:s/i:s*i<o*n?s/n:o/i}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,i=this.options,{grid:a,position:o}=i,c=a.offset,l=this.isHorizontal(),u=this.ticks.length+(c?1:0),d=Ri(a),h=[],f=a.setContext(this.getContext()),p=f.drawBorder?f.borderWidth:0,m=p/2,g=function(e){return yt(n,e,p)};let v,y,b,w,x,k,S,M,C,_,T,L;if("top"===o)v=g(this.bottom),k=this.bottom-d,M=v-m,_=g(e.top)+m,L=e.bottom;else if("bottom"===o)v=g(this.top),_=e.top,L=g(e.bottom)-m,k=v+m,M=this.top+d;else if("left"===o)v=g(this.right),x=this.right-d,S=v-m,C=g(e.left)+m,T=e.right;else if("right"===o)v=g(this.left),C=e.left,T=g(e.right)-m,x=v+m,S=this.left+d;else if("x"===t){if("center"===o)v=g((e.top+e.bottom)/2+.5);else if(r(o)){const e=Object.keys(o)[0],t=o[e];v=g(this.chart.scales[e].getPixelForValue(t))}_=e.top,L=e.bottom,k=v+m,M=k+d}else if("y"===t){if("center"===o)v=g((e.left+e.right)/2);else if(r(o)){const e=Object.keys(o)[0],t=o[e];v=g(this.chart.scales[e].getPixelForValue(t))}x=v-m,S=x-d,C=e.left,T=e.right}const E=s(i.ticks.maxTicksLimit,u),I=Math.max(1,Math.ceil(u/E));for(y=0;y<u;y+=I){const e=a.setContext(this.getContext(y)),t=e.lineWidth,i=e.color,r=e.borderDash||[],o=e.borderDashOffset,s=e.tickWidth,u=e.tickColor,d=e.tickBorderDash||[],f=e.tickBorderDashOffset;b=qi(this,y,c),void 0!==b&&(w=yt(n,b,t),l?x=S=C=T=w:k=M=_=L=w,h.push({tx1:x,ty1:k,tx2:S,ty2:M,x1:C,y1:_,x2:T,y2:L,width:t,color:i,borderDash:r,borderDashOffset:o,tickWidth:s,tickColor:u,tickBorderDash:d,tickBorderDashOffset:f}))}return this._ticksLength=u,this._borderValue=v,h}_computeLabelItems(e){const t=this.axis,n=this.options,{position:a,ticks:o}=n,s=this.isHorizontal(),c=this.ticks,{align:l,crossAlign:u,padding:d,mirror:h}=o,f=Ri(n.grid),p=f+d,m=h?-d:p,g=-V(this.labelRotation),v=[];let y,b,w,x,k,S,M,C,_,T,L,E,I="middle";if("top"===a)S=this.bottom-m,M=this._getXAxisLabelAlignment();else if("bottom"===a)S=this.top+m,M=this._getXAxisLabelAlignment();else if("left"===a){const e=this._getYAxisLabelAlignment(f);M=e.textAlign,k=e.x}else if("right"===a){const e=this._getYAxisLabelAlignment(f);M=e.textAlign,k=e.x}else if("x"===t){if("center"===a)S=(e.top+e.bottom)/2+p;else if(r(a)){const e=Object.keys(a)[0],t=a[e];S=this.chart.scales[e].getPixelForValue(t)+p}M=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===a)k=(e.left+e.right)/2-p;else if(r(a)){const e=Object.keys(a)[0],t=a[e];k=this.chart.scales[e].getPixelForValue(t)}M=this._getYAxisLabelAlignment(f).textAlign}"y"===t&&("start"===l?I="top":"end"===l&&(I="bottom"));const A=this._getLabelSizes();for(y=0,b=c.length;y<b;++y){w=c[y],x=w.label;const e=o.setContext(this.getContext(y));C=this.getPixelForTick(y)+o.labelOffset,_=this._resolveTickFontOptions(y),T=_.lineHeight,L=i(x)?x.length:1;const t=L/2,n=e.color,r=e.textStrokeColor,l=e.textStrokeWidth;let d,f=M;if(s?(k=C,"inner"===M&&(f=y===b-1?this.options.reverse?"left":"right":0===y?this.options.reverse?"right":"left":"center"),E="top"===a?"near"===u||0!==g?-L*T+T/2:"center"===u?-A.highest.height/2-t*T+T:-A.highest.height+T/2:"near"===u||0!==g?T/2:"center"===u?A.highest.height/2-t*T:A.highest.height-L*T,h&&(E*=-1)):(S=C,E=(1-L)*T/2),e.showLabelBackdrop){const t=fn(e.backdropPadding),n=A.heights[y],i=A.widths[y];let r=S+E-t.top,a=k-t.left;switch(I){case"middle":r-=n/2;break;case"bottom":r-=n}switch(M){case"center":a-=i/2;break;case"right":a-=i}d={left:a,top:r,width:i+t.width,height:n+t.height,color:e.backdropColor}}v.push({rotation:g,label:x,font:_,color:n,strokeColor:r,strokeWidth:l,textOffset:E,textAlign:f,textBaseline:I,translation:[k,S],backdrop:d})}return v}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-V(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:i,padding:r}}=this.options,a=e+r,o=this._getLabelSizes().widest.width;let s,c;return"left"===t?i?(c=this.right+r,"near"===n?s="left":"center"===n?(s="center",c+=o/2):(s="right",c+=o)):(c=this.right-a,"near"===n?s="right":"center"===n?(s="center",c-=o/2):(s="left",c=this.left)):"right"===t?i?(c=this.left+r,"near"===n?s="right":"center"===n?(s="center",c-=o/2):(s="left",c-=o)):(c=this.left+a,"near"===n?s="left":"center"===n?(s="center",c+=o/2):(s="right",c=this.right)):s="right",{textAlign:s,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:i,width:r,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);return n>=0?t.setContext(this.getContext(n)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let r,a;const o=(e,t,i)=>{i.width&&i.color&&(n.save(),n.lineWidth=i.width,n.strokeStyle=i.color,n.setLineDash(i.borderDash||[]),n.lineDashOffset=i.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(r=0,a=i.length;r<a;++r){const e=i[r];t.drawOnChartArea&&o({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&o({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:n}}=this,i=n.setContext(this.getContext()),r=n.drawBorder?i.borderWidth:0;if(!r)return;const a=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let s,c,l,u;this.isHorizontal()?(s=yt(e,this.left,r)-r/2,c=yt(e,this.right,a)+a/2,l=u=o):(l=yt(e,this.top,r)-r/2,u=yt(e,this.bottom,a)+a/2,s=c=o),t.save(),t.lineWidth=i.borderWidth,t.strokeStyle=i.borderColor,t.beginPath(),t.moveTo(s,l),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&St(t,n);const i=this._labelItems||(this._labelItems=this._computeLabelItems(e));let r,a;for(r=0,a=i.length;r<a;++r){const e=i[r],n=e.font,a=e.label;e.backdrop&&(t.fillStyle=e.backdrop.color,t.fillRect(e.backdrop.left,e.backdrop.top,e.backdrop.width,e.backdrop.height)),Tt(t,a,0,e.textOffset,n,e)}n&&Mt(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:a}}=this;if(!n.display)return;const o=pn(n.font),s=fn(n.padding),c=n.align;let l=o.lineHeight/2;"bottom"===t||"center"===t||r(t)?(l+=s.bottom,i(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=s.top;const{titleX:u,titleY:d,maxWidth:h,rotation:f}=function(e,t,n,i){const{top:a,left:o,bottom:s,right:c,chart:l}=e,{chartArea:u,scales:d}=l;let h,f,p,m=0;const g=s-a,v=c-o;if(e.isHorizontal()){if(f=he(i,o,c),r(n)){const e=Object.keys(n)[0],i=n[e];p=d[e].getPixelForValue(i)+g-t}else p="center"===n?(u.bottom+u.top)/2+g-t:Pi(e,n,t);h=c-o}else{if(r(n)){const e=Object.keys(n)[0],i=n[e];f=d[e].getPixelForValue(i)-v+t}else f="center"===n?(u.left+u.right)/2-v+t:Pi(e,n,t);p=he(i,s,a),m="left"===n?-D:D}return{titleX:f,titleY:p,maxWidth:h,rotation:m}}(this,l,t,c);Tt(e,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:f,textAlign:Ni(c,t,a),textBaseline:"middle",translation:[u,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=s(e.grid&&e.grid.z,-1);return this._isVisible()&&this.draw===Hi.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let r,a;for(r=0,a=t.length;r<a;++r){const a=t[r];a[n]!==this.id||e&&a.type!==e||i.push(a)}return i}_resolveTickFontOptions(e){return pn(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Bi{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const i=this.items,r=e.id,a=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){const i=g(Object.create(null),[n?tt.get(n):{},tt.get(t),e.defaults]);tt.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),r=i.pop(),a=[e].concat(i).join("."),o=t[n].split("."),s=o.pop(),c=o.join(".");tt.route(a,r,c,s)})}(t,e.defaultRoutes),e.descriptors&&tt.describe(t,e.descriptors)}(e,a,n),this.override&&tt.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in tt[i]&&(delete tt[i][n],this.override&&delete Qe[n])}}var Fi=new class{constructor(){this.controllers=new Bi(Li,"datasets",!0),this.elements=new Bi(Ei,"elements"),this.plugins=new Bi(Object,"plugins"),this.scales=new Bi(Hi,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(t=>{const i=n||this._getRegistryForType(t);n||i.isForType(t)||i===this.plugins&&t.id?this._exec(e,i,t):d(t,t=>{const i=n||this._getRegistryForType(t);this._exec(e,i,t)})})}_exec(e,t,n){const i=k(e);u(n["before"+i],[],n),t[e](n),u(n["after"+i],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}};class Vi{constructor(){this._init=[]}notify(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const r=i?this._descriptors(e).filter(i):this._descriptors(e),a=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),a}_notify(e,t,n,i){i=i||{};for(const r of e){const e=r.plugin;if(!1===u(e[n],[t,i,r.options],e)&&i.cancelable)return!1}return!0}invalidate(){n(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,i=s(n.options&&n.options.plugins,{}),r=function(e){const t={},n=[],i=Object.keys(Fi.plugins.items);for(let e=0;e<i.length;e++)n.push(Fi.getPlugin(i[e]));const r=e.plugins||[];for(let e=0;e<r.length;e++){const i=r[e];-1===n.indexOf(i)&&(n.push(i),t[i.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,{plugins:t,localIds:n},i,r){const a=[],o=e.getContext();for(const s of t){const t=s.id,c=Ui(i[t],r);null!==c&&a.push({plugin:s,options:zi(e.config,{plugin:s,local:n[t]},c,o)})}return a}(e,r,i,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,i=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}function Ui(e,t){return t||!1!==e?!0===e?{}:e:null}function zi(e,{plugin:t,local:n},i,r){const a=e.pluginScopeKeys(t),o=e.getOptionScopes(i,a);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gi(e,t){const n=tt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function $i(e,t){return"x"===e||"y"===e?e:t.axis||("top"===(n=t.position)||"bottom"===n?"x":"left"===n||"right"===n?"y":void 0)||e.charAt(0).toLowerCase();var n}function Yi(e){const t=e.options||(e.options={});t.plugins=s(t.plugins,{}),t.scales=function(e,t){const n=Qe[e.type]||{scales:{}},i=t.scales||{},a=Gi(e.type,t),o=Object.create(null),s=Object.create(null);return Object.keys(i).forEach(e=>{const t=i[e];if(!r(t))return console.error("Invalid scale configuration for scale: "+e);if(t._proxy)return console.warn("Ignoring resolver passed as options for scale: "+e);const c=$i(e,t),l=function(e,t){return e===t?"_index_":"_value_"}(c,a),u=n.scales||{};o[c]=o[c]||e,s[e]=v(Object.create(null),[{axis:c},t,u[c],u[l]])}),e.data.datasets.forEach(n=>{const r=n.type||e.type,a=n.indexAxis||Gi(r,t),c=(Qe[r]||{}).scales||{};Object.keys(c).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),r=n[t+"AxisID"]||o[t]||t;s[r]=s[r]||Object.create(null),v(s[r],[{axis:t},i[r],c[e]])})}),Object.keys(s).forEach(e=>{const t=s[e];v(t,[tt.scales[t.type],tt.scale])}),s}(e,t)}function Zi(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const Ji=new Map,Qi=new Set;function Xi(e,t){let n=Ji.get(e);return n||(n=t(),Ji.set(e,n),Qi.add(n)),n}const Ki=(e,t,n)=>{const i=w(t,n);void 0!==i&&e.add(i)};class er{constructor(e){this._config=function(e){return(e=e||{}).data=Zi(e.data),Yi(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Zi(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Yi(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Xi(e,()=>[["datasets."+e,""]])}datasetAnimationScopeKeys(e,t){return Xi(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,"transitions."+t],["datasets."+e,""]])}datasetElementScopeKeys(e,t){return Xi(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,"datasets."+e,"elements."+t,""]])}pluginScopeKeys(e){const t=e.id;return Xi(`${this.type}-plugin-${t}`,()=>[["plugins."+t,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}getOptionScopes(e,t,n){const{options:i,type:r}=this,a=this._cachedScopes(e,n),o=a.get(t);if(o)return o;const s=new Set;t.forEach(t=>{e&&(s.add(e),t.forEach(t=>Ki(s,e,t))),t.forEach(e=>Ki(s,i,e)),t.forEach(e=>Ki(s,Qe[r]||{},e)),t.forEach(e=>Ki(s,tt,e)),t.forEach(e=>Ki(s,Xe,e))});const c=Array.from(s);return 0===c.length&&c.push(Object.create(null)),Qi.has(t)&&a.set(t,c),c}chartOptionScopes(){const{options:e,type:t}=this;return[e,Qe[t]||{},tt.datasets[t]||{},{type:t},tt,Xe]}resolveNamedOptions(e,t,n,r=[""]){const a={$shared:!0},{resolver:o,subPrefixes:s}=tr(this._resolverCache,e,r);let c=o;(function(e,t){const{isScriptable:n,isIndexable:r}=Dt(e);for(const a of t){const t=n(a),o=r(a),s=(o||t)&&e[a];if(t&&(M(s)||nr(s))||o&&i(s))return!0}return!1})(o,t)&&(a.$shared=!1,c=At(o,n=M(n)?n():n,this.createResolver(e,n,s)));for(const e of t)a[e]=c[e];return a}createResolver(e,t,n=[""],i){const{resolver:a}=tr(this._resolverCache,e,n);return r(t)?At(a,t,void 0,i):a}}function tr(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const r=n.join();let a=i.get(r);return a||(a={resolver:It(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},i.set(r,a)),a}const nr=e=>r(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||M(e[n]),!1),ir=["top","bottom","left","right","chartArea"];function rr(e,t){return"top"===e||"bottom"===e||-1===ir.indexOf(e)&&"x"===t}function ar(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function or(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),u(n&&n.onComplete,[e],t)}function sr(e){const t=e.chart,n=t.options.animation;u(n&&n.onProgress,[e],t)}function cr(e){return nt()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const lr={},ur=e=>{const t=cr(e);return Object.values(lr).filter(e=>e.canvas===t).pop()};function dr(e,t,n){const i=Object.keys(e);for(const r of i){const i=+r;if(i>=t){const a=e[r];delete e[r],(n>0||i>t)&&(e[i+n]=a)}}}class hr{constructor(e,n){const i=this.config=new er(n),r=cr(e),a=ur(r);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||ui(r)),this.platform.updateConfig(i);const s=this.platform.acquireContext(r,o.aspectRatio),c=s&&s.canvas,l=c&&c.height,u=c&&c.width;this.id=t(),this.ctx=s,this.canvas=c,this.width=u,this.height=l,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Vi,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=ue(e=>this.update(e),o.resizeDelay||0),this._dataChanges=[],lr[this.id]=this,s&&c?(ge.listen(this,"complete",or),ge.listen(this,"progress",sr),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:i,height:r,_aspectRatio:a}=this;return n(e)?t&&a?a:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ht(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return bt(this.canvas,this.ctx),this}stop(){return ge.stop(this),this}resize(e,t){ge.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(i,e,t,r),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,ht(this,o,!0)&&(this.notifyPlugins("resize",{size:a}),u(n.onResize,[this,a],this),this.attached&&this._doResize(s)&&this.render())}ensureScalesHaveIDs(){d(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,i=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let r=[];t&&(r=r.concat(Object.keys(t).map(e=>{const n=t[e],i=$i(e,n),r="r"===i,a="x"===i;return{options:n,dposition:r?"chartArea":a?"bottom":"left",dtype:r?"radialLinear":a?"category":"linear"}}))),d(r,t=>{const r=t.options,a=r.id,o=$i(a,r),c=s(r.type,t.dtype);void 0!==r.position&&rr(r.position,o)===rr(t.dposition)||(r.position=t.dposition),i[a]=!0;let l=null;a in n&&n[a].type===c?l=n[a]:(l=new(Fi.getScale(c))({id:a,type:c,ctx:this.ctx,chart:this}),n[l.id]=l),l.init(r,e)}),d(i,(e,t)=>{e||delete n[t]}),d(n,e=>{$n.configure(this,e,e.options),$n.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(ar("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=t.length;n<i;n++){const i=t[n];let r=this.getDatasetMeta(n);const a=i.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=i.indexAxis||Gi(a,this.options),r.order=i.order||0,r.index=n,r.label=""+i.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const t=Fi.getController(a),{datasetElementType:i,dataElementType:o}=tt.datasets[a];Object.assign(t.prototype,{dataElementType:Fi.getElement(o),datasetElementType:i&&Fi.getElement(i)}),r.controller=new t(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){d(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let e=0,t=this.data.datasets.length;e<t;e++){const{controller:t}=this.getDatasetMeta(e),n=!i&&-1===r.indexOf(t);t.buildOrUpdateElements(n),a=Math.max(+t.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),i||d(r,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(ar("z","_idx"));const{_active:o,_lastEvent:s}=this;s?this._eventHandler(s,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){d(this.scales,e=>{$n.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);C(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:r}of t)dr(e,i,"_removeElements"===n?-r:r)}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),i=n(0);for(let e=1;e<t;e++)if(!C(i,n(e)))return;return Array.from(i).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;$n.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],d(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,M(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(ge.has(this)?this.attached&&!ge.running(this)&&ge.start(this):(this.draw(),or({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resize(e,t),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let i,r;for(i=0,r=t.length;i<r;++i){const r=t[i];e&&!r.visible||n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,i=!n.disabled,r=this.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",a)&&(i&&St(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&Mt(t),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(e){return kt(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,i){const r=jn.modes[t];return"function"==typeof r?r(this,e,n,i):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let i=n.filter(e=>e&&e._dataset===t).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=vn(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const i=n?"show":"hide",r=this.getDatasetMeta(e),a=r.controller._resolveAnimations(void 0,i);S(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(r,{visible:n}),this.update(t=>t.datasetIndex===e?i:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),ge.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),bt(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete lr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};d(this.options.events,e=>n(e,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,i)=>{t.addEventListener(this,n,i),e[n]=i},i=(n,i)=>{e[n]&&(t.removeEventListener(this,n,i),delete e[n])},r=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const o=()=>{i("attach",o),this.attached=!0,this.resize(),n("resize",r),n("detach",a)};a=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():a()}unbindEvents(){d(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},d(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const i=n?"set":"remove";let r,a,o,s;for("dataset"===t&&(r=this.getDatasetMeta(e[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),o=0,s=e.length;o<s;++o){a=e[o];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[i+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:e,index:t})=>{const n=this.getDatasetMeta(e);if(!n)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:n.data[t],index:t}});!h(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){const i=this.options.hover,r=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=r(t,e),o=n?e:r(e,t);a.length&&this.updateHoverStyle(a,i.mode,!1),o.length&&i.mode&&this.updateHoverStyle(o,i.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},i=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,i))return;const r=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(r||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:i=[],options:r}=this,a=t,o=this._getActiveElements(e,i,n,a),s=_(e),c=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,s);n&&(this._lastEvent=null,u(r.onHover,[e,o,this],this),s&&u(r.onClick,[e,o,this],this));const l=!h(o,i);return(l||t)&&(this._active=o,this._updateHoverStyles(o,i,t)),this._lastEvent=c,l}_getActiveElements(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;const r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}const fr=()=>d(hr.instances,e=>e._plugins.invalidate());function pr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}Object.defineProperties(hr,{defaults:{enumerable:!0,value:tt},instances:{enumerable:!0,value:lr},overrides:{enumerable:!0,value:Qe},registry:{enumerable:!0,value:Fi},version:{enumerable:!0,value:"3.9.1"},getChart:{enumerable:!0,value:ur},register:{enumerable:!0,value:(...e)=>{Fi.add(...e),fr()}},unregister:{enumerable:!0,value:(...e)=>{Fi.remove(...e),fr()}}});class mr{constructor(e){this.options=e||{}}init(e){}formats(){return pr()}parse(e,t){return pr()}format(e,t){return pr()}add(e,t,n){return pr()}diff(e,t,n){return pr()}startOf(e,t,n){return pr()}endOf(e,t){return pr()}}mr.override=function(e){Object.assign(mr.prototype,e)};var gr={_date:mr};function vr(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let t=0,r=n.length;t<r;t++)i=i.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=se(i.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let i,r,a,o,s=t._length;const c=()=>{32767!==a&&-32768!==a&&(S(o)&&(s=Math.min(s,Math.abs(a-o)||s)),o=a)};for(i=0,r=n.length;i<r;++i)a=t.getPixelForValue(n[i]),c();for(o=void 0,i=0,r=t.ticks.length;i<r;++i)a=t.getPixelForTick(i),c();return s}function yr(e,t,n,r){return i(e)?function(e,t,n,i){const r=n.parse(e[0],i),a=n.parse(e[1],i),o=Math.min(r,a),s=Math.max(r,a);let c=o,l=s;Math.abs(o)>Math.abs(s)&&(c=s,l=o),t[n.axis]=l,t._custom={barStart:c,barEnd:l,start:r,end:a,min:o,max:s}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function br(e,t,n,i){const r=e.iScale,a=e.vScale,o=r.getLabels(),s=r===a,c=[];let l,u,d,h;for(l=n,u=n+i;l<u;++l)h=t[l],d={},d[r.axis]=s||r.parse(o[l],l),c.push(yr(h,d,a,l));return c}function wr(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function xr(e,t,n,i){let r=t.borderSkipped;const a={};if(!r)return void(e.borderSkipped=a);if(!0===r)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:s,reverse:c,top:l,bottom:u}=function(e){let t,n,i,r,a;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",a="start"):(r="start",a="end"),{start:n,end:i,reverse:t,top:r,bottom:a}}(e);"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=l:(n._bottom||0)===i?r=u:(a[kr(u,o,s,c)]=!0,r=l)),a[kr(r,o,s,c)]=!0,e.borderSkipped=a}function kr(e,t,n,i){var r,a,o;return i?(o=n,e=Sr(e=(r=e)===(a=t)?o:r===o?a:r,n,t)):e=Sr(e,t,n),e}function Sr(e,t,n){return"start"===e?t:"end"===e?n:e}function Mr(e,{inflateAmount:t},n){e.inflateAmount="auto"===t?1===n?.33:0:t}class Cr extends Li{parsePrimitiveData(e,t,n,i){return br(e,t,n,i)}parseArrayData(e,t,n,i){return br(e,t,n,i)}parseObjectData(e,t,n,i){const{iScale:r,vScale:a}=e,{xAxisKey:o="x",yAxisKey:s="y"}=this._parsing,c="x"===r.axis?o:s,l="x"===a.axis?o:s,u=[];let d,h,f,p;for(d=n,h=n+i;d<h;++d)p=t[d],f={},f[r.axis]=r.parse(w(p,c),d),u.push(yr(w(p,l),f,a,d));return u}updateRangeFromParsed(e,t,n,i){super.updateRangeFromParsed(e,t,n,i);const r=n._custom;r&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:i}=t,r=this.getParsed(e),a=r._custom,o=wr(a)?"["+a.start+", "+a.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,i,r){const a="reset"===r,{index:o,_cachedMeta:{vScale:s}}=this,c=s.getBasePixel(),l=s.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:h}=this._getSharedOptions(t,r);for(let f=t;f<t+i;f++){const t=this.getParsed(f),i=a||n(t[s.axis])?{base:c,head:c}:this._calculateBarValuePixels(f),p=this._calculateBarIndexPixels(f,u),m=(t._stacks||{})[s.axis],g={horizontal:l,base:i.base,enableBorderRadius:!m||wr(t._custom)||o===m._top||o===m._bottom,x:l?i.head:p.center,y:l?p.center:i.head,height:l?p.size:Math.abs(i.size),width:l?Math.abs(i.size):p.size};h&&(g.options=d||this.resolveDataElementOptions(f,e[f].active?"active":r));const v=g.options||e[f].options;xr(g,v,m,o),Mr(g,v,u.ratio),this.updateElement(e[f],f,g,r)}}_getStacks(e,t){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),a=i.options.stacked,o=[],s=e=>{const i=e.controller.getParsed(t),r=i&&i[e.vScale.axis];if(n(r)||isNaN(r))return!0};for(const n of r)if((void 0===t||!s(n))&&((!1===a||-1===o.indexOf(n.stack)||void 0===a&&void 0===n.stack)&&o.push(n.stack),n.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,i=[];let r,a;for(r=0,a=t.data.length;r<a;++r)i.push(n.getPixelForValue(this.getParsed(r)[n.axis],r));const o=e.barThickness;return{min:o||vr(t),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:i},options:{base:r,minBarLength:a}}=this,o=r||0,s=this.getParsed(e),c=s._custom,l=wr(c);let u,d,h=s[t.axis],f=0,p=i?this.applyStack(t,s,i):h;p!==h&&(f=p-h,p=h),l&&(h=c.barStart,p=c.barEnd-c.barStart,0!==h&&q(h)!==q(c.barEnd)&&(f=0),f+=h);const m=n(r)||l?f:r;let g=t.getPixelForValue(m);if(u=this.chart.getDataVisibility(e)?t.getPixelForValue(f+p):g,d=u-g,Math.abs(d)<a){d=function(e,t,n){return 0!==e?q(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(d,t,o)*a,h===o&&(g-=d/2);const e=t.getPixelForDecimal(0),n=t.getPixelForDecimal(1),i=Math.min(e,n),r=Math.max(e,n);g=Math.max(Math.min(g,r),i),u=g+d}if(g===t.getPixelForValue(o)){const e=q(d)*t.getLineWidthForValue(o)/2;g+=e,d-=e}return{size:d,base:g,head:u,center:u+d/2}}_calculateBarIndexPixels(e,t){const i=t.scale,r=this.options,a=r.skipNull,o=s(r.maxBarThickness,1/0);let c,l;if(t.grouped){const i=a?this._getStackCount(e):t.stackCount,s="flex"===r.barThickness?function(e,t,n,i){const r=t.pixels,a=r[e];let o=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null;const c=n.categoryPercentage;null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o);const l=a-(a-Math.min(o,s))/2*c;return{chunk:Math.abs(s-o)/2*c/i,ratio:n.barPercentage,start:l}}(e,t,r,i):function(e,t,i,r){const a=i.barThickness;let o,s;return n(a)?(o=t.min*i.categoryPercentage,s=i.barPercentage):(o=a*r,s=1),{chunk:o/r,ratio:s,start:t.pixels[e]-o/2}}(e,t,r,i),u=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);c=s.start+s.chunk*u+s.chunk/2,l=Math.min(o,s.chunk*s.ratio)}else c=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,t.min*t.ratio);return{base:c-l/2,head:c+l/2,center:c,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length;let r=0;for(;r<i;++r)null!==this.getParsed(r)[t.axis]&&n[r].draw(this._ctx)}}Cr.id="bar",Cr.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},Cr.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class _r extends Li{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,i){const r=super.parsePrimitiveData(e,t,n,i);for(let e=0;e<r.length;e++)r[e]._custom=this.resolveDataElementOptions(e+n).radius;return r}parseArrayData(e,t,n,i){const r=super.parseArrayData(e,t,n,i);for(let e=0;e<r.length;e++){const i=t[n+e];r[e]._custom=s(i[2],this.resolveDataElementOptions(e+n).radius)}return r}parseObjectData(e,t,n,i){const r=super.parseObjectData(e,t,n,i);for(let e=0;e<r.length;e++){const i=t[n+e];r[e]._custom=s(i&&i.r&&+i.r,this.resolveDataElementOptions(e+n).radius)}return r}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:n,yScale:i}=t,r=this.getParsed(e),a=n.getLabelForValue(r.x),o=i.getLabelForValue(r.y),s=r._custom;return{label:t.label,value:"("+a+", "+o+(s?", "+s:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,i){const r="reset"===i,{iScale:a,vScale:o}=this._cachedMeta,{sharedOptions:s,includeOptions:c}=this._getSharedOptions(t,i),l=a.axis,u=o.axis;for(let d=t;d<t+n;d++){const t=e[d],n=!r&&this.getParsed(d),h={},f=h[l]=r?a.getPixelForDecimal(.5):a.getPixelForValue(n[l]),p=h[u]=r?o.getBasePixel():o.getPixelForValue(n[u]);h.skip=isNaN(f)||isNaN(p),c&&(h.options=s||this.resolveDataElementOptions(d,t.active?"active":i),r&&(h.options.radius=0)),this.updateElement(t,d,h,i)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,t);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const r=i.radius;return"active"!==t&&(i.radius=0),i.radius+=s(n&&n._custom,r),i}}_r.id="bubble",_r.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},_r.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}};class Tr extends Li{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{let a,o,s=e=>+n[e];if(r(n[e])){const{key:e="value"}=this._parsing;s=t=>+w(n[t],e)}for(a=e,o=e+t;a<o;++a)i._parsed[a]=s(a)}}_getRotation(){return V(this.options.rotation-90)}_getCircumference(){return V(this.options.circumference)}_getRotationExtents(){let e=L,t=-L;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),a=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,i=this._cachedMeta,r=i.data,a=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-a)/2,0),s=Math.min(c(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=function(e,t,n){let i=1,r=1,a=0,o=0;if(t<L){const s=e,c=s+t,l=Math.cos(s),u=Math.sin(s),d=Math.cos(c),h=Math.sin(c),f=(e,t,i)=>J(e,s,c,!0)?1:Math.max(t,t*n,i,i*n),p=(e,t,i)=>J(e,s,c,!0)?-1:Math.min(t,t*n,i,i*n),m=f(0,l,d),g=f(D,u,h),v=p(T,l,d),y=p(T+D,u,h);i=(m-v)/2,r=(g-y)/2,a=-(m+v)/2,o=-(g+y)/2}return{ratioX:i,ratioY:r,offsetX:a,offsetY:o}}(h,d,s),v=(n.width-a)/f,y=(n.height-a)/p,b=Math.max(Math.min(v,y)/2,0),w=l(this.options.radius,b),x=(w-Math.max(w*s,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*w,this.offsetY=g*w,i.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(r,0,r.length,e)}_circumference(e,t){const n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/L)}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.chartArea,s=a.options.animation,c=(o.left+o.right)/2,l=(o.top+o.bottom)/2,u=r&&s.animateScale,d=u?0:this.innerRadius,h=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(t,i);let m,g=this._getRotation();for(m=0;m<t;++m)g+=this._circumference(m,r);for(m=t;m<t+n;++m){const t=this._circumference(m,r),n=e[m],a={x:c+this.offsetX,y:l+this.offsetY,startAngle:g,endAngle:g+t,circumference:t,outerRadius:h,innerRadius:d};p&&(a.options=f||this.resolveDataElementOptions(m,n.active?"active":i)),g+=t,this.updateElement(n,m,a,i)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,i=0;for(n=0;n<t.length;n++){const r=e._parsed[n];null===r||isNaN(r)||!this.chart.getDataVisibility(n)||t[n].hidden||(i+=Math.abs(r))}return i}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?L*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=on(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}getMaxBorderWidth(e){let t=0;const n=this.chart;let i,r,a,o,s;if(!e)for(i=0,r=n.data.datasets.length;i<r;++i)if(n.isDatasetVisible(i)){a=n.getDatasetMeta(i),e=a.data,o=a.controller;break}if(!e)return 0;for(i=0,r=e.length;i<r;++i)s=o.resolveDataElementOptions(i),"inner"!==s.borderAlign&&(t=Math.max(t,s.borderWidth||0,s.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,i=e.length;n<i;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(s(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Tr.id="doughnut",Tr.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},Tr.descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e},Tr.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((t,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(e){let t=e.label;const n=": "+e.formattedValue;return i(t)?(t=t.slice(),t[0]+=n):t+=n,t}}}}};class Lr extends Li{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:i=[],_dataset:r}=t,a=this.chart._animationsDisabled;let{start:o,count:s}=pe(t,i,a);this._drawStart=o,this._drawCount=s,me(t)&&(o=0,s=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!r._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(i,o,s,e)}updateElements(e,t,i,r){const a="reset"===r,{iScale:o,vScale:s,_stacked:c,_dataset:l}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(t,r),h=o.axis,f=s.axis,{spanGaps:p,segment:m}=this.options,g=N(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||a||"none"===r;let y=t>0&&this.getParsed(t-1);for(let p=t;p<t+i;++p){const t=e[p],i=this.getParsed(p),b=v?t:{},w=n(i[f]),x=b[h]=o.getPixelForValue(i[h],p),k=b[f]=a||w?s.getBasePixel():s.getPixelForValue(c?this.applyStack(s,i,c):i[f],p);b.skip=isNaN(x)||isNaN(k)||w,b.stop=p>0&&Math.abs(i[h]-y[h])>g,m&&(b.parsed=i,b.raw=l.data[p]),d&&(b.options=u||this.resolveDataElementOptions(p,t.active?"active":r)),v||this.updateElement(t,p,b,r),y=i}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const r=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}Lr.id="line",Lr.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},Lr.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class Er extends Li{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=on(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}parseObjectData(e,t,n,i){return Vt.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,n)=>{const i=this.getParsed(n).r;!isNaN(i)&&this.chart.getDataVisibility(n)&&(i<t.min&&(t.min=i),i>t.max&&(t.max=i))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),a=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,i){const r="reset"===i,a=this.chart,o=a.options.animation,s=this._cachedMeta.rScale,c=s.xCenter,l=s.yCenter,u=s.getIndexAngle(0)-.5*T;let d,h=u;const f=360/this.countVisibleElements();for(d=0;d<t;++d)h+=this._computeAngle(d,i,f);for(d=t;d<t+n;d++){const t=e[d];let n=h,p=h+this._computeAngle(d,i,f),m=a.getDataVisibility(d)?s.getDistanceFromCenterForValue(this.getParsed(d).r):0;h=p,r&&(o.animateScale&&(m=0),o.animateRotate&&(n=p=u));const g={x:c,y:l,innerRadius:0,outerRadius:m,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(d,t.active?"active":i)};this.updateElement(t,d,g,i)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?V(this.resolveDataElementOptions(e,t).angle||n):0}}Er.id="polarArea",Er.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},Er.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n}}=e.legend.options;return t.labels.map((t,i)=>{const r=e.getDatasetMeta(0).controller.getStyle(i);return{text:t,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(i),index:i}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:e=>e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class Ir extends Tr{}Ir.id="pie",Ir.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class Ar extends Li{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,i){return Vt.bind(this)(e,t,n,i)}update(e){const t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===i.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,t,n,i){const r=this._cachedMeta.rScale,a="reset"===i;for(let o=t;o<t+n;o++){const t=e[o],n=this.resolveDataElementOptions(o,t.active?"active":i),s=r.getPointPositionForValue(o,this.getParsed(o).r),c=a?r.xCenter:s.x,l=a?r.yCenter:s.y,u={x:c,y:l,angle:s.angle,skip:isNaN(c)||isNaN(l),options:n};this.updateElement(t,o,u,i)}}}Ar.id="radar",Ar.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},Ar.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class Dr extends Li{update(e){const t=this._cachedMeta,{data:n=[]}=t,i=this.chart._animationsDisabled;let{start:r,count:a}=pe(t,n,i);if(this._drawStart=r,this._drawCount=a,me(t)&&(r=0,a=n.length),this.options.showLine){const{dataset:r,_dataset:a}=t;r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=n;const o=this.resolveDatasetElementOptions(e);o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!i,options:o},e)}this.updateElements(n,r,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=Fi.getElement("line")),super.addElements()}updateElements(e,t,i,r){const a="reset"===r,{iScale:o,vScale:s,_stacked:c,_dataset:l}=this._cachedMeta,u=this.resolveDataElementOptions(t,r),d=this.getSharedOptions(u),h=this.includeOptions(r,d),f=o.axis,p=s.axis,{spanGaps:m,segment:g}=this.options,v=N(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||a||"none"===r;let b=t>0&&this.getParsed(t-1);for(let u=t;u<t+i;++u){const t=e[u],i=this.getParsed(u),m=y?t:{},w=n(i[p]),x=m[f]=o.getPixelForValue(i[f],u),k=m[p]=a||w?s.getBasePixel():s.getPixelForValue(c?this.applyStack(s,i,c):i[p],u);m.skip=isNaN(x)||isNaN(k)||w,m.stop=u>0&&Math.abs(i[f]-b[f])>v,g&&(m.parsed=i,m.raw=l.data[u]),h&&(m.options=d||this.resolveDataElementOptions(u,t.active?"active":r)),y||this.updateElement(t,u,m,r),b=i}this.updateSharedOptions(d,r,u)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!t.length)return i;const r=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(i,r,a)/2}}Dr.id="scatter",Dr.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},Dr.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:e=>"("+e.label+", "+e.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var Wr=Object.freeze({__proto__:null,BarController:Cr,BubbleController:_r,DoughnutController:Tr,LineController:Lr,PolarAreaController:Er,PieController:Ir,RadarController:Ar,ScatterController:Dr});function Pr(e,t,n){const{startAngle:i,pixelMargin:r,x:a,y:o,outerRadius:s,innerRadius:c}=t;let l=r/s;e.beginPath(),e.arc(a,o,s,i-l,n+l),c>r?(l=r/c,e.arc(a,o,c,n+l,i-l,!0)):e.arc(a,o,r,n+D,i-D),e.closePath(),e.clip()}function jr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function qr(e,t,n,i,r,a){const{x:o,y:s,startAngle:c,pixelMargin:l,innerRadius:u}=t,d=Math.max(t.outerRadius+i+n-l,0),h=u>0?u+i+n+l:0;let f=0;const p=r-c;if(i){const e=((u>0?u-i:0)+(d>0?d-i:0))/2;f=(p-(0!==e?p*e/(e+i):p))/2}const m=(p-Math.max(.001,p*d-n/T)/d)/2,g=c+m+f,v=r-m-f,{outerStart:y,outerEnd:b,innerStart:w,innerEnd:x}=function(e,t,n,i){const r=un(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),a=(n-t)/2,o=Math.min(a,i*t/2),s=e=>{const t=(n-Math.min(a,e))*i/2;return Q(e,0,Math.min(a,t))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:Q(r.innerStart,0,o),innerEnd:Q(r.innerEnd,0,o)}}(t,h,d,v-g),k=d-y,S=d-b,M=g+y/k,C=v-b/S,_=h+w,L=h+x,E=g+w/_,I=v-x/L;if(e.beginPath(),a){if(e.arc(o,s,d,M,C),b>0){const t=jr(S,C,o,s);e.arc(t.x,t.y,b,C,v+D)}const t=jr(L,v,o,s);if(e.lineTo(t.x,t.y),x>0){const t=jr(L,I,o,s);e.arc(t.x,t.y,x,v+D,I+Math.PI)}if(e.arc(o,s,h,v-x/h,g+w/h,!0),w>0){const t=jr(_,E,o,s);e.arc(t.x,t.y,w,E+Math.PI,g-D)}const n=jr(k,g,o,s);if(e.lineTo(n.x,n.y),y>0){const t=jr(k,M,o,s);e.arc(t.x,t.y,y,g-D,M)}}else{e.moveTo(o,s);const t=Math.cos(M)*d+o,n=Math.sin(M)*d+s;e.lineTo(t,n);const i=Math.cos(C)*d+o,r=Math.sin(C)*d+s;e.lineTo(i,r)}e.closePath()}class Rr extends Ei{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.getProps(["x","y"],n),{angle:r,distance:a}=G(i,{x:e,y:t}),{startAngle:o,endAngle:c,innerRadius:l,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=this.options.spacing/2,f=s(d,c-o)>=L||J(r,o,c),p=K(a,l+h,u+h);return f&&p}getCenterPoint(e){const{x:t,y:n,startAngle:i,endAngle:r,innerRadius:a,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:s,spacing:c}=this.options,l=(i+r)/2,u=(a+o+c+s)/2;return{x:t+Math.cos(l)*u,y:n+Math.sin(l)*u}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,i=(t.offset||0)/2,r=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>L?Math.floor(n/L):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(i){o=i/2;const t=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(t)*o,Math.sin(t)*o),this.circumference>=T&&(o=i)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const s=function(e,t,n,i,r){const{fullCircles:a,startAngle:o,circumference:s}=t;let c=t.endAngle;if(a){qr(e,t,n,i,o+L,r);for(let t=0;t<a;++t)e.fill();isNaN(s)||(c=o+s%L,s%L==0&&(c+=L))}return qr(e,t,n,i,c,r),e.fill(),c}(e,this,o,r,a);(function(e,t,n,i,r,a){const{options:o}=t,{borderWidth:s,borderJoinStyle:c}=o,l="inner"===o.borderAlign;s&&(l?(e.lineWidth=2*s,e.lineJoin=c||"round"):(e.lineWidth=s,e.lineJoin=c||"bevel"),t.fullCircles&&function(e,t,n){const{x:i,y:r,startAngle:a,pixelMargin:o,fullCircles:s}=t,c=Math.max(t.outerRadius-o,0),l=t.innerRadius+o;let u;for(n&&Pr(e,t,a+L),e.beginPath(),e.arc(i,r,l,a+L,a,!0),u=0;u<s;++u)e.stroke();for(e.beginPath(),e.arc(i,r,c,a,a+L),u=0;u<s;++u)e.stroke()}(e,t,l),l&&Pr(e,t,r),qr(e,t,n,i,r,a),e.stroke())})(e,this,o,r,s,a),e.restore()}}function Or(e,t,n=t){e.lineCap=s(n.borderCapStyle,t.borderCapStyle),e.setLineDash(s(n.borderDash,t.borderDash)),e.lineDashOffset=s(n.borderDashOffset,t.borderDashOffset),e.lineJoin=s(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=s(n.borderWidth,t.borderWidth),e.strokeStyle=s(n.borderColor,t.borderColor)}function Nr(e,t,n){e.lineTo(n.x,n.y)}function Hr(e,t,n={}){const i=e.length,{start:r=0,end:a=i-1}=n,{start:o,end:s}=t,c=Math.max(r,o),l=Math.min(a,s),u=r<o&&a<o||r>s&&a>s;return{count:i,start:c,loop:t.loop,ilen:l<c&&!u?i+l-c:l-c}}function Br(e,t,n,i){const{points:r,options:a}=t,{count:o,start:s,loop:c,ilen:l}=Hr(r,n,i),u=function(e){return e.stepped?Ct:e.tension||"monotone"===e.cubicInterpolationMode?_t:Nr}(a);let d,h,f,{move:p=!0,reverse:m}=i||{};for(d=0;d<=l;++d)h=r[(s+(m?l-d:d))%o],h.skip||(p?(e.moveTo(h.x,h.y),p=!1):u(e,f,h,m,a.stepped),f=h);return c&&(h=r[(s+(m?l:0))%o],u(e,f,h,m,a.stepped)),!!c}function Fr(e,t,n,i){const r=t.points,{count:a,start:o,ilen:s}=Hr(r,n,i),{move:c=!0,reverse:l}=i||{};let u,d,h,f,p,m,g=0,v=0;const y=e=>(o+(l?s-e:e))%a,b=()=>{f!==p&&(e.lineTo(g,p),e.lineTo(g,f),e.lineTo(g,m))};for(c&&(d=r[y(0)],e.moveTo(d.x,d.y)),u=0;u<=s;++u){if(d=r[y(u)],d.skip)continue;const t=d.x,n=d.y,i=0|t;i===h?(n<f?f=n:n>p&&(p=n),g=(v*g+t)/++v):(b(),e.lineTo(t,n),h=i,v=0,f=p=n),m=n}b()}function Vr(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return e._decimated||e._loop||t.tension||"monotone"===t.cubicInterpolationMode||t.stepped||n?Br:Fr}Rr.id="arc",Rr.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},Rr.defaultRoutes={backgroundColor:"backgroundColor"};const Ur="function"==typeof Path2D;class zr extends Ei{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Jt(this._points,n,e,i,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Cn(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,i=e[t],r=this.points,a=Mn(this,{property:t,start:i,end:i});if(!a.length)return;const o=[],s=function(e){return e.stepped?nn:e.tension||"monotone"===e.cubicInterpolationMode?rn:tn}(n);let c,l;for(c=0,l=a.length;c<l;++c){const{start:l,end:u}=a[c],d=r[l],h=r[u];if(d===h){o.push(d);continue}const f=s(d,h,Math.abs((i-d[t])/(h[t]-d[t])),n.stepped);f[t]=e[t],o.push(f)}return 1===o.length?o[0]:o}pathSegment(e,t,n){return Vr(this)(e,this,t,n)}path(e,t,n){const i=this.segments,r=Vr(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const o of i)a&=r(e,this,o,{start:t,end:t+n-1});return!!a}draw(e,t,n,i){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),function(e,t,n,i){Ur&&!t.options.segment?function(e,t,n,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),Or(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){const{segments:r,options:a}=t,o=Vr(t);for(const s of r)Or(e,a,s.style),e.beginPath(),o(e,t,s,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}(e,t,n,i)}(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function Gr(e,t,n,i){const r=e.options,{[n]:a}=e.getProps([n],i);return Math.abs(t-a)<r.radius+r.hitRadius}zr.id="line",zr.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},zr.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},zr.descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};class $r extends Ei{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const i=this.options,{x:r,y:a}=this.getProps(["x","y"],n);return Math.pow(e-r,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}inXRange(e,t){return Gr(this,e,"x",t)}inYRange(e,t){return Gr(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;return t=Math.max(t,t&&e.hoverRadius||0),2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!kt(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,wt(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Yr(e,t){const{x:n,y:i,base:r,width:a,height:o}=e.getProps(["x","y","base","width","height"],t);let s,c,l,u,d;return e.horizontal?(d=o/2,s=Math.min(n,r),c=Math.max(n,r),l=i-d,u=i+d):(d=a/2,s=n-d,c=n+d,l=Math.min(i,r),u=Math.max(i,r)),{left:s,top:l,right:c,bottom:u}}function Zr(e,t,n,i){return e?0:Q(t,n,i)}function Jr(e){const t=Yr(e),n=t.right-t.left,i=t.bottom-t.top,a=function(e,t,n){const i=e.options.borderWidth,r=e.borderSkipped,a=dn(i);return{t:Zr(r.top,a.top,0,n),r:Zr(r.right,a.right,0,t),b:Zr(r.bottom,a.bottom,0,n),l:Zr(r.left,a.left,0,t)}}(e,n/2,i/2),o=function(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,o=hn(a),s=Math.min(t,n),c=e.borderSkipped,l=i||r(a);return{topLeft:Zr(!l||c.top||c.left,o.topLeft,0,s),topRight:Zr(!l||c.top||c.right,o.topRight,0,s),bottomLeft:Zr(!l||c.bottom||c.left,o.bottomLeft,0,s),bottomRight:Zr(!l||c.bottom||c.right,o.bottomRight,0,s)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:n-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function Qr(e,t,n,i){const r=null===t,a=null===n,o=e&&!(r&&a)&&Yr(e,i);return o&&(r||K(t,o.left,o.right))&&(a||K(n,o.top,o.bottom))}function Xr(e,t){e.rect(t.x,t.y,t.w,t.h)}function Kr(e,t,n={}){const i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+a,h:e.h+o,radius:e.radius}}$r.id="point",$r.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},$r.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};class ea extends Ei{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:i}}=this,{inner:r,outer:a}=Jr(this),o=(s=a.radius).topLeft||s.topRight||s.bottomLeft||s.bottomRight?Et:Xr;var s;e.save(),a.w===r.w&&a.h===r.h||(e.beginPath(),o(e,Kr(a,t,r)),e.clip(),o(e,Kr(r,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,Kr(r,t)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,t,n){return Qr(this,e,t,n)}inXRange(e,t){return Qr(this,e,null,t)}inYRange(e,t){return Qr(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],e);return{x:r?(t+i)/2:t,y:r?n:(n+i)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}ea.id="bar",ea.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},ea.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var ta=Object.freeze({__proto__:null,ArcElement:Rr,LineElement:zr,PointElement:$r,BarElement:ea});function na(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function ia(e){e.data.datasets.forEach(e=>{na(e)})}var ra={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,i)=>{if(!i.enabled)return void ia(e);const r=e.width;e.data.datasets.forEach((t,a)=>{const{_data:o,indexAxis:s}=t,c=e.getDatasetMeta(a),l=o||t.data;if("y"===mn([s,e.options.indexAxis]))return;if(!c.controller.supportsDecimation)return;const u=e.scales[c.xAxisID];if("linear"!==u.type&&"time"!==u.type)return;if(e.options.parsing)return;let d,{start:h,count:f}=function(e,t){const n=t.length;let i,r=0;const{iScale:a}=e,{min:o,max:s,minDefined:c,maxDefined:l}=a.getUserBounds();return c&&(r=Q(te(t,a.axis,o).lo,0,n-1)),i=l?Q(te(t,a.axis,s).hi+1,r,n)-r:n-r,{start:r,count:i}}(c,l);if(f<=(i.threshold||4*r))na(t);else{switch(n(o)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),i.algorithm){case"lttb":d=function(e,t,n,i,r){const a=r.samples||i;if(a>=n)return e.slice(t,t+n);const o=[],s=(n-2)/(a-2);let c=0;const l=t+n-1;let u,d,h,f,p,m=t;for(o[c++]=e[m],u=0;u<a-2;u++){let i,r=0,a=0;const l=Math.floor((u+1)*s)+1+t,g=Math.min(Math.floor((u+2)*s)+1,n)+t,v=g-l;for(i=l;i<g;i++)r+=e[i].x,a+=e[i].y;r/=v,a/=v;const y=Math.floor(u*s)+1+t,b=Math.min(Math.floor((u+1)*s)+1,n)+t,{x:w,y:x}=e[m];for(h=f=-1,i=y;i<b;i++)f=.5*Math.abs((w-r)*(e[i].y-x)-(w-e[i].x)*(a-x)),f>h&&(h=f,d=e[i],p=i);o[c++]=d,m=p}return o[c++]=e[l],o}(l,h,f,r,i);break;case"min-max":d=function(e,t,i,r){let a,o,s,c,l,u,d,h,f,p,m=0,g=0;const v=[],y=t+i-1,b=e[t].x,w=e[y].x-b;for(a=t;a<t+i;++a){o=e[a],s=(o.x-b)/w*r,c=o.y;const t=0|s;if(t===l)c<f?(f=c,u=a):c>p&&(p=c,d=a),m=(g*m+o.x)/++g;else{const i=a-1;if(!n(u)&&!n(d)){const t=Math.min(u,d),n=Math.max(u,d);t!==h&&t!==i&&v.push({...e[t],x:m}),n!==h&&n!==i&&v.push({...e[n],x:m})}a>0&&i!==h&&v.push(e[i]),v.push(o),l=t,g=0,f=p=c,u=d=h=a}}return v}(l,h,f,r);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}t._decimated=d}})},destroy(e){ia(e)}};function aa(e,t,n,i){if(i)return;let r=t[e],a=n[e];return"angle"===e&&(r=Z(r),a=Z(a)),{property:e,start:r,end:a}}function oa(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function sa(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function ca(e,t){let n=[],r=!1;return i(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:i=null}=e||{},r=t.points,a=[];return t.segments.forEach(({start:e,end:t})=>{t=oa(e,t,r);const o=r[e],s=r[t];null!==i?(a.push({x:o.x,y:i}),a.push({x:s.x,y:i})):null!==n&&(a.push({x:n,y:o.y}),a.push({x:n,y:s.y}))}),a}(e,t),n.length?new zr({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function la(e){return e&&!1!==e.fill}function ua(e,t,n){let i=e[t].fill;const r=[t];let o;if(!n)return i;for(;!1!==i&&-1===r.indexOf(i);){if(!a(i))return i;if(o=e[i],!o)return!1;if(o.visible)return i;r.push(i),i=o.fill}return!1}function da(e,t,n){const i=function(e){const t=e.options,n=t.fill;let i=s(n&&n.target,n);return void 0===i&&(i=!!t.backgroundColor),!1!==i&&null!==i&&(!0===i?"origin":i)}(e);if(r(i))return!isNaN(i.value)&&i;let o=parseFloat(i);return a(o)&&Math.floor(o)===o?function(e,t,n,i){return"-"!==e&&"+"!==e||(n=t+n),!(n===t||n<0||n>=i)&&n}(i[0],t,o,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function ha(e,t,n){const i=[];for(let r=0;r<n.length;r++){const a=n[r],{first:o,last:s,point:c}=fa(a,t,"x");if(!(!c||o&&s))if(o)i.unshift(c);else if(e.push(c),!s)break}e.push(...i)}function fa(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const r=i[n],a=e.segments,o=e.points;let s=!1,c=!1;for(let e=0;e<a.length;e++){const t=a[e],i=o[t.start][n],l=o[t.end][n];if(K(r,i,l)){s=r===i,c=r===l;break}}return{first:s,last:c,point:i}}class pa{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:i,y:r,radius:a}=this;return t=t||{start:0,end:L},e.arc(i,r,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:i}=this,r=e.angle;return{x:t+Math.cos(r)*i,y:n+Math.sin(r)*i,angle:r}}}function ma(e){const{chart:t,fill:n,line:i}=e;if(a(n))return function(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:i}=e,r=[],a=i.segments,o=i.points,s=function(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let e=0;e<i.length;e++){const r=i[e];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}(t,n);s.push(ca({x:null,y:t.bottom},i));for(let e=0;e<a.length;e++){const t=a[e];for(let e=t.start;e<=t.end;e++)ha(r,o[e],s)}return new zr({points:r,options:{}})}(e);if("shape"===n)return!0;const o=function(e){return(e.scale||{}).getPointPositionForValue?function(e){const{scale:t,fill:n}=e,i=t.options,a=t.getLabels().length,o=i.reverse?t.max:t.min,s=function(e,t,n){let i;return i="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:r(e)?e.value:t.getBaseValue(),i}(n,t,o),c=[];if(i.grid.circular){const e=t.getPointPositionForValue(0,o);return new pa({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(s)})}for(let e=0;e<a;++e)c.push(t.getPointPositionForValue(e,s));return c}(e):function(e){const{scale:t={},fill:n}=e,i=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:r(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(a(i)){const e=t.isHorizontal();return{x:e?i:null,y:e?null:i}}return null}(e)}(e);return o instanceof pa?o:ca(o,i)}function ga(e,t,n){const i=ma(t),{line:r,scale:a,axis:o}=t,s=r.options,c=s.fill,l=s.backgroundColor,{above:u=l,below:d=l}=c||{};i&&r.points.length&&(St(e,n),function(e,t){const{line:n,target:i,above:r,below:a,area:o,scale:s}=t,c=n._loop?"angle":t.axis;e.save(),"x"===c&&a!==r&&(va(e,i,o.top),ya(e,{line:n,target:i,color:r,scale:s,property:c}),e.restore(),e.save(),va(e,i,o.bottom)),ya(e,{line:n,target:i,color:a,scale:s,property:c}),e.restore()}(e,{line:r,target:i,above:u,below:d,area:n,scale:a,axis:o}),Mt(e))}function va(e,t,n){const{segments:i,points:r}=t;let a=!0,o=!1;e.beginPath();for(const s of i){const{start:i,end:c}=s,l=r[i],u=r[oa(i,c,r)];a?(e.moveTo(l.x,l.y),a=!1):(e.lineTo(l.x,n),e.lineTo(l.x,l.y)),o=!!t.pathSegment(e,s,{move:o}),o?e.closePath():e.lineTo(u.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function ya(e,t){const{line:n,target:i,property:r,color:a,scale:o}=t,s=function(e,t,n){const i=e.segments,r=e.points,a=t.points,o=[];for(const e of i){let{start:i,end:s}=e;s=oa(i,s,r);const c=aa(n,r[i],r[s],e.loop);if(!t.segments){o.push({source:e,target:c,start:r[i],end:r[s]});continue}const l=Mn(t,c);for(const t of l){const i=aa(n,a[t.start],a[t.end],t.loop),s=Sn(e,r,i);for(const e of s)o.push({source:e,target:t,start:{[n]:sa(c,i,"start",Math.max)},end:{[n]:sa(c,i,"end",Math.min)}})}}return o}(n,i,r);for(const{source:t,target:c,start:l,end:u}of s){const{style:{backgroundColor:s=a}={}}=t,d=!0!==i;e.save(),e.fillStyle=s,ba(e,o,d&&aa(r,l,u)),e.beginPath();const h=!!n.pathSegment(e,t);let f;if(d){h?e.closePath():wa(e,i,u,r);const t=!!i.pathSegment(e,c,{move:h,reverse:!0});f=h&&t,f||wa(e,i,l,r)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function ba(e,t,n){const{top:i,bottom:r}=t.chart.chartArea,{property:a,start:o,end:s}=n||{};"x"===a&&(e.beginPath(),e.rect(o,i,s-o,r-i),e.clip())}function wa(e,t,n,i){const r=t.interpolate(n,i);r&&e.lineTo(r.x,r.y)}var xa={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,r=[];let a,o,s,c;for(o=0;o<i;++o)a=e.getDatasetMeta(o),s=a.dataset,c=null,s&&s.options&&s instanceof zr&&(c={visible:e.isDatasetVisible(o),index:o,fill:da(s,o,i),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:s}),a.$filler=c,r.push(c);for(o=0;o<i;++o)c=r[o],c&&!1!==c.fill&&(c.fill=ua(r,o,n.propagate))},beforeDraw(e,t,n){const i="beforeDraw"===n.drawTime,r=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let t=r.length-1;t>=0;--t){const n=r[t].$filler;n&&(n.line.updateControlPoints(a,n.axis),i&&n.fill&&ga(e.ctx,n,a))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const i=e.getSortedVisibleDatasetMetas();for(let t=i.length-1;t>=0;--t){const n=i[t].$filler;la(n)&&ga(e.ctx,n,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;la(i)&&"beforeDatasetDraw"===n.drawTime&&ga(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const ka=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}};class Sa extends Ei{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=u(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,i=pn(n.font),r=i.size,a=this._computeTitleHeight(),{boxWidth:o,itemHeight:s}=ka(n,r);let c,l;t.font=i.string,this.isHorizontal()?(c=this.maxWidth,l=this._fitRows(a,r,o,s)+10):(l=this.maxHeight,c=this._fitCols(a,r,o,s)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(l,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,i){const{ctx:r,maxWidth:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],c=this.lineWidths=[0],l=i+o;let u=e;r.textAlign="left",r.textBaseline="middle";let d=-1,h=-l;return this.legendItems.forEach((e,f)=>{const p=n+t/2+r.measureText(e.text).width;(0===f||c[c.length-1]+p+2*o>a)&&(u+=l,c[c.length-(f>0?0:1)]=0,h+=l,d++),s[f]={left:0,top:h,row:d,width:p,height:i},c[c.length-1]+=p+o}),u}_fitCols(e,t,n,i){const{ctx:r,maxHeight:a,options:{labels:{padding:o}}}=this,s=this.legendHitBoxes=[],c=this.columnSizes=[],l=a-e;let u=o,d=0,h=0,f=0,p=0;return this.legendItems.forEach((e,a)=>{const m=n+t/2+r.measureText(e.text).width;a>0&&h+i+2*o>l&&(u+=d+o,c.push({width:d,height:h}),f+=d+o,p++,d=h=0),s[a]={left:f,top:h,col:p,width:m,height:i},d=Math.max(d,m),h+=i+o}),u+=d,c.push({width:d,height:h}),u}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:i},rtl:r}}=this,a=yn(r,this.left,this.width);if(this.isHorizontal()){let r=0,o=he(n,this.left+i,this.right-this.lineWidths[r]);for(const s of t)r!==s.row&&(r=s.row,o=he(n,this.left+i,this.right-this.lineWidths[r])),s.top+=this.top+e+i,s.left=a.leftForLtr(a.x(o),s.width),o+=s.width+i}else{let r=0,o=he(n,this.top+e+i,this.bottom-this.columnSizes[r].height);for(const s of t)s.col!==r&&(r=s.col,o=he(n,this.top+e+i,this.bottom-this.columnSizes[r].height)),s.top=o,s.left+=this.left+i,s.left=a.leftForLtr(a.x(s.left),s.width),o+=s.height+i}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;St(e,this),this._draw(),Mt(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:i}=this,{align:r,labels:a}=e,o=tt.color,c=yn(e.rtl,this.left,this.width),l=pn(a.font),{color:u,padding:d}=a,h=l.size,f=h/2;let p;this.drawTitle(),i.textAlign=c.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=l.string;const{boxWidth:m,boxHeight:g,itemHeight:v}=ka(a,h),y=this.isHorizontal(),b=this._computeTitleHeight();p=y?{x:he(r,this.left+d,this.right-n[0]),y:this.top+d+b,line:0}:{x:this.left+d,y:he(r,this.top+b+d,this.bottom-t[0].height),line:0},bn(this.ctx,e.textDirection);const w=v+d;this.legendItems.forEach((x,k)=>{i.strokeStyle=x.fontColor||u,i.fillStyle=x.fontColor||u;const S=i.measureText(x.text).width,M=c.textAlign(x.textAlign||(x.textAlign=a.textAlign)),C=m+f+S;let _=p.x,T=p.y;c.setWidth(this.width),y?k>0&&_+C+d>this.right&&(T=p.y+=w,p.line++,_=p.x=he(r,this.left+d,this.right-n[p.line])):k>0&&T+w>this.bottom&&(_=p.x=_+t[p.line].width+d,p.line++,T=p.y=he(r,this.top+b+d,this.bottom-t[p.line].height)),function(e,t,n){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const r=s(n.lineWidth,1);if(i.fillStyle=s(n.fillStyle,o),i.lineCap=s(n.lineCap,"butt"),i.lineDashOffset=s(n.lineDashOffset,0),i.lineJoin=s(n.lineJoin,"miter"),i.lineWidth=r,i.strokeStyle=s(n.strokeStyle,o),i.setLineDash(s(n.lineDash,[])),a.usePointStyle){const o={radius:g*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:r},s=c.xPlus(e,m/2);xt(i,o,s,t+f,a.pointStyleWidth&&m)}else{const a=t+Math.max((h-g)/2,0),o=c.leftForLtr(e,m),s=hn(n.borderRadius);i.beginPath(),Object.values(s).some(e=>0!==e)?Et(i,{x:o,y:a,w:m,h:g,radius:s}):i.rect(o,a,m,g),i.fill(),0!==r&&i.stroke()}i.restore()}(c.x(_),T,x),_=fe(M,_+m+f,y?_+C:this.right,e.rtl),function(e,t,n){Tt(i,n.text,e,t+v/2,l,{strikethrough:n.hidden,textAlign:c.textAlign(n.textAlign)})}(c.x(_),T,x),y?p.x+=C+d:p.y+=w}),wn(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=pn(t.font),i=fn(t.padding);if(!t.display)return;const r=yn(e.rtl,this.left,this.width),a=this.ctx,o=t.position,s=n.size/2,c=i.top+s;let l,u=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),l=this.top+c,u=he(e.align,u,this.right-d);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);l=c+he(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=he(o,u,u+d);a.textAlign=r.textAlign(de(o)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Tt(a,t.text,h,l,n)}_computeTitleHeight(){const e=this.options.title,t=pn(e.font),n=fn(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,i,r;if(K(e,this.left,this.right)&&K(t,this.top,this.bottom))for(r=this.legendHitBoxes,n=0;n<r.length;++n)if(i=r[n],K(e,i.left,i.left+i.width)&&K(t,i.top,i.top+i.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){return!("mousemove"!==e&&"mouseout"!==e||!t.onHover&&!t.onLeave)||!(!t.onClick||"click"!==e&&"mouseup"!==e)}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,o=(r=n,null!==(i=a)&&null!==r&&i.datasetIndex===r.datasetIndex&&i.index===r.index);a&&!o&&u(t.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!o&&u(t.onHover,[e,n,this],this)}else n&&u(t.onClick,[e,n,this],this);var i,r}}var Ma={id:"legend",_element:Sa,start(e,t,n){const i=e.legend=new Sa({ctx:e.ctx,options:n,chart:e});$n.configure(e,i,n),$n.addBox(e,i)},stop(e){$n.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;$n.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:a}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const o=e.controller.getStyle(n?0:void 0),s=fn(o.borderWidth);return{text:t[e.index].label,fillStyle:o.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(s.width+s.height)/4,strokeStyle:o.borderColor,pointStyle:i||o.pointStyle,rotation:o.rotation,textAlign:r||o.textAlign,borderRadius:0,datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Ca extends Ei{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=i(n.text)?n.text.length:1;this._padding=fn(n.padding);const a=r*pn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:i,right:r,options:a}=this,o=a.align;let s,c,l,u=0;return this.isHorizontal()?(c=he(o,n,r),l=t+e,s=r-n):("left"===a.position?(c=n+e,l=he(o,i,t),u=-.5*T):(c=r-e,l=he(o,t,i),u=.5*T),s=i-t),{titleX:c,titleY:l,maxWidth:s,rotation:u}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=pn(t.font),i=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:o,rotation:s}=this._drawArgs(i);Tt(e,t.text,0,0,n,{color:t.color,maxWidth:o,rotation:s,textAlign:de(t.align),textBaseline:"middle",translation:[r,a]})}}var _a={id:"title",_element:Ca,start(e,t,n){!function(e,t){const n=new Ca({ctx:e.ctx,options:t,chart:e});$n.configure(e,n,t),$n.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;$n.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;$n.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ta=new WeakMap;var La={id:"subtitle",start(e,t,n){const i=new Ca({ctx:e.ctx,options:n,chart:e});$n.configure(e,i,n),$n.addBox(e,i),Ta.set(e,i)},stop(e){$n.removeBox(e,Ta.get(e)),Ta.delete(e)},beforeUpdate(e,t,n){const i=Ta.get(e);$n.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ea={average(e){if(!e.length)return!1;let t,n,i=0,r=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();i+=e.x,r+=e.y,++a}}return{x:i/a,y:r/a}},nearest(e,t){if(!e.length)return!1;let n,i,r,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){const i=e[n].element;if(i&&i.hasValue()){const e=$(t,i.getCenterPoint());e<s&&(s=e,r=i)}}if(r){const e=r.tooltipPosition();a=e.x,o=e.y}return{x:a,y:o}}};function Ia(e,t){return t&&(i(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Aa(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Da(e,t){const{element:n,datasetIndex:i,index:r}=t,a=e.getDatasetMeta(i).controller,{label:o,value:s}=a.getLabelAndValue(r);return{chart:e,label:o,parsed:a.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:s,dataset:a.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function Wa(e,t){const n=e.chart.ctx,{body:i,footer:r,title:a}=e,{boxWidth:o,boxHeight:s}=t,c=pn(t.bodyFont),l=pn(t.titleFont),u=pn(t.footerFont),h=a.length,f=r.length,p=i.length,m=fn(t.padding);let g=m.height,v=0,y=i.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);y+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*l.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y&&(g+=p*(t.displayColors?Math.max(s,c.lineHeight):c.lineHeight)+(y-p)*c.lineHeight+(y-1)*t.bodySpacing),f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let b=0;const w=function(e){v=Math.max(v,n.measureText(e).width+b)};return n.save(),n.font=l.string,d(e.title,w),n.font=c.string,d(e.beforeBody.concat(e.afterBody),w),b=t.displayColors?o+2+t.boxPadding:0,d(i,e=>{d(e.before,w),d(e.lines,w),d(e.after,w)}),b=0,n.font=u.string,d(e.footer,w),n.restore(),v+=m.width,{width:v,height:g}}function Pa(e,t,n,i){const{x:r,width:a}=n,{width:o,chartArea:{left:s,right:c}}=e;let l="center";return"center"===i?l=r<=(s+c)/2?"left":"right":r<=a/2?l="left":r>=o-a/2&&(l="right"),function(e,t,n,i){const{x:r,width:a}=i,o=n.caretSize+n.caretPadding;return"left"===e&&r+a+o>t.width||"right"===e&&r-a-o<0||void 0}(l,e,t,n)&&(l="center"),l}function ja(e,t,n){const i=n.yAlign||t.yAlign||function(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||Pa(e,t,n,i),yAlign:i}}function qa(e,t,n,i){const{caretSize:r,caretPadding:a,cornerRadius:o}=e,{xAlign:s,yAlign:c}=n,l=r+a,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=hn(o);let p=function(e,t){let{x:n,width:i}=e;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,s);const m=function(e,t,n){let{y:i,height:r}=e;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,c,l);return"center"===c?"left"===s?p+=l:"right"===s&&(p-=l):"left"===s?p-=Math.max(u,h)+r:"right"===s&&(p+=Math.max(d,f)+r),{x:Q(p,0,i.width-t.width),y:Q(m,0,i.height-t.height)}}function Ra(e,t,n){const i=fn(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function Oa(e){return Ia([],Aa(e))}function Na(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}class Ha extends Ei{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new gi(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=(this,vn(this.chart.getContext(),{tooltip:this,tooltipItems:this._tooltipItems,type:"tooltip"})))}getTitle(e,t){const{callbacks:n}=t,i=n.beforeTitle.apply(this,[e]),r=n.title.apply(this,[e]),a=n.afterTitle.apply(this,[e]);let o=[];return o=Ia(o,Aa(i)),o=Ia(o,Aa(r)),o=Ia(o,Aa(a)),o}getBeforeBody(e,t){return Oa(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:n}=t,i=[];return d(e,e=>{const t={before:[],lines:[],after:[]},r=Na(n,e);Ia(t.before,Aa(r.beforeLabel.call(this,e))),Ia(t.lines,r.label.call(this,e)),Ia(t.after,Aa(r.afterLabel.call(this,e))),i.push(t)}),i}getAfterBody(e,t){return Oa(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:n}=t,i=n.beforeFooter.apply(this,[e]),r=n.footer.apply(this,[e]),a=n.afterFooter.apply(this,[e]);let o=[];return o=Ia(o,Aa(i)),o=Ia(o,Aa(r)),o=Ia(o,Aa(a)),o}_createItems(e){const t=this._active,n=this.chart.data,i=[],r=[],a=[];let o,s,c=[];for(o=0,s=t.length;o<s;++o)c.push(Da(this.chart,t[o]));return e.filter&&(c=c.filter((t,i,r)=>e.filter(t,i,r,n))),e.itemSort&&(c=c.sort((t,i)=>e.itemSort(t,i,n))),d(c,t=>{const n=Na(e.callbacks,t);i.push(n.labelColor.call(this,t)),r.push(n.labelPointStyle.call(this,t)),a.push(n.labelTextColor.call(this,t))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=a,this.dataPoints=c,c}update(e,t){const n=this.options.setContext(this.getContext()),i=this._active;let r,a=[];if(i.length){const e=Ea[n.position].call(this,i,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=Wa(this,n),o=Object.assign({},e,t),s=ja(this.chart,n,o),c=qa(n,o,s,this.chart);this.xAlign=s.xAlign,this.yAlign=s.yAlign,r={opacity:1,x:c.x,y:c.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(r={opacity:0});this._tooltipItems=a,this.$context=void 0,r&&this._resolveAnimations().update(this,r),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,i){const r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}getCaretPosition(e,t,n){const{xAlign:i,yAlign:r}=this,{caretSize:a,cornerRadius:o}=n,{topLeft:s,topRight:c,bottomLeft:l,bottomRight:u}=hn(o),{x:d,y:h}=e,{width:f,height:p}=t;let m,g,v,y,b,w;return"center"===r?(b=h+p/2,"left"===i?(m=d,g=m-a,y=b+a,w=b-a):(m=d+f,g=m+a,y=b-a,w=b+a),v=m):(g="left"===i?d+Math.max(s,l)+a:"right"===i?d+f-Math.max(c,u)-a:this.caretX,"top"===r?(y=h,b=y-a,m=g-a,v=g+a):(y=h+p,b=y+a,m=g+a,v=g-a),w=y),{x1:m,x2:g,x3:v,y1:y,y2:b,y3:w}}drawTitle(e,t,n){const i=this.title,r=i.length;let a,o,s;if(r){const c=yn(n.rtl,this.x,this.width);for(e.x=Ra(this,n.titleAlign,n),t.textAlign=c.textAlign(n.titleAlign),t.textBaseline="middle",a=pn(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,s=0;s<r;++s)t.fillText(i[s],c.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+o,s+1===r&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,i,a){const o=this.labelColors[n],s=this.labelPointStyles[n],{boxHeight:c,boxWidth:l,boxPadding:u}=a,d=pn(a.bodyFont),h=Ra(this,"left",a),f=i.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,m=t.y+p;if(a.usePointStyle){const t={radius:Math.min(l,c)/2,pointStyle:s.pointStyle,rotation:s.rotation,borderWidth:1},n=i.leftForLtr(f,l)+l/2,r=m+c/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,wt(e,t,n,r),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,wt(e,t,n,r)}else{e.lineWidth=r(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const t=i.leftForLtr(f,l-u),n=i.leftForLtr(i.xPlus(f,1),l-u-2),s=hn(o.borderRadius);Object.values(s).some(e=>0!==e)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,Et(e,{x:t,y:m,w:l,h:c,radius:s}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Et(e,{x:n,y:m+1,w:l-2,h:c-2,radius:s}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,m,l,c),e.strokeRect(t,m,l,c),e.fillStyle=o.backgroundColor,e.fillRect(n,m+1,l-2,c-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:i}=this,{bodySpacing:r,bodyAlign:a,displayColors:o,boxHeight:s,boxWidth:c,boxPadding:l}=n,u=pn(n.bodyFont);let h=u.lineHeight,f=0;const p=yn(n.rtl,this.x,this.width),m=function(n){t.fillText(n,p.x(e.x+f),e.y+h/2),e.y+=h+r},g=p.textAlign(a);let v,y,b,w,x,k,S;for(t.textAlign=a,t.textBaseline="middle",t.font=u.string,e.x=Ra(this,g,n),t.fillStyle=n.bodyColor,d(this.beforeBody,m),f=o&&"right"!==g?"center"===a?c/2+l:c+2+l:0,w=0,k=i.length;w<k;++w){for(v=i[w],y=this.labelTextColors[w],t.fillStyle=y,d(v.before,m),b=v.lines,o&&b.length&&(this._drawColorBox(t,e,w,p,n),h=Math.max(u.lineHeight,s)),x=0,S=b.length;x<S;++x)m(b[x]),h=u.lineHeight;d(v.after,m)}f=0,h=u.lineHeight,d(this.afterBody,m),e.y-=r}drawFooter(e,t,n){const i=this.footer,r=i.length;let a,o;if(r){const s=yn(n.rtl,this.x,this.width);for(e.x=Ra(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",a=pn(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,o=0;o<r;++o)t.fillText(i[o],s.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,i){const{xAlign:r,yAlign:a}=this,{x:o,y:s}=e,{width:c,height:l}=n,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=hn(i.cornerRadius);t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(o+u,s),"top"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+c-d,s),t.quadraticCurveTo(o+c,s,o+c,s+d),"center"===a&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(o+c,s+l-f),t.quadraticCurveTo(o+c,s+l,o+c-f,s+l),"bottom"===a&&this.drawCaret(e,t,n,i),t.lineTo(o+h,s+l),t.quadraticCurveTo(o,s+l,o,s+l-h),"center"===a&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(o,s+u),t.quadraticCurveTo(o,s,o+u,s),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){const n=Ea[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=Wa(this,e),o=Object.assign({},n,this._size),s=ja(t,e,o),c=qa(e,o,s,t);i._to===c.x&&r._to===c.y||(this.xAlign=s.xAlign,this.yAlign=s.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=fn(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),bn(e,t.textDirection),r.y+=a.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),wn(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,i=e.map(({datasetIndex:e,index:t})=>{const n=this.chart.getDatasetMeta(e);if(!n)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:n.data[t],index:t}}),r=!h(n,i),a=this._positionChanged(i,t);(r||a)&&(this._active=i,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],a=this._getActiveElements(e,r,t,n),o=this._positionChanged(a,e),s=t||!h(a,r)||o;return s&&(this._active=a,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}_getActiveElements(e,t,n,i){const r=this.options;if("mouseout"===e.type)return[];if(!i)return t;const a=this.chart.getElementsAtEventForMode(e,r.mode,r,n);return r.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:i,options:r}=this,a=Ea[r.position].call(this,e,t);return!1!==a&&(n!==a.x||i!==a.y)}}Ha.positioners=Ea;var Ba={id:"tooltip",_element:Ha,positioners:Ea,afterInit(e,t,n){n&&(e.tooltip=new Ha({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",n))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:e,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:e,beforeBody:e,beforeLabel:e,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const i=e.formattedValue;return n(i)||(t+=i),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:e,afterBody:e,beforeFooter:e,footer:e,afterFooter:e}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Fa=Object.freeze({__proto__:null,Decimation:ra,Filler:xa,Legend:Ma,SubTitle:La,Title:_a,Tooltip:Ba});class Va extends Hi{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:i}of t)e[n]===i&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(n(e))return null;const i=this.getLabels();return((e,t)=>null===e?null:Q(Math.round(e),0,t))(t=isFinite(t)&&i[t]===e?t:function(e,t,n,i){const r=e.indexOf(t);return-1===r?((e,t,n,i)=>("string"==typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,i):r!==e.lastIndexOf(t)?n:r}(i,e,s(t,e),this._addedLabels),i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,i=[];let r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let n=e;n<=t;n++)i.push({value:n});return i}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!=typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Ua(e,t,{horizontal:n,minRotation:i}){const r=V(i),a=(n?Math.sin(r):Math.cos(r))||.001,o=.75*t*(""+e).length;return Math.min(t/a,o)}Va.id="category",Va.defaults={ticks:{callback:Va.prototype.getLabelForValue}};class za extends Hi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return n(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this;const a=e=>i=t?i:e,o=e=>r=n?r:e;if(e){const e=q(i),t=q(r);e<0&&t<0?o(0):e>0&&t>0&&a(0)}if(i===r){let t=1;(r>=Number.MAX_SAFE_INTEGER||i<=Number.MIN_SAFE_INTEGER)&&(t=Math.abs(.05*r)),o(r+t),e||a(i-t)}this.min=i,this.max=r}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:i}=e;return i?(t=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r=function(e,t){const i=[],{bounds:r,step:a,min:o,max:s,precision:c,count:l,maxTicks:u,maxDigits:d,includeBounds:h}=e,f=a||1,p=u-1,{min:m,max:g}=t,v=!n(o),y=!n(s),b=!n(l),w=(g-m)/(d+1);let x,k,S,M,C=R((g-m)/p/f)*f;if(C<1e-14&&!v&&!y)return[{value:m},{value:g}];M=Math.ceil(g/C)-Math.floor(m/C),M>p&&(C=R(M*C/p/f)*f),n(c)||(x=Math.pow(10,c),C=Math.ceil(C*x)/x),"ticks"===r?(k=Math.floor(m/C)*C,S=Math.ceil(g/C)*C):(k=m,S=g),v&&y&&a&&B((s-o)/a,C/1e3)?(M=Math.round(Math.min((s-o)/C,u)),C=(s-o)/M,k=o,S=s):b?(k=v?o:k,S=y?s:S,M=l-1,C=(S-k)/M):(M=(S-k)/C,M=H(M,Math.round(M),C/1e3)?Math.round(M):Math.ceil(M));const _=Math.max(z(C),z(k));x=Math.pow(10,n(c)?_:c),k=Math.round(k*x)/x,S=Math.round(S*x)/x;let T=0;for(v&&(h&&k!==o?(i.push({value:o}),k<o&&T++,H(Math.round((k+T*C)*x)/x,o,Ua(o,w,e))&&T++):k<o&&T++);T<M;++T)i.push({value:Math.round((k+T*C)*x)/x});return y&&h&&S!==s?i.length&&H(i[i.length-1].value,s,Ua(s,w,e))?i[i.length-1].value=s:i.push({value:s}):y&&S!==s||i.push({value:S}),i}({maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&F(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-t)/Math.max(e.length-1,1)/2;t-=i,n+=i}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return on(e,this.chart.options.locale,this.options.ticks.format)}}class Ga extends za{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=a(e)?e:0,this.max=a(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=V(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}function $a(e){return 1==e/Math.pow(10,Math.floor(j(e)))}Ga.id="linear",Ga.defaults={ticks:{callback:Ai.formatters.numeric}};class Ya extends Hi{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=za.prototype.parse.apply(this,[e,t]);if(0!==n)return a(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=a(e)?Math.max(0,e):null,this.max=a(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,i=this.max;const r=t=>n=e?n:t,a=e=>i=t?i:e,o=(e,t)=>Math.pow(10,Math.floor(j(e))+t);n===i&&(n<=0?(r(1),a(10)):(r(o(n,-1)),a(o(i,1)))),n<=0&&r(o(i,-1)),i<=0&&a(o(n,1)),this._zero&&this.min!==this._suggestedMin&&n===o(this.min,0)&&r(o(n,-1)),this.min=n,this.max=i}buildTicks(){const e=this.options,t=function(e,t){const n=Math.floor(j(t.max)),i=Math.ceil(t.max/Math.pow(10,n)),r=[];let a=o(e.min,Math.pow(10,Math.floor(j(t.min)))),s=Math.floor(j(a)),c=Math.floor(a/Math.pow(10,s)),l=s<0?Math.pow(10,Math.abs(s)):1;do{r.push({value:a,major:$a(a)}),++c,10===c&&(c=1,++s,l=s>=0?1:l),a=Math.round(c*Math.pow(10,s)*l)/l}while(s<n||s===n&&c<i);const u=o(e.max,a);return r.push({value:u,major:$a(a)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&F(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":on(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=j(e),this._valueRange=j(this.max)-j(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(j(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Za(e){const t=e.ticks;if(t.display&&e.display){const e=fn(t.backdropPadding);return s(t.font&&t.font.size,tt.font.size)+e.height}return 0}function Ja(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Qa(e,t,n,i,r){const a=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let s=0,c=0;i.start<t.l?(s=(t.l-i.start)/a,e.l=Math.min(e.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/a,e.r=Math.max(e.r,t.r+s)),r.start<t.t?(c=(t.t-r.start)/o,e.t=Math.min(e.t,t.t-c)):r.end>t.b&&(c=(r.end-t.b)/o,e.b=Math.max(e.b,t.b+c))}function Xa(e){return 0===e||180===e?"center":e<180?"left":"right"}function Ka(e,t,n){return"right"===n?e-=t:"center"===n&&(e-=t/2),e}function eo(e,t,n){return 90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t),e}function to(e,t,n,i){const{ctx:r}=e;if(n)r.arc(e.xCenter,e.yCenter,t,0,L);else{let n=e.getPointPosition(0,t);r.moveTo(n.x,n.y);for(let a=1;a<i;a++)n=e.getPointPosition(a,t),r.lineTo(n.x,n.y)}}Ya.id="logarithmic",Ya.defaults={ticks:{callback:Ai.formatters.logarithmic,major:{enabled:!0}}};class no extends za{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=fn(Za(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=a(e)&&!isNaN(e)?e:0,this.max=a(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Za(this.options))}generateTickLabels(e){za.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=u(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?function(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],a=[],o=e._pointLabels.length,s=e.options.pointLabels,c=s.centerPointLabels?T/o:0;for(let h=0;h<o;h++){const o=s.setContext(e.getPointLabelContext(h));a[h]=o.padding;const f=e.getPointPosition(h,e.drawingArea+a[h],c),p=pn(o.font),m=(l=e.ctx,u=p,d=i(d=e._pointLabels[h])?d:[d],{w:vt(l,u.string,d),h:d.length*u.lineHeight});r[h]=m;const g=Z(e.getIndexAngle(h)+c),v=Math.round(U(g));Qa(n,t,g,Ja(v,f.x,m.w,0,180),Ja(v,f.y,m.h,90,270))}var l,u,d;e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const i=[],r=e._pointLabels.length,a=e.options,o=Za(a)/2,s=e.drawingArea,c=a.pointLabels.centerPointLabels?T/r:0;for(let a=0;a<r;a++){const r=e.getPointPosition(a,s+o+n[a],c),l=Math.round(U(Z(r.angle+D))),u=t[a],d=eo(r.y,u.h,l),h=Xa(l),f=Ka(r.x,u.w,h);i.push({x:r.x,y:d,textAlign:h,left:f,top:d,right:f+u.w,bottom:d+u.h})}return i}(e,r,a)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}getIndexAngle(e){return Z(e*(L/(this._pointLabels.length||1))+V(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(n(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(n(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return vn(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const i=this.getIndexAngle(e)-D+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:i,bottom:r}=this._pointLabelItems[e];return{left:t,top:n,right:i,bottom:r}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),to(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:i,grid:r}=t,a=this._pointLabels.length;let o,s,c;if(t.pointLabels.display&&function(e,t){const{ctx:i,options:{pointLabels:r}}=e;for(let a=t-1;a>=0;a--){const t=r.setContext(e.getPointLabelContext(a)),o=pn(t.font),{x:s,y:c,textAlign:l,left:u,top:d,right:h,bottom:f}=e._pointLabelItems[a],{backdropColor:p}=t;if(!n(p)){const e=hn(t.borderRadius),n=fn(t.backdropPadding);i.fillStyle=p;const r=u-n.left,a=d-n.top,o=h-u+n.width,s=f-d+n.height;Object.values(e).some(e=>0!==e)?(i.beginPath(),Et(i,{x:r,y:a,w:o,h:s,radius:e}),i.fill()):i.fillRect(r,a,o,s)}Tt(i,e._pointLabels[a],s,c+o.lineHeight/2,o,{color:t.color,textAlign:l,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((e,t)=>{0!==t&&(s=this.getDistanceFromCenterForValue(e.value),function(e,t,n,i){const r=e.ctx,a=t.circular,{color:o,lineWidth:s}=t;!a&&!i||!o||!s||n<0||(r.save(),r.strokeStyle=o,r.lineWidth=s,r.setLineDash(t.borderDash),r.lineDashOffset=t.borderDashOffset,r.beginPath(),to(e,n,a,i),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(t-1)),s,a))}),i.display){for(e.save(),o=a-1;o>=0;o--){const n=i.setContext(this.getPointLabelContext(o)),{color:r,lineWidth:a}=n;a&&r&&(e.lineWidth=a,e.strokeStyle=r,e.setLineDash(n.borderDash),e.lineDashOffset=n.borderDashOffset,s=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),c=this.getPointPosition(o,s),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let r,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((i,o)=>{if(0===o&&!t.reverse)return;const s=n.setContext(this.getContext(o)),c=pn(s.font);if(r=this.getDistanceFromCenterForValue(this.ticks[o].value),s.showLabelBackdrop){e.font=c.string,a=e.measureText(i.label).width,e.fillStyle=s.backdropColor;const t=fn(s.backdropPadding);e.fillRect(-a/2-t.left,-r-c.size/2-t.top,a+t.width,c.size+t.height)}Tt(e,i.label,0,-r,c,{color:s.color})}),e.restore()}drawTitle(){}}no.id="radialLinear",no.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ai.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}},no.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},no.descriptors={angleLines:{_fallback:"grid"}};const io={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ro=Object.keys(io);function ao(e,t){return e-t}function oo(e,t){if(n(t))return null;const i=e._adapter,{parser:r,round:o,isoWeekday:s}=e._parseOpts;let c=t;return"function"==typeof r&&(c=r(c)),a(c)||(c="string"==typeof r?i.parse(c,r):i.parse(c)),null===c?null:(o&&(c="week"!==o||!N(s)&&!0!==s?i.startOf(c,o):i.startOf(c,"isoWeek",s)),+c)}function so(e,t,n,i){const r=ro.length;for(let a=ro.indexOf(e);a<r-1;++a){const e=io[ro[a]],r=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(r*e.size))<=i)return ro[a]}return ro[r-1]}function co(e,t,n){if(n){if(n.length){const{lo:i,hi:r}=ee(n,t);e[n[i]>=t?n[i]:n[r]]=!0}}else e[t]=!0}function lo(e,t,n){const i=[],r={},a=t.length;let o,s;for(o=0;o<a;++o)s=t[o],r[s]=o,i.push({value:s,major:!1});return 0!==a&&n?function(e,t,n,i){const r=e._adapter,a=+r.startOf(t[0].value,i),o=t[t.length-1].value;let s,c;for(s=a;s<=o;s=+r.add(s,1,i))c=n[s],c>=0&&(t[c].major=!0);return t}(e,i,r,n):i}class uo extends Hi{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const n=e.time||(e.time={}),i=this._adapter=new gr._date(e.adapters.date);i.init(t),v(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:oo(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:s}=this.getUserBounds();function c(e){o||isNaN(e.min)||(i=Math.min(i,e.min)),s||isNaN(e.max)||(r=Math.max(r,e.max))}o&&s||(c(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||c(this.getMinMax(!1))),i=a(i)&&!isNaN(i)?i:+t.startOf(Date.now(),n),r=a(r)&&!isNaN(r)?r:+t.endOf(Date.now(),n)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,a=ie(i,r,this.max);return this._unit=t.unit||(n.autoSkip?so(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(let a=ro.length-1;a>=ro.indexOf(n);a--){const n=ro[a];if(io[n].common&&e._adapter.diff(r,i,n)>=t-1)return n}return ro[n?ro.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=ro.indexOf(e)+1,n=ro.length;t<n;++t)if(io[ro[t]].common)return ro[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&a.reverse(),lo(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t,n,i=0,r=0;this.options.offset&&e.length&&(t=this.getDecimalForValue(e[0]),i=1===e.length?1-t:(this.getDecimalForValue(e[1])-t)/2,n=this.getDecimalForValue(e[e.length-1]),r=1===e.length?n:(n-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;i=Q(i,0,a),r=Q(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){const e=this._adapter,t=this.min,n=this.max,i=this.options,r=i.time,a=r.unit||so(r.minUnit,t,n,this._getLabelCapacity(t)),o=s(r.stepSize,1),c="week"===a&&r.isoWeekday,l=N(c)||!0===c,u={};let d,h,f=t;if(l&&(f=+e.startOf(f,"isoWeek",c)),f=+e.startOf(f,l?"day":a),e.diff(n,t,a)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+a);const p="data"===i.ticks.source&&this.getDataTimestamps();for(d=f,h=0;d<n;d=+e.add(d,o,a),h++)co(u,d,p);return d!==n&&"ticks"!==i.bounds&&1!==h||co(u,d,p),Object.keys(u).sort((e,t)=>e-t).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,i){const r=this.options,a=r.time.displayFormats,o=this._unit,s=this._majorUnit,c=o&&a[o],l=s&&a[s],d=n[t],h=s&&l&&d&&d.major,f=this._adapter.format(e,i||(h?l:c)),p=r.ticks.callback;return p?u(p,[f,t,n],this):f}generateTickLabels(e){let t,n,i;for(t=0,n=e.length;t<n;++t)i=e[t],i.label=this._tickFormatFunction(i.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,i=V(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),o=this._resolveTickFontOptions(0).size;return{w:n*r+o*a,h:n*a+o*r}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,lo(this,[e],this._majorUnit),i),a=this._getLabelSize(r),o=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return o>0?o:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const i=this.getLabels();for(t=0,n=i.length;t<n;++t)e.push(oo(this,i[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return se(e.sort(ao))}}function ho(e,t,n){let i,r,a,o,s=0,c=e.length-1;n?(t>=e[s].pos&&t<=e[c].pos&&({lo:s,hi:c}=te(e,"pos",t)),({pos:i,time:a}=e[s]),({pos:r,time:o}=e[c])):(t>=e[s].time&&t<=e[c].time&&({lo:s,hi:c}=te(e,"time",t)),({time:i,pos:a}=e[s]),({time:r,pos:o}=e[c]));const l=r-i;return l?a+(o-a)*(t-i)/l:a}uo.id="time",uo.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};class fo extends uo{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=ho(t,this.min),this._tableRange=ho(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,i=[],r=[];let a,o,s,c,l;for(a=0,o=e.length;a<o;++a)c=e[a],c>=t&&c<=n&&i.push(c);if(i.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,o=i.length;a<o;++a)l=i[a+1],s=i[a-1],c=i[a],Math.round((l+s)/2)!==c&&r.push({time:c,pos:a/(o-1)});return r}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ho(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return ho(this._table,n*this._tableRange+this._minPos,!0)}}fo.id="timeseries",fo.defaults=uo.defaults;var po=Object.freeze({__proto__:null,CategoryScale:Va,LinearScale:Ga,LogarithmicScale:Ya,RadialLinearScale:no,TimeScale:uo,TimeSeriesScale:fo});return hr.register(Wr,po,ta,Fa),hr.helpers={...En},hr._adapters=gr,hr.Animation=pi,hr.Animations=gi,hr.animator=ge,hr.controllers=Fi.controllers.items,hr.DatasetController=Li,hr.Element=Ei,hr.elements=ta,hr.Interaction=jn,hr.layouts=$n,hr.platforms=di,hr.Scale=Hi,hr.Ticks=Ai,Object.assign(hr,Wr,po,ta,Fa,di),hr.Chart=hr,"undefined"!=typeof window&&(window.Chart=hr),hr})),void 0===MarketWatch)var MarketWatch=mw={};if(MarketWatch.ViewModes={ExtraLarge:4,Large:3,Medium:2,Small:1},MarketWatch.Events={viewModeChanged:"viewModeChanged"},MarketWatch.Squeaky=null!=window.location.search&&"function"==typeof window.location.search.indexOf&&window.location.search.indexOf("squeaky=clean")>0,function(){var e=[],t=!1;function n(){if(!t){t=!0;for(var n=0;n<e.length;n++)e[n].func.call(window,e[n].context);e=[]}}"interactive"===document.readyState||"complete"===document.readyState?setImmediate(n):document.addEventListener("DOMContentLoaded",n,!1),MarketWatch.ready=function(n,i){t?setImmediate((function(){n(i)})):e.push({func:n,context:i})}}(),function(){var callbacks=[],loaded=!1,getViewMode=function(){return MarketWatch.ViewModes[window.getComputedStyle(document.body,"::after").getPropertyValue("content").replace(/\"/g,"")]};function onLoad(){if(!loaded){loaded=!0;for(var e=0;e<callbacks.length;e++)callbacks[e].func.call(window,callbacks[e].context);callbacks=[]}}window.addEventListener("load",onLoad,!1),MarketWatch.load=function(e,t){loaded?setImmediate((function(){e(t)})):callbacks.push({func:e,context:t})},void 0!==docCookies&&(MarketWatch.getCookie=function(e){return docCookies.getItem(e)},MarketWatch.setCookie=function(e,t,n,i,r){return docCookies.setItem(e,t,n,i||"/",r||".marketwatch.com")}),MarketWatch.viewMode=getViewMode(),MarketWatch.load((function(){MarketWatch.viewMode=getViewMode(),window.addEventListener("resize",(function(){var e=getViewMode();MarketWatch.viewMode!==e&&(MarketWatch.viewMode=e,rebuildNavMenu(),window.dispatchEvent(new Event(MarketWatch.Events.viewModeChanged)))}))}));var dropmenu=document.querySelector("ul #j-nav__more"),menuElements=document.querySelector("ul.list.list--menu.j-list"),menus=menuElements&&menuElements.childNodes.length?menuElements.childNodes:null,btndropmenu=document.querySelector("ul.list.list--menu.j-list button"),isPicks=[...document.body.classList].includes("template--picks"),iTotal=0,iLastL,iLastEL,iFor;if(menus&&dropmenu)for(iFor=1;iFor<menus.length-2;iFor+=2){var item=menus[iFor];if(!item)break;if(iTotal+item.innerText.length>(isPicks?50:55)&&!iLastL&&(iLastL=iFor-2),iTotal+item.innerText.length>(isPicks?60:85)&&!iLastEL){iLastEL=iFor-2;break}iTotal+=item.innerText.length}rebuildNavMenu();var navMenu=document.querySelector("#nav__menu"),root,factory;function rebuildNavMenu(){if(menus&&dropmenu){if(MarketWatch.viewMode==MarketWatch.ViewModes.ExtraLarge){clearSelect();for(var e=iLastL;e<menus.length-2;e+=2){if(!(n=menus[e]))break;if(e>=iLastEL){n.style.display="none";var t=n.getAttribute("data-click-through");(i=document.createElement("a")).setAttribute("href",n.childNodes[0].href+(t?n.childNodes[0].href.indexOf("?")>-1?"&mod="+t:"?mod="+t:"")),i.textContent=n.childNodes[0].text,dropmenu.appendChild(i)}else n.style.display="block"}}if(MarketWatch.viewMode==MarketWatch.ViewModes.Large&&iLastL){clearSelect();for(e=iLastL;e<menus.length-2;e+=2){var n;if(!(n=menus[e]))break;n.style.display="none";var i;t=n.getAttribute("data-click-through");(i=document.createElement("a")).setAttribute("href",n.childNodes[0].href+(t?n.childNodes[0].href.indexOf("?")>-1?"&mod="+t:"?mod="+t:"")),i.textContent=n.childNodes[0].text,dropmenu.appendChild(i)}}btndropmenu&&(dropmenu.childElementCount>0?btndropmenu.parentElement.classList.remove("hidden"):btndropmenu.parentElement.classList.add("hidden"))}}function clearSelect(){for(;dropmenu.firstChild;)dropmenu.removeChild(dropmenu.lastChild)}navMenu&&navMenu.classList.toggle("fade-in"),btndropmenu&&btndropmenu.addEventListener("click",(function(e){dropmenu.classList.toggle("show"),menuElements.classList.toggle("overlfow-visible"),window.addEventListener("click",(function(e){var t=e.target.matches(".j-more__btn");if(!t){var n=document.querySelector("ul .more__dropdown.j-more__dropdown");n.classList.remove("show"),menuElements.classList.remove("overlfow-visible"),window.removeEventListener("click",arguments.callee)}}))})),MarketWatch.showPerf=function(){performance.getEntries().forEach((function(e){"mark"!==e.entryType&&"paint"!==e.entryType||console.log("perf "+e.name+" start "+e.startTime+" duration "+e.duration)}))},MarketWatch.showBrowserUpgradeMessage=function(){if(MarketWatch.Lightbox&&MarketWatch.Lightbox.Open){var e=document.querySelector(".j-browserUpgradeMessage");e&&MarketWatch.Lightbox.Open(e)}},MarketWatch.load((function(){try{eval('class BrowserUpgradeTest extends Array{constructor(j="a",...c){const q=(({u:e})=>{return{[`s${c}`]:Symbol(j)}})({});super(j,q,...c)}}new Promise(f=>{const a=function*(){return true};for(let vre of a()){const[uw,as,he,re]=[new Set,new WeakSet,new Map,new WeakMap];break} f(new Proxy({},{get:(han,h)=>h in han?han[h]:"42".repeat(8)}))}).then(bi=>new BrowserUpgradeTest(bi.rd));')}catch(e){MarketWatch.showBrowserUpgradeMessage()}})),__ace("djcmp","getRegulationLinkRenderer",e=>{const t=__ace("djcmp","getRegulationLinkConfigurations");new e(t);new e(t).render()}),window.FontFaceObserver&&(window.document.documentElement.classList.contains("icons-loaded")||new window.FontFaceObserver("icons").load("").then((function(){window.document.documentElement.classList.add("icons-loaded"),window.enhance&&window.enhance.cookie&&window.enhance.cookie("icons-loaded",!0,7)}))),root=this,factory=function(){"use strict";return function(e,t){var n;return function(){var i=this,r=arguments;clearTimeout(n),n=setTimeout((function(){e.apply(i,r)}),t)}}},"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?module.exports=factory():root.debounce=factory()}(),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.Tracking&&(MarketWatch.Tracking={}),MarketWatch.Tracking.trackPage=function(e){window.utag&&"object"==typeof window.utag_dataOriginal&&utag.view(Object.assign({},utag_dataOriginal,e))},MarketWatch.Tracking.trackSelect=function(e){if(e&&e.target){var t=e.target.querySelector("option[value="+this.value+"]"),n=t&&t.dataset&&(t.dataset.trackPayload||t.dataset.trackCode)?t.dataset:null;if(n||(n=e.target.dataset),n&&(n.trackPayload||n.trackCode)){var i=n.trackPayload,r=n.trackCode;if(window.utag)if(i)try{utag.link(MarketWatch.Tracking.replacePageValues(JSON.parse(i)))}catch(e){}else r&&utag.link({link_text:MarketWatch.Tracking.replacePageValues(r)})}}},MarketWatch.Tracking.trackClick=function(e){function t(e){var t={};if(["trackCode","trackPayload","trackSocial"].forEach((function(i){var r;e&&e.dataset[i]?t[i]=e.dataset[i]:n&&n.dataset[i]&&(r=n.dataset[i].split("|"),t[i]=r.length>o?r[o]:"")})),window.utag)if(t.trackPayload)try{utag.link(MarketWatch.Tracking.replacePageValues(JSON.parse(t.trackPayload)))}catch(e){}else t.trackCode&&(t.trackSocial?utag.link({event_name:"social_share",social_share_type:t.trackSocial}):utag.link({link_text:MarketWatch.Tracking.replacePageValues(t.trackCode)}))}var n=this;if(n.dataset)if(n.dataset.trackQuery)for(var i=n.dataset.trackQuery.split("|"),r=e.target,a=!1;!a&&r&&r[MarketWatch.Utility.matchesFnName];){for(var o=0;o<i.length;o++)if(r[MarketWatch.Utility.matchesFnName](i[o])){t(r),a=!0;break}r==this?a=!0:r=r.parentElement}else""===n.dataset.trackQuery&&t(n)},MarketWatch.Tracking.trackLink=function(e){window.utag&&e&&("string"==typeof e?utag.link({link_text:MarketWatch.Tracking.replacePageValues(e)}):"object"==typeof e&&e.constructor==Object&&utag.link(MarketWatch.Tracking.replacePageValues(e)))},MarketWatch.Tracking.clickThrough=function(e){for(var t=void 0!==MarketWatch.Settings&&void 0!==MarketWatch.Settings.endpoints&&void 0!==MarketWatch.Settings.endpoints.siteroot?MarketWatch.Settings.endpoints.siteroot:"https://www.marketwatch.com",n=(e||document).querySelectorAll("[data-click-through],[data-force-click-through]"),i=0;i<n.length;i++){var r=n[i].getAttribute("data-force-click-through")||n[i].getAttribute("data-click-through");if(r)for(var a,o=n[i].hasAttribute("data-force-click-through"),s=n[i].querySelectorAll('a[href^="'+t+'"]'),c=n[i].querySelector(".subNav"),l=0;l<s.length;l++)a=s[l].getAttribute("href"),"Watchlist"===s[l].innerText&&c&&c.contains(s[l])?s[l].setAttribute("href",MarketWatch.Tracking.appendMod(a,"side_nav_randt",o)):s[l].setAttribute("href",MarketWatch.Tracking.appendMod(a,r,o))}},MarketWatch.Tracking.appendMod=function(e,t,n){return"string"!=typeof e||!n&&/[?&]mod=/i.test(e)?e:e+(e.indexOf("?")>=0?"&":"?")+"mod="+encodeURIComponent(t)},MarketWatch.Tracking.replacePageValues=function(e){var t=/{.+?}/g,n=window.trackingPageInfo;if(!n||"object"!=typeof n||!e)return e;var i=function(e){var t=e.substring(1,e.length-1);return void 0!==n[t]?n[t]:e};if("string"==typeof e)return e.replace(t,i);if("object"==typeof e){var r=Object.assign({},e);return Object.getOwnPropertyNames(r).forEach((function(e){"string"==typeof r[e]&&(r[e]=r[e].replace(t,i))})),r}return e},MarketWatch.Tracking.registerClickEvents=function(e){var t=(e||document).querySelectorAll("[data-track-query]");for(var n=0;n<t.length;n++)t[n].addEventListener("click",MarketWatch.Tracking.trackClick)},MarketWatch.Tracking.unregisterClickEvents=function(e){for(var t=(e||document).querySelectorAll("[data-track-query]"),n=0;n<t.length;n++)t[n].removeEventListener("click",MarketWatch.Tracking.trackClick)},MarketWatch.Tracking.registerSelectEvents=function(e){for(var t=(e||document).querySelectorAll("select[track]"),n=0;n<t.length;n++)t[n].addEventListener("change",MarketWatch.Tracking.trackSelect)},MarketWatch.Tracking.unregisterSelectEvents=function(e){for(var t=(e||document).querySelectorAll("select[track]"),n=0;n<t.length;n++)t[n].removeEventListener("change",MarketWatch.Tracking.trackSelect)},MarketWatch.Tracking.registerAllEvents=function(e){MarketWatch.Tracking.registerClickEvents(e),MarketWatch.Tracking.registerSelectEvents(e)},MarketWatch.Tracking.unregisterAllEvents=function(e){MarketWatch.Tracking.unregisterClickEvents(e),MarketWatch.Tracking.unregisterSelectEvents(e)},MarketWatch.Tracking.trackHover=function(){if(this.dataset){var e=this.dataset.trackHover;window.utag.link({link_text:e})}},MarketWatch.Tracking.bindHovering=function(e){e.addEventListener("mouseenter",MarketWatch.Tracking.trackHover)},MarketWatch.Tracking.registerHoverEvents=function(e){for(var t=(e||document).querySelectorAll("[data-track-hover]"),n=0;n<t.length;n++)MarketWatch.Tracking.bindHovering(t[n])},MarketWatch.ready((function(){MarketWatch.Tracking.clickThrough(),MarketWatch.Tracking.registerClickEvents(),MarketWatch.Tracking.registerSelectEvents(),MarketWatch.Tracking.registerHoverEvents(),document.addEventListener("lazybeforeunveil",(function(e){var t=e.target;window.utag&&t&&t.dataset&&t.dataset.trackLazy&&utag.link({link_text:t.dataset.trackLazy})}))})),MarketWatch.Settings={ajaxMaxTimeout:5e3,michelangeloAmbience:"MuxPublicSecure",endpoints:{autocomplete:"https://api.wsj.net/api/autocomplete/search",mux:"https://api.wsj.net",bluegrass:"https://mwstream.wsj.net/bg2",video:{api:"https://video-api.wsj.com/api-video/",js:"player/v3/js/video.min.js",css:"player/v3/css/video.min.css",version:"3.0.3"},audio:{api:"https://video-api.wsj.com/api-video/",js:"audio/js/audioplayer.min.js",css:"audio/css/audioplayer.min.css"},siteroot:"https://www.marketwatch.com",authjs:"https://accounts.marketwatch.com/assets/sso-auth.js",identityLoginUrl:"https://www.marketwatch.com/client/login?target=",oskarUrl:"https://api.marketwatch.com",registrationUrl:"https://customercenter.marketwatch.com/register",signupUrl:"/sign-up",vseSignupUrl:"https://register.marketwatch.com/register?type=mw-vse",spotIM:{ssoPath:"/news/commenting/spotim/login"},chiclet:"https://api.mktw.dowjones.io/chiclet/v1",submitter:"https://api.mktw.dowjones.io/submitter/v1",vseApiRoot:"https://vse-api.marketwatch.com"},entitlementToken:"cecc4267a0194af89ca343805a3e57af",cKey:"cecc4267a0",flipsideKey:"e9433ec0-7017-428b-9c0b-97f14f359d5b",snare:{nativeIds:[869413]},spotImToken:"sp_ekXntyLk",cloudVsePath:"games"},MarketWatch.Utility={fragmentFromString:function(e){return document.createRange().createContextualFragment(e)},outerHTML:function(e){return e.outerHTML||(t=e,(i=document.createElement("div")).appendChild(t.cloneNode(!0)),n=i.innerHTML,i=null,n);var t,n,i},throttle:function(e,t,n){var i,r;return t||(t=250),function(){var a=n||this,o=+new Date,s=arguments;i&&o<i+t?(clearTimeout(r),r=setTimeout((function(){i=o,e.apply(a,s)}),t)):(i=o,e.apply(a,s))}},monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],formatDate:function(e){var t=this.convertToExchangeTime((new Date).getTime()),n=this.convertToExchangeTime(e.getTime()),i=n.getHours(),r=n.getMinutes(),a=i>=12?"p":"a",o=(i=(i%=12)||12)+":"+(r=r<10?"0"+r:r)+a;return t.getDate()>n.getDate()?("0"+(n.getMonth()+1)).slice(-2)+"/"+("0"+n.getDate()).slice(-2):o},convertToExchangeTime:function(e,t){if(!e||null===e)return null;void 0!==t?t+=_userOffset:t=0;var n=parseInt(e);return isNaN(n)&&(e=e.indexOf("-")>=0||e.indexOf("+")>=0?e.substring(6,e.length-7):e.substring(6,e.length-2),n=parseInt(e)),n+=36e5*t,new Date(n)},prettyDate:function(e,t){"object"!=typeof e&&(e=this.convertToExchangeTime(e,t));var n,i=[[60,"Just Now"],[90,"1 Minute"],[3600,"Minutes",60],[5400,"1 Hour"],[86400,"Hours",3600],[129600,"1 Day"],[604800,"Days",86400],[907200,"1 Week"],[2628e3,"Weeks",604800],[3942e3,"1 Month"],[31536e3,"Months",2628e3],[47304e3,"1 Year"],[31536e5,"Years",31536e3],[47304e5,"1 Century"]],r=(new Date-e)/1e3,a=" Ago",o=0;for(r<0&&(r=Math.abs(r),a="");n=i[o++];)if(r<n[0])return 2==n.length?n[1]+(o>1?a:""):Math.round(r/n[2])+" "+n[1]+(o>1?a:"");return r>47304e5?Math.round(r/47304e5)+" Centuries"+a:date_str},scrollbarSize:function(){var e=document.getElementsByTagName("body")[0],t=document.createElement("div");t.style.cssText="width:50px;height:50px;overflow-y:scroll;position:absolute;top:-200px;left:-200px;",e.appendChild(t);var n=t.offsetWidth-t.clientWidth;return e.removeChild(t),n}(),matchesFnName:function(){return this.matchesFnName&&""===this.matchesFnName||["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some((function(e){return"function"===(typeof document.body[e]).toLowerCase()&&(this.matchesFnName=e,!0)})),this.matchesFnName}(),isTouch:("ontouchstart"in window||null!==document.querySelector("meta[name=mobile]"))&&(document.getElementsByTagName("body")[0].classList.add("is-touch"),!0),menuCloseTimeout:null},MarketWatch.Utility.closest=function(e,t){try{for(var n=null;null!==e;){if(null!==(n=e.parentElement)&&n[MarketWatch.Utility.matchesFnName](t))return n;e=n}}catch(n){console&&console.error("MarketWatch.Utility.closest Exception :: ",{exception:n,el:e,selector:t,parent:e.parentElement})}return null},MarketWatch.Utility.check_webp_feature=function(e,t){var n=new Image;n.onload=function(){var i=n.width>0&&n.height>0;t(e,i)},n.onerror=function(){t(e,!1)},n.src="data:image/webp;base64,"+{animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[e]},MarketWatch.Utility.getQueryString=function(){var e=window.location.search.substr(1).split("&");if(""==e)return{};for(var t={},n=0;n<e.length;++n){var i=e[n].split("=",2);1==i.length?t[i[0].toLowerCase()]="":i.length>1&&(t[i[0].toLowerCase()]=decodeURIComponent(i[1].replace(/\+/g," ")))}return t},function(){var e=Object.create(window.HTMLElement.prototype);e.handleClickDown=function(){var e=this.scrollElement.offsetTop-this.clickHeightChange;this.scrollElement.offsetHeight<=this.scrollViewport.offsetHeight?e=0:this.scrollElement.offsetHeight- -1*e<this.scrollViewport.offsetHeight&&(e=this.scrollViewport.offsetHeight-this.scrollElement.offsetHeight),this.scrollElement.offsetTop!=e&&(this.scrollElement.style.top=e+"px")},e.handleClickUp=function(){var e=this.scrollElement.offsetTop+this.clickHeightChange;e>0&&(e=0),this.scrollElement.offsetTop!=e&&(this.scrollElement.style.top=e+"px")},e.holdNextDown=function(){this.actionTimeout&&clearTimeout(this.actionTimeout),this.handleClickDown(),this.actionTimeout=setTimeout(this.holdNextDown.bind(this),190)},e.holdPreviousDown=function(){this.actionTimeout&&clearTimeout(this.actionTimeout),this.handleClickUp(),this.actionTimeout=setTimeout(this.holdPreviousDown.bind(this),190)},e.onNextDown=function(e){this.actionTimeout&&clearTimeout(this.actionTimeout),this.holdNextDown()},e.onPreviousDown=function(e){this.actionTimeout&&clearTimeout(this.actionTimeout),this.holdPreviousDown()},e.onDoneScrolling=function(e){this.actionTimeout&&clearTimeout(this.actionTimeout)},e.handleMouseWheel=function(e){var t=e.deltaY;this._naturalScroll||(t<0?this.handleClickUp():t>0&&this.handleClickDown())},e.attachedCallback=function(){var e=this;this._naturalScroll=!1,this.classList.contains("j-scrollViewport")?this.scrollViewport=this:this.scrollViewport=this.querySelector(".j-scrollViewport"),this.scrollElement=this.querySelector(".j-scrollElement"),this.scrollViewport&&this.scrollElement&&(null!=this.getAttribute("natural")&&(this._naturalScroll=!0),this._naturalScroll||(this.scrollElement.getAttribute("data-scroll-by")?this.clickHeightChange=Number(this.scrollElement.getAttribute("data-scroll-by")):this.querySelector(".j-scrollByElement")?this.clickHeightChange=this.querySelector(".j-scrollByElement").offsetHeight:this.clickHeightChange=this.scrollViewport.offsetHeight/4,this.querySelector(".js-scroll-down")&&(this.querySelector(".js-scroll-down").addEventListener("mousedown",this.onNextDown.bind(this)),this.querySelector(".js-scroll-down").addEventListener("mouseup",this.onDoneScrolling.bind(this)),this.querySelector(".js-scroll-down").addEventListener("mouseleave",this.onDoneScrolling.bind(this))),this.querySelector(".js-scroll-up")&&(this.querySelector(".js-scroll-up").addEventListener("mousedown",this.onPreviousDown.bind(this)),this.querySelector(".js-scroll-up").addEventListener("mouseup",this.onDoneScrolling.bind(this)),this.querySelector(".js-scroll-up").addEventListener("mouseleave",this.onDoneScrolling.bind(this))),this.overScrollViewport=!1,window.addEventListener("wheel",(function(t){return!!e._naturalScroll||(e.overScrollViewport?(t.preventDefault&&t.preventDefault(),t.returnValue=!1,!1):void 0)}))),this.scrollViewport.addEventListener("mouseover",(function(t){e.overScrollViewport=!0,window.allowScroll=!0})),this.scrollViewport.addEventListener("mouseleave",(function(t){e.overScrollViewport=!1,window.allowScroll=!0})),this.scrollViewport.addEventListener("wheel",MarketWatch.Utility.throttle(e.handleMouseWheel.bind(e),150)))},window.ScrollableElement||(window.ScrollableElement=document.registerElement("mw-scrollable",{prototype:e}))}(),function(){setInterval((function(){var e=document.querySelectorAll(".container--curated .has-chart picture");if(null!=e&&e.length>0){var t=((new Date).getTime()/3e5).toFixed(0);Array.prototype.forEach.call(e,(function(e){if(null!=e){var n=e.querySelectorAll("source"),i=e.querySelector("img"),r=document.createElement("img");r.setAttribute("alt",i.getAttribute("alt")),r.setAttribute("sizes",i.getAttribute("sizes")),null!=n&&n.length>0&&Array.prototype.forEach.call(n,(function(e){var n=document.createElement("source"),i=e.getAttribute("srcset");i&&i.length>0&&e.setAttribute("srcset",i.replace(/\.png\??\d* /g,".png?"+t+" "));var r=e.getAttribute("media");r&&r.length>0&&n.setAttribute("media",r)})),i.remove(),e.appendChild(r)}}))}}),3e5);void 0===MarketWatch.Charts&&(MarketWatch.Charts={isLoading:!1,isLoaded:!1,chartJS:enhance.getMeta("chartjs"),callbacks:[]}),MarketWatch.Charts.loadChartJS=function(e){MarketWatch.Charts.isLoaded?e():(MarketWatch.Charts.callbacks.push(e),MarketWatch.Charts.isLoading||(MarketWatch.Charts.isLoading=!0,null!==MarketWatch.Charts.chartJS&&null!==MarketWatch.Charts.chartJS.content?enhance.loadJS(MarketWatch.Charts.chartJS.content,(function(){MarketWatch.Charts.isLoaded=!0;var e=MarketWatch&&MarketWatch.Settings&&MarketWatch.Settings.michelangeloAmbience?MarketWatch.Settings.michelangeloAmbience:"MuxPublicSecure";Highcharts.setOptions({lang:{thousandsSep:","}}),Michelangelo.ambience(new Michelangelo.Environment({key:"CustomMux",name:"Mux (custom)",url:"https://api.wsj.net/api/michelangelo/timeseries/history",apiRootUrl:"https://api.wsj.net/api/michelangelo",uiRootUrl:"https://api.wsj.net/ui/michelangelo",canUseCustomHeaders:!0,canUsePost:!0}),"cecc4267a0194af89ca343805a3e57af"),Michelangelo.enableDebug(),MichelangeloYieldCurve&&MichelangeloYieldCurve.ambience(e,"cecc4267a0194af89ca343805a3e57af");for(var t=0;t<MarketWatch.Charts.callbacks.length;t++)MarketWatch.Charts.callbacks[t]();MarketWatch.Charts.callbacks=[]})):console.log("ChartJS meta not found")))}}(),window.enhance.loadJS(MarketWatch.Settings.endpoints.authjs,(function(){window.onLoginStateChange=function(){(MarketWatch&&MarketWatch.Video&&!MarketWatch.Video.active||!MarketWatch)&&document.location.reload()}})),void 0===MarketWatch.MarketOverview&&(MarketWatch.MarketOverview={}),MarketWatch.MarketOverview.initialize=function(){var e=document.querySelector(".j-dropdown--thin-markets"),t=document.querySelector(".j-dropdown--expanded-markets");e&&MarketWatch.MarketOverview.registerThinOverviewEvents(),t&&MarketWatch.MarketOverview.registerExpandedOverviewEvents()},MarketWatch.MarketOverview.registerThinOverviewEvents=function(){var e=document.querySelector(".j-dropdown--thin-markets");e&&e.addEventListener("change",(function(){this&&this.value&&function(t){if(null!=t){var n=e.dataset.sectionTrackingTag;fetchHTML({url:"/api/marketoverview/type/"+t+"?headerType=thin&sectionTrackingTag="+encodeURIComponent(n)}).then((function(e){document.querySelector(".j-thin-dynamic-container").innerHTML=e}))}}(this.value)})),"us"==document.querySelector(".group--markets").dataset.market&&(e.selectedIndex=0)},MarketWatch.MarketOverview.registerExpandedOverviewEvents=function(){var e=document.querySelector(".j-dropdown--expanded-markets"),t=MarketWatch.Utility.isTouch,n=e.querySelectorAll(".j-option"),i=e.dataset.sectionTrackingTag,r=Array.prototype.slice.call(n);r.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),function(e,t){if(!e.classList.contains("is-selected")){var n="/api/marketoverview/type/"+e.textContent;t&&(n=n+"?headerType=expanded&sectionTrackingTag="+encodeURIComponent(t)),fetchHTML({url:n}).then((function(t){!function(e,t){e.forEach((function(e){e.classList.remove("is-selected")})),t.classList.add("is-selected")}(r,e),document.querySelector(".markets__group").innerHTML=t,l();var n=document.querySelector(".markets__group tr.index");n&&n.dataset&&n.dataset.chartingSymbol&&d(n.dataset.chartingSymbol)}))}}(e,i)}))}));var a=null;function o(){var e=this,t=null;e&&e.dataset&&e.dataset.chartingSymbol&&(t=e.dataset.chartingSymbol),null!=t&&t!==v&&(a=setTimeout((function(){var n=document.querySelector(".markets__group tr.is-active");n&&n.classList.remove("is-active"),e.classList.add("is-active"),d(t)}),250))}function s(){null!=a&&clearTimeout(a)}function c(e){var t=null;if(this.dataset&&this.dataset.chartingSymbol&&(t=this.dataset.chartingSymbol),MarketWatch.viewMode<=MarketWatch.ViewModes.Medium||null!=t&&t===v);else{e.preventDefault(),d(t);var n=document.querySelector(".markets__group tr.is-active");n&&n.classList.remove("is-active"),this.classList.add("is-active")}}function l(){var e=document.querySelectorAll(".markets__group tr.index");if(e&&e.length>0)for(var n=0;n<e.length;n++)t?e[n].addEventListener("click",c):(e[n].addEventListener("mouseenter",o),e[n].addEventListener("mouseleave",s))}function u(){var e=document.querySelector(".dropdown--markets");e&&e.addEventListener("change",(function(){this&&this.value&&function(e){if(e!==y){if(y=e,p.timeFrame=e,p.step=w[e].step,b.highchartsStyles.xAxis.tickInterval=w[e].tickInterval||null,b.highchartsStyles.xAxis.labels.formatter=w[e].formatter,"D1"===y){var t=_.cloneDeep(Michelangelo.MetaData.OpenHighLowLines);_.forEach(t.parameters,(function(e){e.defaultValue=_.includes(["ShowPriorClose"],e.name)})),p.series[0].addIndicator(new Michelangelo.Indicator(t))}else p.series[0].indicators.length=0;m.render()}}(this.value)}))}function d(e){if(e&&e.length>0){v=e,p.series&&(p.series.length=0);var t=new Michelangelo.TickerSeries;if(t.setTicker(e),t.chartType="line",p.addSeries(t),"D1"===y){var n=_.cloneDeep(Michelangelo.MetaData.OpenHighLowLines);_.forEach(n.parameters,(function(e){e.defaultValue=_.includes(["ShowPriorClose"],e.name)})),t.addIndicator(new Michelangelo.Indicator(n))}m.render()}}function h(){return Highcharts.dateFormat("%b %y",this.value)}var f=document.querySelector(".markets__group tr.index"),p=null,m=null,g=!1,v=null,y="D1",b={},w={D1:{step:"PT5M",track:"1D",formatter:function(){return Highcharts.dateFormat("%l:%M%P",this.value).replace(":00","")}},D5:{step:"PT5M",track:"5D",formatter:function(){return Highcharts.dateFormat("%a",this.value)}},P29D:{step:"P1D",track:"1M",formatter:function(){return Highcharts.dateFormat("%b %e",this.value)}},P3M:{step:"P1D",track:"3M",formatter:h},P6M:{step:"P1D",track:"6M",formatter:h},P1Y:{step:"P1D",track:"1Y",formatter:h},P2Y:{step:"P7D",track:"2Y",formatter:h}},x=function(){l(),u(),f.classList.add("is-active"),currentSymbol=f.dataset.chartingSymbol,(p=new Michelangelo.ChartDefinition).timeFrame=y,p.step=w[y].step,p.xAxisCompressed=!0,p.useExtendedTimeFrame=!0,p.filterNullSlots=!1,p.includeOfficialClose=!0,p.includeMockTick=!0,p.wantPriorClose=!0;var e=new Michelangelo.TickerSeries;if(e.setTicker(currentSymbol),e.chartType="line",p.addSeries(e),"D1"===y){var t=_.cloneDeep(Michelangelo.MetaData.OpenHighLowLines);_.forEach(t.parameters,(function(e){e.defaultValue=_.includes(["ShowPriorClose"],e.name)})),e.addIndicator(new Michelangelo.Indicator(t))}b={highchartsStyles:{tooltip:{enabled:!0,crosshairs:!0,backgroundColor:null,borderColor:null,borderWidth:0,positioner:function(){return{x:0,y:0}}},colors:["rgb(136, 184, 227)","rgb(100, 131, 131)","rgb(218, 178, 108)","rgb(184, 192, 192)","rgb(87, 158, 137)"],chart:{backgroundColor:"#FFF",plotBackgroundColor:"#FFF",plotBorderColor:"#FFF",plotBorderWidth:0,spacing:[0,0,0,0],margin:[1,1,15,1]},plotOptions:{line:{connectNulls:!0,states:{hover:{lineWidth:2}}}},xAxis:{alternateGridColor:"#F8F8F8",title:{text:null},labels:{style:{color:"#5a5e61","font-size":"10px"},y:12,formatter:w[y].formatter},lineWidth:0,tickLength:0,tickPixelInterval:60},yAxis:{gridLineColor:"#E4E4E4",gridLineWidth:1,maxPadding:.08,title:{text:null},labels:{style:{"font-size":"10px",color:"#5a5e61",width:"30px"},x:-3}}},aggregateStyles:{OpenHighLowLines:{high:{color:"#00b742"},low:{color:"#cd2232",width:1},priorClose:{color:"#F6D89E"}}}},(m=$("#market-overview-chart").presentation({bluegrassClient:new Michelangelo.BlueGrassClient(BlueGrass2.Runtime)})).size({width:"fill",height:"fill"}).def(p).style(b).tooltipFormatter(new Michelangelo.ToolTipFormatter).render();var n=document.querySelector(".markets__chart");n&&n.classList.add("is-loaded"),g=!0},k=function(){return MarketWatch.viewMode>MarketWatch.ViewModes.Medium&&!1===g&&(f&&f.dataset.chartingSymbol&&f.dataset.chartingSymbol.length>0&&MarketWatch.Charts.loadChartJS(x),window.removeEventListener(MarketWatch.Events.viewModeChanged,k),!0)};k()||window.addEventListener(MarketWatch.Events.viewModeChanged,k);var S=document.querySelector(".dropdown--markets");S&&(S.selectedIndex=0)},MarketWatch.ready(MarketWatch.MarketOverview.initialize),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Refresh&&(MarketWatch.Refresh={}),function(){var e="/"===window.location.pathname,t=!1,n=!1,i=document.getElementsByTagName("body");i&&i[0]&&i[0].classList&&"function"==typeof i[0].classList.contains&&(t=i[0].classList.contains("page--quote")&&i[0].classList.contains("page--Index"),n=i[0].classList.contains("page--peavey"));try{docCookies.setItem("refresh","off")}catch(e){}var r=null,a=function(){null!==r&&(Date.now()-r>12e4&&c(),r=null)},o=function(){r=Date.now()},s=function(){o(),window.addEventListener("mouseenter",a),window.addEventListener("mouseleave",o)},c=function(){if(!(e||t||n)||MarketWatch&&MarketWatch.Video&&MarketWatch.Video.active){var i=document.querySelector('.element--ad [name="Display Ad"]');i&&i.refresh&&i.refresh()}else{try{docCookies.setItem("refresh","on")}catch(e){}window.location.reload()}};document.hasFocus()||s(),window.addEventListener("blur",s),window.addEventListener("focus",(function(){window.removeEventListener("mouseenter",a),window.removeEventListener("mouseleave",o),a()}))}(),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.UniversityBanner&&(MarketWatch.UniversityBanner=new function(){return{Setup:function(){document.querySelectorAll(".j-universityBanner").forEach(e=>{fetch(MarketWatch.Settings.endpoints.siteroot+"/partial/universitybanner?university="+e.dataset.university,{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(t){e.outerHTML=t}))})}}}),MarketWatch.ready((function(){MarketWatch.UniversityBanner.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.ActualsChart&&(MarketWatch.ActualsChart=new function(){var e=function(){document.querySelector(".j-quarterActualsChart")&&function(){var e={chart:{height:150,spacing:[10,0,0,0],style:{fontFamily:"Lato,sans-serif"}},legend:{itemStyle:{fontSize:"10px"}},credits:{enabled:!1},rangeSelector:{selected:2},title:{text:null},xAxis:{},yAxis:{title:{text:"EPS"}},plotOptions:{series:{animation:!1},columnrange:{pointWidth:10}},series:[{name:"Surprise",type:"columnrange",color:"#ffffff",showInLegend:!0,tooltip:{pointFormatter:function(){var e=Math.round(100*(this.actual-this.estimate+1e-5))/100,t=e/this.actual;Math.round(100*(t+1e-5));return'<span style="color:{point.color}"></span> Surprise: <b>'+e+"</b><br/>"}}},{name:"Estimate",type:"line",color:"#3677a8",enableMouseTracking:!1,showInLegend:!0},{name:"Actual",type:"line",color:"#000000",enableMouseTracking:!1,showInLegend:!0}]},t={};window.analystChartData&&(t=window.analystChartData.quarterChartData);var n=function(e){return e?+e.replace(",",""):NaN};t=$.isArray(t)?t.filter((function(e){return e.quarter&&e.year&&(e.mean||e.actual)})).map((function(e){return{quarter:e.quarter,year:e.year,mean:n(e.mean),actual:n(e.actual)}})):[],e.xAxis.categories=t.map((function(e){return e.quarter+" "+e.year})),e.series[0].data=t.map((function(e,t){var n=e.actual>=e.mean?"#3e9e3e":"#FF0000",i=Math.min(e.mean,e.actual),r=Math.max(e.mean,e.actual);return isNaN(i)&&(i=null),isNaN(r)&&(r=null),{x:t,estimate:+e.mean,actual:+e.actual,low:i,high:r,name:e.quarter+" "+e.year,color:n}})),e.series[1].data=t.map((function(e){return isNaN(e.mean)?null:e.mean})),e.series[2].data=t.map((function(e){return isNaN(e.actual)?null:e.actual}));var i=$(".j-quarterActualsChart");e.xAxis.categories.length>0&&(i.highcharts(e),i.highcharts().reflow())}()};return{Setup:function(){e()}}}),MarketWatch.ready((function(){MarketWatch.Charts.loadChartJS(MarketWatch.ActualsChart.Setup)})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.EstimatesCharts&&(MarketWatch.EstimatesCharts=new function(){var e=function(e){document.querySelector(e)&&function(e){var t={chart:{height:150,spacing:[10,0,0,0],style:{fontFamily:"Lato,sans-serif"}},credits:{enabled:!1},plotOptions:{series:{animation:!1}},title:{text:null},xAxis:[{}],yAxis:{title:{text:"EPS"}},series:[{name:"Estimate",type:"line",showInLegend:!0,color:"#3677a8",tooltip:{}},{name:"Estimate Range",type:"errorbar",tooltip:{}}]},n={};window.analystChartData&&(".j-yearEstimatesChart"===e?n=window.analystChartData.yearChartData:".j-quarterEstimatesChart"===e&&(n=window.analystChartData.quarterEstChartData));var i=function(e){return e?+e.replace(",",""):NaN};n=$.isArray(n)?n.filter((function(e){return e.year&&(e.low&&e.low||e.high||e.mean)})).map((function(e){return{quarter:e.quarter,year:e.year,low:i(e.low),high:i(e.high),mean:i(e.mean)}})):[],t.xAxis[0].categories=n.map((function(e){return void 0===e.quarter?e.year:e.quarter+" "+e.year})),t.series[0].data=n.map((function(e){return isNaN(e.mean)?null:e.mean})),t.series[1].data=n.map((function(e){return isNaN(e.low)||isNaN(e.high)?isNaN(e.mean)?[null,null]:[e.mean,e.mean]:[e.low,e.high]}));var r=$(e);if(t.xAxis[0].categories.length>0){r.highcharts(t),r.highcharts().reflow();var a=document.querySelectorAll(".j-estimatesPane");if(null!=a)for(var o=0;o<a.length;o++)a[o].addEventListener("click",(function(e){r.highcharts().reflow()}))}}(e)};return{Setup:function(){e(".j-yearEstimatesChart"),e(".j-quarterEstimatesChart")}}}),MarketWatch.ready((function(){MarketWatch.Charts.loadChartJS(MarketWatch.EstimatesCharts.Setup)})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.CurrencyConverter&&(MarketWatch.CurrencyConverter=new function(){var e,t,n=MarketWatch.Settings.endpoints.mux,i=MarketWatch.Settings.cKey,r=MarketWatch.Settings.entitlementToken,a=function(a){a&&a.preventDefault();var o=e.elements.fromAmount.value,s=e.elements.fromCurrency.value,c=e.elements.toCurrency.value;fetchJSON({url:n+`/api/dylan/currencies/v1/convert?source=${s}&target=${c}&value=${o}&ckey=${i}&EntitlementToken=${r}`}).then((function(e){t.textContent=numeral(e.Value).format("0,0.[000000]")}))},o=function(){t.textContent=""};return{Setup:function(){!function(){if(document.forms&&(e=document.forms.namedItem("convert-frm"))){var n=e.elements.fromAmount,i=e.elements.fromCurrency,r=e.elements.toCurrency;t=e.querySelector(".output__result"),n&&t&&i&&r&&(e.addEventListener("submit",a.bind(this)),n.addEventListener("input",o.bind(this)),i.addEventListener("change",o.bind(this)),r.addEventListener("change",o.bind(this)),a())}}()}}}),MarketWatch.ready((function(){MarketWatch.CurrencyConverter.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.EarningsCalendar&&(MarketWatch.EarningsCalendar=new function(){const e=document.querySelector("#requested-Date");var t=document.querySelector(".tab__item.next.week"),n=document.querySelector(".tab__item.prev.week"),r=function(e){document.querySelectorAll("li.tab__item").forEach(e=>{e.classList.remove("is-selected")}),e.classList.add("is-selected");var t=e.getAttribute("data-tab-pane");document.querySelectorAll("div.element--table").forEach(e=>{e.classList.remove("is-selected"),e.style.display="none";var t=e.getElementsByTagName("table")[0];t&&t.classList.remove("is-selected")});var n=document.querySelector(`div.element--table[data-tab-pane="${t}"]`);if(n){n.classList.add("is-selected"),n.style.display="block";var i=n.getElementsByTagName("table")[0];i&&i.classList.add("is-selected")}},a=function(){var e=document.querySelector(".tab__item.next.week");null!=e&&(e.onclick=function(){l()});var t=document.querySelector(".tab__item.prev.week");null!=t&&(t.onclick=function(){u()});var n=document.querySelector(".tab__item.next.day");null!=n&&(n.onclick=function(){d("next")});var i=document.querySelector(".tab__item.prev.day");null!=i&&(i.onclick=function(){d("prev")})},o=function(){document.querySelectorAll("li.has__content").forEach(e=>{null!=e&&(e.onclick=function(){r(e)})})},s=function(){const e=document.getElementById("search-box");null!=e&&(e.onkeyup=function(e){13!==(e.which?e.which:event.keyCode)&&function(){const e=document.getElementById("search-box"),t=document.querySelector("table.is-selected").getElementsByTagName("tr");for(i=0;i<t.length;i++){var n=t[i].getElementsByTagName("td")[0],r=t[i].getElementsByTagName("td")[1];if(n&&r){var a=n.textContent||n.innerText,o=r.textContent||r.innerText;a.trim().toUpperCase().startsWith(e.value.toUpperCase())||o.trim().toUpperCase().startsWith(e.value.toUpperCase())?t[i].style.display="":t[i].style.display="none"}}}()})},c=function(t){fetch(MarketWatch.Settings.endpoints.siteroot+`/tools/earnings-calendar?requestedDate=${t.toJSON()}&partial=true`,{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(n){e.value=t.toJSON();const i=document.createElement("div").innerHTML=n;document.querySelector(".element--collection.earnings-cal.internal").innerHTML=$(i).find(".element--collection.earnings-cal.internal")[0].innerHTML,a(),o()}))},l=function(){var i=new Date(e.value),r=new Date;i.setDate(i.getDate()+7),i.setHours(0,0,0,0),r.setDate(r.getDate()+7),r.setHours(0,0,0,0),n.style.enabled=!0,i.getTime()==r.getTime()&&(t.style.enabled=!1),i.getTime()<=r.getTime()&&c(i)},u=function(){var i=new Date(e.value),r=new Date;i.setDate(i.getDate()-7),i.setHours(0,0,0,0),r.setDate(r.getDate()-7),r.setHours(0,0,0,0),t.style.enabled=!0,i.getTime()==r.getTime()&&(n.style.enabled=!1),i.getTime()>=r.getTime()&&c(i)},d=function(e){const t=document.querySelector("li.is-selected");document.querySelector(".element--table.is-selected");if("prev"==e){const e=t.previousElementSibling;e&&!e.classList.contains("prev")?r(e):u()}else if("next"==e){const e=t.nextElementSibling;e&&!e.classList.contains("next")?r(e):l()}};return{Setup:function(){s(),o(),a()}}}),MarketWatch.ready((function(){MarketWatch.EarningsCalendar.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.FinancialCharts&&(MarketWatch.FinancialCharts=new function(){var e=function(){var e;document.querySelector(".js-financial-chart")&&(e={chart:{margin:[0,0,0,0],backgroundColor:"transparent",type:"column",height:16},credits:{enabled:!1},legend:{enabled:!1},plotOptions:{column:{animation:!1,pointWidth:8,borderWidth:1,minPointLength:2,negativeColor:"#b51a28",states:{hover:{enabled:!1}}}},series:[{color:"#333333",shadow:!1}],title:{text:""},tooltip:{enabled:!1},xAxis:{labels:{enabled:!1},title:{enabled:!1},tickWidth:0,lineWidth:0},yAxis:{endOnTick:!1,gridLineWidth:0,labels:{enabled:!1},startOnTick:!1,minPadding:.5,title:{text:""}}},$(".js-financial-chart").each((function(t,n){var i=$(n),r=i.data("chart-data");if(r){r=r.split(",").map((function(e){return+e})),e.series[0].data=r;var a=_.min(r),o=_.max(r);e.yAxis.min=a>0?0:a,e.yAxis.max=o<0?0:o,i.highcharts(e)}})))};return{Setup:function(){e()}}}),MarketWatch.ready((function(){MarketWatch.Charts.loadChartJS(MarketWatch.FinancialCharts.Setup)})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.FundComparison&&(MarketWatch.FundComparison=new function(){var e,t=function(t){t&&t.preventDefault();var n,i=[],r=e.getElementsByClassName("input--text"),a=e.elements.compare.value,o=(MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot)+"/tools/mutual-fund/compare";for(n=0;n<r.length;n++)r[n].value.length>1&&i.push(encodeURIComponent(r[n].value));i.length>1&&(window.location.href=o+"?compare="+a+"&tickers="+i.join("+"))},n=function(){document.forms&&(e=document.forms.namedItem("fund-compare-frm"))&&e.addEventListener("submit",t.bind(this))};return{Setup:function(){n()}}}),MarketWatch.ready((function(){MarketWatch.FundComparison.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.FundReturnsChart&&(MarketWatch.FundReturnsChart=new function(){var e=!1,t=function(e,t){for(var n=[],i=["YTD","1yr","3yr","5yr","10yr"],r=0;r<i.length;r++){for(var a=null,o=0;o<e.length;o++)if(e[o].parentElement.dataset.timeFrame===i[r]){a=100*e[o].getAttribute(t),a=Math.round(100*a)/100;break}n.push(a)}return n},n=function(){var n=document.querySelectorAll("table.j-totalReturns td[data-fund-return]"),i=document.querySelectorAll("table.j-totalReturns td[data-category-return]"),r=document.querySelectorAll("table.j-totalReturns td[data-index-return]"),a=t(n,"data-fund-return"),o=t(i,"data-category-return"),s=t(r,"data-index-return");e="True"===document.querySelector(".j-totalReturnsChart").getAttribute("data-is-mobile");var c=function(){var t={chart:{zoomType:"xy",type:"column",marginTop:55,height:210},credits:{enabled:!1},legend:{align:"right",floating:!0,layout:"horizontal",useHTML:!0,verticalAlign:"top",y:-10},plotOptions:{series:{animation:!1}},title:{text:null},tooltip:{useHTML:!0},xAxis:{categories:["YTD","1YR",'3YR<sup class="citation__number">2</sup>','5YR<sup class="citation__number">2</sup>','10YR<sup class="citation__number">2</sup>'],labels:{useHTML:!0}},yAxis:{title:{text:null},endOnTick:!1},series:[{name:"Fund",color:"#71B0D3"},{name:'Category<sup class="citation__number">1</sup>',color:"#22688E",useHTML:!0},{name:"S&P 500",color:"#12415B"}]};return 1==e&&(t.chart.pinchType=null,t.chart.zoomType=null),t}();c.series[0].data=a,c.series[1].data=o,c.series[2].data=s;var l=$(".j-totalReturnsChart");0!==l.length&&l.highcharts(c,(function(){var e=document.querySelector(".j-totalReturnsChart");e&&e.parentElement&&e.parentElement.classList.contains("element__chart")&&e.parentElement.classList.add("is-loaded")}))};return{Setup:function(){document.querySelector(".j-totalReturnsChart")&&n()}}}),MarketWatch.ready((function(){MarketWatch.Charts.loadChartJS(MarketWatch.FundReturnsChart.Setup)})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.GrowthOf10K&&(MarketWatch.GrowthOf10K=new function(){var e,t,n=MarketWatch.Settings.endpoints.mux,i=function(i){i&&i.preventDefault();var r=e.elements.year.value,a=e.elements.ticker.value,o=e.elements.fromAmount.value,s=new Date,c=s.getMonth()+1,l=s.getDate(),u=s.getFullYear();fetchJSON({url:n+"/api/deltoro-mw/marketwatchsite/quote/"+a+"/growthof10k",data:{startDate:"1/1/"+r,endDate:c+"/"+l+"/"+u,growthOf:o}}).then((function(e){t.textContent=numeral(e.totalValue).format("$0,0.00")}))},r=function(){t.textContent=""};return{Setup:function(){!function(){if(document.forms&&(e=document.forms.namedItem("growth-frm"))){var n=e.elements.year,a=e.elements.fromAmount;t=e.querySelector(".output__result"),n&&t&&a&&(e.addEventListener("submit",i.bind(this)),n.addEventListener("change",r.bind(this)),a.addEventListener("input",r.bind(this)),i())}}()}}}),MarketWatch.ready((function(){MarketWatch.GrowthOf10K.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.KeyCrossRates&&(MarketWatch.KeyCrossRates=new function(){var e=function(e){document.querySelectorAll(".list--output").forEach((function(e){e.style.display="none"})),document.querySelector("."+e).style.display=""};return{Setup:function(){var t;(t=document.querySelector("#j-currency"))&&(e(t.value),t.addEventListener("change",(function(){e(this.value)})))}}}),MarketWatch.ready((function(){MarketWatch.KeyCrossRates.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.Miscellaneous&&(MarketWatch.Miscellaneous=new function(){var e=function(e,t){if(t||(t=document.scrollingElement||document.body.parentElement),t&&(0!==t.scrollTop||0!==e)){var n=t.scrollTop,i=e-n,r=function(e){var a=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*((e-=1)*(e-2)-1)+t}(e+=20,n,i,1e3);t.scrollTop=a,e<1e3&&setTimeout((function(){r(e)}),20)};r(0),document.querySelector('button:not(.hidden), a:not(.hidden), input:not(.hidden), select:not(.hidden), textarea:not(.hidden), [tabindex]:not([tabindex="-1"])').focus(),document.activeElement.blur()}},t=function(e){if(!(e.origin.toLowerCase().indexOf(".marketwatch.com")<0)&&e.data)try{var t=JSON.parse(e.data);t.task&&t.url&&"openurl"===t.task.toLowerCase()&&(window.location=t.url)}catch(e){}};return{registerEvents:function(){!function(){var n=document.querySelectorAll(".js--top");if(n)for(var i=0,r=n.length;i<r;i++)n[i].addEventListener("click",(function(){e(0)}));var a=document.querySelector(".alert--welcome-quote-alert .btn--text .link");a&&a.addEventListener("click",(function(e){if(e.preventDefault(),void 0!==MarketWatch.setCookie){var t=new Date;t.setTime(t.getTime()+15552e6),MarketWatch.setCookie("mw_quote_message_dismissed","true",t)}var n=MarketWatch.Utility.closest(e.target,".content-region");n&&n.parentNode.removeChild(n)})),window.addEventListener&&window.addEventListener("message",t,!1)}()},scrollTo:e,getElementY:function(e){return window.pageYOffset+document.querySelector(e).getBoundingClientRect().top}}}),MarketWatch.ready(MarketWatch.Miscellaneous.registerEvents),void 0===MarketWatch)var MarketWatch={};if(void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===MarketWatch.MoreHeadlines&&(MarketWatch.MoreHeadlines=new function(){var e=function(){var e=this.Wrapper;if(null!==e){var t,n=this.IsWhiteRabbitRequest,i=this.IsCapiRequest,r=this.Position,a=MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot,o=e.querySelectorAll(".element--article[data-msgid]");if(null===o||0===o.length){if(!this.V2MoreHeadlines)return;this.PageNumber=-1}var s=window.location.pathname;if(this.V2MoreHeadlines){var c=this.Channel||"",l=this.Source||"",u=this.PageNumber+1,d="",h="";this.QueryString&&(d=this.QueryString.countrycode?"&countryCode="+this.QueryString.countrycode:"",h=this.QueryString.iso?"&iso="+this.QueryString.iso:""),t=fetchHTML({url:a+s+"/moreheadlines?channel="+c+"&source="+l+"&pageNumber="+u+d+h})}else if(n){var f=o[o.length-1];if(o.length>2)for(var p=o.length-2;p>=0;p--)o[p].dataset.msgid<f.dataset.msgid&&(f=o[p]);if(!f)return;var m=f.dataset.msgid||"",g=this.ChannelId||"";t=fetchHTML({url:a+s+"?messageNumber="+m+"&channelId="+g+"&position="+r+"&partial=true"})}else if(i){u=this.PageNumber+1;t=fetchHTML({url:a+s+"?pageNumber="+u+"&position="+r+"&partial=true"})}else t=fetchHTML({url:a+s+"?offset="+headlines_offset+"&position="+r+"&partial=true"});return t}},t=function(e,t){this.Position;var i=this.Wrapper,r=null!==this.TrackingCode&&""!==this.TrackingCode?this.TrackingCode:"default",a=(new DOMParser).parseFromString(e,"text/html");null!=a.querySelector(".column--primary[data-layout-position]")&&a.querySelector(".column--primary[data-layout-position]").dataset.layoutPosition;var o=a.querySelectorAll(".element--article[data-guid]")||a.querySelectorAll(".element--article[data-timestamp]");if(null===i||null===o||0===o.length){if(null!=i){var s=i.parentElement.parentElement.querySelector(".element--message");null!=s&&-1===this.PageNumber&&s.classList.remove("is-hidden")}return 0}var c=a.querySelectorAll("a.figure__image[href], a.link, a.ticker__link");if(c.length>0&&void 0!==MarketWatch.Tracking)for(var l=0;l<c.length;l++)c[l].href=c[l].href.replace("www.s.dev.","www.stg.").replace(".barrons.com",".marketwatch.com").replace(/^http:/i,"https:"),c[l].href=MarketWatch.Tracking.appendMod(c[l].href,r+"_seemore");this.IsLoading&&(this.IsLoading=!1,this.ToggleLoadingMessage.call(this));const u=i.children.length;for(var d=0;d<o.length;d++)if(this.SponsoredContentEnabled&&i.children.length%5==4&&this.AddSponsoredPlaceholder(),o[d].getAttribute("data-guid")&&o[d].getAttribute("data-timestamp"))for(var h=i.children.length-1;h>=0&&(void 0===i.children[h].dataset.guid||i.children[h].dataset.guid.toLowerCase()!==o[d].dataset.guid.toLowerCase()||i.children[h].dataset.timestamp!==o[d].dataset.timestamp);h--)if(void 0===i.children[h].dataset.timestamp||i.children[h].dataset.timestamp>=o[d].dataset.timestamp){var f=document.importNode(o[d],!0);i.insertBefore(f,i.children[h].nextSibling);break}if(t)for(d=u;d<i.children.length&&!n(i.children[d]);d++);return o.length},n=function(e){if(e){const t='a:not(.hidden):not([tabindex="-1"])',n=Array.from(e.querySelectorAll(t));if(n.length>0)return n[0].focus(),n[0]}return null},i=function(e){var t,n=this;(n.IsWhiteRabbitRequest?null!=n.Channel&&""!=n.Channel&&(t=n.Channel):n.IsCapiRequest&&null!=n.RealtimeFeed&&""!=n.RealtimeFeed&&(t=n.RealtimeFeed),t)&&("undefined"==typeof BlueGrass2?window.addEventListener("BlueGrassReady",(function(){BlueGrass2.Client.create().subscribe(t,e.bind(n))})):BlueGrass2.Client.create().subscribe(t,e.bind(n)))},r=function(e){var t={};t.MessageNumber=e.h.n,t.TimestampUtc=e.b.z,t.Guid=e.b.g.toLowerCase(),t.EasternTimeOffset=e.b.o,t.Headline=e.b.h,t.Author=e.b.p,t.Summary=e.b.a,t.ThirdPartyUrl=e.b.tpu,t.HasImage=!1,t.IsVideo="video"===e.b.c,t.IsHeadline="headline"===e.b.c;var n=parseInt(t.TimestampUtc),i=t.TimestampUtc;isNaN(n)&&(i=i.indexOf("-")>=0||i.indexOf("+")>=0?i.substring(6,i.length-7):i.substring(6,i.length-2),n=parseInt(i)),t.TimestampString=n;var r=this.GetImageInfo.call(this,e);r&&(t.ImageUrl=r.url,t.HasImage=!0),e.b.c&&"headline"===e.b.c.toLowerCase()?(t.DocTypeId=90,e.b.u&&(t.Url=e.b.u)):(t.SeoHeadlineFragment=e.b.seo,t.Url=e.b.u),"Moneyish.com"===e.b.pb?t.DocTypeId=88:"Barron's Online"===e.b.pb?t.DocTypeId=426:"Barrons Blogs"===e.b.pb?t.DocTypeId=17:"MW PREMIUM"===e.b.av&&(t.DocTypeId=53),t.Breaking=e.b.b,t.Correction=e.b.cn;var a=!1;if(e.b.nmd&&e.b.nmd.tgs&&e.b.nmd.tgs.length>0&&(t.NewsMetaData={},t.NewsMetaData.Tags=e.b.nmd.tgs,t.NewsMetaData.Tags.forEach((function(e){"resurfaced"===e.toLowerCase()?resurfaced=!0:"revised"===e.toLowerCase()&&(a=!0)}))),t.Correction?t.Label="Corrected":!0===a?t.Label="Updated":t.Breaking?t.Label="Breaking":497===t.DocTypeId||88===t.DocTypeId?t.Label="Moneyish":53===t.DocTypeId?t.Label="Premium":426===t.DocTypeId||17===t.DocTypeId?t.Label="Barron's":102!==t.DocTypeId&&123!==t.DocTypeId||(t.Label="Picks"),e.b.nmd&&e.b.nmd.cmps&&e.b.nmd.cmps.length>0){t.Company=[];var o=e.b.nmd.cmps;const n=3;for(var s=0;s<o.length&&s<n;s++){var c=o[s];if(t.IsHeadline||c["cmp-s"]||c["cmp-pr"]){var l=c["cmp-it"],u=c["cmp-cc"].toUpperCase(),d=l+"/"+("XX"===u?"":u)+"//"+c["cmp-t"];t.Company.push(d)}}}"delete"===e.b.at?this.RemoveHeadlineItem.call(this,t)&&this.NotifyCount>0&&(this.NotifyCount-=1):"update"===e.b.at?this.UpdateHeadlineItem.call(this,t):"insert"===e.b.at&&this.AddHeadlineItem.call(this,t)&&(this.NotifyCount+=1)},a=function(e){var t=this.Wrapper,n=null!==this.TrackingCode&&""!==this.TrackingCode?this.TrackingCode:"default",i=document.querySelector("#moreHeadlineTemplate");if(i&&i.content&&t){var r=i.content.cloneNode(!0);if(r&&r.querySelector(".element--article")){var a=r.querySelector(".element--article");a.dataset.timestamp=e.TimestampString,a.dataset.msgid=e.MessageNumber,a.dataset.guid=e.Guid;var o=a.querySelector(".article__timestamp");o&&(o.textContent=this.GetFormatDate.call(this,e));var s=a.querySelector(".article__summary");s&&e.Summary&&!e.IsHeadline?s.textContent=e.Summary:s&&s.parentElement.removeChild(s);var c=a.querySelector(".article__label");c&&e.Label&&(c.textContent=e.Label,c.classList.add(e.Label.toLowerCase().replace("'","")));var l=a.querySelector(".article__author");l&&e.Author&&(l.textContent="by "+e.Author);var u=a.querySelector(".article__headline a");if(u&&!e.IsHeadline)u.textContent=e.Headline,426===e.DocTypeId||17===e.DocTypeId?null!==e.ThirdPartyUrl?u.href=e.ThirdPartyUrl.replace("www.s.dev.","www.stg.").replace(".barrons.com",".marketwatch.com").replace(/^http:/i,"https:"):u.href=MarketWatch.Settings.endpoints.siteroot+"/articles"+e.SeoHeadlineFragment:e.ThirdPartyUrl?u.href=e.ThirdPartyUrl:e.DocTypeId&&90===e.DocTypeId?u.href=e.Url:u.href=MarketWatch.Settings.endpoints.siteroot+"/story"+e.SeoHeadlineFragment,u.href=MarketWatch.Tracking.appendMod(u.href,n+"_realtime");else if(u&&e.IsHeadline)if(!e.Company||e.Company&&0===e.Company.length){var d=u.parentElement;d.removeChild(u),d.classList.add("flash-hed"),d.textContent=e.Headline}else u.textContent=e.Headline;var h=a.querySelector(".article__figure a");if(h)if(e.IsHeadline)a.classList.add("no-image"),h.removeChild(h.firstElementChild),h.classList.add("flashhed-link");else{if(e.IsVideo){h.classList.add("video"),h.dataset.videoGuid=e.Guid;var f=document.createElement("i");f.classList.add("icon--play"),h.appendChild(f),fetchJSON({url:MarketWatch.Settings.endpoints.video.api+"find_all_videos.asp",data:{type:"guid",fields:"thumbnailList,guid,linkURL",query:e.Guid}}).then((function(t){if(t&&t.items&&t.items.length>0){var n=t.items[0];e.ImageUrl=n.thumbnailList[0].url,e.ImageUrl&&(e.HasImage=!0);var i=a.querySelector(".figure__image img");e.HasImage?i&&e.ImageUrl&&(i.src=e.ImageUrl,e.IsVideo?i.alt="Go to video":i.alt="Read full story"):(a.classList.add("no-image"),i&&i.parentElement.removeChild(i))}}))}else{var p=a.querySelector(".figure__image img");e.HasImage?p&&e.ImageUrl&&(p.src=e.ImageUrl,e.IsVideo?p.alt="Go to video":p.alt="Read full story"):(a.classList.add("no-image"),p&&p.parentElement.removeChild(p))}h.href=u.href}for(var m=a.querySelector(".content--secondary"),g=a.querySelector(".group--tickers"),v=g.querySelector(".ticker").cloneNode(!0);g.firstChild;)g.removeChild(g.firstChild);return m&&e.Company&&e.Company.length>0&&MarketWatch.Quote&&MarketWatch.Quote.getQuotes?MarketWatch.Quote.getQuotes(e.Company.join(","),{dialect:"charting"}).then((function(t){if(t&&t.InstrumentResponses&&t.InstrumentResponses.length>0)for(var i=!1,r=0;r<t.InstrumentResponses.length;r++)if(void 0!==t.InstrumentResponses[r].Matches&&t.InstrumentResponses[r].Matches.length>0){var a=t.InstrumentResponses[r].Matches[0];if(!(a&&a.Instrument&&a.Instrument.Ticker&&a.CompositeTrading&&a.CompositeTrading.ChangePercent))continue;!i&&u&&e.IsHeadline&&(u.href=MarketWatch.Tracking.appendMod(MarketWatch.Quote.getUrl(a,""),n+"_realtime"),h.href=u.href,i=!0);var o=v.cloneNode(!0),s=o.querySelector(".ticker"),c=o.querySelector(".ticker__symbol"),l=o.querySelector(".bgquote--change");if(!(s&&bgQuoteLink&&c&&l))continue;var d=a.CompositeTrading.ChangePercent>0?"positive":a.CompositeTrading.ChangePercent<0?"negative":"unchanged",f=MarketWatch.Bluegrass.getBestChannel(a.BlueGrassChannels);s.classList.add(d),s.setAttribute("channel",f),s.href=MarketWatch.Tracking.appendMod(MarketWatch.Quote.getUrl(a,""),n+"_realtime"),c.textContent=a.Instrument.Ticker,l.classList.remove("bgquote--change"),l.setAttribute("channel",f),l.textContent=numeral(a.CompositeTrading.ChangePercent).format("0,0.00")+"%";var p=document.importNode(o,!0);g.appendChild(p)}})):e.IsHeadline?(h.removeAttribute("target"),h.removeAttribute("href")):m.parentElement.removeChild(m),a}}},o=function(e){var t=this.Wrapper;if(t){var n=this.CreateNewHeadline.call(this,e),i=t.querySelectorAll(".element--article");if(i.length>0){if(parseInt(e.TimestampString)<parseInt(i[0].dataset.timestamp))return!1;for(var r=0;r<i.length;r++)(i[r].dataset.guid.toLowerCase()===e.Guid.toLowerCase()&&i[r].dataset.timestamp===e.TimestampString||r===i.length-1)&&i[r].parentElement.removeChild(i[r])}return this.SetupAlert.call(this,n),t.insertBefore(n,t.querySelector(".element--article")),!0}return!1},s=function(e){e.classList.add("is-new","has-background","flag--new"),setTimeout((function(){e.classList.remove("is-new")}),1e3),setTimeout((function(){e.classList.remove("has-background")}),6e3)},c=function(e){var t=this.Wrapper;if(t){var n=t.querySelector('div[data-guid="'+e.Guid.toLowerCase()+'"][data-timestamp="'+e.TimestampString+'"]');if(n)return n.parentElement.removeChild(n),!0}return!1},l=function(e){var t=this.Wrapper;if(t){var n=t.querySelector('div[data-guid="'+e.Guid.toLowerCase()+'"]');return n&&n.parentElement.removeChild(n),o.call(this,e)}return!1},u=function(e){var t=BlueGrass2.Utility.convertToExchangeTime(e.TimestampUtc,e.EasternTimeOffset),n=t.getFullYear(),i=t.getMonth(),r=MarketWatch.Utility.monthNamesAbbr[i],a=t.getDate(),o=t.getHours(),s=t.getMinutes(),c=o>=12?" p.m.":" a.m.";return r+". "+a+", "+n+" at "+((o=(o%=12)>0?o:12)+":"+(s=s<10?"0"+s:s)+c)+" ET"},d=function(e){if(e.b.ai){var t,n=e.b.ai.split("|").map((function(n){var i,r=n.split(";"),a=r[0],o=r[4],s={height:parseInt(r[1],10)||0,width:parseInt(r[2],10)||0,responsive:"True"===r[3]};return/^https:\/\/[^/]+\/im-\d+(?:\?|$)/.test(a)?(s.url=a.split("?")[0],t=s):o?(s.url=(i=e.b.pb,(/barron'?s/i.test(i)?"https://images.barrons.com/":/wall street journal/i.test(i)?"https://images.wsj.net/":"https://images.mktw.net/")+o),t=s):s.url="https://s.marketwatch.com/public/resources/images/"+a,s}));return t?(t.url+="?width=240",t):function(e){for(var t,n=["ZR","D","ZT","ZQ"],i=n.length,r=0;r<e.length;r++)for(var a=0;a<i;a++){if(-1!==e[r].url.indexOf("_"+n[a]+"_")){t=e[r],i=a;break}if(0===i)break}return t}(n)}},h=function(){this.IsLoading?this.Button.classList.add("is-loading"):this.Button.classList.remove("is-loading")},f=function(e){!MarketWatch.Squeaky&&e&&e.target&&e.target.className&&e.target.className.indexOf("dianomi")>-1&&this.Wrapper&&this.Wrapper.contains(e.target)&&"function"==typeof dianomiReloadContext&&dianomiReloadContext()},p=function(e){if(this.SponsoredContentTemplate){var t=this.SponsoredContentTemplate.content.cloneNode(!0),n=t.querySelector(".dianomi_context");if(n&&this.V2MoreHeadlines&&"string"==typeof this.Channel){switch(this.Channel.toLowerCase()){case"marketwatch":case"dowjonesnetwork":n.dataset.dianomiContextId="42";break;case"other":case"pressreleases":n.dataset.dianomiContextId="43";break;case"gameholdings":case"gamelatest":n.dataset.dianomiContextId="44"}e?e.parentNode.insertBefore(t,e.nextSibling):this.Wrapper&&this.Wrapper.appendChild(t)}}},m=function(e){if(e&&e.b&&e.b.z){var t=parseInt(this.Wrapper.querySelector(".element--article").dataset.timestamp)+1e3;e.b.z="/Date("+t.toString()+")/",r.call(this,e)}},g=function(){MarketWatch.MoreHeadlines.Instances=function(){var n=[],g=document.querySelectorAll(".j-moreHeadlineWrapper.column--primary[data-source]");if(void 0===g||0===g.length)return n;for(var v=document.getElementById("headlineListItemDianomiTemplate"),y=MarketWatch.Utility.getQueryString(),b=0;b<g.length;b++){var w=g[b].querySelector(".j-scrollElement"),x=g[b].querySelector(".js--more-headlines"),k=MarketWatch.Utility.closest(g[b],"mw-scrollable-news-v2"),S=g[b].dataset.source,M=g[b].dataset.realtimefeed,C=!1,_="",T=!1,L="chartingsymbol"===S.trim().toLowerCase()||"instrumenttype"===S.trim().toLowerCase()||"capichannel"===S.trim().toLowerCase()&&g[b].dataset.channel&&"gamelatest"===g[b].dataset.channel.trim().toLowerCase();g[b].dataset.channel&&!L?(_=g[b].dataset.channel,C=!0):g[b].dataset.channel&&L&&(T=!0);var E="whiterabbitchannel"===S.trim().toLowerCase()||"channel"===S.trim().toLowerCase(),I="capichannel"===S.trim().toLowerCase()||"author"===S.trim().toLowerCase()||"column"===S.trim().toLowerCase()||"keyword"===S.trim().toLowerCase()||"zigmanscreen"===S.trim().toLowerCase(),A=g[b].dataset.channelId,D={Wrapper:w,Button:x,ScrollableWrapper:k,Source:S,Channel:_=g[b].dataset.channel,RealtimeFeed:M,IsWhiteRabbitRequest:E,IsCapiRequest:I,V2MoreHeadlines:L,Channel:_,ChannelId:A,Position:g[b].dataset.layoutPosition,TrackingCode:g[b].dataset.tracking,FetchHeadlines:e,AddHeadlines:t,BlueGrassEnabled:C,NotifyCount:0,GetBlueGrassClient:i,HeadlineHandler:r,CreateNewHeadline:a,AddHeadlineItem:o,RemoveHeadlineItem:c,UpdateHeadlineItem:l,GetFormatDate:u,GetImageInfo:d,SetupAlert:s,IsLoading:!1,ToggleLoadingMessage:h,FetchHeadlinesMutex:!1,PageNumber:0,SponsoredContentTemplate:v,SponsoredContentEnabled:T,AddSponsoredPlaceholder:p,SponsoredItemLazyLoad:f,QueryString:y};D.Test=m.bind(D),n.push(D)}return n}();for(var n=document.querySelector("#noHeadlinesTemplate"),g=0;g<MarketWatch.MoreHeadlines.Instances.length;g++){var v=MarketWatch.MoreHeadlines.Instances[g];if(v.Button&&v.Button.addEventListener("click",function(){if(!this.FetchHeadlinesMutex){this.FetchHeadlinesMutex=!0;var e=this.FetchHeadlines.bind(this),t=this;t.IsLoading||(t.IsLoading=!0,t.ToggleLoadingMessage.call(t)),e&&e().then((function(e){e&&(t.AddHeadlines.call(t,e,!0),t.IsCapiRequest&&t.PageNumber++)})),this.FetchHeadlinesMutex=!1}}.bind(v)),v.ScrollableWrapper&&v.ScrollableWrapper.addEventListener("mw-moreheadlines",function e(){if(!this.FetchHeadlinesMutex){this.FetchHeadlinesMutex=!0;var t=this.FetchHeadlines.bind(this),i=this;t?t().then((function(t){if(t){var r=i.AddHeadlines.call(i,t,!1);void 0!==r&&0===r&&(i.ScrollableWrapper.removeEventListener("mw-moreheadlines",e),i.ScrollableWrapper.classList.contains("client-side-loaded")&&i.ScrollableWrapper.appendChild(n.content.cloneNode(!0))),i.ScrollableWrapper.classList.contains("client-side-loaded")&&i.ScrollableWrapper.classList.remove("client-side-loaded"),i.PageNumber++}i.FetchHeadlinesMutex=!1})):this.FetchHeadlinesMutex=!1}}.bind(v)),v.BlueGrassEnabled&&v.GetBlueGrassClient.call(v,v.HeadlineHandler),v.SponsoredContentEnabled&&v.Wrapper){document.addEventListener("lazybeforeunveil",v.SponsoredItemLazyLoad.bind(v));for(var y=v.Wrapper.querySelectorAll(".element"),b=3;b<y.length;b+=4)v.AddSponsoredPlaceholder(y[b])}}};return{Setup:function(){g()},Instances:[]}}),MarketWatch.ready((function(){MarketWatch.MoreHeadlines.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.Social&&(MarketWatch.Social=new function(){var e="location=yes,resizable=yes,scrollbars=yes,status=yes",t={share:{url:"https://www.facebook.com/dialog/share?app_id=283204329838&display=popup&href=",popup:{width:"520",height:"332"}}},n={share:{url:"/story/twittershare",popup:{width:"550",height:"420"}}},i=function(t,n){var i=void 0!==window.screenLeft?window.screenLeft:screen.left,r=void 0!==window.screenTop?window.screenTop:screen.top,a=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,o=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,s=a/2-n.share.popup.width/2+i,c=o/2-n.share.popup.height/2+r;window.open(t,"",e+",innerWidth="+n.share.popup.width+",innerHeight="+n.share.popup.height+",left="+s+",top="+c)},r=function(e,t){e=encodeURIComponent(e);var r=n.share.url+"?shareUrl="+e;t&&(r+="&text="+encodeURIComponent(t)),i(r,n)},a=function(e){var n=location.protocol+"//"+location.host,r=t.share.url+encodeURIComponent(e)+"&redirect_uri="+n+"/story/socialredirect";i(r,t)},o=function(e){var t=e.target,n=!1,i=!1;if(t&&t[MarketWatch.Utility.matchesFnName]&&(n=t[MarketWatch.Utility.matchesFnName](".icon--facebook"),i=t[MarketWatch.Utility.matchesFnName](".icon--twitter")),n||i){var o="",s="",c=MarketWatch.Utility.closest(this,".element--article");if(c){var l=c.querySelector("a.figure__image");l&&(o=l.getAttribute("href"));var u=c.querySelector(".article__headline a");u&&(s=u.textContent.trim())}n?a(o):r(o,s)}},s=function(e){var t=e.target,n=!1,i=!1;if(t&&t[MarketWatch.Utility.matchesFnName]&&(n=t[MarketWatch.Utility.matchesFnName](".icon--facebook"),i=t[MarketWatch.Utility.matchesFnName](".icon--twitter")),n||i){var o="",s="",c=MarketWatch.Utility.closest(this,".latestNews__item");if(c){var l=c.querySelector(".latestNews__headline a");if(l){o=l.getAttribute("href");for(var u=l.childNodes,d=0;d<u.length;d++)u[d]&&3==u[d].nodeType&&(s+=u[d].data);s=s.trim()}}n?a(o):r(o,s)}},c=function(e){if(e){for(var t=e.querySelectorAll(".article__social"),n=e.querySelectorAll(".latestNews__social"),i=0;i<t.length;i++)t[i].addEventListener("click",o);for(i=0;i<n.length;i++)n[i].addEventListener("click",s)}};return{registerEvents:function(){c(document),window.addEventListener("curatedUpdate",(function(e){e&&e.Selector&&c(document.querySelector(e.Selector))}))},socialElementAdded:function(e){e&&c(e)}}}),MarketWatch.ready(MarketWatch.Social.registerEvents),void 0===MarketWatch)var MarketWatch={};void 0===MarketWatch.YieldCurve&&(MarketWatch.YieldCurve=new function(){var e=function(){var e=function(){var e={highchartsStyles:{chart:{type:"spline"},colors:["#000000","#3E9ED7","#56B4E9","#009E73","#F0E442","#0072B2","#D55E00","#CC79A7"],legend:{enabled:!0,align:"center",layout:"horizontal",verticalAlign:"bottom"},plotOptions:{series:{animation:{duration:300,easing:"linear"},dashStyle:"Solid",enableMouseTracking:!0,lineWidth:1,marker:{symbol:"circle",radius:2,lineColor:null,states:{hover:{enabled:!0,fillColor:null,lineWidth:0}}},shadow:!1,states:{hover:{lineWidth:3}}}},tooltip:{borderColor:"#CCCCCC",backgroundColor:"#FFF",enabled:!0,shared:!0}}};if(MarketWatch.ViewModes&&MarketWatch.viewMode&&MarketWatch.viewMode==MarketWatch.ViewModes.Small){$.extend(!0,e,{mikeStyle:{plotLines:{positions:[{title:"1m",months:1},{title:"6m",months:6},{title:"2y",months:24},{title:"5y",months:60},{title:"10y",months:120},{title:"30y",months:360}]}}}),e.highchartsStyles.tooltip.enabled=!1}return e}(),t=MarketWatch.ViewModes&&MarketWatch.viewMode&&MarketWatch.viewMode==MarketWatch.ViewModes.Small;if(i=document.getElementById("yieldcurvechart")){var n={historicalDates:[Date.now(),(new Date).setFullYear((new Date).getFullYear()-1)],countries:[i.dataset.countryCode]},i=$("#yieldcurvechart").yieldCurve({}).def(n).style(e).tooltipFormatter(new MichelangeloYieldCurve.ToolTipFormatter).nameBuilder((function(e){return new Date(e.date).getFullYear()==(new Date).getFullYear()?"Current":"Year Ago"}));t||i.size({width:"fill",height:300}),i.render()}};return{Setup:function(){document.getElementById("yieldcurvechart")&&e()}}}),MarketWatch.ready((function(){MarketWatch.Charts.loadChartJS(MarketWatch.YieldCurve.Setup)}));var getWrappedPromise=function(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.then=t.then.bind(t),e.catch=t.catch.bind(t),e.promise=t,e},getWrappedFetch=function(){var e=getWrappedPromise(),t=Array.prototype.slice.call(arguments);return fetch.apply(null,t).then((function(t){e.resolve(t)}),(function(t){e.reject(t)})).catch((function(t){e.catch(t)})),e},fetchJSON=function(e){e.data&&(e.url=e.url+jsonToQueryString(e.data));var t=getWrappedFetch(e.cacheBusting?e.url+(e.url.indexOf("?")>-1?"&":"?")+(new Date).getTime():e.url,{method:"get",headers:{Accept:"application/json"}}),n=setTimeout((function(){t.reject(new Error("Load timeout for resource: "+e.url))}),MarketWatch.Settings.ajaxMaxTimeout);return t.promise.then((function(e){return clearTimeout(n),e})).then((function(e){return 200===e.status||0===e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))})).then((function(e){return e.json()}))},fetchHTML=function(e,t){e.data&&(e.url=e.url+jsonToQueryString(e.data));var n={method:"get",headers:{Accept:"application/html"}};t&&(n=mixin(n,t));var i=getWrappedFetch(e.cacheBusting?e.url+(e.url.indexOf("?")>-1?"&":"?")+(new Date).getTime():e.url,n),r=setTimeout((function(){i.reject(new Error("Load timeout for resource: "+e.url))}),MarketWatch.Settings.ajaxMaxTimeout);return i.promise.then((function(e){return clearTimeout(r),e})).then((function(e){return 200===e.status||0===e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))})).then((function(e){return e.text()}))};function jsonToQueryString(e){return"?"+Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}if(function(){var e=Object.create(window.HTMLInputElement.prototype);e.attachedCallback=function(){},e.onKeyPress=function(e){var t=e.which?e.which:event.keyCode;return t>31&&(t<48||t>57&&t<65||t>90&&t<97||t>122)&&(""===this.allow||-1===this.allow.indexOf(String.fromCharCode(t)))?(e.preventDefault(),!1):!(this.maxChars&&this.value.length+1>this.maxChars&&8!==t&&46!==t)||(e.preventDefault(),!1)},e.onPaste=function(e){return e.preventDefault(),!1},e.createdCallback=function(){this.type="text",this.allow="",this.hasAttribute("allow")&&(this.allow=this.getAttribute("allow")),this.hasAttribute("max-chars")&&(this.maxChars=parseInt(this.getAttribute("max-chars"))),this.addEventListener("keypress",this.onKeyPress.bind(this)),this.addEventListener("paste",this.onPaste.bind(this))},window.AlphaNumericInputElement=document.registerElement("mw-alphanumeric-input",{prototype:e,extends:"input"})}(),function(){var e=Object.create(HTMLInputElement.prototype);e.defaultResultsHandler=function(e,t){if((!e.originalQuery||e.originalQuery===this.value)&&"symbol"===t.need){for(;this.list.firstChild;)this.list.removeChild(this.list.firstChild);var n,i;for(n=0;n<e.symbols.length;n++)e.symbols[n].ticker!==this.value.toUpperCase()&&((i=document.createElement("option")).value=e.symbols[n].ticker,this.list.appendChild(i))}},e.attachedCallback=function(){this.addEventListener("keyup",debounce(this.onKeyUp.bind(this),300)),null!==this.getAttribute("custom")&&(this._custom=!0)},e.onKeyUp=function(e){var t=e.target,n={q:t.value,need:t.dataset.need,excludeExs:"xmstar",maxRows:12,entitlementToken:MarketWatch.Settings.entitlementToken};t.dataset.instrumentType&&(n.it=t.dataset.instrumentType),t.dataset.countryCode&&(n.cc=t.dataset.countryCode),t.dataset.xe&&(n.xe=t.dataset.xe),fetchJSON({url:MarketWatch.Settings.endpoints.autocomplete,data:n}).then((function(e){t.dispatchEvent(new CustomEvent("results",{detail:{results:e,searchParams:n}})),t._custom||t.defaultResultsHandler(e,n)}))},document.registerElement("mw-autocomplete",{prototype:e,extends:"input"})}(),function(){var e,t,n=Object.create(window.HTMLElement.prototype),i=MarketWatch.Utility;n.getClient=(e=null,function(){return e||(e=BlueGrass2.Client.create())});function r(e,t){for(var n=i.fragmentFromString(t);e.firstChild;)e.removeChild(e.firstChild);e.parentNode.replaceChild(n,e)}n.attachedCallback=function(){var e=this;this.channel=this.getAttribute("channel"),this.channel&&(this.tickHandler=function(n){!function(e,n){if(!MarketWatch.Video.isActiveIn(".container--curated")){if(e.b.newLayout){r(document.getElementById("news_flatplan"),e.b.newLayout.html);var i=document.querySelector(".container--curated");i.classList.remove("layoutA","layoutB","layoutC","layoutD"),i.classList.add("layout"+e.b.newLayout.id)}else e.b.replace.forEach((function(e,t){var i=document.getElementById(e.oldHash);i?r(i,e.html):r(n.querySelector(".curated"+t+1),e.html)})),e.b.remove.forEach((function(e){var t=document.getElementById(e.hash);t&&t.parentNode.removeChild(t)})),e.b.add.forEach((function(e){if(e.html){var t=document.createElement("div");t.innerHTML=e.html;var n=t.childNodes;document.getElementsByClassName("flatplan")[0].appendChild(n[1])}}));document.createEvent?((t=document.createEvent("Event")).initEvent("curatedUpdate",!0,!0),t.Selector=".container--curated"):t=new CustomEvent("curatedUpdate",{Selector:".container--curated"}),window.dispatchEvent(t)}}(n,e)},BlueGrass2?this.getClient().subscribe(this.channel,this.tickHandler):window.addEventListener("BlueGrassReady",(function(){e.getClient().subscribe(e.channel,e.tickHandler)})))},n.detachedCallback=function(){this.getClient().unsubscribe(this.channel,this.tickHandler)},MarketWatch.ready((function(){window.BGCuratedContentElement=document.registerElement("bg-curated-content",{prototype:n,extends:"div"})}))}(),function(){var e,t=Object.create(window.HTMLElement.prototype),n="Open",i="Closed",r="Holiday";t.getClient=(e=null,function(){return e||(e=BlueGrass2.Client.create())});var a=function(e){var t=e.b.c;if((this.classList.contains("is-closed")?i:n)!==t&&(!function(e){return e===i||e===r}(t)?this.classList.remove("is-closed"):this.classList.add("is-closed"),function(e){return e===n}(t))){var a=this.querySelector(".index .chart--yesterday"),o=a.getAttribute("today-series");if(o){a.setAttribute("yesterday-series",o);var s=this.querySelector(".index__price").firstChild.innerHTML;a.setAttribute("today-series",s.replace(",",""))}}};t.attachedCallback=function(){if(this.channel=this.getAttribute("channel"),this.channel){var e=this;this.tickHandler=a.bind(this),BlueGrass2?e.getClient().subscribe(e.channel,this.tickHandler):window.addEventListener("BlueGrassReady",(function(){e.getClient().subscribe(e.channel,this.tickHandler)}))}},t.detachedCallback=function(){this.getClient().unsubscribe(this.channel,this.tickHandler)},MarketWatch.ready((function(){window.BgGavelElement=document.registerElement("bg-gavel",{prototype:t,extends:"a"})}))}(),function(){var e,t=Object.create(window.HTMLElement.prototype),n={last:"l",change:"c",volume:"v",percentchange:"pc",date:"z"},i=document.querySelector("link[rel='shortcut icon']"),r=document.querySelector(".element--intraday"),a={l:"0,0.00[0000]",c:"0,0.00[0000]",pc:"0,0.00%",v:"0,0.[0]a","v big":"0,0.[0]a"};t.getClient=(e=null,function(){return e||(e=BlueGrass2.Client.create())});var o=function(e,t){if(e.b.y===t.session){var n=parseInt(t.dataset.lastStamp),o=BlueGrass2.Utility.convertToExchangeTime(e.b.z,e.b.e);if("v"===t.field||isNaN(n)||!(o.getTime()<n)){var s=t.getAttribute("prefix"),c=t.getAttribute("suffix");t.dataset.lastStamp=o.getTime();var l,u,d,h=t.default;if("pc"===t.field)h=(e.b.l-(e.b.l-e.b.c))/(e.b.l-e.b.c),t.isPercent||(h*=100);else if("pc"===t.field||"l"===t.field||"c"===t.field||"v"===t.field){h=e.b[t.field];var f=t.dataset.lastRaw;if("v"===t.field&&f&&f>0&&h<=f)return;t.dataset.lastRaw=h}else"z"===t.field&&(l=o,u=MarketWatch.Utility.monthNamesAbbr[l.getMonth()],d=l.getHours(),h=u+" "+l.getDate()+", "+l.getFullYear()+" at "+(0===d?"12":d>12?d-12:d)+":"+(l.getMinutes()<10?"0":"")+l.getMinutes()+(d<12?" a.m.":" p.m."));if(t.field&&"z"!==t.field){var p=t.format||a[t.field+(h>1e5?" big":"")]||a[t.field];p&&(h=function(e,t){return numeral(t).format(e)||t}(p,h),"v"===t.field&&(h=h.toUpperCase()))}if("z"!==t.field&&"v"!==t.field){var m="neutral",g="";e.b.c>0?(m="positive",g="tick--up",t.classList.remove("neutral","negative"),r&&r.contains(t)&&(i.href="https://mw2.wsj.net/mw5/content/images/favicons/faviconPOS-32x32.png")):e.b.c<0?(m="negative",g="tick--down",t.classList.remove("positive","neutral"),r&&r.contains(t)&&(i.href="https://mw2.wsj.net/mw5/content/images/favicons/faviconNEG-32x32.png")):(t.classList.remove("positive","negative"),r&&r.contains(t)&&(i.href="https://mw4.wsj.net/mw5/content/logos/favicon.ico")),t.classList.add(m),t.tick>0&&g.length>0&&(clearTimeout(t.tickTimeout),t.classList.remove("tick--up","tick--down"),t.classList.add(g),t.tickTimeout=setTimeout((function(){t.classList.remove(g)}),t.tick))}h.length>0&&(s&&(h=s+h),c&&(h+=c),t.textContent=h)}}};t.attachedCallback=function(){var e=this,t=this.getAttribute("channel");switch(this.session=this.getAttribute("session"),this.session){case"pre":this.session="premarket";break;case"after":this.session="aftermarket";break;default:this.session="normal"}if(t)if(t.indexOf(",")>0?(this.channels=t.split(","),this.channels.forEach((function(e){e=e.trim()}))):this.channels=[t.trim()],this.tickHandler=function(t){o(t,e)},this.field=n[(this.getAttribute("field")||"").toLowerCase()],this.default=this.getAttribute("default")||"",this.decimals=parseInt(this.getAttribute("decimals"),10)||2,this.format=this.getAttribute("format"),this.isPercent=!this.format||this.format.indexOf("%")>=0,this.tick=parseInt(this.getAttribute("tick",10))||0,isNaN(this.tick)&&(this.tick=0),BlueGrass2){var i=e.getClient();e.channels.forEach((function(t){i.subscribe(t,e.tickHandler)}))}else window.addEventListener("BlueGrassReady",(function(){var t=e.getClient();e.channels.forEach((function(n){t.subscribe(n,e.tickHandler)}))}))},t.detachedCallback=function(){var e=this,t=e.getClient();null!==t&&void 0!==e.channels&&e.channels.forEach((function(n){t.unsubscribe(n,e.tickHandler)}))},MarketWatch.ready((function(){window.BgQuoteElement=document.registerElement("bg-quote",{prototype:t})}))}(),function(){var e=Object.create(HTMLDivElement.prototype);function t(){return Highcharts.dateFormat("%b %e",this.value)}function n(){return Highcharts.dateFormat("%b %y",this.value)}e.removeComponent=function(){},e.createdCallback=function(){},e.attachedCallback=function(){!function(e){var n=e.getAttribute("data-ticker");e.getAttribute("data-country-code");o="True"===e.getAttribute("data-is-before-hours"),s="True"===e.getAttribute("data-is-after-hours"),f="True"===e.getAttribute("data-is-mobile"),("Bond"==(u=e.getAttribute("data-instrument-type"))||"Future"==u||u.indexOf("Fund")>=0||u.indexOf(!1))&&(b.D1.tickInterval=72e5,b.D5.tickPositioner=g,b.D5.tickInterval=1728e5);var y=e.getAttribute("data-price-history-start-date"),w=document.getElementById("percent-toggle-last"),x=document.getElementById("percent-toggle-percent"),k=document.getElementById("percent-toggle-volume");switch(u.toLowerCase()){case"treasurybond":case"bond":w.classList.add("u-hidden"),k.classList.add("u-hidden"),x.classList.add("u-hidden");break;case"cryptocurrency":case"currency":k.classList.add("u-hidden");break;case"fund":case"openendfund":case"closedendfund":case"closeendfund":c="P1Y",k.classList.add("u-hidden");var S=document.getElementById("range-dropdown"),M=[];for(i=0;i<S.length;i++)"D1"!=S.options[i].value&&"D5"!=S.options[i].value||M.push(S.options[i]);for(j=0;j<M.length;j++)S.options.remove(M[j]);b.D5.step="P1D",b.D5.formatter=t,b.D5.xAxisCompressed=!1,b.D5.useExtendedTimeFrame=!1;break;case"index":k.classList.add("u-hidden");break;case"interestrate":case"loanrate":case"moneyrate":S=document.getElementById("range-dropdown"),M=[];for(i=0;i<S.length;i++)"D1"!=S.options[i].value&&"D5"!=S.options[i].value||M.push(S.options[i]);for(j=0;j<M.length;j++)S.options.remove(M[j]);w.classList.add("u-hidden"),k.classList.add("u-hidden"),x.classList.add("u-hidden"),c="ALL";break;case"stock":case"future":case"preferredstock":case"exchangetradedfund":default:var C=new Date(y);(new Date).getTime(),C.getTime();d=!0}f&&(v=b[c].mobileNthMonth||0);MarketWatch.Charts.loadChartJS((function(){var e,t;!function(){var e=document.querySelector(".dropdown--chart");e&&e.addEventListener("change",(function(){this&&this.value&&function(e){if(e!==c)try{c=e,r.timeFrame=e,r.step=""==h?b[e].step:h,l.highchartsStyles.xAxis.labels.formatter=b[e].formatter;var t=b[c].enableDataGrouping;if(0==t?(l.highchartsStyles.plotOptions.area.dataGrouping={},l.highchartsStyles.plotOptions.series.dataGrouping={},l.highchartsStyles.plotOptions.area.dataGrouping.enabled=t,l.highchartsStyles.plotOptions.series.dataGrouping.enabled=t,l.highchartsStyles.plotOptions.series.lineWidth=m):(l.highchartsStyles.plotOptions.area.dataGrouping=null,l.highchartsStyles.plotOptions.series.dataGrouping=null,l.highchartsStyles.plotOptions.series.lineWidth=p),f&&(v=b[c].mobileNthMonth||0),"D1"===c){if(l.highchartsStyles.xAxis.tickInterval=null,l.highchartsStyles.xAxis.tickPositioner=null,l.highchartsStyles.xAxis.tickPixelInterval=100,"Hybrid"==r.series[0].desiredDataPoint){var n=_.cloneDeep(Michelangelo.MetaData.OpenHighLowLines);_.forEach(n.parameters,(function(e){e.defaultValue=_.includes(["ShowPriorClose"],e.name)})),r.series[0].addIndicator(new Michelangelo.Indicator(n))}1==d&&(1==o&&(r.showPreMarketBands=!0,r.showPreMarket=!0),1==s&&(r.showAfterHoursBands=!0,r.showAfterHours=!0))}else r.series[0].indicators.length=0,l.highchartsStyles.xAxis.tickInterval=b[e].tickInterval||null,l.highchartsStyles.xAxis.tickPositioner=b[e].tickPositioner||null,l.highchartsStyles.xAxis.tickPixelInterval=b[e].tickPixelInterval||100,r.showAfterHoursBands=!1,r.showAfterHours=!1,r.showPreMarketBands=!1,r.showPreMarket=!1;r.xAxisCompressed=b[c].xAxisCompressed,r.useExtendedTimeFrame=b[c].useExtendedTimeFrame,a.render()}catch(e){console.log(e)}}(this.value)}))}(),e=document.querySelector(".chart__toggle"),t="%",e&&e.children&&_.forEach(e.children,(function(e){e.addEventListener("click",(function(){try{if(this&&!this.classList.contains("is-selected")&&(_.forEach(this.parentNode.children,(function(e){e.classList.remove("is-selected")})),this.classList.add("is-selected"),t=this.innerHTML,r.series&&r.series.length>0)){if("%"==t)r.series[0].desiredDataPoint="PercentChange",r.series[0].indicators.length=0,r.series[0].chartType="area";else if("Vol"==t)r.series[0].desiredDataPoint="Volume",r.series[0].indicators.length=0,r.series[0].chartType="column";else if(r.series[0].desiredDataPoint="Hybrid",r.series[0].chartType="area","D1"===c){var e=_.cloneDeep(Michelangelo.MetaData.OpenHighLowLines);_.forEach(e.parameters,(function(e){e.defaultValue=_.includes(["ShowPriorClose"],e.name)})),r.series[0].addIndicator(new Michelangelo.Indicator(e))}else r.series[0].indicators.length=0;a.render()}}catch(e){console.log(e)}}))})),currentSymbol=n,(r=new Michelangelo.ChartDefinition).timeFrame=c,r.step=""==h?b[c].step:h,r.showPreMarketBands=!1,r.showAfterHoursBands=!1,r.showClosedBands=!1,r.showNavigator=!1,r.showRangeSelector=!1,r.showExporting=!1,r.showLegend=!1,r.wantPriorClose=!0,r.includeClosedSlots=!1,r.includeOfficialClose=!0,r.includeMockTick=!0,r.maxVisibleAxesPerPane=3,r.xAxisTitle="",r.showYAxisTitle=!1,r.addTimeZoneToXAxisTitle=!1;var i=new Michelangelo.TickerSeries;if(i.setTicker(currentSymbol),i.chartType="area",r.addSeries(i),"D1"===c){var u=_.cloneDeep(Michelangelo.MetaData.OpenHighLowLines);_.forEach(u.parameters,(function(e){e.defaultValue=_.includes(["ShowPriorClose"],e.name)})),i.addIndicator(new Michelangelo.Indicator(u)),1==d&&(1==o&&(r.showPreMarketBands=!0,r.showPreMarket=!0),1==s&&(r.showAfterHoursBands=!0,r.showAfterHours=!0))}else r.series[0].indicators.length=0,r.showAfterHoursBands=!1,r.showAfterHours=!1,r.showPreMarketBands=!1,r.showPreMarket=!1;r.xAxisCompressed=b[c].xAxisCompressed,r.useExtendedTimeFrame=b[c].useExtendedTimeFrame;var g=new Michelangelo.ToolTipFormatter;g.showDateRange=!1,l={mikeStyle:{marketBands:{enabled:!0,preMarket:{color:"#eef"},afterMarket:{color:"#eef"},labelStyle:{rotation:90,align:"center",verticalAlign:"middle",y:10,textAlign:"right",style:{color:"#777",fontSize:"8pt"}}},marketLines:{preMarket:{right:{enabled:!0,width:2,dashStyle:"ShortDot",color:"#CCC"}},afterMarket:{left:{enabled:!0,width:2,dashStyle:"ShortDot",color:"#CCC"}}}},highchartsStyles:{colors:["rgb(136, 184, 227)","rgb(100, 131, 131)","rgb(218, 178, 108)","rgb(184, 192, 192)","rgb(87, 158, 137)"],chart:{margin:[0,40,15,0],borderWidth:0,plotBorderWidth:0,backgroundColor:"#FFF",plotBackgroundColor:"#FFF",plotBorderColor:"#FFF",pinchType:null,zoomType:null},legend:{borderWidth:0,useHTML:!1},plotOptions:{series:{lineWidth:2.75,states:{hover:{enabled:!1}}},area:{fillColor:"rgba(50, 118, 170, .15)",connectNulls:!0,dataGrouping:{enabled:!1}}},xAxis:{alternateGridColor:"#F8F8F8",title:{text:null},labels:{style:{color:"#5a5e61","font-size":"10px"},y:12,formatter:b[c].formatter},tickLength:3,lineWidth:0,startOnTick:!1,endOnTick:!1},yAxis:{offset:40,gridLineColor:"#E4E4E4",gridLineWidth:1,maxPadding:.25,title:{text:null},labels:{style:{"font-size":"10px",color:"#5a5e61",width:"30px"},x:-3},startOnTick:!0,endOnTick:!0},tooltip:{enabled:!f,crosshairs:!f,backgroundColor:"#252627",borderColor:null,borderWidth:0,style:{color:"#FFF"}}},aggregateStyles:{OpenHighLowLines:{high:{color:"#00b742"},low:{color:"#cd2232",width:1},priorClose:{color:"#dc8042"}}}};var y=b[c].enableDataGrouping;0==y?(l.highchartsStyles.plotOptions.area.dataGrouping={},l.highchartsStyles.plotOptions.series.dataGrouping={},l.highchartsStyles.plotOptions.area.dataGrouping.enabled=y,l.highchartsStyles.plotOptions.series.dataGrouping.enabled=y,l.highchartsStyles.plotOptions.series.lineWidth=m):(l.highchartsStyles.plotOptions.area.dataGrouping=null,l.highchartsStyles.plotOptions.series.dataGrouping=null,l.highchartsStyles.plotOptions.series.lineWidth=p);var w=MarketWatch.Charts.currentChartPosition||0,x=document.querySelectorAll("[id=mikey-chart"),k=x[w];x.length>1&&(MarketWatch.Charts.currentChartPosition=w+1),(a=$(k).presentation({bluegrassClient:new Michelangelo.BlueGrassClient(BlueGrass2.Runtime)})).size({width:"fill",height:"fill"}).def(r).style(l).tooltipFormatter(g).render();var S=document.querySelector(".chart__figure");S&&S.classList.add("is-loaded");var M=document.getElementById("range-dropdown");M&&(M.value=c),!0}))}(this)},e.detachedCallback=function(){};var r=null,a=null,o=!1,s=!1,c="D1",l={},u="",d=!1,h="",f=!1,p=2.75,m=1.75,g=function(){for(var e,t,n,i,r=0,a=null,o=this.chart.series.length?this.chart.series[0].xData:[],s=o.length,c=[];r<s;r++)if(e=o[r],i=(t=new Date(e)).getDay(),a!==(n=t.getUTCFullYear()+"-"+t.getUTCMonth()+"-"+t.getUTCDate())){if(6===i||0===i)continue;c.push(e),a=n}if(c.length>5){var l=c.length-5;c=c.splice(l,c.length)}return c},v=0,y=function(){for(var e,t,n=0,i=null,r=this.chart.series.length?this.chart.series[0].xData:[],a=r.length,o=[];n<a;n++)e=r[n],i!==(t=new Date(e).getUTCMonth())&&(o.push(e),i=t);if(v>1)o=o.filter((function(e,t){return 0!=t&&t%v==0}));else{o.length>1&&o[1]-o[0]<864e6&&(o=o.slice(1)),o.length>1&&o[o.length-1]-o[o.length-2]<864e6&&(o=o.slice(0,o.length-1))}return o},b={D1:{step:"PT1M",track:"1D",formatter:function(){return Highcharts.dateFormat("%l:%M%P",this.value).replace(":00","")},xAxisCompressed:!1,useExtendedTimeFrame:!1,enableDataGrouping:!1},D5:{step:"PT5M",track:"5D",formatter:function(){return Highcharts.dateFormat("%a",this.value)},xAxisCompressed:!0,useExtendedTimeFrame:!0,tickPositioner:function(){for(var e,t,n,i=0,r=null,a=this.chart.series.length?this.chart.series[0].xData:[],o=a.length,s=[];i<o;i++)e=a[i],r!==(n=(t=new Date(e)).getUTCFullYear()+"-"+t.getUTCMonth()+"-"+t.getUTCDate())&&(s.push(e),r=n);return s},enableDataGrouping:!1},P29D:{step:"P1D",track:"1M",formatter:t,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickInterval:6048e5,enableDataGrouping:!0},P3M:{step:"P1D",track:"3M",formatter:n,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickPositioner:y,enableDataGrouping:!0},P6M:{step:"P1D",track:"6M",formatter:n,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickPositioner:y,enableDataGrouping:!0},P1Y:{step:"P1D",track:"1Y",formatter:n,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickPositioner:y,mobileNthMonth:2,enableDataGrouping:!0},P2Y:{step:"P7D",track:"2Y",formatter:n,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickInterval:78624e5,enableDataGrouping:!0},P3Y:{step:"P7D",track:"3Y",formatter:n,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickInterval:157248e5,enableDataGrouping:!0},ALL:{step:"P7D",track:"all",formatter:n,xAxisCompressed:!0,useExtendedTimeFrame:!0,enableDataGrouping:!0},YTD:{step:"P1D",track:"YTD",formatter:n,xAxisCompressed:!0,useExtendedTimeFrame:!0,enableDataGrouping:!0}},w=new Date,x=new Date(w.getFullYear(),0,0),k=w-x,S=Math.floor(k/864e5);b.YTD=S<2?b.D1:S<7?b.D5:S<31?b.P29D:S<90?b.P3M:S<180?b.P6M:b.P1Y,getQuoteToolConfig=function(){return{}},document.registerElement("mw-chart",{prototype:e})}(),void 0===MarketWatch)var MarketWatch={};function setFeatureClasses(){(!!("ontouchstart"in window)||!!("onmsgesturechange"in window))&&document.querySelector("body").classList.add("is-touch")}function chicletPositionSetter(){var e=document.getElementsByClassName("j-ticker__chiclet")[0],t={};if(e){t=e.getBoundingClientRect();var n=document.getElementsByClassName("j-masthead"),i=n[0]&&n[0].offsetHeight?n[0].offsetHeight:0,r=document.getElementsByClassName("j-trending"),a=r[0]&&r[0].offsetHeight?r[0].offsetHeight:0;if(t.top<i+15)e.style.top=i+"px";else if(t.top>window.innerHeight-(t.height+a)){var o=window.innerHeight-(t.height+a)+"px";e.style.top=o}}}function bindQuoteTips(e){var t=null,n=null,i=null,r=document.getElementById("j-qt-placeholder");if(!(document.documentElement.clientWidth<975))for(var a=document.getElementsByClassName(e),o=0;o<a.length;o++)a[o].addEventListener("mouseenter",(function(e){clearTimeout(t);var a=(n=this).getAttribute("data-charting-symbol"),o=fetchChicletData(a);if(null!==o&&null!=o.quote){if(o.ad&&o.ad.name)var s="ad-"+(o.ad.name+" "+o.display.companyName).replace(/\s/g,"-").replace(/^[^a-z]+|[^\w-]+/gi,"").toLowerCase();r.innerHTML=generateQuoteTip(o,a,s),(i=document.getElementById("qt-"+a))&&i.getAttribute("id").indexOf(a)<0&&(i.innerHTML="");var c=i.getElementsByClassName("j-range__bar");if(c.length>1)for(var l=0;l<c.length;l++){c[l].onclick=function(){Array.prototype.forEach.call(c,(function(e){e.classList.toggle("active")}))}}doAd(s,o,a),setChicletOffset(n,i),i.classList.remove("hidden");var u=_.throttle(chicletPositionSetter,250);window.addEventListener("scroll",u,!1),i.addEventListener("mouseout",(function(){t=setTimeout((function(){!i||isHover(i)||isHover(n)||(i.classList.add("hidden"),r.innerHTML="")}),500),e.preventDefault()})),e.preventDefault()}})),a[o].addEventListener("mouseout",(function(e){t=setTimeout((function(){!i||isHover(i)||isHover(n)||(i.classList.add("hidden"),r.innerHTML="")}),500),e.preventDefault()}))}function setChicletOffset(e,t){var n=e.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,r=window.pageYOffset||document.documentElement.scrollTop,a=n.left+i,o=n.top+r,s=n.width,c=n.height,l=t.getBoundingClientRect(),u=l.width,d=l.height,h=u+parseInt(t.style.marginLeft||0)+parseInt(t.style.marginRight||0),f=d+parseInt(t.style.marginTop||0)+parseInt(t.style.marginBottom||0),p=s/2;a<u/4?(p=a+s/2,t.classList.add("pos__right")):a+s/2+h>document.documentElement.clientWidth?(p=a+s/2-h,t.classList.add("pos__left")):(p=a+s/4,t.classList.remove("pos__left","pos__right"));var m=o,g=document.querySelector("header.j-masthead"),v=g.getBoundingClientRect().height+parseInt(g.style.marginTop||0)+parseInt(g.style.marginBottom||0);o-document.documentElement.scrollTop-v-5<f+80?(m=o+14+c,t.classList.add("pos__below")):(m=o-(f+14),t.classList.add("pos__above")),t.dataset.seen=!0,t.style.top=m+"px",t.style.left=p+"px"}function isHover(e){return null!=e&&(!(!e||null!==e.parentElement)||e.parentElement.querySelector(":hover")===e)}function generateQuoteTip(e,t,n){for(var i="0,000.",r=1;r<=e.quote.price.value.mantissaPrecision;r++)i+="0";var a="unchanged";-1===e.quote.changeDirection&&(a="negative"),1===e.quote.changeDirection&&(a="positive");var o=e.instrumentType?e.instrumentType:null,s="https://sts3.wsj.net/bucket-a/foxtrot/",c=e.display&&"kraken"===e.display.logo?'<a class="kraken" href="https://www.kraken.com/" rel="nofollow" target="_blank"><img class="logo" src="'+s+'public/svg/vendor/kraken-logo.svg" alt="Kraken Logo" /></a>':"",l=e.display&&"coindesk"===e.display.logo?'<a class="coindesk" href="https://www.coindesk.com/" rel="nofollow" target="_blank"><img class="logo" src="'+s+'public/svg/vendor/coindesk-logo.svg" alt="CoinDesk Logo" /></a>':"",u=c||l?'<div class="chiclet__thirdparty-intro">Data provided by</div>':"",d=e.headlines&&e.headlines.length>0?'<div class="chiclet__headlines"><div class="label">Related Headlines</div><a href="'+appendTrackingCode(e.headlines[0].url,"mw_maggie_hoverstory")+'" class="link chiclet-headline-link">'+e.headlines[0].headline+"</a></div>":"",h=e.quote.open?generateSingleItemHtml("open","Open",e.quote.open.formatted,!1,null,null):"",f=e.quote.volume?generateSingleItemHtml("volume","Volume",e.quote.volume.formatted,!0,"volume",e.blueGrassChannel):"",p=e.quote.peRatio?generateSingleItemHtml("peratio","P/E Ratio",e.quote.peRatio.formatted,!1,null,null):"",m=e.quote.yield?generateSingleItemHtml("yield","Div Yield",e.quote.yield.formatted,!1,null,null):"",g=e.quote.marketCap?generateSingleItemHtml("marketcap","Market Cap",e.quote.marketCap.formatted,!1,null,null):"",v=e.quote.changePercent?'<div class="percentage chiclet__thirdparty-link '+a+'">(<bg-quote class="chiclet-change-percent" format="'+i+'%" field="percentChange" channel="'+e.blueGrassChannel+'" sync=".percentage">'+e.quote.changePercent.formatted+"</bg-quote>)</div>":"",y=0;e.dayRange&&(y+=1),e.yearRange&&(y+=1);var b=e.blueGrassChannel;o&&"bond"===o.toLowerCase()&&(b="");var w=e.quote.price&&e.quote.price.value&&e.quote.price.value.symbol&&!1===e.quote.price.value.isSuffix?e.quote.price.value.symbol:"",x=e.quote.price&&e.quote.price.value&&e.quote.price.value.symbol&&!0===e.quote.price.value.isSuffix?e.quote.price.value.symbol:"",k=e.quote.price.value.mantissaPrecision,S=e.dayRange?generateRangeBarHtml(e.dayRange,"day",y>1?"active":"",k,b):"",M=e.yearRange?generateRangeBarHtml(e.yearRange,"year",y<=1?"active":"",k,b):"";return'<div class="ticker__chiclet j-ticker__chiclet quote-tip bgDeferredQuote" data-channel="'+b+'" data-bgformat="" id="qt-'+t+'" data-symb="'+t+'"><a href="'+appendTrackingCode(e.quotePageUrl,"mw_maggie_hoverquote")+'" class="chiclet__name">'+e.display.companyName+'</a><div class="chiclet__thirdparty">'+u+c+l+'</div><div class="chiclet__intraday"><div class="price"><bg-quote field="last" prefix="'+w+'" suffix="'+x+'" format="'+i+'" channel="'+b+'">'+e.quote.price.formatted+'</bg-quote></div><div class="change u-flex"><div class="point chiclet__thirdparty-link '+a+'"><bg-quote class="chiclet-change-value" field="change" format="'+i+'" channel="'+b+'" sync=".change">'+e.quote.change.formatted+"</bg-quote></div>"+v+'</div></div><div class="chiclet__data u-flex">'+h+f+p+m+g+'</div><div class="chiclet__range item-field item-date-range">'+S+M+"</div>"+d+'<div class="chiclet__ad"><a href="'+appendTrackingCode(e.quotePageUrl,"mw_maggie_hoverbutton")+'" class="btn btn--outline">See Full Quote</a><div class="element element--ad" aria-label="advertisement"><div id="'+n+'" class="j-ad"></div></div></div></div>'}function generateSingleItemHtml(e,t,n,i,r,a){var o="",s="";return i&&(o='<bg-quote field="'+r+'" channel="'+a+'">',s="</bg-quote>"),'<div class="list__item chiclet-'+e+'"><div class="item__cell">'+t+'</div><div class="item__cell chiclet-'+e+'-value">'+o+" "+n+" "+s+"</div></div>"}function generateRangeBarHtml(e,t,n,i,r){var a="day"===t,o=e.high.value,s=e.low.value,c=o-s,l=(e.last.value-s)/c*100;return"<mw-rangeBar "+(i?'precision="'+i+'"':"")+' bar-low="'+s+' " bar-high="'+o+'" quote-channel="'+r+'" class="style__dot range__bar j-range__bar range-'+t+" "+(a?"lowHigh--day":"")+" "+n+'"><div class="range__data labels"><span class="low range__left">'+e.low.formatted+'</span><span class="high range__right">'+e.high.formatted+'</span></div><div class="range__chart"><div class="current" style="left:'+l+'%;" title="'+e.last.formatted+'"></div></div></mw-rangeBar>'}function doAd(e,t,n){if(window.adslots&&window.adslots[e]&&window.adslots[e].slot)googletag.pubads().refresh([window.adslots[e].slot]);else if("undefined"!=typeof googletag&&googletag.cmd){var i=t.ad.parameters.reduce((function(e,t){return e[t.key]||(e[t.key]=[]),e[t.key].push(t.value),e}),{}),r="",a=n?n.split("/"):[];4===a.length&&(/us/i.test(a[1])||(r+=a[1]+":"),r=(r+a[3]).toLowerCase()),i.sym=[r],googletag.cmd.push((function(){var n={options:{adActivate:!0,adId:e,adUnitPath:"/2/"+t.ad.site+"/"+t.ad.zone,adSize:[[288,40]],adTargeting:i,adLocation:i.adlocation||"",isObserve:!0,observeFromUAC:!0,triggerPrebid:!0,moatEnabled:!0,collapseAdBeforeFetch:!0,threshold:.01}};window.uacQueue||(window.uacQueue=[]),"function"==typeof window.__buildAd?window.__buildAd(n):window.uacQueue.push(n)}))}}function appendTrackingCode(e,t){return e+(e.indexOf("?")>=0?"&mod="+t:"?mod="+t)}function fetchChicletData(e){if(!e)return{};var t=null,n=MarketWatch.Settings.endpoints.chiclet+"?chartingSymbol="+encodeURIComponent(e);return $.ajax({method:"GET",url:n,async:!1,dataType:"json",jsonp:!1,success:function(e){t=e},error:function(){}}),t}MarketWatch.ready((function(){setFeatureClasses(),bindQuoteTips("j-qt-chip")}));class DownloadDataComponent extends HTMLElement{constructor(){super()}_moreDownloadData(e,t){const n=["partial=true"];for(const e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));const i=e.replace("/download-data","/downloaddatapartial");return fetch(MarketWatch.Settings.endpoints.siteroot+i+"?"+n.join("&"),{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status}))}_refresh(e){this.insertAdjacentHTML("afterend",e),this.parentNode.removeChild(this)}_next(e){if(e.preventDefault(),"true"===e.currentTarget.dataset.isDisabled)return;const t=this,n={index:(t.index||0)+1,countryCode:t.countryCode,iso:t.isoCode,startDate:t.startDate,endDate:t.endDate,frequency:t.frequency,downloadPartial:!0,csvDownload:!1,newDates:!1};t._moreDownloadData(t.requestPath,n).then((function(e){t._refresh(e)})).catch((function(){}))}_previous(e){if(e.preventDefault(),"true"===e.currentTarget.dataset.isDisabled)return;const t=this,n={index:(t.index||0)-1,countryCode:t.countryCode,iso:t.isoCode,startDate:t.startDate,endDate:t.endDate,frequency:t.frequency,downloadPartial:!0,csvDownload:!1,newDates:!1};t._moreDownloadData(t.requestPath,n).then((function(e){t._refresh(e)})).catch((function(){}))}connectedCallback(){this.requestPath=window.location.pathname;const e=MarketWatch.Utility.getQueryString();this.countryCode=e.hasOwnProperty("countrycode")?e.countrycode:"",this.isoCode=e.hasOwnProperty("iso")?e.iso:"",this.hasAttribute("index")&&(this.index=parseInt(this.getAttribute("index"))),this.hasAttribute("count")&&(this.count=parseInt(this.getAttribute("count"))),this.hasAttribute("total")&&(this.totalcount=parseInt(this.getAttribute("total"))),this.hasAttribute("start")&&(this.startDate=this.getAttribute("start")),this.hasAttribute("end")&&(this.endDate=this.getAttribute("end")),this.hasAttribute("frequency")&&(this.frequency=this.getAttribute("frequency"));const t=this.querySelector(".j-next");t&&t.addEventListener("click",this._next.bind(this));const n=this.querySelector(".j-previous");n&&n.addEventListener("click",this._previous.bind(this))}}window.customElements.define("mw-downloaddata",DownloadDataComponent),function(){var e=Object.create(HTMLElement.prototype);function t(){this.parentNode&&(this.parentNode.removeChild(this),MarketWatch.Bulletin.Expired())}e.removeComponent=function(){t.bind(this)()},e.getTimeLeft=function(){return this.endTime-Date.now()},e.attachedCallback=function(){this.timeLeft=parseInt(this.getAttribute("duration")),this.endTime=Date.now()+this.timeLeft,"number"==typeof this.timeLeft&&!isNaN(this.timeLeft)&&this.timeLeft>0&&(this.timeout=setTimeout(t.bind(this),this.timeLeft))},e.detachedCallback=function(){clearTimeout(this.timeout)},document.registerElement("mw-expires",{prototype:e})}();class HybridTabsPrototype extends HTMLElement{constructor(){super()}_firstTimeTabFetcher(e){var t=e.dataset.url,n=this;t&&(this._fetchTabContents(t).then((function(e){n._refresh(e)})).catch((function(){})),e.removeAttribute("data-url"))}_fetchTabContents(e){return fetch(MarketWatch.Settings.endpoints.siteroot+e,{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status}))}_refresh(e){var t=this.activeTabPane.querySelector(".j-tabBody");if(t){for(;t.firstChild;)t.removeChild(t.firstChild);t.insertAdjacentHTML("beforeend",e)}}_handleTabClick(e){var t=this;if(e.target&&e.target.dataset.tabPane)if(this.activeTab=e.target,this.activeTab.classList.contains("is-selected"))this.activeTab.classList.remove("is-selected"),this.tabPanes.forEach((function(t){t.dataset.tabPane===e.target.dataset.tabPane&&t.classList.remove("is-selected")})),this.tabs.forEach((function(t){t.dataset.tabPane===e.target.dataset.tabPane&&t.classList.remove("is-selected")}));else{this.activeTab.classList.add("is-selected"),this.tabPanes.forEach((function(n){n.dataset.tabPane===e.target.dataset.tabPane&&(n.classList.add("is-selected"),t.activeTabPane=n)})),this.tabs.forEach((function(t){t.dataset.tabPane===e.target.dataset.tabPane&&t.classList.add("is-selected")})),this.activeTabPane.dataset.url&&this._firstTimeTabFetcher(this.activeTabPane);var n=this.activeTabPane.getBoundingClientRect().top;MarketWatch.Miscellaneous.scrollTo(window.pageYOffset+n-200)}return e.preventDefault&&e.preventDefault(),e.returnValue=!1,!1}_handleFoldClick(e){var t=this;e.target&&e.target.dataset.tabPane&&(this.tabPanes.forEach((function(n){n.dataset.tabPane===e.target.dataset.tabPane&&(t.activeTab=n)})),this.activeTab.classList.contains("is-selected")?(this.activeTab.classList.remove("is-selected"),this.tabs.forEach((function(t){t.dataset.tabPane===e.target.dataset.tabPane&&t.classList.remove("is-selected")}))):(this.activeTab.classList.add("is-selected"),this.tabs.forEach((function(t){t.dataset.tabPane===e.target.dataset.tabPane&&t.classList.add("is-selected")})),this.activeTabPane=this.activeTab,this.activeTab.dataset.url&&this._firstTimeTabFetcher(this.activeTab)))}_hide(e){e.preventDefault(),this.tabs.forEach((function(e){e.classList.remove("is-selected")})),this.tabPanes.forEach((function(e){e.classList.remove("is-selected")}));var t=this.getBoundingClientRect().top;MarketWatch.Miscellaneous.scrollTo(window.pageYOffset+t-200)}connectedCallback(){var e=this;this.tabs=Array.prototype.slice.call(this.querySelectorAll(".j-tabItem")),this.activeTab=this.querySelector(".j-tabItem.is-selected"),this.tabPanes=Array.prototype.slice.call(this.querySelectorAll(".j-tabPane")),this.hideButton=this.querySelector(".j-hide"),this.folds=Array.prototype.slice.call(this.querySelectorAll(".j-accordion")),this.activeTabPane=this.querySelector(".j-tabPane.is-active"),this.hideButt=this.querySelector(".j-hide"),this.tabs.forEach((function(t){t.addEventListener("click",e._handleTabClick.bind(e))})),this.folds.forEach((function(t){t.addEventListener("click",e._handleFoldClick.bind(e))})),this.hideButt.addEventListener("click",this._hide.bind(this))}}window.customElements.define("mw-hybrid",HybridTabsPrototype),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Vse&&(MarketWatch.Vse={mw5siteroot:MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot}),function(){const e=MarketWatch.Settings.cloudVsePath;function t(t,n,i){var r={};return"undefined"!==t&&null!=t&&(r.chartingSymbol=t),"undefined"!==i&&null!=i&&(r.fuid=i),function(e,t){var n=["partial=true"];for(var i in t)t.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return fetch(MarketWatch.Settings.endpoints.siteroot+"/"+e+"?"+n.join("&"),{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status}))}(e+"/"+(n?n+"/":"")+"miniquote",r).then((function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),n=t.querySelector(".j-content");n.innerHTML=e,MarketWatch.Lightbox.RegisterElement(t),MarketWatch.Tracking?(MarketWatch.Tracking.registerAllEvents(n),MarketWatch.Lightbox.Open(t,(function(){MarketWatch.Tracking.unregisterAllEvents(n)}))):MarketWatch.Lightbox.Open(t);var i=n.querySelector('.j-miniTrade[is="mw-autocomplete"]');if(i)MarketWatch.Vse.AutoComplete.setup(i),i.addEventListener("keypress",a),i.addEventListener("keydown",o);else{var r=n.querySelector('.j-miniTrade[is="vse-custom-symbols"]');r&&(MarketWatch.Vse.CustomSymbol.setup(r),r.addEventListener("keypress",a),r.addEventListener("keydown",o))}var a=function(e){this.classList&&this.classList.contains("error")&&this.classList.remove("error")},o=function(e){if(13===(e.keyCode?e.keyCode:e.which?e.which:e.charCode))return e.preventDefault(),!1},s=n.querySelectorAll(".j-trade");if(s)for(var c=0;c<s.length;c++)s[c].addEventListener("click",(function(e){MarketWatch.Vse.TradeOrder.Open(e,e.currentTarget.getAttribute("charting-symbol"),e.currentTarget.getAttribute("urlFragment"))}))})).catch((function(e){}))}function n(e){return e.preventDefault(),t(this.chartingSymbol,this.urlFragment,this.fuid)}var i=Object.create(window.HTMLElement.prototype);i.attachedCallback=function(){this.urlFragment=this.getAttribute("urlFragment"),this.urlFragment&&(this.hasAttribute("charting-symbol")&&(this.chartingSymbol=this.getAttribute("charting-symbol")),this.hasAttribute("fuid")&&(this.fuid=this.getAttribute("fuid")),this.addEventListener("click",n.bind(this)))},window.MiniQuoteElement=document.registerElement("mini-quote",{prototype:i});var r=Object.create(window.HTMLTableRowElement.prototype);r.attachedCallback=function(){this.urlFragment=this.getAttribute("urlFragment"),this.urlFragment&&(this.hasAttribute("charting-symbol")&&(this.chartingSymbol=this.getAttribute("charting-symbol")),this.hasAttribute("fuid")&&(this.fuid=this.getAttribute("fuid")),this.addEventListener("click",n.bind(this)))},window.MiniQuoteRowElement=document.registerElement("mini-quote-tr",{prototype:r,extends:"tr"}),MarketWatch.Vse.MiniQuote={open:function(e){MarketWatch.Tracking.trackPage({page_content_type_detail:"quote"});var n=e.currentTarget;return t(n.getAttribute("charting-symbol"),n.getAttribute("urlFragment"),n.getAttribute("fuid"))}}}(),function(){var e=Object.create(window.HTMLInputElement.prototype);e.attachedCallback=function(){},e.onKeyDown=function(e){var t=e.which?e.which:event.keyCode;if(this.max&&(8==t||46==t)){this.selectionStart;var n=this.max;if(this.selectionStart!=this.selectionEnd?n=parseFloat(this.value.slice(0,this.selectionStart)+this.value.slice(this.selectionEnd)):8==t&&this.selectionStart>0?n=parseFloat(this.value.slice(0,this.selectionStart-1)+this.value.slice(this.selectionEnd)):46==t&&(n=parseFloat(this.value.slice(0,this.selectionStart)+this.value.slice(this.selectionEnd))),n>this.max)return e.preventDefault(),!1}},e.onKeyPress=function(e){var t=e.which?e.which:event.keyCode;if(0==this.decimals&&46==t)return e.preventDefault(),!1;var n=this.value.split(".");if(46!=t&&t>31&&(t<48||t>57))return e.preventDefault(),!1;if(46==t&&(n.length>1||1==n.length&&n[0].length-this.selectionEnd>this.decimals))return e.preventDefault(),!1;var i=this.selectionStart,r=this.value.indexOf(".");if(i>r&&r>-1&&n[1].length>=this.decimals&&this.selectionStart==this.selectionEnd)return e.preventDefault(),!1;if(this.max&&parseFloat(this.value.slice(0,i)+String.fromCharCode(t)+this.value.slice(i+this.selectionEnd-this.selectionStart))>this.max)return e.preventDefault(),!1;return!0},e.onPaste=function(e){return e.preventDefault(),!1},e.onUpdateDecimals=function(e){this.decimals=e.detail},e.createdCallback=function(){this.type="text",isNaN(parseInt(this.getAttribute("decimals"),10))?this.decimals=2:this.decimals=parseInt(this.getAttribute("decimals"),10),isNaN(parseInt(this.getAttribute("max-value"),10))||(this.max=parseInt(this.getAttribute("max-value"),10)),this.addEventListener("keypress",this.onKeyPress.bind(this)),this.addEventListener("keydown",this.onKeyDown.bind(this)),this.addEventListener("paste",this.onPaste.bind(this)),this.addEventListener("updateDecimals",this.onUpdateDecimals)},window.NumericInputElement=document.registerElement("mw-numeric-input",{prototype:e,extends:"input"})}(),function(){var e=window.enhance||{cookie:function(){}},t="recentqsmkii";function n(e){for(var t=this.querySelectorAll(".j-message, .j-recent"),n=0;n<t.length;n++)t[n].classList.contains(e)?t[n].classList.remove("j-hidden"):t[n].classList.add("j-hidden")}function i(e,t,n){var i=new Date;i.setTime(i.getTime()+7776e6),window.document.cookie=e+"="+t+"; expires="+i.toGMTString()+"; path=/; domain=.marketwatch.com"}MarketWatch.load((function(){var n=function(){var e=document.querySelector('meta[name="tickerSymbol"]');if(e){var t=document.querySelector('meta[name="exchangeCountry"]'),n=document.querySelector('meta[name="instrumentType"]');if(t&&n)return n.getAttribute("content")+"-"+t.getAttribute("content")+"-"+e.getAttribute("content")}}();if(n){var r=e.cookie(t)||e.cookie("recentquotes");if(r){var a=r.split("|"),o=a.indexOf(n);o>=0&&a.splice(o,1),a.unshift(n),i(t,a.slice(0,13).join("|"))}else i(t,n)}}));var r=Object.create(window.HTMLElement.prototype);r.attachedCallback=function(){var i=this;if(i.show=n.bind(this),i.template=i.querySelector("template.instruments"),i.template){var r,a=e.cookie(t)||e.cookie("recentquotes");if(a&&(r=a.split("|")),r&&r.length){function o(e,t){var n=document.createElement("bg-quote");return n.setAttribute("field",e),t&&n.setAttribute("channel",t),n}i.classList.add("has-tickers"),MarketWatch.load((function(){MarketWatch.Quote.getQuotes(r,{dialect:"official"}).then((function(e){for(var t,n,a,s,c,l,u,d,h,f=i.classList.contains("j-tickerList")?i:i.querySelector(".j-tickerList"),p=Math.min(r.length,MarketWatch.viewMode<MarketWatch.ViewModes.ExtraLarge?8:12),m=0;m<p;m++)if(void 0!==e.InstrumentResponses[m].Matches&&e.InstrumentResponses[m].Matches.length){if(!(t=e.InstrumentResponses[m].Matches[0])||!t.Instrument)continue;var g,v=MarketWatch.Bluegrass.getBestChannel(t.BlueGrassChannels);g=t.Instrument.Exchange&&t.Instrument.Exchange.CountryCode&&"us"!==t.Instrument.Exchange.CountryCode.toLowerCase()?t.Instrument.Exchange.CountryCode:null,(a=(n=i.template.content.cloneNode(!0)).querySelector(".t-link"))&&a.setAttribute("href",MarketWatch.Quote.getUrl(t,a.classList.contains("j-recentlyviewed-tracking")?"j-recentlyviewed-tracking":"")),(s=n.querySelector(".t-updown"))&&s.classList.add(t.CompositeTrading.NetChange.Value>0?"positive":t.CompositeTrading.NetChange.Value<0?"negative":"neutral"),(c=n.querySelector(".t-symbol"))&&(c.textContent=(g?g+":":"")+t.Instrument.Ticker),(l=n.querySelector(".t-company"))&&(l.textContent=t.Instrument.CommonName);var y,b=t.Instrument.Types&&0===t.Instrument.Types.filter((function(e){return e&&"Bond"===e.Name})).length?"0,0.00":"0,0.00[0]";if(u=n.querySelector(".t-price")){var w=o("last",v);w.setAttribute("format",b),w.textContent=numeral(t.CompositeTrading.Last.Price.Value).format(b),u.appendChild(w)}if(d=n.querySelector(".t-change")){var x=o("change",v);x.setAttribute("format",b),x.textContent=numeral(t.CompositeTrading.NetChange.Value).format(b),d.appendChild(x)}if(h=n.querySelector(".t-percent"))if(t.Instrument.Types&&0===t.Instrument.Types.filter((function(e){return e&&"Bond"===e.Name})).length)(y=o("percentChange",v)).textContent=numeral(t.CompositeTrading.ChangePercent).format("0,0.00")+"%",h.appendChild(y);else(y=o("percentChange")).textContent="--",h.appendChild(y);f.appendChild(n)}var k=i.querySelector(".header--module, .header--secondary");k&&k.classList.remove("j-hidden"),i.show("j-recent")}))}))}else{i.show("j-no-recent-items");var s=this.querySelector(".j-tickerSearch");s&&s.addEventListener("click",(function(e){e.preventDefault(),void 0!==MarketWatch&&MarketWatch.AutocompleteSearch&&MarketWatch.AutocompleteSearch.OpenSearch()}))}i.classList.remove("is-loading")}},window.QuoteListElement=document.registerElement("mw-quotelist",{prototype:r})}(),function(){function e(e,t){"left"===t?(e.classList.add("expand--left"),e.classList.remove("expand--right")):(e.classList.add("expand--right"),e.classList.remove("expand--left"))}var t,n=Object.create(window.HTMLDivElement.prototype);function i(t){if("Open"===this.marketState||"normal"===t.b.y){this.dirtyOpen&&(this.isVolume?(this.open=0,this.barHigh=0):(this.open=t.b.l,this.openText&&(this.openText.textContent=numeral(t.b.l).format(this.format)),this.barLow=t.b.l,this.barHigh=t.b.l,this.dirtyChange=!0,this.isIntraday&&(this.rangeLow=t.b.l,this.rangeHigh=t.b.l,this.range=0,this.dirtyRange=!0))),this.last=this.isVolume?t.b.v:t.b.l,this.lastText&&(this.lastText.textContent=numeral(this.last).format(this.format)),this.averageText&&this.average&&(this.averageText.textContent=numeral(this.last/this.average).format("0.00%")),this.rangeLow>this.last&&(this.rangeLow=this.last,this.range=this.rangeHigh-this.rangeLow,this.dirtyRange=!0),this.rangeHigh<this.last&&(this.rangeHigh=this.last,this.range=this.rangeHigh-this.rangeLow,this.dirtyRange=!0),this.isIntraday?(this.barLow=Math.min(this.last,this.open),this.barHigh=Math.max(this.last,this.open)):(this.barLow=Math.min(this.last,this.barLow),this.barHigh=Math.max(this.last,this.barHigh));var n,i,r=(n=this.open,(i=this.last)===n?0:i>n?1:-1);if(this.changeState===r&&void 0!==this.changeState||(this.dirtyChange=!0,this.changeState=r),this.dirtyRange&&this.labels&&this.labels.length)for(var a=0;a<this.labels.length;a++)this.labels[a].classList.contains("low")?this.labels[a].textContent=numeral(this.rangeLow).format(this.format):this.labels[a].classList.contains("high")&&(this.labels[a].textContent=numeral(this.rangeHigh).format(this.format));if(this.left=this.barLow>this.rangeLow&&0!==this.range?(this.barLow-this.rangeLow)/this.range*100:0,this.width=this.barHigh>=this.rangeHigh||0===this.range?100-this.left:(this.barHigh-this.barLow)/this.range*100,this.bar.style.left=this.left+"%",this.bar.style.width=this.width+"%",this.isVolume||this.dirtyChange&&(0===this.changeState?(this.bar.classList.add("neutral"),this.bar.classList.remove("positive","negative")):this.changeState>0?(this.bar.classList.add("positive"),this.bar.classList.remove("neutral","negative")):(this.bar.classList.add("negative"),this.bar.classList.remove("positive","neutral"))),this.flags&&this.flags.length)for(var o=0;o<this.flags.length;o++)1===this.flags.length&&e(this.flags[o],this.left+this.width>50?"left":"right"),this.flags[o].classList.contains("opened")?this.changeState<0?(this.dirtyChange&&(this.flags[o].classList.add("position--right"),this.flags[o].classList.remove("position--left")),e(this.flags[o],this.left+this.width>80?"left":"right")):(this.dirtyChange&&(this.flags[o].classList.add("position--left"),this.flags[o].classList.remove("position--right")),e(this.flags[o],this.left>=20?"left":"right")):this.flags[o].classList.contains("current")&&(this.last>=this.open?(this.dirtyChange&&(this.flags[o].classList.add("position--right"),this.flags[o].classList.remove("position--left")),e(this.flags[o],this.left+this.width>80?"left":"right")):(this.dirtyChange&&(this.flags[o].classList.add("position--left"),this.flags[o].classList.remove("position--right")),e(this.flags[o],this.left>=20?"left":"right")));this.dirtyOpen=!1,this.dirtyRange=!1,this.dirtyChange=!1}}function r(e){this.marketState!==e.b.c&&"Open"!==e.b.c&&(this.lastFlag&&(this.lastFlag.querySelector(".market-state").textContent="Close"),this.marketState=e.b.c)}n.getClient=(t=null,function(){return t||(t=BlueGrass2.Client.create())}),n.createdCallback=function(){if(this.bar=this.querySelector(".range__bar"),this.bar){this.classList.contains("lowHigh--day")&&(this.isIntraday=!0),this.classList.contains("volume")&&(this.isVolume=!0),this.lastText=this.querySelector(".last-value"),this.openText=this.querySelector(".open-value"),this.averageText=this.querySelector(".vs-average"),this.freshOpen=!1,this.hasAttribute("day-open")&&(this.open=parseFloat(this.getAttribute("day-open"))),this.hasAttribute("bar-low")&&(this.barLow=parseFloat(this.getAttribute("bar-low"))),this.hasAttribute("bar-high")&&(this.barHigh=parseFloat(this.getAttribute("bar-high"))),this.hasAttribute("average")&&(this.average=parseFloat(this.getAttribute("average"))),this.hasAttribute("range-low")&&(this.rangeLow=this.getAttribute("range-low")),this.hasAttribute("range-high")&&(this.rangeHigh=this.getAttribute("range-high")),this.rangeLow&&this.rangeHigh&&(this.range=this.rangeHigh-this.rangeLow),this.labels=this.querySelectorAll(".labels span"),this.flags=this.querySelectorAll(".flag");for(var e=0;e<this.flags.length;e++)this.flags[e].classList.contains("opened")?this.openFlag=this.flags[e]:this.flags[e].classList.contains("current")&&(this.lastFlag=this.flags[e]);if(this.isVolume)this.format="0,0.[0]a";else{this.precision=parseInt(this.getAttribute("precision"))||2,this.format="0,0."+(this.precision<=2?"00[000000".slice(0,this.precision):"00[000000".slice(0,this.precision+1)+"]")}if(this.quoteChannel=this.getAttribute("quote-channel"),this.marketChannel=this.getAttribute("market-channel"),this.tickHandler=i.bind(this),this.marketHandler=r.bind(this),"undefined"!=typeof Bluegrass2&&void 0!==BlueGrass2.Client){var t=this;window.addEventListener("BlueGrassReady",(function(){t.quoteChannel&&t.getClient().subscribe(t.quoteChannel,t.tickHandler),t.marketChannel&&t.getClient().subscribe(t.marketChannel,t.marketHandler)}))}else this.quoteChannel&&this.getClient().subscribe(this.quoteChannel,this.tickHandler),this.marketChannel&&this.getClient().subscribe(this.marketChannel,this.marketHandler)}},n.detachedCallback=function(){this.getClient().unsubscribe(this.channel,this.tickHandler)},window.RangeBarElement=document.registerElement("mw-rangeBar",{prototype:n})}(),function(){function e(e){for(var t=[],n=0;n<e.tator.children.length;n++)e.tator.children[n].dataset.index=n,t.push({index:n}),n>0&&(t[n].previous=t[n-1],t[n-1].next=t[n]);if(0!==t.length){e.options.isCircular&&(t[0].previous=t[t.length-1],t[t.length-1].next=t[0]);var i=e.querySelector(".j-rotator--bullets");if(i&&i.children)for(var r=0;r<i.children.length;r++)i.children[r].dataset.index=r,i.children[r].addEventListener("click",e.onGoTo.bind(e));e.items=t,e.bullets=i,e.current=t[0]}}var t=function(e,t,n){e.bullets&&(e.bullets.children[t].classList.remove("is-selected"),e.bullets.children[n].classList.add("is-selected"))},n=function(e){this.tator.style.left=(this.left-=this.stepDistance*e)+"px"},i=function(e){this.tator.style.top=(this.top-=this.stepDistance*e)+"px"},r=function(e){this.items[e]&&(this.tator.children[this.current.index].style.display="none",this.tator.children[e].style.display="block")},a=function(){var e=this,t=window.getComputedStyle(this.tator.children[0]);"horizontal"===this.options.direction?(this.stepDistance=parseInt(t.marginLeft.replace("px",""))+parseInt(t.width.replace("px",""))+parseInt(t.marginRight.replace("px","")),this.tator.style.left=this.left=0,this.go=n.bind(this)):"vertical"===this.options.direction?(e.stepDistance=parseInt(t.marginTop.replace("px",""))+parseInt(t.height.replace("px",""))+parseInt(t.marginBottom.replace("px","")),e.tator.style.top=e.top=0,e.go=i.bind(this)):"inplace"===this.options.direction&&(e.go=r.bind(this));var a=window.getComputedStyle(e.tator);e.displayed=Math.round((parseInt(a.marginLeft.replace("px",""))+parseInt(a.width.replace("px",""))+parseInt(a.marginRight.replace("px","")))/e.stepDistance),"inplace"===this.options.direction&&(e.displayed=1),this.options.rotateEvery&&this.autoRotate(),this.positioning={min:3*this.stepDistance/4-this.stepDistance*(this.items.length-this.displayed+1),first:0,last:-this.stepDistance*(this.items.length-this.displayed),max:this.stepDistance/4}},o=Object.create(window.HTMLDivElement.prototype);o.autoRotate=function(){var e=this;this.autoTimeout=setTimeout((function(){e.goNext(),e.autoRotate()}),parseInt(this.options.rotateEvery))},o.stopAutoRotate=function(){clearTimeout(this.autoTimeout)},o.onGoTo=function(e){this.stopAutoRotate();var n=e.target.dataset.index;"inplace"===this.options.direction?this.go(n):this.go(n-this.current.index),t(this,this.current.index,n),this.current=this.items[n]},o.goPrevious=function(){this.current.previous&&(this.go("inplace"===this.options.direction?this.current.previous.index:-1),t(this,this.current.index,this.current.previous.index),this.current=this.current.previous)},o.holdPrevious=function(){clearTimeout(this.actionTimeout),this.goPrevious(),this.actionTimeout=setTimeout(this.holdPrevious.bind(this),150)},o.onPreviousDown=function(e){clearTimeout(this.actionTimeout),this.holdPrevious(),this.stopAutoRotate()},o.onPreviousUp=function(e){clearTimeout(this.actionTimeout)},o.goNext=function(){var e=this.current.index+this.displayed;this.options.isCircular&&(e%=this.items.length),this.items[e]&&(this.go("inplace"===this.options.direction?this.current.next.index:this.current.next.index-this.current.index),t(this,this.current.index,this.current.next.index),this.current=this.current.next)},o.holdNext=function(){clearTimeout(this.actionTimeout),this.goNext(),this.actionTimeout=setTimeout(this.holdNext.bind(this),150)},o.onNextDown=function(e){clearTimeout(this.actionTimeout),this.holdNext(),this.stopAutoRotate()},o.onNextUp=function(e){clearTimeout(this.actionTimeout)};var s=function(e){this.stopAutoRotate(),this.touchX=e.touches[0].clientX,this.tator.classList.add("dragging")},c=function(e){e.preventDefault();var n=this.left+e.changedTouches[0].clientX-this.touchX;if(n>this.positioning.min&&n<this.positioning.max&&(this.d=n<this.left?"next":"prev",this.tator.style.left=(this.left=n)+"px",this.touchX=e.changedTouches[0].clientX,this.bullets)){var i=this.items[Math.abs(Math.round(this.left/this.stepDistance))].index;t(this,this.bullIndex||0,i),this.bullIndex=i}},l=function(e){this.tator.classList.remove("dragging");var t="next"===this.d?Math.floor:Math.ceil;this.left<this.positioning.last?t=Math.ceil:this.left>this.positioning.first&&(t=Math.floor),this.tator.style.left=(this.left=t(this.left/this.stepDistance)*this.stepDistance)+"px",this.current=this.items[Math.abs(t(this.left/this.stepDistance))]};function u(){e(this);var t=this.querySelector(".j-rotator--previous");t&&(t.addEventListener("mousedown",this.onPreviousDown.bind(this)),t.addEventListener("mouseup",this.onPreviousUp.bind(this)));var n=this.querySelector(".j-rotator--next");n&&(n.addEventListener("mousedown",this.onNextDown.bind(this)),n.addEventListener("mouseup",this.onNextUp.bind(this))),this.tator.addEventListener("touchstart",s.bind(this)),this.tator.addEventListener("touchmove",c.bind(this)),this.tator.addEventListener("touchend",l.bind(this)),MarketWatch.load(a.bind(this)),this.initialized=!0}o.createdCallback=function(){this.tator=this.querySelector(".j-rotator");var t=this;this.observer=new MutationObserver((function(n){t.initialized||u.bind(t)();var i=0;n.forEach((function(e){if(e.removedNodes)for(var n=0;n<e.removedNodes.length;n++)e.removedNodes.item(n).dataset.index<t.current.index&&i--})),t.tator.children.length<2&&t.bullets&&(t.bullets.style.display="none"),e(t),t.go(0+i)})),this.observer.observe(this.tator,{childList:!0}),this.options={direction:this.getAttribute("direction")||"horizontal",isCircular:this.hasAttribute("circular")&&!("false"===this.getAttribute("circular")),rotateEvery:this.getAttribute("rotate-every")},this.tator&&this.tator.children&&0!==this.tator.children.length&&u.bind(this)()},o.detachedCallback=function(){},window.RotatorElement=document.registerElement("mw-rotator",{prototype:o,extends:"div"})}();class ScrollableElement2 extends HTMLElement{constructor(){super()}_handleClickDown(){var e=this.scrollElement.offsetTop-this.clickHeightChange;this.scrollElement.offsetHeight<=this.scrollViewport.offsetHeight?e=0:this.scrollElement.offsetHeight- -1*e<this.scrollViewport.offsetHeight&&(e=this.scrollViewport.offsetHeight-this.scrollElement.offsetHeight),this.scrollElement.offsetTop!=e&&(this.scrollElement.style.top=e+"px")}_handleClickUp(){var e=this.scrollElement.offsetTop+this.clickHeightChange;e>0&&(e=0),this.scrollElement.offsetTop!=e&&(this.scrollElement.style.top=e+"px")}_handleMouseWheel(e){var t=e.deltaY;this._naturalScroll||(t<0?this._handleClickUp():t>0&&this._handleClickDown())}connectedCallback(){var e=this;this._naturalScroll=!1,this.classList.contains("j-scrollViewport")?this.scrollViewport=this:this.scrollViewport=this.querySelector(".j-scrollViewport"),this.scrollElement=this.querySelector(".j-scrollElement"),this.scrollViewport&&this.scrollElement&&(null!=this.getAttribute("natural")&&(this._naturalScroll=!0),this._naturalScroll||(this.scrollElement.getAttribute("data-scroll-by")?this.clickHeightChange=Number(this.scrollElement.getAttribute("data-scroll-by")):this.querySelector(".j-scrollByElement")?this.clickHeightChange=this.querySelector(".j-scrollByElement").offsetHeight:this.clickHeightChange=this.scrollViewport.offsetHeight/4,this.overScrollViewport=!1,window.addEventListener("wheel",(function(t){return!!e._naturalScroll||(e.overScrollViewport?(t.preventDefault&&t.preventDefault(),t.returnValue=!1,!1):void 0)}))),this.scrollViewport.addEventListener("mouseover",(function(t){e.overScrollViewport=!0,window.allowScroll=!0})),this.scrollViewport.addEventListener("mouseleave",(function(t){e.overScrollViewport=!1,window.allowScroll=!0})),this.scrollViewport.addEventListener("wheel",MarketWatch.Utility.throttle(e._handleMouseWheel.bind(e),150)))}disconnectedCallback(){}}window.customElements.define("mw-scrollable-v2",ScrollableElement2),function(){var e=(new Date).getTimezoneOffset()/60,t=function(e){var t=new Date(e.getFullYear(),0,1),n=new Date(e.getFullYear(),6,1),i=Math.max(t.getTimezoneOffset(),n.getTimezoneOffset());return e.getTimezoneOffset()<i},n="http://system.marketwatch.com/newscloud/doctype/",i="https://s.marketwatch.com/public/resources/images/",r=["142","150","151","152","154","156","157","158","159","160","161","165","166","169","170","173","174","175","176","183","184","186","187","188","189","190","193","195","197","202","203","232","237","249","264","266","428"],a=Object.create(ScrollableElement.prototype);function o(e,t){var n=e.split(/[: T-]/).map(parseFloat);return t?new Date(Date.UTC(n[0],n[1]-1,n[2],n[3]||0,n[4]||0,n[5]||0)):new Date(n[0],n[1]-1,n[2],n[3]||0,n[4]||0,n[5]||0)}function s(e,t,n,i,r,a){return e?"":t?"Corrected":n?"Updated":i?"Breaking":r?"Opinion":a?"Premium":null}a.testNewWR=function(){this.newsHandler(newWrMessage)},a.testUpdateWR=function(){this.newsHandler(updatedWrMessage)},a.testDeleteWR=function(){this.newsHandler(deletedWrMessage)},a.newsHandler=function(e){var t=function(e){if("update"===e.b.at||"insert"===e.b.at){var t=e.b,n={headline:t.h,url:t.tpu?t.tpu:MarketWatch.Settings.endpoints.siteroot+"/story"+t.seo,seo:t.seo,timestamp:BlueGrass2.Utility.convertToExchangeTime(t.z,t.o),author:t.p,provider:u(t.pb),sequence:e.h.s,messageNumber:e.h.n};if(t.c&&"headline"==t.c.toLowerCase()&&(n.noLink=!0),t.ai){var r=t.ai.split("|");if(r&&r.length>0){var a="_ZT_";"/news/latest"!=e.h.t&&(a="_C_"),r.forEach((function(e){if(e.indexOf(a)>0){var t=e.split(";");t.length>0&&(n.image=i+t[0])}}))}}var o=!1,c=!1,l=!1,d=!1,h=!1,f=!1;return"MW PREMIUM"===t.av&&(f=!0),t.b&&(d=!0),t.cn&&(c=!0),t.nmd&&t.nmd.tgs&&t.nmd.tgs.length>0&&t.nmd.tgs.forEach((function(e){"resurfaced"==(e=e.toLowerCase())?o=!0:"opinion"==e?h=!0:"revised"==e&&(l=!0)})),n.isResurfaced=o,n.label=s(o,c,l,d,h,f),n}return null}(e);"update"===e.b.at||"insert"===e.b.at?"insert"!==e.b.at||t.isResurfaced?this.updateNewsItem(t):this.addNewsItem(t):"delete"===e.b.at&&this.deleteNewsItem({seo:e.b.seo})};var c={MarketWatch:"806",DowJonesNetwork:"3298",Other:"2008",PressReleases:"2007",AnalystRatings:"48"};a.getMoreNews=function(){var e=this;if(!e._newsMutex){e._newsMutex=!0;var t=e.scrollElement.querySelectorAll(".element--article[data-docid]"),i=t&&t.length>0?t[t.length-1]:null;if(i){var r=i.dataset.docid;if(r){var a=i.querySelector(".article__timestamp");if(a&&a.dataset.est){var o=e._symbol||e._symbols?"symb!~!"+(e._symbol?e._symbol:e._symbols.join("!,!symb!~!")):null,s=null!==o?c[e._type]:e._docTypes;"Currencies"!=e._type&&"Futures"!=e._type||(o="MKTW-issue!~!"+("Currencies"==e._type?"Currencies":"Commodities"),s=c.MarketWatch),fetchJSON({url:MarketWatch.Settings.endpoints.mux+"/api/slinger/headlines/"+s+"/20?version=3&direction=older&docid="+r+"&datetime="+a.dataset.est+(null!==o?"&opProp="+o:"")}).then((function(e){if(e&&e.HeadlinesResponse&&e.HeadlinesResponse.length>0&&e.HeadlinesResponse[0]&&e.HeadlinesResponse[0].Summary&&e.HeadlinesResponse[0].Summary.length>0)return e.HeadlinesResponse[0].Summary})).then((function(e){if(e&&!(e.length<1)){var t=e.filter((function(e){var t=e.DocumentTypeUri.replace(n,"");return 105==t||115==t||125==t}));return t&&t.length>0?fetchJSON({url:MarketWatch.Settings.endpoints.video.api+"find_all_videos.asp",data:{type:"guid",fields:"thumbnailList,guid,linkURL",query:t.map((function(e){return e.DocumentGuidUri.replace("http://system.marketwatch.com/newscloud/docguid/","")})).join(",")}}).then((function(t){return t&&t.items&&t.items.length>0&&t.items.forEach((function(t){var n=e.findIndex((function(e){return e.DocumentGuidUri.indexOf(t.guid>0)}));n>=0&&(e[n].thirdPartyUrl=t.linkURL,t.thumbnailList&&t.thumbnailList.length>0&&(e[n].AssociatedGraphic=t.thumbnailList.map((function(e){return{FileName:e.url,Width:e.width,Height:e.height}}))))})),e})).catch((function(){return e})):e}})).then((function(e){if(e&&!(e.length<1))return e.filter((function(e){if(null===e||null===e.CodeList)return!0;var t=e.DocumentTypeUri.replace(n,"");if("426"!==t&&"17"!==t)return!0;var i=e.CodeList.filter((function(e){return"string"==typeof e.Type&&"SUBJECT"===e.Type.toUpperCase()}));return 1!==i.length||null===i[0].Code||0===i[0].Code.filter((function(e){return"string"==typeof e.Value&&"N/BARMW"===e.Value.toUpperCase()})).length}))})).then((function(t){e.addMergedResults(t),t&&t.length>0&&(e._newsMutex=!1)}))}}}}},a.addSlingerResults=function(e){var a=this;e&&e.length>0&&e.forEach((function(e){var o,c={headline:(o=e.Headline,o.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))),docId:e.DocumentIdUri.replace("http://system.marketwatch.com/newscloud/docid/",""),docType:e.DocumentTypeUri.replace(n,""),timestamp:e.CreateTimestamp.Value,author:e.Author,provider:u(e.Provider)};if(c.url=MarketWatch.Settings.endpoints.siteroot+(r.indexOf(c.docType)>=0?"/press-release/":"/story/")+e.DocumentSEOUri.replace("http://system.marketwatch.com/newscloud/seo/",""),null==a.scrollElement.querySelector('div [data-docid="'+c.docId+'"]')){var l,d,h,f,p,m,g;if(e.thirdPartyUrl&&(c.url=e.thirdPartyUrl),e.ExternalLink&&(c.url=e.ExternalLink),90==c.docType&&(c.noLink=!0),c.label=(d=(l=e).CodeList,h=!1,f=!1,p=void 0!==l.Correction,m=!1,g=!1,null!=d&&d.length>0&&d.forEach((function(e){if(!e||!e.Category||!e.Code||e.Code.length<0)return!0;"DocumentData"==e.Category?e.Code.forEach((function(e){if("Urgency"==e.Description&&"3"==e.Value&&(h=!0),"ResurfaceDate"==e.Description){var n=t(new Date(e.Value))?4:5,i=new Date(e.Value+"-0"+n+"00").getTime();(new Date).getTime()>i&&(f=!0)}})):"Miscellaneous"==e.Category&&e.Code.forEach((function(e){if("WebTemplate"==e.Description&&"Opinion"==e.Value)return m=!0,!1}))})),"53"===l.DocumentTypeUri.replace(n,"")&&(g=!0),s(f,p,!1,h,m,g)),e.AssociatedGraphic&&e.AssociatedGraphic.length>0){var v="_ZT_";c.docType>423&&c.docType<427?v="_C_":105!=c.docType&&115!=c.docType&&125!=c.docType||(v="_16x9thumb"),e.AssociatedGraphic.forEach((function(e){if(e&&e.FileName&&e.FileName.indexOf(v)>0)return 0===e.FileName.indexOf("http:")||(0==e.FileName.indexOf("https")?c.image=e.FileName:c.image=i+e.FileName),!1}))}a.addNewsItem(c,!0)}else a._duplicateDetected=!0}))},a.addSponsoredPlaceholder=function(e){if(this._itemPlaceholderDianomiTemplate){var t=this._itemPlaceholderDianomiTemplate.content.cloneNode(!0),n=t.querySelector(".dianomi_context");switch(this._dianomi){case"MarketWatch":case"DowJonesNetwork":case"Futures":case"Currencies":n.dataset.dianomiContextId="42";break;case"Other":case"PressReleases":n.dataset.dianomiContextId="43";break;case"Game":n.dataset.dianomiContextId="44"}e?e.parentNode.insertBefore(t,e.nextSibling):this.scrollElement.appendChild(t)}},a.sponsoredItemLazyLoad=function(e){!MarketWatch.Squeaky&&e&&e.target&&e.target.className&&e.target.className.indexOf("dianomi")>-1&&this.scrollElement&&this.scrollElement.contains(e.target)&&null!=dianomiReloadContext&&null!=dianomiReloadContext&&dianomiReloadContext()};var l,u=function(e){return e?"WSJ Blogs"==e||"WSJ.com"==e||"The Wall Street Journal Interactive Edition"==e?"The Wall Street Journal":"Barrons.com"==e?"Barron's":e:e};a.addMergedResults=function(e){if(e&&!(e.length<1)){for(var t=0;t<Math.floor(e.length/4);t++)this.addSlingerResults(e.slice(4*t,4*(t+1))),this.squeaky||this.addSponsoredPlaceholder();4*Math.floor(e.length/4)!=e.length&&this.addSlingerResults(e.slice(4*Math.floor(e.length/4)))}},a.createNewsItem=function(n){var i=this._itemTemplate.content.cloneNode(!0),r=i.querySelector(".element--article"),a=i.querySelector(".article__headline a"),s=!1,c="MarketWatch"!==this._type;(n.url.toLowerCase().indexOf(".marketwatch.com/")<0&&(c=!0,n.url.toLowerCase().indexOf(".wsj.com/")<0&&n.url.toLowerCase().indexOf(".barrons.com/")<0&&(s=!0)),n.noLink)?((u=document.createElement("span")).textContent=n.headline,u.classList.add("article__headline"),a.parentNode.replaceChild(u,a)):(a.textContent=n.headline,a.setAttribute("href",n.url),s&&a.setAttribute("rel","nofollow"),c&&a.setAttribute("target","_blank"));var l=i.querySelector(".figure__image");if(n.noLink){var u;(u=document.createElement("span")).classList.add("figure__image"),l.parentNode.replaceChild(u,l)}else{if(l.setAttribute("href",n.url),105==n.docType||115==n.docType||125==n.docType){var d=document.createElement("i");d.classList.add("icon--play"),l.appendChild(d)}s&&l.setAttribute("rel","nofollow"),c&&l.setAttribute("target","_blank")}if(this._showImage)if(n.image){var h=l.querySelector("img");h.setAttribute("src",n.image),h.setAttribute("alt",n.headline)}else l.removeChild(l.querySelector("img")),r.classList.add("no-image");else r.removeChild(i.querySelector(".article__figure"));var f=i.querySelector(".article__details"),p=i.querySelector(".article__content"),m=f.querySelector(".article__author"),g=f.querySelector(".article__provider");this._showByline&&m&&n.author?m.textContent="by "+n.author:m&&f.removeChild(m),this._showProvider&&g&&n.provider?g.textContent="on "+n.provider:g&&f.removeChild(g);var v,y,b,w=f.querySelector(".article__timestamp");return this._showTimestamp&&n.timestamp&&w?(w.textContent=(v=function(n){if(!n||null===n)return null;if("string"!==(typeof n).toLowerCase())return n;var i=o(n,!0),r=t(o(n,!1))?4:5,a=new Date(i.getTime()+36e5*r).getTime();return new Date(a+=36e5*(e-r))}(n.timestamp),y=MarketWatch.Utility.monthNames[v.getMonth()],b=v.getHours(),y+" "+v.getDate()+", "+v.getFullYear()+" at "+(0==b?"12":b>12?b-12:b)+":"+(v.getMinutes()<10?"0":"")+v.getMinutes()+(b<12?" a.m.":" p.m.")+" ET"),w.dataset.est=n.timestamp):w&&w.parent.removeChild(w),n.label?(p.querySelector(".article__label").textContent=n.label,p.querySelector(".article__label").classList.add(n.label.toLowerCase().replace("'",""))):p.removeChild(p.querySelector(".article__label")),f.removeChild(f.querySelector(".article__sponsor")),r.dataset.docid=n.docId,r},a.addNewsItem=function(e,t){t?this.scrollElement.appendChild(this.createNewsItem(e)):this.scrollElement.insertBefore(this.createNewsItem(e),this.scrollElement.querySelector(".element--article"))},a.deleteNewsItem=function(e){var t=this.findExistingItem(e.seo);t&&this.scrollElement.removeChild(t)},a.updateNewsItem=function(e){var t=this.findExistingItem(e.seo),n=this.createNewsItem(e);t&&!e.isResurfaced?this.scrollElement.replaceChild(n,t):(this.scrollElement.insertBefore(n,this.scrollElement.querySelector(".element--article")),t&&this.scrollElement.removeChild(t))},a.findExistingItem=function(e){var t=this.scrollElement.querySelector('.element--article a[href*="'+e+'"]');if(t){for(;t.classList&&!t.classList.contains("element--article");)t=t.parentElement;return t.parentNode!=this.scrollElement?null:t}},a.getClient=(l=null,function(){return l||(l=BlueGrass2.Client.create())}),a.needsMoreNews=function(){var e=this.scrollViewport.getBoundingClientRect(),t=this.scrollElement.getBoundingClientRect(),n=t.top-e.top;return t.height-(-1*n+e.height)<5*this._scrollElementHeight},a.attachedCallback=function(){var e=this;ScrollableElement.prototype.attachedCallback.apply(this),this.channel=this.dataset.channel,this.squeaky="clean"==this.dataset.squeaky;var t=function(t){e.newsHandler(t)};if(this._itemTemplate=document.getElementById("headlineListItemTemplate"),this._itemTemplate&&(this._itemPlaceholderDianomiTemplate=document.getElementById("headlineListItemDianomiTemplate"),document.addEventListener("lazybeforeunveil",e.sponsoredItemLazyLoad.bind(this)),this.channel&&("undefined"==typeof BlueGrass2?window.addEventListener("BlueGrassReady",(function(){e.getClient().subscribe(e.channel,t)})):this.getClient().subscribe(this.channel,t)),this.scrollElement&&this.scrollViewport)){this._type=this.scrollElement.dataset.type,this._dianomi=this.scrollElement.dataset.dianomi||this._type,this._showByline="true"===this.scrollElement.dataset.showbyline.toLowerCase(),this._showImage="true"===this.scrollElement.dataset.showimage.toLowerCase(),this._showTimestamp="true"===this.scrollElement.dataset.showtimestamp.toLowerCase(),this._showProvider="true"===this.scrollElement.dataset.showprovider.toLowerCase(),this._scrollElementHeight=200,this._duplicateDetected=!1,this._wheelEventScroll=!1;var n=this.scrollElement.querySelector(".j-scrollByElement");n&&n.offsetHeight>0&&(this._scrollElementHeight=n.offsetHeight);var i=document.querySelector(".j-quoteContainer");i&&(this._symbol=i.dataset.countrycode+":"+i.dataset.symbol),""!==this.dataset.symbols&&(-1==this.dataset.symbols.indexOf(",")?this._symbol=this.dataset.symbols:this._symbols=this.dataset.symbols.split(",")),""!==this.dataset.docTypes&&(this._docTypes=this.dataset.docTypes);for(var r=this.scrollElement.querySelectorAll(".j-scrollByElement"),a=3;a<r.length;a+=4)this.addSponsoredPlaceholder(r[a]);this.scrollViewport.addEventListener("scroll",debounce((function(t){e._wheelEventScroll||e.needsMoreNews()&&e.getMoreNews(),e._wheelEventScroll=!1}),500))}},a.handleMouseWheel=function(){this._wheelEventScroll=!0,this.needsMoreNews()&&this.getMoreNews()},a.detachedCallback=function(){clearTimeout(this.timeout),ScrollableElement.prototype.detachedCallback.apply(this)},void 0!==MarketWatch&&MarketWatch.ready?MarketWatch.ready((function(){document.registerElement("mw-scrollable-news",{prototype:a})})):document.registerElement("mw-scrollable-news",{prototype:a})}(),function(){class e extends ScrollableElement2{constructor(){super()}_needsMoreNews(){var e=this.scrollViewport.getBoundingClientRect(),t=this.scrollElement.getBoundingClientRect(),n=t.top-e.top;return t.height-(-1*n+e.height)<5*this._scrollElementHeight}_getMoreNews(){var e=new CustomEvent("mw-moreheadlines");this.dispatchEvent(e)}_handleMouseWheel(e){this._wheelEventScroll=!0,this._needsMoreNews()&&this._getMoreNews()}connectedCallback(){super.connectedCallback();var e=this;this._wheelEventScroll=!1,this.scrollElement&&this.scrollViewport&&(this.scrollViewport.addEventListener("lazybeforeunveil",(function(t){t.target.classList.contains("client-side-loaded")&&e._getMoreNews()})),this._scrollElementHeight=200,this.scrollViewport.addEventListener("scroll",debounce((function(t){e._wheelEventScroll||e._needsMoreNews()&&e._getMoreNews(),e._wheelEventScroll=!1}),500)))}disconnectedCallback(){}}void 0!==MarketWatch&&MarketWatch.ready?MarketWatch.ready((function(){window.customElements.define("mw-scrollable-news-v2",e)})):window.customElements.define("mw-scrollable-news-v2",e)}();class SecFilingsComponent extends HTMLElement{constructor(){super()}_moreFilings(e,t){e=e.replace("secfilings","moresecfilings");var n=["partial=true"];for(var i in t)t.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return fetch(MarketWatch.Settings.endpoints.siteroot+e+"?"+n.join("&"),{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status}))}_refresh(e){this.insertAdjacentHTML("afterend",e),this.parentNode.removeChild(this)}_next(e){if(e.preventDefault(),"true"!==e.currentTarget.dataset.isDisabled){var t=this,n={index:(t.index||0)+t.count};t._moreFilings(t.requestPath,n).then((function(e){t._refresh(e)})).catch((function(){}))}}_previous(e){if(e.preventDefault(),"true"!==e.currentTarget.dataset.isDisabled){var t=this,n={index:(t.index||0)-t.count};t._moreFilings(t.requestPath,n).then((function(e){t._refresh(e)})).catch((function(){}))}}connectedCallback(){this.requestPath=window.location.pathname,this.hasAttribute("index")&&(this.index=parseInt(this.getAttribute("index"))),this.hasAttribute("count")&&(this.count=parseInt(this.getAttribute("count"))),this.hasAttribute("total")&&(this.totalcount=parseInt(this.getAttribute("total")));var e=this.querySelector(".j-next");e&&e.addEventListener("click",this._next.bind(this));var t=this.querySelector(".j-previous");t&&t.addEventListener("click",this._previous.bind(this))}}window.customElements.define("mw-secfilings",SecFilingsComponent),function(){"use strict";var e;function t(t,n){var i=t.getBoundingClientRect();!(t.firstElementChild.scrollHeight+20>t.scrollHeight)&&e>=i.top?e>0&&e+t.firstElementChild.scrollHeight>i.top+t.scrollHeight?(n||"a"!==t.firstElementChild.style.position[0])&&(t.firstElementChild.style.position="absolute",t.firstElementChild.style.bottom=0,t.firstElementChild.style.top=""):(n||"f"!==t.firstElementChild.style.position[0])&&(t.firstElementChild.style.position="fixed",t.firstElementChild.style.bottom="",t.firstElementChild.style.top=e+"px"):(n||"s"!==t.firstElementChild.style.position[0])&&(t.firstElementChild.style.position="static",t.firstElementChild.style.top="",t.firstElementChild.style.bottom="")}void 0!==MarketWatch&&void 0!==MarketWatch.ready&&MarketWatch.ready((function(){var t=document.querySelector(".container--masthead .fixed");if(t){var n=window.getComputedStyle(t);e=20+parseInt(n.marginTop.replace("px",""))+parseInt(n.height.replace("px",""))+parseInt(n.marginBottom.replace("px",""))}}));var n=Object.create(window.HTMLDivElement.prototype),i=function(){this.isNav||(MarketWatch.viewMode>MarketWatch.ViewModes.Medium&&!this.isAttached?this.attach():MarketWatch.viewMode<=MarketWatch.ViewModes.Medium&&this.isAttached&&this.detach())};n.attach=function(){window.addEventListener("scroll",this.handleScroll),this.addEventListener("scroll",this.handleScroll),void 0!==this.observer&&this.observer.observe(this,{subtree:!0,childList:!0}),window.addEventListener("curatedUpdate",this.handleScroll),t(this,!0),this.isAttached=!0},n.detach=function(){window.removeEventListener("scroll",this.handleScroll),this.removeEventListener("scroll",this.handleScroll),void 0!==this.observer&&this.observer.disconnect(),window.removeEventListener("curatedUpdate",this.handleScroll),this.firstElementChild.style.position="static",this.isAttached=!1},n.attachedCallback=function(){var e=this,n=document.createElement("div");e.classList.add("sticky"),n.className="sticky__innards";for(;e.children.length>0;)n.appendChild(e.removeChild(e.children[0]));e.appendChild(n),e.handleScroll=function(){t(e)},this.observer=new MutationObserver((function(){t(e,!0)})),window.addEventListener(MarketWatch.Events.viewModeChanged,i.bind(e)),MarketWatch.load((function(){e.firstElementChild.position="static",MarketWatch.viewMode>MarketWatch.ViewModes.Medium?e.attach():e.isAttached=!1}))},window.StickyElement=document.registerElement("mw-sticky",{prototype:n,extends:"div"})}(),function(){var e,t=Object.create(window.HTMLElement.prototype);t.handleColumnClick=function(t){var n="",i=this.options[this.selectedIndex];i&&(n=i.dataset.sortField);var r=i.dataset.sortFieldtype,a=i.dataset.sortDirection,o=e.querySelector(".table"),s=[];Array.from(o.rows).forEach((function(e){"number"==r?(s.push({field:Number(e.dataset[n]),element:e}),e.parentElement.removeChild(e)):"date"==r?(s.push({field:new Date(e.dataset[n]).getTime(),element:e}),e.parentElement.removeChild(e)):"text"==r&&(s.push({field:e.dataset[n],element:e}),e.parentElement.removeChild(e))})),"asc"==a?s=s.sort((function(e,t){return e.field>t.field?1:e.field<t.field?-1:0})):"desc"==a&&(s=s.sort((function(e,t){return e.field<t.field?1:e.field>t.field?-1:0}))),s.forEach((function(e){o.appendChild(e.element)}))},t.attachedCallback=function(){e=this,this.querySelector(".dropdown--form").addEventListener("change",this.handleColumnClick)},window.TabsElement=document.registerElement("mw-table-dropdown",{prototype:t})}(),function(){var e=Object.create(window.HTMLElement.prototype);e.handleColumnClick=function(e){var t=this,n="";e.target&&(n=e.target.innerText.toLowerCase());for(var i=e.currentTarget.closest("table"),r=[],a=e.target.dataset.sortDirection,o=document.querySelectorAll(".table__heading"),s=0;s<o.length;s++)o[s].classList.remove("active");null==a||"desc"==a?(a="asc",e.target.setAttribute("data-sort-direction","asc"),e.target.classList.add("active")):"asc"==a&&(a="desc",e.target.setAttribute("data-sort-direction","desc"),e.target.classList.add("active")),Array.from(i.rows).forEach((function(e){var i=e.getElementsByTagName("TD"),a=t.columnMap[n].index,o=t.columnMap[n].valueType;"number"==o?i.length>0&&(r.push({field:Number(i[a].dataset.value),element:e}),e.parentElement.removeChild(e)):"date"==o?i.length>0&&(r.push({field:new Date(i[a].dataset.value).getTime(),element:e}),e.parentElement.removeChild(e)):"text"==o&&i.length>0&&(r.push({field:i[a].innerText.toLowerCase(),element:e}),e.parentElement.removeChild(e))})),"asc"==a?r=r.sort((function(e,t){return e.field>t.field?1:e.field<t.field?-1:0})):"desc"==a&&(r=r.reverse((function(e,t){return e.field>t.field?1:e.field<t.field?-1:0}))),r.forEach((function(e){i.appendChild(e.element)}))},e.attachedCallback=function(){var e=this;this.columnHeaders=Array.prototype.slice.call(this.querySelectorAll(".table__heading")),this.columnMap={};var t=0;this.columnHeaders.forEach((function(n){null!==n.getAttribute("data-sort-type")&&(n.addEventListener("click",e.handleColumnClick.bind(e)),e.columnMap[n.innerText.toLowerCase()]={index:t++,valueType:n.dataset.sortType})}))},window.TabsElement=document.registerElement("mw-tablesorter",{prototype:e})}(),function(){var e=Object.create(window.HTMLElement.prototype);e.handleTabClick=function(e){var t=this;return e.target&&e.target.dataset.tabPane&&this.activeTab!==e.target&&(this.activeTab&&this.activeTab.classList.remove("is-selected"),this.activeTab=e.target,this.activeTab.classList.add("is-selected"),this.activeTabPane&&this.activeTabPane.classList.remove("is-active"),this.tabPanes.forEach((function(n){n.dataset.tabPane===e.target.dataset.tabPane&&(n.classList.add("is-active"),t.activeTabPane=n)}))),e.preventDefault&&e.preventDefault(),e.returnValue=!1,!1},e.attachedCallback=function(){var e=this;this.tabs=Array.prototype.slice.call(this.querySelectorAll(".j-tabItem")),this.activeTab=this.querySelector(".j-tabItem.is-selected"),this.tabPanes=Array.prototype.slice.call(this.querySelectorAll(".j-tabPane")),this.activeTabPane=this.querySelector(".j-tabPane.is-active"),this.tabs.forEach((function(t){t.addEventListener("click",e.handleTabClick.bind(e))}))},window.TabsElement=document.registerElement("mw-tabs",{prototype:e})}(),function(){var e=void 0!==MarketWatch&&"function"==typeof MarketWatch.isStorageAvailable&&MarketWatch.isStorageAvailable(),t=[];function n(e){return e.ChartingSymbol}function i(e){for(var t=this.querySelectorAll(".j-message, .j-watchlist"),n=0;n<t.length;n++)t[n].classList.contains(e)?(t[n].classList.remove("j-hidden"),"j-watchlist"===e&&(t[n].querySelector(".j-table").classList.remove("j-hidden"),t[n].querySelector(".j-info").classList.remove("j-hidden"))):"j-no-watchlist-items"===e&&t[n].classList.contains("j-watchlist")?(t[n].querySelector(".j-table").classList.add("j-hidden"),t[n].querySelector(".j-info").classList.add("j-hidden"),t[n].classList.remove("j-hidden")):t[n].classList.add("j-hidden")}function r(){var e,n=this;if(n.classList.remove("is-loading"),void 0!==t&&t.length){var i=0;if(void 0!==MarketWatch&&"function"==typeof MarketWatch.isStorageAvailable&&MarketWatch.isStorageAvailable()){var r=parseInt(localStorage.getItem("mw-watchlist-last"),10);r&&t.some((function(e,t){if(e.Id===r)return i=t,!0}))}t.forEach((function(t,r,a){(e=document.createElement("option")).value=r,e.text=t.Name,r===i&&(e.selected=!0),n.watchlistSelect.add(e)})),n.showWatchlist(i)}else for(var a=n.querySelectorAll(".j-message, .j-watchlist"),o=0;o<a.length;o++)a[o].classList.contains("no-watchlist")?a[o].classList.remove("j-hidden"):a[o].classList.add("j-hidden")}function a(){var e=this,n=new Headers;n.append("Accept","application/json"),fetch(MarketWatch.Settings.endpoints.oskarUrl+"/api/oskar/me/marketwatch-com?needed=IndustryClassification|BlueGrassChannels&showItems=true",{credentials:"include",headers:n}).then((function(e){if(e.status>=200&&e.status<400)return e.json();throw e.status})).then((function(e){t=e;for(var n=document.querySelectorAll("mw-watchlist"),i=0;i<n.length;i++)n[i].dispatchEvent(new Event("watchlistLoad"))})).catch((function(t){e.classList.remove("is-loading"),404===t?e.show("j-no-watchlist"):e.showError()})),e.watchlistSelect&&e.watchlistSelect.addEventListener("change",(function(t){e.showWatchlist(t.target.value)}))}var o=Object.create(window.HTMLElement.prototype);o.attachedCallback=function(){var e=this;if(e.show=i.bind(this),document.querySelectorAll(".js-btn--login").length)return e.classList.remove("is-loading"),void e.show("j-no-user");window.addEventListener("lazybeforeunveil",(function(t){t.target.classList.contains("element--watchlist")&&a.call(e)})),this.watchlistSelect=this.querySelector(".j-dropdown"),this.template=this.querySelector("template.ticker__template"),this.addEventListener("watchlistLoad",r.bind(this))},o.clearWatchlist=function(){for(var e=this.querySelector(".j-watchlist-list"),t=this.querySelectorAll(".j-item"),n=0;n<t.length;n++)e.removeChild(t[n])},o.showWatchlist=function(i){var r=this;if(!(i>=t.length)&&t[i]){var a,o,s=t[i].Items,c=this.querySelector(".j-watchlist-list");this.clearWatchlist(),o=t[i].Id,e&&localStorage.setItem("mw-watchlist-last",o);var l,u=r.querySelector(".t-in-watchlist"),d="+ Add to Watchlist",h=document.querySelector('meta[name="chartingSymbol"]');u&&h&&(u.classList.remove("activated"),(h=h.getAttribute("content"))&&(l=s.filter((function(e){return e.ChartingSymbol===h})))&&l.length&&(u.classList.add("activated"),d="In Watchlist"),u.textContent=d),MarketWatch.Quote.getQuotes(s.map(n).slice(0,10),{dialect:"charting"}).then((function(e){var n=Math.min(s.length,10);if(0!==n){r.querySelector(".j-count").textContent="Showing "+n+" of "+t[i].TotalItemCount+" Item"+(1===t[i].TotalItemCount?"":"s");for(var o=0;o<n;o++)if(e.InstrumentResponses[o]&&Array.isArray(e.InstrumentResponses[o].Matches)&&e.InstrumentResponses[o].Matches.length>0){var l,u,d,h,p,m,g,v;s[o].Match=e.InstrumentResponses[o].Matches[0];var y,b=MarketWatch.Bluegrass.getBestChannel(s[o].Match.BlueGrassChannels);y=s[o].Match.Instrument.Exchange&&s[o].Match.Instrument.Exchange.CountryCode&&"us"!==s[o].Match.Instrument.Exchange.CountryCode.toLowerCase()?s[o].Match.Instrument.Exchange.CountryCode:null;var w=s[o].Match.CompositeTrading.NetChange.Value>0?"positive":s[o].Match.CompositeTrading.NetChange.Value<0?"negative":"neutral",x=r.template.content.cloneNode(!0);if(!(a=x.querySelector("tr")||x))return;(l=a.querySelector(".t-link"))&&l.setAttribute("href",MarketWatch.Quote.getUrl(s[o].Match,l.classList.contains("j-watchlist-tracking")?"j-watchlist-tracking":"")),(colorBar=a.querySelector(".t-colorBar"))&&colorBar.classList.add(w),(u=a.querySelector(".t-updown"))&&u.classList.add(w),(d=a.querySelector(".t-symbol"))&&(d.textContent=(y?y+":":"")+s[o].Ticker),(h=a.querySelector(".t-company"))&&(h.textContent=s[o].CompanyName);var k,S=s[o].Match.Instrument.Types&&0===s[o].Match.Instrument.Types.filter((function(e){return e&&"Bond"===e.Name})).length?"0,0.00":"0,0.00[0]";if(p=a.querySelector(".t-last")){var M=f("last",b);M.setAttribute("format",S),M.textContent=numeral(s[o].Match.CompositeTrading.Last.Price.Value).format(S),p.appendChild(M)}if(m=a.querySelector(".t-change")){var C=f("change",b);C.setAttribute("format",S),C.classList.add(w),C.textContent=numeral(s[o].Match.CompositeTrading.NetChange.Value).format(S),m.appendChild(C)}if(g=a.querySelector(".t-percent"))if(s[o].Match.Instrument.Types&&0===s[o].Match.Instrument.Types.filter((function(e){return e&&"Bond"===e.Name})).length)(k=f("percentChange",b)).classList.add(w),k.textContent=numeral(s[o].Match.CompositeTrading.ChangePercent).format("0,0.00")+"%",g.appendChild(k);else(k=f("percentChange")).textContent="--",g.appendChild(k);if(v=a.querySelector(".t-volume")){var _=f("volume");_.textContent=numeral(s[o].Match.CompositeTrading.Volume).format(s[o].Match.CompositeTrading.Volume>=1e6?"0.[0]a":"0,0").toUpperCase(),v.appendChild(_)}c.appendChild(a)}r.show("j-watchlist");var T=document.querySelector(".container--markets .sticky");T&&T.dispatchEvent(new Event("scroll"))}else r.show("j-no-watchlist-items")}))}function f(e,t){var n=document.createElement("bg-quote");return n.setAttribute("field",e),t&&n.setAttribute("channel",t),n}},o.showError=function(){this.show("j-error")},window.WatchlistElement=document.registerElement("mw-watchlist",{prototype:o})}(),function(){var e=Object.create(window.HTMLElement.prototype);e.attachedCallback=function(){function e(e){var t,n,i,r=function(e){function t(){for(var e,t,n=0,i=null,r=this.chart.series.length?this.chart.series[0].xData:[],a=r.length,o=[];n<a;n++)e=r[n],i!==(t=new Date(e).getUTCMonth())&&(o.push(e),i=t);return o.length>1&&o[1]-o[0]<864e6&&(o=o.slice(1)),o.length>1&&o[o.length-1]-o[o.length-2]<864e6&&(o=o.slice(0,o.length-1)),o}function n(){return Highcharts.dateFormat("%b %e",this.value)}function i(){return Highcharts.dateFormat("%b %y",this.value)}var r={D1:{step:"PT1M",track:"1D",formatter:function(){return Highcharts.dateFormat("%l:%M%P",this.value).replace(":00","")},xAxisCompressed:!1,useExtendedTimeFrame:!1},D5:{step:"PT5M",track:"5D",formatter:function(){return Highcharts.dateFormat("%a",this.value)},xAxisCompressed:!0,useExtendedTimeFrame:!0,tickPositioner:function(){for(var e,t,n,i=0,r=null,a=this.chart.series.length?this.chart.series[0].xData:[],o=a.length,s=[];i<o;i++)e=a[i],r!==(n=(t=new Date(e)).getUTCFullYear()+"-"+t.getUTCMonth()+"-"+t.getUTCDate())&&(s.push(e),r=n);return s}},P29D:{step:"P1D",track:"1M",formatter:n,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickInterval:6048e5},P3M:{step:"P1D",track:"3M",formatter:i,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickPositioner:t},P6M:{step:"P1D",track:"6M",formatter:i,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickPositioner:t},P1Y:{step:"P1D",track:"1Y",formatter:i,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickPositioner:t},P2Y:{step:"P7D",track:"2Y",formatter:i,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickInterval:78624e5},P3Y:{step:"P7D",track:"3Y",formatter:i,xAxisCompressed:!0,useExtendedTimeFrame:!0,tickInterval:157248e5},ALL:{step:"P7D",track:"all",formatter:i,xAxisCompressed:!0,useExtendedTimeFrame:!0},YTD:{step:"P1D",track:"YTD",formatter:i,xAxisCompressed:!0,useExtendedTimeFrame:!0}},a=new Date,o=new Date(a.getFullYear(),0,0),s=a-o,c=Math.floor(s/864e5);r.YTD=c<2?r.D1:c<7?r.D5:c<31?r.P29D:c<90?r.P3M:c<180?r.P6M:r.P1Y;("Bond"===e.instrumentType||"Future"===e.instrumentType||e.instrumentType.indexOf("Fund")>=0||e.instrumentType.indexOf(!1))&&(r.D1.tickInterval=72e5,r.D5.tickPositioner=function(){for(var e,t,n,i,r=0,a=null,o=this.chart.series.length?this.chart.series[0].xData:[],s=o.length,c=[];r<s;r++)if(e=o[r],i=(t=new Date(e)).getDay(),a!==(n=t.getUTCFullYear()+"-"+t.getUTCMonth()+"-"+t.getUTCDate())){if(6===i||0===i)continue;c.push(e),a=n}if(c.length>5){var l=c.length-5;c=c.splice(l,c.length)}return c},r.D5.tickInterval=1728e5);switch(e.instrumentType.toLowerCase()){case"fund":case"openendfund":case"closedendfund":case"closeendfund":r.D5.step="P1D",r.D5.formatter=n,r.D5.xAxisCompressed=!1,r.D5.useExtendedTimeFrame=!1}return r}(e),a=$(e.targetChartElement).presentation({bluegrassClient:new Michelangelo.BlueGrassClient(BlueGrass2.Runtime)}),o=function(e,t){var n=new Michelangelo.ChartDefinition;n.timeFrame=t.timeRange,n.step=e[t.timeRange].step,n.showPreMarketBands=!1,n.showPreMarket=!1,n.showAfterHoursBands=!1,n.showAfterHours=!1,n.showClosedBands=!1,n.showNavigator=!1,n.showRangeSelector=!1,n.showExporting=!1,n.showLegend=!1,n.wantPriorClose=!1,n.includeClosedSlots=!1,n.includeOfficialClose=!1,n.includeMockTick=!0,n.maxVisibleAxesPerPane=3,n.xAxisTitle=null,n.showYAxisTitle=!1,n.addTimeZoneToXAxisTitle=!1,n.xAxisCompressed=e[t.timeRange].xAxisCompressed,n.useExtendedTimeFrame=e[t.timeRange].useExtendedTimeFrame,"D1"===t.timeRange&&!0===t.extendedHoursEnabled&&(!0===t.isBeforeHours&&(n.showPreMarketBands=!0,n.showPreMarket=!0),!0===t.isAfterHours&&(n.showAfterHoursBands=!0,n.showAfterHours=!0));return n}(r,e);t=o,n=e.chartingSymbol,(i=new Michelangelo.TickerSeries).setTicker(n),i.chartType="line",t.addSeries(i);var s=function(e,t){return{mikeStyle:{marketBands:{enabled:!0,color:"#F8F8F8",labelStyle:{align:"center",verticalAlign:"middle",textAlign:"center",style:{color:"#B7B7B7",fontSize:"6pt"}},preMarket:{name:"Pre Market"},afterMarket:{name:"After Hours"}}},highchartsStyles:{colors:["rgb(136, 184, 227)","rgb(100, 131, 131)","rgb(218, 178, 108)","rgb(184, 192, 192)","rgb(87, 158, 137)"],chart:{width:t.chartWidth||null,height:t.chartHeight||null,margin:[0,0,15,0],spacing:[0,0,0,0]},plotOptions:{series:{connectNulls:!0,lineWidth:1}},xAxis:{gridLineColor:"#E9E9E9",gridLineWidth:1,labels:{style:{color:"#6B6D6E","font-size":"9px"},y:12,formatter:e[t.timeRange].formatter},tickLength:5,lineWidth:2,lineColor:"#6B6D6E",startOnTick:!1,endOnTick:!1},yAxis:{gridLineColor:"#E9E9E9",gridLineWidth:1,labels:{style:{color:"#6B6D6E","font-size":"9px"},x:-1,y:-3},startOnTick:!0,endOnTick:!0}}}}(r,e);a.size({width:"fill",height:"fill"}).def(o).style(s).render()}var t=function(e){var t={targetChartElement:null,timeRange:e.getAttribute("data-time-range-key"),chartingSymbol:e.getAttribute("data-charting-symbol"),instrumentType:e.getAttribute("data-instrument-type"),isBeforeHours:e.getAttribute("data-is-before-hours"),isAfterHours:e.getAttribute("data-is-after-hours"),extendedHoursEnabled:e.getAttribute("data-extended-hours-enabled"),chartWidth:e.getAttribute("data-chart-width"),chartHeight:e.getAttribute("data-chart-height"),chartTargetElementQuerySelector:e.getAttribute("data-chart-target-element-query-selector")};t.isBeforeHours?t.isBeforeHours="true"===t.isBeforeHours.toLowerCase():t.isBeforeHours=!1,t.isAfterHours?t.isAfterHours="true"===t.isAfterHours.toLowerCase():t.isAfterHours=!1,t.extendedHoursEnabled?t.extendedHoursEnabled="true"===t.extendedHoursEnabled.toLowerCase():t.extendedHoursEnabled=!1;var n=e.querySelector(t.chartTargetElementQuerySelector);if(n&&(t.targetChartElement=n),t.instrumentType)switch(t.instrumentType.toLowerCase()){case"fund":case"openendfund":case"closedendfund":case"closeendfund":t.timeRange="P1Y";break;case"interestrate":case"loanrate":case"moneyrate":t.timeRange="ALL"}return t}(this);(function(e){var t=[];if(e.chartingSymbol||t.push("ticker-chart element is missing required 'data-charting-symbol' attribute"),e.instrumentType||t.push("ticker-chart element is missing required 'data-instrument-type' attribute"),e.timeRange){var n=["D1","D5","P29D","P3M","P6M","P1Y","P2Y","P3Y","ALL","YTD"];n.indexOf(e.timeRange)<0&&t.push("'data-time-range-key' has the value '"+e.timeRange+"' which is invalid. (valid values: "+n.join(",")+")")}else t.push("ticker-chart element is missing required 'data-time-range-key' attribute");return e.chartWidth&&isNaN(e.chartWidth)&&t.push("'data-chart-width' attribute on ticker-chart element is not of type number (val: '"+e.chartWidth+"')"),e.chartHeight&&isNaN(e.chartHeight)&&t.push("'data-chart-height' attribute on ticker-chart element is not of type number (val: '"+e.chartHeight+"')"),e.chartTargetElementQuerySelector?e.targetChartElement||t.push("Could not find the desired target chart element with the search '"+e.chartTargetElementQuerySelector+"'"):t.push("'data-chart-target-element-query-selector' is a required attribute on the ticker-chart element"),!(t.length>0)})(t)&&MarketWatch.Charts.loadChartJS((function(){e(t)}))},MarketWatch.ready((function(){window.TickerChartElement=document.registerElement("ticker-chart",{prototype:e})}))}(),function(){var e=Object.create(window.ScrollableElement.prototype);e.needsMoreNews=function(){return this._newsUl.offsetHeight-3*this._clickHeightChange<=-1*this._newsUl.offsetTop+this._newsWrapper.offsetHeight},e.notifyCount=0,e.isTabActive=!0;var t=function(e){var t={},n=null!==document.querySelector(".page--homepage");t.Sequence=e.h.s,t.MessageNumber=e.h.n,t.TimestampUtc=e.b.z,t.EasternTimeOffset=e.b.o,t.Headline=e.b.h,t.ThirdPartyUrl=e.b.tpu,e.b.c&&"headline"==e.b.c.toLowerCase()?(t.DocTypeId=90,e.b.u&&(t.Url=e.b.u)):(t.SeoHeadlineFragment=e.b.seo,t.Url=e.b.u),"MarketWatch Economic Forecasts"===e.b.pb?(t.DocTypeId=60,t.Url=MarketWatch.Settings.endpoints.siteroot+"/economy-politics/calendar"):"Moneyish.com"===e.b.pb?t.DocTypeId=88:"Barron's Online"===e.b.pb?t.DocTypeId=426:"Barrons Blogs"===e.b.pb?t.DocTypeId=17:"MW PREMIUM"===e.b.av&&(t.DocTypeId=53),t.Breaking=e.b.b,t.Correction=e.b.cn;var i=!1;e.b.nmd&&e.b.nmd.tgs&&e.b.nmd.tgs.length>0&&(t.NewsMetaData={},t.NewsMetaData.Tags=e.b.nmd.tgs,t.NewsMetaData.Tags.forEach((function(e){"resurfaced"===e.toLowerCase()&&(i=!0)}))),"delete"===e.b.at?(this.removeNewsItem(t),n&&(this.notifyCount>0&&(this.notifyCount-=1),this.updateFavicon())):"insert"!==e.b.at||i?(this.updateNewsItem(t,i),n&&(this.notifyCount+=1,this.updateFavicon())):(this.addNewsItem(t,!1),n&&(this.notifyCount+=1,this.updateFavicon()))};e.removeNewsItem=function(e){var t=document.querySelector(".latestNews");if(t){var n=t.querySelector('li[data-sequence="'+e.Sequence+'"][data-number="'+e.MessageNumber+'"]');n&&n.parentElement&&n.parentElement.removeChild(n)}},e.updateNewsItem=function(e,t){var n=document.querySelector(".latestNews");if(n){var i=n.querySelector('li[data-sequence="'+e.Sequence+'"][data-number="'+e.MessageNumber+'"]');if(t)for(i=n.querySelector('li a[href*="'+e.Url+'"]');i&&i.tagName&&"li"!=i.toLowerCase();)i=i.parentElement;var r=this.createNewItem(e);i&&!t?n.replaceChild(r,i):(n.insertBefore(r,n.querySelector("li")),i&&n.removeChild(i)),MarketWatch.Social.socialElementAdded(r)}},e.addNewsItem=function(e,t){var n=document.querySelector(".latestNews");if(n){var i=this.createNewItem(e);t?n.insertBefore(i,n.querySelector(".latestNews__loading")):n.insertBefore(i,n.querySelector("li")),MarketWatch.Social.socialElementAdded(i)}},e.createNewItem=function(e){var t=document.querySelector(".latestNews");if(this._template&&this._template.content&&t){var n=this._template.content.cloneNode(!0);if(n&&n.querySelector("li")){var i=n.querySelector("li");i.dataset.sequence=e.Sequence,i.dataset.number=e.MessageNumber;var r=i.querySelector(".latestNews__time");r&&(r.textContent=MarketWatch.Utility.formatDate(BlueGrass2.Utility.convertToExchangeTime(e.TimestampUtc,e.EasternTimeOffset)));var a=this.getLabel(e.NewsMetaData&&e.NewsMetaData.Tags?e.NewsMetaData.Tags:[],e.Correction,e.Breaking,e.DocTypeId),o=i.querySelector(".latestNews__label");o&&(""!==a?(o.textContent=a,o.classList.add(this.scrubLabel(a.toLowerCase()))):o.parentElement.removeChild(o));var s=i.querySelector(".latestNews__headline a");if(s)if(!e.DocTypeId||90!=e.DocTypeId||e.Url&&-1!=e.Url.indexOf("investing"))s.childNodes[s.childNodes.length-1].textContent=" "+e.Headline,426==e.DocTypeId||17==e.DocTypeId?null!=e.ThirdPartyUrl?s.href=MarketWatch.Settings.endpoints.siteroot+e.ThirdPartyUrl.replace("https://www.barrons.com/articles/","/articles/"):s.href=MarketWatch.Settings.endpoints.siteroot+"/articles"+e.SeoHeadlineFragment:e.ThirdPartyUrl?s.href=e.ThirdPartyUrl:e.DocTypeId&&90==e.DocTypeId?s.href=e.Url:e.DocTypeId&&60==e.DocTypeId?s.href=MarketWatch.Settings.endpoints.siteroot+"/economy-politics/calendar":s.href=MarketWatch.Settings.endpoints.siteroot+"/story"+e.SeoHeadlineFragment;else{var c=document.createElement("span");c.textContent=e.Headline,s.parentElement.insertBefore(c,s),s.parentElement.removeChild(s);var l=i.querySelector(".latestNews__social");l&&l.parentElement.removeChild(l)}return s.href=MarketWatch.Tracking.appendMod(s.href,"mw_latestnews"),i}}},e.getLabel=function(e,t,n,i){var r=r=t?"Correction":n?"Breaking":"";if(e&&e.length>0)for(var a=0;a<e.length;a++){var o=e[a].toLowerCase();if("resurfaced"==o){r="";break}"opinion"!=o||""!=r||n||t?"revised"!=o||t||(r="Updated"):r="Opinion"}return r||(497===i||88===i?r="Moneyish":426===i||17===i?r="Barron's":53===i?r="Premium":102!==i&&123!==i||(r="Picks")),r},e.handleScroll=function(){var e=this;if(!e._grabNewsMutex){e._grabNewsMutex=!0;var t=document.querySelector(".latestNews");fetchJSON({url:MarketWatch.Settings.endpoints.mux+"/api/whiterabbit/mw/v1/headline",data:{channel:"/news/latest",sequence:t.lastElementChild.previousElementSibling.getAttribute("data-sequence"),lastMessageNumber:t.lastElementChild.previousElementSibling.getAttribute("data-number"),count:10}}).then((function(n){if(n.forEach((function(t){e.addNewsItem(t,!0)})),n.length>0)e._grabNewsMutex=!1;else{var i=t.querySelector(".latestNews__loading");i.parentNode.removeChild(i)}}))}},e.holdNextDownLN=function(e){this.actionTimeoutLN&&clearTimeout(this.actionTimeoutLN),this.needsMoreNews()&&this.handleScroll(),this.actionTimeoutLN=setTimeout(this.holdNextDownLN.bind(this),190)},e.onNextDownLN=function(e){this.actionTimeoutLN&&clearTimeout(this.actionTimeoutLN),this.holdNextDownLN()},e.onDoneScrollingLN=function(e){this.actionTimeoutLN&&clearTimeout(this.actionTimeoutLN)},e.attachedCallback=function(){window.ScrollableElement.prototype.attachedCallback&&window.ScrollableElement.prototype.attachedCallback.bind(this)();var e=this;this._grabNewsMutex=!1,this._template=document.querySelector("#latestNewsItemTemplate"),this._template&&(this.newsHandler=t.bind(this),window.addEventListener("BlueGrassReady",(function(){e.client=BlueGrass2.Client.create(),e.client.subscribe("/news/latest",e.newsHandler)})),this._clickHeightChange=2*document.querySelector(".latestNews__item").offsetHeight,this._newsWrapper=this.querySelector(".latestNews__wrapper"),this._newsUl=this.querySelector(".j-scrollElement"),this.querySelector(".js-scroll-down").addEventListener("mousedown",this.onNextDownLN.bind(this)),this.querySelector(".js-scroll-down").addEventListener("mouseup",this.onDoneScrollingLN.bind(this)),this.querySelector(".js-scroll-down").addEventListener("mouseleave",this.onDoneScrollingLN.bind(this)),this._newsWrapper.addEventListener("wheel",MarketWatch.Utility.throttle((function(t){t.deltaY>0&&e.needsMoreNews()&&e.handleScroll()}),150)))},e.detachedCallback=function(){window.ScrollableElement.prototype.detachedCallback&&window.ScrollableElement.prototype.detachedCallback.bind(this)(),self.client&&self.client.unsubscribe&&self.client.unsubscribe("/news/latest",self.newsHandler)},e.scrubLabel=function(e){return e=e.replace("'","")},e.updateFavicon=function(){if(!this.isTabActive){var e=document.querySelector("link[rel='shortcut icon']"),t="https://mw2.wsj.net/mw5/content/images/favicons/favicon#count#-32x32.png";0===this.notifyCount?e.href="https://mw4.wsj.net/mw5/content/logos/favicon.ico":this.notifyCount>9?e.href="https://mw2.wsj.net/mw5/content/images/favicons/faviconEL-32x32.png":(t=t.replace(/#count#/,this.notifyCount.toString()),e.href=t)}},window.addEventListener("focus",(function(){e.notifyCount=0,e.isTabActive=!0,document.querySelector("link[rel='shortcut icon']").href="https://mw4.wsj.net/mw5/content/logos/favicon.ico"})),window.addEventListener("blur",(function(){e.isTabActive=!1})),window.LatestNewsElement=document.registerElement("mw-latest-news",{prototype:e})}(),function(){function e(e,t){var n=["partial=true"];for(var i in t)t.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return fetch(MarketWatch.Settings.endpoints.siteroot+"/"+e+"?"+n.join("&"),{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status}))}function t(t){if(t.preventDefault(),"true"!==t.currentTarget.dataset.isDisabled){var n=this,i={index:(n.index||0)-n.count};n.pattern&&""!==n.pattern&&(i.pattern=n.pattern),n.p&&(i.p=n.p),n.sortfield&&""!==n.sortfield&&n.descending&&""!==n.descending&&(i.sortfield=n.sortfield,i.descending=n.descending),n.gameaccess&&""!==n.gameaccess&&(i.gameaccess=n.gameaccess),n.cursorPrevious&&""!==n.cursorPrevious&&(i.cursor=n.cursorPrevious),n.pub&&(i.pub=n.pub),e(n.requestPath,i).then((function(e){var t=n.getBoundingClientRect().top;n.refresh(e),n.scrollOnPaginate&&MarketWatch.Miscellaneous.scrollTo(window.pageYOffset+t-55)})).catch((function(e){}))}}function n(t){if(t.preventDefault(),"true"!==t.currentTarget.dataset.isDisabled){var n=this,i={index:(n.index||0)+n.count};n.pattern&&""!==n.pattern&&(i.pattern=n.pattern),n.p&&(i.p=n.p),n.sortfield&&""!==n.sortfield&&n.descending&&""!==n.descending&&(i.sortfield=n.sortfield,i.descending=n.descending),n.gameaccess&&""!==n.gameaccess&&(i.gameaccess=n.gameaccess),n.cursorNext&&""!==n.cursorNext&&(i.cursor=n.cursorNext),n.pub&&(i.pub=n.pub),e(n.requestPath,i).then((function(e){var t=n.getBoundingClientRect().top;n.refresh(e),n.scrollOnPaginate&&MarketWatch.Miscellaneous.scrollTo(window.pageYOffset+t-55)})).catch((function(e){}))}}function i(t){t&&t.preventDefault();for(var n=this,i=t.target;i&&i.tagName&&"form"!=i.tagName.toLowerCase();)i=i.parentElement;var r=i;if(r&&r.elements){for(var a={},o=0;o<r.elements.length;o++)("checkbox"!==r.elements[o].type||r.elements[o].checked)&&(a[r.elements[o].name]=r.elements[o].value),"sortfield"===r.elements[o].name&&r.elements[o].options&&(a.descending=r.elements[o].options[r.elements[o].selectedIndex].dataset.isDescending);e(n.requestPath,a).then((function(e){n.refresh(e)})).catch((function(e){}))}}function r(e){this.autocompletepath&&(0!==this.autocompleteTimeout&&clearTimeout(this.autocompleteTimeout),27==e.keyCode?this.clickOutHandler(null):this.autocompleteTimeout=setTimeout(a.bind(this),350)),13==e.keyCode&&(e.preventDefault(),i.bind(this)(e))}function a(){if(this.autocompleteTimeout=0,""!==this.searchinput.value){for(this.acResultsEl.classList.remove("j-hidden");this.acTableBodyEl.firstChild;)this.acTableBodyEl.removeChild(this.acTableBodyEl.firstChild);window.addEventListener("click",this.clickOutHandler.bind(this)),function(e){var t={search:e.searchinput.value,count:10};fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/games?cursor=${(e=>{if(e)return(e=>{if(e)return e.replace(o,e=>s[e])})(btoa(JSON.stringify(e)))})(t)}`,{method:"GET",credentials:"include"}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(t){if(t&&t.data&&t.data.games){for(var n=0;n<t.data.games.length;n++){var i=e.acTemplateEl.content.cloneNode(!0);if(i=i.querySelector("tr")){var r=i.querySelector("a");r&&(r.textContent=t.data.games[n].name,r.setAttribute("href",MarketWatch.Settings.endpoints.siteroot+"/"+MarketWatch.Settings.cloudVsePath+"/"+t.data.games[n].uri)),e.acTableBodyEl.appendChild(i)}}e.acResultsCntEl&&(e.acResultsCntEl.textContent="Displaying "+t.data.totalGames+" result"+(1===t.data.totalGames?"":"s"))}})).catch((function(e){}))}(this)}else this.clickOutHandler(null)}const o=/[+/=]/g,s={"+":"-","/":"_","=":""};function c(t){t.preventDefault();var n=this,i={sortfield:t.target.value,descending:t.target.options[t.target.selectedIndex].dataset.isDescending};n.pattern&&(i.pattern=n.pattern),n.p&&(i.p=n.p),n.gameaccess&&""!==n.gameaccess&&(i.gameaccess=n.gameaccess),e(n.requestPath,i).then((function(e){n.refresh(e)})).catch((function(e){}))}function l(e){var t=this.parentNode;this.insertAdjacentHTML("afterend",e),this.parentNode.removeChild(this),void 0!==MarketWatch&&void 0!==MarketWatch.Vse&&void 0!==MarketWatch.Vse.CreateGame&&MarketWatch.Vse.CreateGame.Setup(t),void 0!==MarketWatch&&void 0!==MarketWatch.Vse&&void 0!==MarketWatch.Vse.ReinstatePlayer&&MarketWatch.Vse.ReinstatePlayer.Setup(t)}var u=Object.create(window.HTMLDivElement.prototype);u.attachedCallback=function(){var e=this.getAttribute("urlFragment"),a=MarketWatch.Settings.cloudVsePath,o=this.getAttribute("view");o&&(this.requestPath=a+"/"+(e?e+"/":"")+o),this.params={},this.hasAttribute("cursor-previous")&&(this.cursorPrevious=this.getAttribute("cursor-previous")),this.hasAttribute("cursor-next")&&(this.cursorNext=this.getAttribute("cursor-next")),this.hasAttribute("index")&&(this.index=parseInt(this.getAttribute("index"))),this.hasAttribute("count")&&(this.count=parseInt(this.getAttribute("count"))),this.hasAttribute("total")&&(this.totalcount=parseInt(this.getAttribute("total"))),this.hasAttribute("pattern")&&(this.pattern=this.getAttribute("pattern")),this.hasAttribute("sortfield")&&(this.sortfield=this.getAttribute("sortField")),this.hasAttribute("descending")&&(this.descending=this.getAttribute("descending")),this.hasAttribute("p")&&(this.p=this.getAttribute("p")),this.hasAttribute("pub")&&(this.pub=this.getAttribute("pub")),this.hasAttribute("autocomplete")&&(this.autocompletepath=this.getAttribute("autocomplete")),this.hasAttribute("gameaccess")&&(this.gameaccess=this.getAttribute("gameaccess")),this.hasAttribute("scrollOnPaginate")&&(this.scrollOnPaginate=!0),this.refresh=l.bind(this);var s=this.querySelector(".j-previous");s&&s.addEventListener("click",t.bind(this));var u=this.querySelector(".j-next");u&&u.addEventListener("click",n.bind(this));var d=this.querySelector(".j-search-game");d&&d.addEventListener("click",i.bind(this));var h=this.querySelector('input[name="gameaccess"]');h&&h.addEventListener("change",i.bind(this));var f=this.querySelector(".j-sort");f&&f.addEventListener("change",c.bind(this)),this.searchinput=this.querySelector('input[name="pattern"]'),this.searchinput&&this.searchinput.addEventListener("keydown",r.bind(this)),this.autocompletepath&&(this.searchinput&&(this.autocompleteTimeout=0),this.acTemplateEl=this.querySelector("template"),this.acTableBodyEl=this.querySelector(".input__results table tbody"),this.acResultsEl=this.querySelector(".input__results"),this.acResultsCntEl=this.acResultsEl.querySelector(".input__label"),this.clickOutHandler=function(e){this.acResultsEl.classList.add("j-hidden"),window.removeEventListener("click",this.clickOutHandler)}),MarketWatch.Tracking.registerClickEvents(this),MarketWatch.Tracking.registerSelectEvents(this)},window.VseModuleElement=document.registerElement("vse-module",{prototype:u,extends:"div"})}();var LIFPloading=!1;function loadLIFP(e){if(window.hasOwnProperty("LIFP")||LIFPloading){if(!window.hasOwnProperty("LIFP"))return!0;LIFP[e.dataset.LIFPAction]()}else LIFPloading=!0,window.enhance.loadJS(MarketWatch.Settings.endpoints.lifpJS,(function(){if(LIFP){var t=document.getElementsByTagName("body")[0],n=document.getElementsByTagName("html")[0],i=LIFP.createIFrame,r=LIFP.closeScrim;LIFP.createIFrame=function(){i.apply(this,arguments),LIFP.iframeContainer.style.overflowY="auto",LIFP.iframeContainer.querySelector(".login_scrim_wrapperLifp").style.position="absolute",t.style.cssText="position:relative;overflow-y:hidden;margin-right:"+MarketWatch.Utility.scrollbarSize+"px",n.style.cssText="overflow-y:hidden"},LIFP.closeScrim=function(){r.apply(this,arguments),t.style.cssText="position:static;overflow-y:visible;margin-right:auto",n.style.cssText="overflow-y:visible"},LIFP[e.dataset.LIFPAction]()}else document.location.href=e.attributes.href.value}));return!1}if(void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.AdvancedCharts&&(MarketWatch.AdvancedCharts=function(){var e=!1,t=!1,n=enhance.getMeta("advanced-chartjs"),i=[],r=function(){null!==n&&null!==n.content?enhance.loadJS(n.content,(function(){t=!0;for(var e=0;e<i.length;e++)i[e]();i=[]})):console.log("AdvancedChartJS meta not found")},a=function(n){t?n():(i.push(n),e||(e=!0,MarketWatch.Charts.loadChartJS(r.bind(this))))};return{loadChartJS:function(e){a(e)}}}()),MarketWatch.ready((function(){var e=enhance.getMeta("advanced-chartjs");null!=e&&null!==e.content&&MarketWatch.AdvancedCharts.loadChartJS((function(){var e=$.extend(!0,Michelangelo.DefaultStyle.instance().mikeStyle,{yAxisLabelsOutside:!0}),t=$.extend(!0,Michelangelo.DefaultStyle.instance().highchartsStyles,{xAxis:{alternateGridColor:"#F8F8F8"},plotOptions:{series:{connectNulls:!0}}}),n={EarningsEvents:{upImageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMzVweCIKCSBoZWlnaHQ9IjI1cHgiIHZpZXdCb3g9IjAgMCAyMCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgaWQ9ImVxdWl0eS1pbmMiPgoJPHBvbHlnb24gZmlsbD0iIzNBMDA1NyIgc3Ryb2tlPSIjM0EwMDU3IiBwb2ludHM9IjEuNSwxMi41IDYuNSwzLjUgMTEuNSwxMi41Ii8+CiAgICA8dGV4dCB4PSI0LjUiIHk9IjEyIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0iZm9udC1mYW1pbHk6QXJpYWw7Zm9udC1zaXplOjZweDsiPkU8L3RleHQ+CjwvZz4KPC9zdmc+",downImageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMzVweCIKCSBoZWlnaHQ9IjI1cHgiIHZpZXdCb3g9IjAgMCAyMCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgaWQ9ImVxdWl0eS1pbmMiPgoJPHBvbHlnb24gZmlsbD0iIzNBMDA1NyIgc3Ryb2tlPSIjM0EwMDU3IiBwb2ludHM9IjEuNSwzLjUgNi41LDEyLjUgMTEuNSwzLjUiLz4KICAgIDx0ZXh0IHg9IjQuNSIgeT0iOSIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9ImZvbnQtZmFtaWx5OkFyaWFsO2ZvbnQtc2l6ZTo2cHg7Ij5FPC90ZXh0Pgo8L2c+Cjwvc3ZnPg==",unchangedImageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMzVweCIKCSBoZWlnaHQ9IjI1cHgiIHZpZXdCb3g9IjAgMCAyMCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgaWQ9ImVxdWl0eS1pbmMiPgoJPHBvbHlnb24gZmlsbD0iIzNBMDA1NyIgc3Ryb2tlPSIjM0EwMDU3IiBwb2ludHM9IjEuNSwxMi41IDYuNSwzLjUgMTEuNSwxMi41Ii8+CiAgICA8dGV4dCB4PSI0LjUiIHk9IjEyIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0iZm9udC1mYW1pbHk6QXJpYWw7Zm9udC1zaXplOjZweDsiPkU8L3RleHQ+CjwvZz4KPC9zdmc+"},DividendEvents:{upImageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KICAgICAgICA8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxOXB4IgoJIGhlaWdodD0iMTlweCIgdmlld0JveD0iMCAwIDI1IDI1IiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgo8ZyBpZD0ic3BsaXQtaW5jIj4KCQk8cmVjdCB4PSI1IiB5PSI1IiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9IiIvPgogICAgICAgIDx0ZXh0IHg9IjkuNSIgeT0iMjAiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJmb250LWZhbWlseTpBcmlhbDtmb250LXNpemU6MTRweDsiPkQ8L3RleHQ+CjwvZz4KPC9zdmc+",downImageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTlweCIKCSBoZWlnaHQ9IjE5cHgiIHZpZXdCb3g9IjAgMCAyNSAyNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgaWQ9InNwbGl0LWluYyI+CgkJPHJlY3QgeD0iNSIgeT0iNSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIiLz4KICAgICAgICA8dGV4dCB4PSI5LjUiIHk9IjIwIiBmaWxsPSIjRkZGRkZGIiBzdHlsZT0iZm9udC1mYW1pbHk6QXJpYWw7Zm9udC1zaXplOjE0cHg7Ij5EPC90ZXh0Pgo8L2c+Cjwvc3ZnPg==",unchangedImageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KICAgICAgICA8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSIxOXB4IgoJIGhlaWdodD0iMTlweCIgdmlld0JveD0iMCAwIDI1IDI1IiB4bWw6c3BhY2U9InByZXNlcnZlIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgo8ZyBpZD0ic3BsaXQtaW5jIj4KCQk8cmVjdCB4PSI1IiB5PSI1IiB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIGZpbGw9IiIvPgogICAgICAgIDx0ZXh0IHg9IjkuNSIgeT0iMjAiIGZpbGw9IiNGRkZGRkYiIHN0eWxlPSJmb250LWZhbWlseTpBcmlhbDtmb250LXNpemU6MTRweDsiPkQ8L3RleHQ+CjwvZz4KPC9zdmc+"},SplitEvents:{upImageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTlweCIKCSBoZWlnaHQ9IjE5cHgiIHZpZXdCb3g9IjAgMCAyNSAyNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgaWQ9InNwbGl0LWluYyI+CgkJPHJlY3QgeD0iNSIgeT0iNSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjNTM1MzUzIi8+CiAgICAgICAgPHRleHQgeD0iOS41IiB5PSIyMCIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9ImZvbnQtZmFtaWx5OkFyaWFsO2ZvbnQtc2l6ZToxNHB4OyI+UzwvdGV4dD4KPC9nPgo8L3N2Zz4=",downImageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTlweCIKCSBoZWlnaHQ9IjE5cHgiIHZpZXdCb3g9IjAgMCAyNSAyNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgaWQ9InNwbGl0LWluYyI+CgkJPHJlY3QgeD0iNSIgeT0iNSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjNTM1MzUzIi8+CiAgICAgICAgPHRleHQgeD0iOS41IiB5PSIyMCIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9ImZvbnQtZmFtaWx5OkFyaWFsO2ZvbnQtc2l6ZToxNHB4OyI+UzwvdGV4dD4KPC9nPgo8L3N2Zz4=",unchangedImageUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTlweCIKCSBoZWlnaHQ9IjE5cHgiIHZpZXdCb3g9IjAgMCAyNSAyNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZmlsbC1ydWxlPSJldmVub2RkIj4KPGcgaWQ9InNwbGl0LWluYyI+CgkJPHJlY3QgeD0iNSIgeT0iNSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiBmaWxsPSIjNTM1MzUzIi8+CiAgICAgICAgPHRleHQgeD0iOS41IiB5PSIyMCIgZmlsbD0iI0ZGRkZGRiIgc3R5bGU9ImZvbnQtZmFtaWx5OkFyaWFsO2ZvbnQtc2l6ZToxNHB4OyI+UzwvdGV4dD4KPC9nPgo8L3N2Zz4="}};angular.module("charting-app",["advanced-chart","advanced-chart.templates"]),angular.module("charting-app").config(["ChartStylesProvider",function(i){i.set({mikeStyle:e,eventStyles:n,highchartsStyles:t})}]).directive("indicatorForm",(function(){return{restrict:"EA",replace:!0,scope:{indicator:"="},template:"<form ng-if='localIndicator.template' ng-include='localIndicator.template'></form>",link:function(e,t,n){e.$watchCollection("indicator",(function(t){e.localIndicator=t}))}}})),angular.element((function(){angular.bootstrap(document.getElementById("advanced-chart"),["charting-app"])}))}))})),void 0===MarketWatch.Bluegrass&&(MarketWatch.Bluegrass={}),MarketWatch.ready((function(){BlueGrass2.Client.setup({endpoint:MarketWatch.Settings.endpoints.bluegrass}),window.dispatchEvent(new Event("BlueGrassReady"))})),MarketWatch.Bluegrass.getBestChannel=function(e){if(!e||!Array.isArray(e))return null;for(var t=null,n=0;n<e.length;n++){if("CompositeChannel"===e[n].BlueGrassChannelType.Name||"Composite"===e[n].BlueGrassChannelType.Name)return e[n].Channel;("DelayedChannel"!==e[n].BlueGrassChannelType.Name&&"Delayed"!==e[n].BlueGrassChannelType.Name||t)&&"RealtimeChannel"!==e[n].BlueGrassChannelType.Name&&"Realtime"!==e[n].BlueGrassChannelType.Name||(t=e[n].Channel)}return t},void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Bulletin&&(MarketWatch.Bulletin={}),function(){var e=document.querySelector("#bulletinTemplate"),t=function(e){if(e.stopPropagation(),void 0!==MarketWatch.getCookie&&void 0!==MarketWatch.setCookie){var t=e.target.parentElement.querySelector(".bulletin__headline").textContent.trim();t=t.substr(0,2)+t.length+t.substr(t.length-2,2);var i=MarketWatch.getCookie("mw_bulletins");i&&i.length?i+="|":i="",i+=t;var r=new Date;r.setTime(r.getTime()+36e5),MarketWatch.setCookie("mw_bulletins",i,r)}e.target.parentElement.removeComponent();var a=document.querySelectorAll(".container--masthead .fixed .j-bulletin-container > mw-expires.bulletin").length,o=document.getElementById("j-bulletin-ad-slot-container");a<=0?o.classList.add("hidden"):o.classList.remove("hidden"),n()},n=function(){if(MarketWatch.viewMode>MarketWatch.ViewModes.Small){var e=document.querySelectorAll(".container--masthead .fixed .j-bulletin-container > mw-expires.bulletin").length;document.body.classList.remove("has-bulletin"),document.body.classList.remove("has-bulletins"),e>0&&document.body.classList.add(1==e?"has-bulletin":"has-bulletins")}void 0!==MarketWatch.WatchListRecapBanner&&MarketWatch.WatchListRecapBanner.setBannerClassOnBody()},i=document.querySelectorAll("mw-expires.bulletin"),r=0;for(r=0;r<i.length;r++)i[r].querySelector(".icon--close").addEventListener("click",t);MarketWatch.Bulletin.ShowBulletin=function(i){var r=BlueGrass2.Utility.convertToExchangeTime(i.b.e);if(r&&i.b.h&&e){var a=r.getTime()-(new Date).getTime();if(a>0){var o=document.importNode(e.content,!0);o.querySelector("mw-expires").attributes.duration.value=a,i.b.u&&i.b.u.length?(o.querySelector("span").style.display="none",o.querySelector("a").attributes.href.value=i.b.u,o.querySelector("a").innerHTML=i.b.h,MarketWatch.Tracking&&MarketWatch.Tracking.clickThrough(o)):(o.querySelector("a").style.display="none",o.querySelector("span").innerHTML=i.b.h),o.querySelector(".icon--close").addEventListener("click",t);var s=document.querySelector(".container--masthead .fixed .j-bulletin-container");if(s){var c=s.querySelectorAll("mw-expires.bulletin"),l=null,u=0;if(c.length>=2){for(u=0;u<c.length;u++)null==l?l=c[u]:l.getTimeLeft()>c[u].getTimeLeft()?(l.removeComponent(),l=c[u]):c[u].removeComponent();s.insertBefore(o,s.firstChild)}else c.length>0?s.insertBefore(o,s.firstChild):s.appendChild(o);var d=document.getElementById("j-bulletin-ad-slot-container");d&&d.classList.remove("hidden"),n()}}}},MarketWatch.Bulletin.TestBulletin=function(e,t){MarketWatch.Bulletin.ShowBulletin({b:{e:(new Date).getTime()+(t||3e4),h:e||"this bulletin will self destruct in 30 seconds",u:"https://www.google.com"}})},window._mwTestBulletin=MarketWatch.Bulletin.TestBulletin,MarketWatch.Bulletin.Expired=function(){n()},window.addEventListener("BlueGrassReady",(function(){BlueGrass2.Client.create().subscribe("/bulletin",MarketWatch.Bulletin.ShowBulletin)}))}(),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Collapse&&(MarketWatch.Collapse=new function(){return{Setup:function(){!function(){const e=document.querySelectorAll("div.j-collapseToggle");void 0!==e&&e.length>0&&Array.prototype.forEach.call(e,(function(e){e.addEventListener("click",t=>{if(e&&e.parentNode&&e.parentNode.parentNode){"MarketData_Header_Expand"==e.getAttribute("data-track-code")?e.setAttribute("data-track-code","MarketData_Header_Collapse"):e.setAttribute("data-track-code","MarketData_Header_Expand");e.parentNode.parentNode.classList.toggle("collapsed")}})}))}()}}}),MarketWatch.ready((function(){MarketWatch.Collapse.Setup()})),void 0===MarketWatch)var MarketWatch=mw={};if(void 0===MarketWatch.ConfirmationDialog&&(MarketWatch.ConfirmationDialog=function(){var e=document.querySelector(".j-confirmDialog");if(null!==e){var t=e.querySelector(".j-title"),n=e.querySelector(".j-content"),i=e.querySelector(".j-footer"),r=e.querySelector(".j-options"),a=e.querySelector(".j-type"),o=function(e,t){return e.hasOwnProperty(t)&&null!==e[t]},s=function(e,t,n){if(e&&t&&n){for(;e.firstChild;){if("type"===n&&e.classList&&"function"==typeof e.classList.remove){e.classList.remove("destructive","constructive","neutral");break}e.removeChild(e.firstChild)}if(o(t,n)||"type"===n?e.classList.remove("is-hidden"):e.classList.add("is-hidden"),o(t,n))if("type"===n&&e.classList&&(e.classList.remove,1))e.classList.add(t[n]);else if("choices"!==n)e.appendChild(t[n]);else if("choices"===n)for(var i=0;i<t[n].length;i++){var r=document.createElement("button");r.textContent=t[n][i].title,r.className="btn btn--outline "+(t[n][i].hasOwnProperty("primary")&&t[n][i].primary?"primary":"secondary"),e.appendChild(r),t[n][i].hasOwnProperty("callback")?r.addEventListener("click",t[n][i].callback):r.addEventListener("click",c)}}},c=function(){MarketWatch.Lightbox.Close(e),location.reload()};return{Open:function(o){o.type=o.type||"neutral",s(t,o,"title"),s(n,o,"content"),s(i,o,"footer"),s(r,o,"choices"),s(a,o,"type"),MarketWatch.Lightbox.Open(e)},Close:c}}}()),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.DownloadData&&(MarketWatch.DownloadData=new function(){let e="D30";const t={day:"2-digit",month:"2-digit",year:"numeric"};_newData=function(e,t){const n=["partial=true"];for(const e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));const i=e.replace("/download-data","/downloaddatapartial");return fetch(MarketWatch.Settings.endpoints.siteroot+i+"?"+n.join("&"),{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400){let n=window.location.href.replace(/download-data.*$/i,"download-data"),i="?startDate="+t.startDate+"&endDate="+t.endDate;return i+=t.countryCode?"&countryCode="+t.countryCode:"",i+=t.isoCode?"&isoCode="+t.isoCode:"",n+=i,window.history.pushState({},null,n),e.text()}throw e.status}))},_refreshTabs=function(e){const t=document.querySelector(".j-downloaddata .element--tabs");t.insertAdjacentHTML("afterend",e),t.remove();const n=document.querySelector(".j-downloaddata .element--tabs");MarketWatch.Tracking&&MarketWatch.Tracking.registerAllEvents(n);const i=document.querySelector(".btn--secondary");i.classList.add("is-updated"),setTimeout((function(){i.classList.remove("is-updated")}),3e3)},_newDates=function(e){if(e.preventDefault(),"true"===e.currentTarget.dataset.isDisabled)return;const t=document.forms.namedItem("downloaddata-frm").elements,n=t.startdate.value,i=t.enddate.value,r=MarketWatch.Utility.getQueryString(),a=null!==r&&r.hasOwnProperty("countrycode")?r.countrycode:"",o=null!==r&&r.hasOwnProperty("iso")?r.iso:"";if(!1===_validateDate(n,i))return;const s=window.location.pathname.replace("/download-data/","/");_newData(s,{index:0,countryCode:a,iso:o,startDate:n,endDate:i,frequency:null,downloadPartial:!1,csvDownload:!1,newDates:!0}).then((function(e){_refreshTabs(e)})).catch((function(){}))},_isValidDateFormat=function(e){if(!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(e))return!1;const t=e.split("/"),n=parseInt(t[1],10),i=parseInt(t[0],10),r=parseInt(t[2],10);if(r<1970||r>3e3||0==i||i>12)return!1;const a=[31,28,31,30,31,30,31,31,30,31,30,31];return(r%400==0||r%100!=0&&r%4==0)&&(a[1]=29),n>0&&n<=a[i-1]},_validateDate=function(e,t){const n=document.querySelector(".j-download-startDate"),i=document.querySelector(".j-download-endDate"),r=n.previousElementSibling,a=i.previousElementSibling,o=_isValidDateFormat(e),s=_isValidDateFormat(t);if(""===e||!o||""===t||!s)return""!==e&&o||!r||!r.classList.contains("input__label")||(r.classList.add("error"),n.classList.add("error"),r.innerText="Start Date Required",""!==t&&(i.classList.remove("error"),a.classList.remove("error"))),""!==t&&s||!a||!a.classList.contains("input__label")||(a.classList.add("error"),i.classList.add("error"),a.innerText="End Date Required",""!==e&&(n.classList.remove("error"),r.classList.remove("error"))),!1;r&&r.classList.contains("input__label")&&(r.classList.remove("error"),n.classList.remove("error"),r.innerText="Start Date"),a&&a.classList.contains("input__label")&&(a.classList.remove("error"),i.classList.remove("error"),a.innerText="End Date");const c=new Date,l=new Date(e),u=new Date(t);return l>c||u>c?(l>c&&r&&r.classList.contains("input__label")&&(r.classList.add("error"),n.classList.add("error"),r.innerText="Invalid Start Date"),u>c&&a&&a.classList.contains("input__label")&&(a.classList.add("error"),i.classList.add("error"),a.innerText="Invalid End Date"),!1):l>u?(r&&a&&r.classList.contains("input__label")&&a.classList.contains("input__label")&&(n.classList.add("error"),i.classList.add("error"),r.classList.add("error"),a.classList.add("error"),r.innerText="Invalid Range",a.innerText="Invalid Range"),!1):(n.classList.remove("error"),i.classList.remove("error"),r.classList.remove("error"),a.classList.remove("error"),!0)};const n=function(){const e=new Date;let n=new Date;switch(e.getDay()){case 0:n.setDate(e.getDate()-2);break;case 1:n.setDate(e.getDate()-3);break;default:n.setDate(e.getDate()-1)}return document.querySelector(".j-download-endDate").value=n.toLocaleDateString(void 0,t),n},i=function(e,n,i){const r=new Date;switch(n){case"month":const t=e.getMonth(),n=e.getDate();r.setMonth(t-i),r.setDate(n);break;case"ytd":const a=e.getFullYear();r.setMonth(0),r.setDate(1),r.setFullYear(a);break;case"year":const o=e.getMonth(),s=e.getDate(),c=e.getFullYear();r.setMonth(o),r.setDate(s),r.setFullYear(c-i);break;case"day":default:r.setDate(e.getDate()-i)}document.querySelector(".j-download-startDate").value=r.toLocaleDateString(void 0,t)};return _setDates=function(t){if(t!==e)try{let r,a;switch(e=t,e){case"D90":r=n(),a=i(r,"day",90);break;case"M6":r=n(),a=i(r,"month",6);break;case"YTD":r=n(),a=i(r,"ytd",0);break;case"YR1":r=n(),a=i(r,"year",1);break;case"YR3":r=n(),a=i(r,"year",3);break;case"CUSTOM":if(document.querySelector(".j-download-startDate").value="",document.querySelector(".j-download-endDate").value="",!1===_validateDate("",""))return;break;case"D30":default:r=n(),a=i(r,"day",30)}}catch(e){console.log(e)}},_setSelectionToCustom=function(){document.querySelector(".download-dropdown").value="CUSTOM";const e=document.querySelector(".j-download-startDate").value,t=document.querySelector(".j-download-endDate").value;_validateDate(e,t)},_bindSelectChange=function(){const e=document.querySelector(".download-dropdown"),t=document.querySelector(".j-download-startDate"),n=document.querySelector(".j-download-endDate");e&&e.addEventListener("change",(function(){this&&this.value&&_setDates(this.value)})),t&&t.addEventListener("change",(function(){_setSelectionToCustom()})),n&&n.addEventListener("change",(function(){_setSelectionToCustom()}))},{Setup:function(){_bindSelectChange()}}}),MarketWatch.ready((function(){MarketWatch.DownloadData.Setup()})),function(){if(!document.forms)return;const e=document.forms.namedItem("downloaddata-frm");if(!e)return;const t=document.querySelector(".j-downloaddata-form"),n=new Date,i=new Date("1971-01-01");1===MarketWatch.viewMode||2===MarketWatch.viewMode?(TinyDatePicker(t.querySelector("input.j-download-startDate"),{mode:"dp-modal",min:i,max:n,disableWeekends:!0}),TinyDatePicker(t.querySelector("input.j-download-endDate"),{mode:"dp-modal",min:i,max:n,disableWeekends:!0})):(TinyDatePicker(t.querySelector("input.j-download-startDate"),{mode:"dp-below",min:i,max:n,disableWeekends:!0}),TinyDatePicker(t.querySelector("input.j-download-endDate"),{mode:"dp-below",min:i,max:n,disableWeekends:!0})),e&&(e.addEventListener("submit",_newDates.bind(e)),window.onpopstate=function(){location.reload()})}(),function(){if(document.querySelector(".tab--financials")){var e=function(t){var n=document.querySelector(".j-secFrame");n&&n.parentNode.removeChild(n),t.target.removeEventListener("click",e);var i=t.target.dataset.tabPane,r=document.querySelector('div.j-tabPane[data-tab-pane="'+i+'"] mw-secfilings');r&&r._moreFilings(window.location.pathname).then((function(e){r._refresh(e)})).catch((function(){}))},t=function(e){var t=window.location.href.replace(/secfilings.*$/i,"secfilings");null!=this.dataset.tabPane&&("SHOW ALL"!==this.dataset.tabPane?window.history.pushState({},null,t+"/"+this.dataset.tabPane.replace("-","").toLowerCase()):window.history.pushState({},null,t))},n=document.querySelectorAll('.j-tabItem[data-tab-pane="SHOW ALL"], .j-tabItem[data-tab-pane="8-K"],.j-tabItem[data-tab-pane="10-K"],.j-tabItem[data-tab-pane="10-Q"],.j-tabItem[data-tab-pane="PROXY"],.j-tabItem[data-tab-pane="REGISTRATION"],.j-tabItem[data-tab-pane="PROXY"],.j-tabItem[data-tab-pane="13D"],.j-tabItem[data-tab-pane="13F"],.j-tabItem[data-tab-pane="13G"]');if(null!=n){for(var i=0;i<n.length;i++)n[i].addEventListener("click",t),n[i].addEventListener("click",e);window.onpopstate=function(){location.reload()}}}}(),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Lightbox&&(MarketWatch.Lightbox=new function(){var e,t;var n=function(e){if(e&&("function"==typeof t&&(t(),t=null),e.classList.remove("is-active"),MarketWatch.Overlay)){var n=e.dataset.hasOwnProperty("source")?e.dataset.source:"mw-lightbox";MarketWatch.Overlay.hide(n)}},i=function(e){for(var t=this,i=!1;!i&&t;)t.classList.contains("region--lightbox")?(n(t),i=!0):t=document.querySelector(".region--lightbox.is-active")},r=function(e){if(27==e.keyCode)(t=document.querySelector(".region--lightbox.is-active"))&&n(t);else if(9===e.keyCode||"Tab"===e.key){var t;if((t=document.querySelector(".region--lightbox.is-active"))&&document.activeElement&&document.activeElement.closest(".region--lightbox.is-active")==t){const n=Array.from(t.querySelectorAll('button:not(.hidden), a:not(.hidden), input:not(.hidden), select:not(.hidden), textarea:not(.hidden), [tabindex]:not([tabindex="-1"])'));n&&n.length>0&&(e.shiftKey&&n[0]==document.activeElement?(n[n.length-1].focus(),e.stopPropagation(),e.preventDefault()):e.shiftKey||n[n.length-1]!=document.activeElement||(n[0].focus(),e.stopPropagation(),e.preventDefault()))}}};return{Setup:function(){!function(){e=document.querySelector(".region--lightbox.j-ajaxContent");var t=document.querySelectorAll(".region--lightbox .j-cancel");if(t)for(var n=0;n<t.length;n++)t[n].addEventListener("click",i);document.addEventListener("keydown",r)}()},Close:function(e){n(e)},Open:function(e,n){!function(e){if(e){if(MarketWatch.Overlay){var t=e.dataset.hasOwnProperty("source")?e.dataset.source:"mw-lightbox";MarketWatch.Overlay.show(t)}e.classList.add("is-active")}}(e),t=n},AjaxLightbox:function(){return e},RegisterElement:function(e){e&&e.querySelectorAll(".j-cancel").forEach((function(t){t.addEventListener("click",(function(){MarketWatch.Lightbox.Close(e)}))}))}}}),MarketWatch.ready((function(){MarketWatch.Lightbox.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.LiveEvent&&(MarketWatch.LiveEvent=(LiveEventVideoPlayer={_initialize:function(){const e=window.location.href.split("/"),t=e[e.length-1].split("?")[0];if(null!=window.$jQ111&&null!=window.$jQ111){const e=document.querySelector("#video-player");if(!e)return;try{const n=window.$jQ111(e).WSJVideo({guid:t,site:"video.marketwatch.com"});n&&n.addEventListener("onVideoComplete",()=>console.log("Video complete"))}catch(e){console.error(e)}}}},LiveEventComments={_initialize:function(){document.addEventListener("spot-im-login-start",(function(){window.location.href=MarketWatch.Settings.endpoints.identityLoginUrl+encodeURIComponent(window.location.href)+"&opts=0&mod=article_comments"}));const e=function(){const e=document.getElementById("spotim_sso_live");if(e){const t=document.createElement("script"),n=e.parentElement;t.async=!0,t.src=e.dataset.source,Object.assign(t.dataset,e.dataset),n.removeChild(e),n.appendChild(t),window.SPOTIM&&window.SPOTIM.startSSO?LiveEventComments._startSSO():document.addEventListener("spot-im-api-ready",LiveEventComments._startSSO,!1)}};window.djcmp?window.djcmp("customVendorIsEnabled",["601ae39d13977e271d1ea8d3"],(function(t){t&&e()})):e()},_startSSO:function(){window.SPOTIM.startSSO((function(e,t){fetch("/news/commenting/spotIM/login?code_a="+e,{method:"get",credentials:"include"}).then(e=>{if(e.ok)return e.text();throw Error(e.statusText)}).then(e=>{t(e)}).catch(e=>{console.error("ERROR:",e)})})).then((function(e){const t=document.getElementById("live-events-is-logged-in");e&&!t&&window.SPOTIM&&window.SPOTIM.logout&&window.SPOTIM.logout()})).catch((function(e){console.error("SpotIM user error: ",e)}))}},_init=function(){LiveEventVideoPlayer._initialize(),LiveEventComments._initialize()},{Init:function(){_init()}})),MarketWatch.ready((function(){MarketWatch.LiveEvent.Init()})),MarketWatch.Movers=function(){var e=document.querySelector(".col--movers");if(e){var t=e.querySelectorAll(".col--mover")[0],n=e.querySelectorAll(".col--mover")[1],i=document.querySelector("#moverItemTemplate"),r=MarketWatch.Settings.endpoints.mux;setInterval((function(){o(t,"Marketwatch.MarketOverview.IndexDayGainers")}),6e4),setInterval((function(){o(n,"Marketwatch.MarketOverview.IndexDayLosers")}),6e4)}function a(e){for(;e.hasChildNodes();)a(e.firstChild);e.parentNode.removeChild(e)}function o(e,t){fetchJSON({url:r+"/api/zigmanscreener/screens/execute",data:{ckey:MarketWatch.Settings.cKey,EntitlementToken:MarketWatch.Settings.entitlementToken,screenNames:t}}).then((function(t){if(t&&t[0]&&t[0].QueryResults&&t[0].QueryResults.length>0){for(var n=t[0].QueryResults,r=[],o=0;o<n.length;o++){var s=n[o],c=i.content.cloneNode(!0),l=c.querySelector(".mover__symbol"),u=c.querySelector(".mover__item");u.setAttribute("href","/investing/stock/"+s.Ticker),l.textContent=s.Ticker;var d=document.createElement("bg-quote"),h=(p=s.ChangePercent,(m="0,0.0")?numeral(p).format(m)||p:numeral(p).format("0.0a")||p);d.textContent=h;var f=h>0?"positive":h<0?"negative":"neutral";d.classList.add(f),d.setAttribute("channel",s.BlueGrassCompositeChannel),d.setAttribute("format","0,0.0"),d.setAttribute("field","percentChange"),u.appendChild(d),r.push(c)}for(function(e){for(;e.hasChildNodes();)a(e.firstChild)}(e),o=0;o<r.length;o++)e.appendChild(r[o])}var p,m}))}}(),void 0===MarketWatch.MultiQuote&&(MarketWatch.MultiQuote={}),MarketWatch.ready((function(){if(!document.querySelector(".page--tools"))return;const e=document.querySelector(".j-instrument-error");e&&(e.style.display="none");const t=document.querySelectorAll(".article__headline > a");for(let e=0;e<t.length;++e)t[e].setAttribute("target","_blank");const n=document.getElementsByClassName("j-remove-multi-quote");null!==n&&n.length>0&&Array.from(n).forEach((function(e){e.addEventListener("click",h)}));let i=document.getElementById("quoteTitleSearchItem");const r=document.querySelector(".j-search-multi-quote"),a=r&&r.querySelector(".j-search-multi-ticker"),o=r&&r.querySelector(".j-search-multi-results"),s=o&&o.querySelector(".j-search-multi-container");function c(){const e=document.querySelectorAll("[data-multi-ticker]"),t=document.querySelector(".j-no-multi-quotes");let n=[],i="";for(let t=0;t<e.length;t++)n.push(e[t].getAttribute("data-multi-ticker").toLowerCase());0===n.length?t.style.display="flex":n.length>0&&(t.style.display="none",n=n.join(","),i="?tickers="+encodeURIComponent(n));const r=window.location.origin+window.location.pathname+i;window.history.pushState({},null,r)}function l(){const e=document.querySelector(".j-instrument-error");e.innerHTML="",e.style.display="none",document.querySelector(".j-search-multi-quote").classList.remove("has-error")}function u(e){const t=e.currentTarget;t&&t.dataset.symbol&&d(t)}function d(e){let t=e.dataset.symbol,n="";const i=t.split("/");4===i.length?(t=i[0]+"/"+i[1]+"//"+i[3],n="US"===i[1].toUpperCase()?i[3]:i[1]+":"+i[3]):n=t;const r=function(){if(document.querySelectorAll("[data-multi-ticker]").length>=25){const e=document.querySelector(".j-instrument-error");return document.querySelector(".j-search-multi-quote").classList.add("has-error"),e.innerHTML="You have reached the 25 quote limit",e.style.display="initial",document.querySelector(".j-search-multi-results").classList.add("j-hidden"),document.querySelector(".j-search-multi-ticker").value="",!0}return!1}(),a=function(e){const t=document.querySelectorAll("[data-multi-ticker]");let n=!1;for(let i=0;i<t.length;i++)t[i].getAttribute("data-multi-ticker").toLowerCase()===e.toLowerCase()&&(n=!0);if(n){const t=document.querySelector(".j-instrument-error");return document.querySelector(".j-search-multi-quote").classList.add("has-error"),t.innerHTML="<strong>"+e+"</strong> is already in this list",t.style.display="initial",document.querySelector(".j-search-multi-results").classList.add("j-hidden"),document.querySelector(".j-search-multi-ticker").value="",!0}return!1}(n);r||a||function(e){if(!e)return;let t=window.location.search;return t=t&&0!==t.length&&"?tickers="!==t.toLowerCase()&&"?tickers"!==t.toLowerCase()?t+"&partial=true&symbol="+e.toLowerCase():"?partial=true&symbol="+e.toLowerCase(),fetch(MarketWatch.Settings.endpoints.siteroot+"/tools/multiple-quotes"+t,{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status}))}(t).then((function(e){!function(e,t){document.querySelector(".j-multi-quotes").lastElementChild.insertAdjacentHTML("afterend",e);const n=document.querySelectorAll(".article__headline > a");n&&n.length>0&&n[n.length-1].setAttribute("target","_blank");const i="[data-multi-ticker='"+t+"']";document.querySelector(".j-multi-quotes").querySelector(i).addEventListener("click",h);const r=document.querySelectorAll(".j-multi-link");for(let e=0;e<r.length;++e)r[e].remove();document.querySelector(".j-search-multi-results").classList.add("j-hidden"),document.querySelector(".j-search-multi-ticker").value="",c();const a=document.querySelector(".element--input");a.classList.add("is-updated");const o=document.querySelectorAll(".j-multi-quotes .group--ticker");MarketWatch.Tracking&&o&&MarketWatch.Tracking.registerAllEvents(o[o.length-1]),setTimeout((function(){a.classList.remove("is-updated")}),3e3)}(e,n)})).catch((function(){}))}function h(){const e=this.closest(".group--ticker"),t=e.nextElementSibling;e.remove(),t.remove(),l(),c()}i=i&&(i.content||i.firstElementChild),i&&a&&o&&s&&(a.addEventListener("results",(function(e){if(e.target!==a)return;s.innerHTML="";const t=e.detail&&e.detail.results&&e.detail.results.symbols;t&&0!==t.length?(t.forEach((function(e){const t=i.cloneNode(!0),n=t.querySelector(".j-multi-link");n.setAttribute("data-symbol",e.chartingSymbol),n.setAttribute("data-ticker",e.ticker);const r=JSON.parse(n.dataset.trackPayload);r.follow_topic="MultipleQuotes_"+e.chartingSymbol,n.dataset.trackPayload=JSON.stringify(r),n.querySelector(".j-multi-ticker").appendChild(document.createTextNode(e.ticker)),n.appendChild(document.createTextNode(e.company)),n.addEventListener("click",u),s.appendChild(t)})),l(),o.classList.remove("j-hidden")):o.classList.add("j-hidden")})),a.addEventListener("keydown",(function(e){const t=a.value.trim();if(13!==e.keyCode||""===t)return;const n=s.querySelector(".j-multi-link");if(n&&n.dataset.symbol){if(n.dataset.trackPayload){const e=JSON.parse(n.dataset.trackPayload);MarketWatch.Tracking.trackLink(e)}d(n)}})),c())})),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.MutualFundCompare&&(MarketWatch.MutualFundCompare=new function(){const e=document.getElementById("mf-search");var t=function(t){t.preventDefault(),_searchTerm=e.value.trim();var n=`/tools/fund-comparison?tickers=${_searchTerm}&filter=${filter.value}`;fetch(n+"&partial=true").then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(e){r(e),window.history.pushState("","",n)})).catch((function(e){}))},n=function(e){var t="risk"!==filter.value;!t||filterInfo.classList.contains("hidden")?t||!filterInfo.classList.contains("hidden")||filterInfo.classList.remove("hidden"):filterInfo.classList.add("hidden")},i=function(){window.location="/newsletters"},r=function(e){var t=document.getElementById("comparisons"),n=document.getElementById("comparisons-container");t.remove(),n.insertAdjacentHTML("afterend",e)};return{Setup:function(){container=document.querySelector(".fund-comparison"),container&&(form=container.querySelector(".j-searchForm"),form&&(filter=form.filter,filter.forEach(e=>{e.addEventListener("change",n)}),form.addEventListener("submit",t)),searchIcon=container.querySelector(".icon--search"),searchIcon&&searchIcon.addEventListener("click",t),filterInfo=container.querySelector(".j-filter-info"),newsletterContainer=document.querySelector(".element--newsletter"),newsletterContainer&&(signUpBtn=newsletterContainer.querySelector(".j-sign-up"),newslettersBtn=newsletterContainer.querySelector(".j-newsletters"),signUpBtn&&signUpBtn.addEventListener("click",i),newslettersBtn&&newslettersBtn.addEventListener("click",i)))}}}),void 0!==MarketWatch.MutualFundCompare.Setup&&MarketWatch.ready((function(){MarketWatch.MutualFundCompare.Setup()})),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.MutualFundScreenerSelect&&(MarketWatch.MutualFundScreenerSelect=new function(){var e=function(){document.querySelectorAll(".j-mutualfund-select").forEach(e=>{e.addEventListener("input",e=>{var t=function(){var e=document.getElementById("fundType-select"),t=document.getElementById("fundValue-select"),n=document.getElementById("fundPeriod-select"),i=[];return e&&e.value&&i.push("fundType="+encodeURIComponent(e.value)),t&&t.value&&i.push("fundValue="+encodeURIComponent(t.value)),n&&n.value&&i.push("fundPeriod="+encodeURIComponent(n.value)),i}();!function(e){if(e){var t=window.location.href.split("?"),n={Title:document.title,Url:t[0]+"?"+e.join("&")};history.pushState(n,document.title,n.Url)}}(t),t.push("partial=true"),fetch(MarketWatch.Settings.endpoints.siteroot+"/tools/screener/mutual-fund?"+t.join("&"),{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(e){var t,n,i;t=e,n=(new DOMParser).parseFromString(t,"text/html").body.querySelector(".screener-table"),(i=document.querySelector(".screener-table")).innerHTML="",i.innerHTML=n.innerHTML}))})})};return{Setup:function(){e()}}}),MarketWatch.ready((function(){MarketWatch.MutualFundScreenerSelect.Setup()})),function(){var e=document.querySelector(".j-video-show"),t=e&&e.querySelector(".j-market-brief-video");if(t){var n=function(){MarketWatch.Utility.check_webp_feature("animation",(function(n,i){t.src=i?t.dataset.webp:t.dataset.img,e.classList.remove("is-loading")}))},i=function(){MarketWatch.viewMode>=MarketWatch.ViewModes.Large&&(n(),window.removeEventListener(MarketWatch.Events.viewModeChanged,i))};MarketWatch.viewMode>=MarketWatch.ViewModes.Large?n():window.addEventListener(MarketWatch.Events.viewModeChanged,i)}}(),function(){var e=document.querySelector(".j-nasdaq-show-open"),t=e&&e.querySelector(".j-nasdaq-show-countdown");if(t){var n,i,r=new Date(parseInt(t.dataset.openDateMs,10));n=setInterval((function(){var a=r.getTime()-(new Date).getTime(),o=Math.floor(a/1e3);if(o<=0)clearInterval(n),e.parentElement.removeChild(e);else{var s=Math.floor(o/3600),c=Math.floor((o-3600*s)/60),l=[s,c,o-3600*s-60*c].map((function(e){return e>=10?e:"0"+e})).join(":");l!==i&&(i=l,t.innerText=l)}}),500)}}(),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.OneOff&&(MarketWatch.OneOff=new function(){var e=function(e){e&&(e.disabled=!1,e.classList.contains("disabled")&&e.classList.remove("disabled"))},t=function(){var t=document.getElementById("top50");t&&t.addEventListener("submit",(function(n){n.preventDefault();var i,r=t.getElementsByClassName("j-top50-submit");if((i=r[0])&&(i.disabled=!0,i.classList.contains("disabled")||i.classList.add("disabled")),function(e){var t=e.getElementsByClassName("input"),n=!0;return t.forEach(e=>{var t=e.parentNode;!e.hasAttribute("req")||void 0!==e.value&&""!==e.value&&null!==e.value?t.classList.contains("error")&&t.classList.remove("error"):t.classList.contains("error")||(t.classList.add("error"),n=!1)}),n}(t)){var a=JSON.stringify(function(e){var t={},n=new FormData(e);for(var i of n.keys())t[i]=n.get(i);return t}(n.target));fetch(MarketWatch.Settings.endpoints.submitter+"/top50",{method:"POST",headers:{"Content-Type":"application/json"},body:a}).then(t=>{var n;(n=document.querySelector(".j-success"))&&(n.classList.remove("is-hidden"),MarketWatch.Lightbox.Open(n)),e(r[0])}).catch(t=>{var n;(n=document.querySelector(".j-failure"))&&(n.classList.remove("is-hidden"),MarketWatch.Lightbox.Open(n)),e(r[0])})}else e(r[0])}))};return{Setup:function(){t()}}}),MarketWatch.ready((function(){MarketWatch.OneOff.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.Overlay&&(MarketWatch.Overlay=function(){var e,t,n,i,r={},a=/^[A-Z](?:[_\-A-Z0-9]*[A-Z0-9]+)*$/i,o=[],s=function(i){if(!i)throw new Error("source is required");var a=r[i];if(a){delete r[i],l(i);var o=a.options;o&&"function"==typeof o.onHide&&o.onHide(),e&&(e.classList.remove("source--"+i),n?e.classList.add("source--"+n):(e.classList.remove("is-active"),t.forEach((function(e){e.classList.remove("noscroll")}))))}},c=function(e){o.indexOf(e);o.push(e),n=e},l=function(e){var t=o.indexOf(e);-1!==t&&o.splice(t,1),n=o.length>0?o[o.length-1]:null};return{show:function(i,o){if(!a.test(i))throw new Error("source is required and must be alphanumeric(ish)");if(o&&"object"!=typeof o)throw new Error("options must be an object if supplied");if(!r[i]){var s=n;r[i]={options:o},c(i),e&&(t.forEach((function(e){e.classList.add("noscroll")})),s&&e.classList.remove("source--"+s),e.classList.add("source--"+n),e.classList.add("is-active"))}},hide:s,setup:function(){i||(t=Array.prototype.slice.call(document.querySelectorAll("html, body")),(e=document.querySelector("body > div.overlay"))&&e.addEventListener("click",(function(){n&&r[n]&&r[n].options&&r[n].options.hideOnClick&&s(n)})),i=!0)}}}(),MarketWatch.Overlay.setup()),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Podcast&&(MarketWatch.Podcast=new function(){return{Setup:function(){!function(){var e=document.querySelectorAll("div.j-audioPlayer");if(e.length>0){const t=document.createElement("script");t.src=MarketWatch.Settings.endpoints.audio.api+MarketWatch.Settings.endpoints.audio.js;const n=document.createElement("link");n.rel="stylesheet",n.type="text/css",n.href=MarketWatch.Settings.endpoints.audio.api+MarketWatch.Settings.endpoints.audio.css,document.head.appendChild(n),document.head.appendChild(t),t.addEventListener("load",(function(){if("undefined"!=typeof com_marketwatch_audioplayer&&null!==com_marketwatch_audioplayer)for(let t=0;t<e.length;t++)new com_marketwatch_audioplayer(e[t])}))}}()}}}),MarketWatch.ready((function(){MarketWatch.Podcast.Setup()})),void 0===MarketWatch.Quote&&(MarketWatch.Quote={}),function(e,t){function n(e){e.Matches&&e.Matches[0]&&(this._instrument=e.Matches[0],this.company=this._instrument.Instrument.CommonName)}MarketWatch.Quote.getQuoteByDialectForAutocomplete=function(e,t){!function(e,t,i){e.ckey="cecc4267a0",e.EntitlementToken="cecc4267a0194af89ca343805a3e57af",fetchJSON({url:MarketWatch.Settings.endpoints.mux+"/api/dylan/quotes/v2/comp/quoteByDialect",data:e}).then((function(e){for(var r=[],a=0;a<e.InstrumentResponses.length;a++)r.push(new n(e.InstrumentResponses[a]));i(r,t)}))}({id:e.symbols.join(","),dialect:"charting",needed:"CompositeTrading|BluegrassChannels|CurrencySpecific|Meta",MaxInstrumentMatches:1},e.searchTerm,t)}}(),function(){var e={stock:1,bond:2,fund:3,option:4,currency:5,index:6,future:7,cryptocurrency:8,optioncall:9,optionput:10,treasurybond:11,closedendfund:12,closeendfund:12,openendfund:13,exchangetradedfund:14,preferredstock:15,americandepositoryreceiptstock:16,realestateinvestmenttrust:17,sharesofbeneficialinterest:18,unitinvestmenttrust:19};MarketWatch.Quote.getUrl=function(t,n){var i,r;return t?(i=MarketWatch.Settings.endpoints.siteroot+"/investing",t&&t.Instrument?(r="j-watchlist-tracking"==n?"mod=mw_quote_watchlist":"j-recentlyviewed-tracking"==n?"mod=mw_quote_recentlyviewed":"",i+="/"+function(e){var t="stock";if(e)switch(e.toLowerCase()){case"treasurybond":case"benchmark":case"bond":t="bond";break;case"currency":t="currency";break;case"cryptocurrency":t="cryptocurrency";break;case"future":t="future";break;case"index":t="index";break;case"optioncall":case"optionput":case"option":t="option";break;case"openendfund":case"closeendfund":case"exchangetradedfund":case"fund":t="fund";break;default:t="stock"}return t}(function(t){var n="stock",i=0;if(t&&Array.isArray(t))for(var r=0;r<t.length;r++){var a;(a=e[t[r].Name.toLowerCase()])&&a<=i||(i=a,n=t[r].Name)}return n}(t.Instrument.Types))+"/"+t.Instrument.Ticker,t.Instrument.Exchange&&t.Instrument.Exchange.CountryCode&&"us"!==t.Instrument.Exchange.CountryCode.toLowerCase()?(i+="?countrycode="+t.Instrument.Exchange.CountryCode.toLowerCase(),""!=r&&(i+="&"+r)):""!=r&&(i+="?"+r)):i=""):i="",void 0===i||""===i?i:i.toLowerCase()}}(),MarketWatch.Quote.getQuotes=function(e,t){e||Promise.resolve(null);var n=t||{};return fetch(MarketWatch.Settings.endpoints.mux+"/api/dylan/quotes/v2/comp/quoteByDialect?dialect="+(n.dialect||"mw")+"&needed="+(n.needed?n.needed.join("|"):"CompositeTrading|BluegrassChannels")+"&MaxInstrumentMatches=1&accept=application/json&EntitlementToken="+MarketWatch.Settings.entitlementToken+"&ckey="+MarketWatch.Settings.cKey+"&dialects="+(n.neededDialects||"Charting")+"&id="+encodeURIComponent(Array.isArray(e)?e.join(","):e)).then((function(e){return e.json()}))},function(){var e=document.querySelector(".page--quote"),t=document.querySelector(".element--chart"),n=document.querySelector(".element--intraday"),i=document.querySelector(".scroll-top");if(e){var r=function(e){e.target.removeEventListener("click",r);var t=e.target.dataset.tabPane,n=document.querySelector('div.j-tabPane[data-tab-pane="'+t+'"] mw-scrollable-news-v2');null!=n&&n._getMoreNews()},a=document.querySelectorAll('.j-tabItem[data-tab-pane="Press Releases"],.j-tabItem[data-tab-pane="Dow Jones"]');if(null!=a)for(var o=0;o<a.length;o++)a[o].addEventListener("click",r);window.addEventListener("scroll",(function(){(void 0===window.scrollY?window.pageYOffset:window.scrollY+75)>=function(e){var t=0;for(;e;)t+=e.offsetTop,e=e.offsetParent;return t}(t)+t.clientHeight?(n.classList.add("fixed--top","slide-down"),e.classList.add("quote-fixed")):(n.classList.remove("fixed--top","slide-down"),e.classList.remove("quote-fixed"))})),null!==i&&null!==n&&(i.onclick=function(e){n.classList.contains("fixed--top")&&s(0)});var s=function(e){var t=document.scrollingElement||document.body.parentElement;if(t){var n=t.scrollTop,i=e-n,r=function(e){var a=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*((e-=1)*(e-2)-1)+t}(e+=20,n,i,1e3);t.scrollTop=a,e<1e3&&setTimeout((function(){r(e)}),20)};r(0)}}}}(),function(){var e=document.getElementById("quoteTitleSearchItem"),t=document.querySelector(".j-search-quote"),n=t&&t.querySelector(".j-search-ticker"),i=t&&t.querySelector(".j-search-results"),r=i&&i.querySelector(".j-search-container");(e=e&&(e.content||e.firstElementChild))&&n&&i&&r&&(n.addEventListener("results",(function(t){if(t.target!==n)return;r.innerHTML="";var a=t.detail&&t.detail.results&&t.detail.results.symbols;if(!a||0===a.length)return void i.classList.add("j-hidden");a.forEach((function(t){var i=e.cloneNode(!0),a=i.querySelector(".j-link");a.href=function(e){if(!e||!e.ticker||!e.type)return;var t="/investing/"+e.type+"/"+e.ticker.replace(/^[^:]*:/,"")+"?mod=mw_quote_switch";n.dataset.action&&(t+="/"+n.dataset.action);e.country&&"US"!==e.country&&(t+=t.indexOf("?")>=0?"&countrycode="+e.country:"?countrycode="+e.country);return t.toLowerCase()}(t);var o=JSON.parse(a.dataset.trackPayload);o.ticker=t,a.dataset.trackPayload=JSON.stringify(o),a.querySelector(".j-ticker").appendChild(document.createTextNode(t.ticker)),a.appendChild(document.createTextNode(t.company)),r.appendChild(i)})),i.classList.remove("j-hidden")})),n.addEventListener("keydown",(function(e){var t=n.value.trim();if(13!==e.keyCode||""===t)return;var i=JSON.parse(n.dataset.trackPayload);i.ticker=t,MarketWatch.Tracking.trackLink(i);var a=r.querySelector(".j-link");if(a)window.location=a.href;else{var o="/search?q=",s=t.split(":");2===s.length&&2===s[0].length?o+=encodeURIComponent(s[1])+"&country="+encodeURIComponent(s[0]):o+=encodeURIComponent(t),window.location=o}})))}(),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.ScreenerSelect&&(MarketWatch.ScreenerSelect=new function(){var e=function(){var e=document.getElementById("exchange-select"),t=document.getElementById("report-select");if(e&&t){var n=[];return n.push("exchange="+encodeURIComponent(e.value)),n.push("subreport="+encodeURIComponent(t.value)),n}},t=function(e){if(e){var t=window.location.href.split("?"),n={Title:document.title,Url:t[0]+"?"+e.join("&")};history.pushState(n,document.title,n.Url)}},n=function(){document.querySelectorAll(".j-market-select").forEach(n=>{n.addEventListener("input",n=>{if("exchange-select"===n.target.id||"report-select"===n.target.id){var i=e();t(i),i.push("partial=true"),fetch(MarketWatch.Settings.endpoints.siteroot+"/tools/screener/market?"+i.join("&"),{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(e){var t,n,i;t=e,n=(new DOMParser).parseFromString(t,"text/html").body.querySelector("#instrumentDiv"),(i=document.querySelector("#instrumentDiv")).innerHTML="",i.innerHTML=n.innerHTML}))}})}),t(e())};return{Setup:function(){n()}}}),MarketWatch.ready((function(){MarketWatch.ScreenerSelect.Setup()})),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.TrendingScreener&&(MarketWatch.TrendingScreener=new function(){var e=function(){document.querySelectorAll(".j-trending-select").forEach(e=>{e.addEventListener("input",e=>{var t=[];t.push("partial=true"),t.push("tab="+e.target.value),fetch(MarketWatch.Settings.endpoints.siteroot+"/tools/screener/trending-tickers?"+t.join("&"),{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(e){var t,n,i;t=e,n=(new DOMParser).parseFromString(t,"text/html").body.querySelector(".j-trending-table"),(i=document.querySelector(".j-trending-table")).innerHTML="",i.innerHTML=n.innerHTML}))})})};return{Setup:function(){e()}}}),MarketWatch.ready((function(){MarketWatch.TrendingScreener.Setup()})),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.SiteSearch&&(MarketWatch.SiteSearch=new function(){const e=document.querySelector(".j-new-search"),t=document.querySelector(".j-search");if(!e||!t)return;const n=document.getElementById("mw-search"),i=n.hasAttribute("data-isoverlay"),r=document.getElementById("btn-clear"),a=document.getElementById("search-results-div"),o=document.getElementById("content-type"),s=document.getElementById("columns-select"),c=document.getElementById("sections-select"),l=document.getElementById("authors-select"),u=document.getElementById("search-mode"),d=document.getElementById("news-source"),h=document.getElementById("expand-advanced"),f=document.getElementById("close-advanced"),p=document.getElementById("start-date-cal"),m=document.getElementById("start-date"),g=document.getElementById("end-date-cal"),v=document.getElementById("end-date"),y=document.getElementById("search-options"),b=document.getElementById("time-span"),w=document.getElementById("to-label"),x=document.getElementById("ticker-search"),k=new Date("1971-01-01"),S=new Date,M=function(){n.value="",a.style.display="none"},C=function(){m.value="",v.value="";const e=new Date("1971-01-01");R(!0,e),R(!1)},_=function(e){const t=x.closest("div"),n=o.closest("div"),i=s.closest("div"),r=c.closest("div"),a=l.closest("div"),u=d.closest("div");switch(t.classList.add("hidden"),n.classList.add("hidden"),i.classList.add("hidden"),r.classList.add("hidden"),a.classList.add("hidden"),u.classList.add("hidden"),e){case"0":n.classList.remove("hidden");break;case"1":i.classList.remove("hidden");break;case"2":r.classList.remove("hidden");break;case"3":a.classList.remove("hidden");break;case"4":u.classList.remove("hidden");break;case"5":t.classList.remove("hidden")}},T=function(){h.classList.remove("is-hidden"),y.classList.add("collapsed"),y.classList.remove("expand-down"),b.value="0",u.value="-1",I(b.value),A(u.value),C()},L=function(){h.classList.add("is-hidden"),y.classList.remove("collapsed"),y.classList.add("expand-down")},E=function(e){const t=e.input.getAttribute("id"),n=document.getElementById(t).querySelectorAll("input"),i=n&&n.length>0?n[0]:null,r=new Date(e.selectedDate).toLocaleString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});i.value=r,R(t.includes("start"),r)},I=function(e){g.classList.add("hidden"),p.classList.add("hidden"),w.classList.add("hidden"),"5"===e&&(w.classList.remove("hidden"),g.classList.remove("hidden"),p.classList.remove("hidden"))},A=function(e){x.value="",o.value="-1",c.value="-1",s.value="-1",l.value="-1",d.value="-1",_(e)},D=function(e){const t=e.input.getAttribute("id"),n=document.getElementById(t).querySelectorAll("input");(n&&n.length>0?n[0]:null).value="",R(t.includes("start"))},W=function(e,t,n){return TinyDatePicker(e,{mode:"dp-below",min:t,max:n,onChangeDate:E,onClearDate:D})},P=function(){i?r&&(r.onclick=M):(h&&(h.onclick=L),f&&(f.onclick=T),r&&(r.onclick=M),b&&(b.onchange=function(e){I(e.target.value)}),u&&(u.onchange=function(e){A(e.target.value)}),q(),"5"===b.value&&I(b.value),"-1"!==u.value&&_(u.value),j()&&L()),MarketWatch.AutocompleteSearch.Setup()},j=function(){return"-1"!==u.value||"0"!==b.value},q=function(){W(p,k,S),W(g,k,S),""!==m.value&&R(!0,m.value),""!==v.value&&R(!1,v.value)},R=function(e,t){if(e)startDatePicker=W(g,t,S);else{const e=new Date("1971-01-01");endDatePicker=W(p,e,t)}};return{Setup:function(){P()}}}),void 0!==MarketWatch.SiteSearch.Setup&&MarketWatch.ready((function(){MarketWatch.SiteSearch.Setup()})),void 0===MarketWatch.AutocompleteSearch&&(MarketWatch.AutocompleteSearch=new function(){const e=(new AbortController).signal,t=document.getElementById("btn-submit-search");if(!t)return;const n=document.getElementById("update-results"),r=document.querySelector(".j-advanced-search"),a=(document.getElementById("btn-clear"),document.querySelector(".j-search-close")),o=document.getElementById("mw-search"),s=document.getElementById("content-type"),c=document.getElementById("columns-select"),l=document.getElementById("sections-select"),u=document.getElementById("authors-select"),d=document.getElementById("search-mode"),h=document.getElementById("news-source"),f=document.getElementById("ticker-search"),p=document.querySelector(".j-search-authors"),m=document.querySelector(".j-search-sections"),g=document.querySelector(".j-search-columns"),v=document.getElementById("expand-advanced"),y=document.getElementById("time-span"),b=document.getElementById("start-date"),w=document.getElementById("end-date"),x=document.querySelector(".j-search-symbols"),k=document.querySelector(".j-loading-symbols"),S=document.querySelector(".j-search-privatecompanies"),M=document.querySelector(".j-loading-privatecompanies"),C=document.getElementById("sr-quote-template"),_=document.getElementById("sr-no-results"),T=document.getElementById("sr-no-results-symbols"),L=document.getElementById("sr-multiuse-result"),E=document.querySelector(".filter__error"),I=o.hasAttribute("data-isoverlay"),A=[],D=[],W=I?document.querySelector(".region--lightbox.j-search"):document.querySelector(".search__advanced.j-search"),P=I?document.querySelector(".lightbox--search .container--search-results"):document.querySelector(".search__advanced .container--search-results");let j=null,q=null;var R=function(e){27==e.keyCode&&null.dispatchEvent(new Event("click"))},O=function(){g.innerHTML="",p.innerHTML="",m.innerHTML="",x.innerHTML="",S.innerHTML="",k.style.display="none",M.style.display="none",I&&(P.style.display="none")},N=function(e,t){var n="";switch(t){case"column":n="mod=search_column";break;case"author":n="mod=search_author";break;case"symbol":n="mod=search_symbol";break;case"company":n="mod=search_companies";break;case"keyword":n="mod=keyword_search";break;default:n="mod=search_section"}return e&&n&&(e+=(e.match(/\?/)?"&":"?")+n),e},H=function(e,t,n){var i=document.importNode(L.content,!0),r=i.querySelector(".j-result-link"),a=e.hasOwnProperty("name")?e.name:e.title,o="";o="topic"===n.type?(e.hasOwnProperty("url")?e.url:e.link).toLowerCase():((n.prefix?n.prefix:"")+(e.hasOwnProperty("link")?e.link:e.url)).toLowerCase(),o=N(o,n.type),r.textContent=a,r.attributes.href.value=o,t.appendChild(i)},B=function(e,t,n,i,r){if(!e||!e._instrument||!e._instrument.CompositeTrading)return;var a=n.querySelector(".j-result-link").attributes.href;a.value="/investing/"+(t.type+"/"+t.ticker.replace(/^[^:]*:/,"")+(void 0===e._instrument.Instrument.Exchange.CountryCode||null===e._instrument.Instrument.Exchange.CountryCode||"US"===e._instrument.Instrument.Exchange.CountryCode?"":"?countrycode="+e._instrument.Instrument.Exchange.CountryCode)).toLowerCase();var o=a.value.indexOf("?")>-1?"&":"?";if(r[e._instrument.Instrument.Ticker.toLowerCase()+e._instrument.Instrument.Exchange.CountryCode]>1||"cryptocurrency"==t.type.toLowerCase()){var s=(o+"iso="+encodeURIComponent(e._instrument.Instrument.Exchange.IsoCode)).toLowerCase();a.value+=s}var c=MarketWatch.Bluegrass.getBestChannel(e._instrument.BlueGrassChannels);a.value=N(a.value,"symbol"),n.querySelector(".j-symbol").textContent=t.ticker,n.querySelector(".j-company").textContent=e.company;var l=e._instrument.Meta&&e._instrument.Meta.ProposedMantissa?e._instrument.Meta.ProposedMantissa:2,u="Stock";Array.isArray(e._instrument.Instrument.Types)&&e._instrument.Instrument.Types.length>0&&e._instrument.Instrument.Types.every(e=>{if(e.Name)switch(e.Name.toLowerCase()){case"exchangetradedfund":case"stock":return u=e.Name,!1;default:return u=e.Name,!0}return!0}),"stock"!==u.toLowerCase()&&"exchangetradedfund"!==u.toLowerCase()||e._instrument.CompositeTrading.Last&&e._instrument.CompositeTrading.Last.Price&&e._instrument.CompositeTrading.Last.Price.Value>=5&&l>2&&(l=2);const d=n.querySelector(".j-price"),h="0,0."+"0".repeat(l);d.textContent=numeral(e._instrument.CompositeTrading.Last.Price.Value).format(h),d.setAttribute("format",h),c&&d.setAttribute("channel",c);var f=e._instrument.CompositeTrading.NetChange.Value,p=f>0?"positive":f<0?"negative":"neutral";n.querySelector(".j-point").textContent=numeral(f).format("0.00"),c&&n.querySelector(".j-point").setAttribute("channel",c),n.querySelector(".j-point").className=p,n.querySelector(".j-cell-marker").className="table__cell "+p;var m=e._instrument.CompositeTrading.ChangePercent;n.querySelector(".j-percent").textContent=numeral(m).format("0.00")+"%",c&&n.querySelector(".j-percent").setAttribute("channel",c),n.querySelector(".j-percent").className=m>0?"positive":m<0?"negative":"neutral",i.appendChild(n)},F=function(e,t,n){t.querySelector(".j-symbol").textContent=e.name;var i=t.querySelector(".j-result-link").attributes.href;return null!=e.chartingsymbol&&null!=e.chartingsymbol&&"-"!=e.chartingsymbol?0:(i.value="/investing/private-company/"+e.permalink,t.querySelector(".j-cell-marker").classList.add("private"),i.value=N(i.value,"company"),n.appendChild(t),1)},V=function(e){if(e&&!I){delete e.partial;var t=U(e),n=window.location.href.split("?"),i={Title:document.title,Url:n[0]+"?"+t};history.pushState(i,document.title,i.Url)}},U=function(e){return Object.keys(e).map((function(t){return e[t]&&"-1"!==e[t]?encodeURIComponent(t)+"="+encodeURIComponent(e[t]):"q"===t?"q=":""})).filter(e=>e).join("&")},z=function(e,t){if(I)return{q:o.value.trim(),partial:!0,tab:e,pageNumber:t};const n=!I&&v.classList.contains("hidden");return{q:o.value.trim(),ts:y.value,m:s.value,c:c.value,s:l.value,a:u.value,t:f.value,ns:h.value,sm:d.value,sd:"5"==y.value?b.value:"",ed:"5"==y.value?w.value:"",ias:n,partial:!0,tab:e,pageNumber:t}},G=function(t,n,i){fetch(t+n,{credentials:"same-origin",signal:e}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then(i)},$=function(e,t){e&&(t?e.classList.remove("is-loading"):e.classList.add("is-loading"))},Y=function(e){$(t,!1),$(n,!1),ae(e);var i=z(e),r=U(i);V(i),G(MarketWatch.Settings.endpoints.siteroot+"/search?",r,(function(i){"\n\n"!=i&&(document.querySelector(`div[data-tab-pane='${e}']`).innerHTML=i,J(),re(),"function"==typeof dianomiReloadContext&&dianomiReloadContext()),$(t,!0),$(n,!0)}))},Z=function(e){var t=D[e]+1,n=z(e,t),i=U(n);V(n),G(MarketWatch.Settings.endpoints.siteroot+"/search/moreHeadlines?",i,(function(t){if("\n\n"==t||t.includes("No results found."))P.querySelector(`div[data-tab-pane="${e}"]`).getElementsByClassName("js--more-headlines-site-search")[0].style.display="none";else{D[e]+=1;var n=document.createElement("div");n.innerHTML=t,P.querySelector(`div[data-tab-pane="${e}"]`).children[0].firstElementChild.innerHTML+=n.children[0].firstElementChild.innerHTML,"function"==typeof dianomiReloadContext&&dianomiReloadContext(),n.children[0].lastElementChild.innerText.includes("See More")||(P.querySelector(`div[data-tab-pane="${e}"]`).getElementsByClassName("js--more-headlines-site-search")[0].style.display="none")}}))},J=function(){W.querySelectorAll(".j-tabPane").forEach(e=>{const t=e.querySelector(".j-moreHeadlineWrapper");if(t){const n=t.dataset.totalCount;A[e.dataset.tabPane]=isNaN(n)?0:n;W.querySelector(`.j-tabItem[data-tab-pane='${e.dataset.tabPane}']`).onclick=()=>Q(e.dataset.tabPane)}});const e=W.querySelector(".j-tabPane.is-active").dataset.tabPane;Q(e)},Q=function(e){W.querySelector(".results__count").innerHTML=A[e]+" Results"},X=function(){var e={q:_searchTerm,t:"marketwatch-topic,marketwatch-search-link,symbol,crunchbase",xe:"xmstar",featureClass:"P",style:"full",maxRows:5,name_startsWith:_searchTerm,entitlementToken:MarketWatch.Settings.entitlementToken};O(),fetchJSON({url:MarketWatch.Settings.endpoints.autocomplete,data:e}).then((function(e){var t=0;if(e.mwSearchLinks&&e.mwSearchLinks.length>0)for(i=0;i<e.mwSearchLinks.length&&t<5;i++)"column"===e.mwSearchLinks[i].type&&t<5&&(H(e.mwSearchLinks[i],g,{type:"column"}),t++);0===t&&g.appendChild(document.importNode(_.content,!0));var n=0,r=0;if(e.mwTopics&&e.mwTopics.length>0)for(i=0;i<e.mwTopics.length;i++)e.mwTopics[i].url.startsWith("/nonroute/")||("journalists"===e.mwTopics[i].type&&n<5?(H(e.mwTopics[i],p,{prefix:"/author/",type:"author"}),n++):r<5&&(H(e.mwTopics[i],m,{type:"topic"}),r++));0===n&&p.appendChild(document.importNode(_.content,!0)),0===r&&m.appendChild(document.importNode(_.content,!0));var a=0;if(e.symbols&&e.symbols.length>0){var o={symbols:[],searchTerm:_searchTerm};for(i=0;i<e.symbols.length;i++)o.symbols.push(e.symbols[i].chartingSymbol);MarketWatch.Quote.getQuoteByDialectForAutocomplete(o,(function(t,n){if(_searchTerm===n){k.style.display="none";var r=function(e){var t,n={},i="";return e.forEach((function(e,r,a){e&&e._instrument&&e._instrument.Instrument&&e._instrument.Instrument.Ticker&&e._instrument.Instrument.Exchange&&e._instrument.Instrument.Exchange.CountryCode&&(Array.isArray(e._instrument.Instrument.Types)&&e._instrument.Instrument.Types.length>0&&e._instrument.Instrument.Types[0].Name&&(i=e._instrument.Instrument.Types[0].Name),t=i+e._instrument.Instrument.Ticker.toLowerCase()+e._instrument.Instrument.Exchange.CountryCode,n.hasOwnProperty(t)?n[t]++:n[t]=1)})),n}(t);for(i=0;i<t.length&&a<5;i++)B(t[i],e.symbols[i],document.importNode(C.content,!0),x,r),a++}}))}else k.style.display="none",x.appendChild(document.importNode(T.content,!0));var s=0;if(e.crunchbasePrivateCompanies&&e.crunchbasePrivateCompanies.length)for(i=0;i<e.crunchbasePrivateCompanies.length&&s<5;i++)s+=F(e.crunchbasePrivateCompanies[i],document.importNode(C.content,!0),S);0===s&&S.appendChild(document.importNode(T.content,!0)),P.style.display="flex"}))},K=function(){if(_searchTerm=o.value.trim(),!I){if(!1===ne())return void ee();te()}if(""===_searchTerm)return O(),x.appendChild(document.importNode(T.content,!0)),g.appendChild(document.importNode(_.content,!0)),p.appendChild(document.importNode(_.content,!0)),m.appendChild(document.importNode(_.content,!0)),S.appendChild(document.importNode(T.content,!0)),void(I||Y("All News"));"panda"===_searchTerm.toLowerCase()&&(MarketWatch.quirk=!0),X(),I||Y("All News")},ee=function(){E.innerHTML="Please select "+d.options[d.selectedIndex].text,E.classList.remove("hidden")},te=function(){E.classList.add("hidden")},ne=function(){var e=d.value;if("-1"!==e){var t="0"===e?s.value:"1"===e?c.value:"2"===e?l.value:"3"===e?u.value:"4"===e?h.value:f.value;if("-1"===t||""===t.trim())return!1}return!0},ie=function(){MarketWatch.Lightbox.Open(W,(function(){window.removeEventListener("keydown",R)})),a.classList.add("search-overlay-open");var e=document.getElementById("main-menu");e&&(e.checked=!1),o.focus(),window.addEventListener("keydown",R)},re=function(){D["All News"]=0,D.Articles=0,D.Video=0,D.Podcasts=0;const e=P.querySelector('div[data-tab-pane="All News"]').getElementsByClassName("js--more-headlines-site-search")[0],t=P.querySelector('div[data-tab-pane="Articles"]').getElementsByClassName("js--more-headlines-site-search")[0],n=P.querySelector('div[data-tab-pane="Video"]').getElementsByClassName("js--more-headlines-site-search")[0],i=P.querySelector('div[data-tab-pane="Podcasts"]').getElementsByClassName("js--more-headlines-site-search")[0];e&&(e.onclick=function(){Z("All News")}),t&&(t.onclick=function(){Z("Articles")}),n&&(n.onclick=function(){Z("Video")}),i&&(i.onclick=function(){Z("Podcasts")});var r=P.querySelectorAll(".js-search-top");if(r)for(var a=0;a<r.length;a++)r[a].onclick=function(){I?MarketWatch.Miscellaneous.scrollTo(0,document.querySelector(".lightbox--search")):MarketWatch.Miscellaneous.scrollTo(0)}},ae=function(e){P.querySelectorAll('button[role="tab"]').forEach(e=>{e.classList.remove("is-selected"),e.setAttribute("aria-selected","")}),P.querySelectorAll('div[class*="tab__pane j-tabPane"]').forEach(e=>{e.classList.remove("is-active"),e.innerHTML=""}),P.querySelector(`button[data-tab-pane="${e}"]`).classList.add("is-selected"),P.querySelector(`div[data-tab-pane="${e}"]`).classList.add("is-active")},oe=function(){var e=o.value.replace(/^\s+|\s+$/g,"").replace(/,+/gi,",").toLowerCase().replace(/,$|\.,$|:$/,""),t=0===e.replace(/[$-/:-?{-~\\]/,"").length,n=!1;if(!t)for(var i=e.split(","),r=0;r<i.length;r++){var a=P.querySelectorAll(".j-stock-results .j-result-link");if(a.length>0){var s;for(s=0;s<a.length;s++)if(a[s].querySelector(".j-symbol")&&a[s].querySelector(".j-symbol").textContent.toLowerCase()==i[r]){document.location.href=a[s].getAttribute("href"),n=!0;break}if(s!==a.length)break}if(i[r].length>5&&!n){t=!0;break}var c;if(null!=(c=i[r].match(/^ABC$|^BAY$|^EGAN$|^AIR$|^ACME$|^GOLD$|^COST$|^KEY$|^GAS$|^CHINA$|^BEER$|^DRUG$|^OIL$|^DOG$|^CPI$|^GDP$|^DNA$|^ETF$|^JAZZ$|^ETFS$|^AUTO$|^FED$|^TAXES$|^OBAMA$|^G20$/i))&&c.length>0&&c[0].length>0){t=!0;break}if(null!=(c=i[r].match(/\&|\%/))&&c.length>0&&c[0].length>0){t=!0;break}}if(t)window.top.location=N("/search?q="+encodeURIComponent(o.value)+"&Link=MW_SearchAC","keyword");else if(!n)if((e=e.replace(/\*/,"")).match(",")||/aux$|nul$|prn$|bin$|con$/gi.test(e)){var l=_autocompleteDomain+_quoteroot+"multi?tickers="+e.replace(/ +/gi,",").replace(/,+/gi,",");l=N(l,"symbol"),document.location.href=l.toLowerCase()}else{var u="";if(e.indexOf(":")>0){var d=e.split(":");u="?countryCode="+d[0],e=d[1]}l="/investing/stock/"+encodeURIComponent(e).replace(/ +/gi,",").replace(/,+/gi,",")+u;l=N(l,"symbol"),document.location.href=l.toLowerCase()}},se=function(){a.classList.remove("search-overlay-open"),MarketWatch.Lightbox.Close(W)},ce=function(){if(t||n){I?(_onInput=function(e){clearTimeout(j),j=setTimeout(K,300),clearTimeout(q),q=setTimeout(()=>{Y("All News")},1e3),r.setAttribute("href",`/search?q=${o.value.trim()}&ias=true`)},o.addEventListener("input",_onInput),P.style.display="none",t.onclick=oe,a.onclick=se,o.onkeyup=function(e){13===(e.which?e.which:event.keyCode)&&oe()}):(t.onclick=K,n.onclick=K,o.onkeyup=function(e){13===(e.which?e.which:event.keyCode)&&K()}),Array.prototype.forEach.call(document.querySelectorAll(".j-btn-search"),(function(e){e.addEventListener("click",(function(e){e.preventDefault(),ie()}))})),o.value.trim()&&K();var e=document.getElementById("main-menu");e&&e.addEventListener("change",(function(){this.checked&&MarketWatch.viewMode<=MarketWatch.ViewModes.Small&&se()})),function(){const e=document.querySelector('button[data-tab-pane="All News"]'),t=document.querySelector('button[data-tab-pane="Articles"]'),n=document.querySelector('button[data-tab-pane="Video"]'),i=document.querySelector('button[data-tab-pane="Podcasts"]');e&&e.addEventListener("click",(function(e){e.preventDefault(),Y("All News")})),t&&t.addEventListener("click",(function(e){e.preventDefault(),Y("Articles")})),n&&n.addEventListener("click",(function(e){e.preventDefault(),Y("Video")})),i&&i.addEventListener("click",(function(e){e.preventDefault(),Y("Podcasts")}))}()}};return{Setup:function(){ce()},OpenSearch:ie}}),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Social&&(MarketWatch.Social={}),void 0===MarketWatch.Social.Share&&(MarketWatch.Social.Share=new function(){document.querySelectorAll(".js-social-share li").forEach((function(e,t,n){e.addEventListener("click",(function(t){if(e.dataset.popupUrl){var n=e.dataset.popupUrl;return window.open(n,"_blank","toolbar=0, status=0, width=550, height="+e.dataset.height)}return JSShare.go(this)}))}))}),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.AdhocScreener&&(MarketWatch.AdhocScreener=new function(){var e=document.getElementById("addFilterBtn"),t=document.getElementById("editFiltersBtn"),n=document.getElementById("lightboxPopUp"),r=document.getElementById("overlay"),a=document.getElementById("clearBtn"),o=document.getElementById("closeLightboxBtn"),s=document.getElementById("cancelFiltersBtn"),c=document.getElementById("screenItBtn"),l=document.getElementById("preResults"),u=document.getElementById("addFilterDiv"),d=document.getElementById("instrumentDiv"),h=document.getElementById("Skip"),f=document.getElementById("columnSelect"),p=document.getElementById("selectedColumnsDiv"),m=document.getElementById("filterList"),g=document.getElementById("pricemin"),v=document.getElementById("pricemax"),y=document.getElementById("pctDirectionSelect"),b=document.getElementById("changepct"),w=document.getElementById("volumemin"),x=document.getElementById("volumemax"),k=document.getElementById("blocktradesmin"),S=document.getElementById("peratiomin"),M=document.getElementById("peratiomax"),C=document.getElementById("marketcapmin"),_=document.getElementById("marketcapmax"),T=document.getElementById("performingSelect"),L=document.getElementById("week52Select"),E=document.getElementById("dayRangeSelect"),I=document.getElementById("indexperformamount"),A=document.getElementById("indexperforming"),D=(document.getElementById("First"),document.getElementById("Last")),W="is-active",P=function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},j=function(){r.classList.add(W),n.classList.add(W)},q=function(){r.classList.remove(W),n.classList.remove(W)},R=function(){l.style.display="none",u.style.display="none",d.style.display="block";var e=document.getElementById("paginationDiv");e&&(e.style.display="flex")},O=function(e){var t,n,i,r,a=(new DOMParser).parseFromString(e,"text/html").body,o=a.querySelector("#instrumentDiv");if(o){d.innerHTML="",d.innerHTML=o.innerHTML;var s=a.querySelector("#Last");s&&s.value&&(D.value=s.value),R(),$(),t=document.getElementById("prev-btn"),n=document.getElementById("next-btn"),i=document.getElementById("first-btn"),r=document.getElementById("last-btn"),t&&"hidden"===window.getComputedStyle(t).visibility&&(i.style.visibility="hidden"),n&&"hidden"===window.getComputedStyle(n).visibility&&(r.style.visibility="hidden")}},N=function(e,t){var n='<li class="list__item j-listitem"><div class="element element--switch u-flex"><input type="checkbox" id="'+e+'" class="toggle__switch j-filterswitch"><label class="switch__label" for="'+e+'"></label></div><span class="filter__text j-spanlistitem">'+t+"</span></li>";m.innerHTML+=n},H=function(){document.querySelectorAll('input[name="exchangeOption"]')[0].checked=!0,industrySelect.selectedIndex=0,g.value="",v.value="",y.selectedIndex=0,b.value="",L.selectedIndex=0,w.value="",x.value="",k.value="",S.value="",M.value="",C.value="",_.value="",T.selectedIndex=0,E.selectedIndex=0,I.value="",A.selectedIndex=0;for(var e=document.querySelectorAll("input[name='indexOption']"),t=0;t<e.length;t++)e[t].checked=!1},B=function(){var e=document.querySelector('input[name="exchangeOption"]:checked');if(e){m.innerHTML="";var t=[];if(t.push("exchange="+encodeURIComponent(e.value)),"all"!==e.value){var n=""+e.value;"AMEX"==(n=n.toUpperCase())&&(n="NYSE American"),N("exchangeFilter","Trading only on "+n+" exchange")}t.push("skip="+encodeURIComponent(h.value));var i=document.getElementById("OrderByField"),r=document.getElementById("Direction");i&&t.push("orderbyfield="+encodeURIComponent(i.value)),r&&t.push("direction="+encodeURIComponent(r.value));for(var a=document.getElementsByClassName("result__filter"),o=[],s=0;s<a.length;s++)o.push(encodeURIComponent(a[s].dataset.value));t.push("visiblecolumns="+o.join());var c=document.getElementById("industrySelect");c.value&&(t.push("industry="+encodeURIComponent(c.value)),N("industryFilter","Classified in the sector: "+c.options[c.selectedIndex].text));var l="";if(g.value&&(t.push("pricemin="+encodeURIComponent(g.value)),l+="Trading from $"+P(g.value)),v.value&&(t.push("pricemax="+encodeURIComponent(v.value)),l+=""===l?"Trading up to $"+P(v.value):" to $"+P(v.value)),""!==l&&N("priceFilter",l),b.value){var u="";"up"===y.value?(t.push("changepercentmin="+encodeURIComponent(b.value)),u+="Up in price by "+P(b.value)+" percent or more"):(t.push("changepercentmax="+encodeURIComponent(b.value)),u+="Down in price by "+P(b.value)+" percent or more"),N("changePctFilter",u)}if(L.value){var d="";"low"===L.value?(t.push("below52weeklow=1"),d="Set New 52-Week Low"):(t.push("above52weekhigh=1"),d="Set New 52-Week High"),N("exchange52Filter",d)}w.value&&t.push("volumemin="+encodeURIComponent(w.value)),x.value&&t.push("volumemax="+encodeURIComponent(x.value));var f="";w.value&&x.value?f+="With a current trading volume between "+P(w.value)+" and "+P(x.value):w.value?f+="With a current trading volume from "+P(w.value):x.value&&(f+="With a current trading volume up to "+P(x.value)),""!==f&&N("volumeTradeFilter",f);var p="";k.value&&(t.push("blocktradesmin="+encodeURIComponent(k.value)),p+="Producing block trades of "+P(k.value),N("blockTradesFilter",p));var D="";S.value&&(t.push("peratiomin="+encodeURIComponent(S.value)),D+="With a P/E ratio from "+P(S.value)),M.value&&(t.push("peratiomax="+encodeURIComponent(M.value)),D+=""===D?"With a P/E ratio up to "+P(M.value):" to "+P(M.value)),""!==D&&N("peRatioFiler",D);var W="";C.value&&(W+="With a market capitalization from $"+P(C.value),t.push("marketcapmin="+encodeURIComponent(C.value))),_.value&&(t.push("marketcapmax="+encodeURIComponent(_.value)),W+=""===W?"With a market capitalization up to $"+P(_.value):" to $"+P(_.value)),""!==W&&N("marketCapFilter",W),E.value&&("underperforming"===T.value?"day50"===E.value?t.push("underperform50dayavg=1"):"day200"===E.value&&t.push("underperform200dayavg=1"):"outperforming"===T.value&&("day50"===E.value?t.push("outperform50dayavg=1"):"day200"===E.value&&t.push("outperform200dayavg=1")),N("performingFilter","Currently "+T.value+" their "+E.options[E.selectedIndex].text+" moving average"));var j=document.querySelector("input[name='indexOption']:checked");I.value&&j&&(t.push("indexcompare="+encodeURIComponent(j.value)),"underperforming"===A.value?t.push("indexunderperformby="+encodeURIComponent(I.value)):"outperforming"===A.value&&t.push("indexoutperformby="+encodeURIComponent(I.value)),N("indexCompareFilter","That are "+A.value+" the market index "+j.labels[0].textContent+" by "+P(I.value)+"%")),""===m.innerHTML?m.innerHTML+='<li class="list__item no-filters">There are no active filters.</li>':R();var q=document.querySelectorAll(".screen-list .list__item");for(s=0;s<q.length;s++)q[s].style.display="flex";return t}},F=function(e){for(var t=document.getElementsByClassName("j-"+e),n=0;n<t.length;n++)t[n].style.display="none"},V=function(e){if(e){var t=window.location.href.split("?"),n={Title:document.title,Url:t[0]+"?"+e.join("&")};history.pushState(n,document.title,n.Url)}},U=function(){var e=B();V(e),e.push("partial=true"),q(),fetch(MarketWatch.Settings.endpoints.siteroot+"/tools/screener/stock?"+e.join("&"),{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(e){O(e)}))},z=function(e){27==e.keyCode&&q()},G=function(e){var t,n=e.target;n.classList.contains("j-pagination")&&(n.dataset.page&&(t=n.dataset.page),t&&(h.value=t,U()));if(n.classList.contains("result__filter")){F(n.dataset.value);var i=document.createElement("option");i.text=n.innerHTML,i.value=n.dataset.value,f.appendChild(i),n.remove(),V(B())}(n.classList.contains("j-filterswitch")||n.classList.contains("j-listitem")||n.classList.contains("j-spanlistitem"))&&function(e){if(e.classList.contains("j-spanlistitem")){let t=e.closest(".j-listitem");if(!t)return;e=t}if(e.classList.contains("j-listitem")){let t=e.querySelector(".j-filterswitch");if(!t)return;e=t}switch(e.id){case"industryFilter":industrySelect.selectedIndex=0;break;case"priceFilter":g.value="",v.value="";break;case"changePctFilter":y.selectedIndex=0,b.value="";break;case"exchange52Filter":L.selectedIndex=0;break;case"volumeTradeFilter":w.value="",x.value="";break;case"blockTradesFilter":k.value="";break;case"peRatioFiler":S.value="",M.value="";break;case"marketCapFilter":C.value="",_.value="";break;case"performingFilter":T.selectedIndex=0,E.selectedIndex=0;break;case"indexCompareFilter":I.value="",A.selectedIndex=0;for(var t=document.querySelectorAll("input[name='indexOption']"),n=0;n<t.length;n++)t[n].checked=!1;break;case"exchangeFilter":document.querySelectorAll('input[name="exchangeOption"]')[0].checked=!0}U(),e.closest(".list__item").remove()}(n),n.classList.contains("table__heading")&&function(e){if(e.dataset.coltype){var t=document.getElementById("OrderByField"),n=document.getElementById("Direction");e.classList.contains("active")?"asc"===n.value?n.value="desc":n.value="asc":(n.value="asc",t.value=e.dataset.coltype),U()}}(n)},$=function(){for(var e=f.options,t=0;t<e.length;t++)F(e[t].value)},Y=function(){var e=this.options[this.selectedIndex],t=e.value;t&&(!function(e){for(var t=document.getElementsByClassName("j-"+e),n=0;n<t.length;n++)t[n].style.display="table-cell"}(t),p.innerHTML+='<li class="result__filter" data-value="'+e.value+'">'+e.text+"</li>",f.remove(this.selectedIndex)),f.value="",V(B())},Z=function(){h.value=0,U()},J=function(){n&&(e.onclick=j,t.onclick=j,o.onclick=q,s.onclick=q,document.addEventListener("keydown",z),document.addEventListener("click",G),a.onclick=H,c.onclick=Z,document.querySelector("#instrumentTable")&&R(),f.addEventListener("change",Y),function(){var e=document.getElementsByClassName("j-unselectable");for(i=0;i<e.length;i++)e[i].onclick=function(e){(e.ctrlKey||e.metaKey)&&(this.checked=!1)}}(),$(),B())};return{Setup:function(){J()}}}),MarketWatch.ready((function(){MarketWatch.AdhocScreener.Setup()})),void 0===MarketWatch.TitleAlert&&(MarketWatch.TitleAlert={}),function(){var e,t,n;MarketWatch.TitleAlert=(t=document.querySelector("title").text,n=function(){if(document.hidden){var n,i,r=document.querySelector(".flatplan .is-lead .article__headline a");if(r&&r.innerText!==MarketWatch.TitleAlert.lastHeadline){e&&clearInterval(e),MarketWatch.TitleAlert.lastHeadline=r.innerText;var a=r.innerText.substring(0,28)+"...";n=a,i=document.querySelector("title"),e=setInterval((function(){if(!document.hidden)return i.text=t,void clearInterval(e);i.text===n?i.text=t:i.text=n}),2e3)}}},window.addEventListener("curatedUpdate",(function(e){n()})),document.querySelector(".flatplan .is-lead .article__headline a")&&(MarketWatch.TitleAlert.lastHeadline=document.querySelector(".flatplan .is-lead .article__headline a").innerText),{Run:n})}(),void 0===MarketWatch)var MarketWatch={};if(void 0===MarketWatch.Tooltip&&(MarketWatch.Tooltip=new function(){const e=document.querySelectorAll(".tip--toggle");if(!e)return;const t=document.querySelectorAll(".tip--close,.tip--close--bottom"),n=function(e){const t=e.target.closest(".tool__tip");if(!t)return;const n=t.children[0];n&&(i(n),o(n))},i=function(e){e.classList.remove("active")},r=function(e){const t=e.target.closest(".tip--toggle");t&&(a(t),o(t))},a=function(e){const{showonce:t,cookieName:n}=e.dataset,i=localStorage.getItem(n);(t&&!i||!t)&&e.classList.toggle("active")},o=function(e){const{cookieName:t}=e.dataset;localStorage.setItem(t,1)},s=function(){e&&(e.forEach(e=>{e.removeEventListener("click",r)}),t.forEach(e=>{e.removeEventListener("click",n)}),e.forEach(e=>{const{showonce:t,cookieName:n}=e.dataset,i=localStorage.getItem(n);(t&&!i||!t)&&e.addEventListener("click",r)}),t.forEach(e=>{e.addEventListener("click",n)}),e.forEach(e=>{const{cookieName:t}=e.dataset;localStorage.getItem(t)||a(e)}))};return{Setup:function(){s()}}}),void 0!==MarketWatch.Tooltip.Setup&&MarketWatch.ready((function(){MarketWatch.Tooltip.Setup()})),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Top50Select&&(MarketWatch.Top50Select=new function(){var e=document.getElementById("top50-select"),t=document.getElementById("top50-featured-btn"),n=function(){var t=e.value;if("fullList"===t&&(t=null),t){const e=document.getElementsByClassName("j-top50-item");for(const t of e)t.style.display="none"}var n=t?"j-"+t:"j-top50-item";const i=document.getElementsByClassName(n);for(const e of i)e.style.display="block"};return{Setup:function(){e&&(e.addEventListener("input",n),n()),t&&(t.onclick=function(){MarketWatch.Miscellaneous.scrollTo(MarketWatch.Miscellaneous.getElementY("#js-top50-featured")-50)})}}}),MarketWatch.ready((function(){MarketWatch.Top50Select.Setup()})),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Video&&(MarketWatch.Video={}),void 0===MarketWatch.Video.Center&&(MarketWatch.Video.Center={}),function(){const e=[{min:198,max:230,desc:"220w"},{min:400,max:480,desc:"300w"},{min:640,max:660,desc:"460w"},{min:880,max:940,desc:"800w"},{min:960,max:960,desc:"920w"},{min:1280,max:1280,desc:"1240w"},{min:1320,max:1320,desc:"1240w"}],t=document.querySelectorAll(".j-videoCenterPlayerContainer");if(!t||2!==t.length)return;const n=t[0].querySelector(".j-videoCenterPlayer");if(!n)return;const i=document.querySelector('link[rel="canonical"]'),r=document.querySelector('meta[name="description"]'),a=document.querySelector('meta[property="og:title"]'),o=document.querySelector('meta[property="og:url"]'),s=document.querySelector('meta[name="twitter:description"]'),c=document.querySelector('meta[name="parsely-title"]'),l=document.querySelector('meta[name="parsely-link"]'),u=t[1].querySelector(".j-videoCenterHeadline"),d=t[1].querySelector(".j-videoCenterDescription"),h=["guid","name","thumbnailList","linkURL","linkRelativeURL","description","doctypeID","duration","provider"],f=new URL("https://video-api.shdsvc.dowjones.io/api/legacy/find-all-videos"),p=MarketWatch.Video.Center.playlistInit.series,m=p&&""!==p?MarketWatch.Video.Center.playlistInit.series:null;MarketWatch.Video.Center.playlistInit.count;let g=!1,v=MarketWatch.Video.Center.playlistInit.page||0;const y={items:MarketWatch.Video.Center.playlistInit.items||[],seriesQuery:MarketWatch.Video.Center.playlistInit.seriesQuery,templateEl:document.querySelector("template#video-center-playlist-template"),nextUpEl:document.querySelector(".j-nextUpPlaylist"),nextUpStep:10,watchingIndex:0,forward:function(e){this.watchingIndex++,this.nextUpEl.removeChild(this.nextUpEl.querySelector("div.element--article")),this.nextUpEl.appendChild(this.fillTemplate(this.items[this.watchingIndex+this.nextUpStep])),e||this.changeUrl(this.items[this.watchingIndex],this.watchingIndex),this.updateMeta(this.items[this.watchingIndex]),u&&(u.textContent=this.items[this.watchingIndex].name),d&&(d.textContent=this.items[this.watchingIndex].description),n.playVideo(this.items[this.watchingIndex]),n.updatePlaylist(y.items.slice(this.watchingIndex+1,this.watchingIndex+this.nextUpStep)),this.watchingIndex+this.nextUpStep===this.items.length-1&&x()},reverse:function(e){this.watchingIndex--;const t=this.nextUpEl.querySelectorAll("div.element--article");this.nextUpEl.insertBefore(this.fillTemplate(this.items[this.watchingIndex+1]),t[0]),this.nextUpEl.removeChild(t[t.length-1]),e||this.changeUrl(this.items[this.watchingIndex],this.watchingIndex),this.updateMeta(this.items[this.watchingIndex]),u&&(u.textContent=this.items[this.watchingIndex].name),d&&(d.textContent=this.items[this.watchingIndex].description),n.playVideo(this.items[this.watchingIndex]),n.updatePlaylist(y.items.slice(this.watchingIndex+1,this.watchingIndex+this.nextUpStep))},updateMeta:function(e){const t=e.name+" - MarketWatch",n=e.linkURL||"https://www.marketwatch.com"+e.linkRelativeURL;document.title=t,i&&i.setAttribute("href",n),r&&r.setAttribute("content",e.description),a&&a.setAttribute("content",t),o&&o.setAttribute("content",n),s&&s.setAttribute("content",e.description),c&&c.setAttribute("content",t),l&&l.setAttribute("content",n),JSShare&&JSShare.options&&(JSShare.options.title=t,JSShare.options.url=n,JSShare.options.text=e.description)},changeUrl:function(e,t){window.history&&window.history.pushState&&window.history.pushState({playlistIndex:t},"",MarketWatch.Settings.endpoints.siteroot+e.linkRelativeURL)},fillTemplate:function(t){if(!this.templateEl||!this.templateEl.content)return;const n=this.templateEl.content.cloneNode(!0);n.querySelector(".j-headline").textContent=t.name,n.querySelectorAll(".j-link").forEach((function(e){e.setAttribute("href",t.linkRelativeURL)}));const i=new Date(1e3*parseInt(t.duration,10));n.querySelector(".j-duration").textContent=`${i.getMinutes()}:${i.getSeconds()<10?"0":""}${i.getSeconds()}`;const r=t.thumbnailList.reduce((function(t,n,i){var r=e.find((function(e){return e.min<=n.width&&n.width<=e.max}));return r&&(t+=`${0!==i?",":""}${n.url} ${r.desc}`),t}),""),a=n.querySelector(".j-thumbnail");return a.dataset.srcset=r,a.classList.add("lazyload"),n}};let b=MarketWatch.Video.Center.playlistInit.updateWithLatest;function w(e,t){return{page:t||0,count:e||20,fields:h,site:"mw"}}function x(){v++;const e=b||!m?function(e,t){return Object.assign({groupid:4278},w(e,t))}(20,v):function(e,t,n){return Object.assign({type:"series",query:e},w(t,n))}(m,20,v);fetch(f+"?"+new URLSearchParams(e),{method:"GET"}).then((function(e){if(e.status>=200&&e.status<400)return e.json();throw e.status})).then((function(e){e.items&&(y.items=y.items.concat(e.items),e.items.length<20&&m&&!b&&(b=!0,v=-1,x()))})).catch((function(e){}))}if(n.setAttribute("id","video-player_0"),!n.dataset.initialized){const e="true"===n.dataset.autoplay;try{$jQ111(n).WSJVideo(Object.assign({api:MarketWatch.Settings.endpoints.video.api,autoplay:e,enableMoreVideosSlide:!0,enableEndScreen:!0,suggestionsType:"playlist",suggestionsQuery:"Most Viewed MW Videos",guid:n.dataset.videoGuid,larsId:"92",chainVideos:!0,site:"video.marketwatch.com",shareDomain:MarketWatch.Settings.endpoints.siteroot,disableChainPlay:!0},{})),e||(g=!0,n.addEventListener("onPlayerStateChange",(function(e){g=!1,y.changeUrl(y.items[y.watchingIndex])}),{once:!0})),n.updatePlaylist(y.items.slice(1,y.nextUpStep)),window.addEventListener("popstate",(function(e){e&&e.state&&e.state.playlistIndex&&(e.state.playlistIndex>y.watchingIndex?y.forward(!0):e.state.playlistIndex<y.watchingIndex&&y.reverse(!0))})),n.addEventListener("onSuggestionPlay",(function(e,t){y.forward()})),n.dataset.initialized=!0}catch(e){console.error(e)}}MarketWatch.Video.Center.testForward=function(){y.forward()},MarketWatch.Video.Center.testReverse=function(){y.reverse()},MarketWatch.Video.Center.testMore=function(){x()}}(),void 0===MarketWatch.Video&&(MarketWatch.Video={}),function(e,t,n,r,a,o,s,c,l,u,d,h,f,p,m,g,v){function y(e){return function(t){MarketWatch.viewMode!==MarketWatch.ViewModes.Small&&(t.preventDefault(),o.removeMain&&(o.removeMain(),delete o.removeMain),b(e.index))}}function b(e){o.videos[o.currentIndex].videoElement.classList.remove("now-playing"),e>=o.videos.length&&(e=0),o.currentIndex=e;var t=o.videos[e];!t.data&&t.url&&(window.location.href=t.url),h(t.guid,o.player,{inLightbox:!1,fallbackHref:t.url,chainVideos:!1,videoServiceItem:t.data}),t.videoElement.classList.add("now-playing"),function(e){var t=o.container;if(!t||!e)return;e.offsetTop<=t.scrollTop?t.scrollTop=e.offsetTop:t.scrollTop+t.offsetHeight<=e.offsetTop+e.offsetHeight&&(t.scrollTop=e.offsetTop+e.offsetHeight-t.offsetHeight)}(t.videoElement),o.link.href=t.url,o.link.textContent=t.headline}o={currentIndex:0,videos:[]},s={player:document.querySelector(".lightbox--template .video__player"),closeBtn:document.querySelector(".lightbox--template .icon--close"),content:document.querySelector(".lightbox--template .column--full"),isOpen:!1,close:function(e){try{s.player.pauseVideo()}catch(e){console.error(e)}s.content.style.opacity=0,s.isOpen=!1,MarketWatch.Video.active=!1},open:function(e){MarketWatch.Video.active=!0,MarketWatch.Lightbox.Open(document.querySelector(".j-video"),s.close),s.isOpen=!0,"string"!=typeof e?h(e.dataset.videoGuid,s.player,{inLightbox:!0,fallbackHref:e.attributes.href.value,chainVideos:!0}):h(e,s.player,{inLightbox:!0,fallbackHref:"https://www.marketwatch.com/video",chainVideos:!0}),s.content.addEventListener("click",(function(e){e.stopPropagation()}))},keyDown:function(e){switch(e.preventDefault(),e.keyCode){case 27:s.close(e)}},metaTemplate:document.querySelector(".j-video template"),meta:null,metaInfo:document.querySelector(".video__info"),setMeta:function(e){null===s.meta&&(s.meta=document.importNode(s.metaTemplate.content,!0),s.metaInfo.appendChild(s.meta));var t=s.metaInfo.querySelector(".video__title"),n=s.metaInfo.querySelector(".video__paragraph"),i=s.metaInfo.querySelector(".video__link"),r=s.metaInfo.querySelector(".video__time");t.textContent=e.name,n.textContent=e.description;var a=new Date(e.formattedCreationDate);r.textContent="Posted "+MarketWatch.Utility.monthNames[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear(),i.style.display="none",e.provider&&-1===e.provider.toLowerCase().indexOf("marketwatch")&&-1===e.provider.toLowerCase().indexOf("storyful")&&(i.textContent="This video originally appeared on "+(-1===e.provider.toLowerCase().indexOf("wsj")?"Barrons.com":"WSJ.com"),i.attributes.href.value=e.linkURL,i.attributes.target.value="_self",i.style.display="block"),s.content.style.opacity=1}},h=function(e,t,i,a){if(l){if((i=i||{}).inLightbox&&!s.isOpen)return;if(MarketWatch.quirk&&(MarketWatch.quirk=!1,e="C768ACD4-E2F8-4F58-8E7E-44F2B65E8811"),t.dataset.playerInited)i.videoServiceItem?t.playVideo(i.videoServiceItem):t.loadVideo({guid:e,linkURL:i.fallbackHref});else{t.setAttribute("id","video-player_"+c),c++;var o={api:n.video.api,autoplay:!!i.inLightbox,startFullScreen:r,guid:e,larsId:"92",chainVideos:!!i.chainVideos,site:"video.marketwatch.com/frontpage",shareDomain:n.siteroot};try{$jQ111(t).WSJVideo(Object.assign(o,a||{}))}catch(e){console.error(e),i.fallbackHref&&(document.location.href=i.fallbackHref)}i.inLightbox&&(s.player=t),t.addEventListener("onInitialize",(function(e){t.dataset.playerInited=!0})),t.addEventListener("onNewVideo",(function(e){p(t),i.inLightbox&&s.setMeta(e.data)})),t.addEventListener("onPlayerStateChange",f)}}else d.push([e,t,i,a]),u||(u=!0,window.enhance.loadCSS(n.video.api+n.video.css+v),window.enhance.loadJS(n.video.api+n.video.js+v,(function(){for(l=!0;d.length;)h.apply(null,d[0]),d.shift()})))},f=function(e,t){if(null!==e&&(s.isOpen||e.data.isPlaying||e.data.isFullscreen))return MarketWatch.Video.active=!0,!0;var n,i,r=document.querySelectorAll((t?t+" ":"")+".video-player");for(n=0;n<r.length;n++)if((i=r[n].getStatus()).isPlaying||i.isFullscreen)return MarketWatch.Video.active=!0,!0;return MarketWatch.Video.active=!1,!1},p=function(e){var t,n=document.querySelectorAll(".video-player");for(t=0;t<n.length;t++)n[t].dataset.playerInited&&n[t]!==e&&n[t].pauseVideo()},m=function(e,t){e.preventDefault();var n=MarketWatch.Utility,i=n.closest(e.target,"figure").querySelector("ul"),r=n.closest(e.target,".video--inline");null!==i&&i.parentNode.removeChild(i),h(r.dataset.videoGuid,r,{chainVideos:!t})},g=function(e,t){var n,i=e instanceof Element?[e]:document.querySelectorAll(e);if(i.length>0)for(n=0;n<i.length;n++)if("none"!==i[n].style.display){if(i[n].addEventListener("click",(function(e){e.preventDefault()})),r||t){i[n].classList.add("video--inline");var a=i[n].querySelector("img");a&&a.addEventListener("lazybeforeunveil",(function(e){m(e,t)}))}else i[n].addEventListener("click",(function(e){s.open(this)}));i[n].classList.add("initialized")}},s.closeBtn&&s.closeBtn.addEventListener("click",s.close),MarketWatch.Video.active=!1,MarketWatch.Video.isActiveIn=function(e){return f(null,e)},MarketWatch.Video.open=function(e){s.open(e)},function(){var e=document.querySelector(".component.video-headlines"),t=e&&e.querySelector(".column--primary"),n=e&&e.querySelector(".column--aside"),r=n&&n.querySelectorAll(" .element--article"),a=t&&t.querySelector(" a.figure__image.video"),s=t&&t.querySelector(" .article__content a.link");if(null!==a&&0!==r.length){for(o.player=a,o.link=s,o.container=r[0].parentElement,i=0;i<r.length;i++){var c=r[i].querySelector(" .article__content a.link"),l=r[i].querySelector(" a.figure__image.video"),u={index:i,videoElement:r[i],headline:c&&c.textContent,url:c&&c.href,guid:l&&(l.dataset.videoGuid||"").toUpperCase()};o.videos.push(u);var d=y(u);l&&(l.classList.add("video__trending"),l.addEventListener("click",d)),c&&c.addEventListener("click",d)}o.videos[0].videoElement.classList.add("now-playing"),a.classList.add("video__trending"),a.addEventListener("onVideoComplete",(function(e){b(o.currentIndex+1)})),a.addEventListener("onNewVideo",(function(e){o.player.resumeVideo()})),window.addEventListener(MarketWatch.Events.viewModeChanged,(function(){MarketWatch.viewMode===MarketWatch.ViewModes.Small&&o.player&&o.player.pauseVideo()})),g(a,!0);var h=a.querySelector("img");h&&h.addEventListener("lazybeforeunveil",(function(e){var t;t=o.videos,fetchJSON({url:MarketWatch.Settings.endpoints.video.api+"find_all_videos.asp",data:{fields:"type,video174kMP4Url,video320kMP4Url,video664kMP4Url,video1264kMP4Url,video1864kMP4Url,video2564kMP4Url,hls,videoMP4List,adZone,thumbnailList,guid,state,secondsUntilStartTime,author,description,name,linkURL,videoStillURL,duration,videoURL,adCategory,catastrophic,linkShortURL,doctypeID,youtubeID,titletag,rssURL,wsj-section,wsj-subsection,allthingsd-section,allthingsd-subsection,sm-section,sm-subsection,provider,formattedCreationDate,keywords,keywordsOmni,column,editor,emailURL,emailPartnerID,showName,omniProgramName,omniVideoFormat,linkRelativeURL,touchCastID,omniPublishDate,audioURL,adTagParams,gptCustParams,format,forceClosedCaptions,captionsVTT",count:t.length,type:"guid",query:t.map((function(e){return e.guid})).join(",")}}).then((function(e){e&&e.items&&e.items.length>0&&t.forEach((function(t){for(var n=0;n<e.items.length;n++){var i=e.items[n];if(i&&t.guid===i.guid){t.data=i,e.items.splice(n,1);break}}}))}))}))}}(),g(a),window.addEventListener("curatedUpdate",(function(e){g(e.Selector+" "+a)}))}(document.getElementsByTagName("body")[0],document.getElementsByTagName("html")[0],MarketWatch.Settings.endpoints,"ontouchstart"in window||null!==document.querySelector("meta[name=mobile]"),"a.figure__image.video:not(.initialized):not(.video__trending):not(.disableShadowBox)",{},{},0,!1,!1,[],null,null,null,null,null,"?"+MarketWatch.Settings.endpoints.video.version),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Vse&&(MarketWatch.Vse={mw5siteroot:MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot}),void 0===MarketWatch.Vse.Chart&&(MarketWatch.Vse.Chart={}),void 0===MarketWatch.Vse.AllData&&(MarketWatch.Vse.AllData=[]),void 0===MarketWatch.Vse.SelectedData&&(MarketWatch.Vse.SelectedData=[]),void 0===MarketWatch.Vse.SelectedRange&&(MarketWatch.Vse.SelectedRange="1y"),void 0===MarketWatch.Vse.SelectedDisplay&&(MarketWatch.Vse.SelectedDisplay="dollar"),function(){function e(e){e.forEach(e=>{e.classList&&e.classList.contains("selected")&&e.classList.remove("selected")})}MarketWatch.ready((async function(){const n=document.getElementById("j-chartjs-performance"),i=document.getElementsByClassName("j-vse-perf-chart")&&document.getElementsByClassName("j-vse-perf-chart")[0],r=document.getElementsByClassName("j-vse-chart-buttons")&&document.getElementsByClassName("j-vse-chart-buttons")[0],a=document.getElementsByClassName("j-vse-chart-button"),o=document.getElementsByClassName("j-vse-timespan"),s=document.getElementsByClassName("j-vse-linetype");if(Array.from(a).forEach(t=>{t.addEventListener("click",n=>{switch(n.preventDefault(),n.target.value){case"1w":case"1m":case"3m":case"1y":!function(e){let t=0;switch(e){case"1w":t=7;break;case"1m":t=30;break;case"3m":t=90;break;case"1y":t=365}if(MarketWatch.Vse.SelectedRange===e)return;MarketWatch.Vse.SelectedRange=e;const n=MarketWatch.Vse.AllData[0].dp,i=MarketWatch.Vse.AllData[MarketWatch.Vse.AllData.length-1].dp,r=i;let a=new Date(i);a.setDate(a.getDate()-parseInt(t)),a<n&&(a=n);MarketWatch.Vse.SelectedData=MarketWatch.Vse.AllData.filter(e=>a.getTime()<=e.dp.getTime()&&e.dp.getTime()<=r.getTime()),o=MarketWatch.Vse.Chart,o.data.datasets.forEach(e=>{for(;e.data.length>0;)e.data.pop()}),o.update(),function(e,t){e.data.datasets.forEach(e=>{t.forEach(t=>{e.data.push(t)}),e.data.push(t)}),e.update()}(MarketWatch.Vse.Chart,MarketWatch.Vse.SelectedData);var o}(n.target.value),e(o);break;case"dollar":case"percent":!function(e){if(e===MarketWatch.Vse.SelectedDisplay)return;"dollar"===e?(MarketWatch.Vse.SelectedDisplay=e,MarketWatch.Vse.Chart.config.options.parsing.yAxisKey="w"):"percent"===e&&(MarketWatch.Vse.SelectedDisplay=e,MarketWatch.Vse.Chart.config.options.parsing.yAxisKey="p");MarketWatch.Vse.Chart.update()}(n.target.value),e(s)}t.classList.add("selected")})}),n){const e=n.dataset.urlFragment,a=n.dataset.pub,o=await async function(e,t){let n={};try{await fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/statistics/portfolioPerformance?gameUri=${e}&publicId=${t}`,{method:"GET",credentials:"include",headers:{accept:"application/json"}}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(e){n=e.data.values})).catch((function(e){console.log("error getting performance data",e)}))}catch(e){console.log("error getting data for chart",e)}return n}(e,a);MarketWatch.Vse.AllData=o.filter(e=>e.d&&e.w&&e.p),MarketWatch.Vse.AllData.forEach(e=>{var t,n,i,r,a;e.dp=(t=e.d,n=t.substr(0,4),i=t.substr(4,2)-1,r=t.substr(6,2),(a=new Date(n,i,r)).getFullYear()==n&&a.getMonth()==i&&a.getDate()==r?a:"invalid date")}),MarketWatch.Vse.SelectedData=Array.from(MarketWatch.Vse.AllData),MarketWatch.Vse.SelectedData.length>5&&(i.classList.remove("hidden"),r.classList.remove("hidden"));const s={type:"line",data:{datasets:[{data:MarketWatch.Vse.SelectedData,borderColor:["rgba(65, 22, 142, 1)"]}]},options:{interaction:{intersect:!1,mode:"index"},elements:{point:{radius:0}},scales:{y:{display:!1},x:{display:!1}},parsing:{xAxisKey:"d",yAxisKey:"p"},responsive:!0,plugins:{legend:{display:!1},title:{display:!1},tooltip:{enabled:!1,position:"nearest",external:t}}}};MarketWatch.Vse.Chart=new Chart(n,s)}}));const t=e=>{const{chart:t,tooltip:n}=e,i=(e=>{let t=e.canvas.parentNode.querySelector("div");if(!t){t=document.createElement("div"),t.style.background="rgba(28,37, 41, 0.95)",t.style.borderRadius="5px",t.style.color="white",t.style.opacity=1,t.style.pointerEvents="none",t.style.position="absolute",t.style.transform="translate(-50%, 0)",t.style.transition="all .1s ease",t.style.zIndex="20";var n=document.querySelector("#j-vse-tooltip-template");t.appendChild(n.content),e.canvas.parentNode.appendChild(t)}return t})(t);if(0===n.opacity)return void(i.style.opacity=0);if(n.body){n.title,n.body.map(e=>e.lines);const e=n.dataPoints[0].dataset.data[n.dataPoints[0].dataIndex],t=i.querySelector(".j-chart-date"),r=i.querySelector(".j-chart-worth"),a=i.querySelector(".j-chart-rank"),o=i.querySelector(".j-chart-change"),s=i.querySelector(".j-chart-percent");t.innerHTML=e.dp.toISOString().split("T")[0],r.innerHTML=e.w.toLocaleString(),a.innerHTML=e.r,o.innerHTML=e.g.toLocaleString(),s.innerHTML=e.p.toLocaleString()}const{offsetLeft:r,offsetTop:a}=t.canvas;i.style.opacity=1,i.style.left=r+n.caretX+"px",i.style.top=a+n.caretY+"px",i.style.padding=n.options.padding+"px "+n.options.padding+"px"}}(),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Vse&&(MarketWatch.Vse={mw5siteroot:MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot}),void 0===MarketWatch.Vse.CreateGame&&(MarketWatch.Vse.CreateGame=new function(){var e,t=1,n=0,i=function(e){if(!(e<1||e>4)&&y(t)){MarketWatch.Tracking.trackPage({page_content_type_detail:"create game "+(4===e?"review":e)}),function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),n=t.querySelector(".create-game.page--"+e),i=t.querySelector(".create-game.page--4"),r=n.querySelectorAll("input,textarea");if(r)for(var a=0;a<r.length;a++){var o="#"+r[a].name+"-con",s=i.querySelector(o);if(s){var c=r[a].getAttribute("type");if(!c||"text"!==c&&"textarea"!==c)if(c&&"radio"===c&&"restriction"===r[a].name&&r[a].checked)if("all"===r[a].value)s.querySelector(".j-default").style.display="flex",s.querySelector(".j-custom").style.display="none";else{s.querySelector(".j-default").style.display="none";var l=s.querySelector(".j-custom");l.innerHTML="",l.style.display="flex"}else if(c&&"radio"===c&&r[a].checked)s.innerText=r[a].dataset.value;else if(c&&"checkbox"===c&&"restrictions"===r[a].name){var u=document.getElementById("customSymbolTemplate-con").content.cloneNode(!0);u.querySelector(".primary").innerText=r[a].dataset.ticker,u.querySelector(".secondary").innerText=r[a].dataset.company,s.querySelector(".j-custom").insertBefore(u,null)}else c&&"checkbox"===c&&(s.innerText=r[a].checked?"Enabled":"Disabled");else s.innerText=r[a].value}}}(t);var n=MarketWatch.Lightbox.AjaxLightbox();e>t&&n.querySelector(".tab__item.page--"+t).classList.add("completed"),n.querySelector(".tab__item.page--"+t).classList.remove("active"),n.querySelector(".tab__item.page--"+e).classList.add("active"),n.querySelector(".create-game.page--"+t).classList.remove("is-active"),n.querySelector(".create-game.page--"+e).classList.add("is-active"),n.querySelector(".pagination .j-page").innerHTML=e,1==t&&e!=t&&n.querySelector(".pagination .j-previous").classList.remove("disabled"),1==e&&n.querySelector(".pagination .j-previous").classList.add("disabled"),4==t&&e!=t&&n.querySelector(".pagination .j-next").classList.remove("disabled"),4==e&&n.querySelector(".pagination .j-next").classList.add("disabled"),t=e}},r=function(e){e&&e.preventDefault();var n=-1;if(this.dataset&&this.dataset.pageNum)n=parseInt(this.dataset.pageNum,10);isNaN(n)||-1===n||n===t||(this.classList&&this.classList.contains("completed")||MarketWatch.Lightbox.AjaxLightbox().querySelector(".tab__item.completed.page--"+(n-1)))&&i(n)},a=function(e){var t=MarketWatch.Lightbox.AjaxLightbox();if(this.dataset.updateSeo&&"true"===this.dataset.updateSeo){var n=t.querySelector("input.j-gameSeoName");n&&(S.bind(n)(),n.classList.contains("error")||b.bind(n)())}},o=function(e){var t=MarketWatch.Lightbox.AjaxLightbox();if(this.dataset.updateSeo&&"true"===this.dataset.updateSeo){var i=t.querySelector("input.j-gameSeoName");if(i)if(""!=this.value.trim()||""===this.value){for(var r="",a=this.value.toLowerCase().split(" "),o=0;o<a.length;o++)r+=a[o]+(o+1!=a.length?"-":"");i.value=r,0!=n&&clearTimeout(n),n=setTimeout(S.bind(i),350)}}},s=function(e){var t=e.which?e.which:event.keyCode;if(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122||8===t||46===t){var i=MarketWatch.Lightbox.AjaxLightbox().querySelector("input.j-gameName");i.dataset.updateSeo&&(""===this.value?i.dataset.updateSeo="true":i.dataset.updateSeo="false"),0!=n&&clearTimeout(n),n=setTimeout(S.bind(this),350)}},c=function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),n=t.querySelector("input.j-password");n&&(n.disabled="on"==t.querySelector('input[name="gameispublic"]:checked').value,n.value="",n.disabled?(b.bind(n)(),n.parentNode.classList.add("disabled")):n.parentNode.classList.remove("disabled"))},l=function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),n=t.querySelector(".j-restrictionPane.is-active");if(!n.classList.contains("j-"+this.value)){var i=t.querySelector(".j-"+this.value);if(n.classList.remove("is-active"),i.classList.add("is-active"),n.classList.contains("j-symbols")){var r=n.querySelector(".j-addedSymbols");r&&(r.innerHTML="");var a=t.querySelector('.j-symbols input[type="text"]');a&&a.classList.remove("error")}}},u=function(e){var t=MarketWatch.Lightbox.AjaxLightbox().querySelector(".j-autocomplete"),n="stock,exchangetradedfund,fund",i="";e.target.checked&&(n+=",cryptocurrency",i="coindesk"),t&&(t.dataset.instrumentType=n,t.dataset.xe=i)},d=function(e){this.classList&&this.classList.contains("error")&&this.classList.remove("error")},h=function(e){if(13===(e.keyCode?e.keyCode:e.which?e.which:e.charCode))return e.preventDefault(),!1},f=function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),n=t.querySelector('.j-symbols input[type="text"]');if(n&&""!==n.value)if((o=t.querySelectorAll('.j-addedSymbols input[name="restrictions"]'))&&o.length>=30){n.classList.add("error"),(r=n.nextElementSibling)&&r.classList.contains("j-errorText")&&(r.innerText="Only 30 custom symbols can be added")}else{var i={};if(i.ticker=this.querySelector(".t-symbol").innerText,i.company=this.querySelector(".t-name").innerText,i.djkey=this.getAttribute("djkey"),t.querySelector(".j-addedSymbols #symbol-"+i.ticker)){var r;n.classList.add("error"),(r=n.nextElementSibling)&&r.classList.contains("j-errorText")&&(r.innerText="Duplicate symbols are not allowed")}else{var a=document.getElementById("customSymbolTemplate").content.cloneNode(!0);a.querySelector("input").value=i.djkey,a.querySelector("input").dataset.ticker=i.ticker,a.querySelector("input").dataset.company=i.company,a.querySelector("input").dataset.djkey=i.djkey,a.querySelector("input").setAttribute("id","symbol-"+i.ticker),a.querySelector("label").setAttribute("for","symbol-"+i.ticker),a.querySelector(".j-symbol").innerText=i.ticker,a.querySelector(".j-company").innerText=i.company,a.querySelector("input").addEventListener("click",p);var o=t.querySelector(".j-addedSymbols");t.querySelector(".j-noSymbols").style.display="none";o.insertBefore(a,null);n.value=""}}return e.preventDefault(),!1},p=function(e){this.parentNode.parentNode.removeChild(this.parentNode);var t=MarketWatch.Lightbox.AjaxLightbox(),n=t.querySelectorAll('.j-addedSymbols input[name="restrictions"]');if(n&&0!==n.length||(t.querySelector(".j-noSymbols").style.display="flex"),e)return e.preventDefault(),!1},m=function(e){if(!e)return;let t=!1;const n=[],i=function(e){return"on"===s[1].toLowerCase()},r=function(e){return new Date(s[1]).getTime()},a=function(e){return parseFloat(e)},o={};for(var s of e)switch(s[0]){case"gamename":o.name=s[1];break;case"gameseoname":o.uri=s[1];break;case"tagline":o.description=s[1];break;case"gameispublic":o.privacyGame=i(s[1])?"public":"private";break;case"profilespublic":o.privacyPortfolios=i(s[1])?"public":"private";break;case"password":o.password=s[1];break;case"startbalance":o.startingAmount=a(s[1]);break;case"shortselling":o.allowShortSelling=i(s[1]);break;case"partialshare":o.allowPartialShares=i(s[1]);break;case"stoploss":o.allowStopOrders=i(s[1]);break;case"limitorders":o.allowLimitOrders=i(s[1]);break;case"commission":o.commissionPerTrade=a(s[1]);break;case"marginselling":o.marginEnabled=i(s[1]);break;case"tradevolume":o.maximumPercentTradeVolume=a(s[1]);break;case"minimum":o.minimumTradePrice=a(s[1]);break;case"maximum":o.maximumTradePrice=a(s[1]);break;case"creditinterest":o.creditInterestRate=a(s[1]);break;case"debtinterest":o.debitInterestRate=a(s[1]);break;case"joinafter":o.allowJoinAfterStart=i(s[1]);break;case"gamecomment":o.allowComment=i(s[1]);break;case"startdate":o.startDateUtc=r(s[1]);break;case"enddate":o.endDateUtc=r(s[1]);break;case"allowcrypto":o.allowCrypto=i(s[1]);break;case"restriction":t="symbols"===s[1].toLowerCase();break;case"restrictions":n.push(s[1])}return t&&(o.allowedInstruments=n),o},g=function(e){var t=this,n=this.querySelector("button.j-submit");return n.disabled=!0,n.classList.contains("is-disabled")||n.classList.add("is-disabled"),fetch(MarketWatch.Settings.endpoints.vseApiRoot+"/v1/games",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(m(new FormData(this)))}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(e){var n=t.querySelector("input.j-gameSeoName");n&&(window.location=MarketWatch.Settings.endpoints.siteroot+"/"+MarketWatch.Settings.cloudVsePath+"/"+n.value.toLowerCase())})).catch((function(e){if(e.message){var i=t.querySelector(".j-frmError");i&&(i.textContent=e.message,n.classList.contains("is-disabled")&&n.classList.remove("is-disabled"),n.disabled=!1)}})),e.preventDefault(),!1},v=function(e){e&&e.preventDefault;var t=-1;if(this.dataset&&this.dataset.pageNum)t=parseInt(this.dataset.pageNum,10);isNaN(t)||-1===t||i(t)},y=function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),n=t.querySelector(".create-game.page--"+e);if(n){var i=n.querySelectorAll("input,textarea");if(i)for(var r=0;r<i.length;r++){var a=document.createEvent("Event");if(a.initEvent("mw-required",!1,!0),i[r].dispatchEvent(a)){var o=document.createEvent("Event");if(o.initEvent("mw-date",!1,!0),i[r].dispatchEvent(o)){var s=document.createEvent("Event");if(s.initEvent("mw-numeric",!1,!0),i[r].dispatchEvent(s)){var c=document.createEvent("Event");c.initEvent("mw-password",!1,!0),i[r].dispatchEvent(c)}}}}var l=n.querySelector('input[name="restriction"]:checked');if(l&&"symbols"===l.value)if(!n.querySelector('.j-addedSymbols input[name="restrictions"]')){var u=t.querySelector('.j-symbols input[type="text"]');u.classList.add("error");var d=u.nextElementSibling;d&&d.classList.contains("j-errorText")&&(d.innerText="At least one symbol must be added")}var h=n.querySelectorAll("input.error, textarea.error");if(h&&h.length>0)return!1}return!0},b=function(e){if(""!==this.value||this.disabled)this.classList.contains("error")&&(this.classList.contains("j-seoerror")||this.classList.remove("error"));else{this.classList.add("error"),this.classList.remove("j-seoerror");var t=this.nextElementSibling;t&&t.classList.contains("j-errorText")&&(t.innerText="Required"),e&&e.preventDefault()}},w=function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),n=t.querySelector(".j-startDate"),i=t.querySelector(".j-endDate");if(!this.classList.contains("error")){if(""!==n.value&&""!==i.value){var r=new Date(n.value),a=new Date(i.value);new Date("2022-09-08");if(r>a){this.classList.add("error");var o=this.nextElementSibling;return o&&o.classList.contains("j-errorText")&&(o.innerText="Start date must be before end date"),!1}return n.classList.remove("error"),i.classList.remove("error"),!0}this.classList.remove("error")}},x=function(){var t=MarketWatch.Lightbox.AjaxLightbox().querySelector("input.j-startDate"),n=new Date(t.value),i=n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear(),r=new Date(n.setFullYear(n.getFullYear()+1)),a=r.getMonth()+1+"/"+r.getDate()+"/"+r.getFullYear();e.setMinDate(i),e.setMaxDate(a)},k=function(e){if(""!==this.value){if(1===this.value.length&&-1!==this.value.indexOf(".")||isNaN(parseFloat(this.value))){this.classList.add("error");var t=this.nextElementSibling;return t&&t.classList.contains("j-errorText")&&(t.innerText="Must be a valid number"),!1}return this.classList.remove("error"),!0}},S=function(){var e=this;if(n=0,""===this.value)return e.classList.remove("j-seoerror"),void b.bind(e)();fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/games/available?url=${this.value}`,{method:"GET",credentials:"include"}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(t){if(t.data.available)e.classList.remove("error"),e.classList.remove("j-seoerror");else{e.classList.add("error"),e.classList.add("j-seoerror");var n=e.nextElementSibling;n&&n.classList.contains("j-errorText")&&(n.innerText="The url is already in use")}})).catch((function(t){if(t.message){e.classList.add("error"),e.classList.add("j-seoerror");var n=e.nextElementSibling;n&&n.classList.contains("j-errorText")&&(n.innerText="An unknown error ocurred.")}}))},M=function(e){if(!this.disabled){var t=this.value;if(t.length<6||t.length>20){this.classList.add("error");var n=this.nextElementSibling;n&&n.classList.contains("j-errorText")&&(n.innerText="Between 6-20 characters")}else this.classList.remove("error")}},C=function(e){return e&&e.preventDefault(),!1},_=function(n){if(n.preventDefault(),!this.dataset||!this.dataset.logInUrl)return fetch(MarketWatch.Settings.endpoints.siteroot+"/"+MarketWatch.Settings.cloudVsePath+"/create").then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(n){var p=MarketWatch.Lightbox.AjaxLightbox();p.querySelector(".j-content").innerHTML=n,function(){t=1;var n=MarketWatch.Lightbox.AjaxLightbox();MarketWatch.Lightbox.RegisterElement(n);var p=n.querySelector("input.j-gameName");p&&(p.addEventListener("keyup",o),p.addEventListener("change",a));var m=n.querySelector("input.j-gameSeoName");m&&m.addEventListener("keyup",s);var y=n.querySelectorAll('input[name="gameispublic"]');if(y)for(var _=0;_<y.length;_++)y[_].addEventListener("click",c);var T=new Date,L=new Date((new Date).setFullYear((new Date).getFullYear()+1)),E=T.getMonth()+1+"/"+T.getDate()+"/"+T.getFullYear(),I=L.getMonth()+1+"/"+L.getDate()+"/"+L.getFullYear(),A=n.querySelector("input.j-startDate");TinyDatePicker(A,{mode:"dp-below",min:E,max:I,disableWeekends:!0}),e=TinyDatePicker(n.querySelector("input.j-endDate"),{mode:"dp-below",min:E,max:I,disableWeekends:!0}),A.addEventListener("change",x);var D=n.querySelectorAll('input[name="restriction"]'),W=n.querySelector("#allowcrypto");if(W&&W.addEventListener("change",u),D)for(_=0;_<D.length;_++)D[_].addEventListener("change",l);var P=n.querySelector('[is="mw-autocomplete"]');P&&(MarketWatch.Vse.AutoComplete.setup(P),P.addEventListener("keypress",d),P.addEventListener("keydown",h),MarketWatch.Vse.AutoComplete.registerResultClickHandler(f));var j=n.querySelector('form[name="creategame-frm"]');if(j){const e=g;j.addEventListener("submit",e)}var q=n.querySelectorAll("button.edit-content");if(q)for(_=0;_<q.length;_++)q[_].addEventListener("click",v);var R=n.querySelectorAll("input.j-required,textarea.j-required");if(R)for(_=0;_<R.length;_++)R[_].addEventListener("mw-required",b),R[_].addEventListener("change",b),(R[_].classList.contains("j-startDate")||R[_].classList.contains("j-endDate"))&&(R[_].addEventListener("change",w.bind(R[_])),R[_].addEventListener("mw-date",w.bind(R[_]))),R[_].classList.contains("j-password")&&(R[_].addEventListener("change",M),R[_].addEventListener("mw-password",M)),R[_].classList.contains("j-gameSeoName")&&(R[_].addEventListener("change",S.bind(R[_])),R[_].addEventListener("mw-seoname",S.bind(R[_])));var O=n.querySelectorAll('input[is="mw-numeric-input"]');if(O)for(_=0;_<O.length;_++)O[_].addEventListener("change",k),O[_].addEventListener("mw-numeric",k);var N=n.querySelectorAll("input");if(N)for(_=0;_<N.length;_++)N[_].addEventListener("paste",C);var H=n.querySelector(".pagination .j-previous");H&&H.addEventListener("click",(function(e){e&&e.preventDefault(),i(t-1)}));var B=n.querySelector(".pagination .j-next");B&&B.addEventListener("click",(function(e){e&&e.preventDefault(),i(t+1)}));var F=n.querySelectorAll(".tabs .tab__item");if(F)for(_=0;_<F.length;_++)F[_].addEventListener("click",r)}(),MarketWatch.Lightbox.Open(p)})).catch((function(e){}));window.location=this.dataset.logInUrl};return{Open:function(){_()},Setup:function(e){!function(e){null==e&&(e=document);var t=e.querySelectorAll(".j-createGame, .subnav--create-a-game");if(t)for(var n=0;n<t.length;n++)t[n].addEventListener("click",_);var i=e.querySelector(".subnav--create-a-game");i&&i.addEventListener("click",(function(e){MarketWatch.Tracking.trackPage({page_content_type_detail:"create game_tab"})}));var r=e.querySelector(".gamelist__item .j-createGame");r&&r.addEventListener("click",(function(e){MarketWatch.Tracking.trackPage({page_content_type_detail:"create game_switch games"})}))}(e)}}}),MarketWatch.ready((function(){MarketWatch.Vse.CreateGame.Setup()})),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Vse&&(MarketWatch.Vse={mw5siteroot:MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot}),void 0===MarketWatch.Vse.Discussion&&(MarketWatch.Vse.Discussion=new function(){var e={userStatus:null,gameIsJoinable:null,init:function(){document.querySelector(".j-user-game-status")&&(this.userStatus=document.querySelector(".j-user-game-status").dataset.userStatus,this.gameIsJoinable="true"===document.querySelector(".j-user-game-status").dataset.gameIsJoinable,"logged-in"===this.userStatus?window.SPOTIM.logout().then((function(){window.SPOTIM.startSSO(e.fetchCodeB).then(e.ssoCompleted).catch(e.ssoFailed)})):(window.SPOTIM.logout().then(e.loaded),this.gameIsJoinable&&("logged-in-not-joined"===this.userStatus?document.addEventListener("spot-im-current-user-typing-start",(function(){MarketWatch.ConfirmationDialog.Open({title:document.createTextNode("Not A Player"),content:document.createTextNode("You must be a member of this game in order to comment."),type:"constructive",choices:[{title:"Ok",callback:MarketWatch.ConfirmationDialog.Close,primary:!0}]})}),!1):document.addEventListener("spot-im-current-user-typing-start",(function(){MarketWatch.ConfirmationDialog.Open({title:document.createTextNode("Not Logged In"),content:document.createTextNode("You must be logged in and a game participant before commenting."),type:"constructive",choices:[{title:"Sign Up",callback:function(){document.location.href=MarketWatch.Settings.endpoints.vseSignupUrl},primary:!1},{title:"Login",callback:function(){document.location.href=MarketWatch.Settings.endpoints.identityLoginUrl+encodeURIComponent(document.location.href)},primary:!0}]})}),!1))))},fetchCodeB:function(t,n){$.ajax({method:"GET",url:MarketWatch.Vse.mw5siteroot+MarketWatch.Settings.endpoints.spotIM.ssoPath,data:{code_a:t,vse:!0},success:function(e){e&&n(e)},error:e.ssoFailed})},ssoCompleted:function(t){e.loaded(),console&&console.log(t)},ssoFailed:function(t){e.loaded(),console&&console.error(t)},loaded:function(){document.querySelector(".j-discussion").classList.remove("is-loading")}};const t=function(){const t=document.getElementById("spotim_sso");if(t){const n=document.createElement("script"),i=t.parentElement;n.async=!0,n.src=t.dataset.source,Object.assign(n.dataset,t.dataset),i.removeChild(t),i.appendChild(n),window.SPOTIM&&window.SPOTIM.startSSO?e.init():document.addEventListener("spot-im-api-ready",e.init,!1)}};var n,i,r,a,o;window.djcmp?window.djcmp("customVendorIsEnabled",["601ae39d13977e271d1ea8d3"],(function(e){e&&t()})):t();var s=function(){return n&&n.classList.contains("is-active")},c=function(){!s()||1!==MarketWatch.viewMode&&4!==MarketWatch.viewMode||d()},l=function(){if(n){if(4===MarketWatch.viewMode){var e=i.getBoundingClientRect(),t=n.querySelector(".column--full").getBoundingClientRect();if(e.top-60<=12){if(r){if(a||(a=document.querySelector("div.spotim-wrapper")),r.getBoundingClientRect().top<document.documentElement.clientHeight&&t.bottom>=e.bottom-20&&t.top<71){var s=110;return o.classList.contains("has-message")&&(s+=190),n.classList.remove("is-fixed"),n.classList.add("end-fixed"),void(a&&(a.style.maxHeight=(document.documentElement.clientHeight-s).toString()+"px"))}a&&(a.style.cssText="")}return n.classList.add("is-fixed"),void n.classList.remove("end-fixed")}}n.classList.remove("is-fixed"),n.classList.remove("end-fixed")}},u=function(){n&&n.classList.add("is-active"),MarketWatch.Overlay&&MarketWatch.Overlay.show("vse-discussion",{hideOnClick:!0,onHide:d})},d=function(){n&&n.classList.remove("is-active"),MarketWatch.Overlay&&MarketWatch.Overlay.hide("vse-discussion")};return{Setup:function(){if(o=document.querySelector("div.j-discussion")){var e=document.querySelectorAll("label.j-discussion-toggle, div.list--subnav a.subnav__item.subnav--discuss");n=document.querySelector("div.content-region.region--aside"),i=document.querySelector("div.content-region.region--primary");var t=document.querySelector("div.container.container--game");t&&(r=t.nextElementSibling),Array.prototype.slice.call(e).forEach((function(e){e.addEventListener("click",(function(e){1!==MarketWatch.viewMode&&(e.preventDefault(),s()?d():(MarketWatch.Tracking&&MarketWatch.Tracking.trackLink("discussion_green_tab"),u()))}))})),window.addEventListener(MarketWatch.Events.viewModeChanged,(function(){c(),l()})),window.addEventListener("scroll",MarketWatch.Utility.throttle(l,150)),l()}},Adjust:l}}),MarketWatch.ready((function(){MarketWatch.Vse.Discussion.Setup()})),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Vse&&(MarketWatch.Vse={mw5siteroot:MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot}),void 0===MarketWatch.Vse.Invite&&(MarketWatch.Vse.Invite=new function(){var e="",t=function(t){t&&t.preventDefault();var i=this.dataset.gameName;e=this.dataset.urlFragment,fetch(MarketWatch.Settings.endpoints.siteroot+"/"+MarketWatch.Settings.cloudVsePath+"/confirminvite?gamename="+i).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),i=t.querySelector(".j-content");i.innerHTML=e,MarketWatch.Lightbox.RegisterElement(t),MarketWatch.Tracking?(MarketWatch.Tracking.registerAllEvents(i),MarketWatch.Lightbox.Open(t,(function(){MarketWatch.Tracking.unregisterAllEvents(i)}))):MarketWatch.Lightbox.Open(t);var r=t.querySelector("form");r&&r.addEventListener("submit",n.bind(r))})).catch((function(e){}))},n=function(t){t&&t.preventDefault();var n=this.querySelector("button.j-submit");n.disabled=!0,n.classList.contains("is-disabled")||(n.classList.add("is-disabled"),n.classList.remove("primary"));var i=document.forms.namedItem("sendinvite-frm"),r=i.dataset.gameName,a=i.querySelector("input.j-addresses").value.split(",");if(!Array.isArray(a)||a.length<1||a[0].length<=0){var o=MarketWatch.Lightbox.AjaxLightbox().querySelector(".j-errorText");o&&(o.textContent="Email is a required field")}else fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/invite/${e}`,{method:"POST",body:JSON.stringify({gameName:r,emails:a}),headers:{"Content-Type":"application/json"},credentials:"include"}).then((function(e){return e.json().then((function(e){if(e.errors)throw new Error(e.errors[0].message);return e}))})).then((function(t){MarketWatch.Lightbox.Close(document.querySelector(".j-confirmRemove.is-active,.j-confirmLeave.is-active")),window.location=MarketWatch.Settings.endpoints.siteroot+"/"+MarketWatch.Settings.cloudVsePath+"/"+e})).catch((function(e){if(e.message){var t=MarketWatch.Lightbox.AjaxLightbox().querySelector(".j-errorText");t&&(t.textContent=e.message)}n.classList.contains("is-disabled")&&(n.classList.remove("is-disabled"),n.classList.add("primary")),n.disabled=!1}))};return{Setup:function(){!function(){var e=document.querySelectorAll("button.invite-players");if(e)for(var n=0;n<e.length;n++)e[n].addEventListener("click",t)}()}}}),void 0===MarketWatch.Vse.RemovePlayer&&(MarketWatch.Vse.RemovePlayer=new function(){var e,t,n=function(e){if(this.dataset.userName){var t=document.querySelector(".j-confirmRemove");if(t){var n=t.querySelector(".j-userName");n&&(n.innerHTML=this.dataset.userName),t.classList.remove("is-hidden"),MarketWatch.Lightbox.Open(t)}}else{var i=document.querySelector(".j-confirmLeave");i&&(i.classList.remove("is-hidden"),MarketWatch.Lightbox.Open(i))}},i=function(n){n&&n.preventDefault(),e&&fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/games/${e}/ledgers/${t}`,{method:"DELETE",credentials:"include"}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(t){MarketWatch.Lightbox.Close(document.querySelector(".j-confirmRemove.is-active,.j-confirmLeave.is-active")),window.location=MarketWatch.Settings.endpoints.siteroot+"/"+MarketWatch.Settings.cloudVsePath+"/"+e})).catch((function(e){if(e.message){var t=MarketWatch.Lightbox.AjaxLightbox().querySelector(".j-errorText");t&&(t.textContent=e.message)}}))};return{Setup:function(){!function(){var r=document.querySelector("button.remove-player");r&&(e=r.dataset.urlFragment,parseInt(r.dataset.p),t=r.dataset.pub,r.addEventListener("click",n));var a=document.querySelectorAll(".j-confirmRemove button.j-remove, .j-confirmLeave button.j-remove");if(a)for(var o=0;o<a.length;o++)a[o].addEventListener("click",i)}()}}}),void 0===MarketWatch.Vse.JoinGame&&(MarketWatch.Vse.JoinGame=new function(){var e,t=function(t){if(t&&t.preventDefault(),this.dataset&&this.dataset.logInUrl)window.location=this.dataset.logInUrl;else{var i=this.dataset.gameName,r=this.dataset.isPublic;e=this.dataset.urlFragment,fetch(MarketWatch.Settings.endpoints.siteroot+"/games/confirmjoin?gamename="+i+"&isPublic="+r).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),i=t.querySelector(".j-content");i.innerHTML=e,MarketWatch.Lightbox.RegisterElement(t),MarketWatch.Tracking?(MarketWatch.Tracking.registerAllEvents(i),MarketWatch.Lightbox.Open(t,(function(){MarketWatch.Tracking.unregisterAllEvents(i)}))):MarketWatch.Lightbox.Open(t);var r=t.querySelector("form");r&&r.addEventListener("submit",n.bind(r))})).catch((function(e){}))}},n=function(t){t&&t.preventDefault(),e&&fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/games/${e}/ledgers`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(i(new FormData(this)))}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(t){MarketWatch.Lightbox.Close(MarketWatch.Lightbox.AjaxLightbox()),window.location=MarketWatch.Settings.endpoints.siteroot+"/"+MarketWatch.Settings.cloudVsePath+"/"+e})).catch((function(e){if(e.message){var t=MarketWatch.Lightbox.AjaxLightbox().querySelector(".j-errorText");t&&(t.textContent=e.message)}}))},i=function(e){if(!e)return;const t={};for(var n of e)switch(n[0]){case"password":t.password=n[1]}return t};return{Setup:function(){!function(){var e=document.querySelectorAll("button.join-game");if(e)for(var n=0;n<e.length;n++)e[n].addEventListener("click",t)}()}}}),void 0===MarketWatch.Vse.ReinstatePlayer&&(MarketWatch.Vse.ReinstatePlayer=new function(){var e,t,n=function(n){var r=document.querySelector(".j-confirmReinstate");if(r){var a=r.querySelector(".j-userName");a&&(a.innerHTML=n.currentTarget.dataset.username),r.classList.remove("is-hidden"),MarketWatch.Lightbox.Open(r)}t=n.currentTarget.dataset.urlFragment,e=n.currentTarget.dataset.publicId;var o=r.querySelector("button.j-reinstate");o&&o.addEventListener("click",i)},i=function(n){n&&n.preventDefault(),t&&fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/games/${t}/ledgers/${e}/reinstate`,{method:"POST",credentials:"include"}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(e){MarketWatch.Lightbox.Close(MarketWatch.Lightbox.AjaxLightbox()),window.location=MarketWatch.Settings.endpoints.siteroot+"/"+MarketWatch.Settings.cloudVsePath+"/"+t+"/settings"})).catch((function(e){if(e.message){var t=MarketWatch.Lightbox.AjaxLightbox().querySelector(".j-errorText");t&&(t.textContent=e.message)}}))};return{Setup:function(){var e=document.querySelectorAll("button.reinstate-player");if(e)for(var t=0;t<e.length;t++){e[t].addEventListener("click",n)}"undefined"!==MarketWatch.Lightbox&&MarketWatch.Lightbox.Setup()}}}),MarketWatch.Vse.CustomSymbol=function(){var e=function(e){if(null!==e&&void 0!==e.DialectSymbols&&e.DialectSymbols.length>0)for(var t=0;t<e.DialectSymbols.length;t++)if(null!==e.DialectSymbols[t]&&"Charting"===e.DialectSymbols[t].Dialect&&void 0!==e.DialectSymbols[t].Symbols&&null!==e.DialectSymbols[t]&&e.DialectSymbols[t].Symbols.length>0)return e.DialectSymbols[t].Symbols[0];return""},t="djid",n=[],i=!1,r=!1,a=function(e){},o=function(e){this!==e.target&&(this.resultsEl.classList.add("j-hidden"),window.removeEventListener("click",this.clickOutHandler))},s=function(e){r||i?r&&this.resultsEl.classList.remove("j-hidden"):(i=!0,MarketWatch.Quote.getQuotes(n,{dialect:t}).then(l.bind(this))),window.addEventListener("click",this.clickOutHandler)};function c(e){var t="";if(null!=this.value){if(""===this.value){var n=this.resultsEl.querySelectorAll("tr");return Array.prototype.slice.call(n).forEach((function(e){e.classList.remove("j-hidden")})),void(this.countEl&&(this.countEl.textContent="Displaying "+n.length+" result"+(1===n.length?"":"s")))}t=this.value.toLowerCase().split(" ")[0]}var i="[filter-ticker*='"+t+"']",r="[filter-name*='"+t+"']",a=this.resultsEl.querySelectorAll("tr:not("+i+"), tr:not("+r+")"),o=this.resultsEl.querySelectorAll("tr"+i+", tr"+r);Array.prototype.slice.call(a).forEach((function(e){e.classList.add("j-hidden")})),Array.prototype.slice.call(o).forEach((function(e){e.classList.remove("j-hidden")})),this.countEl&&(this.countEl.textContent="Displaying "+o.length+" result"+(1===o.length?"":"s"))}function l(t){r=!0;for(;this.tableBodyEl.firstChild;)this.tableBodyEl.removeChild(this.tableBodyEl.firstChild);if(null!==t.InstrumentResponses&&0!==t.InstrumentResponses.length){this.resultsEl.classList.remove("j-hidden");for(var n=0;n<t.InstrumentResponses.length;n++){var i=this.templateEl.content.cloneNode(!0);if(i=i.querySelector("tr")){var o=void 0!==t.InstrumentResponses[n].Matches&&null!==t.InstrumentResponses[n].Matches&&t.InstrumentResponses[n].Matches.length>0?t.InstrumentResponses[n].Matches[0]:null;if(o&&void 0!==o.Instrument&&null!==o.Instrument){i.setAttribute("charting-symbol",e(o)),i.setAttribute("filter-ticker",o.Instrument.Ticker.toLowerCase()),i.setAttribute("filter-name",o.Instrument.CommonName.toLowerCase()),i.setAttribute("urlFragment",this.urlFragment),i.querySelector(".t-symbol").textContent=o.Instrument.Ticker,i.querySelector(".t-name").textContent=o.Instrument.CommonName;for(var s=i.querySelectorAll(".t-redGreen"),c=0;c<s.length;c++)s[c].classList.add(0===o.CompositeTrading.NetChange.Value?"":o.CompositeTrading.NetChange.Value>0?"positive":"negative");i.querySelector(".t-price").textContent=numeral(o.CompositeTrading.Last.Price.Value).format("0,0.00"),i.querySelector(".t-change").textContent=numeral(o.CompositeTrading.NetChange.Value).format("0,0.00"),i.querySelector(".t-percent").textContent=numeral(o.CompositeTrading.ChangePercent).format("0,0.00")+"%",Array.prototype.slice.call(i.querySelectorAll("[ticker-track]")).forEach((function(e){var t=e.dataset.trackPayload;if(t)try{(t=JSON.parse(t)).ticker=o.Instrument.Ticker,e.dataset.trackPayload=JSON.stringify(t)}catch(e){}})),i.addEventListener("click",a),this.tableBodyEl.appendChild(i)}}}this.countEl&&(this.countEl.textContent="Displaying "+t.InstrumentResponses.length+" result"+(1===t.InstrumentResponses.length?"":"s"))}}return{setup:function(e){var a=e||document.querySelector('[is="vse-custom-symbols"]');if(a){var l=a.dataset.symbols;l.length>0&&(t=a.dataset.dialect,n=l.split(","),a.addEventListener("focus",s),a.addEventListener("keyup",c.bind(a))),a.formEl=MarketWatch.Utility.closest(a,".form"),a.resultsEl=a.formEl.querySelector(".input__results"),a.countEl=a.resultsEl.querySelector(".input__label"),a.tableBodyEl=a.resultsEl.querySelector("table tbody"),a.templateEl=a.formEl.querySelector("template"),a.urlFragment=a.formEl.getAttribute("data-url-fragment"),a.clickOutHandler=o.bind(a),i=!1,r=!1}},registerResultClickHandler:function(e){a=e}}}(),MarketWatch.Vse.AutoComplete=function(){var e=function(e){},t=function(e){this.resultsEl.classList.add("j-hidden"),window.removeEventListener("click",this.clickOutHandler)},n=function(e){return e.Matches&&e.Matches.length>0&&e.Matches[0].Instrument.Types&&e.Matches[0].Instrument.Types.length>0&&!(e.Matches[0].Instrument.Ticker.toLowerCase().endsWith("eur")&&"cryptocurrency"===e.Matches[0].Instrument.Types[0].Name.toLowerCase())},i=function(e){return!(e.ticker.toLowerCase().endsWith("eur")&&"cryptocurrency"===e.type.toLowerCase())};function r(t){var r=t&&t.detail?t.detail.results:null;if(r&&r.symbols&&this.templateEl){var a=this;MarketWatch.Quote.getQuotes(r.symbols.map((function(e){return e.chartingSymbol})),{dialect:"charting",neededDialects:"charting,djid"}).then((function(t){for(;a.tableBodyEl.firstChild;)a.tableBodyEl.removeChild(a.tableBodyEl.firstChild);a.resultsEl.classList.remove("j-hidden"),window.addEventListener("click",a.clickOutHandler),r.symbols=r.symbols.filter(i);var o,s=r.symbols.length;a.maxInstrumentCnt&&a.maxInstrumentCnt<s&&(s=a.maxInstrumentCnt),t.InstrumentResponses=t.InstrumentResponses.filter(n);for(var c=0;c<s;c++){var l=a.templateEl.content.cloneNode(!0);if((l=l.querySelector("tr"))&&!(t.InstrumentResponses[c].Matches[0].Instrument.Types&&t.InstrumentResponses[c].Matches[0].Instrument.Types.filter(e=>"Warrant"===e.Name).length>0)){if(l.setAttribute("charting-symbol",r.symbols[c].chartingSymbol),l.setAttribute("urlFragment",a.urlFragment),l.querySelector(".t-symbol").textContent=r.symbols[c].ticker,l.querySelector(".t-name").textContent=r.symbols[c].company,t.InstrumentResponses[c].RequestId===r.symbols[c].chartingSymbol){const e=t.InstrumentResponses[c].Matches[0].DialectSymbols.find(e=>"djid"===e.Dialect.toLowerCase());e&&l.setAttribute("djkey",e.Symbols[0]);for(var u=l.querySelectorAll(".t-redGreen"),d=0;d<u.length;d++)0!==t.InstrumentResponses[c].Matches[0].CompositeTrading.NetChange.Value&&u[d].classList.add(t.InstrumentResponses[c].Matches[0].CompositeTrading.NetChange.Value>0?"positive":"negative");(o=l.querySelector(".t-link"))&&o.setAttribute("href",MarketWatch.Quote.getUrl(t.InstrumentResponses[c].Matches[0],""));var h=l.querySelector(".t-price");h&&(h.textContent=numeral(t.InstrumentResponses[c].Matches[0].CompositeTrading.Last.Price.Value).format("0,0.00"));var f=l.querySelector(".t-change");f&&(f.textContent=numeral(t.InstrumentResponses[c].Matches[0].CompositeTrading.NetChange.Value).format("0,0.00"));var p=l.querySelector(".t-percent");if(p&&(p.textContent=numeral(t.InstrumentResponses[c].Matches[0].CompositeTrading.ChangePercent).format("0,0.00")+"%"),null===t.InstrumentResponses[c].Matches[0].CompositeTrading.Volume){var m=l.querySelector(".t-trade");m&&(m.disabled=!0)}}var g=l.querySelector("[ticker-track]");if(g){var v=g.dataset.trackPayload;if(v)try{(v=JSON.parse(v)).ticker=r.symbols[c].ticker,g.dataset.trackPayload=JSON.stringify(v)}catch(e){}}l.addEventListener("click",e),a.tableBodyEl.appendChild(l)}}a.countEl&&(a.countEl.textContent="Displaying "+s+" result"+(1===s?"":"s"))}))}else this.resultsEl.classList.add("j-hidden")}return{setup:function(e){var n=e||document.querySelector('[is="mw-autocomplete"]');n&&(n.formEl=MarketWatch.Utility.closest(n,".form"),n.resultsEl=n.formEl.querySelector(".input__results"),n.countEl=n.resultsEl.querySelector(".input__label"),n.tableBodyEl=n.resultsEl.querySelector("table tbody"),n.templateEl=n.formEl.querySelector("template"),n.urlFragment=n.formEl.getAttribute("data-url-fragment"),n.clickOutHandler=t.bind(n),n.addEventListener("results",r),n.dataset.maxInstrumentCnt&&(n.maxInstrumentCnt=parseInt(n.dataset.maxInstrumentCnt)))},registerResultClickHandler:function(t){e=t}}}(),function(){var e=document.querySelector("button.delete-game");if(e){var t=document.querySelector(".j-confirmDelete"),n=e.dataset.urlFragment;if(t&&n)e.addEventListener("click",(function(){MarketWatch.Lightbox.Open(t)})),t.querySelector("button.j-confirm").addEventListener("click",(function(){var e="Sorry, something went wrong. Unable to delete game.",t=document.querySelector("button.delete-game"),n=document.querySelector(".j-confirmDelete"),i=t.dataset.urlFragment;t.disabled=!0,fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/games/${i}`,{method:"DELETE",credentials:"include"}).then((function(e){return e.json()})).then((function(i){if(200===i.data.statusCode)MarketWatch.Lightbox.Close(n),document.location.reload();else{var r=n.querySelector(".j-errorText");r&&(r.textContent=e),t.disabled=!1}})).catch((function(){var i=n.querySelector(".j-errorText");i&&(i.textContent=e),t.disabled=!1}))}))}var i=document.querySelector("button.reset-game");if(i){var r=document.querySelector(".j-confirmReset"),a=i.dataset.urlFragment;if(r&&a)i.addEventListener("click",(function(){MarketWatch.Lightbox.Open(r)})),r.querySelector("button.j-confirm").addEventListener("click",(function(){var e="Sorry, something went wrong. Unable to reset game.",t=document.querySelector("button.reset-game"),n=document.querySelector(".j-confirmReset"),i=t.dataset.urlFragment;t.disabled=!0,fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/reset/${i}`,{method:"POST",credentials:"include"}).then((function(e){return e.json()})).then((function(i){if(200===i.data.statusCode)MarketWatch.Lightbox.Close(n),document.location.reload();else{var r=n.querySelector(".j-errorText");r&&(r.textContent=e),t.disabled=!1}})).catch((function(){var i=n.querySelector(".j-errorText");i&&(i.textContent=e),t.disabled=!1}))}))}}(),MarketWatch.ready((function(){MarketWatch.Vse.Invite.Setup(),MarketWatch.Vse.RemovePlayer.Setup(),MarketWatch.Vse.JoinGame.Setup(),MarketWatch.Vse.ReinstatePlayer.Setup();var e=document.querySelector(".j-miniTrade");if(e){var t=MarketWatch.Vse.AutoComplete;e.classList.contains("j-tradeCustom")&&(t=MarketWatch.Vse.CustomSymbol),t.setup(e),document.querySelector(".j-clear-search").addEventListener("click",(function(t){e.value=null,e.classList.contains("has-content")&&e.classList.remove("has-content")})),e.addEventListener("keyup",(function(e){null!=e.target&&null!=e.target.value&&e.target.value.length>0?e.target.classList.contains("has-content")||e.target.classList.add("has-content"):e.target.classList.contains("has-content")&&e.target.classList.remove("has-content")})),t.registerResultClickHandler((function(e){e.preventDefault(),e.target.classList.contains("j-trade")?MarketWatch.Vse.TradeOrder.Open(e,e.currentTarget.getAttribute("charting-symbol"),e.currentTarget.getAttribute("urlFragment")):MarketWatch.Vse.MiniQuote.open(e)}))}var n=document.querySelector(".toggle--gamelist");if(n){var i=function(e){window.removeEventListener("click",i),(e.target===n||e.target.hasAttribute("for")&&"toggle--gamelist"===e.target.getAttribute("for"))&&e.preventDefault(),n.checked=!1};n.addEventListener("change",(function(e){n.checked&&(e.preventDefault(),setTimeout((function(){window.addEventListener("click",i)}),10))}))}})),function(){var e=document.querySelector("a.subnav__item.subnav--discussion");e&&e.addEventListener("click",(function(){2!==MarketWatch.viewMode&&3!==MarketWatch.viewMode||MarketWatch.Tracking.trackLink("discussion_nav_tab")}))}(),function(){var e,t,n,i,r=!1,a=!1,o=!1,s=!1,c=!1,l=!1,u="",d=function(n){r="on"===n.target.value,e&&(e.disabled=r,e.value="",e.disabled?(e.parentNode.classList.add("disabled"),e.classList.remove("error"),t.disabled=!1):(e.parentNode.classList.remove("disabled"),t.disabled=!0)),r||f()},h=function(e){a="on"===e.currentTarget.value},f=function(){if(e){var n=e.value;if(n.length<6||n.length>20&&!r){o=!1,t.disabled=!0,e.classList.add("error");var i=e.nextElementSibling;i&&i.classList.contains("j-errorText")&&(i.textContent="Between 6-20 characters")}else t.disabled=!1,o=!0,e.classList.remove("error")}},p=function(e){e.currentTarget.disabled||f()},m=function(e){e&&e.preventDefault(),e.target.classList.contains("j-trade")?MarketWatch.Vse.TradeOrder.Open(e,e.currentTarget.getAttribute("charting-symbol"),e.currentTarget.getAttribute("urlFragment")):MarketWatch.Vse.MiniQuote.open(e)},g=function(e){s="on"===e.currentTarget.value},v=function(e){c="on"===e.currentTarget.value},y=function(e){l="on"===e.currentTarget.value},b=function(e){if(!e)return;const t=function(e){return"true"===i[1].toLowerCase()},n={};for(var i of e)switch(i[0]){case"Public":n.privacyGame=t(i[1])?"public":"private";break;case"KeepPortfoliosPublic":n.privacyPortfolios=t(i[1])?"public":"private";break;case"Password":n.password=i[1];break;case"EndDate":n.endDateUtc=(i[1],new Date(i[1]).getTime());break;case"allowjoin":n.allowJoinAfterStart=i[1];break;case"allowcomment":n.allowComment=i[1];break;case"allowcrypto":n.allowCrypto=i[1];case"description":n.description=i[1]}return n};MarketWatch.ready((function(){if(i=document.querySelector(".j-optionsForm")){const m=document.querySelector("#StartDate");var w=new Date;if(m){const e=m.textContent;w=new Date(e)}const L=new Date,E=new Date(new Date(w).setFullYear(w.getFullYear()+1));w.getTime()<L.getTime()&&(w=L);const I=w.getMonth()+1+"/"+w.getDate()+"/"+w.getFullYear(),A=E.getMonth()+1+"/"+(E.getDate()-1)+"/"+E.getFullYear();n=i.querySelector("input.j-endDate"),TinyDatePicker(n,{mode:"dp-below",min:I,max:A,disableWeekends:!0}),t=i.querySelector('button[type="submit"]'),u=i.querySelector(".j-description-text");var x=i.querySelectorAll(".j-isPublicSetting");if(x)for(var k=0;k<x.length;k++)"on"===x[k].value&&(r=x[k].checked),x[k].addEventListener("change",d);(e=i.querySelector("input.j-password"))&&(e.addEventListener("keyup",p),e.value&&e.value.length>0&&f());var S=i.querySelectorAll(".j-isPortfolioPublicSetting");if(S)for(var M=0;M<S.length;M++)"on"===S[M].value&&(a=S[M].checked),S[M].addEventListener("change",h);var C=i.querySelectorAll(".j-canJoinAfterStartSetting");if(C)for(M=0;M<C.length;M++)"on"===C[M].value&&(s=C[M].checked),C[M].addEventListener("change",g);var _=i.querySelectorAll(".j-allowCommentingSetting");if(_)for(M=0;M<_.length;M++)"on"===_[M].value&&(c=_[M].checked),_[M].addEventListener("change",v);var T=i.querySelectorAll(".j-allowCryptoSetting");if(T)for(M=0;M<T.length;M++)"on"===T[M].value&&(l=T[M].checked),T[M].addEventListener("change",y);void 0!==i.dataset.urlFragment&&i.dataset.urlFragment.length>0&&i.addEventListener("submit",(function(t){if(t.preventDefault(),r||o){var d=new FormData;d.append("KeepPortfoliosPublic",a),d.append("Public",r),d.append("Password",e.value),d.append("allowjoin",s),d.append("allowcomment",c),d.append("allowcrypto",l),u&&d.append("description",u.value),function(){const e=document.querySelector(".j-optionsForm");if(!e)return!1;return""!==e.querySelector("input.j-endDate").value}()&&d.append("EndDate",n.value),function(e,t){fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/games/${e.dataset.urlFragment}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(b(t)),credentials:"include"}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(e){MarketWatch.ConfirmationDialog.Open({title:document.createTextNode("Game Settings Updated"),content:document.createTextNode("Your game settings have been saved."),type:"constructive",choices:[{title:"Ok",callback:MarketWatch.ConfirmationDialog.Close,primary:!0}]})})).catch((function(e){e.message&&(console.log("POST ERROR",e),MarketWatch.ConfirmationDialog.Open({title:document.createTextNode("Error"),content:document.createTextNode(e.message||"Could not save game settings."),type:"destructive",choices:[{title:"Ok",callback:MarketWatch.ConfirmationDialog.Close,primary:!0}]}))}))}(i,d)}}))}var L=document.querySelectorAll(".j-customInstruments .j-instrument");if(L)for(var E=0;E<L.length;E++)L[E].addEventListener("click",m)}))}(),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.GameNotifications&&(MarketWatch.GameNotifications=new function(){return{Setup:function(){!function(){let e=document.querySelector(".game-notifications");if(!e)return;let t=e.querySelector(".notification__list"),n=e.querySelector(".label .icon--angle-down"),i=e.querySelector(".notification__bell .bell"),r=e.querySelector(".header--notifications"),a=e.querySelectorAll(".notification__item"),o=e.querySelector(".j-createGame"),s=e.querySelectorAll(".j-toggleread"),c=0;a.forEach(e=>{if(null!==e&&null!==e.dataset.status){const t=e.dataset.status.toLowerCase();"sent"!==t&&"unread"!==t||(e.querySelector(".notification__unread").classList.add("show"),c++),"read"===t&&e.querySelector(".notification__unread").classList.remove("show")}}),c>0&&i.classList.add("has-unread"),null!==r&&r.addEventListener("click",(function(e){t.classList.toggle("show"),n.classList.toggle("togglearrow"),t.classList.contains("show")?r.dataset.trackCode="VSE_Notification_Close":r.dataset.trackCode="VSE_Notification_Open"})),o&&o.addEventListener("click",(function(e){MarketWatch.Tracking.trackPage({page_content_type_detail:"create game_notification"})}));const l=function(t){const n=t.currentTarget,a=n.parentElement.previousElementSibling.querySelector(".notification__unread"),o=r.querySelector(".notification__count");n.dataset.gameUri&&n.dataset.status&&n.dataset.category&&fetch(MarketWatch.Settings.endpoints.vseApiRoot+"/v1/notifications/update",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({gameUri:n.dataset.gameUri,status:n.dataset.status,category:n.dataset.category})}).then((function(t){return t.json().then((function(r){if(200!==t.status)throw new Error(r.errors[0].message);{let t=Number(o.innerHTML);const r="read"===n.dataset.status.toLowerCase()?"Unread":"Read";"Unread"===r&&a.classList.contains("show")?(a.classList.remove("show"),n.dataset.trackCode="VSE_Notification_Unread",t>0&&t--):(a.classList.add("show"),n.dataset.trackCode="VSE_Notification_Read",t++),n.innerHTML="Mark As "+r,n.setAttribute("data-status",r),o.innerHTML=t,0===t?(e.classList.add("zero"),i.classList.contains("has-unread")&&i.classList.remove("has-unread")):t>0&&(e.classList.contains("zero")&&e.classList.remove("zero"),i.classList.add("has-unread"))}}))}))};s.forEach(e=>{e.addEventListener("click",l)})}()}}}),MarketWatch.ready((function(){MarketWatch.GameNotifications.Setup()})),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Vse&&(MarketWatch.Vse={mw5siteroot:MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot}),void 0===MarketWatch.Vse.Rankings&&(MarketWatch.Vse.Rankings={}),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Vse&&(MarketWatch.Vse={mw5siteroot:MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot}),void 0===MarketWatch.Vse.Trade&&(MarketWatch.Vse.Trade={}),function(){MarketWatch.Vse.Trade={submitTrade:function(){}};var e=function(e){var n=e.currentTarget,i=document.querySelector(".j-confirmCancelOrder"),r=document.querySelector(".j-cancelOrder");null!=n&&null!=i&&null!=r&&(r.removeEventListener("click",t),r.hasAttribute("data-url-fragment")&&(r.removeAttribute("data-url-fragment"),r.setAttribute("data-url-fragment",n.dataset.urlFragment)),r.hasAttribute("data-order")&&(r.removeAttribute("data-order"),r.setAttribute("data-order",n.dataset.order)),r.hasAttribute("data-pub")&&(r.removeAttribute("data-pub"),r.setAttribute("data-pub",n.dataset.pub)),r.addEventListener("click",t),i.classList.remove("is-hidden"),MarketWatch.Lightbox.Open(i))},t=function(e){var t=e.currentTarget,n=document.querySelector(".j-confirmCancelOrder");t.dataset.urlFragment&&t.dataset.order&&t.dataset.pub&&fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/games/${t.dataset.urlFragment}/ledgers/${t.dataset.pub}/trades`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.dataset.order})}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(e){MarketWatch.Lightbox.Close(n),document.location.reload()})).catch((function(e){if(e.message){var t=MarketWatch.Lightbox.AjaxLightbox().querySelector(".j-errorText");t&&(t.textContent=e.message)}}))};MarketWatch.ready((function(){!function(){if("function"==typeof NodeList.prototype.forEach)return!1;NodeList.prototype.forEach=Array.prototype.forEach}();var t=document.querySelectorAll("button.j-cancel-order");t&&t.forEach((function(t){t.addEventListener("click",e)}));var n=document.querySelectorAll(".j-close"),i=document.querySelector(".j-confirmCancelOrder");if(n)for(var r=0;r<n.length;r++)n[r].addEventListener("click",(function(e){MarketWatch.Lightbox.Close(i)}))}))}(),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.Vse&&(MarketWatch.Vse={mw5siteroot:MarketWatch.Settings.endpoints.hasOwnProperty("mw5siteroot")?MarketWatch.Settings.endpoints.mw5siteroot:MarketWatch.Settings.endpoints.siteroot}),void 0===MarketWatch.Vse.TradeOrder){MarketWatch.Vse.TradeOrder=new function(){var e=0,t=1,n=0,i=0,r=null,a=null,o=null,s=0,c=0,l=null,u=!1,d=null,h=(i=0,null),f=null,p=0,m=0,g=MarketWatch.Settings.cloudVsePath,v="usd",y=null,b=!1;var w=function(e){var t=e.querySelector(".j-number-shares-label"),n=e.querySelector(".j-trade-order-share-label");!C()||"Sell"!==l&&"Buy"!==l?S()||O()?(t.innerText="$",t.classList.add("usd"),a.classList.remove("currency--percentage")):(t.innerText=R()?"Tokens":"Shares",t.classList.remove("usd"),a.classList.remove("currency--percentage")):(t.classList.remove("usd"),t.innerText="%",a.classList.add("currency--percentage")),n.innerText="$",n.classList.add("usd")},x=function(e){if(null!=e&&null!=e.target&&null!=e.target.value&&e.target.value.length>0){var t=parseFloat(e.target.value),n=parseFloat(e.target.max);t>n&&(e.target.value=n)}},k=function(o,l,d=!1){if(o!=l&&!("Buy"==o&&"Short"==l||"Short"==o&&"Buy"==l)){var h=MarketWatch.Lightbox.AjaxLightbox(),f=h.querySelector("button.j-submit");f.disabled=!1,h.querySelector(".j-error-message").innerText="";document.querySelector(".pending__shares__info"),document.querySelector(".portfolio__page");if(1==u||P()){a.step=.01,a.setAttribute("decimals",2);var g=2;b?(r.step=Math.pow(10,-7),r.min=e>0?(1/e).toFixed(7):Math.pow(10,-7),g=7):O()&&(r.step=1,r.min=1,g=0);var y=new CustomEvent("updateDecimals",{detail:g});a.dispatchEvent(y)}if("Buy"==o||"Short"==o)if(e>0&&(i>e||j()||u)){var w=Math.floor((i-n)/e),k=1;R()?(w=((i-n)/e).toFixed(7),k=(1/e).toFixed(7),Math.pow(10,-7)):O()&&(w=(i-n).toFixed(0),k=1,1),S()&&(w=Math.floor(i-n));for(var M=h.querySelector(".j-list--allocation"),T=0;T<M.children.length;T++)M.children[T].classList.contains("unchanged")&&parseFloat(M.children[T].style.width);var L=document.createElement("span");if(L.classList.add("list__item","appended","j-appended"),M.insertBefore(L,M.children[M.children.length-1]),a.addEventListener("keyup",x),C()&&d&&(w=100),!S()||!_()&&d||(k=u?1:Math.ceil(e)),r.min=k,a.min=k,r.max=w,a.max=w,d)a.value=t,r.value=t;else r.value=k,a.value=k,t=k,v="usd",(I=h.querySelector(".order-trade .j-trade-currency"))&&(I.value=v)}else{f.disabled=!0,r.max=0,r.value=0,a.max=0,a.value=0,h.querySelector(".j-error-message").innerText="Insufficient Funds Available"}else{var E=C()&&d;d||(t=1);var I,D=S()?(s-p)*e:s-p;k=1;if(r.classList.remove("hidden"),S())D=E?100:D,k=!E&&!u&&D>=e?Math.ceil(e):1;else if(j()){g=O()?0:7;k=O()?1:e>0?(1/e).toFixed(7):Math.pow(10,-7),O()?1:Math.pow(10,-7),D=O()?((s-p)*e).toFixed(g):(s-p).toFixed(g)}if(r.max="Sell"==o?D:c-m,a.max="Sell"==o?D:c-m,r.min=k,a.min=k,d)a.value=t,r.value=t;else r.value=k,a.value=k,t=k,v="usd",(I=h.querySelector(".order-trade .j-trade-currency"))&&(I.value=v);h.querySelector(".j-error-message").innerText="";for(var W=h.querySelectorAll('form input[type="number"],form select,form button'),q=0;q<W.length;q++)W[q].disabled=!1;0}A()}},S=function(){return"mutualfund"==d.toLowerCase()},M=function(){return"Sell"===l||"Buy"===l?v:"usd"},C=function(){return"percentage"===M().toLowerCase()},_=function(){return"usd"===M().toLowerCase()},T=function(n){var i=MarketWatch.Lightbox.AjaxLightbox(),r=i.querySelector("form").orderType;v=n,b="crypto"===n,j()?t=b?(t/e).toFixed(7):(t*e).toFixed(0):L(),w(i),k(r.value,null,!0)},L=function(){var r=Math.floor(i-n);"Sell"===l&&(r=(s-p)*e),t=C()?Math.ceil(100*t/r):Math.floor(r*t/100)},E=function(e){return!!I.bind(this)()&&(r.value=this.value,t=this.value,A(),!0)},I=function(e){if(""===this.value&&!this.disabled){if(!this.classList.contains("error")){this.classList.add("error");var t=this.nextElementSibling;t&&t.classList.contains("j-errorText")&&(t.innerText="Required")}return!1}return this.classList.contains("error")&&this.classList.remove("error"),!0},A=function(){var r=q()?parseFloat(t):t*e;C()&&"Sell"===l&&(r=parseFloat(s*t/100*e)),C()&&"Buy"===l&&(r=parseFloat((i-n)*t/100)),b&&"Buy"===l&&(r=t*e);var a=P()?r:t,o=r+n;"Sell"!=l&&"Cover"!=l||(o=r-n);var c=MarketWatch.Lightbox.AjaxLightbox(),u=c.querySelector(".table__row .j-trade-order-total"),d=c.querySelector(".table__row .j-trade-order-share-count"),h=c.querySelector(".j-list--allocation .list__item.j-appended"),p=c.querySelectorAll(".j-list--allocation .list__item.unchanged"),m=null!=p&&p.length>0?p[p.length-1]:null;if(("Buy"==l||"Short"==l)&&null!=h&&null!=m){null==f&&(f=parseFloat(m.style.width));var g=f*(r/i);g>f&&(g=f);var v=f-g;h.style.width=g+"%",m.style.width=v+"%"}R()&&"0".repeat(7);u.innerHTML=numeral(o).format("$0,0.00"),d.innerHTML=numeral(a).format("0,0")},D=function(f,y,x){try{y=y||f.target.dataset.chartingSymbol;var M=x||f.target.dataset.gameName;return fetch(`${MarketWatch.Settings.endpoints.siteroot}/${g}/${M}/tradeorder?chartingSymbol=${y}`,{credentials:"same-origin"}).then((function(e){if(e.status>=200&&e.status<400)return e.text();throw e.status})).then((function(f){var g=MarketWatch.Lightbox.AjaxLightbox();g.querySelector(".j-content").innerHTML=f,function(){try{var f=MarketWatch.Lightbox.AjaxLightbox(),g=f.querySelectorAll(".order-trade .j-trade-currency"),y=(x=f.querySelector('[name="trade-currency"] option:checked'))&&x.value||"usd";b=y&&"crypto"===y.value,r=f.querySelector(".trade-order .j-range-shares"),a=f.querySelector(".trade-order .j-number-shares");var x;g=f.querySelector(".order-trade .j-trade-currency");(x=f.querySelector('[name="trade-currency"] option:checked'))&&(v=x.value),g&&(g.onchange=function(e){T(e.target.value)});var M=f.querySelector("form");M&&M.addEventListener("submit",H);var C=f.querySelector(".trade-order .j-select-type"),L=f.querySelector(".trade-order .j-stop-limit"),D=f.querySelector(".trade-order .j-stop-limit-container"),q="true"==M.dataset.allowLimit.toLowerCase(),R="true"==M.dataset.allowStop.toLowerCase(),O="true"==M.dataset.allowShortSelling.toLowerCase(),N=W("None","Market"),B=W("Limit","Limit"),F=W("Stop","Stop");if(C.appendChild(N),1==q&&C.appendChild(B),1==R&&C.appendChild(F),0==q&&0==R)f.querySelector(".trade-order .j-price-type-container").classList.add("u-hidden");e=parseFloat(M.dataset.pps),M.dataset.commission&&(n=parseFloat(M.dataset.commission)),M.dataset.userId,M.dataset.userGuid,_pub=M.dataset.pub,i=M.dataset.buyingPower,M.dataset.buyingPowerOnHold,M.dataset.ticker,M.dataset.chartingSymbol,o=M.dataset.game,s=parseFloat(M.dataset.sharesOwned)||0,c=parseFloat(M.dataset.sharesBorrowed)||0,u="true"==M.dataset.allowPartialShares.toLowerCase(),d=_normalizeFund(M.dataset.instrumentType),M.dataset.totalAllocatable,i=M.dataset.buyingPower,M.dataset.sharesOwnedonhold&&(p=parseFloat(M.dataset.sharesOwnedonhold)||0),m=parseFloat(M.dataset.sharesBorrowedonhold)||0,h=M.orderType;for(var V="Buy",U=0;U<h.length;U++)s<=0&&"Sell"==h[U].value&&(h[U].disabled=!0),"Cover"==h[U].value&&c<=0&&(h[U].disabled=!0),"Short"!=h[U].value||0!=O&&!P()||(h[U].disabled=!0),h[U].onclick=function(){l=this.value,this.value!==V&&"crypto"===v&&T("usd"),k(this.value,V),w(f),this.value!==V&&(V=this.value)};if(S()||j()){var z=f.querySelectorAll(".j-order-term-ul .radio__item"),G=f.querySelectorAll(".j-order-term-ul input");f.querySelector(".trade-order .j-price-type-container").classList.add("u-hidden"),w(f);for(var $=0;$<z.length;$++)z[$].classList.contains("disabled")||z[$].classList.add("disabled");for($=0;$<G.length;$++)G[$].disabled=!0}var Y=f.querySelector(".j-quote");Y&&Y.addEventListener("click",(function(e){MarketWatch.Vse.MiniQuote&&MarketWatch.Vse.MiniQuote.open(e)})),f.querySelector(".j-clear").addEventListener("click",(function(){t=1,r.value=1,a.value=1,l="Buy";for(var e=0;e<h.length;e++)"Buy"==h[e].value?h[e].checked="checked":h[e].checked=null;P()&&!_()&&T("usd"),k(l),A()})),k(l="Buy"),r.addEventListener("input",(function(){a.value=this.value,t=this.value,I.bind(a)(),A()})),r.addEventListener("change",(function(){a.value=this.value,t=this.value,I.bind(a)(),A()})),a.addEventListener("change",E),L.addEventListener("change",I),C.addEventListener("change",(function(){"None"!=this.value?(D.classList.remove("disabled"),L.disabled=!1):(D.classList.add("disabled"),L.disabled=!0,L.classList.remove("error"))}));var Z=f.querySelector('[is="mw-autocomplete"]');if(Z)MarketWatch.Vse.AutoComplete.setup(Z),Z.addEventListener("keypress",Q),Z.addEventListener("keydown",X);else{var J=f.querySelector('[is="vse-custom-symbols"]');J&&(MarketWatch.Vse.CustomSymbol.setup(J),MarketWatch.Vse.CustomSymbol.registerResultClickHandler((function(e){e.preventDefault(),MarketWatch.Vse.TradeOrder.Open(e,e.currentTarget.getAttribute("charting-symbol"),e.currentTarget.getAttribute("urlFragment"))})),J.addEventListener("keypress",Q),J.addEventListener("keydown",X))}var Q=function(e){this.classList&&this.classList.contains("error")&&this.classList.remove("error")},X=function(e){if(13===(e.keyCode?e.keyCode:e.which?e.which:e.charCode))return e.preventDefault(),!1}}catch(e){console.log("ex",e)}}(),MarketWatch.Tracking.trackPage({page_content_type_detail:"trade"}),MarketWatch.Lightbox.RegisterElement(g),MarketWatch.Lightbox.Open(g)})).catch((function(e){}))}catch(e){}},W=function(e,t){var n=document.createElement("option");return n.value=e,n.innerHTML=t,n},P=function(){return S()||j()},j=(S=function(){return"mutualfund"===d.toLowerCase()},function(){return"cryptocurrency"===d.toLowerCase()}),q=function(){return S()||O()},R=function(){return j()&&b},O=function(){return j()&&!b},N=function(){this.querySelector("button.j-submit");fetch(`${MarketWatch.Settings.endpoints.vseApiRoot}/v1/games/${o}/ledgers/${_pub}/trades`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(_transForm(this))}).then((function(e){return e.json().then((function(t){if(200===e.status)return t;throw new Error(t.errors[0].message)}))})).then((function(e){var t=MarketWatch.Lightbox.AjaxLightbox(),n=t.querySelector(".j-tradeLightbox.j-success"),i=t.querySelector(".j-tradeLightbox.j-tradecard");n.classList.add("is-active"),i.classList.remove("is-active")})).catch((function(e){e.message&&(MarketWatch.Lightbox.AjaxLightbox().querySelector(".j-error-message").innerText=e.message,y.classList.contains("is-disabled")&&y.classList.remove("is-disabled"),y.disabled=!1)}))},H=function(e){try{if(13===(e.keyCode?e.keyCode:e.which?e.which:e.charCode))return e.preventDefault(),!1;(y=this.querySelector("button.j-submit")).disabled=!0,y.classList.contains("is-disabled")||y.classList.add("is-disabled");N.bind(this)()}catch(e){y.classList.contains("is-disabled")&&y.classList.remove("is-disabled"),y.disabled=!1}return e.preventDefault(),!1};return{Open:function(e,t,n){D(e,t,n)},Setup:function(){var e=document.querySelectorAll(".T");if(e)for(var t=0;t<e.length;t++)e[t].addEventListener("click",D.bind(this))}}};var _normalizeFund=function(e){var t=e;switch(e){case"CloseEndFund":case"Fund":case"OpenEndFund":t="mutualfund"}return t},_transForm=function(e){const t=e.dataset.djkey,n=_buildPostData(e)[0];let i="Market";n.Limit?i="Limit":n.Stop&&(i="Stop");const r=n.Limit||n.Stop,a={djid:t,ledgerId:_pub,tradeType:n.Type,shares:parseFloat(n.Shares),expiresEndOfDay:"Day"===n.Term,orderType:i,isTradingAll:n.isTradingAll};return r&&(a.limitStopPrice=parseFloat(r)),a},_buildPostData=function(e){for(var t=e.dataset.fuid,n=null,i=0;i<e.orderType.length;i++)e.orderType[i].checked&&(n=e.orderType[i].value);var r=null;for(i=0;i<e.priceType.length;i++)e.priceType[i].selected&&(r=e.priceType[i].value);var a=null;for(i=0;i<e.orderTerm.length;i++)e.orderTerm[i].checked&&(a=e.orderTerm[i].value);var o=[],s={Fuid:t,Shares:e.shares.value,Type:n};s.Term=a,"Limit"===r?s.Limit=e["stop-limit"].value:"Stop"===r&&(s.Stop=e["stop-limit"].value);var c=_normalizeFund(e.dataset.instrumentType),l="true"==e.dataset.allowPartialShares.toLowerCase(),u=parseFloat(e.dataset.pps),d=e.querySelector('[name="trade-currency"] option:checked'),h=d&&d.value||"usd",f=!1;if("mutualfund"==c.toLowerCase()||"cryptocurrency"===c.toLowerCase()){var p=s.Shares,m=e.dataset.commission;if("percentage"===h){if("Buy"===n)p=((e.dataset.buyingPower||0)-m)*s.Shares/100;else if("Sell"===n){p=((e.dataset.sharesOwned||0)-(e.dataset.sharesOwnedonhold||0))*s.Shares/100*("mutualfund"==c.toLowerCase()?u:1)}f=100===s.Shares}else if("Sell"===n){var g=e.shares.hasAttribute("max")?parseFloat(e.shares.getAttribute("max")):0;f=g>0&&s.Shares>=g}if(l||f||"mutualfund"!==c.toLowerCase()){if("crypto"!==h){v=p/u;s.Shares=v}}else{var v=p/u;s.Shares=Math.floor(v).toString()}s.isTradingAll=f}return o.push(s),o}}MarketWatch.ready((function(){MarketWatch.Vse.TradeOrder.Setup()})),void 0===MarketWatch&&(MarketWatch={}),void 0===MarketWatch.WatchListRecapBanner&&(MarketWatch.WatchListRecapBanner={});var storageAvailable=void 0!==MarketWatch&&"function"==typeof MarketWatch.isStorageAvailable&&MarketWatch.isStorageAvailable();if(function(){var e=document.querySelector("#watchlistBannerTemplate"),t=document.querySelector(".j-watchlist-banner-container"),n=0;MarketWatch.WatchListRecapBanner.setBannerClassOnBody=function(){var e=document.querySelectorAll(".container--masthead .fixed .j-bulletin-container > mw-expires.bulletin").length,n=t.querySelectorAll(".j-watchlist-banner");t.classList.remove("has-bulletin"),t.classList.remove("has-bulletins"),document.body.classList.remove("has-banner"),document.body.classList.remove("has-banners"),document.body.classList.remove("has-bulletins-banner"),e>0&&t.classList.add(e>1?"has-bulletins":"has-bulletin"),n.length>0&&document.body.classList.add(0===e?"has-banner":1===e?"has-banners":"has-bulletins-banner")};var i=function(e){if(e.stopPropagation(),storageAvailable){var n=a();localStorage.setItem("mw_watchlist_banner",n)}if(e.target.closest(".j-watchlist-banner").removeComponent(),t){const e=t.closest(".container--banner");e&&e.classList.add("hidden")}MarketWatch.WatchListRecapBanner.setBannerClassOnBody()},r=!document.querySelectorAll(".js-btn--login").length,a=function(){var e=new Date;return e.setDate(e.getDate()-e.getDay()+1),(e.getMonth()>8?e.getMonth()+1:"0"+(e.getMonth()+1))+"-"+(e.getDate()>9?e.getDate():"0"+e.getDate())+"-"+e.getFullYear()},o=function(e){var t=new Headers;t.append("Accept","application/json"),fetch(MarketWatch.Settings.endpoints.oskarUrl+"/api/oskar/me/marketwatch-com?needed=IndustryClassification|BlueGrassChannels&showItems=true",{credentials:"include",headers:t}).then((function(e){if(e.status>=200&&e.status<400)return e.json();throw e.status})).then((function(e){const t=e.filter(e=>function(e){var t=new Date;t.setDate(t.getDate()-t.getDay()+1),t.setHours(9,0,0,0);var n=new Date(t.getTime()+6e4*t.getTimezoneOffset());return new Date(e.CreateDateUtc)<n}(e));n=t.length})).then(e).catch((function(e){return n=0,0}))},s=function(){var t,r,a="Your latest Watchlist Recap is ready.";if(n>1&&(a="Your latest Watchlist Recaps are ready."),e){var o=document.importNode(e.content,!0);o.querySelector("mw-expires").attributes.duration.value=(t=new Date,(r=new Date).setDate(r.getDate()-r.getDay()+6),r.setHours(0,0,0,0),r-t),o.querySelector("a").attributes.href.value=MarketWatch.Settings.endpoints.siteroot+"/watchlist/recap?mod=wlx_banner_alert",o.querySelector("a").innerHTML=a,MarketWatch.Tracking&&MarketWatch.Tracking.clickThrough(o),o.querySelector(".icon--close").addEventListener("click",i),o.querySelector("a").addEventListener("click",i);var s=document.querySelector(".j-watchlist-banner-container");if(s){s.appendChild(o);const e=s.closest(".container--banner");e&&e.classList.remove("hidden")}MarketWatch.WatchListRecapBanner.setBannerClassOnBody()}};r&&!(storageAvailable&&localStorage.getItem("mw_watchlist_banner")===a())&&function(){var e=new Date,t=new Date;t.setDate(t.getDate()-t.getDay()+1),t.setHours(9,0,0,0);var n=new Date;return n.setDate(t.getDate()+5),n.setHours(0,0,0,0),e>t&&e<n}()&&o(s)}(),void 0===MarketWatch)var MarketWatch={};!function(){function e(e,t){if(t)for(var n=0;n<e.length;n++)e[n].dataset.section&&e[n].dataset.section.toLowerCase()===t&&e[n].classList.add("is-active")}function t(e){var t=e.currentTarget.parentElement;null===t&&"li"!==t.nodeName.toLowerCase()||t.classList.toggle("is-expanded")}function n(e){if(32==e.keyCode||13==e.keyCode){const t=e.currentTarget.getAttribute("for");if(void 0!==t){const n=document.getElementById(t);n&&(n.checked=!n.checked,n.checked&&setTimeout((function(){!function(){const e=document.activeElement.getAttribute("for");if(void 0!==e){const t=document.querySelector(".j-"+e);if(t){const e='button:not(.hidden), a:not(.hidden), input:not(.hidden), select:not(.hidden), textarea:not(.hidden), [tabindex]:not([tabindex="-1"])',n=Array.from(t.querySelectorAll(e));n&&n.length>0&&n[0].focus()}}}()}),150),e.stopPropagation(),e.preventDefault())}}}function i(){window.addEventListener("click",(function(e){e.target.closest("label")&&e.target.closest("label").classList.contains("j-toggle-label")||e.target.closest(".j-menu-contents")||"main-menu"!==e.target.id&&"toggle--profile"!==e.target.id&&o(e)}))}function r(e){if(32==e.keyCode||13==e.keyCode){const t=e.currentTarget.closest("li.list__item");t&&(t.classList.add("selected"),setTimeout((function(){!function(){const e=document.querySelector(".j-main-menu");if(e){const t='button:not(.hidden), a:not(.hidden), input:not(.hidden), select:not(.hidden), textarea:not(.hidden), [tabindex]:not([tabindex="-1"])',n=Array.from(e.querySelectorAll(t)),i=n.indexOf(document.activeElement);if(i>-1){(n[i+1]||n[0]).focus()}}}()}),150))}}function a(e){if(e.relatedTarget&&e.currentTarget&&e.relatedTarget.closest("ul.list--subsections")==e.currentTarget.closest("ul.list--subsections"))return;const t=e.currentTarget.closest(".j-menu-contents");if(t){const e=t.querySelector("li.list__item.selected");e&&e.classList.remove("selected")}o(e)}function o(e){if(!e||e.relatedTarget&&e.relatedTarget.closest(".j-menu-contents"))return;const t=document.querySelector("input.j-toggle:checked");t&&t.checked&&(t.checked=!1)}function s(e){document.querySelector(".btn--profile").classList.toggle("is-focused")}function c(e){var t=document.querySelector("#trending-tickers");t.checked?(t.dataset&&(t.dataset.trackCode="trending_maximize"),document.body.classList.remove("trending-is-closed")):(t.dataset&&(t.dataset.trackCode="trending_minimize"),document.body.classList.add("trending-is-closed"))}MarketWatch.load((function(){var l=document.querySelectorAll("ul.list--menu > li");if(l.length>0){!function(e){for(var t=0;t<e.length;t++)e[t].classList.remove("is-active")}(l),e(l,function(){var e=window.location.pathname;if(!(null===e||e.length<2))return-1!==e.indexOf("/investing/barrons")?"investing/barrons":e.indexOf("/",1)>0?e.slice(1,e.indexOf("/",1)):e.substring(1,e.length)}());var u=window.location.pathname;e(l,u.substring(1,u.length))}var d=document.querySelectorAll("li.list__item > .btn--subnav");if(d.length>0)for(var h=0;h<d.length;h++)d[h].addEventListener("click",t);const f=document.querySelectorAll("label.j-toggle-label[for]");for(h=0;h<f.length;h++)f[h].addEventListener("keydown",n);const p=document.querySelectorAll(".j-menu-contents li > a");for(h=0;h<p.length;h++)p[h].addEventListener("blur",o);const m=document.querySelectorAll(".j-main-menu li.list__item > button");for(h=0;h<m.length;h++)m[h].addEventListener("keydown",r),m[h].addEventListener("blur",o);const g=document.querySelectorAll(".j-main-menu .subNav .list--subsections a");for(h=0;h<g.length;h++)g[h].addEventListener("blur",a);var v=MarketWatch.Utility.isTouch,y=document.querySelector(".btn--profile");null!==y&&y.addEventListener(v?"touchend":"click",s);var b=document.querySelector("label[for='trending-tickers'].icon--close");null!==b&&b.addEventListener("click",c);const w=document.querySelector("input.toggle--menu");null!==w&&w.addEventListener("change",i)}))}();
//# sourceMappingURL=scripts-68201b11dd.min.js.map
