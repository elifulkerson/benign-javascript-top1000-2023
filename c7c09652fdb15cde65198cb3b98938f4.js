!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.lecommeonHeader=e():t.lecommeonHeader=e()}(window,(function(){return function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=4)}([function(t,e,o){window,t.exports=function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=4)}([function(t,e,o){"use strict";function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function r(t,e,o){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}o.d(e,"a",(function(){return u})),o.d(e,"b",(function(){return _}));const{PRODUCT_TYPE:s}=$CONSTANT,{MANUAL_SUBSERIES:a,SUBSERIES:c,CDCTO:l,CTO:d}=s,h={[a]:c,[l]:d},u=t=>"click"==t.type||"keydown"==t.type&&13==t.keyCode,_=(t,e)=>{var o,i;if(!t)return t;let{productType:r,serverFixedConfiguration:s}=t,a="";var c;return a=null!=e&&e.isPriceLock&&null!==(o=t)&&void 0!==o&&o.softBundleType?t.virtualProductCode:null!==(i=t)&&void 0!==i&&i.promotionTile?flash_fe_core_tool.$util.$idSeed.newId():t.productNumber||t.productCode,"productType"in(t=n(n({},t),{},{productNumber:a,primeProductType:t.primeProductType||t.productType,serverFixedConfig:s||""}))&&(t.productType=null!==(c=h[r])&&void 0!==c?c:r),t}},function(t,e,o){"use strict";o.r(e);var i=o(2),n=o.n(i);e.default=n.a},function(t,e,o){window,t.exports=function(t){var e={};function o(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=0)}([function(t,e,o){"use strict";o.r(e),o.d(e,"store",(function(){return p})),o.d(e,"business",(function(){return f})),o.d(e,"productType",(function(){return m})),o.d(e,"util",(function(){return u})),o.d(e,"shorten",(function(){return _})),o.d(e,"domEventCenter",(function(){return v}));const i=$CONSTANT.STORE_TYPES;class n{constructor(){}create(t,e,o){return this.__proto__.hasOwnProperty(t)&&"function"==typeof this.__proto__[t]?this.__proto__[t].call(this,e,o||[]):null}}for(const t in i){const e=i[t];n.prototype[e]=function(t,e){t&&t.call(this,...e)}}var r=n;$CONSTANT.STORE_TYPES;const s=$CONSTANT.BUSINESS_TYPES;class a{constructor(){}create(t,e,o){return this.__proto__.hasOwnProperty(t)&&"function"==typeof this.__proto__[t]?this.__proto__[t].call(this,e,o||[]):null}}a.prototype[s.B2B]=function(t,e){t&&t.call(this,...e)},a.prototype[s.B2C]=function(t,e){t&&t.call(this,...e)};var c=a;const l=$CONSTANT.PRODUCT_TYPE;class d{constructor(){}create(t,e,o){return this.__proto__.hasOwnProperty(t)&&"function"==typeof this.__proto__[t]?this.__proto__[t].call(this,e,o||[]):null}}for(const t in l){const e=l[t];d.prototype[e]=function(t,e){t&&t.call(this,...e)}}var h=d,u={$coreMethods:{resetProductNumber(t){if(!t)return t;if(1==arguments.length)t.productNumber=t.productNumber||t.productCode;else if(arguments.length>1)for(let e=1;e<arguments.length;e++)t.productNumber||(t.productNumber=t[arguments[e]]);return t},getTerminal:()=>"undefined"==typeof __TERMINAL__?"1":__TERMINAL__}},_=(t,e)=>{let o={showChars:100,ellipsesText:"...",moreText:translate("more"),moreTkey:"more",moreLink:"javascript://nop/",errMsg:null};e&&Object.assign(o,e);const i=(t,e)=>{for(let o=0;o<t.length;o++)if(t[o]==e)return!0;return!1},n=/<[^<^>^\/]+>/;let r=/<\/[^<^>^\/]+>/;const s=/<[^<^>]+>/;let a="hr,br,img,input,meta".split(",");if("string"!=typeof t)return"";let c=(t=t.replace(/(^\s*)|(\s*$)/g,"").replace(/[\r\n]/g,"")).replace(/<[^<^>]*>/g,"");if(!/^\d+$/.test(c.length)||c.length<=o.showChars)return t;let l=t,d=0,h=new Array;for(;s.test(l);){let t=new Object;t.index=d+l.search(s),t.string=l.match(s).toString();let e=l.search(/<[^<^>]+>/)+l.match(/<[^<^>]+>/)[0].length;l=l.substr(e),d+=e,h.push(t)}l=c.substr(0,o.showChars);let u=new Array;for(let t=0;t<h.length;t++){if(l.length<=h[t].index){h=h.slice(0,t);break}if(l=l.substring(0,h[t].index)+h[t].string+l.substr(h[t].index),n.test(h[t].string.replace(/(\/\/)/g,""))){let e=h[t].string.replace(/[<>]/g,"").split(" ");e.length>0&&(e=e[0],i(a,e)||u.push(e))}else if(r.test(h[t].string)){let e=h[t].string.replace(/[<\/>]/g,"");u.length>0&&u[u.length-1]===e&&u.pop()}}if(u.length>0)for(let t=u.length-1;t>=0;t--)l+="</"+u[t]+">";return l+='<span class="ellip">'.concat(o.ellipsesText,"</span>").concat(o.moreLink?'<a href="'.concat(o.moreLink,'" class="morelink lazy_href" data-tkey="').concat(o.moreTkey,'">').concat(o.moreText,"</a>"):""),l};const p=new class{constructor(){this._facroty=new r,this._storeName=flash_fe_core_tool.$util.$coreMethods.getMetaContent("storeType")}check(t,e){let o=!1;t.forEach(t=>{let e=t.type;this._storeName==e&&(o=!0,this._facroty.create(e,t.cb,t.params))}),o||e&&e()}},f=new class{constructor(){this._facroty=new c,this._storeName=flash_fe_core_tool.$util.$coreMethods.getMetaContent("channel")||$CONSTANT.BUSINESS_TYPES.B2C}check(t,e,o){if(this._storeName==t)return this._facroty.create(t,e,o)}},m=new class{constructor(){this._facroty=new h}check(t,e){let o=!1;t.forEach(t=>{let e=t.targetType;e==t.sourceType&&(o=!0,this._facroty.create(e,t.cb,t.params))}),o||e&&e()}},v=new class{constructor(){}register(t,e,o,i){$(t).on(e,o,i)}};e.default={store:p,business:f,productType:m,util:u,shorten:_,domEventCenter:v}}]).default},function(t,e,o){"use strict";(function(t){o(6);var i=o(0);function n(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function r(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?n(Object(o),!0).forEach((function(e){s(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function s(t,e,o){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const a={showType:"click",isArrow:!0};e.a=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._parent=null,this._popoverContent=t.popoverContent,this._popoverText=t.popoverText,this._config=r(r({},a),e),this._id=flash_fe_core_tool.$util.$idSeed.newId(),this._el=null,this._cardPopoverEl=null,this._focusEl=null}addEventListenerList(){if(t.util.$coreMethods.getTerminal()==$CONSTANT.TERMINAL.PC)switch(this._config.showType){case"hover":this.addEventListenerHover();break;default:this.addEventListenerClick()}else this.addEventListenerClick();this.addEventListenerCommon();let e=this;$(window).scroll(t=>{e.hide()}),$("body").on("click",t=>{e.hide()}),$("body").on("touchstart touchmove",t=>{e.hide()})}addEventListenerClick(){let e=this;t.domEventCenter.register(e._focusEl,"click keydown","",(function(t){t.stopPropagation(),Object(i.a)(t)&&(13!=t.keycode&&$("body").append($("#card-popover-".concat(e._id))),$(".card-popover").not($("#card-popover-".concat(e._id))).hide(),$("#card-popover-".concat(e._id)).is(":hidden")?e.show():e.hide())}))}addEventListenerHover(){let t=this;$(t._focusEl).on("focus",(function(e){e.stopPropagation(),$("body").append($("#card-popover-".concat(t._id))),t.show()})),$(t._focusEl).on("blur",(function(e){e.stopPropagation(),t.hide()})),$(t._focusEl).on("mouseover",(function(e){e.stopPropagation(),$("body").append($("#card-popover-".concat(t._id))),t.show()})),$(t._focusEl).on("mouseout",(function(e){e.stopPropagation(),t.hide()})),$(t._cardPopoverEl).on("focus mouseover",(function(e){t._cardPopoverEl.show()})),$(t._cardPopoverEl).on("mouseout",(function(e){t._cardPopoverEl.hide()})),$(t._cardPopoverEl).on("touchstart touchmove",(function(t){t.stopPropagation()}))}addEventListenerCommon(){let e=this;$(e._cardPopoverEl).on("click keydown",(function(t){t.stopPropagation()})),$(e._cardPopoverEl).on("touchstart touchmove",(function(t){t.stopPropagation()})),t.domEventCenter.register(e._focusEl,"touchstart touchmove","",(function(t){t.stopPropagation()})),$(e._cardPopoverEl).on("blur",(function(t){e._cardPopoverEl.find("a,button").length||e.hide()})),$(e._cardPopoverEl).on("blur","a,button",(function(t){e.hide()}))}show(){let t,e=document.body.clientWidth,o=this._focusEl.offset().top,i=this._focusEl.offset().left,n=this._focusEl.outerWidth(),r=this._focusEl.outerHeight(),s=$("#card-popover-".concat(this._id)).outerWidth();t=this._config.offsetLeft?i+this._config.offsetLeft:i-s/2+n/2;let a,c=o+r+7+(this._config.offsetTop||0);if(this._config.scrollWrapper&&$(this._config.scrollWrapper).length){let o=$(this._config.scrollWrapper).outerWidth(),r=$(this._config.scrollWrapper).offset().left;i+n/2+s/2>e?t=r+o-s-2:r>t&&(t=o>=s?r+2:o+r-s-2),t<0&&(t=r+2),t+s>o+r&&this._config.scrollWrapperRight&&(t=o+r-s-2)}a=this._config.offsetArrowLeft?i+this._config.offsetArrowLeft:i-t-5+n/2,$("#card-popover-".concat(this._id," .card-popover__arrow")).css({left:a}),$("#card-popover-".concat(this._id)).show().attr("aria-hidden",!1).css({left:t,top:c}),this._config.switchClass&&($("".concat(this._config.switchClass," .card-popover_text")).removeClass("card-popover_text_show"),this._el.find(".card-popover_text").addClass("card-popover_text_show"))}hide(){this._config.hideCondition&&!this._config.hideCondition()||($("#card-popover-".concat(this._id)).hide().attr("aria-hidden",!0),this._el.find(".card-popover_text").removeClass("card-popover_text_show"))}create(){var t,e,o;let i=this._id,n=this._popoverText,r=this._popoverContent;return'\n        <span class="card-popover-wrapper card-popover-wrapper_'.concat(i,'" ').concat(null!==(t=this._config)&&void 0!==t&&t.ariaLabel?'tabindex="0" role="button" aria-label="'.concat(null===(e=this._config)||void 0===e?void 0:e.ariaLabel,'"'):"",'>\n            <span class="card-popover_text" aria-describedby="card-popover-').concat(i,'">').concat(n,'</span>\n            <div role="tooltip" id="card-popover-').concat(i,'" aria-hidden="true" tabindex="0" class="card-popover ').concat((null===(o=this._config)||void 0===o?void 0:o.extraCls)||"",'" x-placement="bottom">\n                <div class="card-popover_body">').concat(r,"</div>\n                ").concat(this._config.isArrow?'<i class="card-popover__arrow card-popover__arrow-before"></i>\n                    <i class="card-popover__arrow card-popover__arrow card-popover__arrow-after"></i>\n                    <i class="card-popover__arrow-mask"></i>':"","\n            </div>\n        </span>")}init(t){this._el=$(t).find(".card-popover-wrapper_".concat(this._id)),this._cardPopoverEl=$("#card-popover-".concat(this._id)),this._focusEl=this._config.focusEl?this._el.find("".concat(this._config.focusEl)):this._el,this.addEventListenerList()}}}).call(this,o(1).default)},function(t,e,o){"use strict";o.r(e),function(t){o(5);var i=o(0),n=o(3);function r(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,i)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){a(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function a(t,e,o){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var i=o.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}e.default=class{constructor(e,o,n){const{renderWishEl:r,needUseJquery:a}=o;a&&(o.renderWishEl=$(r)),this._config=s(s({},o),{},{opt:n}),this._product=Object(i.b)(e,this._config),this._parent=null,this._hasInitPopover=!1,this._wishList=[],this._terminal=t.util.$coreMethods.getTerminal(),this._id=this._product.productNumber?"".concat(this._product.productNumber).concat(flash_fe_core_tool.$util.$idSeed.newId()):flash_fe_core_tool.$util.$idSeed.newId(),this._PREFIX=flash_fe_core_tool.$util.$coreMethods.getRequestPrefix(),this._popFirstOpen=!0,this._defaultFirstId=null,this._defaultWishText=this._config.wishText,this._popOpen=!1,this._inputFocus=!1,this._wishListCreated=!1,this._layoutName=""}create(){return this._config.isShowProductWish?'<div class="card-wish-container card-wish-container_'.concat(this._id," ").concat(this._config.isHoverShowWishPop?"":"wish-cursor",'">').concat(this.createContent(),"</div>"):""}createContent(){return"".concat(this._config.isHideWishIcon?"":'<div role="button" tabindex="0" aria-label="'.concat(this.isSelected(!1)?"Added to Wishlist":"Add to Wishlist",'" class="card-heart-content card-wish-open-btn ').concat(this._config.isRemoveWishGaming?"no-gaming":""," ").concat(this._config.isHideWishIconShadow?"no-shadow":""," ").concat(t.util.$coreMethods.getTerminal()!==$CONSTANT.TERMINAL.PC?"MT-style":"",'">\n                        <div class="card-wish-btn card-heart-icon ').concat(this.isSelected(!1)?"selected":"",'"></div>\n                    </div>\n                    <div class="content-text-container"><a class="content-text">').concat(this._config.wishText||"","</a></div>"),"\n                ").concat(this._config.isHideWishPop?"":'<div class="card-wish-open-btn-default">\n                        '.concat(this.createWishPop(),"\n                    </div>"))}isSelected(t){var e;let o=flash_fe_core_tool.$util.$cookie.getCookie("wishlistpns");return this._product.productNumber?(null==o?void 0:o.indexOf(this._product.productNumber))>-1:o&&"null"!=o&&'""'!=o?(null==o?void 0:o.length)>0:(t&&this.getAllWishListOverview().then(t=>{this.setWishData(null==t?void 0:t.data),this.updateSelectStatus(!1)}).catch(t=>{console.log("get Wish data err =",t)}),(null===(e=this._wishList)||void 0===e?void 0:e.length)>0)}createWishPopupContent(){return'<div tabindex="0" aria-label="Added to wishlist" class="card-wish-pop-container card-wish-pop-container_'.concat(this._id,'">\n                    <div class="cd-wh-header-container">\n                        ').concat(this.getTitleHTml(),'\n                        <div tabindex="0" aria-label="Create a list" role="button" class="cd-wh-header-right cd-wh-create-btn ').concat(t.util.$coreMethods.getTerminal()!==$CONSTANT.TERMINAL.PC?"MT-style":"",'" ').concat(flash_fe_core_tool.$passport.isLogin()?"":'style="display:none"','>\n                            <span data-tkey="card.wish.create.a.list">').concat(translate("card.wish.create.a.list"),'</span>\n                            <svg t="1666837472476" class="wish-add-list-btn" fill="currentColor" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2687" width="14" height="14" xmlns:xlink="http://www.w3.org/1999/xlink">\n                                <path d="M544 0C281.6 0 64 217.6 64 480S281.6 960 544 960 1024 742.4 1024 480 806.4 0 544 0z m0 896C313.6 896 128 710.4 128 480S313.6 64 544 64 960 249.6 960 480 774.4 896 544 896zM832 480c0 19.2-12.8 32-32 32H576v224c0 19.2-12.8 32-32 32s-32-12.8-32-32V512H288c-19.2 0-32-12.8-32-32s12.8-32 32-32H512V224c0-19.2 12.8-32 32-32s32 12.8 32 32V448h224c19.2 0 32 12.8 32 32z" fill="currentColor" p-id="2688"></path>\n                            </svg>\n                            <svg t="1667541944853" class="wish-collapse-list-btn" fill="currentColor" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2698" width="14" height="14">\n                                <path d="M512 1024c-281.6 0-512-230.4-512-512s230.4-512 512-512 512 230.4 512 512S793.6 1024 512 1024zM512 51.2C256 51.2 51.2 256 51.2 512S256 972.8 512 972.8 972.8 768 972.8 512 768 51.2 512 51.2z" p-id="2699" fill="currentColor"></path><path d="M774.4 537.6 249.6 537.6C236.8 537.6 224 524.8 224 512s12.8-25.6 25.6-25.6l531.2 0c12.8 0 25.6 12.8 25.6 25.6S787.2 537.6 774.4 537.6z" p-id="2700" fill="currentColor">\n                                </path>\n                            </svg>\n                        </div>\n                    </div>\n                    <div class="cd-wh-list-container">\n                        ').concat(this.getInputHtml(),"\n                        ").concat(this.getMaxTipHtml("card.wish.max.list.tip"),'\n                        <ul class="card-wish-list-ul">\n                            ').concat(this.getWishListHtml(),"\n                        </ul>\n                    </div>\n                </div>")}getTitleHTml(){let t=this._config.showViewText||!this._product.productNumber?"card.wish.title.my.list":"card.wish.title.save.to";return'<div class="cd-wh-title" data-tkey="'.concat(t,'">').concat(translate(t),"</div>")}getMaxTipHtml(t){return'<div class="cd-wh-max-tip">\n                    <i class="icon-notice"></i>\n                    <span class="cd-wh-tip-text" data-tkey="'.concat(t,'">').concat(translate(t),"</span>\n                </div>")}getInputHtml(){return'<div class="cd-wh-create-container">\n                    <div class="cd-wh-create-content">\n                        <span class="cd-input-label">'.concat(translate("card.wish.create.label"),'</span>\n                        <input class="cd-wh-create-input" name="listName" type="text" autocomplete="off" data-tkey="card.wish.create.label"/>\n                        <button class="cd-wh-create-list-btn" data-tkey="card.wish.create">').concat(translate("card.wish.create"),'</button>\n                    </div>\n                    <span class="error-msg" data-tkey="card.wish.create.error.msg" tabindex="0">\n                        <i class="icon-notice"></i>\n                        <p>').concat(translate("card.wish.create.error.msg"),"</p>\n                    </span>\n                </div>")}getWishListHtml(){var t,e;let o="";if(0==this._wishList.length){if(flash_fe_core_tool.$passport.isLogin()||!this._product.productNumber)return'<div class="list-empty-msg">'.concat(translate("card.wish.no.list.msg"),"</div>");this.setWishData([{id:1,name:translate("card.wish.guest.list.title"),size:0}])}let i=1==(null===(t=this._wishList)||void 0===t?void 0:t.length)?"no-bottom":"";return null===(e=this._wishList)||void 0===e||e.forEach(t=>{let e=this.getItemKey(t.size);o+='<li class="cd-wh-item '.concat(i,'" data-id="').concat(t.id,'">\n                        <div class="cd-wh-item-container">\n                            <div class="item-left item-link">\n                                <span class="cd-p-name" ').concat(flash_fe_core_tool.$passport.isLogin()?"":'data-tkey="card.wish.guest.list.title"',' title="').concat(t.name,'">').concat(t.name,'</span>\n                                <span class="cd-p-count" data-tkey="').concat(e,'">').concat(translate(e).replace("{0}",t.size),'</span>\n                            </div>\n                            <div class="item-right">\n                                ').concat(this.getRightViewHtml(t.existQueryProductNumber,t.name),"\n                            </div>\n                        </div>\n                        ").concat(t.size>=30?this.getMaxTipHtml("card.wish.max.item.tip"):"","\n                      </li>")}),o}getItemKey(t){return t<=1?"card.wish.num.item":"card.wish.num.items"}getRightViewHtml(t,e){var o;return this._config.isHamburgerType?'<div class="item-link empty-style"></div>':this._config.showViewText||!this._product.productNumber?(null===(o=this._wishList)||void 0===o?void 0:o.length)>1?'<div class="item-link empty-style"></div>':'<a class="cd-wh-item-view item-link" data-tkey="card.wish.link.view" tabindex="0" aria-label="'.concat(translate("card.wish.link.view")," ").concat(e,'">').concat(translate("card.wish.link.view"),"</a>"):'<div class="card-heart-content '.concat(this._config.isRemoveWishGaming?"no-gaming":"",'">\n            <i class="card-heart-icon card-heart-item-btn ').concat(t?"selected":"",'" tabindex="0" aria-label="').concat(t?"":"Added to ".concat(e),'" aria-selected="').concat(t?"":"Added to ".concat(e),'"></i>\n        </div>')}wishList(){let t=s({custom:"",productID:"",Image:"",Hyperlink:"",layouts:"",productindex:""},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});window.lmd=Object.assign({},flash_fe_core_tool.$adobe._lmd,t),flash_fe_core_tool.$adobe.doit("CustomInteraction")}wishListAdobe(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{if(!t.custom)return;let i={productID:this._product.productNumber||"",layouts:this._el.parents('[tag="layout"]').attr("layoutname")||"",productindex:""},n=this._componentName;console.log(n);let r="";if("2"==__TERMINAL__&&"ofp-2c-mobile-new-dlp"==n){document.querySelectorAll(".product_list .product_item, .product_list .carousel_interrupter").forEach((t,e)=>{t.querySelector(".product_title")&&t.querySelector(".product_title").getAttribute("id")==i.productID&&(r=e+1)});let t=this._el.parents('[tag="layout"]').attr("layoutname")||"";i.layouts=t,i.productindex="".concat(r,":N/A")}const s=this.isHeaderComponent()?t.custom.replace(/{type}/g,"Masthead"):t.custom.replace(/{type}/g,"Product Card"),a=flash_fe_core_tool.$passport.isLogin()?"Signed In":"Guest";let c="";e?this.getAllWishListOverview().then(t=>{c=t.data&&t.data.length>0?"Single List":"No List",i.custom="".concat(s," - ").concat(a," - ").concat(c,")"),this.wishList(i)}):(c=o?"Single List":"No List",i.custom="".concat(s," - ").concat(a," - ").concat(c,")"),this.wishList(i))}catch(t){console.log("wish list adobe err =",t)}}addEventListenerList(){let e=this;this._config.isHideWishPop||(this._el.on("touchstart touchmove",t=>{t.stopPropagation()}),this._config.isHoverShowWishPop&&t.util.$coreMethods.getTerminal()===$CONSTANT.TERMINAL.PC?(this._el.on("mouseover",".card-heart-icon",(function(t){"none"==$(".card-wish_popover_".concat(e._id)).css("display")&&(e.hideCreateContainer(),e.initPopover(!0,!1,{custom:"Wish List Heart ({type}"}))})),this._el.on("mouseout",".card-heart-icon",(function(t){setTimeout(()=>{console.log("timeout: ",e._popOpen),e._popOpen||$(".card-wish_popover_".concat(e._id)).css("display","none")},500)})),this._popoverEl.on("mouseover","",(function(t){t.stopPropagation(),e._popOpen=!0,$(".card-wish_popover_".concat(e._id)).css("display","block")})),this._popoverEl.on("mouseout","",(function(t){t.stopPropagation(),e._popOpen=!1,$(".card-wish_popover_".concat(e._id)).css("display","none")})),this._el.on("click","",(function(t){t.stopPropagation(),flash_fe_core_tool.$util.$coreMethods.doRedirect(flash_fe_core_tool.$util.$redirect.dealGroupId(flash_fe_core_tool.$util.$coreMethods.getURIPrefix()+"".concat($CONSTANT.URL.ACCOUNT.WISHLIST.HOME)))}))):this._el.on("click keydown","",(function(t){if(Object(i.a)(t))if(t.stopPropagation(),"none"==$(".card-wish_popover_".concat(e._id)).css("display")&&13!=t.keyCode){if(e.hideCreateContainer(),e.initPopover(!0,!0),e.isPbComponent()&&"undefined"!=_ProductBuilder_adobe_tool){const o=e._el.parents(".listBody"),i=t.target.classList.contains("selected")?"Wishlist Remove":"Wishlist Add";e.productBuilderWishlistAdobeTrack(o,i)}}else e.showOrHideWishPop(),"keydown"==t.type&&13==t.keyCode&&$(".card-popover.card-wish_popover.card-wish_popover_".concat(e._id)).focus()})),this._config.showViewText||this._popoverEl.on("click",".card-heart-item-btn",(function(t){if(t.stopPropagation(),e.updateProductWish(t),e.isPbComponent()&&"undefined"!=_ProductBuilder_adobe_tool){const o=e._el.parents(".listBody"),i=t.target.classList.contains("selected")?"Wishlist Remove":"Wishlist Add";e.productBuilderWishlistAdobeTrack(o,i)}})),flash_fe_core_tool.$passport.isLogin()&&(this._popoverEl.on("click keydown",".cd-wh-create-btn",(function(t){Object(i.a)(t)&&(t.stopPropagation(),e._popoverEl.find(".cd-wh-create-btn").hasClass("create-expand")&&13!=t.keycode?e.hideCreateContainer():(e.showCreateContainer(),"keydown"==t.type&&13==t.keyCode&&$(".card-popover.card-wish_popover.card-wish_popover_".concat(e._id)).focus(),e.hideErrorStyle()),e.wishListAdobe({custom:"My List (PopUp) Create a List ({type} - Wish List Popup"}))})),this._popoverEl.on("click",".cd-wh-create-list-btn",(function(t){t.stopPropagation(),e.createWish(t),e.wishListAdobe({custom:"My List (PopUp) Create Button Selected ({type} - Wish List Popup"})})),this._popoverEl.on("focus",".cd-wh-create-input",(function(t){t.stopPropagation(),e._popoverEl.find(".cd-input-label").css("transform","scale(0.8)").css("top","3px"),e._inputFocus=!0})),this._popoverEl.on("blur",".cd-wh-create-input",(function(){""==e._popoverEl.find(".cd-wh-create-input").val()&&e._popoverEl.find(".cd-input-label").css("transform","scale(1)").css("top","10px"),e._inputFocus=!1})),$(".card-wish_popover_".concat(this._id)).on("blur","button",(function(t){t.stopPropagation(),$(".card-wish_popover_".concat(e._id)).show().attr("aria-hidden",!1)}))),this._popoverEl.on("click",".item-link",(function(t){t.stopPropagation();const o=$(t.currentTarget);let i=o.parents(".cd-wh-item").attr("data-id");const n=flash_fe_core_tool.$util.$redirect.dealGroupId(flash_fe_core_tool.$util.$coreMethods.getURIPrefix()+"".concat($CONSTANT.URL.ACCOUNT.WISHLIST.HOME,"?wishId=").concat(i));try{const t=flash_fe_core_tool.$util.$coreMethods.getMetaContent("adobeParam"),i=o.find(".cd-p-name").attr("title");let r={custom:"".concat(t," : ").concat(e._componentName," : link ").concat(i),productID:"".concat(e._id),layouts:e._layoutName,Image:"",Hyperlink:"".concat(n)};flash_fe_core_tool.$util.$cookie.setCookie("adobe_customInteraction",JSON.stringify(r),flash_fe_core_tool.$domain.getDomain(5,!0))}catch(t){console.log("adobe track for product wish heart error",t)}flash_fe_core_tool.$util.$coreMethods.doRedirect(n)})),this._popoverEl.on("click",".cd-wh-item-view",(function(t){t.stopPropagation(),e.wishListAdobe({custom:"My List (PopUp) clicks view ({type} - Wish List Popup"},!1)})),this._product.productNumber?flash_fe_core_tool.$event_publisher.on("add-to-wish-list",t=>{(null==t?void 0:t.productNumber)==e._product.productNumber&&(null==t?void 0:t.id)!=e._id&&e.updateSelectStatus(!1)}):(flash_fe_core_tool.$event_publisher.on("my-list-create-list",t=>{null!=t&&t.isHeader||e.updateSelectStatus(!0)}),flash_fe_core_tool.$event_publisher.on("delete-wish-list-id",()=>{e.updateSelectStatus(!0)}),flash_fe_core_tool.$event_publisher.on("add-to-wish-list",t=>{null!=t&&t.isUpdateSelectStatus&&e.updateSelectStatus(!0)})))}showCreateContainer(){this._popoverEl.find(".cd-wh-create-btn").addClass("create-expand"),this._popoverEl.find(".cd-wh-create-container").show(),this._popoverEl.find(".cd-wh-list-container").scrollTop(0)}hideCreateContainer(){this._popoverEl.find(".cd-wh-create-btn").removeClass("create-expand"),this._popoverEl.find(".cd-wh-create-container").hide()}showErrorStyle(t){this._popoverEl.find(".error-msg p").attr("data-tkey",t).html(translate(t)),this._popoverEl.find(".cd-wh-create-container").addClass("err-style"),this._popoverEl.find(".error-msg").show().focus()}hideErrorStyle(){this._popoverEl.find(".error-msg").hide(),this._popoverEl.find(".cd-wh-create-container").removeClass("err-style"),this._popoverEl.find(".cd-wh-create-input").val("")}showMaxTip(){this._popoverEl.find(".cd-wh-list-container>.cd-wh-max-tip").show()}hideMaxTip(){this._popoverEl.find(".cd-wh-list-container>.cd-wh-max-tip").hide()}showCreateText(){flash_fe_core_tool.$passport.isLogin()&&this._popoverEl.find(".cd-wh-create-btn").show()}hideCreateText(){this._popoverEl.find(".cd-wh-create-btn").hide()}updateSelectStatus(t){this.isSelected(t)?(this._el.find(".card-wish-btn").addClass("selected"),this._el.find(".card-heart-content").attr("aria-label","Added to Wishlist"),!this._product.productNumber&&this._wishList&&this._wishList.length&&(this._wishList.some(t=>t.size>0)||this._el.find(".card-wish-btn").removeClass("selected"))):(this._el.find(".card-wish-btn").removeClass("selected"),this._el.find(".card-heart-content").attr("aria-label","Add to Wishlist"))}updateProductWish(t){let e=$(t.currentTarget).parents(".cd-wh-item").attr("data-id");this.updateProductToWishList(this._product.productNumber,e).then(o=>{if("SUCCESS"==(null==o?void 0:o.data)){let o=$(t.currentTarget).hasClass("selected");flash_fe_core_tool.$event_publisher.broadcast("add-to-wish-list",{wishId:e,productNumber:this._product.productNumber,isRemove:o,id:this._id}),this.initPopover(!1);const i=o?"Removed":"Added";this.wishListAdobe({custom:"Wish List Heart ({type} - ".concat(i)},!1)}}).catch(t=>{console.log("update product to Wish list err =",t)})}updateWishText(){var t;if(!this._config.wishTextActive)return;let e="",o="";if((null===(t=this._wishList)||void 0===t?void 0:t.length)>0){let t=0;this._wishList.forEach(i=>{let n=new Date(i.updateTime).getTime();i.existQueryProductNumber&&n>t&&(e=i.name,o=i.id,t=n)})}e||(e=this._config.wishText),this._defaultWishText!=e&&(this._defaultWishText=e,this._el.find(".content-text-container").html(this.getContentTextHtml(e,o)))}getContentTextHtml(t,e){return'<a class="content-text" title="'.concat(t,'" href="').concat(e?flash_fe_core_tool.$util.$redirect.dealGroupId(flash_fe_core_tool.$util.$coreMethods.getURIPrefix()+"".concat($CONSTANT.URL.ACCOUNT.WISHLIST.HOME,"?wishId=").concat(e)):"",'">').concat(t,"</a>")}createWish(t){let e=this._popoverEl.find(".cd-wh-create-input").val();e?e.length>200?this.showErrorStyle("WISH_NAME_OVER_SIZE_ERROR"):(this._wishListCreated=!0,this.createWishList(this.htmlEscape(e)).then(t=>{null!=t&&t.data&&(flash_fe_core_tool.$event_publisher.broadcast("my-list-create-list",{isHeader:!this._product.productNumber}),this._defaultFirstId=t.data,this.hideErrorStyle(),this.hideCreateContainer(),this.initPopover(!1))}).catch(t=>{console.log("create Wish data err =",t),null!=t&&t.msg&&this.showErrorStyle(null==t?void 0:t.msg)})):this.showErrorStyle("card.wish.create.error.msg")}htmlEscape(t){return t.replace(/[<>"&'`/]/g,(function(t,e,o){switch(t){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case'"':return"&quot;";case"'":return"&apos;";case"/":return"&frasl;";case"`":return"&apos;"}}))}init(t){var e;const{renderWishEl:o,needUseJquery:i}=this._config;i&&(t=$(t)),o&&o.html(this.create()),this._el=t.find(".card-wish-container_".concat(this._id)),this._popoverEl=$(".card-wish-pop-container_".concat(this._id)),null===(e=this._wishPopover)||void 0===e||e.init(this._el.find(".card-wish-open-btn-default")),this.addEventListenerList(),this._config.wishTextActive?this.initPopover():this._product.productNumber||this.updateSelectStatus(!0),this._componentName=t.parents("div[componentname]").eq(0).attr("componentname"),this._layoutName=t.parents("[type=2][tag=layout]").attr("layoutname")}isHeaderComponent(){return"commonHeader"==this._componentName||"smbCommonHeader"==this._componentName}isDlpComponent(){return"cardDlp"==this._componentName}isPbComponent(){return"ProductBuilder"==this._componentName}productBuilderWishlistAdobeTrack(t,e){try{const o=t.find(".title_overflow_hidden").text().trim(),i=t.find(".part_number").attr("product-number")||"",n=flash_fe_core_tool.$util.$coreMethods.getUrlParam("mainCode"),r=t.find(".card-product-image-show").attr("src")||"";_ProductBuilder_adobe_tool.handleCard(e,o,[n,i],r)}catch(t){console.log("product builder adobe error",t)}}getParams(){}getAllWishListOverview(){return flash_fe_core_tool.$http.jsonp("".concat(this._PREFIX,"/online/product/getAllWishListOverview").concat(this._product.productNumber?"?listSortType=1&productNumber=".concat(this._product.productNumber):""),null,null,!0)}createWishList(t){return flash_fe_core_tool.$http.post("".concat(this._PREFIX,"/online/product/createWishList"),{wishListName:t},{},!0)}updateProductToWishList(t,e){let o={productNumber:t};return flash_fe_core_tool.$passport.isLogin()&&(o.wishId=e),flash_fe_core_tool.$http.post("".concat(this._PREFIX,"/online/product/updateProductToWishList"),o,{},!0)}setWishData(t){t&&(this._wishList=this.resetSort(t))}resetSort(t){if(!this._defaultFirstId||(null==t?void 0:t.length)<=1)return t;let e=[],o=null;return t.forEach(t=>{t.id==this._defaultFirstId?o=t:e.push(t)}),[o,...e]}createWishPop(){let e=this;return this._wishPopover=new n.a({popoverContent:this.createWishPopupContent(),popoverText:'<div class="card-wish-open-btn-default-btn"></div>'},{scrollWrapper:this._config.wishScrollWrapper||"body",extraCls:"card-wish_popover card-wish_popover_".concat(this._id," ").concat(this._config.isRemoveWishGaming?"no-gaming":""),showType:"click",offsetTop:6,hideCondition:t.util.$coreMethods.getTerminal()!==$CONSTANT.TERMINAL.PC?()=>!e._inputFocus:null}),this._wishPopover.create()}updateWishListHtml(){var t;if(this._popoverEl.find(".card-wish-list-ul").html(this.getWishListHtml()),(null===(t=this._wishList)||void 0===t?void 0:t.length)>=(this._config.wishListMaxLength||15)?(this.hideCreateText(),this.hideCreateContainer(),this.showMaxTip()):(this.showCreateText(),this.hideMaxTip()),this._wishListCreated){let t=this._popoverEl.find(".card-wish-list-ul>.cd-wh-item .cd-p-name")[0].textContent;$(this._popoverEl.find(".card-wish-list-ul>.cd-wh-item .cd-p-name")[0]).attr("aria-label",t+" list created"),$(this._popoverEl.find(".card-wish-list-ul>.cd-wh-item .cd-p-name")[0]).attr("tabindex","0"),$(this._popoverEl.find(".card-wish-list-ul>.cd-wh-item .cd-p-name")[0]).focus(),setTimeout(()=>{$(this._popoverEl.find(".card-wish-list-ul>.cd-wh-item .cd-p-name")[0]).removeAttr("aria-label"),$(this._popoverEl.find(".card-wish-list-ul>.cd-wh-item .cd-p-name")[0]).removeAttr("tabindex")},1e3)}this._wishListCreated=!1}initPopover(t,e,o){this._config.isHideWishPop||this.getAllWishListOverview().then(i=>{if(this.setWishData(null==i?void 0:i.data),e&&this.isAutoUpdate())this.autoUpdateToList();else{this.updateWishListHtml(),this.updateWishText(),this.updateSelectStatus(!1),t&&this.showOrHideWishPop();const e=!!(i.data&&i.data.length>0);this.wishListAdobe(s({custom:""},o),!1,e)}}).catch(t=>{console.log("get Wish data err =",t)})}isAutoUpdate(){var t;let e=this._el.find(".card-wish-btn").hasClass("selected"),o=this._product.productNumber&&1==(null===(t=this._wishList)||void 0===t?void 0:t.length);return e?o:o&&this._wishList[0].size<30}showOrHideWishPop(){this._defaultFirstId=null,this._el.find(".card-wish-open-btn-default-btn").click()}autoUpdateToList(){let t=this._wishList[0].id,e=this._wishList[0].size;this.updateProductToWishList(this._product.productNumber,t).then(o=>{if("SUCCESS"==(null==o?void 0:o.data)){let o=this._el.find(".card-wish-btn").hasClass("selected");flash_fe_core_tool.$event_publisher.broadcast("add-to-wish-list",{wishId:t,productNumber:this._product.productNumber,isRemove:o,isUpdateSelectStatus:this._product.productNumber&&!o&&0==e,id:this._id});const i=o?"Removed":"Added";this.wishListAdobe({custom:"Wish List Heart ({type} - ".concat(i)},!1)}this.initPopover(!0)}).catch(t=>{this.initPopover(!0),console.log("update product to Wish list err =",t)})}}}.call(this,o(1).default)},function(t,e,o){},function(t,e,o){}]).default},function(t,e,o){},function(t,e,o){},function(t,e,o){},function(t,e,o){"use strict";o.r(e);o(1),o(2),o(3);const i={countryList:{ca:["en","fr"],hk:["zh","en"],th:["en","th"],be:["fr","nl"],ch:["de","fr","en"]},langMapping:{en:"English",fr:"French",zf:"ChineseTaiwan",th:"Thai",nl:"Dutch",de:"German",zh:"Chinese"}};var n={el:"",type:1,isCartPage:!1,country:"us",lang:"en",deviceType:flash_fe_core_tool.$CONSTANT.TERMINAL.PC,temp:"",init(t,e,o){this.el=t,this.deviceType=o,e&&(this.type=e),this.isCartPage=!!/\/cart(?!\/)/.test(flash_fe_core_tool.$util.$coreMethods.getPageName()),this.getStoreCode(),flash_fe_core_tool.$Api.getStoreInfo().then(t=>{t&&t.data&&t.data.Store&&"1"===t.data.Store["Language Selector Toggle"]&&this.el.length&&i.countryList[this.country]&&!this.isCartPage&&(this.render(),this.rigisterEvent())}).catch(t=>{console.warn("get store info error",t)})},render(){switch(this.type){case 1:this.temp=`<div class="lang_entry_name flex">\n                                <span>${translate("LangEntry."+i.langMapping[this.lang])}</span>\n                                <svg class="ca_arrow" width="13px" height="8px" viewBox="0 0 32 18" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                                    \x3c!-- Generator: Sketch 48.2 (47327) - http://www.bohemiancoding.com/sketch --\x3e\n                                    <title>arrow-top</title>\n                                    <desc>Created with Sketch.</desc>\n                                    <defs></defs>\n                                    <g id="icon-copy" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(-168.000000, -536.000000)">\n                                        <g id="arrow-top" transform="translate(168.000000, 536.000000)" fill="#FFFFFF" fill-rule="nonzero">\n                                            <path d="M14.761,0.884 L0.902,14.782 C0.317,15.367 0.317,16.302 0.902,16.887 C1.487,17.472 2.422,17.472 2.988,16.887 L15.911,3.925 L28.932,16.985 C29.517,17.57 30.452,17.57 31.018,16.985 C31.603,16.4 31.603,15.465 31.018,14.899 L17.217,1.02 C17.022,0.825 16.769,0.689 16.515,0.63 C15.95,0.338 15.229,0.416 14.761,0.883 L14.761,0.884 Z" id="Shape"></path>\n                                        </g>\n                                    </g>\n                                </svg>\n                            </div>\n                            <svg class="lang_entry_icon" id="icon_services_international_circle_64" data-name="icon/services/international/circle/64" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#FFFFFF" viewBox="0 0 16 16">\n                                <path id="Fill-5" d="M49.131,35.379h0c-.453.658-.908,1.25-1.248,1.674-.3-.38-.775-.988-1.249-1.675a7.657,7.657,0,0,1-1.565-3.258,2.814,2.814,0,1,1,5.628,0,7.664,7.664,0,0,1-1.565,3.254Zm-.656,4.062H46.384a13.167,13.167,0,0,0,.187-2.214c0-.087,0-.176,0-.267.521.689.933,1.177.941,1.184a.5.5,0,0,0,.752,0c.079-.094.316-.377.631-.782a6.075,6.075,0,0,1-.416,2.082ZM45.1,42.878a6.075,6.075,0,0,0,.447-.759,8.824,8.824,0,0,0,.623-1.7h1.818A6.18,6.18,0,0,1,45.1,42.878Zm-1.836.364V40.421h1.891a7.468,7.468,0,0,1-.484,1.26,3.129,3.129,0,0,1-1.407,1.562Zm0-8.229h1.959q.111.179.225.356a12.336,12.336,0,0,1,.14,1.857,12.08,12.08,0,0,1-.2,2.214H43.266Zm0-3.8a2.237,2.237,0,0,1,.831.662c-.006.081-.01.162-.01.246a4.566,4.566,0,0,0,.583,1.91h-1.4Zm-.981,2.819H40.394a7.452,7.452,0,0,1,.484-1.26,3.125,3.125,0,0,1,1.408-1.561Zm0,5.407H40.162a12.349,12.349,0,0,1,0-4.427h2.123Zm0,3.8a3.126,3.126,0,0,1-1.408-1.562,7.422,7.422,0,0,1-.484-1.26h1.892ZM37.56,40.421h1.818a8.864,8.864,0,0,0,.622,1.7,6.154,6.154,0,0,0,.448.759,6.174,6.174,0,0,1-2.888-2.458Zm-.9-3.193a6.107,6.107,0,0,1,.418-2.214h2.092a13.245,13.245,0,0,0,0,4.427H37.075a6.1,6.1,0,0,1-.417-2.213Zm3.791-5.652a6.129,6.129,0,0,0-.448.759,8.889,8.889,0,0,0-.622,1.7H37.56a6.177,6.177,0,0,1,2.888-2.458Zm7.434-3.25a3.812,3.812,0,0,0-3.353,2.027,7.1,7.1,0,1,0,5.346,6.875,6.981,6.981,0,0,0-.088-1.075l.151-.217a8.347,8.347,0,0,0,1.739-3.812v0a3.8,3.8,0,0,0-3.795-3.795Z" transform="translate(-35.677 -28.326)" fill-rule="evenodd"/>\n                            </svg>\n                            <div class="popover lang_entry_popover">\n                                <p class="popoverTitle lang_entry_title" data-tkey="Language">${translate("Language")}</p>\n                                <div class="popoverContent lang_entry_content">\n                                    ${this.renderItem()}\n                                </div>\n                            </div>`;break;case 2:this.temp=`<div class="lang_entry_name">\n                                <span><b>${translate("Language")}</b>: ${translate("LangEntry."+i.langMapping[this.lang])}</span>\n                                <i class="ca_arrow"></i>\n                            </div>\n                        <div class="lang_entry_popover">\n                            <div class="popoverContent lang_entry_popover_content">\n                                ${this.renderItem()}\n                            </div>\n                        </div>`}this.el.addClass("Type"+this.type).append(this.temp).attr("tabindex","0")},renderItem(){let t="";return i.countryList[this.country].forEach(e=>{t+=`<a class="popover_item item  ${this.lang===e?"checked":""}" href="${this.transformlink(e)}">\n                <span data-tkey="LangEntry.${i.langMapping[e]}">${translate("LangEntry."+i.langMapping[e])}</span>\n                <i class="icon"></i>\n            </a>`}),t},transformlink(t){if(this.country===this.lang){let e=0;return document.location.href.split("/").map(o=>(o===this.country&&(e++,2===e&&(o=t)),o)).join("/")}return document.location.href.replace(`/${this.lang}/`,`/${t}/`)},rigisterEvent(){if(this.deviceType==flash_fe_core_tool.$CONSTANT.TERMINAL.PC){const t=$(this.el),e=()=>{t.attr("aria-expanded","false"),t.find(".ca_arrow").removeClass("arrow_rotate"),t.find(".lang_entry_popover").hide()};this.el.on("focus mouseover",(function(e){e.stopPropagation(),t.attr("aria-expanded","true"),t.find(".ca_arrow").addClass("arrow_rotate"),t.find(".lang_entry_popover").show()})).on("mouseout",(function(t){t.stopPropagation(),e()})),this.el.find(".lang_entry_content>:last-child").on("keydown",t=>{9===t.keyCode&&t.shiftKey||9!==t.keyCode||e()}),this.el.on("keydown",t=>{t.shiftKey&&9===t.keyCode&&$(document.activeElement).attr("class").includes("lang_entry_container")&&e()})}else this.el.on("click",(function(t){t.stopPropagation(),$(this).attr("aria-expanded","true"==$(this).attr("aria-expanded")?"false":"true"),$(this).find(".ca_arrow").toggleClass("arrow_rotate"),$(this).find(".lang_entry_popover").toggle()}))},getStoreCode(){this.country=flash_fe_core_tool.$util.$coreMethods.getMetaContent("lenovo.country"),this.lang=flash_fe_core_tool.$util.$coreMethods.getMetaContent("lenovo.language")}},r=o(0),s=o.n(r);e.default=function(t){$((function(){function t(t){t.siblings().removeClass("sup_nav_active");const e=$(".header_right>.utility_nav"),o=$(".second_view"),i=t.index();Promise.all(flash_fe_core_tool.$util.$dom.loadImg(e.eq(i))).then().catch(),e.eq(i).css("display","flex"),$(".header_right").css("display","flex"),window.commonHeader.isFtv||(o.eq(i).addClass("show"),!window.commonHeader.isB2B&&o.eq(i).siblings(".second_view").remove(),t.addClass("sup_nav_active"))}function e(t){const e=t=>{i=t;const e=(t=>{const e=t.index();return $(".commonHeader .second_view").eq(e)})(t);e.children().length>0&&(n=e)},o=function(){let t=0;if(window.commonHeader.isB2B&&!window.commonHeader.isFtv){const e=$(".commonHeader"),o=e.find(".second_view:has(.second_list):first");t=e.find(".second_view").index(o)}return t<0?0:t}();let i=$(".sup_nav .nav_item").eq(o),n=$(".commonHeader .second_view").eq(o);r&&e($(".sup_nav .nav_item[navposkey='"+r+"']")),t&&e(t),i.addClass("sup_nav_active").siblings().removeClass("sup_nav_active"),n.siblings(".second_view").removeClass("show"),n.children().length>0&&n.addClass("show")}flash_fe_core_tool.$event_publisher.on(flash_fe_core_tool.$CONSTANT.EVENT_PUBLISHER_KEY.COMMONHEADER.FIXED,()=>{window.commonHeader.isFixed=!0,$(".commonHeaderPlaceHolder").show(),$(".commonHeader").css("position","fixed")}),flash_fe_core_tool.$event_publisher.on(flash_fe_core_tool.$CONSTANT.EVENT_PUBLISHER_KEY.COMMONHEADER.UNFIXED,()=>{window.commonHeader.isFixed=!1,$(".commonHeaderPlaceHolder").hide(),$(".commonHeader").css("position","relative"),window.commonHeader.setTier2Posi()}),window.commonHeader.isB2B?flash_fe_core_tool.$util.$coreMethods.loginAction().then(t=>{$(".login_button").length&&$(".login_button").hide(),$(".account_button").length&&$(".account_button").show(),$(".company_button").length&&$(".company_button").show()}).catch(t=>{$(".logout_button").length&&$(".logout_button").hide(),$(".account_button").length&&$(".account_button").hide(),$(".company_button").length&&$(".company_button").hide()}):flash_fe_core_tool.$util.$coreMethods.loginAction().then(t=>{$(".login_button").length&&$(".login_button").hide()}).catch(t=>{$(".logout_button").length&&$(".logout_button").hide()}),$(".utility_nav_item[data-utilitytype='8']").length>0&&$(".utility_nav_item[data-utilitytype='8']").hover((function(){$(this).find("strong").css("color",$(this).find(".utility_nav_item_icon").data("hoverColor"))}),(function(){$(this).find("strong").css("color","#000")})),$(".second_list").on("mouseenter focus",".second_list_item",(function(){$(this).siblings().removeClass("second_view_active second_view_not_show_three"),$(this).siblings().removeClass("hasMegamenu"),$(this).addClass("second_view_active");const t=$(this);if($(this).find(".three_view").length>0&&(!window.commonHeader.isFtv||window.commonHeader.isB2B)){$(this).addClass("hasMegamenu");let e=$(this).find(".commonEspotContent");e.length&&Array.prototype.forEach.call(e,(function(o,i){if(o){let n=$(o),r=n.data("url")+(flash_fe_core_tool.$telePassport.cookie.gateKpGroupId&&"?groupId="+flash_fe_core_tool.$telePassport.cookie.gateKpGroupId);flash_fe_core_tool.$http.getHTML(r,!1,!0).then(o=>{o?n.replaceWith(o):n.parent().remove(),e.length-1==i&&setTimeout(()=>{!function(t){if(t.length<2)return;let e=0;for(let o=0;o<t.length;o++){let i=t[o],n=$(i).find(".screen_hot_mask").height();e=n>e?n:e}!function(t,e){let o=e>147?147:e<31?31:e;for(let e=0;e<t.length;e++){let i=t[e];$(i).find(".screen_hot_mask").height(o)}}(t,e)}(t.find(".commonESpotsWrap"))},300)}).catch(t=>{console.error(t),n.parent().remove()})}}))}window.commonHeader.isFtv&&!window.commonHeader.isB2B&&$(this).addClass("second_view_not_show_three")})).on("mouseenter",".second_list_item",(function(){$(this).find("> a").focus()})).on("mouseleave",".second_list_item",(function(){const t=$(document.activeElement);t.parent(".second_view_active").length&&t.blur()}));const o=$("meta[navposkey]").attr("navposkey");o&&flash_fe_core_tool.$util.$cookie.setCookie("navposkey",o);let i=flash_fe_core_tool.$util.$cookie.getCookie("navposkey")||"",r=o||i||"",a=[],c=document.querySelectorAll(".sup_nav .nav_item[navposkey]");if(Array.prototype.forEach.call(c,(function(t,e){if(t){let e=$(t).attr("navposkey");e&&a.push(e)}})),r=a.indexOf(r)>-1?r:"",r?function(e){$(".sup_nav .nav_item").removeClass("sup_nav_active"),$(".sup_nav .nav_item[navposkey='"+e+"']").each((function(e){t($(this))}))}(r):t($(".sup_nav .nav_item").eq(0)),window.commonHeader.isB2B&&!window.commonHeader.isFtv&&e(),$(".second_view").removeClass("hide-view"),window.commonHeader.isOutlet&&window.commonHeader.setTier2Posi(),flash_fe_core_tool.$Api.getStoreInfo().then(t=>{var e,o,i;"Medium"===(null==t||null===(e=t.data)||void 0===e?void 0:e.CMS["Masthead Version"])&&(commonHeader.type="Medium",window.commonHeader.isOutlet?($(".commonHeader .second_list").css("justify-content","center"),$(".commonHeader .appmenu").siblings().hide()):($(".commonHeader .nav_view").css("justify-content","center"),$(".commonHeader .sup_nav").siblings().hide())),"Simple"===(null==t||null===(o=t.data)||void 0===o?void 0:o.CMS["Masthead Version"])&&(commonHeader.type="Simple",$(".commonHeader").find(".nav_view").hide(),$(".commonHeader").find(".second_view").hide(),$(".commonHeader").css("min-height","40px")),(null==t||null===(i=t.data)||void 0===i?void 0:i.CMS["Masthead Version"])&&function(){window.commonHeader.height=0,window.commonHeader.isFtv?window.commonHeader.height=commonHeaderEl.offsetHeight:"Simple"===window.commonHeader.type?window.commonHeader.height=40:Array.prototype.forEach.call(commonHeaderEl.children,(function(t){"none"!=t.style.display&&(window.commonHeader.height+=t.offsetHeight)}));commonHeaderPlaceHolderEl.style.height=window.commonHeader.height+"px"}()}).catch(t=>{t.msg&&console.error(t.msg)}),$(".commonHeader").on("click keyup",".utility_nav_item .login_button",(function(t){if(t.keyCode&&13!=t.keyCode)return!1;const e=flash_fe_core_tool.$util.$coreMethods.getAccountAbsolutePath(flash_fe_core_tool.$CONSTANT.URL.ACCOUNT.LOGIN.MAIN);flash_fe_core_tool.$util.$redirect.do(window.commonHeader.isCartPage?e+"?returnUrl="+window.location.href:e)})).on("click keyup",".register_button",(function(t){if(t.keyCode&&13!=t.keyCode)return!1;flash_fe_core_tool.$util.$redirect.do(flash_fe_core_tool.$CONSTANT.URL.ACCOUNT.REGISTER.CREATE)})).on("click keyup",".7_button",(function(t){if(t.keyCode&&13!=t.keyCode)return!1})).on("click keyup",".logout_button",t=>{if(t.keyCode&&13!=t.keyCode)return!1;flash_fe_core_tool.$passport.removeCookie().then(t=>{flash_fe_core_tool.$passport.clearCookieObject(),flash_fe_core_tool.$telePassport.isGatekeeperLogin()?window.location.href=window.location.href:flash_fe_core_tool.$util.$coreMethods.authRedirect().then(t=>{}).catch(t=>{})}).catch(t=>{console.error(t)})}).on("click keyup",".account_button",(function(t){if(t.keyCode&&13!=t.keyCode)return!1;let e=flash_fe_core_tool.$util.$coreMethods.getAccountAbsolutePath(flash_fe_core_tool.$CONSTANT.URL.ACCOUNT.LANDING_PAGE.MAIN);window.commonHeader.isB2B&&(e=flash_fe_core_tool.$util.$coreMethods.getAbsolutePath(flash_fe_core_tool.$CONSTANT.URL.B2B.ACCOUNT.HOME)),flash_fe_core_tool.$util.$redirect.do(e)})).on("keydown",".header_skip_main",(function(t){13==t.keyCode&&($(".main_content").focus(),"fixed"==$(".commonHeader").css("position")&&window.scroll(0,0))})).on("click keyup",".WLH_entrance",(function(t){if(t.keyCode&&13!=t.keyCode)return!1;flash_fe_core_tool.$util.$redirect.do(flash_fe_core_tool.$CONSTANT.URL.WLH.ORDER_LIST)})),window.commonHeader.isB2B&&!window.commonHeader.isFtv){const t=$(".commonHeader");let o,i;t.on("mouseenter focus",".nav_item",(function(t){clearTimeout(o),clearTimeout(i),e($(this))})),t.on("mouseleave blur",".nav_item",(function(t){t.stopPropagation(),o=setTimeout(()=>{e()},150)})),$(".second_view").on("mouseenter",(function(t){clearTimeout(o)})),$(".second_view").on("focus",".second_list_item",(function(t){clearTimeout(o)})),$(".second_view").on("mouseleave blur",(function(t){t.stopPropagation(),i=setTimeout(()=>{e()},150)}))}window.commonHeader.isFtv&&($(".commonHeader").on("mouseenter focus",".nav_item",(function(t){const e=$(this).index();let o=$(".commonHeader").find(".second_view").eq(e);$(this).addClass("sup_nav_active").siblings(".nav_item").removeClass("sup_nav_active"),o.siblings(".second_view").removeClass("show"),o.children().length>0&&o.addClass("show extra_padding")})),$(".second_view").on("mouseleave blur",(function(t){t.stopPropagation(),$(".commonHeader").find(".second_view").removeClass("show extra_padding"),$(".commonHeader").find(".nav_item").removeClass("sup_nav_active")})),$(".commonHeader").on("mouseleave blur",(function(t){t.stopPropagation(),$(".commonHeader").find(".nav_item").removeClass("sup_nav_active")})));var l,d,h,u,_=document.querySelectorAll(".appmenu > li"),p=document.querySelectorAll(".appmenu > li .three_item"),f=9,m=13,v=27,g=32,w=37,y=38,b=39,C=40,T=function(t){const e=$(".appmenu > li").index($(".second_view.show .appmenu > li").eq(0)),o=e+$(".second_view.show .appmenu > li").length-1;l=Array.from(_).slice(e,o+1),t<e?t=o:t>o&&(t=e),_[t].querySelector("a").focus()},E=function(t,e){var o=t.querySelectorAll(".three_item");e==o.length?e=0:e<0&&(e=o.length-1),-1!=o[e].className.indexOf("screen_hot")?o[e].querySelector("a").focus():o[e].focus(),h=e};Array.prototype.forEach.call(_,(function(t,e){t.querySelector("a").addEventListener("focus",(function(t){return h=0,d=e,Array.prototype.forEach.call(_,(function(t,e){t.setAttribute("aria-expanded","false")})),"false"==this.parentNode.getAttribute("aria-expanded")&&-1!=this.parentNode.className.indexOf("hasMegamenu")?this.parentNode.setAttribute("aria-expanded","true"):this.parentNode.setAttribute("aria-expanded","false"),t.preventDefault(),!1})),t.querySelector("a").addEventListener("keydown",(function(t){var e=!1;switch(t.keyCode){case b:T(d+1),e=!0;break;case w:T(d-1),e=!0;break;case f:e=!0,t.shiftKey?_[d]===l[0]?e=!1:T(d-1):_[d]===l[_.length-1]?e=!1:T(d+1);break;case m:$(this).trigger("click"),e=!0;break;case C:h=0,E(this.nextElementSibling,h),e=!0;break;case y:var o=this.nextElementSibling;h=o.querySelectorAll(".three_item").length-1,E(o,h),e=!0;break;case v:document.querySelector(".header_skip_main").focus(),e=!0}e&&t.preventDefault()}))})),Array.prototype.forEach.call(p,(function(t,e){t.addEventListener("keydown",(function(t){switch(t.keyCode){case f:t.shiftKey?E(this.closest(".three_list"),h-1):E(this.closest(".three_list"),h+1),u=!0;break;case C:E(this.closest(".three_list"),h+1),u=!0;break;case y:E(this.closest(".three_list"),h-1),u=!0;break;case v:T(d),u=!0;break;case b:E(this.closest(".three_list"),h+1),u=!0;break;case w:E(this.closest(".three_list"),h-1),u=!0;break;case m:$(this).trigger("click"),u=!0;break;case g:u=!0}return u&&(t.preventDefault(),t.stopPropagation()),!1}))})),$(".utility_nav_item_icon[tabindex=0]").on("keyup",(function(t){t.keyCode==m&&($(this).attr("aria-expanded","true"),$(this).siblings(".popover").show())})),$(".utility_nav_item_icon").on("keyup",(function(t){t.keyCode==f&&($(".utility_nav_item_icon[tabindex=0]").siblings(".popover").hide(),$(".utility_nav_item_icon[tabindex=0]").attr("aria-expanded","false"),$(".utility_nav_item_store[data-utilitytype='8'] > a").attr("aria-expanded","false"),$(".utility_nav_item_store[data-utilitytype='8'] .popover").hide())})),$(".utilityLink").on("keyup",(function(t){t.keyCode==f&&($(".utility_nav_item_icon[tabindex=0]").siblings(".popover").hide(),$(".utility_nav_item_icon[tabindex=0]").attr("aria-expanded","false"),$(".utility_nav_item_store[data-utilitytype='8'] > a").attr("aria-expanded","false"),$(".utility_nav_item_store[data-utilitytype='8'] .popover").hide())})),$(".utility_nav_item_store[data-utilitytype='8'] > a").on("keyup",(function(t){$(this).attr("href")||(t.keyCode==m?($(this).attr("aria-expanded","true"),$(this).siblings(".popover").show()):t.keyCode==f&&($(this).siblings(".popover").hide(),$(this).attr("aria-expanded","false")))})),$(".sup_nav").on("keydown",".nav_item>a",(function(t){switch(t.keyCode){case C:t.stopPropagation(),$(".second_view.show .second_list_ul.appmenu:visible > :first-child>a").focus()}}));let S=document.querySelectorAll(".commonEspotContent");function P(){window.commonHeader.isB2B?flash_fe_core_tool.$util.$coreMethods.loginAction().then(t=>{$('.utility_nav_item_icon[data-utilitytype="1"]').append('<div class="successIcon successIcon_account" style="bottom:-2px; right:-6px"></div>')}).catch(t=>{t.msg&&console.log(t.msg)}):(flash_fe_core_tool.$util.$coreMethods.loginAction().then(t=>{flash_fe_core_tool.$queue.add(flash_fe_core_tool.$http.jsonp,{params:flash_fe_core_tool.$util.$coreMethods.getRequestPrefix()+"/v1/profile",delay:2e3}).then(t=>{if(200==t.status){let e=flash_fe_core_tool.$util.$coreMethods.getMetaContent("lenovo.country"),o=t.data.firstName?translate("Hi")+", "+t.data.firstName+"!":"";"jp"==e&&(o=t.data.lastName?translate("Hi")+", "+t.data.lastName+translate("respectSign")+"!":""),""!=o&&$('.utility_nav_item_icon[data-utilitytype="1"]:visible').length&&$('.utility_nav_item_icon[data-utilitytype="1"]').before('<span class="userMSG">'+o+"</span>")}}).catch(t=>{t.msg&&console.error(t.msg)})}).catch(t=>{t.msg&&console.error(t.msg)}),$(".WLH_entrance").length&&$(".WLH_entrance").hide(),flash_fe_core_tool.$Api.getStoreInfo().then(t=>{var e;"1"===(null===(e=t.data)||void 0===e?void 0:e.Account["Enable Role for WLH"])&&flash_fe_core_tool.$http.jsonp(flash_fe_core_tool.$util.$coreMethods.getRequestPrefix()+"/checkWLHRole").then(t=>{var e;"approver"===(null==t||null===(e=t.data)||void 0===e?void 0:e.toLowerCase())?$(".WLH_entrance").length&&$(".WLH_entrance").show():$(".WLH_entrance").length&&$(".WLH_entrance").hide()}).catch(t=>{console.log("get WLH Role err: ",t),$(".WLH_entrance").length&&$(".WLH_entrance").hide()})}).catch(t=>{console.log("WLH entry err: ",t)}))}Array.prototype.forEach.call(S,(function(t,e){if(t){let e=$(t);"undefined"!=typeof $$isdecorate&&e.addClass("espotFragment")}})),window.commonHeader.isB2B||flash_fe_core_tool.$util.$coreMethods.loginAction().then(t=>{flash_fe_core_tool.$queue.add(flash_fe_core_tool.$http.jsonp,{params:flash_fe_core_tool.$util.$coreMethods.getRequestPrefix()+"/v1/home/getMastheadloyalty",delay:2e3}).then(t=>{if(200==t.status&&t.data&&(!0===t.data.groupLoyaltyEnable||null===t.data.groupLoyaltyEnable&&!0===t.data.storeLoyaltyEnable)){let e=t.data.userRewards||"";""!=e&&$('.utility_nav_item_icon[data-utilitytype="2"]:visible').length&&($('.utility_nav_item_icon[data-utilitytype="2"]').before('<span class="userMSG">'+e+"</span>"),$('.utility_nav_item_icon[data-utilitytype="2"]').after('<div class="successIcon successIcon_rewards"></div>'))}}).catch(t=>{t.msg&&console.error(t.msg)})}).catch(t=>{t.msg&&console.error(t.msg)}),P(),flash_fe_core_tool.$event_publisher.on(flash_fe_core_tool.$CONSTANT.EVENT_PUBLISHER_KEY.BUY.CORE.LOGIN_STATUS,()=>{P(),$(".login_button").length&&$(".login_button").hide(),$(".logout_button").length&&$(".logout_button").show()});let x=$('.utility_nav_item[data-utilitytype="3"] .popoverContent');0!=x.length&&flash_fe_core_tool.$queue.add(flash_fe_core_tool.$Api.getStoreInfo,{delay:2e3}).then(t=>{if(x.each((e,o)=>{let i=$(o).html();i=i.replace(/{{SalesNumber}}/g,t.data.Store.SalesNumber||""),i=i.replace(/{{SmallBusinessNumber}}/g,t.data.Store.SmallBusinessNumber||""),i=i.replace(/{{CustomerSupportNumber}}/g,t.data.Store.CustomerSupportNumber||""),$(o).html(i)}),window.commonHeader.isB2B){let t=$(".utility_nav .contact_button"),e=$(".utility_nav .accountTeam_button"),o=$(".utility_nav .customize_button"),i=$('.utility_nav_item[data-utilitytype="3"]');t.length>0&&(""===t[0].textContent.trim()||" "===t[0].textContent||"&nbsp;"===t[0].textContent||t[0].textContent.length<1)?t.hide():t.show(),e.length>0&&(""===e[0].textContent.trim()||" "===e[0].textContent||"&nbsp;"===e[0].textContent||e[0].textContent.length<1)?e.hide():e.show(),o.length>0&&(""===o[0].textContent.trim()||" "===o[0].textContent||"&nbsp;"===o[0].textContent||o[0].textContent.length<1)?o.hide():o.show(),t.length>0&&(""===t[0].textContent.trim()||" "===t[0].textContent||"&nbsp;"===t[0].textContent||t[0].textContent.length<1)&&e.length>0&&(""===e[0].textContent.trim()||" "===e[0].textContent||"&nbsp;"===e[0].textContent||e[0].textContent.length<1)&&o.length>0&&(""===o[0].textContent.trim()||" "===o[0].textContent||"&nbsp;"===o[0].textContent||o[0].textContent.length<1)?i.hide():i.show()}}).catch(t=>{t.msg&&console.error("rewrite contact content error: ",t.msg)}),flash_fe_core_tool.$Api.getStoreInfo().then(t=>{$(".header_lenovoLogo").attr("href",flash_fe_core_tool.$util.$redirect.dealGroupId(flash_fe_core_tool.$util.$coreMethods.getAbsolutePath(t.data.CMS.HeaderLogoURL)))}),$(".header_lenovoLogo").on("click keyup",(function(t){if(t.keyCode&&13!=t.keyCode)return!1;$(".header_lenovoLogo").attr("href")&&flash_fe_core_tool.$util.$redirect.do(res.data)}));let N,L,k=$(".commonHeader").find(".utility_nav:visible .utility_nav_item[data-utilitytype='7']"),A=$(".miniCart_container");function O(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];window.commonHeader.isCartPage||flash_fe_core_tool.$AsyncLoadFileManagement.load($miniCartUrl).then(()=>{L=new MiniCart({container:document.querySelector(".miniCartPlaceholder")}),A=$(".miniCart_container"),k.append($(".miniCartPlaceholder")),k.find(".popover").remove(),k.siblings(".utility_nav_item").hover((function(t){flash_fe_core_tool.$event_publisher.broadcast(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_DISPLAY,{_isShow:!1})})),A.hover((function(t){flash_fe_core_tool.$event_publisher.broadcast(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_DISPLAY,{_isShow:!0})})),k.mouseleave((function(t){flash_fe_core_tool.$event_publisher.broadcast(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_DISPLAY,{_isShow:!1})})),t&&flash_fe_core_tool.$event_publisher.broadcast(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_ADDTOCART,{_showMiniCart:!0}),$(".commonHeader").on("focus",".utility_nav_item[data-utilitytype='7'] .utilityLink",(function(t){console.log("Focus minicart"),A.removeClass("fixedMiniCart"),flash_fe_core_tool.$event_publisher.broadcast(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_DISPLAY)})),k.find(".utilityLink").on("keydown",(function(t){40==t.keyCode&&(t.preventDefault(),$(".commonHeader ").find(".miniCart_container .content .pagination .number").focus())}))}).catch(t=>{console.warn("async load miniCart js error",t)})}flash_fe_core_tool.$Api.getStoreInfo().then(t=>{var e;"1"===(null===(e=t.data)||void 0===e||null===(e=e.Cart)||void 0===e?void 0:e.EnableMiniCart)&&(k.find(".utilityLink").length?k.find(".utilityLink").append('<span class="c_i_num"></span>'):k.append('<span class="c_i_num"></span>'),N=$(".commonHeader").find(".c_i_num"),function(t){flash_fe_core_tool.$http.jsonp(flash_fe_core_tool.$util.$coreMethods.getRequestPrefix()+"/api/cart/count","callback",{},!0).then(e=>{t.text(e.data),e.data>0?t.show():t.hide()}).catch(t=>{console.error("get mini cart count error",t)})}(N),flash_fe_core_tool.$event_publisher.on(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_GETDATA,t=>{N.text(t.itemsCount),t.itemsCount>0?N.show():N.hide()}),k.find(".utility_nav_item_icon,.c_i_num").hover((function(t){A.removeClass("fixedMiniCart"),L||O(),flash_fe_core_tool.$event_publisher.broadcast(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_DISPLAY,{_isShow:!0})})),flash_fe_core_tool.$event_publisher.on(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_ADDTOCART,t=>{L||O(!0)}),$(".commonHeader").on("focus",".utility_nav_item[data-utilitytype='7'] .utilityLink,.utility_nav_item[data-utilitytype='7'] > .utility_nav_item_icon",(function(t){console.log("Focus minicart"),A.removeClass("fixedMiniCart"),flash_fe_core_tool.$event_publisher.broadcast(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_DISPLAY)})),flash_fe_core_tool.$event_publisher.on(flash_fe_core_tool.$CONSTANT.CUSTOMER_EVENT_KEY.BUY.CART.MINI_CART_ADDTOCART,t=>{t._showMiniCart&&!window.commonHeader.isFixed&&$(window).scrollTop()>window.commonHeader.height?A.addClass("fixedMiniCart"):A.removeClass("fixedMiniCart")}))}).catch(t=>{console.warn("get store info error",t)}),n.init($(".lang_entry_container"),1,flash_fe_core_tool.$CONSTANT.TERMINAL.PC),flash_fe_core_tool.$Api.getStoreInfo().then(t=>{var e;let o=$(".commonHeader").find(".utility_nav:visible .utility_nav_item[data-utilitytype=6]");"1"===(null==t||null===(e=t.data)||void 0===e?void 0:e.CMS["Wish List"])?(o.children().remove(),function(t,e){let o=$(t);if(e=e||flash_fe_core_tool.$CONSTANT.TERMINAL.PC,!o.length)return;let i={isShowProductWish:!0,renderWishEl:o,showViewText:!0,isHideWishIconShadow:!0,isRemoveWishGaming:!0,isHoverShowWishPop:!0,isHamburgerType:e==flash_fe_core_tool.$CONSTANT.TERMINAL.MOBILE},n=new s.a({},i,{});n.init(o),e==flash_fe_core_tool.$CONSTANT.TERMINAL.MOBILE&&n.initPopover(!1)}(o,flash_fe_core_tool.$CONSTANT.TERMINAL.PC)):o.remove()}).catch(t=>{console.warn("get store info error",t)}),function(){try{flash_fe_core_tool.$AsyncLoadFileManagement.load("".concat(flash_fe_core_tool.$adobe.getAdobeVersionPath(headerAdobePath))).then(t=>{_header_adobe_tool.init()}).catch(t=>{console.log("adobe load error in component commonHeader",t)})}catch(t){console.log("adobe load error in component commonHeader",t)}}()}))}}]).default}));
