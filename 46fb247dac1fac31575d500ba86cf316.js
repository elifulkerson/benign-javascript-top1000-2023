!function(e,o){"object"==typeof exports&&"object"==typeof module?module.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?exports.commonFooter=o():e.commonFooter=o()}(window,(function(){return function(e){var o={};function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,o){if(1&o&&(e=t(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)t.d(n,r,function(o){return e[o]}.bind(null,r));return n},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},t.p="",t(t.s=2)}([function(e,o,t){},function(e,o,t){},function(e,o,t){"use strict";t.r(o);t(0),t(1);var n=function(e){try{flash_fe_core_tool.$AsyncLoadFileManagement.load("".concat(flash_fe_core_tool.$adobe.getAdobeVersionPath(footeradobePath))).then(e=>{_footer_adobe_tool.init()})}catch(e){console.log("footer:"+JSON.stringify(e))}let o=e,t=navigator.userAgent,n=(t.indexOf("Android")>-1||t.indexOf("Adr"),!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)),r=flash_fe_core_tool.$util.$coreMethods.isApp(),c=/^([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\_|\.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,3}$/,l=(flash_fe_core_tool.$util.$coreMethods.getMetaContent("storeinfo.storeid"),flash_fe_core_tool.$util.$coreMethods.getMetaContent("lc")),a=flash_fe_core_tool.$util.$coreMethods.getMetaContent("cc"),s=null;flash_fe_core_tool.$util.$coreMethods.getMetaContent("siteRoot");let i="";const _="/"+a+"/"+l;let d="";if(o!=flash_fe_core_tool.$CONSTANT.TERMINAL.TABLET){let e=$(".commonFooter ul.social_icon"),t=$(".commonFooter ul.social_icon>li").length,n=8;o==flash_fe_core_tool.$CONSTANT.TERMINAL.MOBILE&&(n=6),t&&t>n&&e.css("width",45*Math.ceil(t/2)+"px")}let f=flash_fe_core_tool.$util.$coreMethods.checkStoreType().isPublic,m=!!$(".single-sku-hero-content").length,h=!!$(".subseries-hero-content").length;if(f&&(m||h)){let e=flash_fe_core_tool.$util.$coreMethods.getPageName().split("/").pop();flash_fe_core_tool.$queue.add(flash_fe_core_tool.$http.jsonp,{params:flash_fe_core_tool.$util.$coreMethods.getRequestPrefix()+"/online/product/getVenderIcons?productNumber="+e,delay:2e3}).then(e=>{if(200==e.status&&e.data.length){let o="";e.data.forEach(e=>{o+='<div class="parterLogos_item">\n\t\t\t\t\t\t\t\t\t\t<img tabindex="0" aria-label="'.concat(e.iconAlt,'" src="').concat(e.iconUrl,'" alt="').concat(e.iconAlt,'"/>\n\t\t\t\t\t\t\t\t\t</div>')}),$(".commonFooter .parterLogos_list").empty().append(o)}}).catch(e=>{console.log("get vendor logo error:",e)})}o==flash_fe_core_tool.$CONSTANT.TERMINAL.MOBILE&&(r?$(".commonFooter .software_download").hide():n?$(".commonFooter .and_goole_play").hide():$(".commonFooter .ios_app_store").hide()),flash_fe_core_tool.$queue.add(flash_fe_core_tool.$Api.getStoreInfo,{delay:2e3}).then(e=>{"1"===e.data.CMS["Footer Contact Info Toggle"]&&$(".pc_footer_nav").after('<div class="footer_Contact"><div>'.concat(e.data.CMS["Footer Contact Info"],"</div></div>"))}).catch(e=>{e.msg&&console.error(e.msg)}),$(".commonFooter").find(".pc_footer_nav a[target='_blank']").attr("aria-description","opens in a new tab"),Promise.all(flash_fe_core_tool.$util.$dom.loadImg($(".commonFooter"))).then().catch();let u=document.createElement("template");try{flash_fe_core_tool.$AsyncLoadFileManagement.load(flash_fe_core_tool.$domain.getDomain(3)+"/t_/"+flash_fe_core_tool.$util.$coreMethods.getMetaContent("lenovo.language")+"_"+flash_fe_core_tool.$util.$coreMethods.getMetaContent("lenovo.country")+"/SystemFragment/countryList/select_list.html").then(e=>{if(e&&u){u.innerHTML=e;let o=$(u.content).find('li[data-key="'.concat(_,'"]'));o.length>0&&($(u.content).find('li[data-key="'.concat(_,'"]')).remove(),i=o.text(),o.addClass("active"),d=o.data("img"),d&&$("#selectLogo").attr("src",d),u.content.insertBefore(o[0],u.content.firstChild)),i?($(".commonFooter .select_country #checked_select").html(i),$(".commonFooter .select_country #checked_select").show(),$(".commonFooter .select_country #no_checked_select").hide()):($(".commonFooter .select_country #checked_select").hide(),$(".commonFooter .select_country #no_checked_select").show())}})}catch(e){console.log("load countryList error",e)}$('.commonFooter a[target="_blank"]').attr("social_icon_key","footer.social.befofre.content").attr("social_icon_before_content",translate("footer.social.befofre.content")||"open in new tab");const p=$(".commonFooter .le_input input[type='text']"),g=$(".commonFooter #selectList");function y(){let e="";return e=$(".common_footer .account").val(),""==e.trim()?($(".empty_email_message").css("display","block"),$(".err_email_message").css("display","none"),$(".enter_email .select_view").addClass("select_view_error"),void $(".enter_email .select_view form>label").addClass("err_email")):($(".empty_email_message").css("display","none"),$(".enter_email .select_view").removeClass("select_view_error"),$(".enter_email .select_view form>label").removeClass("err_email"),1!=c.test(e)?($(".err_email_message").css("display","block"),$(".empty_email_message").css("display","none"),$(".enter_email .select_view").addClass("select_view_error"),void $(".enter_email .select_view form>label").addClass("err_email")):($(".err_email_message").css("display","none"),s="https://gp.wd.lenovo.com/".concat(l,"/signup/comems15v2243?country_iso2=").concat(a,"&email=").concat(e,"&enableOverflowScrolling=true"),void(3==o||2==o?($("#footer_mask_iframe").attr({src:s,width:"100%",height:"100%"}),$("#footerMask").show()):1==o&&($("#footer_mask_iframe").attr({src:s,width:"600px",height:"600px"}),$("#footerMask").show()))))}$(".commonFooter ul.social_icon a").on("keydown",(function(e){if(13==e.keyCode){let e=$(this).attr("_lazy_href");flash_fe_core_tool.$util.$coreMethods.doRedirect(e)}})),$(".commonFooter .footer_footer .inter").on("keydown",(function(e){if(13==e.keyCode){let e=$(this).find("a").attr("_lazy_href");flash_fe_core_tool.$util.$coreMethods.doRedirect(e)}})),$(".commonFooter .copyright .link a").on("keydown",(function(e){if(13==e.keyCode){let e=$(this).attr("_lazy_href");flash_fe_core_tool.$util.$coreMethods.doRedirect(e)}})),$(".commonFooter .copyright .link a").on("click",(function(e){let o=$(this).attr("_lazy_href");flash_fe_core_tool.$util.$coreMethods.doRedirect(o)})),$(".commonFooter div.pc_footer_nav .item ul li").on("keydown",(function(e){if(13==e.keyCode){let e=$(this).find("a").attr("_lazy_href");flash_fe_core_tool.$util.$coreMethods.doRedirect(e)}})),p.on("focus",(function(){$(this).parent(".input_box").addClass("focus")})).on("blur",(function(){this.value.length||$(this).parent(".input_box").removeClass("focus")})),$(".common_footer .toggle_mask_icon").on("click",(function(e){e.stopPropagation(),y()})),$(".common_footer .account").on("keydown",(function(e){e.keyCode&&13===e.keyCode&&y()})),$(".common_footer #footer_nav .item .title").on("click",(function(){$(this).toggleClass("title_toogle"),$(this).next().toggle("fast")})),$(".common_footer .select_view").on("click",(function(e){e.stopPropagation(),$(this).addClass("afocus"),"country"==$(this).attr("_type")&&(0===$(".commonFooter #selectList li").length&&u.innerHTML&&$(".commonFooter #selectList").html(u.innerHTML),$(".commonFooter #selectList").toggle(),"true"==$(this).attr("aria-expanded")?$(this).attr("aria-expanded","false"):$(this).attr("aria-expanded","true"))})),$(".common_footer #countrySelect").on("keydown",(function(e){13==e.keyCode&&(e.stopPropagation(),$(".select_view").css({border:"1px solid #BCBCBC"}),$(this).css({border:"1px solid #1976A1"}),"country"==$(this).attr("_type")&&(0===$(".commonFooter #selectList li").length&&u.innerHTML&&$(".commonFooter #selectList").html(u.innerHTML),g.toggle(),"true"==$(this).attr("aria-expanded")?$(this).attr("aria-expanded","false"):$(this).attr("aria-expanded","true")))})),$(document).on("click",(function(){g.hide(),setTimeout(()=>{$(".select_view").removeClass("afocus").attr("aria-expanded","false"),""==$(".commonFooter .account").val().trim()?$(".enter_email .select_view").removeClass("hasInputValue"):$(".enter_email .select_view").addClass("hasInputValue"),$(".enter_email .select_view").removeClass("select_view_error"),$(".empty_email_message,.err_email_message").hide(),$(".enter_email .select_view form>label").removeClass("err_email")},10)})),$(".common_footer .closeIframe").on("click",(function(){$(".footer").show(),$("#footerMask").hide()})),$(".common_footer .closeIframe").on("keydown",(function(e){$(".footer").show(),13==e.keyCode&&$("#footerMask").hide()})),g.on("click","li",(function(e){e.stopPropagation(),$(this).addClass("active").siblings().removeClass("active");let o=$(this).html();$("#checked_select").html(o),$("#checked_select").show(),$("#no_checked_select").hide(),o||($("#checked_select").hide(),$("#no_checked_select").show()),g.toggle();let t=$(this).attr("_lazy_href");flash_fe_core_tool.$util.$coreMethods.doRedirect(t)})),g.on("keydown","li",(function(e){if(e.stopPropagation(),13==e.keyCode){$(this).addClass("active").siblings().removeClass("active");let e=$(this).html();$("#checked_select").html(e),$("#checked_select").show(),$("#no_checked_select").hide(),e||($("#checked_select").hide(),$("#no_checked_select").show()),g.toggle();let o=$(this).attr("_lazy_href");flash_fe_core_tool.$util.$coreMethods.doRedirect(o)}}))};var r={el:"",datas:{},init(e,o){this.el=e,flash_fe_core_tool.$util.$coreMethods.isApp()?$(".commonFooter").addClass("hidefooter"):this.registerEvent()},registerEvent(){n(flash_fe_core_tool.$CONSTANT.TERMINAL.PC)}};o.default=function(e,o){r.init(e,o)}}]).default}));
