(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([["cozy_coco_components_PromoBanner_PromoBanner_tsx-cozy_shared_components_common_MerchantisedCa-a864ee"],{"./cozy/coco/components/Header/HeaderV2.tsx":function(e,t,o){"use strict";o.d(t,{Z:function(){return p}});var n=o("./cozy/utils/Date.tsx"),i=o("./node_modules/styled-components/dist/styled-components.browser.esm.js");const c=i.ZP.div.withConfig({displayName:"HeaderV2__Wrapper",componentId:"x3t4lj-0"})(["display:flex;flex-direction:column;margin-bottom:8px;"]),s=i.ZP.h2.withConfig({displayName:"HeaderV2__Title",componentId:"x3t4lj-1"})(["font-weight:700;font-size:20px;line-height:24px;letter-spacing:0.01em;color:",";margin:0 0 4px 0;"],(e=>{let{theme:t}=e;return t.black})),r=i.ZP.h2.withConfig({displayName:"HeaderV2__SubTitle",componentId:"x3t4lj-2"})(["font-weight:400;font-size:16px;line-height:24px;letter-spacing:0.005em;color:",";margin:0 0 4px 0;"],(e=>{let{theme:t}=e;return t.black})),d=i.ZP.div.withConfig({displayName:"HeaderV2__SubTitleWrapper",componentId:"x3t4lj-3"})(["display:flex;flex-wrap:wrap;column-gap:6px;align-items:baseline;"]);var l=o("./cozy/coco/components/DesignSpec/CountdownTimerSpec.tsx"),a=o("./node_modules/react/jsx-runtime.js"),p=e=>{let{titleTextSpec:t,subTitleTextSpec:o,countdownTimerSpec:i,onClick:p}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(s,{onClick:p,children:null==t?void 0:t.text}),(0,a.jsxs)(d,{children:[(0,a.jsx)(r,{onClick:p,children:null==o?void 0:o.text}),i&&(0,a.jsx)(l.Z,{countdownTimerSpec:{...i,...i&&i.urgency_expiry&&(0,n.DI)(i.urgency_expiry)&&i.urgency_text_color?{text_color:i.urgency_text_color}:{}}})]})]})}},"./cozy/coco/components/PromoBanner/PromoBanner.tsx":function(e,t,o){"use strict";var n=o("./node_modules/react/index.js"),i=o("./node_modules/react-router/esm/react-router.js"),c=o("./node_modules/react-redux/es/index.js"),s=o("./cozy/coco/components/Button/Button.tsx"),r=o("./cozy/coco/components/PromoCodeButton/PromoCodeButton.tsx"),d=o("./cozy/coco/components/DesignSpec/TextSpec.tsx"),l=o("./cozy/coco/styles/DesignSpec.tsx"),a=o("./cozy/data/constants/PromoBannerConstants.tsx"),p=o("./cozy/data/services/AnalyticsService.tsx"),u=o("./cozy/utils/lottie/Lottie.tsx"),x=o("./cozy/utils/URL.tsx"),_=o("./cozy/data/services/GetPopupDialogSpecService.tsx"),m=o("./cozy/data/actions/BottomSheetActions.tsx"),h=o("./node_modules/react/jsx-runtime.js");t.Z=(0,c.$j)(null,(e=>({launchPopupDialog:t=>e((0,m.D)(t))})))((e=>{var t,o,c,m,g,v,y,b,f,j,S,T,z,C,w,P,k,I,Z,B;let{promoBannerItem:A,bannerWidth:D,onClickUnlockCtaButton:R,launchPopupDialog:L}=e;const{spec_data:H,impression_event_id:N,click_event_id:E,log_info:M,action_url:W,deeplink:O}=A,V=(0,i.k6)(),F=Boolean((null==H||null===(t=H.background_media_spec)||void 0===t?void 0:t.media_type)===a.oZ.ANIMATION),U=(0,n.useRef)(null),G=(0,n.useRef)(null);(0,n.useEffect)((()=>{var e;(0,p.y)(N,M),F&&(0,u.m)(G.current,(()=>{}),u.v.STATIC_URL_SOURCES,null==H||null===(e=H.background_media_spec)||void 0===e?void 0:e.media_url)}),[]);const Y=H.cta_spec?H.disclaimer_text_spec?a.Er.MFP:a.Er.MERCH:a.Er.SWS;return(0,h.jsx)(l.Y6,{onClick:e=>(e=>{var t;if(E&&(0,p.y)(E,M),null!=O&&O.includes("popup-dialog")){const e=(0,x.s6)(O,"source"),t=parseInt(e);"INTERNAL"===(0,x.qf)(O)&&null!=t&&Object.values(_.H).includes(t)&&L(t)}else W&&V.push(W);null==U||null===(t=U.current)||void 0===t||t.onFirePromoCodeCopy(e)})(e),children:(0,h.jsxs)(l.Ae,{backgroundSpec:H.background_media_spec,alignDirection:null==H||null===(o=H.ui_layout_constraints_spec)||void 0===o?void 0:o.align_direction,children:[F&&(0,h.jsx)(l.K1,{ref:G,bannerWidth:D}),(0,h.jsxs)(l.fq,{bannerType:Y,alignDirection:null===(c=H.ui_layout_constraints_spec)||void 0===c?void 0:c.align_direction,children:[H.title_text_spec&&(0,h.jsx)(d.Z,{textSpec:H.title_text_spec,overrideStyle:{letterSpacing:"0.01em",color:null===(m=H.title_text_spec)||void 0===m?void 0:m.text_color,fontWeight:800}}),H.subtitle_text_spec&&(0,h.jsx)(d.Z,{textSpec:H.subtitle_text_spec,overrideStyle:{letterSpacing:"0.005em",color:null===(g=H.subtitle_text_spec)||void 0===g?void 0:g.text_color,display:H.coupon_text_spec?"inline-flex":""}}),H.coupon_text_spec?(0,h.jsxs)(h.Fragment,{children:[H.coupon_text_spec&&(0,h.jsx)(r.Z,{ref:U,promoCode:null===(v=H.coupon_text_spec)||void 0===v?void 0:v.text,withCopyIcon:!1,withDashedBorder:!1,withCheckIcon:!1,overrideStyles:{display:"inline-flex",marginTop:"8px",marginLeft:"4px",marginBottom:"21px",height:"20px",fontWeight:600,fontSize:"".concat(null===(y=H.coupon_text_spec)||void 0===y?void 0:y.text_size,"px"),lineHeight:"".concat(null===(b=H.coupon_text_spec)||void 0===b?void 0:b.line_height,"px"),color:null===(f=H.coupon_text_spec)||void 0===f?void 0:f.text_color,padding:"4px ".concat(null===(j=H.coupon_text_spec.dimension_spec)||void 0===j?void 0:j.padding_trailing,"px 4px ").concat(null===(S=H.coupon_text_spec.dimension_spec)||void 0===S?void 0:S.padding_leading,"px")}}),H.expiry_text_spec&&(0,h.jsx)(d.Z,{textSpec:H.expiry_text_spec,overrideStyle:{letterSpacing:"0.005em",color:null===(T=H.expiry_text_spec)||void 0===T?void 0:T.text_color}})]}):(0,h.jsxs)(h.Fragment,{children:[H.cta_spec&&(0,h.jsx)(s.ZP,{clickEventId:E,onClick:()=>{O&&R&&R(O),W&&V.push(W)},overrideStyle:{marginBottom:H.disclaimer_text_spec?"6px":0,background:null===(z=H.cta_spec)||void 0===z?void 0:z.background_color,color:null===(C=H.cta_spec)||void 0===C?void 0:C.text_color,borderRadius:null===(w=H.cta_spec)||void 0===w?void 0:w.corner_radius,padding:"".concat(null===(P=H.cta_spec)||void 0===P?void 0:P.padding_top,"px ").concat(null===(k=H.cta_spec)||void 0===k?void 0:k.padding_right,"px"),fontSize:null===(I=H.cta_spec)||void 0===I?void 0:I.text_size,fontWeight:600,height:"20px",letterSpacing:"0.005em"},children:null===(Z=H.cta_spec)||void 0===Z?void 0:Z.text}),H.disclaimer_text_spec&&(0,h.jsx)(d.Z,{textSpec:H.disclaimer_text_spec,overrideStyle:{letterSpacing:"0.005em",color:null===(B=H.disclaimer_text_spec)||void 0===B?void 0:B.text_color}})]})]})]})})}))},"./cozy/shared/components/common/MerchantisedCarousel/MerchandisedCarouselContainer.tsx":function(e,t,o){"use strict";var n=o("./node_modules/react/index.js"),i=o("./node_modules/react-router/esm/react-router.js"),c=o("./cozy/coco/components/Button/Button.tsx"),s=o("./cozy/coco/components/Header/HeaderV2.tsx"),r=o("./cozy/coco/components/DotLoader/DotLoader.tsx"),d=o("./node_modules/react-redux/es/index.js"),l=o("./cozy/data/selectors/FeedSelectors.tsx"),a=o("./cozy/data/selectors/BrowserSelectors.tsx"),p=o("./cozy/shared/styles/common/TabbedContainer.tsx"),u=o("./cozy/shared/components/common/homepageV2/ProductTray.tsx"),x=o("./cozy/data/services/AnalyticsService.tsx"),_=o("./cozy/utils/i18n.tsx"),m=o("./cozy/utils/Device.tsx"),h=o("./node_modules/react/jsx-runtime.js");t.Z=(0,d.$j)((e=>({containerWidth:(0,l.nq)(e),shouldRenderMobileComponent:(0,a.LG)(e)})))((e=>{let{containerWidth:t,shouldRenderMobileComponent:o,merchandisedCarouselSpec:d}=e;const l=(0,i.k6)(),a=(0,i.TH)(),g=(0,m.EF)(a);(0,n.useEffect)((()=>{const e=null==d?void 0:d.impression_event_id;e&&(0,x.y)(e)}),[]);let v;g&&(v=null==d?void 0:d.action_url);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(p.im,{containerWidth:t,children:[(0,h.jsx)(s.Z,{titleTextSpec:d.title_text_spec,subTitleTextSpec:d.subtitle_text_spec,countdownTimerSpec:null==d?void 0:d.countdown_timer_spec}),d&&(d.isLoading?(0,h.jsx)(p.zs,{children:(0,h.jsx)(r.Z,{overrideStyle:{margin:"auto"}})}):0===(null===(y=d.item_specs)||void 0===y?void 0:y.length)?(0,h.jsxs)(p.zs,{children:[(0,h.jsx)(p.hY,{children:(0,_.et)("Error loading products for merchandised carousel","An error occurred while loading")}),(0,h.jsx)(c.ZP,{color:c.fV.ATLAS_PRIMARY,onClick:()=>{},bold:!0,rounded:!0,children:(0,_.et)("Retry button to fetch merchandised product","TRY AGAIN")})]}):(0,h.jsx)(u.Z,{productTileSpecs:d.item_specs,actionSpec:d.action_text_spec,onClickActionText:()=>{g||null!=d&&d.action_url&&l.push(null==d?void 0:d.action_url)},to:v}))]}),o&&(0,h.jsx)(p.dv,{})]});var y}))},"./cozy/shared/components/common/homepageV2/ProductTray.tsx":function(e,t,o){"use strict";o.d(t,{Z:function(){return b}});var n,i,c=o("./node_modules/react/index.js"),s=o("./node_modules/react-redux/es/index.js"),r=o("./cozy/coco/components/ItemCarousel/ItemCarousel.tsx"),d=o("./cozy/coco/components/DesignSpec/TextSpec.tsx"),l=o("./cozy/shared/components/feedTile/FeedTileSwitch.tsx"),a=o("./cozy/data/selectors/BrowserSelectors.tsx"),p=o("./cozy/data/selectors/ProductSelectors.tsx"),u=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),x=o("./cozy/shared/styles/Utils.tsx"),_=o("./cozy/shared/styles/Mixins.tsx");function m(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}const h=u.ZP.div.withConfig({displayName:"ProductTray__Wrapper",componentId:"sc-1kt42j1-0"})(["",";margin-top:15px;"],_.nf),g=u.ZP.div.withConfig({displayName:"ProductTray__ProductStripItem",componentId:"sc-1kt42j1-1"})([""," height:100%;"," ",""],(e=>{let{dimensions:t}=e;return"width: ".concat(t,"px;")}),x.cy.mobile(n||(n=m(["\n  ","\n"])),(e=>{let{hasPaddingLeft:t,position:o}=e;return 0===o?t?"margin: 5px 8px 0 5px;":"margin: 5px 8px 0 0;":"margin: 5px 8px 0 5px;"})),x.cy.desktop(i||(i=m(["\n  margin: 7px 11px 0 5px;\n  "]))));var v=o("./cozy/data/constants/FeedConstants.tsx"),y=o("./node_modules/react/jsx-runtime.js"),b=(0,s.$j)((e=>({shouldRenderMobileComponent:(0,a.LG)(e)})))((e=>{let{shouldRenderMobileComponent:t,productTileSpecs:o,actionSpec:n,onClickActionText:i,to:a}=e;const u=t?v.Mn:v.$6,x=o&&o[0],{topPinSpec:_}=(0,s.v9)((e=>({topPinSpec:(0,p.n$u)(e,null!=x?x:"")}))),m=(0,c.useMemo)((()=>null==o?void 0:o.map(((e,o)=>{const n=0===o&&Boolean(_);return(0,y.jsx)(g,{dimensions:u,position:o,hasPaddingLeft:n,children:(0,y.jsx)(l.Z,{originalPid:e,pid:e,position:o,feedTileComponentID:"related-product-".concat(o),hasBorderRadius:t,isRounded:!0,hasNoBoxShadow:!0})},e)}))),[o]);return(0,y.jsxs)(h,{children:[m&&(0,y.jsx)(r.ZP,{forceHorizontal:!0,entries:m,rotate:!0,overrideStyle:{padding:"5px 5px 5px 0px"},isHomepageV2:!0,autoResetScroll:!0,isSwipeable:t,arrowPosition:r.ZV.SIDE_WITH_CIRCLE,hideRightArrowIfNoItemOverflown:!t}),(0,y.jsx)(d.Z,{textSpec:n,overrideStyle:{justifyContent:t?"center":"left",padding:"10px 0"},onClick:i,to:a})]})}))},"./cozy/shared/components/common/homepageV2/TabbedContainer.tsx":function(e,t,o){"use strict";o.d(t,{Z:function(){return C}});var n=o("./node_modules/react/index.js"),i=o("./node_modules/react-router/esm/react-router.js"),c=o("./node_modules/react-redux/es/index.js"),s=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),r=o("./cozy/shared/styles/Mixins.tsx");const d=s.ZP.div.withConfig({displayName:"TabBar__Wrapper",componentId:"mr6iit-0"})(["",";height:",";width:100%;background-color:",";display:flex;flex:0 0 auto;overflow-x:auto;z-index:",";",";"],r.DH,(e=>{let{theme:t}=e;return t.mobileTabbedModuleTabHeight}),(e=>{let{theme:t}=e;return t.white}),(e=>{let{theme:t}=e;return t.zIndexBase3}),(e=>{let{theme:t}=e;return"border-bottom: 1px solid ".concat(t.palettesGrey300)})),l=(0,s.iv)(["",";",";"],r.nf,(e=>{let{theme:t}=e;return"border-bottom: 2px solid ".concat(t.palettesBlue500)})),a=s.ZP.h2.withConfig({displayName:"TabBar__TabItem",componentId:"mr6iit-1"})(["",";height:100%;color:",";padding:0 17px;&:first-child{padding-left:0;}white-space:nowrap;font-size:14px;font-weight:600;justify-content:start;flex-grow:0;cursor:pointer;"],r.qO,(e=>{let{theme:t}=e;return t.palettesGrey900})),p=s.ZP.span.withConfig({displayName:"TabBar__TabTitle",componentId:"mr6iit-2"})(["position:relative;padding-bottom:13px;:after{position:absolute;left:0;bottom:0;width:100%;height:1px;border-radius:4px;",";content:'';}"],(e=>{let{isSelected:t}=e;return t&&l}));var u=o("./node_modules/react/jsx-runtime.js"),x=e=>{let{items:t,selected:o,onClick:n}=e;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(d,{children:t.map(((e,t)=>(0,u.jsx)(a,{"data-id":e.tab_id,onClick:e=>((e,t)=>{n(e.currentTarget.dataset.id,t)})(e,t),isSelected:e.tab_id===o,id:"tabbar-".concat(e.tab_id),children:(0,u.jsx)(p,{isSelected:e.tab_id===o,children:e.title.text})},e.tab_id)))})})},_=o("./cozy/coco/components/Button/Button.tsx"),m=o("./cozy/coco/components/Header/HeaderV2.tsx"),h=o("./cozy/coco/components/DotLoader/DotLoader.tsx"),g=o("./cozy/data/selectors/FeedSelectors.tsx"),v=o("./cozy/data/selectors/BrowserSelectors.tsx"),y=o("./cozy/shared/styles/common/TabbedContainer.tsx"),b=o("./cozy/shared/components/common/homepageV2/ProductTray.tsx"),f=o("./cozy/data/services/AnalyticsService.tsx"),j=o("./cozy/data/selectors/UniversalHomepageSelectors.tsx"),S=o("./cozy/data/actions/UniversalHomepageActions.tsx"),T=o("./cozy/utils/i18n.tsx"),z=o("./cozy/utils/Device.tsx"),C=(0,c.$j)((e=>({selectedTabs:(0,j.h3)(e),containerWidth:(0,g.nq)(e),shouldRenderMobileComponent:(0,v.LG)(e)})),(e=>({loadTabProducts:(t,o,n,i,c,s)=>e((0,S.loadUniversalHomepageTabProducts)(t,o,n,i,c,s)),setSelectedTab:(t,o)=>e((0,S.setUniversalHomepageSelectedTab)(t,o))})))((e=>{let{selectedTabs:t,containerWidth:o,shouldRenderMobileComponent:c,tabbedContainerSpec:s,moduleID:r,loadTabProducts:d,setSelectedTab:l}=e;const a=(0,i.k6)(),p=(0,i.TH)(),g=(0,z.EF)(p),v=(0,n.useRef)(1),j=t&&t[r]?t[r]:0;let S=s.tabs[j];const C=(e,t,o)=>{var n;const i=((e,t)=>{let o=v.current;const n=t?e<o?[]:[{tab_id:t,index:e}]:[];for(;o<s.tabs.length&&n.length<2;){var i;const e=s.tabs[o];0===(null===(i=e.product_tiles)||void 0===i?void 0:i.length)&&0==e.isLoading&&e.tab_id!==t&&n.push({tab_id:e.tab_id,index:o}),o++}return v.current=o,n})(e,t);var c;o&&e<v.current&&0===(null===(n=S.product_tiles)||void 0===n?void 0:n.length)&&0===i.filter((e=>e.tab_id===t)).length&&i.push({tab_id:S.tab_id,index:e}),i.length>0&&d(r,i,s.section_code,s.page_code,s.module_id,null===(c=s.log_info)||void 0===c?void 0:c.page_version_id)};(0,n.useEffect)((()=>{if(C(1),null!=s&&s.impression_id){var e;let t="",o="",n="";s.tabs.forEach(((e,i)=>{const c=null==e?void 0:e.log_info;t="".concat(t).concat(i>0?",":"").concat(e.position),o="".concat(o).concat(i>0?",":"").concat(e.campaign_id),n="".concat(n).concat(i>0?",":"").concat(null==c?void 0:c.collection_id)}));const i={module_slot:t,campaign_id:o,header_copy:null==s?void 0:s.title.text,sub_header_copy:(null==s||null===(e=s.subtitle)||void 0===e?void 0:e.text)||null,cta_copy:s.tabs[0].action_text.text,collection_id:n};(0,f.y)(s.impression_id,i)}}),[]);let w;var P,k;return g&&(w=null!==(P=S.action_text.action_url)&&void 0!==P?P:void 0),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(y.im,{containerWidth:o,children:[(0,u.jsx)(m.Z,{titleTextSpec:s.title,subTitleTextSpec:s.subtitle,countdownTimerSpec:null==s?void 0:s.countdown_timer_spec}),(0,u.jsx)(x,{items:s.tabs,selected:S.tab_id,onClick:(e,t)=>{if(S=s.tabs[t],l(r,t),C(t,e,!0),S){const{click_id:e}=S;if(null!=e){const t=S.log_info||{};(0,f.y)(e,t)}}}}),S&&(S.isLoading?(0,u.jsx)(y.zs,{children:(0,u.jsx)(h.Z,{overrideStyle:{margin:"auto"}})}):0===(null===(k=S.product_tiles)||void 0===k?void 0:k.length)?(0,u.jsxs)(y.zs,{children:[(0,u.jsx)(y.hY,{children:(0,T.et)("Error loading products for tab","An error occurred while loading")}),(0,u.jsx)(_.ZP,{color:_.fV.ATLAS_PRIMARY,onClick:()=>{var e;d(r,[{tab_id:S.tab_id,index:j}],s.section_code,s.page_code,s.module_id,null===(e=s.log_info)||void 0===e?void 0:e.page_version_id)},bold:!0,rounded:!0,children:(0,T.et)("Retry button to fetch tab product","TRY AGAIN")})]}):(0,u.jsx)(b.Z,{productTileSpecs:S.product_tiles,actionSpec:S.action_text,onClickActionText:()=>{if(!g&&S.action_text.action_url){var e,t;const{click_event_id:c}=S.action_text;var o,n,i;null!=c&&null!==(e=S)&&void 0!==e&&null!==(t=e.action_text)&&void 0!==t&&t.log_info&&(S.action_text.log_info={...null===(o=S)||void 0===o||null===(n=o.action_text)||void 0===n?void 0:n.log_info,sub_header_copy:(null===(i=s.subtitle)||void 0===i?void 0:i.text)||null}),a.push(S.action_text.action_url)}},to:w}))]}),c&&(0,u.jsx)(y.dv,{})]})}))},"./cozy/shared/styles/common/TabbedContainer.tsx":function(e,t,o){"use strict";o.d(t,{im:function(){return r},dv:function(){return a},zs:function(){return p},hY:function(){return u}});var n,i=o("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=o("./cozy/shared/styles/Utils.tsx"),s=o("./cozy/shared/styles/Mixins.tsx");const r=i.ZP.div.withConfig({displayName:"TabbedContainer__Wrapper",componentId:"sc-1geew0h-0"})(["",";padding:16px 0 10px 16px;",""],s.nf,c.cy.desktop(n||(d=["\n  ",";\n  margin: 0 auto;\n  padding-left: 0px;\n  "],l||(l=d.slice(0)),n=Object.freeze(Object.defineProperties(d,{raw:{value:Object.freeze(l)}}))),(e=>{let{containerWidth:t}=e;return t&&"width: ".concat(t,"px")})));var d,l;const a=i.ZP.div.withConfig({displayName:"TabbedContainer__SectionDivider",componentId:"sc-1geew0h-1"})(["margin-left:-16px;height:4px;background:",";"],(e=>{let{theme:t}=e;return t.palettesGrey200})),p=i.ZP.div.withConfig({displayName:"TabbedContainer__ProductTrayDotLoader",componentId:"sc-1geew0h-2"})(["height:259px;",";"],s.ku),u=i.ZP.div.withConfig({displayName:"TabbedContainer__TryAgainButtonZoneText",componentId:"sc-1geew0h-3"})(["",";color:",";margin-bottom:16px;"],s.fb,(e=>{let{theme:t}=e;return t.palettesGrey400}))}}]);
//# sourceMappingURL=cozy_coco_components_PromoBanner_PromoBanner_tsx-cozy_shared_components_common_MerchantisedCa-a864ee.564bdec203557eb55333.js.map