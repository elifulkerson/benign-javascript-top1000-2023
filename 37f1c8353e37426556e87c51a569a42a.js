"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7828],{25699:function(t,n,e){e.d(n,{T:function(){return v}});var i=e(98788),a=e(45680),r=e(52322),o=e(2784),c=e(45103),u=e(89363),l=e(31619),s=e(92281),d=e(90551),f=e(13813),g=e(95460),m=e(26688),p=e(77637),_=(0,e(76510).vU)({ratingButtonRatedAriaLabel:{id:"common_ariaLabels_ratingButtonRated",defaultMessage:"Your rating: {rating}"},ratingButtonUnratedAriaLabel:{id:"common_ariaLabels_ratingButtonUnrated",defaultMessage:"Rate {titleName}"},ratingPromptHeaderLabel:{id:"common_ratingPrompt_header",defaultMessage:"Rate this"},ratingPromptRateLabel:{id:"common_ratingPrompt_rate",defaultMessage:"Rate"},ratingPromptRemoveRatingLabel:{id:"common_ratingPrompt_removeRating",defaultMessage:"Remove rating"},ratingPromptErrorLabel:{id:"common_ratingPrompt_error",defaultMessage:"Can't rate title. Try again later."},ratingPromptAriaLabelPrefix:{id:"common_ratingPrompt_ariaLabelPrefix",defaultMessage:"Rating"}}),h="urate",v=function(t){var n=t.title,e=n.id,v=n.titleText,T=n.canRate,R=t.ratingTriggerComponent,b=t.refPrefix,I=t.refSuffix,x=(0,o.useState)(!1),P=x[0],L=x[1],C=(0,d.n)(),N=(0,c.useRatingsContext)(e)||{},S=N.rating,y=N.updateRating,w=N.deleteRating,M=(0,p.z)("rt",{prefix:b,suffix:I}),U="".concat(b.replace(/_/g,"-").substring(0,30-h.length)).concat(h),E=(0,f.F)((0,f.y)()),O=(0,s.vY)({titleId:e,refTag:M,currentRating:S}),Z=O.updateTitleRating,k=O.deleteTitleRating,H=O.tempRateUpdateLogRef,B=(0,l.N)(_.ratingPromptHeaderLabel),j=(0,l.N)(_.ratingPromptRateLabel),F=(0,l.N)(_.ratingPromptRemoveRatingLabel),D=(0,l.N)(_.ratingPromptAriaLabelPrefix);return(0,r.jsxs)(r.Fragment,{children:[R({onUserRatingClick:function(){T&&((0,g.ar)(E,U,g.qB.POP_UP),L(!0))}}),T&&(0,r.jsx)(c.RatingPrompt,{isOpen:P,tconst:e,title:v,headerLabel:B,rateLabel:j,ariaLabelPrefix:D,shouldUseNewRatingFlow:!0,secondaryButtonText:F,secondaryButtonType:u.uu.RemoveRating,onPrimaryButtonClicked:function(){var t=(0,i.Z)((function(t,n){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return t?C?(L(!1),null===y||void 0===y||y(t,M,(function(){return Z(t,n)})),[3,3]):[3,1]:(L(!1),[2]);case 1:return[4,H(t,n)];case 2:e.sent(),(0,m.O)(t,n,M,E),e.label=3;case 3:return[2]}}))}));return function(n,e){return t.apply(this,arguments)}}(),onSecondaryButtonClicked:function(){var t=(0,i.Z)((function(t,n){return(0,a.__generator)(this,(function(t){return L(!1),null===w||void 0===w||w(M,(function(){return k(n)})),[2]}))}));return function(n,e){return t.apply(this,arguments)}}(),onCloseClicked:function(t){L(!1)}})]})}},95128:function(t,n,e){e.d(n,{y:function(){return u}});var i=e(52322),a=(e(2784),e(45103)),r=e(31619),o=e(13813),c=e(23104),u=function(t){var n=t.className,e=t.title,u=e.id,l=e.titleText,s=e.titleTypeId,d=e.image,f=d.url,g=d.height,m=d.width,p=t.onClick,_=t.refPrefix,h=t.refSuffix,v="/title/".concat(u,"/?ref_=").concat(_,"tt_i").concat(h),T=(0,o.y)(),R=T.pageType,b=T.subPageType,I=(0,r.N)({id:"common_ariaLabels_gotoTitle",defaultMessage:"View title page for {titleName}"},{titleName:l});return(0,i.jsxs)(a.PosterCard.Poster,{href:v,ariaLabel:I,onClick:p,className:n,children:[(0,i.jsx)(c.Z,{titleId:u,watchlistMetricsContext:{pageType:R,subPageType:b,refTag:"".concat(_,"wl_rbn").concat(h)},onPoster:!0,className:"poster-card-watchlist-ribbon"},u),(0,i.jsx)(a.Poster.Image,{imageModel:f&&g&&m?{url:f,maxHeight:g,maxWidth:m,caption:l}:void 0,imageType:s,className:"poster-card-image",dynamicAspectRatio:!1})]})}},58267:function(t,n,e){e.d(n,{f:function(){return s}});var i=e(92228),a=e(52322),r=(e(2784),e(19453)),o=e(45103),c=e(75467),u=e(31619);function l(){var t=(0,i.Z)(["\n    max-height: 30px;\n    max-width: 30px;\n    vertical-align: middle;\n"]);return l=function(){return t},t}var s=function(t){var n=t.titleId,e=t.watchlistMetricsContext,i=(0,u.N)({id:"common_buttons_watchlist",defaultMessage:"Watchlist"});return(0,a.jsx)(c.WatchlistConsumer,{id:n,metricsContext:e,render:function(t){var n=t.inWatchlist,e=t.isLoading,r=t.onClick,c=(0,a.jsx)(o.SecondaryButton,{onClick:r,preIcon:n?"done":"add",width:"full-width",children:i});return e&&(c=(0,a.jsx)(o.SecondaryButton,{onClick:r,width:"full-width",children:(0,a.jsx)(d,{"data-testid":"watchlist-button-loader",type:"circle"})})),c}})},d=(0,r.default)(o.Loader).withConfig({componentId:"sc-981e94be-0"})(l());n.Z=s},23104:function(t,n,e){var i=e(70865),a=e(96670),r=e(52322),o=(e(2784),e(45103)),c=e(75467);n.Z=function(t){var n=t.titleId,e=t.watchlistMetricsContext,u=t.onPoster,l=t.onImage,s=void 0===l||l,d=t.size,f=t.className;return(0,r.jsx)(c.WatchlistConsumer,{id:n,metricsContext:e,render:function(t){return u?(0,r.jsx)(o.Poster.WatchlistRibbon,(0,a.Z)((0,i.Z)({},t),{className:f,size:d})):(0,r.jsx)(o.WatchlistRibbon,(0,a.Z)((0,i.Z)({},t),{className:f,onImage:s,size:d}))}})}},61436:function(t,n,e){e.d(n,{P:function(){return r}});var i=e(73857),a={default:{maximumFractionDigits:1,minimumFractionDigits:1},imdb:{maximumFractionDigits:1,minimumFractionDigits:1},user:{maximumFractionDigits:0,minimumFractionDigits:0}},r=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",e=arguments.length>2?arguments[2]:void 0,r=(0,i.Z)();if(!t)return"";if(10===t)return"10";var o="user"===n?Math.trunc(t):Number(t.toFixed(1)),c=null!==e&&void 0!==e?e:a[n];return r.formatNumber(o,c)}},97026:function(t,n,e){var i;function a(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.DEFAULT;if(t<=0)return n===i.HOURS_MINUTES_EXPLICIT?"0min":n===i.HOURS_MINUTES_EXPLICIT_SHORT?"0m":n===i.ISO_8601?"PT0S":"0:00";var e=Math.floor(t/3600),a=Math.floor(t%3600/60),o=Math.floor(t%60);if(n===i.HOURS_MINUTES_EXPLICIT||n===i.HOURS_MINUTES_EXPLICIT_SHORT)return t<60&&t>0&&(a=1),e>0&&a<=0?"".concat(e,"h"):"".concat(e>0?e+"h "+a:a).concat(n===i.HOURS_MINUTES_EXPLICIT_SHORT?"m":"min");if(n===i.ISO_8601){var c=e?"".concat(e,"H"):"",u=a?"".concat(a,"M"):"",l=o?"".concat(o,"S"):"";return"PT".concat(c).concat(u).concat(l)}return"".concat(e>0?e+":"+r(a):a,":").concat(r(o))}function r(t){return t<=0||!Number.isInteger(t)?"00":t>9?"".concat(t):"0"+"".concat(t)}e.d(n,{A:function(){return i},L:function(){return a}}),function(t){t.DEFAULT="default",t.HOURS_MINUTES_EXPLICIT="hours_minutes_explicit",t.HOURS_MINUTES_EXPLICIT_SHORT="hours_minutes_explicit_short",t.ISO_8601="iso_8601"}(i||(i={}))},35635:function(t,n,e){function i(t,n){if(t){var e=null===t||void 0===t?void 0:t.year,i=(null===t||void 0===t?void 0:t.endYear)||void 0,a=n&&!i,r="";return e&&i?r=e===i?e.toString():"".concat(e,"\u2013").concat(i):e&&a?r="".concat(e,"\u2013 "):e&&(r="".concat(e)),r}}e.d(n,{y:function(){return i}})},92281:function(t,n,e){e.d(n,{vY:function(){return _}});var i=e(98788),a=e(66383),r=e(92228),o=e(45680),c=e(30382),u=e.n(c),l=e(95460),s=e(25140),d=e(48543);function f(){var t=(0,r.Z)(["\n    mutation UpdateTitleRating($rating: Int!, $titleId: ID!) {\n        rateTitle(input: { rating: $rating, titleId: $titleId }) {\n            rating {\n                value\n            }\n        }\n    }\n"]);return f=function(){return t},t}function g(){var t=(0,r.Z)(["\n    mutation DeleteTitleRating($titleId: ID!) {\n        deleteTitleRating(input: { titleId: $titleId }) {\n            date\n        }\n    }\n"]);return g=function(){return t},t}var m=u()(f()),p=u()(g()),_=function(t){var n=(0,a.Z)((0,d.Z)(m),2),e=(n[0],n[1]),r=(0,a.Z)((0,d.Z)(p),2),c=(r[0],r[1]),u=(0,s.B)().context,f={type:u.pageType,subType:u.subPageType,id:t.titleId},g=function(n){(0,l.K8)(t.refTag,f,n,l.qB.ACTION_ONLY)},_=function(){var t=(0,i.Z)((function(t,n){var e;return(0,o.__generator)(this,(function(i){return e="".concat("tmp-rating-add","-").concat(n,"-").concat(t),g(e),[2]}))}));return function(n,e){return t.apply(this,arguments)}}();return{updateTitleRating:function(t,n){var i="".concat("rating-add","-").concat(n,"-").concat(t);return g(i),e({rating:t,titleId:n})},deleteTitleRating:function(t){var n="".concat("rating-del","-").concat(t);return g(n),c({titleId:t})},tempRateUpdateLogRef:_}}},91793:function(t,n,e){e.d(n,{S:function(){return o}});var i=e(92228),a=e(19453);function r(){var t=(0,i.Z)(["\n    @supports (-webkit-line-clamp: ",") {\n        display: -webkit-box;\n        -webkit-line-clamp: ",";\n        -webkit-box-orient: vertical;\n        overflow: hidden;\n    }\n"]);return r=function(){return t},t}var o=function(t){return(0,a.css)(r(),t,t)}}}]);