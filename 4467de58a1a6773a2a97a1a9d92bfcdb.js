!function(){var t=document&&document.querySelector('script[type^="text/shopee-short-url-checked"]'),e=!(!t||"1"!==t.textContent),o=(location&&location.origin||"").replace(/^(https?:\/\/)lite\./,(function(t,e){return e}));function n(){document&&document.body&&(document.body.style.visibility="visible")}function a(t,e){void 0===e&&(e=!1);var a=function(t){var e=document.createElement("a");return e.href=t,{pathname:e.pathname,hash:e.hash,search:e.search,protocol:e.protocol}}(t),r=a.pathname,i=a.hash;if(e&&(document&&document.body&&(document.body.style.visibility="hidden"),setTimeout(n,5e3)),"/"!==r&&!function(t){return"/supermarket"===t||"/supermarket/"===t}(r)&&function(t){return 1===t.split("/").filter(Boolean).length}(r)&&r.length<256&&""===i&&0===r.lastIndexOf("/")){var s=new XMLHttpRequest;s.open("GET",o+"/api/v4/pages/is_short_url/?path="+r.replace("/","")),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Accept","application/json"),s.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){var t=JSON.parse(this.responseText);t&&t.data&&t.data.url?(console.log("Redirecting via short url to: res.data.url"),location.href=t.data.url):e&&n()}else e&&n()},s.send()}}var r=window.history.pushState;window.history.pushState=function(){var t=arguments[2];t&&a(t),r.apply(history,arguments)};var i=window.history.replaceState;window.history.replaceState=function(){var t=arguments[2];t&&a(t),i.apply(history,arguments)},e||a(location.href,!0)}();