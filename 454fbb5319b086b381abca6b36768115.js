(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2329],{35986:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(86010),r=n(84548),i=n(98695),s=n(72751),o=n.n(s),c=n(85893),l={BigHorizontal:{width:232,height:130,useKeepAspectRatio:!1},Horizontal:{width:168,height:120,useKeepAspectRatio:!1},Vertical:{width:640,height:360,useKeepAspectRatio:!0},NestedVertical:{width:72,height:72,useKeepAspectRatio:!0}};function u(e){var t=e.teaser,n=e.className,s=e.variant,u=void 0===s?"Vertical":s;if(!(null!=t&&t.title)||!(null!=t&&t.url))return null;var d=l[u]||l.Vertical,p=d.useKeepAspectRatio?(0,i.W)(d.width,d.height):null;return(0,c.jsx)("figure",{className:(0,a.Z)(o().container,o()["container".concat(u)],n),onClick:function(e){e.preventDefault(),e.stopPropagation(),window.open(t.url,"_blank").focus()},children:"NestedVertical"===u?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:(0,a.Z)(o().authorContainer,o()["authorContainer".concat(u)]),children:[null!=t&&t.image?(0,c.jsx)(r.default,{data:t.image,className:(0,a.Z)(o().authorAvatar,o()["authorAvatar".concat(u)]),alt:t.title,height:d.height,width:d.width,keepAspectRatio:p}):null,t.text&&t.text.trim()?(0,c.jsx)("div",{className:(0,a.Z)(o().authorName,o()["authorName".concat(u)]),children:t.text}):null]}),(0,c.jsx)("h3",{className:(0,a.Z)(o().title,o()["title".concat(u)]),children:t.title})]}):(0,c.jsxs)(c.Fragment,{children:[null!=t&&t.image?(0,c.jsx)(r.default,{data:t.image,className:(0,a.Z)(o().image,o()["image".concat(u)]),alt:t.title,height:d.height,width:d.width,keepAspectRatio:p}):null,(0,c.jsxs)("figcaption",{className:(0,a.Z)(o().infoContainer,o()["infoContainer".concat(u)]),children:[t.text&&t.text.trim()?(0,c.jsx)("div",{className:(0,a.Z)(o().serviceName,o()["serviceName".concat(u)]),children:t.text}):null,(0,c.jsx)("h3",{className:(0,a.Z)(o().title,o()["title".concat(u)]),children:t.title})]})]})})}},84058:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var a=n(86010),r=n(85160),i=n.n(r),s=n(85893);function o(e){var t=e.title,n=e.className;return(0,s.jsx)("h3",{className:(0,a.Z)(i().ActivityInfoBar,void 0===n?"":n),children:void 0===t?"":t})}},92329:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var a=n(59499),r=n(86010),i=n(67294),s=n(19050),o=n(54621),c=n(53492),l=n(27812),u=n(50029),d=n(87794),p=n.n(d),_=n(39896),m=function(e){var t=e.dataLoadFunction,n=e.loadIdentifierRef,a=e.isUserLoggedIn,r=(0,i.useState)([]),s=r[0],o=r[1],c=(0,i.useState)({}),d=c[0],m=c[1],f=(0,i.useState)(!1),h=f[0],v=f[1],g=(0,i.useState)(!1),x=g[0],j=g[1],N=(0,i.useState)(!0),b=N[0],y=N[1];function w(){return(w=(0,u.Z)(p().mark(function e(t,n){var a;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(s)||!(-1!==(a=s.indexOf(t)))){e.next=8;break}return o(function(e){var t=(0,l.Z)(e);return t.splice(a,1),(0,l.Z)(t)}),e.next=6,n(t.id);case 6:e.sent||_.ZP.bottomToast("Upsss... Coś poszło nie tak.");case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}return(0,i.useEffect)(function(){var e;a&&(e=(0,u.Z)(p().mark(function e(){var n,a,r;return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,t(d);case 3:null!=(r=e.sent)&&null!==(n=r.posts)&&void 0!==n&&n.length&&o(function(e){return[].concat((0,l.Z)(e),(0,l.Z)(r.posts))}),null!=r&&r.nextPage&&m({nextPage:r.nextPage}),null!=r&&null!==(a=r.posts)&&void 0!==a&&a.length&&(null==r?void 0:r.nextPage)!==null||v(!0),y(!1);case 8:case"end":return e.stop()}},e)})),function(){return e.apply(this,arguments)})()},[x,a]),(0,i.useEffect)(function(){if(!b){var e=n.current;if(e){var t=new IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>0&&j(!x)})});return t.observe(e),h&&null!=t&&t.unobserve&&t.unobserve(e),function(){null!=t&&t.unobserve&&t.unobserve(e)}}}},[n,b,h]),{loadingPosts:b,fetchedPosts:s,fullLoaded:h,handleDeletePost:function(e,t){return w.apply(this,arguments)}}},f=n(32799),h=n(111),v=n(84058),g=n(88998),x=n.n(g),j=n(85893),N=function(e){var t=e.children,n=e.onlyContent,a=void 0!==n&&n;return(0,j.jsxs)("div",{className:x().wrapper,children:[a?null:(0,j.jsx)(v.Z,{title:"Moje posty"}),(0,j.jsx)("div",{className:x().content,children:t}),a?null:(0,j.jsx)("div",{className:x().goBackWrapper,children:(0,j.jsx)(h.Z,{text:"Powr\xf3t na stronę gł\xf3wną",themeType:"yellow",themeLoader:"standard",xPadding:10,yPadding:14,url:"/"})})]})},b=n(16835),y=n(99209),w=n(35986),P=n(84548),E=n(98695),z=n(36363),T=n(10148),k=n.n(T),C=(0,i.memo)(function(e){var t=e.handleDelete,n=void 0===t?Function:t,a=e.useNativeConfirm,r=void 0!==a&&a,s=(0,i.useState)(!1),o=s[0],l=s[1],u=(0,i.useRef)(null),d=(0,i.useContext)(z.ZP).openPostModal,p=void 0===d?function(){}:d;return(0,i.useEffect)(function(){if(o){var e=function(e){if(u.current&&!u.current.contains(e.target))return e.preventDefault(),e.stopPropagation(),l(!1),!1};return document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),function(){document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0)}}},[o]),(0,j.jsxs)("div",{className:k().MenuBtn,onClick:function(e){e.preventDefault(),e.stopPropagation(),l(!o)},ref:u,children:[(0,j.jsx)(c.Z,{name:"verticalthreedots",className:k().MenuBtnIcon}),o?(0,j.jsx)("div",{className:k().MenuBtnMenu,children:(0,j.jsx)("span",{className:k().ActionDelete,onClick:function(e){e.preventDefault(),e.stopPropagation();var t="Czy na pewno chcesz usunąć post?";r?confirm(t)&&n():p({title:t,ctaActionTitle:"Usuń",ctaActionFnc:n}),l(!1)},children:"Usuń post"})}):null]})}),M=n(58143),Z=n.n(M),B=(0,i.memo)(function(e){var t=e.workflow,n=function(){switch(t){case"postNew":case"postDraft":case"postAwaitingModeration":return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.Z,{name:"waiting"})," ",(0,j.jsx)("span",{className:Z().statusText,children:"Oczekuje na akceptację"})]});case"postAccepted":return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.Z,{name:"published"})," ",(0,j.jsx)("span",{className:Z().statusText,children:"Zaakceptowany"})]});case"postRejected":return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.Z,{name:"rejected"})," ",(0,j.jsx)("span",{className:Z().statusText,children:"Odrzucony"})]});default:return(0,j.jsx)(j.Fragment,{children:"Nieznany status"})}}();return(0,j.jsx)("div",{className:Z().status,children:n})}),A=n(32287),D=n.n(A);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var O=(0,E.W)(640,360),W=(0,i.memo)(function(e){var t,n=e.post,i=e.onItemDelete,s=void 0===i?Function:i,o=e.isDeleted,c=n.workflow,l=n.text,d=n.embed,_=n.image,m=H(H({},d),{},{text:null==d?void 0:d.subtitle},(null==d?void 0:d.image)&&{image:{url:d.image}}),f=(0,y.Jp)(),h=(0,b.default)(f,1)[0].deviceType.isMobile,v=(t=(0,u.Z)(p().mark(function e(){return p().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)});return(0,j.jsxs)("div",{className:(0,r.Z)(D().wrapper,(0,a.default)({},D().deleted,o)),children:[(0,j.jsxs)("div",{className:D().body,children:[(0,j.jsx)("div",{className:D().title,children:l}),d?(0,j.jsx)(w.default,{teaser:m,className:D().embed}):null,_?(0,j.jsx)(P.default,{className:D().image,data:_,height:360,width:640,keepAspectRatio:O}):null]}),(0,j.jsxs)("div",{className:D().footer,children:[(0,j.jsx)(B,{workflow:c}),(0,j.jsx)(C,{handleDelete:v,useNativeConfirm:!h})]})]})},function e(t,n){var a=Object.keys(t),r=Object.keys(n);if(a.length!==r.length)return!1;for(var i=0;i<a.length;i++){var s=a[i],o=t[s],c=n[s];if("object"==typeof o&&"object"==typeof c&&o&&c){if(!e(o,c))return!1}else if(o!==c)return!1}return!0}),I=n(54312),R=n.n(I),S=function(){return(0,j.jsxs)("div",{className:R().emptyWrapper,children:[(0,j.jsx)("h4",{className:R().emptyHeader,children:"Tutaj będą widoczne twoje posty"}),(0,j.jsxs)("p",{className:R().emptyContent,children:["Aby napisać sw\xf3j pierwszy post, kliknij ikonę ",(0,j.jsx)(c.Z,{name:"posteditor",viewBox:"0 0 24 24",className:R().icon})," znajdującą się na g\xf3rnej belce."]})]})},L=function(e){var t=e.canShowLoader,n=e.canAuthorCreatePost,c=e.onlyContent,l=void 0!==c&&c,u=(0,s.S)().userData,d=(0,i.useState)(-1),p=d[0],_=d[1],h=(0,i.useRef)(null),v=m({dataLoadFunction:f.Jq,loadIdentifierRef:h,isUserLoggedIn:null==u?void 0:u.loggedIn}),g=v.loadingPosts,x=v.fetchedPosts,b=v.fullLoaded,y=v.handleDeletePost,w=function(e,t){_(t),setTimeout(function(){y(e,f.fR),_(-1)},600)};return(null==u?void 0:u.loggedIn)===!1||void 0!==t&&t?(0,j.jsx)("div",{className:R().loaderWrapper,children:(0,j.jsx)(o.Z,{small:!0})}):null!=u&&u.loggedIn&&n?g||x.length?(0,j.jsx)(N,{onlyContent:l,children:(0,j.jsxs)("div",{className:R().postsWrapper,children:[null!=x&&x.length?(0,j.jsxs)(j.Fragment,{children:[x.map(function(e,t){return(0,j.jsx)(W,{post:e,onItemDelete:function(){return w(e,t)},isDeleted:t===p},"post-list-".concat(t))}),(0,j.jsx)("div",{className:(0,r.Z)((0,a.default)({},R().infiniteLoader,l)),ref:h})]}):null,g&&!b?(0,j.jsx)("div",{className:R().loaderWrapper,children:(0,j.jsx)(o.Z,{small:!0})}):null]})}):(0,j.jsx)(N,{onlyContent:l,children:(0,j.jsx)(S,{})}):null}},72751:function(e){e.exports={container:"EmbedTeaser_container__7a4yw",containerVertical:"EmbedTeaser_containerVertical__zi8Y6",containerNestedVertical:"EmbedTeaser_containerNestedVertical__s36Mg",containerHorizontal:"EmbedTeaser_containerHorizontal__7NNXY",containerBigHorizontal:"EmbedTeaser_containerBigHorizontal__k_OQt",infoContainerVertical:"EmbedTeaser_infoContainerVertical__n7DOS",infoContainerHorizontal:"EmbedTeaser_infoContainerHorizontal__rdqVT",infoContainerBigHorizontal:"EmbedTeaser_infoContainerBigHorizontal__jJZlz",title:"EmbedTeaser_title__XsUca",titleHorizontal:"EmbedTeaser_titleHorizontal__jlW3V",titleBigHorizontal:"EmbedTeaser_titleBigHorizontal__wnEVC",titleVertical:"EmbedTeaser_titleVertical__giDdC",titleNestedVertical:"EmbedTeaser_titleNestedVertical__WwMig",serviceName:"EmbedTeaser_serviceName__Jtb9V",serviceNameHorizontal:"EmbedTeaser_serviceNameHorizontal__f5ibj",serviceNameVertical:"EmbedTeaser_serviceNameVertical__YUmEz",serviceNameBigHorizontal:"EmbedTeaser_serviceNameBigHorizontal__ssxhx",authorContainer:"EmbedTeaser_authorContainer__Xy_dR",authorName:"EmbedTeaser_authorName__Esoff",authorNameNestedVertical:"EmbedTeaser_authorNameNestedVertical__X_bC8",authorAvatar:"EmbedTeaser_authorAvatar__8WK5Y",authorAvatarNestedVertical:"EmbedTeaser_authorAvatarNestedVertical__luwzz",imageVertical:"EmbedTeaser_imageVertical__dWza5",imageHorizontal:"EmbedTeaser_imageHorizontal__73g0G",imageBigHorizontal:"EmbedTeaser_imageBigHorizontal__pzKcc"}},85160:function(e){e.exports={ActivityInfoBar:"InfoBar_ActivityInfoBar__CQiP5"}},54312:function(e){e.exports={postsWrapper:"MyPosts_postsWrapper__zTunx",loaderWrapper:"MyPosts_loaderWrapper__DSpSv",emptyWrapper:"MyPosts_emptyWrapper__k4evY",emptyHeader:"MyPosts_emptyHeader__6uj9f",emptyContent:"MyPosts_emptyContent__uaNk9",icon:"MyPosts_icon__wTh9r",infiniteLoader:"MyPosts_infiniteLoader__ngngZ"}},88998:function(e){e.exports={wrapper:"ContentWrapper_wrapper__MEk45",content:"ContentWrapper_content__y69D9",goBackWrapper:"ContentWrapper_goBackWrapper__fBIAg"}},32287:function(e){e.exports={wrapper:"MyPost_wrapper__vYtaA",deleted:"MyPost_deleted__cCZPR",body:"MyPost_body__IodMK",footer:"MyPost_footer__qgyxX",title:"MyPost_title__HdXxN",embed:"MyPost_embed__28awj",image:"MyPost_image__PWyzS"}},10148:function(e){e.exports={MenuBtn:"MenuBtn_MenuBtn__xq2Li",MenuBtnIcon:"MenuBtn_MenuBtnIcon__Q5bKD",MenuBtnMenu:"MenuBtn_MenuBtnMenu___0P3E",ActionDelete:"MenuBtn_ActionDelete__Ndpkk"}},58143:function(e){e.exports={status:"Status_status__tTE7N",statusText:"Status_statusText__DW29Q"}}}]);