!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.xmot=t():e.xmot=t()}(self,(()=>(()=>{var e={126:(e,t)=>{"use strict";var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};function r(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function i(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}var a,c="0.0.24",u=function(){function e(){this.id=new Date,this.subs=[],this.id=new Date,this.subs=[]}return e.prototype.defined=function(){e.watch.add(this)},e.prototype.notify=function(){this.subs.forEach((function(e,t){if("function"==typeof e.update)try{e.update.apply(e)}catch(e){console.warn(e)}}))},e.watch=null,e}(),s=function(){function e(e,t){this.name="",this.id=new Date,this.name=e,this.id=new Date,this.callBack=t}return e.prototype.add=function(e){e.subs.push(this)},e.prototype.update=function(){(0,this.callBack)(this.name)},e}(),d=(a=new u,function(e){if("historyChange"===e)return function(e,t){var n=new s(e,t);u.watch=n,a.defined(),u.watch=null};if("pushState"===e||"replaceState"===e){var t=history[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.apply(history,e),a.notify()}}}),l=["SCRIPT","STYLE","META","HEAD","LINK"],p={SVG:2,IMG:2,CANVAS:4,OBJECT:4,EMBED:4,VIDEO:4},m=window.innerWidth,f=window.innerHeight,v=100,g=function(e,t){return window.getComputedStyle?window.getComputedStyle(e,null)[t]:e.currentStyle[t]},h=function(){function e(e,t){this.isFirstLoad=!0,this.perfConfig={},this.keyDomObserver=null,this.performanceData={},this.perfCallback=null,this.statusCollector=[],this.fmpFlag=!0,this.observer=null,this.callbackCount=0,this.entries={},this.startTime=performance.now(),this.firstInputTime=0,this.referer=[],this.requestList=[],e&&(this.perfConfig=e),t&&(this.perfCallback=t)}return e.prototype.performanceTrack=function(e){var t;void 0===e&&(e=!1);var n=this.performanceData,r=n.selector,o=n.domLoad,i=n.isTracked,a=n.pageLoad,c=void 0===a?0:a,u=(this.perfConfig||{}).manualTrack;if(!i&&(e||c&&(!r||r&&o))){var s=this.formatPerfData(e);null===(t=this.perfCallback)||void 0===t||t.call(this,s),!u&&this.trackData(s)}},e.prototype.trackData=function(e){var t,r,a=this,c=e||{},u=c.traceId,s=c.system,d=c.group,l=c.uploadType,p=e||{},m=p.request,f=void 0===m?{}:m,v=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(p,["request"]),g={system:s,group:d,traceId:u};4!==l&&(this.performanceData.isTracked=!0),this.track("performance.track","performance",v),null===(t=Object.keys(f))||void 0===t||t.forEach((function(e){a.track("performance.track","performance_request",n(n(n({},g),{requestUrl:e}),f[e]))}));var h=null===(r=this.statusCollector)||void 0===r?void 0:r.map((function(e){return{time:e.time,mutation:e.mutation}}));(null==h?void 0:h.length)&&this.track("performance.track","performance_detail",n(n({},g),{statusList:h,refererList:i([],o(this.referer),!1)}))},e.prototype.trackView=function(){var e=this.perfConfig,t=e.userId,n=void 0===t?"":t,r=e.system,o=void 0===r?"":r,i=e.group,a=void 0===i?"":i,u=e.env,s=void 0===u?"":u,d=this.getPathName();this.track("performance.track","view",{userId:n,system:o,group:a,env:s,pageUrl:d,version:c})},e.prototype.resetPerformanceTrack=function(e){var t,n;this.performanceData.isTracked||this.performanceTrack(!0),performance.clearResourceTimings(),this.performanceData={},this.startTime=performance.now(),this.firstInputTime=0,this.isFirstLoad=e,null===(t=this.observer)||void 0===t||t.disconnect(),null===(n=this.keyDomObserver)||void 0===n||n.disconnect(),this.statusCollector=[],this.requestList=[],this.fmpFlag=!0,this.observer=null,this.callbackCount=0,this.entries={},this.domLoadObserver(),this.initObserver()},e.prototype.initTrack=function(){var e=this;this.initOneTrack(),this.initObserver(),this.domLoadObserver(),this.rewriteXHR(),this.recordFetch(),window.addHistoryListener=d("historyChange"),history.pushState=d("pushState"),window.addHistoryListener("history",function(e,t){void 0===t&&(t=v);var n=Date.now();return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];var c=Date.now();if(t-(c-n)<=0)return n=Date.now(),e.apply(void 0,i([],o(r),!1))}}((function(){e.resetPerformanceTrack(!1)}),300)),window.addEventListener("click",(function(){e.firstInputTime>v||(e.firstInputTime=e.getPerfTime())}),!0)},e.prototype.initOneTrack=function(e){var t=this;void 0===e&&(e=3);var n=this.perfConfig.appId,r=void 0===n?"31000401679":n;r&&this.track()?this.track("performance.init",r):e>0&&setTimeout((function(){t.initOneTrack(e-1)}),1e3)},e.prototype.track=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=window.onetrack;return n&&e.length&&n.apply(void 0,i([],o(e),!1)),n},e.prototype.getPerfTime=function(){return this.isFirstLoad?performance.now():performance.now()-this.startTime},e.prototype.getObserverContainer=function(){return this.perfConfig.container&&document.querySelector(this.perfConfig.container)||document.body},e.prototype.getSelector=function(){var e;if(this.perfConfig.domObserver){var t=this.getPathName(),n=this.perfConfig.domObserver[t];if(!n){var r=null!==(e=Object.keys(this.perfConfig.domObserver).find((function(e){return!!e&&new RegExp(e).test(t)})))&&void 0!==e?e:"";n=this.perfConfig.domObserver[r]}return n}},e.prototype.domLoadObserver=function(){var e=this,t=this.getSelector();t&&(this.performanceData.selector=t,this.keyDomObserver=new MutationObserver((function(n){var o,i,a;try{for(var c=r(n),u=c.next();!u.done;u=c.next())if(u.value.addedNodes.length&&document.querySelector(t)){var s=e.getPerfTime();s>v&&(null===(a=e.keyDomObserver)||void 0===a||a.disconnect(),e.performanceData.domLoad=s,e.performanceTrack());break}}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}})),this.keyDomObserver.observe(this.getObserverContainer(),{childList:!0,subtree:!0}))},e.prototype.isExcludeReq=function(e){var t;return void 0===e&&(e=""),null===(t=this.perfConfig.excludeRequests)||void 0===t?void 0:t.some((function(t){return"[object RegExp]"===Object.prototype.toString.call(t)?new RegExp(t).test(e):e.includes(String(t))}))},e.prototype.getHttpTime=function(){var e,t,n,o,i,a,c=this,u=performance.getEntries(),s=this.perfConfig.withResourceType,d=["xmlhttprequest","fetch"].concat(void 0===s?[]:s),l=u.filter((function(e){return d.includes(e.initiatorType)&&e.startTime>=c.startTime})),p={};try{for(var m=r(l),f=m.next();!f.done;f=m.next()){var v=f.value,g=v.name,h=v.startTime,y=v.responseEnd,_=v.duration,w=h-this.startTime,b=y-this.startTime;this.isExcludeReq(g)||(p[g]||(p[g]={}),p[g].requestStartTime=w,p[g].requestEndTime=b,p[g].requestDuration=_,n||o?(n=Math.min(n,w),o=Math.max(o,b)):(n=w,o=b,i=_,a=g),_>i&&(i=_,a=g))}}catch(r){e={error:r}}finally{try{f&&!f.done&&(t=m.return)&&t.call(m)}finally{if(e)throw e.error}}return{request:p,min:n,max:o,maxDuration:i,maxReqUrl:a}},e.prototype.simpleNode=function(e){if(!e)return"";var t=e,n=t.localName,r=t.id,o=void 0===r?"":r,i=t.className,a=void 0===i?"":i,c=null==a?void 0:a.split(" ").join(".");return"".concat(n).concat(o?"#"+o:"").concat(c?"."+c:"")},e.prototype.getSnapShot=function(e){var t=this;void 0===e&&(e=[]);var n=this.getPerfTime(),r=document.body,o=this.perfConfig.excludeNodes,i=void 0===o?[]:o,a=e.length,c=!1;if(i.length&&a){var u=a?e[a-1]:null,s=this.simpleNode(null==u?void 0:u.target);c=(c=1===a&&i.includes(s))||e.every((function(e){return i.some((function(n){var r;return null===(r=document.querySelector(n))||void 0===r?void 0:r.contains(document.querySelector("".concat(n," ").concat(t.simpleNode(e.target))))}))}))}c||this.statusCollector.push({time:n,now:performance.now(),mutation:e.map((function(e){var n,r;return{target:t.simpleNode(null==e?void 0:e.target),addedNodes:t.simpleNode(null===(n=null==e?void 0:e.addedNodes)||void 0===n?void 0:n[0]),removeNodes:t.simpleNode(null===(r=null==e?void 0:e.removedNodes)||void 0===r?void 0:r[0])}}))}),r&&!this.perfConfig.withoutFMP&&this.setTag(r,this.callbackCount)},e.prototype.initObserver=function(){var e=this;this.trackView(),this.getSnapShot(),this.referer.push(this.getPathName()),this.observer=new MutationObserver((function(t){e.callbackCount+=1,e.getSnapShot(t)})),this.observer.observe(this.getObserverContainer(),{childList:!0,subtree:!0}),"complete"===document.readyState?this.calculateFinalScore():window.addEventListener("load",(function(){e.calculateFinalScore()}),!1)},e.prototype.calculateFinalScore=function(){var e,t=this;if(this.fmpFlag)if(this.checkNeedCancel()){if(null===(e=this.observer)||void 0===e||e.disconnect(),this.fmpFlag=!1,performance.getEntries().forEach((function(e){t.entries[e.name]=e.responseEnd})),!this.perfConfig.withoutFMP){var n=this.getTreeScore(document.body),r=null;if(n.dpss.forEach((function(e){r&&r.st?r.st<e.st&&(r=e):r=e})),r){var o=this.filterResult(r.els);this.performanceData.fmp=this.getFmpTime(o)}}this.performanceTrack()}else setTimeout((function(){t.calculateFinalScore()}),500)},e.prototype.getFmpTime=function(e){var t,n,o,i,a,c=0;try{for(var u=r(e),s=u.next();!s.done;s=u.next()){var d=s.value,l=0,p=parseInt(d.$node.getAttribute("fmp-c")||"");if(1===d.weight)l=null===(o=this.statusCollector[p])||void 0===o?void 0:o.time;else if(2===d.weight)if("IMG"===d.$node.tagName)l=this.entries[d.$node.src];else if("SVG"===d.$node.tagName)l=null===(i=this.statusCollector[p])||void 0===i?void 0:i.time;else{var m=g(d.$node,"background-image").match(/url\('(.*?)'\)/),f=void 0;(null==m?void 0:m[1])&&(f=m[1]),-1===(null==f?void 0:f.indexOf("http"))&&(f=location.protocol+m[1]),l=this.entries[f]}else 4===d.weight&&("CANVAS"===d.$node.tagName?l=null===(a=this.statusCollector[p])||void 0===a?void 0:a.time:"VIDEO"===d.$node.tagName&&((l=this.entries[d.$node.src])||(l=this.entries[d.$node.poster])));"number"!=typeof l&&(l=0),c<l&&(c=l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return c},e.prototype.filterResult=function(e){if(1===e.length)return e;var t=0;e.forEach((function(e){t+=e.st}));var n=t/e.length;return e.filter((function(e){return e.st>n}))},e.prototype.checkNeedCancel=function(){var e,t,n=this.getPerfTime(),r=this.statusCollector.length>0?null===(e=this.statusCollector[this.statusCollector.length-1])||void 0===e?void 0:e.time:0,o=this.perfConfig.maxWait||15e3,i=this.perfConfig.domWait||2e3,a=!(null===(t=this.requestList)||void 0===t?void 0:t.length),c=n>o||a&&n-r>i;return this.performanceData.pageLoadBak=r,c&&(this.performanceData.pageLoad=r),c},e.prototype.getTreeScore=function(e){if(e){for(var t=[],n=e.children,r=0;r<n.length;r++){var o=n[r];if(o.getAttribute("fmp-c")){var i=this.getTreeScore(o);i.st&&t.push(i)}}return this.calculateScore(e,t)}return{}},e.prototype.calculateScore=function(e,t){var n=e.getBoundingClientRect(),r=n.width,o=n.height,i=n.left,a=n.top,c=!0;(f<a||m<i)&&(c=!1);var u=0;t.forEach((function(e){u+=e.st}));var s=p[e.tagName]||1;1===s&&g(e,"background-image")&&"initial"!==g(e,"background-image")&&"none"!==g(e,"background-image")&&(s=p.IMG);var d=c?r*o*s:0,l=[{$node:e,st:d,weight:s}],v=e,h=this.calculateAreaParent(e);return(u>d*h||0===h)&&(d=u,l=[],t.forEach((function(e){l=l.concat(e.els)}))),{dpss:t,st:d,els:l,root:v}},e.prototype.calculateAreaParent=function(e){var t=e.getBoundingClientRect(),n=t.left,r=t.right,o=t.top,i=t.bottom,a=t.width,c=t.height,u=m,s=f,d=r-n+(u-0)-(Math.max(r,u)-Math.min(n,0)),l=i-o+(s-0)-(Math.max(i,s)-Math.min(o,0));return d<=0||l<=0?0:d*l/(a*c)},e.prototype.setTag=function(e,t){var n=e.tagName,r=null==e?void 0:e.children;if(-1===l.indexOf(n)&&(null==r?void 0:r.length))for(var o=r.length-1;o>=0;o--){var i=r[o];if(null===i.getAttribute("fmp-c")){var a=i.getBoundingClientRect(),c=a.left,u=a.top,s=a.width,d=a.height;if(f<u||m<c||0===s||0===d)continue;i.setAttribute("fmp-c","".concat(t))}this.setTag(i,t)}},e.prototype.getPathName=function(){return location.pathname+location.hash+(this.perfConfig.distinctSearch?location.search:"")},e.prototype.guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e.prototype.getOpType=function(e){var t=this.requestList.length,n=0;return e?n=4:this.firstInputTime>v&&t?n=3:t?n=2:this.firstInputTime>v&&(n=1),n},e.prototype.formatPerfData=function(e){var t,r=this.performanceData,o=r.pageLoad,i=void 0===o?0:o,a=r.domLoad,u=void 0===a?0:a,s=r.pageLoadBak,d=void 0===s?0:s,l=this.perfConfig,p=l.username,m=void 0===p?"":p,f=l.userId,v=void 0===f?"":f,g=l.system,h=void 0===g?"":g,y=l.group,_=void 0===y?"":y,w=l.tip,b=void 0===w?"1280.0.0.0.29371":w,S=l.env,I=void 0===S?"":S,O=this.getHttpTime(),E=O.request,T=O.min,x=O.max,C=O.maxDuration,N=O.maxReqUrl,k=this.getOpType(e),A=e?(null===(t=this.referer.slice(-1))||void 0===t?void 0:t[0])||"":this.getPathName(),P={tip:b,username:m,userId:v,system:h,group:_,env:I,version:c,uploadType:k,pageUrl:A},R=navigator,D=R.hardwareConcurrency,M=R.platform,L=R.connection,j=void 0===L?{}:L,q={plat:M,network:"type:".concat(j.effectiveType,"/downlink:").concat(j.downlink,"/rtt:").concat(j.rtt),hardware:D},V=e&&d>500&&!i?Math.round(d):Math.round(i);return n(n(n({},P),q),{pageLoad:V,domLoad:Math.round(u),FMP:Math.round(this.performanceData.fmp||0),timeOrigin:String(performance.timeOrigin+this.startTime),title:document.title,request:E,requestStartTime:Math.round(T)||0,requestEndTime:Math.round(x)||0,requestDuration:Math.round(x-T)||0,maxRequestDuration:Math.round(C)||0,maxRequestUrl:N||"",loadType:this.isFirstLoad?"reload":"navigate",traceId:this.guid()})},e.prototype.rewriteXHR=function(){var e=this,t=window.XMLHttpRequest,n=t.prototype.open;t.prototype.open=function(t,r){return e.isExcludeReq(r)||e.requestList.push(r),n.apply(this,arguments)};var r=t.prototype.send;t.prototype.send=function(){var t=this,n=function(){e.getReqEndTime(t.responseURL||t.__zone_symbol__xhrURL)};return this.addEventListener("loadend",n,!1),this.addEventListener("timeout",n,!1),r.apply(this,arguments)}},e.prototype.recordFetch=function(){var e=this,t=window.fetch;window.fetch=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=n[0],i={};i="Request"in Window&&o instanceof Window.Request?o:n[1]||i;var a="string"==typeof o?o:i.url;return e.isExcludeReq(a)||e.requestList.push(a),t.apply(this,n).then((function(t){return e.getReqEndTime(t.url),t}))}},e.prototype.sameReq=function(e,t){return e===t||(null==t?void 0:t.includes(e))},e.prototype.getReqEndTime=function(e){var t,n=this,r=null!==(t=this.requestList.findIndex((function(t){return n.sameReq(t,e)})))&&void 0!==t?t:-1,o=this.requestList[r];o&&this.sameReq(o,e)&&this.requestList.splice(r,1)},e}();t.R=h},682:(e,t,n)=>{var r,o;!function(i){if(void 0===(o="function"==typeof(r=i)?r.call(t,n,t,e):r)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=a,c}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function o(){}function i(t,n,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(s){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var c="";for(var u in i)i[u]&&(c+="; "+u,!0!==i[u]&&(c+="="+i[u].split(";")[0]));return document.cookie=t+"="+n+c}}function a(e,n){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var c=i[a].split("="),u=c.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var s=t(c[0]);if(u=(r.read||r)(u,s)||t(u),n)try{u=JSON.parse(u)}catch(d){}if(o[s]=u,e===s)break}catch(d){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,n){i(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";n.d(r,{default:()=>St});var e=n(682),t=n(126),o=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},i={in:[108,121,124,124],id:[109,126,128,128],de:[710,711,592,592],nl:[579,580,591,591],es:[138,139,605,605],fr:[571,572,573,573],it:[524,525,589,589],uk:[577,578,590,590],ru:[132,575,587,587],hk:[103,129,604,604],tw:[104,120,127,127],default:[0,0,0,0]},a={default:{APP_ID:"2882303761517399893",PRO_ID:"16"},pocoDefault:{APP_ID:"31000000334",PRO_ID:"16"}},c={fr:"high",nl:"high",es:"high",de:"high",it:"high",uk:"high",tr:"high",pl:"high",se:"high",global:"high",gr:"high"},u={in:!0,default:!0};function s(e){var t=o(i[e]||i.default,4);return{pc:t[0],m:t[1],app:t[2],ios:t[3]}}function d(e){return a[e]||(document.domain.includes("po.co")?a.pocoDefault:a.default)}var l={ae:{currencyCode:"AED"},au:{currencyCode:"AUD"},bd:{currencyCode:"BDT"},be:{currencyCode:"EUR"},br:{currencyCode:"BRL"},ca:{currencyCode:"CAD"},cl:{currencyCode:"CLP"},cn:{currencyCode:"CNY"},co:{currencyCode:"COP"},cz:{currencyCode:"CZK"},de:{currencyCode:"EUR"},dk:{currencyCode:"DKK"},eg:{currencyCode:"EGP"},es:{currencyCode:"EUR"},fr:{currencyCode:"EUR"},gcc:{currencyCode:"AED"},global:{currencyCode:"USD"},gr:{currencyCode:"GRD"},hk:{currencyCode:"HKD"},hu:{currencyCode:"HUF"},id:{currencyCode:"IDR"},ie:{currencyCode:"EUR"},il:{currencyCode:"ILS"},ir:{currencyCode:"IRR"},in:{currencyCode:"INR"},it:{currencyCode:"EUR"},jp:{currencyCode:"JPY"},kr:{currencyCode:"KRW"},la:{currencyCode:"LAK"},lk:{currencyCode:"LKR"},lu:{currencyCode:"EUR"},ma:{currencyCode:"MAD"},mm:{currencyCode:"MMK"},mo:{currencyCode:"MOP"},mx:{currencyCode:"MXN"},my:{currencyCode:"MYR"},ng:{currencyCode:"NGN"},nl:{currencyCode:"EUR"},np:{currencyCode:"NPR"},nz:{currencyCode:"NZD"},ph:{currencyCode:"PHP"},pk:{currencyCode:"PKR"},pl:{currencyCode:"PLN"},pt:{currencyCode:"EUR"},ro:{currencyCode:"RON"},ru:{currencyCode:"RUB"},sa:{currencyCode:"SAR"},se:{currencyCode:"SEK"},sg:{currencyCode:"SGD"},th:{currencyCode:"THB"},tr:{currencyCode:"TRY"},tw:{currencyCode:"TWD"},ua:{currencyCode:"UAH"},uk:{currencyCode:"GBP"},us:{currencyCode:"USD"},vn:{currencyCode:"VND"},za:{currencyCode:"ZAR"}};function p(e){return Object.assign({currencyCode:"USD"},l[e]||{})}function m(e){return u[e]||u.default}var f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(ce){i(ce)}}function c(e){try{u(r.throw(e))}catch(ce){i(ce)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},v=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(ce){c=[6,ce],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},g=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},h=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},y=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},_=["guserid","instance_id","muserid","site_country","tz","app_platform","ot_ua","last_source","utm_channel","utm_content","utm_term","utm_type","abtest_group"];function w(){return e.get("mstuid")||""}function b(t){var n="1"===e.get("_ot_use_type"),r=re();return!n&&w()?r=w():e.get("_ot_instance_id")?r=e.get("_ot_instance_id")||r:e.set("_ot_instance_id",r,D(t,{expires:new Date(Date.now()+34128e6)})),r}function S(e,t){if(e instanceof Object){var n=document.querySelector("html"),r=document.querySelector("body"),o="";if(t)try{var i=t.closest("[data-ot-module]");o=!!i&&i.getAttribute("data-ot-module")||""}catch(ce){}var a=[e.a||!!n&&n.getAttribute("data-ot-project")||d("default").PRO_ID,e.b||!!r&&r.getAttribute("data-ot-page")||0,e.c||o||0,e.d||0,e.e||0,Math.floor(Math.random()*Math.pow(10,8))];return O(a)?a.join("."):""}var c=(e||"").split(".");return O(c)?h(h([],g(c.slice(0,5)),!1),[Math.floor(Math.random()*Math.pow(10,8))],!1).join("."):""}function I(e){var t,n=e.split(".");if(O(n)){var r="",o="",i=g(n,5),a=i[1],c=i[2],u=i[3],s=i[4],d=c.split("|");return d.length>0&&(r=(t=g(d,2))[0],o=t[1]),{tipB:a,tipC:r,tipC1:o||"",tipD:u,tipE:s}}return{tipB:"",tipC:"",tipC1:"",tipD:"",tipE:""}}function O(e){var t=!0;return e.length<5&&(t=!1),e.slice(0,2).some((function(e){return 0===Number(e||0)}))&&(t=!1),z()&&!t&&console.warn("The tip code [".concat(e.join("."),"] is invalid!")),!!t}function E(t){var n=x(),r=t.split("."),o=g(r,5),i=o[0],a=o[1],c=o[2],u=o[3],s=o[4];n&&e.set("_ot_ref_tip",r.length>5?"".concat(i,".").concat(a,".").concat(c,".").concat(u,".").concat(s):"",D(n))}function T(){return e.get("_ot_ref_tip")||""}function x(){var e=document.querySelector("html");return e&&e.getAttribute("data-ot-local")||(window.location.pathname||"/").split("/")[1]||""}function C(){var t=document.querySelector("html"),n=t&&t.getAttribute("data-ot-platform"),r=j(),o=r.isOtherApp,i=r.isMihomeApp,a=r.isMicommunityApp;return o?i?"mihome":a?"micommunity":"others":"1"===e.get("ISAPP")?"android":"1"===e.get("ISIOS")?"ios":n||"m"}function N(t){!function(t){var n=Number(e.get("_ot_last_time")||0);n&&Date.now()-n>18e5&&e.set("_ot_update_flag","true",D(t));!function(t){e.set("_ot_last_time",String(Date.now()),D(t))}(t)}(t);var n=document.referrer||"",r=([D(t).domain,".xiaomi.com",".xiaomi.net"].some((function(e){return!!~n.indexOf(e)}))?e.get("_ot_last_source"):n)||"",o="true"===e.get("_ot_update_flag")?"":r;return e.set("_ot_last_source",o||"",D(t,{expires:new Date(Date.now()+18e5)})),o}function k(t){var n=document.location.href||"",r=document.referrer||"",o=e.get("_ot_prev_uri_path")||"";e.set("_ot_referrer_path",r||"",D(t)),e.set("_ot_prev_uri_path",o!==r?r:o||"",D(t)),e.set("_ot_curr_uri_path",n,D(t))}function A(t){var n=document.location.href||"",r=document.referrer||"",o=e.get("_ot_referrer_path")||"",i=e.get("_ot_curr_uri_path")||"";return n!==i&&(e.set("_ot_prev_uri_path",i,D(t)),e.set("_ot_curr_uri_path",n,D(t))),r===o&&r?e.get("_ot_prev_uri_path")||"":(e.set("_ot_prev_uri_path",r,D(t)),r||"")}function P(t,n,r){var o=r||e.get("_ot_".concat(n))||"",i="true"===e.get("_ot_update_flag")?"":o;return e.set("_ot_".concat(n),i,D(t,{expires:new Date(Date.now()+18e5)})),i}function R(t,n,r){return(n instanceof Array?n:[n]).forEach((function(n){return e.remove(n,D(t,r))}))}function D(e,t){return Object.assign({sameSite:"strict",path:"/"+e,domain:".".concat((window.location.hostname||"").split(".").slice("id"===e?-3:-2).join("."))},t||{})}function M(t){var n=e.get("_ot_session_id")||String(Date.now());return e.set("_ot_session_id",n,D(t,{expires:new Date(Date.now()+18e5)})),n}function L(e){return"string"!=typeof e?void 0:e.replace(/^javascript:void\(0\)(;)?/g,"").replace(/^(http(s?):)?\/\//i,"".concat(window.location.protocol,"//"))}function j(){var t="1"===e.get("ISAPP")||"1"===e.get("ISIOS"),n=!!~["community_sdk","mihome_sdk"].indexOf(e.get("request_from")||""),r=!!~["mihome_sdk"].indexOf(e.get("request_from")||""),o=!!~["community_sdk"].indexOf(e.get("request_from")||""),i=t&&!n&&Number(e.get("APPVERSION"))<31500,a=t&&!n&&Number(e.get("IOSVERSION"))<31e3,c=t&&!n&&Number(e.get("APPVERSION"))<=40200,u=t&&!n&&Number(e.get("IOSVERSION"))<=40100,s=t&&!n&&Number(e.get("APPVERSION"))>=1e5;return{isInsideApp:t,isOldAPP:i,isOldIOS:a,isOtherApp:t&&n,isUseMiCommand:t&&!n&&(Number(e.get("APPVERSION"))>=31800||Number(e.get("IOSVERSION"))>=31300),isGAOldApp:c,isGAOldIOS:u,isPocoApp:s,isMihomeApp:r,isMicommunityApp:o}}function q(t,n){try{var r=JSON.stringify({eventType:t,params:n}),o="xiaomi://MiEventTrackCommand?action=logGA&params="+encodeURIComponent(r);"1"===e.get("ISIOS")?Number(e.get("IOSVERSION"))>=40503?window.webkit.messageHandlers.trackAction.postMessage({url:o}):window.location.assign(o):"1"===e.get("ISAPP")&&prompt(o)}catch(i){console.warn("GA4: An error occurred in app!")}}function V(e){var t=Object.assign({},e);for(var n in t)if(void 0===t[n])delete t[n];else if(Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)t[n][r]=V(t[n][r]);else"object"==typeof t[n]&&(t[n]=V(t[n]));return t}function U(t,n){var r,o,i;t=function(e){var t=Object.assign({},e);for(var n in t)if(Array.isArray(t[n]))for(var r=0;r<t[n].length;r++)t[n][r]=V(t[n][r]);else"object"==typeof t[n]?t[n]=V(t[n]):"string"==typeof t[n]&&(_.includes(n)?t[n]=t[n].substr(0,36):t[n]=t[n].substr(0,100));return t}(t);var a=j(),c=a.isInsideApp,u=a.isGAOldApp,s=a.isGAOldIOS,d=a.isOtherApp,l=a.isPocoApp,p=c&&!u&&!s&&!d&&!l;if(!function(t){var n="1"===e.get("ISAPP"),r="1"===e.get("ISIOS"),o={de:n&&Number(e.get("APPVERSION"))<40403||r&&Number(e.get("IOSVERSION"))<40400,es:n&&Number(e.get("APPVERSION"))<40300||r&&Number(e.get("IOSVERSION"))<40400,fr:n&&Number(e.get("APPVERSION"))<40300||r&&Number(e.get("IOSVERSION"))<40400,id:n&&Number(e.get("APPVERSION"))<40700||r&&Number(e.get("IOSVERSION"))<40800,in:n&&Number(e.get("APPVERSION"))<40600||r&&Number(e.get("IOSVERSION"))<40700,it:n&&Number(e.get("APPVERSION"))<40300||r&&Number(e.get("IOSVERSION"))<40400,jp:n&&Number(e.get("APPVERSION"))<40400||r&&Number(e.get("IOSVERSION"))<40500,mx:n&&Number(e.get("APPVERSION"))<40800||r&&Number(e.get("IOSVERSION"))<40900,nl:n&&Number(e.get("APPVERSION"))<40400||r&&Number(e.get("IOSVERSION"))<40500,pl:n&&Number(e.get("APPVERSION"))<40500||r&&Number(e.get("IOSVERSION"))<40600,ru:n&&Number(e.get("APPVERSION"))<40400||r&&Number(e.get("IOSVERSION"))<40500,tr:n&&Number(e.get("APPVERSION"))<40400||r&&Number(e.get("IOSVERSION"))<40500,uk:n&&Number(e.get("APPVERSION"))<40400||r&&Number(e.get("IOSVERSION"))<40500,default:!1};return o[t]||o.default}(x()))if(p){var m=Object.assign({},t);delete m.event;try{var f=n?m.ecommerce:m;f.page_location=window.location.href.replace("/app/","/").replace("/ios/","/").substring(0,100),f.page_referrer=null===(r=f.page_referrer)||void 0===r?void 0:r.replace("/app/","/").replace("/ios/","/").substring(0,100),"page_view"===t.event?(q("screen_view",JSON.stringify({screen_name:f.page_type})),setTimeout((function(){q(t.event,JSON.stringify(V(f)))}),800)):q(t.event,JSON.stringify(V(f)))}catch(v){console.warn("GA4: An error occurred in app!")}}else try{n&&(null===(o=window.dataLayer)||void 0===o||o.push({ecommerce:null})),null===(i=window.dataLayer)||void 0===i||i.push(t)}catch(v){console.warn("GA4: An error occurred in web!")}}function B(){var t,n,r=(t=x(),(n={in:!0,default:!1})[t]||n.default),o="1"===e.get("ISAPP")&&Number(e.get("APPVERSION"))>40901||"1"===e.get("ISIOS")&&Number(e.get("IOSVERSION"))>40900;return j().isInsideApp?r&&o:r}function G(t,n){if(!B()&&n.tip&&Q()){var r=j(),o=r.isInsideApp,i=r.isOldAPP,a=r.isOldIOS,c=r.isOtherApp;if(o&&!i&&!a&&!c){var u=n.tip.split("."),s={b:u[1],c:u[2],d:u[3],e:u[4],location:window.location.href||"",page:ee(),title:window.document.title||"",page_version:K()};Object.keys(n).forEach((function(e){"tip"!==e&&(s[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=n[e])}));try{!function(t,n){if(j().isUseMiCommand&&"1"===e.get("ISIOS")){var r=JSON.stringify({eventType:t,params:n}),o="xiaomi://MiEventTrackCommand?action=track&params="+encodeURIComponent(r);Number(e.get("IOSVERSION"))>=40503?window.webkit.messageHandlers.trackAction.postMessage({url:o}):window.location.assign(o)}else window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&window.WE.trackEvent(t,n)}(t,JSON.stringify($(s)))}catch(d){console.warn("OneTrack: An error occurred in app!")}}else try{"function"==typeof window.onetrack&&window.onetrack("track",t,$(n))}catch(d){console.warn("OneTrack: An error occurred in web!")}}}function F(e){return Y({utm_type:"mi_type",utm_channel:"mi_channel",utm_campaign:"utm_campaign",utm_source:"mi_source",utm_medium:"mi_medium",utm_term:"mi_term",utm_content:"mi_content"}[e])||Y(e)||""}function W(e,t){var n=Object.assign({},e);return t&&"object"==typeof t&&Object.keys(t).forEach((function(e){n[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=J(t[e],"")})),n}function J(e,t){return void 0===e?null:void 0!==t?e||t:e}function H(e,t){return void 0===e?t||void 0:void 0!==t?"".concat(e)?e:e||t||void 0:e}function $(e){var t=Object.assign({},e);return Object.keys(t).forEach((function(e){~[null,void 0].indexOf(t[e])&&delete t[e]})),t}function z(){var e=document.querySelector("html"),t=e&&e.getAttribute("data-ot-test");return(document.domain.includes("test")||document.domain.includes("dev"))&&"true"===t}function K(){var e="";try{e="".concat(process.env.VERSION)}catch(ce){}return e||"1.0.0"}function Z(){var e="temp";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch(t){return!1}}function Y(e,t){var n=t||window.location.search||(window.location.hash||"").replace(/.+\?/g,"?").replace(/#.+/g,"");if(!n)return"";var r=n.slice(1).split("&").map((function(e){return e.split("=")}));return(g(r.filter((function(t){var n=g(t,2),r=n[0];n[1];return r===e})).map((function(e){var t=g(e,2);t[0];return t[1]})),1)[0]||"").replace(/[ +]/g,"%20").replace(/(%[a-f0-9]{2})+/gi,(function(e){return decodeURIComponent(e)}))}var X=function(){return{instanceId:("1"===e.get("_ot_use_type")?e.get("_ot_instance_id")||"":w())||"",viewTip:e.get("_ot_view_tip")||"",refTip:e.get("_ot_ref_tip")||"",refB:e.get("_ot_ref_b")||"",sessionId:e.get("_ot_session_id")||"",lastSource:e.get("_ot_last_source")||"",utmType:e.get("_ot_utm_type")||"",utmChannel:e.get("_ot_utm_channel")||"",utmCampaign:e.get("_ot_utm_campaign")||"",utmSource:e.get("_ot_utm_source")||"",utmMedium:e.get("_ot_utm_medium")||"",utmTerm:e.get("_ot_utm_term")||"",utmContent:e.get("_ot_utm_content")||""}};function Q(){var t=j().isInsideApp,n=x(),r=-1!==window.location.hostname.indexOf("po.co"),o=function(e){return"high"!==c[e]?"0,1,2,3:":"0:"}(n);return!!(t||r?"0,1,2,3:":e.get("notice_gdpr_prefs")||o).match(/3/)}function ee(){return(window.location.pathname||"/").replace(/^\/[a-z]+/,"").replace(/\/(index.html)?$/,"")||"/index"}function te(e,t,n,r){return f(this,void 0,void 0,(function(){var o,i,a,c,u,s,d,l,p,m,f;return v(this,(function(v){switch(v.label){case 0:switch(o={},i=H(r.ecommerce.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),a=H(t.itemListName,"")?"".concat(i,".").concat(H(t.itemListName,"")):void 0,c=H(t.itemListId,"")?"".concat(i,".").concat(H(t.itemListId,"")):"".concat(i,".").concat(n.tipC).concat(n.tipC1?"|".concat(n.tipC1):""),e){case"view_item_list":return[3,1];case"select_item":return[3,2];case"view_item":return[3,3];case"view_cart":return[3,6];case"add_to_cart":return[3,9];case"remove_from_cart":return[3,12];case"begin_checkout":return[3,15];case"add_shipping_info":return[3,18];case"add_payment_info":return[3,21];case"select_promotion":return[3,24];case"view_promotion":return[3,25]}return[3,26];case 1:case 2:return o={item_list_name:H(a,""),item_list_id:H(c,""),index:Number(t.index||0)},[3,27];case 3:return u={},[4,ae("_ot_item_list_name")];case 4:return u.item_list_name=v.sent(),[4,ae("_ot_item_list_id")];case 5:return u.item_list_id=v.sent(),u.index=Number(t.index||0),o=u,[3,27];case 6:return s={},[4,ae("_ot_item_list_name")];case 7:return s.item_list_name=v.sent(),[4,ae("_ot_item_list_id")];case 8:return s.item_list_id=v.sent(),s.index=Number(t.index||0),o=s,[3,27];case 9:return d={},[4,ae("_ot_item_list_name")];case 10:return d.item_list_name=v.sent(),[4,ae("_ot_item_list_id")];case 11:return d.item_list_id=v.sent(),d.index=Number(t.index||0),o=d,[3,27];case 12:return l={},[4,ae("_ot_item_list_name")];case 13:return l.item_list_name=v.sent(),[4,ae("_ot_item_list_id")];case 14:return l.item_list_id=v.sent(),l.index=Number(t.index||0),o=l,[3,27];case 15:return p={},[4,ae("_ot_item_list_name")];case 16:return p.item_list_name=v.sent(),[4,ae("_ot_item_list_id")];case 17:return p.item_list_id=v.sent(),p.index=Number(t.index||0),o=p,[3,27];case 18:return m={},[4,ae("_ot_item_list_name")];case 19:return m.item_list_name=v.sent(),[4,ae("_ot_item_list_id")];case 20:return m.item_list_id=v.sent(),m.index=Number(t.index||0),o=m,[3,27];case 21:return f={},[4,ae("_ot_item_list_name")];case 22:return f.item_list_name=v.sent(),[4,ae("_ot_item_list_id")];case 23:return f.item_list_id=v.sent(),f.index=Number(t.index||0),o=f,[3,27];case 24:case 25:return o={promotion_id:H(t.promotionId,""),promotion_name:H(t.promotionName,""),creative_name:H(t.creativeName,""),creative_slot:H(t.creativeSlot,""),index:Number(t.index||0)},[3,27];case 26:return[3,27];case 27:return[2,o]}}))}))}function ne(e,t){for(var n=e.charCodeAt(0),r=t.charCodeAt(0),o="",i=n;i<=r;i++)o+=String.fromCharCode(i);return o}function re(){return function(e,t){for(var n="",r=0;r<t;r++)n+=e[Math.floor(Math.random()*e.length)];return n}(ne("0","9")+ne("a","z"),32)}function oe(e){var t,n,r,o,i,a;try{for(var c=y(e),u=c.next();!u.done;u=c.next()){var s=u.value;if(s){var d=String(s).toLowerCase();d.startsWith("spu")?a=s:d.length>=3&&d.length<=6?i=s:d.startsWith("3")&&d.length<11?r=s:d.startsWith("4")&&d.length<26&&(o=s)}}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return{commodityId:r,itemId:o,productId:i,spuId:a}}function ie(t,n){var r=j(),o=r.isInsideApp,i=r.isGAOldApp,a=r.isGAOldIOS,c=r.isOtherApp,u=r.isPocoApp;if(!(o&&!i&&!a&&!c&&!u)||Number(e.get("APPVERSION"))<=40402||Number(e.get("IOSVERSION"))<=40504)e.set(t,n,D(x(),{expires:365}));else try{"1"===e.get("ISIOS")?window.webkit.messageHandlers.setStringPref.postMessage({key:t.split("_ot_")[1],value:n}):window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&window.WE.setStringPref(t.split("_ot_")[1],n)}catch(s){console.log("set module name-id error")}}function ae(t){var n=j(),r=n.isInsideApp,o=n.isGAOldApp,i=n.isGAOldIOS,a=n.isOtherApp,c=n.isPocoApp,u="";if(!(r&&!o&&!i&&!a&&!c)||Number(e.get("APPVERSION"))<=40402||Number(e.get("IOSVERSION"))<=40504)u=e.get(t)||void 0;else try{"1"===e.get("ISIOS")?(window.webkit.messageHandlers.getStringPref.postMessage(t.split("_ot_")[1]),setTimeout((function(){u=window.ITEM_LIST[t.split("_ot_")[1]]||void 0}),1e3)):window.WE&&window.WE.trackEvent&&"function"==typeof window.WE.trackEvent&&(u=window.WE.getStringPref(t.split("_ot_")[1])||void 0)}catch(s){console.log("get module name-id error")}return new Promise((function(t){try{Number(e.get("IOSVERSION"))>40504&&"1"===e.get("ISIOS")?setTimeout((function(){t(u)}),1e3):t(u)}catch(s){t(u)}}))}window.ITEM_LIST={},window.getStringPref=function(e){Object.assign(window.ITEM_LIST,e)};var ce,ue,se,de,le=function(){return le=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},le.apply(this,arguments)},pe=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},me=function(t){if(!Q())return"";var n=document.querySelector("body"),r=pe(t.tip instanceof Object?[0,t.tip.b]:String(t.tip||"").split("."),2)[1];if(r&&n&&n.setAttribute("data-ot-page",String(r||0)),t.pageType){var o=t.pageType;n&&n.setAttribute("data-ot-pageType",String(o||""))}return function(){var n,r=S(t.tip)||"",o={tip:r||"",commodity_id:J(t.commodityId,""),product_id:J(t.productId,""),goods_id:J(t.goodsId,""),tag:J(t.tag,""),version:J(t.version,""),exp_id:J(t.expId,"")};(t.viewTipDisabledB||t.viewTipEnabledE)&&function(e){Z()&&(sessionStorage.setItem("DISABLED_B",JSON.stringify(e.rangeB||[])),sessionStorage.setItem("ENABLED_E",JSON.stringify(e.rangeE||[])))}({rangeB:t.viewTipDisabledB||[],rangeE:t.viewTipEnabledE||[]});var i,a,c=W(o,t.extra);if(Q()&&function(t){var n=g(T().split("."),2)[1],r=g((t||"").split("."),2)[1],o=e.get("_ot_ref_b")||"",i=x();n!==r&&n===o||E(""),i&&e.set("_ot_ref_b",r||"",D(i))}(r),G("view",c),window.dataLayer&&t.isOpenGA){var u=x(),l=C(),p=b(u),m=s(u),f=Number(m["pc"===l?"pc":"m"]),v=le({event:"page_view",muserid:e.get("mUserId")||void 0,guserid:e.get("guserid")||void 0,instance_id:p||void 0,app_id:d(c.local).APP_ID||void 0,tip:r,ref_tip:T()||void 0,page:ee(),page_version:K()||void 0,tz:(i=(new Date).getTimezoneOffset(),a=Math.abs(i),"GMT".concat(i>0?"-":"+").concat("00".concat(Math.floor(a/60)).slice(-2),":").concat("00".concat(a%60).slice(-2))||void 0),site_country:u||void 0,last_source:N(u)||void 0,app_platform:l||void 0,ot_ua:(null===(n=null===window||void 0===window?void 0:window.navigator)||void 0===n?void 0:n.userAgent)||void 0,utm_channel:P(u,"utm_channel",F("utm_channel"))||void 0,utm_content:P(u,"utm_content",F("utm_content"))||void 0,utm_term:P(u,"utm_term",F("utm_term"))||void 0,utm_type:P(u,"utm_type",F("utm_type"))||void 0,page_type:H(t.pageType||void 0,""),page_referrer:A(u)||void 0,domain_id:"".concat(f)||void 0,category_id:H(t.categoryId,""),category_name:H(t.categoryName,""),parent_category_id:H(t.parentCategoryId,""),parent_category_name:H(t.parentCategoryName,""),moe_enable:H(t.moeEnable,!1),abtest_group:e.get("xm_user_bucket")||void 0},I(r));U(Object.assign({},v,{event:"basic_config"})),setTimeout((function(){U(v)}),0)}return r}()},fe=function(){return fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},fe.apply(this,arguments)},ve=function(e,t){var n=S(e.tip,t)||"";if(!n&&"login"!==e.event||!Q())return"";var r=Object.assign({},e),o=x(),i=oe([r.commodityId,r.productId,r.itemId,r.spuId].filter((function(e){return!!e})));window.dataLayer&&U(fe({event:r.event,element_name:H(r.elementName,""),element_title:H(r.elementTitle,""),tip:n,link:H(L(r.linkUrl||r.link),""),ref_tip:T()||void 0,page_type:H(r.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),page_version:K()||void 0,asset_link:H(L(r.assetLink),""),asset_id:H(r.assetId,""),live_id:H(r.liveId,""),alg:H(r.alg,""),alg_ver:H(r.algVer,""),alg_group:H(r.algGroup,""),activity_id:H(r.activityId||r.eventId,""),search_result:H(r.searchResult||r.result,""),search_word:H(r.searchWord,""),search_type:H(r.searchType,""),commodity_id:H(i.commodityId,"")?"".concat(H(i.commodityId,"")):void 0,coupon_list:H(r.couponList,""),coupon_status:H(r.couponStatus,""),product_id:H(i.productId,"")?"".concat(H(i.productId,"")):void 0,tag:H(r.tag,""),spu_id:H(i.spuId,"")?"".concat(H(i.spuId,"")):void 0,item_name:H(r.itemName,""),item_id:H(i.itemId,"")?"".concat(H(i.itemId,"")):void 0,version:H(r.version,""),exp_id:H(r.expId,""),commentNbrofTotal:Number(r.commentNbrofTotal||0),page_referrer:A(o)||void 0,category_id:H(r.categoryId,""),category_name:H(r.categoryName,""),parent_category_id:H(r.parentCategoryId,""),parent_category_name:H(r.parentCategoryName,""),product_total_count:H(r.productTotalCount),type:H(r.type,""),model:H(r.model,""),moe_enable:H(r.moeEnable,!1),notify_me_click_date:H(r.notifyMeClickDate,"")},I(n)));return n},ge=function(t){if(t.userId){var n="1"===e.get("isFromPassport");if(R(t.local,"isFromPassport",{path:"/"}),"function"==typeof window.onetrack){if(B())return;window.onetrack("login",t.userId,t.accountType,t.extraParams,!n)}n&&ve({event:"login",tip:"",pageType:"login"})}},he=function(e){if("function"==typeof window.onetrack){if(B())return;window.onetrack("logout",e)}"function"==typeof window.gtag&&window.gtag("event","logout",e)},ye=-1,_e=function(e){addEventListener("pageshow",(function(t){t.persisted&&(ye=t.timeStamp,e(t))}),!0)},we=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},be=function(){var e=we();return e&&e.activationStart||0},Se=function(e,t){var n=we(),r="navigate";return ye>=0?r="back-forward-cache":n&&(document.prerendering||be()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},Ie=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},Oe=function(e,t,n,r){var o,i;return function(a){t.value>=0&&(a||r)&&((i=t.value-(o||0))||void 0===o)&&(o=t.value,t.delta=i,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Ee=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Te=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},xe=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},Ce=-1,Ne=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},ke=function(e){"hidden"===document.visibilityState&&Ce>-1&&(Ce="visibilitychange"===e.type?e.timeStamp:0,Pe())},Ae=function(){addEventListener("visibilitychange",ke,!0),addEventListener("prerenderingchange",ke,!0)},Pe=function(){removeEventListener("visibilitychange",ke,!0),removeEventListener("prerenderingchange",ke,!0)},Re=function(){return Ce<0&&(Ce=Ne(),Ae(),_e((function(){setTimeout((function(){Ce=Ne(),Ae()}),0)}))),{get firstHiddenTime(){return Ce}}},De=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Me=[1800,3e3],Le=function(e,t){t=t||{},De((function(){var n,r=Re(),o=Se("FCP"),i=Ie("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(i.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=Math.max(e.startTime-be(),0),o.entries.push(e),n(!0)))}))}));i&&(n=Oe(e,o,Me,t.reportAllChanges),_e((function(r){o=Se("FCP"),n=Oe(e,o,Me,t.reportAllChanges),Ee((function(){o.value=performance.now()-r.timeStamp,n(!0)}))})))}))},je=[.1,.25],qe={passive:!0,capture:!0},Ve=new Date,Ue=function(e,t){ce||(ce=t,ue=e,se=new Date,Fe(removeEventListener),Be())},Be=function(){if(ue>=0&&ue<se-Ve){var e={entryType:"first-input",name:ce.type,target:ce.target,cancelable:ce.cancelable,startTime:ce.timeStamp,processingStart:ce.timeStamp+ue};de.forEach((function(t){t(e)})),de=[]}},Ge=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){Ue(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,qe),removeEventListener("pointercancel",r,qe)};addEventListener("pointerup",n,qe),addEventListener("pointercancel",r,qe)}(t,e):Ue(t,e)}},Fe=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,Ge,qe)}))},We=[100,300],Je=[2500,4e3],He={},$e=[800,1800],ze=function e(t){document.prerendering?De((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},Ke=function(e,t){t=t||{};var n=Se("TTFB"),r=Oe(e,n,$e,t.reportAllChanges);ze((function(){var o=we();if(o){var i=o.responseStart;if(i<=0||i>performance.now())return;n.value=Math.max(i-be(),0),n.entries=[o],r(!0),_e((function(){n=Se("TTFB",0),(r=Oe(e,n,$e,t.reportAllChanges))(!0)}))}}))},Ze={"product-station":[{matchType:"include",file:"html",rule:"",entryType:"navigation",initiatorType:"navigation"},{matchType:"reg",file:"static.js",rule:new RegExp(/\/static\//),entryType:"resource",initiatorType:"script"},{matchType:"reg",file:"getgoodsinformation",rule:new RegExp(/getgoodsinformation/),entryType:"resource",initiatorType:"xmlhttprequest"},{matchType:"reg",file:"img",rule:new RegExp(/800x800/),entryType:"resource",initiatorType:"img"}]},Ye=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(ce){i(ce)}}function c(e){try{u(r.throw(e))}catch(ce){i(ce)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},Xe=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(ce){c=[6,ce],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},Qe=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},et=function(){var t=this;this.platform=C(),this._format=function(e,t){return void 0===t&&(t=0),e?e.toFixed(t).valueOf():void 0},this._getWebVitals=function(){return Ye(t,void 0,void 0,(function(){var e,t=this;return Xe(this,(function(n){return e=function(e){var n,r;if("TTFB"===e.name&&(null===(n=e.entries)||void 0===n?void 0:n.length)>0){var o=(null===(r=e.entries[0])||void 0===r?void 0:r.requestStart)||0;t.metrics[e.name]=e.value-o}else t.metrics[e.name]=e.value},function(e,t){t=t||{},De((function(){var n,r=Re(),o=Se("LCP"),i=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(o.value=Math.max(t.startTime-be(),0),o.entries=[t],n())},a=Ie("largest-contentful-paint",i);if(a){n=Oe(e,o,Je,t.reportAllChanges);var c=xe((function(){He[o.id]||(i(a.takeRecords()),a.disconnect(),He[o.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,c,!0)})),Te(c),_e((function(r){o=Se("LCP"),n=Oe(e,o,Je,t.reportAllChanges),Ee((function(){o.value=performance.now()-r.timeStamp,He[o.id]=!0,n(!0)}))}))}}))}(e,{reportAllChanges:!0}),function(e,t){t=t||{},Le(xe((function(){var n,r=Se("CLS",0),o=0,i=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=i[0],n=i[i.length-1];o&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,i.push(e)):(o=e.value,i=[e])}})),o>r.value&&(r.value=o,r.entries=i,n())},c=Ie("layout-shift",a);c&&(n=Oe(e,r,je,t.reportAllChanges),Te((function(){a(c.takeRecords()),n(!0)})),_e((function(){o=0,r=Se("CLS",0),n=Oe(e,r,je,t.reportAllChanges),Ee((function(){return n()}))})),setTimeout(n,0))})))}(e,{reportAllChanges:!0}),function(e,t){t=t||{},De((function(){var n,r=Re(),o=Se("FID"),i=function(e){e.startTime<r.firstHiddenTime&&(o.value=e.processingStart-e.startTime,o.entries.push(e),n(!0))},a=function(e){e.forEach(i)},c=Ie("first-input",a);n=Oe(e,o,We,t.reportAllChanges),c&&Te(xe((function(){a(c.takeRecords()),c.disconnect()}))),c&&_e((function(){var r;o=Se("FID"),n=Oe(e,o,We,t.reportAllChanges),de=[],ue=-1,ce=null,Fe(addEventListener),r=i,de.push(r),Be()}))}))}(e,{reportAllChanges:!0}),Le(e,{reportAllChanges:!0}),Ke(e),[2]}))}))},this._getIRL=function(){var e,n;try{for(var r=Qe(performance.getEntriesByType("resource")),o=r.next();!o.done;o=r.next()){var i=o.value;"img"===i.initiatorType&&(t.metrics.IRL=i.duration+(t.metrics.IRL||0))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},this._getUSP=function(){var e,n="User stays on the page";return performance.measure(n),t.metrics.USP=(null===(e=performance.getEntriesByName(n)[0])||void 0===e?void 0:e.duration)||0,t.metrics.USP},this._customProductStation=function(){var e=!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0;e&&Ze[e].forEach((function(e){var n,r;try{for(var o=Qe(performance.getEntries()),i=o.next();!i.done;i=o.next()){var a=i.value;a.entryType===e.entryType&&a.initiatorType===e.initiatorType&&("include"===e.matchType||"reg"===e.matchType&&e.rule.test(a.name))&&t.customArray.push({name:a.name,startTime:t._format(a.startTime),duration:t._format(a.duration),responseEnd:t._format(a.responseEnd)})}}catch(c){n={error:c}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}))},this.collectStart=function(){t._getWebVitals(),t._getIRL()},this.collectEnd=function(){"product-station"===(!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0)&&"m"===t.platform&&t._customProductStation(),t._getUSP()},this.reportPerf=function(){var n,r,o,i,a,c,u,s,d,l,p,m,f,v,g,h,y,_,w,S,I,O,E,T;t.collectEnd();var N=x(),k=C(),P=b(N),R=!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,D={P:(null===(n=window.performanceResult)||void 0===n?void 0:n.pageLoad)||0,D:"".concat((null===(o=null===(r=window.performanceResultDetail)||void 0===r?void 0:r.htmlTime)||void 0===o?void 0:o.htmlStartTime)||0,"-").concat((null===(a=null===(i=window.performanceResultDetail)||void 0===i?void 0:i.htmlTime)||void 0===a?void 0:a.htmlEndTime)||0,";").concat((null===(u=null===(c=window.performanceResultDetail)||void 0===c?void 0:c.jsTime)||void 0===u?void 0:u.jsStartTimeMin)||0,",").concat((null===(d=null===(s=window.performanceResultDetail)||void 0===s?void 0:s.jsTime)||void 0===d?void 0:d.jsStartTimeMax)||0,"-").concat((null===(p=null===(l=window.performanceResultDetail)||void 0===l?void 0:l.jsTime)||void 0===p?void 0:p.jsEndTimeMin)||0,",").concat((null===(f=null===(m=window.performanceResultDetail)||void 0===m?void 0:m.jsTime)||void 0===f?void 0:f.jsEndTimeMax)||0,";").concat((null===(g=null===(v=window.performanceResultDetail)||void 0===v?void 0:v.jsTime)||void 0===g?void 0:g.jsCacheStatus)||0,";").concat((null===(y=null===(h=window.performanceResultDetail)||void 0===h?void 0:h.fxTime)||void 0===y?void 0:y.fxStartTimeMin)||0,",").concat((null===(w=null===(_=window.performanceResultDetail)||void 0===_?void 0:_.fxTime)||void 0===w?void 0:w.fxStartTimeMax)||0,"-").concat((null===(I=null===(S=window.performanceResultDetail)||void 0===S?void 0:S.fxTime)||void 0===I?void 0:I.fxEndTimeMin)||0,",").concat((null===(E=null===(O=window.performanceResultDetail)||void 0===O?void 0:O.fxTime)||void 0===E?void 0:E.fxEndTimeMax)||0,";")},M={event:"performance",perf:JSON.stringify(D),alg:"",alg_group:"",alg_ver:"",search_result:"",search_word:"",search_type:"",page_version:"",muserid:e.get("mUserId")||void 0,guserid:e.get("guserid")||void 0,instance_id:P||void 0,page:ee(),site_country:N||void 0,app_platform:k||void 0,ot_ua:(null===(T=null===window||void 0===window?void 0:window.navigator)||void 0===T?void 0:T.userAgent)||void 0,page_referrer:A(N)||void 0,page_type:R},L="";if("product-station"===R&&"m"===t.platform){var j={};t.customArray.forEach((function(e,t){j["p".concat(t+1,"_ST")]=e.startTime,j["p".concat(t+1,"_DR")]=e.duration,j["p".concat(t+1,"_RE")]=e.responseEnd})),L=JSON.stringify(j),M.alg=L.substring(0,100),M.alg_group=L.substring(100,200),M.alg_ver=L.substring(200,300),M.search_result=L.substring(300,400),M.search_word=L.substring(400,500),M.search_type=L.substring(500,600),M.page_version=L.substring(600,700)}return U(M),M},this.metrics={},this.customArray=[],this.customPerf={}},tt=function(){var e=new et;return e.collectStart(),e.reportPerf},nt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},rt=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))};function ot(){var e,t,n,r,o,i,a,c,u,s,d=(e=performance.getEntriesByType("navigation")[0],{htmlStartTime:Math.trunc(e.startTime),htmlEndTime:Math.trunc(e.responseEnd)}),l=(t="spps_files",n=[],r=[],o=[],performance.getEntriesByType("resource").filter((function(e){return"script"===e.initiatorType&&e.name.includes(t)})).forEach((function(e){var t;n.push(e.startTime),r.push(e.responseEnd),o.push(0===(t=e).transferSize?"m":t.transferSize>0&&0===t.encodedBodySize?"d":"h2"===t.nextHopProtocol?"s":"n")})),{jsStartTimeMin:Math.trunc(Math.min.apply(Math,rt([],nt(n),!1))),jsStartTimeMax:Math.trunc(Math.max.apply(Math,rt([],nt(n),!1))),jsEndTimeMin:Math.trunc(Math.min.apply(Math,rt([],nt(r),!1))),jsEndTimeMax:Math.trunc(Math.max.apply(Math,rt([],nt(r),!1))),jsCacheStatus:o[0]}),p=(i="go.buy.mi.com",a="cookie-config",c=[],u=[],s=performance.getEntriesByType("resource").filter((function(e){return("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)&&e.name.includes(i)})).filter((function(e){return!e.name.includes(a)})),s.forEach((function(e){c.push(e.startTime),u.push(e.responseEnd)})),{fxStartTimeMin:Math.trunc(Math.min.apply(Math,rt([],nt(c),!1))),fxStartTimeMax:Math.trunc(Math.max.apply(Math,rt([],nt(c),!1))),fxEndTimeMin:Math.trunc(Math.min.apply(Math,rt([],nt(u),!1))),fxEndTimeMax:Math.trunc(Math.max.apply(Math,rt([],nt(u),!1)))});return{htmlTime:d,jsTime:l,fxTime:p}}var it=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(c){o={error:c}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},at=function(n,r){if(Q()){if(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"dle_consent_update"}),!("object"==typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))(_=document.createElement("script")).src="//i01.appmifile.com/webfile/globalweb/stat/js/IntersectionObserver.min.js",document.head.appendChild(_);var o,i,a,c,u=document.querySelector("#xmot"),l=j(),p=l.isOldAPP,m=l.isOldIOS,f=l.isOtherApp,v=l.isMihomeApp,g=l.isMicommunityApp;if(!(B()||u&&window.onetrack)){window.onetrack=window.onetrack||function(){(window.onetrack.q=window.onetrack.q||[]).push(arguments)};var h=z()?"cn":n.region||n.local||"cn",y=f||p||m?e.get("DEVICEID")||"undefined":(o=n.local,i="1"===e.get("_ot_use_type"),a=w(),c=!i&&!!a,e.set("_ot_use_type",c?"0":"1",D(o,{expires:730})),e.get("_ot_instance_id")||e.set("_ot_instance_id",re(),D(o,{expires:new Date(Date.now()+34128e6)})),c?a:{type:"cookie",name:"_ot_instance_id",options:D(o,{expires:new Date(Date.now()+34128e6)})});window.onetrack("init",n.appId||d(n.local).APP_ID,"default",h,y||void 0);var _;(_=document.createElement("script")).src="//ssl-cdn.static.browser.mi-img.com/mistat-data/onetrack/onetrack.js",_.async=!0,_.id="xmot",document.head.appendChild(_)}if(!window.pubsub){window.pubsub=window.pubsub||function(){(window.pubsub.q=window.pubsub.q||[]).push(arguments)},window.pubsub("init",n.local.toUpperCase(),"4c17b4d1cfa2fb108700a15027ff54139f56ed9a","mi-store-pubsub","xiaomi-mistore-pubsub");var b=document.createElement("script");b.type="text/javascript",b.src="//i02.appmifile.com/i18n/pubsub/i18n-pubsub.js",b.setAttribute("async","async"),document.body.appendChild(b)}window.gtag||(window.gtag=window.gtag||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];(window.dataLayer=window.dataLayer||[]).push(e)});var S=f?v?"mihome":g?"micommunity":"others":"1"===e.get("ISAPP")?"android":"1"===e.get("ISIOS")?"ios":n.platform||(window.innerWidth<=720?"m":"pc"),I=document.querySelector("html"),O=it(n.tip instanceof Object?[n.tip.a]:String(n.tip||"").split("."),1)[0];I&&I.setAttribute("data-ot-project",String(O||d(n.local).PRO_ID||0)),I&&I.setAttribute("data-ot-local",n.local),I&&I.setAttribute("data-ot-platform",S),"cn"===n.region&&I&&I.setAttribute("data-ot-test","true"),B()?function(e){k(e),R(e,"_ot_update_flag"),M(e);var t=["utm_type","utm_channel","utm_campaign","utm_source","utm_medium","utm_term","utm_content"];t.map(F).some((function(e){return!!e}))&&R(e,t.map((function(e){return"_ot_".concat(e)})))}(n.local):function(e,t,n){var r=s(t),o=Number(r["pc"===n?"pc":"m"]);k(t),R(t,"_ot_update_flag"),M(t),e.onetrack("set","ref_tip",(function(){return T()})),e.onetrack("set","site_country",t),e.onetrack("set","domain_id",o),e.onetrack("set","app_platform",n),e.onetrack("set","page",(function(){return ee()})),e.onetrack("set","page_version",K()),e.onetrack("set","lastsource",(function(){return N(t)})),e.onetrack("set","session_id",(function(){return M(t)}));var i=["utm_type","utm_channel","utm_campaign","utm_source","utm_medium","utm_term","utm_content"],a=i.map(F);a.some((function(e){return!!e}))&&R(t,i.map((function(e){return"_ot_".concat(e)})));i.forEach((function(n,r){e.onetrack("set",n,(function(){return P(t,n,a[r])}))}))}(window,n.local,S),r&&r instanceof Function&&r(window,n.local);var E=e.get("mUserId")||"";if(E)ge({local:n.local,userId:E});else if(function(){var e="temp";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}()){(localStorage.getItem("_onetrack_uid")||"")&&he()}if(n.tip){var x=Object.assign(n,{tip:n.tip});me(x)}new t.R({system:"æµ·å¤å°ç±³ç½",group:"BJ-MICOM",env:z()?"test":"pro",container:"#root",excludeNodes:["span#teconsent.text-with-inline-end-border",".product__article",".buy-container",".lazy",".pin-spacer"],maxWait:8e3,domWait:2e3,manualTrack:!0},(function(e){window.performanceResult=e})).initTrack();var C=null;window.onload=function(){C=tt(),window.performanceResultDetail=ot()};var A,L,q,V=!1;A=function(){window.currentPath!==window.location.pathname&&(window.currentPath=window.location.pathname,C&&"function"==typeof C?C():(C=tt())())},L=window.history,q=function(e){var t=L[e];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=new Event(e.toLowerCase());return t.apply(L,n),window.dispatchEvent(o),t}},window.history.pushState=q("pushState"),window.history.replaceState=q("replaceState"),window.addEventListener("pushstate",A,!1),window.addEventListener("replacestate",A,!1),window.addEventListener("popstate",A,!1),window.onbeforeunload=function(){V=!0,C&&"function"==typeof C?C():(C=tt())()},window.onpagehide=function(){V||(C&&"function"==typeof C?C():(C=tt())())},window.currentPath=window.location.pathname}};var ct=function(t,n){var r,o,i,a,c,u,s,d=S(t.tip,n)||"";if(G("click",W({tip:d,module_pos:J(t.modulePos),module_title:J(t.moduleTitle,""),element_name:J(t.elementName,""),element_title:J(t.elementTitle,""),link:J(L(t.linkUrl||t.link),""),asset_link:J(L(t.assetLink),""),commodity_id:J(t.commodityId,""),product_id:J(t.productId,""),goods_id:J(t.goodsId,""),tag:J(t.tag,""),version:J(t.version,""),exp_id:J(t.expId,""),sub_module_pos:J(t.subModulePos),sub_module_name:J(t.subModuleName,""),sub_module_title:J(t.subModuleTitle,""),notify_me_click_date:J(t.notifyMeClickDate,""),moe_enable:J(t.moeEnable,!1)},t.extra)),window.dataLayer&&t.isOpenGA){var l=Object.assign({},t,t.extra,{event:"click"});ve(l,n)}return d&&(t.linkUrl||t.link)&&!t.isNotJump&&(E(d),r=d,o=x(),i=g((r||"").split("."),5),a=i[1],c=i[4],u=Z()?JSON.parse(sessionStorage.getItem("DISABLED_B")||"[]").map((function(e){return Number(e||0)})):[],s=Z()?JSON.parse(sessionStorage.getItem("ENABLED_E")||"[]").map((function(e){return Number(e||0)})):[],(!~u.indexOf(Number(a||0))||~s.indexOf(Number(c||0)))&&o&&e.set("_ot_view_tip",r||"",D(o))),d},ut=function(e,t){Array.from(document.querySelectorAll(e.targetSelector||"[data-ot-click]")).forEach((function(n){var r=n&&n.getAttribute("data-ot-tip")||"",o=n&&n.getAttribute(e.targetDataAttr||"data-ot-click")||"{}",i={};try{i=JSON.parse(o)}catch(ce){z()&&console.warn("JSON string [".concat(o,"] is invalid!"))}var a="function"==typeof t?t(i,n):i,c=Object.assign(a,r?{tip:r}:{});n.addEventListener("click",(function(e){return ct(c,e.currentTarget||void 0)}))}))},st=function(){return st=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},st.apply(this,arguments)},dt=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{u(r.next(e))}catch(ce){i(ce)}}function c(e){try{u(r.throw(e))}catch(ce){i(ce)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}u((r=r.apply(e,t||[])).next())}))},lt=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(u){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(a=0)),a;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,r=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){a=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){a.label=c[1];break}if(6===c[0]&&a.label<o[1]){a.label=o[1],o=c;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(c);break}o[2]&&a.ops.pop(),a.trys.pop();continue}c=t.call(e,a)}catch(ce){c=[6,ce],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,u])}}},pt=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},mt=function(e){var t,n;return dt(this,void 0,void 0,(function(){var r,o,i,a,c,u,s,d,l,f,v,g,h,y,_,w,b,O,E,C,N,k;return lt(this,(function(P){switch(P.label){case 0:if(!(r=S(e.tip||(null===(t=e.ecommerce)||void 0===t?void 0:t.tip))||"")||!Q())return[2,""];if(o={},o=e.ecommerce?e:{event:e.event,ecommerce:st({items:[st({},e)]},e)},i=Object.assign({},o),a=[i.ecommerce.commodityId||i.ecommerce.commodity_id,i.ecommerce.productId||i.ecommerce.product_id,i.ecommerce.items[0].itemId||i.ecommerce.items[0].item_id,i.ecommerce.spuId||i.ecommerce.spu_id].filter((function(e){return!!e})),c=oe(a),!window.dataLayer)return[3,11];if(u=x(),s=I(r),d=[],!i.ecommerce||!i.ecommerce.items)return[3,8];P.label=1;case 1:P.trys.push([1,6,7,8]),l=pt(i.ecommerce.items),f=l.next(),P.label=2;case 2:return f.done?[3,5]:(v=f.value,g=v.itemName?v.itemName.toLowerCase().includes("poco")?"poco":v.itemName.toLowerCase().includes("redmi")?"redmi":"mi":"mi","select_item"===i.event&&(h=H(i.ecommerce.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),y=H(v.itemListName,"")?"".concat(h,".").concat(H(v.itemListName,"")):void 0,_=H(v.itemListId,"")?"".concat(h,".").concat(H(v.itemListId,"")):"".concat(h,".").concat(s.tipC).concat(s.tipC1?"|".concat(s.tipC1):""),ie("_ot_item_list_name",H(y,"")),ie("_ot_item_list_id",H(_,""))),[4,te(i.event,v,s,i)]);case 3:w=P.sent(),E=st({price:m(u)?Number(v.price||0):0,item_brand:H(v.itemBrand||v.item_brand||g,""),item_category:H(v.itemCategory||v.item_ategory,""),item_variant:H(v.itemVariant||v.item_variant,""),quantity:Number(v.quantity||0),item_category2:H(v.itemCategory2,""),item_id:H(c.itemId,"")?"".concat(H(c.itemId,"")):"undefined",item_name:(null===(n=H(v.itemName||v.item_name,""))||void 0===n?void 0:n.replace(/<.*?>/g," ").replace(/ +/g," "))||"undefined",promotion_id:H(v.promotionId||v.promotion_id,""),promotion_name:H(v.promotionName||v.promotion_name,""),creative_name:H(v.creativeName||v.creative_name,""),creative_slot:H(v.creativeSlot||v.creative_slot,"")},w),d.push(E),P.label=4;case 4:return f=l.next(),[3,2];case 5:return[3,8];case 6:return b=P.sent(),N={error:b},[3,8];case 7:try{f&&!f.done&&(k=l.return)&&k.call(l)}finally{if(N)throw N.error}return[7];case 8:return i.ecommerce.items&&0!==i.ecommerce.items.length?[3,10]:[4,te(i.event,{},s,i)];case 9:O=P.sent(),E=st({price:0,item_brand:void 0,item_category:void 0,item_variant:void 0,quantity:0,item_category2:void 0,item_id:"undefined",item_name:"undefined",promotion_id:void 0,promotion_name:void 0,creative_name:void 0,creative_slot:void 0},O),d.push(E),P.label=10;case 10:C=i.ecommerce||{},U({event:i.event,ecommerce:st({currency:p(u).currencyCode,alg:H(C.alg,""),alg_ver:H(C.algVer,""),alg_group:H(C.algGroup,""),transation_id:H(C.transationId,""),status:H(C.status,""),payment_type:H(C.paymentType,""),tag:H(C.tag,""),stock:H(C.stock,""),shipping_tier:H(C.shippingTier,""),search_result:H(C.searchResult||C.result,""),search_word:H(C.searchWord,""),search_type:H(C.searchType,""),shipping:m(u)?Number(C.shipping||0):0,tax:m(u)?Number(C.tax||0):0,link:H(L(C.linkUrl||C.link),""),tr_promo_code:H(C.trPromoCode,""),tr_promo_price:m(u)?Number(C.trPromoPrice||0):0,value:m(u)?Number(C.value||0):0,page_referrer:A(u)||void 0,page_version:K()||void 0,version:H(C.version,""),spu_id:H(c.spuId,"")?"".concat(H(c.spuId,"")):void 0,product_id:H(c.productId,"")?"".concat(H(c.productId,"")):void 0,commodity_id:H(c.commodityId,"")?"".concat(H(c.commodityId,"")):void 0,tip:r,ref_tip:T()||void 0,element_name:H(C.elementName,""),element_title:H(C.elementTitle,""),promo_code:H(C.promoCode||C.promo_code,""),promo_price:m(u)?Number(C.promoPrice||0):0,page_type:H(C.pageType||!!document.body&&document.body.getAttribute("data-ot-pageType")||void 0,""),image_url:H(C.imageUrl,""),category_name:H(C.categoryName,""),category_id:H(C.categoryId,""),parent_category_id:H(C.parentCategoryId,""),parent_category_name:H(C.parentCategoryName,""),source:H(C.source,""),revenue:H(C.revenue,"")?"".concat(H(C.revenue,"")):void 0,the_final_amount_user_pays:H(C.ThefinalAmountUserPays,""),discount_vaue:H(C.discountVaue,"")?"".concat(H(C.discountVaue,"")):void 0,order_pin_code:H(C.orderPinCode,"")?"".concat(H(C.orderPinCode,"")):void 0,number_of_search_resuts:m(u)?Number(C.numberOfSearchResuts||0):0,purchase_amount:H(C.purchaseAmount,""),items:d},s),moe_enable:H(C.moeEnable,"")},!0),P.label=11;case 11:return[2,r]}}))}))},ft=function(){return ft=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},ft.apply(this,arguments)},vt=function(e,t){var n=S(e.tip,t)||"";if(G("expose",W({tip:n,module_pos:J(e.modulePos),module_title:J(e.moduleTitle,""),element_name:J(e.elementName,""),element_title:J(e.elementTitle,""),link:J(L(e.linkUrl||e.link),""),asset_link:J(L(e.assetLink),""),commodity_id:J(e.commodityId,""),product_id:J(e.productId,""),goods_id:J(e.goodsId,""),tag:J(e.tag,""),version:J(e.version,""),exp_id:J(e.expId,""),sub_module_pos:J(e.subModulePos),sub_module_name:J(e.subModuleName,""),sub_module_title:J(e.subModuleTitle,"")},e.extra)),window.dataLayer&&e.isOpenGA){var r=Object.assign({},e,e.extra,{event:"expose"});ve(r,t)}return n},gt=function(e,t){var n=Array.from((e.targetNodeWrapper||document).querySelectorAll(e.targetNodeSelector||"[data-ot-expose]"));if("function"==typeof IntersectionObserver){var r={root:e.targetRootSelector&&document.querySelector(e.targetRootSelector)||null,rootMargin:e.targetRootMargin||"0px",threshold:void 0===e.exposeThreshold?.3:e.exposeThreshold},o=new IntersectionObserver((function(n){n.forEach((function(n){if(!(n.intersectionRatio<=0)&&n.isIntersecting){var r=n.target||{},i=r&&r.getAttribute("data-ot-tip")||"",a=r&&r.getAttribute(e.targetNodeDataAttr||"data-ot-expose")||"{}",c={};try{c=JSON.parse(a)}catch(ce){z()&&console.warn("JSON string [".concat(a,"] is invalid!"))}var u="function"==typeof t?t(c,r):c;if(vt(Object.assign({},u,i?{tip:i}:{},{isOpenGA:!1}),r),window.dataLayer){var s=Object.assign(u,i?{tip:i}:{});if(u.isOpenGA)if("ecommerce"===s.eventType){var d={event:s.event,ecommerce:s.ecommerce};s.ecommerce||(d={event:s.event,ecommerce:ft({items:[ft({},s)]},s)}),mt(d,r)}else s.event=s.event||"expose",ve(s,r)}!e.isInfinite&&o.unobserve(r)}}))}),r);return n.forEach((function(e){o.observe(e)})),o}console.warn("Loading polyfill for IntersectionObserver")},ht=function(e){var t=S(e.tip)||"";return G("slide",W({tip:t,link:J(L(e.linkUrl||e.link),""),asset_link:J(L(e.assetLink),""),asset_id:J(e.assetId,""),commodity_id:J(e.commodityId,""),product_id:J(e.productId,""),goods_id:J(e.goodsId,""),tag:J(e.tag,""),alg:J(e.alg,""),alg_ver:J(e.algVer,""),alg_group:J(e.algGroup,"")},e.extra)),t},yt=function(e){var t=S(e.tip)||"";return G("add_cart",W({tip:t,commodity_id:J(e.commodityId,""),product_id:J(e.productId,""),goods_id:J(e.goodsId,""),tag:J(e.tag,""),goods_count:J(e.goodsCount,1),goods_amount:J(e.goodsAmount,0),parent_goods_id:J(e.parentGoodsId,0),bundle_id:J(e.bundleId,0)},e.extra)),t},_t=function(){var e=document.querySelector("body");e&&e.removeAttribute("data-ot-page")},wt=function(e,t){var n=S(t.tip)||"",r={tip:n};Object.keys(t).forEach((function(e){r[e.replace(/([A-Z])/g,"_$1").toLowerCase()]=J(t[e])})),r.tip=n,G(e,r)},bt=function(t){if(Q()&&window.pubsub){var n=x(),r=C(),o=b(n),i=window.navigator.userAgent,a=i.match(/Android.*; ?(.*(?= Build))/),c=i.match(/iPhone OS .*?(?= )/),u=a&&a[1],s=c&&c[0],d={fr:"EU",es:"EU",it:"EU",uk:"EU",nl:"EU",pl:"EU",de:"EU",in:"IN",ru:"RU",default:"SG"},l={B:{instance_id:"1"===e.get("ISIOS")?e.get("DEVICEID")||void 0:"1"===e.get("ISAPP")?e.get("RECOMMENDID")||e.get("DEVICEID")||void 0:o,item_id:t.itemId,Device:void 0,"Device model":i.includes("Android")?u:i.includes("iPhone")?s:void 0,app_platform:r||void 0,event_name:t.eventName,page_type:t.pageType},attributes:{region:x().toUpperCase(),area:d[x()]||d.default}};!function(t){var n=j(),r=n.isUseMiCommand,o=n.isOtherApp,i=n.isPocoApp,a="xiaomi://MiEventTrackCommand?action=logPubSub&params="+encodeURIComponent(t);!o&&r&&!i&&"1"===e.get("ISIOS")&&Number(e.get("IOSVERSION"))>=40802?window.location.assign(a):!o&&!i&&"1"===e.get("ISAPP")&&Number(e.get("APPVERSION"))>=40800?prompt(a):null===window||void 0===window||window.pubsub("pub",t)}(JSON.stringify(l))}};const St=function(){var e=window.xmot&&window.xmot.q;window.xmot=It,e instanceof Array&&!!e.length&&e.forEach((function(e){try{It.apply(void 0,e)}catch(t){}}));return It}();function It(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={init:at,view:me,click:ct,clickWith:ut,expose:vt,exposeWith:gt,slide:ht,addCart:yt,login:ge,logout:he,exit:_t,performance:tt,default:wt,custom:ve,ecommerce:mt,getSettings:X,pubSubPush:bt};return(r[e]||r.default).apply(void 0,t)}})(),r=r.default})()));