!function(){"use strict";var t={d:function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r:function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{generateFactoryMethod:function(){return O},getDataAttributesFromElement:function(){return E},init:function(){return T}});var n=function(t){if(!(e=t)||("string"==typeof e?!e.trim():0===Object.keys(e).length))return null;var e,n=document.cookie.match(new RegExp("(?:^|; )".concat(t.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)")));return n?n[1]:null},i={PROD:"prod",QA:"qa",DEV:"dev",GOLDEN:"golden",PREPROD:"preprod",E2E:"e2e",TEST:"test"},o=Math.floor(Date.now()/1e3),r="WARN",a="INFO",c="ERROR",s={env:"e2e"},l=["Intuit.data.entdataproc.trackstarwebapp"],d=function(t,e,r,a){var s=window.location.href,d=s?encodeURI(s):s,u="7afa70fe-f1cc-11e7-8c3f-9a214cf093ae",p={timestamp:"".concat(o),destination:[]};a&&l.length>1?p.destination.push(l):delete p.destination;var g="";t===c&&(g=new Error);var f=[{eventTypes:"APPLICATION_CLIENT",spanId:u,parentSpanId:u,rootSpanId:u,transactionId:"tid1",env:r,deviceId:"DeviceId1",logType:t,appId:"appId1",component:"component",url:d,userId:"TrackStar",ivid:n("ivid")||n("provisional_ivid")||"",trackingLibraryVersion:"202308291851",callStack:g?g.stack:"",oilProps:p,execTimeMs:100,Message:e}],w="",m="";r===i.PROD?(w="https://logging.api.intuit.com/v2/log/message",m="prdakyresvV5u8cSivv3so3GRaYFhdu22H2NUJEn"):(w="https://logging-e2e.api.intuit.com/v2/log/message",m="preprdakyres6dF8hkg2meLkckKZt6QjgHdpi4Ll"),fetch(w,{method:"POST",body:JSON.stringify(f),headers:{"Content-Type":"application/json",Authorization:"Intuit_APIKey intuit_apikey=".concat(m,", intuit_apkey_version=1.0"),"-X-APPID":"'".concat("Intuit.data.entdataproc.trackstarwebapp","'"),"-X-DEVICEID":"a","-X-INTUIT_TID":"a"}}).then((function(t){if(!t.ok)throw new Error("Error during logging with status code: ".concat(t.status))})).catch((function(t){console.log(t)}))},u=function(t,e){var n;n=e||window.location.href;var i=t;i=i.replace(/\[\[\]]/g,"\\$&");var o=new RegExp("[?&]".concat(i,"(=([^&#]*)|&|#|$)")).exec(n);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null},p=function(t,e,n,o,r){var a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,p={file:e,method:n,msg:o,trackingApplication:r||"noApp"},g=function(){return d(t,p,s.env,a)},f="1"===u("debug"),w=!1;l&&"string"==typeof l&&l.length>0&&(w=sessionStorage.getItem("tracking_error_".concat(l))),w||(s.env===i.PROD?t===c&&(g(),l&&"string"==typeof l&&sessionStorage.setItem("tracking_error_".concat(l),"true")):(g(),l&&"string"==typeof l&&sessionStorage.setItem("tracking_error_".concat(l),"true"))),f&&console.log(p)},g={prod:{NODE_ENV:"prod",ECS_LIB_HOST_DOMAIN:"https://uxfabric.intuitcdn.net"},e2e:{NODE_ENV:"e2e",ECS_LIB_HOST_DOMAIN:"https://uxfabric.intuitcdn.net"},dev:{NODE_ENV:"dev",ECS_LIB_HOST_DOMAIN:"https://localhost.intuit.com:9000"},test:{NODE_ENV:"test",ECS_LIB_HOST_DOMAIN:"https://uxfabric.intuitcdn.net"}};function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t||e?e.reduce((function(e,i){var o=m({},e),r=t&&t.dataset&&t.dataset[i]||void 0;return r&&n.indexOf(i)>-1&&(r=r.toLowerCase()),o[i]=r,o}),{}):{}}function v(t){for(var e=t.split("."),n=window,i="",o=e.length,r=0;r<o;r+=1)n[i=e[r]]=n[i]||{},n=n[i];return n}var y=function(t,e,n){var i=e||0,o=i;return new Promise((function(e,s){!function l(){var d="loadScript",u=performance.now(),g=document.createElement("script");g.type="text/javascript",g.async=!0,g.src=t,g.onload=function(){i!==o&&p(a,n,d,'"Script '.concat(g.src," loaded in ").concat(i-o+1," tries,\n                timeTaken=").concat((performance.now()-u).toFixed(0),' ms"'),"",!1,"script-loading-time-".concat(g.src)),e("".concat(t,"-loaded"))},g.onerror=function(){o>0?(p(r,n,d,"Starting script loading retry for ".concat(g.src),"",!1,"load-script-retry-for ".concat(g.src)),o-=1,l()):(p(c,n,d,'"Error loading '.concat(g.src," timeTaken=").concat((performance.now()-u).toFixed(0),' ms"'),"",!1,"load-script-error-".concat(g.src)),s(new Error("Failed to load script - ".concat(t))))};var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(g,f)}()}))},b=["trackPage","track","identify","group","on","setApplicationTrackingContext","setWidgetTrackingContext"],h={org:{CG:"cg",CMO:"cmo",CS:"cs",CTO:"cto",IIP:"iip",PTG:"ptg",SBSEG:"sbseg"},purpose:{CARE:"care",MKTG:"mktg",IDENTITY:"identity",INTERNAL:"internal",PROD:"prod"},scope:{ACCT_COMM:"acct_comm",APPSCOM:"appscom",CAPITAL:"capital",CORP:"corp",CPP:"cpp",DESKTOP:"desktop",DEVELOPER:"developer",DEVX:"devx",IDENTITY:"identity",IDX:"idx",IEP:"iep",INSURANCE:"insurance",INTRANET:"intranet",ITO:"ito",LACERTE:"lacerte",LIFELINE:"lifeline",MINT:"mint",MKTG_SITE:"mktg_site",MYACCT:"myacct",PAYMENTS:"payments",PAYROLL:"payroll",PF_COMM:"pf_comm",PROSERIES:"proseries",QB:"mktg_site",QBLIVE:"qblive",QBM:"qbm",QBMONEY:"qbmoney",QBO:"qbo",QBOA:"qboa",QBSE:"qbse",SBX_ACCT:"sbx_acct",SBX_TP:"sbx_tp",SALESFORCE:"salesforce",TURBO:"turbo",TURBOTAX:"turbotax",TXP:"txp",TXP_BLOG:"txp_blog"},uiAction:{CHANGED_SELECTION:"changed selection",CLICKED:"clicked",CLICKING:"clicking",DRAGGED:"dragged",DRAGGED_AND_DROPPED:"dragged and dropped",ENTERED:"entered",ERROR:"error",HIDDEN:"hidden",HOVERED_OVER:"hovered over",KEYPRESSED:"keypressed",SELECTED:"selected",SLID:"slid",STARTED:"started",TOGGLED:"toggled",UNSELECTED:"unselected",VIEWED:"viewed",INTERACTED:"interacted"},env:i},k="bootstrapWebAnalytics.js",A=function(t,e,n,o,s,l,d,u,f){var w=new Promise((function(w){var m,E=g[e].ECS_LIB_HOST_DOMAIN,v="track-event-lib",b="".concat(v,".min.js"),h=document.querySelector("script[src*=track-event-lib-init]")?document.querySelector("script[src*=track-event-lib-init]").src.slice(0,-28):"",A=window.intuit.tracking.ecs.ownDomain&&h.length>0?h:"".concat(E,"/analytics/").concat("202308291851"),O=s?s.split(","):[],T="track-event-lib-",S={prod:"".concat(A,"/").concat(T),e2e:"".concat(A,"/").concat(T),dev:T,test:T};m=i.DEV.toLowerCase()===e.toLowerCase()||i.TEST.toLowerCase()===e.toLowerCase()?b:window.intuit.tracking.ecs.ownDomain&&h.length>0?"".concat(h,"/").concat(b):"".concat(A,"/").concat(b);var I=function(){var o="initBeaconing";if(addEventListener("unhandledrejection",(function(t){p(r,{fileName:"bootstrapWebAnalytcs.js",methodName:"initBeaconing",trackingApplication:"trackstar",msg:"Unhandled promise rejection - reason: ".concat(t.reason)})})),!window.intuit.tracking.ecs.initBeaconed){window.intuit.tracking.ecs.initBeaconed=!0;var s,g=performance.now(),E=[];if(E.push(y(m,3)),O.forEach((function(t){E.push(y("".concat(S[e.toLowerCase()]).concat(t,".min.js"),3))})),"true"===n&&!f){var b="visitorapi.min.js";i.DEV.toLowerCase()!==e.toLowerCase()&&i.TEST.toLowerCase()!==e.toLowerCase()&&(b="".concat(A,"/").concat(b)),y(b,3).then((function(){Visitor.getInstance("969430F0543F253D0A4C98C6@AdobeOrg",{trackingServer:"ci.intuit.com",trackingServerSecure:"sci.intuit.com",marketingCloudServer:"ci.intuit.com",marketingCloudServerSecure:"sci.intuit.com"})}))}f&&(s=window,["alloy"].forEach((function(t){s[t]||((s.__alloyNS=s.__alloyNS||[]).push(t),s[t]=function(){var e=arguments;return new Promise((function(n,i){s[t].q.push([n,i,e])}))},s[t].q=[])})),E.push(y("https://uxfabric.intuitcdn.net/adobealloy/alloy-2.17.0.min.js",3))),(i.TEST.toLowerCase()===e.toLowerCase()||window.location.search.indexOf("trackingTest=true")>-1)&&E.push(new Promise((function(t){setTimeout((function(){return t()}),"localhost.intuit.com"===window.location.hostname?2e3:25e3)}))),Promise.all(E).then((function(){return(f&&!window.alloy||"test"===f)&&(e.toLowerCase()!==i.PROD.toLowerCase()&&window.dispatchEvent(new Event("unhandledrejection")),p(c,{fileName:"bootstrapWebAnalytcs.js",methodName:"initBeaconing",trackingApplication:"trackstar",msg:"Adobe Alloy configure not called since window.alloy not set in ".concat(document.location.href)})),new Promise((function(t){window.alloy?window.alloy("configure",{edgeConfigId:f,orgId:"969430F0543F253D0A4C98C6@AdobeOrg",edgeDomain:"sci.intuit.com",clickCollectionEnabled:!1,idMigrationEnabled:!0}).then((function(){window.intuit.tracking.ecs.alloy=window.alloy,t("in then")})).catch((function(e){p(c,{fileName:"bootstrapWebAnalytcs.js",methodName:"initBeaconing",trackingApplication:"trackstar",msg:"exception in Adobe Alloy configure call: ".concat(e&&e.toString())}),t("in catch")})):t("no alloy")}))})).then((function(){return TrackStar[v].WebAnalytics.initializeAnalyticsJS(t)})).then((function(i){p(a,"bootstrapWebAnalytics.js","initBeaconing","initBeaconing totalTime: ".concat(performance.now()-g," ms"));var r=window.intuit.tracking.ecs.webAnalytics,s=r.initConfig;if(s){window.intuit.tracking.ecs.analytics=i,s.write_key=t,s.env=e,s.loadAdobeVisitorApi="true"===n,s.nosequencingofcalls=l,s.nowait=d,s.linkwait=u;var f=new TrackStar[v].WebAnalytics(s);for(f.constants=r.constants,f.invoked=r.invoked;r.q&&r.q.length>0;){var w=r.q.shift(),m=w.shift();"function"==typeof f[m]&&f[m].apply(f,w)}r=null,window.intuit.tracking.ecs.webAnalytics=f}else p(c,k,o,"initConfig is missing!")})).catch((function(t){p(c,k,o,"Error replaying queued events: ".concat(t&&t.message),"",!1,"replay-queued")})).finally((function(){w()}))}};o?document.addEventListener(o,I):window.intuit.tracking.ecs.isBrowserPolyfilled?document.addEventListener("BootstrapWebAnalytics",I):document.addEventListener("DOMContentLoaded",I)}));return w},O=function(t,e){t[e]=function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];var r=Array.prototype.slice.call(i);r.unshift(e),t.q.push(r)}};function T(){v("intuit.tracking.ecs.webAnalytics"),v("intuit.tracking.ecs.webAnalytics.constants"),window.intuit.tracking.ecs.webAnalytics.constants=h;var t=window.intuit.tracking.ecs.webAnalytics;if(t.q=t.q||[],t.invoked)p(c,"init.js","","webAnalytics snippet included twice.","",!1,"webAnalytics-snippet-twice");else{var e=document.querySelector('script[data-name="webAnalytics"]');if(e&&e.dataset&&e.dataset.writeKey&&e.dataset.env){var n=E(e,["writeKey","env","loadAdobeVisitorApi","bootstrapEvent","loadModules","nosequencingofcalls","nowait","linkwait","adobeEdgeConfigId","perfPerc","useRum"],["loadAdobeVisitorApi","loadModules","nosequencingofcalls","nowait","linkwait"]),i=n.writeKey,o=n.env,r=n.loadAdobeVisitorApi,a=n.bootstrapEvent,l=n.loadModules,d=n.nosequencingofcalls,u=n.nowait,g=n.linkwait,f=n.adobeEdgeConfigId,w=n.perfPerc,m=n.useRum;s.env=o;var y=E(e,["ownDomain"],["ownDomain"]).ownDomain;window.intuit.tracking.ecs.ownDomain=y,window.intuit.tracking.ecs.perfPerc=w,window.intuit.tracking.ecs.useRum=m,t.invoked=!0;for(var k=0;k<b.length;k+=1)O(t,b[k]);window.analytics=window.analytics||[],window.analytics.SNIPPET_VERSION="4.1.0",function(t,e,n,i,o,r,a,c,s){var l=new Promise((function(l){var d=[].concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(t))return[];var e=[];return t.forEach((function(t){t in window||e.push(t)})),e}(["Promise","fetch"])).concat(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!Array.isArray(t))return[];var e=[];return t.forEach((function(t){t in window&&"function"==typeof window[t]||e.push(t)})),e}(["Event"]));if(0===d.length)A(t,e,n,i,o,r,a,c,s),l();else{window.intuit.tracking.ecs.isBrowserPolyfilled=!0;var u="https://cdn.polyfill.io/v3/polyfill.min.js?features=".concat(d.join(","),"&flags=gated"),p=document.createElement("script");p.onload=function(){A(t,e,n,i,o,r,a,c,s),window.intuit.tracking.ecs.initBeaconed||document.dispatchEvent(new Event("BootstrapWebAnalytics")),l()},p.src=u;var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(p,g)}}))}(i,o,r,a,l,d,u,g,f)}else p(c,"init.js","","data-name, data-write-key and data-env is required in init script.","",!1,"init-script-required-fields")}}T(),(window.TrackStar=window.TrackStar||{})["track-event-lib-init"]=e}();
//# sourceMappingURL=track-event-lib-init.min.js.map