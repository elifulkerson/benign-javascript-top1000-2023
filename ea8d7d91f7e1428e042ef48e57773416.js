!function(){if(window.jQuery){var e=window.jQuery;!function(t){"function"==typeof define&&define.amd?define(["$"],t):"object"==typeof exports?module.exports=t(require("$")):t(e)}(function(e){function t(){var t,n,i={height:s.innerHeight,width:s.innerWidth};return i.height||((t=d.compatMode)||!e.support.boxModel)&&(n="CSS1Compat"===t?l:d.body,i={height:n.clientHeight,width:n.clientWidth}),i}function n(){return{top:s.pageYOffset||l.scrollTop||d.body.scrollTop,left:s.pageXOffset||l.scrollLeft||d.body.scrollLeft}}function i(){if(c.length){var i=0,r=e.map(c,function(e){var t=e.data.selector,n=e.$element;return t?n.find(t):n});for(o=o||t(),a=a||n();i<c.length;i++)if(e.contains(l,r[i][0])){var d=e(r[i]),s={height:d[0].offsetHeight,width:d[0].offsetWidth},m=d.offset(),u=d.data("inview");if(!a||!o)return;m.top+s.height>a.top&&m.top<a.top+o.height&&m.left+s.width>a.left&&m.left<a.left+o.width?u||d.data("inview",!0).trigger("inview",[!0]):u&&d.data("inview",!1).trigger("inview",[!1])}}}var o,a,r,c=[],d=document,s=window,l=d.documentElement;e.event.special.inview={add:function(t){c.push({data:t,$element:e(this),element:this}),!r&&c.length&&(r=setInterval(i,250))},remove:function(e){for(var t=0;t<c.length;t++){var n=c[t];if(n.element===this&&n.data.guid===e.guid){c.splice(t,1);break}}c.length||(clearInterval(r),r=null)}},e(s).on("scroll resize scrollstop",function(){o=a=null}),!l.addEventListener&&l.attachEvent&&l.attachEvent("onfocusin",function(){a=null})})}}();var gooInfiniteScroll=function(e,t,n,i){this.userDevice=e||"unknown",this.limit=16,this.isError=!1,this.deferred,this.tmp_pv_count=0,this.host=t,this.count=0,this.isUpdatable=!0,this.recommendData=[],this.exceptionData=this.changeFormat(n),this.index=0,this.pv_count=1,this.rec_count=1,this.feed_count=1,this.entm_img_url="//img.news.goo.ne.jp/topics/app/default_img/img_topic_nogenre_11.png",this.recommendEntmData=this.changeEntmFormat(i),this.entm_index=0,this.entm_pv_count=1,this.entm_rec_count=1,this.entm_feed_count=1,"pc"===this.userDevice?(this.rec_id_name="gooad-badge300_3_",this.ga_count=32):(this.rec_id_name="gooad-spbadge300_",this.ga_count=16),this.feed_id=null,this.setRecommendData()};gooInfiniteScroll.prototype.setEntm=function(){var e=this;$("#recommend-entm").one({inview:function(){$("#infscr-loading").show(),e.deferred.done(function(){$.each(e.getRecommendData("entm"),function(t,n){e.appendRecommend(t,n,"entm")}),$("#infscr-loading").hide(),function(){var t=arguments;$("#recommend-entm li").eq("-"+e.limit).one("inview",function(){$("#infscr-loading").show();var n=e.getRecommendData("entm");if(n.length<e.limit)return $("#infscr-loading").hide(),e.isError=!0,!1;e.deferred.done(function(){$.each(n,function(t,n){e.appendRecommend(t,n,"entm")}),$("#infscr-loading").hide(),t.callee()})})}()})}}),$(window).on("load",function(){$("html,body").trigger("scroll")})},gooInfiniteScroll.prototype.setEvent=function(){var e=this;$("#recommend-news").one({inview:function(){$("#infscr-loading").show(),e.deferred.done(function(){$.each(e.getRecommendData("news"),function(t,n){e.appendRecommend(t,n,"news")}),$("#infscr-loading").hide(),function(){var t=arguments;$("#recommend-news li").eq("-"+e.limit).one("inview",function(){$("#infscr-loading").show();var n=e.getRecommendData("news");if(n.length<e.limit)return $("#infscr-loading").hide(),e.isError=!0,!1;if(e.deferred.done(function(){$.each(n,function(t,n){e.appendRecommend(t,n,"news")}),$("#infscr-loading").hide(),t.callee()}),!e.recommendData||e.recommendData.length<e.limit){if(!e.isUpdatable||e.isError)return!1;e.isUpdatable=!1,e.setRecommendData()}})}()})}}),$(window).on("load",function(){$("html,body").trigger("scroll")})},gooInfiniteScroll.prototype.appendRecommend=function(e,t,n){var i=this,o=this.userDevice,a="#recommend-"+n;try{var r=t["ntr-pubday"]?t["ntr-pubday"]:"",c=t["ntr-source"]?t["ntr-source"]:"gooニュース",d=t.recommendType?t.recommendType:"";if("entm"===n)var s="bnentertainment",l=i.entm_index+1,m=i.entm_pv_count,u="entame";else var s="mynews",l=i.index+1,m=i.pv_count,u="default";var f=o+"news-"+s+"-"+l,p=o+"news-"+s+"img-"+l,h=o+"news-"+s+"txt-"+l,g=getAddClassName(e),v=$("<li>").addClass(g),_=$("<img>",{class:"lazy","data-original":t["ntr-thumbnail"],alt:t.title,"data-cid":p}).lazyload({threshold:60,effect:"fadeIn",effectspeed:1e3}),w=$("<span>",{class:"module-list-thumb"}).append(_);if("pc"===i.userDevice)var y=$("<span>",{class:"module-caption-text","data-cid":h}).text(i.ellipsis(t.title,g)),D=$("<span>",{class:"module-caption-note"}).text(c+" "+r),b=$("<span>",{class:"module-list-text"}).append(y).append("<br />").append(D);else var y=$("<span>",{class:"title","data-cid":h}).text(i.ellipsis(t.title,g)),D=$("<span>").text(c+" "+r),b=$("<span>",{class:"module-list-text"}).append(y,D);var x=$("<a>",{id:f,"data-cid":f,href:t.url}),E=i.getPrInfo(e,n);return x.append(w).append(b),v.append(x),$(a).append(v),E&&$(a).append(E),i.feed_id&&window.gooad&&window.gooad.render(i.feed_id),"entm"===n?i.entm_index++:i.index++,1===l&&dataLayer.push({event:"recommendLogic",recommendType:d}),l%i.ga_count==0&&(m>i.tmp_pv_count&&(dataLayer.push({event:"addPV",addPVcategory:"topscroll",scrollcount:m,contentcategory:u}),i.tmp_pv_count++),"entm"===n?i.entm_pv_count++:i.pv_count++),!0}catch(e){return $("#infscr-loading").remove(),!1}},gooInfiniteScroll.prototype.getRecommendData=function(e){var t=this,n="entm"===e?t.recommendEntmData:t.recommendData,i=[];return Object.keys(n).length>=t.limit?(i=n.filter(function(e,n){return n<t.limit}),"entm"===e?t.recommendEntmData=n.slice(t.limit):t.recommendData=n.slice(t.limit)):i=n,i},gooInfiniteScroll.prototype.setRecommendData=function(){var e=this;e.deferred=new $.Deferred,$.ajax({type:"GET",url:e.host,cache:!1,timeout:1e4,dataType:"json",xhrFields:{withCredentials:!0}}).success(function(t){e.addRecommendData(t),e.count++,e.isError=!0}).fail(function(){e.exceptionData&&e.addRecommendData(e.exceptionData),e.isError=!0}).always(function(){e.deferred.resolve()})},gooInfiniteScroll.prototype.changeFormat=function(e){var t=[];return $.each(e,function(e,n){t[e]={"ntr-thumbnail":n.image_sp,"ntr-source":n.ip_name,title:n.title,url:n.link,click_url:n.link}}),t},gooInfiniteScroll.prototype.changeEntmFormat=function(e){var t=[],n=this.entm_img_url;return $.each(e,function(e,i){t[e]={"ntr-thumbnail":null===i.image?n:i.image,"ntr-source":i.cp,"ntr-pubday":i.date,title:i.title,url:i.link,click_url:i.link}}),t},gooInfiniteScroll.prototype.ellipsis=function(e,t){var n=this,i=0;return i=t?"pc"===n.userDevice?25:18:"pc"===n.userDevice?39:29,e.length>i&&(e=e.slice(0,i)+"..."),e},gooInfiniteScroll.prototype.addRecommendData=function(e){e&&(this.recommendData&&this.recommendData.length>0?$.merge(this.recommendData,e):this.recommendData=e)};var getAddClassName=function(e){var t="";switch(e){case 0:case 12:t="sp"==this.userDevice?"is-card is-left":"is-large";break;case 1:case 13:t="sp"==this.userDevice?"is-card is-right":""}return t};gooInfiniteScroll.prototype.getPrInfo=function(e,t){if("undefined"!=typeof is_emergency&&"1"==is_emergency)return null;var n=this,i=$("<li>",{class:"is-ad"}),o=null;if("entm"===t)var a=2,r=n.entm_feed_count,c=n.entm_rec_count;else var a=1,r=n.feed_count,c=n.feed_count;switch(n.feed_id=null,e){case 6:case 10:case 14:$(i).attr("id","gooad_infinity_infeed_"+a+"_"+r),o=$("<script>",{type:"text/javascript",src:"//adcdn.goo.ne.jp/images/0common/gootop_infinity_infeed_tag.js?dev="+n.userDevice+"&tab="+a+"&no="+r}),"entm"===t?n.entm_feed_count++:n.feed_count++;break;case 3:1===c&&(o=$("<div>",{id:n.rec_id_name+a}),n.feed_id=n.rec_id_name+a,"entm"===t?n.entm_rec_count++:n.rec_count++)}return o?i.append(o):null};var changeDateFormat=function(e){var t="";if(e&&!isNaN(e)&&8===String(e).length){t=e.substr(0,4)+"年"+e.substr(4,2)+"月"+e.substr(6,2)+"日"}else t=e;return t};