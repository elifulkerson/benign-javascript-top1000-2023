"use strict";(self.webpackChunkjsm_portal=self.webpackChunkjsm_portal||[]).push([[9251],{52385:(e,o,n)=>{var t=n(29634);const i="consent",s="ad_storage",c="granted";var a,r=new Uint8Array(16);function l(){if(!a&&!(a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(r)}const u=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const d=function(e){return"string"==typeof e&&u.test(e)};for(var p=[],g=0;g<256;++g)p.push((g+256).toString(16).substr(1));const C=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(p[e[o+0]]+p[e[o+1]]+p[e[o+2]]+p[e[o+3]]+"-"+p[e[o+4]]+p[e[o+5]]+"-"+p[e[o+6]]+p[e[o+7]]+"-"+p[e[o+8]]+p[e[o+9]]+"-"+p[e[o+10]]+p[e[o+11]]+p[e[o+12]]+p[e[o+13]]+p[e[o+14]]+p[e[o+15]]).toLowerCase();if(!d(n))throw TypeError("Stringified UUID is invalid");return n};const k=function(e,o,n){var t=(e=e||{}).random||(e.rng||l)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,o){n=n||0;for(var i=0;i<16;++i)o[n+i]=t[i];return o}return C(t)},f=(...e)=>{t.Z.get("BiscuitDebug")&&console.log(...e)},m=()=>((e,o=null)=>{try{return JSON.parse(e)}catch(e){return o}})(t.Z.get(i)),y=(e=document.cookie)=>e.split(";").filter((e=>e)).map((e=>{const[o,n]=e.split("=");return{name:o.trim(),value:decodeURIComponent(n)}})),w=(e,o)=>o?.filter((o=>o.name===e))?.[0]?.category,h=e=>e?.reduce(((e,o)=>(o.category.length>0&&(e[o.name]=o),e)),{})||{},v=(e,o)=>Object.keys(e).reduce(((n,t)=>({...n,[w(t,o)]:e[t]})),{}),b=e=>{const o=k(),{consentBanner:n,cookies:t,defaultCheckedCookieCategories:i}=e,s=(new Date).toISOString(),c={};return t.forEach((({category:e,name:o,isVisible:n})=>{e&&n&&(c[o]=+i.includes(e))})),{id:o,createdAt:s,consentBanner:n,cookieApprovals:c,ipHash:"string",url:window.location.origin}},E=()=>!!t.Z.get(i),S=(e,o,n=!1)=>{const s=b(e),c=t.Z.get(i);let a=s?.cookieApprovals;if(c){a=JSON.parse(c).cookieApprovals}document.dispatchEvent(new CustomEvent("BiscuitShowDialog",{detail:{cookies:a,translations:o,showPrivacyCenter:n}}))},A=async(e="",o={},n={})=>{const{version:t="v1"}=n,i=document.querySelector("[data-biscuit-report-url]")?.dataset?.biscuitReportUrl,s=i.replace("{userType}","auth").replace("{version}",t);return(await fetch(`${s}/${e}`,{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}})).json()},B=(e,o,n)=>A(`consent/consent-configurations/${n}/cookies`,{id:k(),name:e,type:o}),O=e=>{const o="data-biscuit-category";document.querySelectorAll(`[${o}]`).forEach((n=>{((e,o,n)=>!!n[e.getAttribute(o)])(n,o,e)&&n.replaceWith((e=>{const o=document.createElement("script");return o.type="text/javascript",o.innerHTML=e.innerHTML,o})(n))}))},j=[];window.onGoogleConsent=e=>{j.push(e)};const D=async({consentedCategories:e,callback:o,domain:n,config:a})=>{const r=[],l=b(a);Object.keys(l.cookieApprovals).forEach((o=>{const n=w(o,a.cookies),t=+e[n];l.cookieApprovals[o]=t,t&&!r.includes(n)&&r.push(n)})),f("save consent",l),await(({cookieApprovals:e,consentBanner:o,id:n,url:t},i,s)=>A("consent/consents",{id:n,url:t,consentBanner:o,cookieApprovals:e,approvedCategories:s,consentConfigurationId:i,ip:"127.0.0.1"}))(l,a.id,r),"function"==typeof o&&o();const u=JSON.stringify(l),d=encodeURIComponent(String(u)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),p=new Blob([d]).size;p>4096&&console.warn(`Storing locally failed. Size is exceeding the maximum allowed size. Max 4096, actual ${p}`),t.Z.set(i,u,{domain:n,expires:365});const g=e?.analytical?c:"denied";t.Z.set(s,g,{domain:n,expires:365}),j.forEach((e=>{e&&e(g)})),document.dispatchEvent(new CustomEvent("BiscuitConsentSaved")),document.body.classList.remove("consent-not-given"),f("run script tags initialization"),O(e)},V=Symbol("Cookie"),$=()=>{Object.defineProperty(Document.prototype,V,Object.getOwnPropertyDescriptor(Document.prototype,"cookie")),Object.defineProperty(Document.prototype,"cookie",{enumerable:!0,configurable:!0,get(){return this[V]},set(e){const o=new CustomEvent("cookieSet",{detail:y(e)[0],cancelable:!0});document.dispatchEvent(o)&&(this[V]=e)}})},R=[],F=({config:e,isUnknownCookieCollectionEnabled:o,consentValue:n,debugCookies:t})=>s=>{const{name:c,value:a}=s.detail,r=h(e?.cookies);if(n&&e){const{id:l}=e,u=n.cookieApprovals?.[c]||t.includes(c),d=!!r?.[c];if(c!==i)return f(`onCookieChange: %c${c}, %cvalue: %c${a}, %cisAllowed: %c${!!u}`,"font-weight:bold; color:#C75C21FF;","color:white;","font-weight:bold; color:#C75C21FF;","color:white;",u?"color:green;":"color:red"),!o||d||R.includes(c)||(f(`unknownCookie ${c}, reporting`),B(c,"cookie",l),R.push(c)),void(u||s.preventDefault())}f(`onCookieChange ${c} value: ${a}`)},L=async()=>{$();const{biscuitConfig:e,biscuitCookiedomain:o,biscuitCountry:n,biscuitFeatureFlags:a,biscuitLang:r}=document.getElementById("biscuit").dataset,l=a.includes("enableUnknownCookieCollection"),u=m();try{const a=await fetch(e),p=((e,o)=>o&&e.find((({relevantLocations:e})=>e.find((e=>e.country.toLowerCase()===o.toLowerCase()))))||e[0])(await a.json(),n),g=await fetch(r),C=await g.json(),k=(d=p.cookies,d?.reduce(((e,o)=>(!o.isVisible&&e.push(o.name),e)),[])||[]),b=h(p.cookies),A=((e,o)=>o?.filter((({name:o})=>!e[o]&&Object.keys(e).find((e=>{if(e.endsWith("*")){const n=e.substring(-1,e.length-1);if(n&&!o.startsWith(n))return!0}return!1})))).map((({name:e})=>e))||[])(b,y(document.cookie)),O=v(u?.cookieApprovals||{},p?.cookies||[]);if(O?.analytical&&t.Z.set(s,c,{domain:o,expires:365}),document.addEventListener("cookieSet",F({config:p,isUnknownCookieCollectionEnabled:l,consentValue:u,debugCookies:k})),l&&await Promise.all(A.map((e=>B(e,"cookie",p.id)))),u){const e=(({debugCookies:e,knownCookies:o,consentValue:n})=>{const t=Object.keys(o),i=Object.keys(n.cookieApprovals);return t.filter((o=>!i.includes(o)&&!["minionStatus",...e].includes(o))).concat(i.filter((e=>!t.includes(e))))})({debugCookies:k,knownCookies:b,consentValue:u});0!==e?.length&&(f("%cNew cookie(s) in config found, saving consent with new data","font-weight:bold; color:#C75C21FF;"),f(e),D({consentedCategories:O,domain:o,config:p}))}return{isReady:!0,openDialog:(e=!1)=>S(p,C,e),isCookieConsentAvailable:E,saveConsent:(e,n)=>D({domain:o,config:p,consentedCategories:e,callback:n}),getCookieCategory:e=>w(e,p.cookies),checkConsentCookieExistence:()=>{t.Z.get(i)||window.location.href.includes("cookies-policy")||S(p,C)},getConsentValue:m,translations:C,config:p,getConsentedCategories:()=>v(m()?.cookieApprovals||{},p?.cookies||[])}}catch(e){console.error("Error while initializing Biscuit",e)}var d};void 0===window.BiscuitConsentCookie?(window.BiscuitConsentCookie="loading...",L().then((e=>{window.BiscuitConsentCookie=e,document.dispatchEvent(new CustomEvent("BiscuitReady")),t.Z.get(i)||window.location.href.includes("cookies-policy")||S(e.config,e.translations)}))):console.warn("Cookie Consent Library is included twice - please remove one instance to avoid unexpected results.")}},e=>{e.O(0,[3448],(()=>{return o=52385,e(e.s=o);var o}));e.O()}]);