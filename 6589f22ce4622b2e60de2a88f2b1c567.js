(function(){var pageHtml=document.getElementsByTagName("HTML")[0];if(!Element.prototype.matches){Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;}
var SlimHeader={init:function(){this.SlimMenu();this.SlimSections();this.Search();},SlimMenu:function(){try{var xhrMeteo=false;document.addEventListener("click",function(e){if(e.target&&e.target.matches(".rep-toggle-menu")){pageHtml.classList.toggle('is-left-menu-open');if(xhrMeteo==false){SlimHeader.xhrInit("xhrMeteoLight");}
xhrMeteo=true;}});document.onkeydown=function(evt){evt=evt||window.event;if(evt.keyCode==27){pageHtml.classList.remove('is-left-menu-open');}}}catch(e){}},SlimSections:function(){var parent;document.addEventListener("click",function(e){if(e.target&&e.target.matches(".rep-left-nav__list__trigger")){parent=e.target.parentElement
if(parent.matches(".is-open")){parent.classList.toggle('is-open');}else{try{document.querySelector('.rep-left-nav__list__item.is-open').classList.remove('is-open');}catch(err){};parent.classList.add('is-open');}}});console.log('Slim Sections Ready');},Search:function(){document.addEventListener("click",function(e){var searchForm=document.getElementById('repSearchForm');if(e.target&&e.target.matches("#repSearchToggleButton")){searchForm.classList.toggle('is-open');}
if(e.target&&e.target.matches("#repSearchFormCloseButton")){searchForm.classList.remove('is-open');}});},xhrInit:function(id){var t=document.getElementById(id);var t_url=t.dataset.src;var xhr=new XMLHttpRequest();xhr.open("GET",t_url);xhr.onreadystatechange=function(e){if(xhr.readyState==4&&xhr.status==200){t.innerHTML=xhr.responseText;t.removeAttribute('id');var allScripts=t.getElementsByTagName('script');for(var n=0;n<allScripts.length;n++){if(allScripts[n].src!=null){var script=document.createElement("script");script.src=allScripts[n].src;document.body.appendChild(script);}}
t.removeAttribute('style');}
if(xhr.readyState==4&&xhr.status==404){console.error("Errore: ",xhr.statusText);}};xhr.send();}};var PageHeader={init:function(){this.pageMenu();this.PageMenuSections();this.PageMenuSectionActive();this.followHeader();},pageMenu:function(){try{var sectionToggle=document.getElementById('rep-page-nav-toggle');sectionToggle.addEventListener('click',function(){this.classList.toggle('is-active');pageHtml.classList.toggle('is-menu-open');})
console.log('Page Menu Ready');}catch(e){}},PageMenuSections:function(){var parent;document.addEventListener("click",function(e){if(e.target&&e.target.matches(".rep-page-header-nav__list .has-dropdown > a")){parent=e.target.parentElement;if(parent.matches(".is-active")){parent.classList.toggle('is-active');}else{try{document.querySelector('.rep-page-header-nav__list .is-active').classList.remove('is-active');}catch(err){};parent.classList.add('is-active');}}});},PageMenuSectionActive:function(){try{var pageNavList=document.getElementById('rep-page-nav-list');var pageNav=document.getElementById('rep-page-nav');var menuArray=mappingTerm[term];console.log('Page Menu Section in reading point');var matchesTerm;menuArray.forEach(function(value,index){var matchValue="[data-menu="+value+"]";matchesTerm=pageNavList.querySelector("[data-menu="+value+"]");matchesTerm.classList.add('is-active');if(index==1&&window.matchMedia("(min-width: 768px)").matches)pageNav.style.paddingBottom="30px";});console.log('Page Menu Section Active Ready');}catch(e){}},navSearch:function(){var searchButton=document.getElementById('mainNavSearchButton');var searchForm=document.getElementById('mainNavSearchForm');if(searchButton&&searchForm){searchButton.addEventListener('click',function(){this.classList.toggle('is-visible');searchForm.classList.toggle('is-visible');},false);}},followHeader:function(){try{let current,action,providerLabel;let template="";socialParams.gsButtons.forEach(function(value,index){current=socialParams.gsButtons[index];provider=current.provider;providerLabel=provider.charAt(0).toUpperCase()+provider.slice(1)
switch(provider){case"twitter":action="https://twitter.com/"+current.followUsers;break;default:action=current.actionURL;break;}
template+=`<a target="_blank"href="${action}"title="Seguici su ${providerLabel}"><svg><use href="#social-icon-${provider}"></use></svg></a>`;});document.getElementById("gs-social-follow").innerHTML=template;}catch(e){}}};var PageFooter={init:function(){this.Network();},Network:function(){try{document.addEventListener("click",function(e){var footer=document.querySelector('.rep-page-footer');if(e.target&&e.target.matches(".rep-page-footer__toggler")){footer.classList.toggle('is-open');}});console.log('Network Footer Toggle Ready');}catch(e){}}}
SlimHeader.init();PageHeader.init();PageFooter.init();})();;
;window.kwait=window.kwait||[];kwait.push(['call',"header_js"]);