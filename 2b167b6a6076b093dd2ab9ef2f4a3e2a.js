(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{466:function(t,e,n){t.exports=function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=40)}([function(t,e){t.exports=n(0)},function(t,e){t.exports={getUserAgent:function(t){return t.app.env?t.header["yk-user-agent"]||t.header["user-agent"]:t.navigator.userAgent},getCna:function(){if(navigator.userAgent.indexOf("YoukuDesktop")>-1&&window.__INITIAL_DATA__&&window.__INITIAL_DATA__.ikuUtdid)return window.__INITIAL_DATA__.ikuUtdid;var t="",e=new RegExp("(^| )cna=([^;]*)(;|$)"),n=document.cookie.match(e);return n&&n[2]&&(t=n[2]),t},getPid:function(){var t,e,n="",r=null===(t=navigator)||void 0===t||null===(e=t.userAgent)||void 0===e?void 0:e.match(/PID\s([^;]+)/);return r&&r.length>1&&(n=r[1]||""),n},getCookie:function(t,e){var n=navigator.userAgent.indexOf("YoukuDesktop")>-1,r="";if(e&&e.app&&e.app.env)return r=e.cookies.get(t,{encrypt:!1,signed:!1,overwrite:!0}),Promise.resolve(r);if(n&&window.ikuApi&&window.ikuApi.getSessionCookies)return window.ikuApi.getSessionCookies({domain:".youku.com"}).then((function(e){var n=e.filter((function(e){return e.name===t}));return n[0]?n[0].value:""}));var o=new RegExp("(^| )"+t+"=([^;]*)(;|$)"),a=document.cookie.match(o);return a&&a[2]&&(r=a[2]),Promise.resolve(r)},setCookie:function(t,e,n,r,o){var a,i=t+"="+e;if(n){var c=1e3*n;i+=";expires="+(a=new Date((new Date).getTime()+c)).toUTCString()}if(navigator.userAgent.indexOf("YoukuDesktop")>-1&&window.ikuApi&&window.ikuApi.setSessionCookies){var l={url:"https://www.youku.com",name:t,value:e,domain:r||".youku.com",path:o||"/"};return a&&(l.expirationDate=a.toUTCString()),void window.ikuApi.setSessionCookies(l)}i+=r?";domain="+r:";domain="+window.location.host.replace(window.location.port,"").replace(":",""),i+=o?";path="+o:";path=/",document.cookie=i},getQueryString:function(t){var e={},n=location.search.substr(1).split("&");if(n)for(var r=0;r<n.length;r++){var o=n[r].split("=");e[o[0]]=o[1]}return e[t]},getPreStr:function(t){var e,n=null==t?void 0:t.match(/pre|prodtest|local|pre2|staging/i);return null==n||null===(e=n[0])||void 0===e?void 0:e.toString()}}},function(t,e,n){t.exports={user_center_box:"usercenter_user_center_box",avatar:"usercenter_avatar",avatar_img:"usercenter_avatar_img",no_login:"usercenter_no_login",no_login_box:"usercenter_no_login_box",no_login_text:"usercenter_no_login_text",panel:"usercenter_panel",content:"usercenter_content",uInfo:"usercenter_uinfo",vipBorder:"usercenter_vipborder",uLink:"usercenter_ulink",vipULink:"usercenter_vipulink",vipLevelIcon:"usercenter_viplevelicon",exitLogin:"usercenter_exitlogin",uInfoInt:"usercenter_uinfoint",uList:"usercenter_ulist",item:"usercenter_item",lastItem:"usercenter_lastitem",iconSpan:"usercenter_iconspan",text:"usercenter_text",user_content:"usercenter_user_content",user_content_avatar:"usercenter_user_content_avatar",user_content_avatar_int:"usercenter_user_content_avatar_int",user_content_avatar_img:"usercenter_user_content_avatar_img",user_content_txt:"usercenter_user_content_txt",user_content_int:"usercenter_user_content_int",card_content:"usercenter_card_content",card_content_top:"usercenter_card_content_top",card_content_top_content:"usercenter_card_content_top_content",card_content_top_content_txt:"usercenter_card_content_top_content_txt",card_content_top_content_span:"usercenter_card_content_top_content_span",vipColorSubTitle:"usercenter_vipcolorsubtitle",crm_btn:"usercenter_crm_btn",card_content_bottom:"usercenter_card_content_bottom",card_content_bottom_item:"usercenter_card_content_bottom_item",intPanel:"usercenter_intpanel",vipPanel:"usercenter_vippanel",svipPanel:"usercenter_svippanel",uPanel:"usercenter_upanel","user_panel_tab-in-animation":"usercenter_user_panel_tab-in-animation",winPanel:"usercenter_winpanel",winRedPanel:"usercenter_winredpanel",user_center_box_win:"usercenter_user_center_box_win",user_center_redbox_win:"usercenter_user_center_redbox_win",user_center_box_nav:"usercenter_user_center_box_nav",oldStyle:"usercenter_oldstyle"}},function(t,e,n){t.exports={uRecord:"historyrecord_urecord",headerLogImgLeft:"historyrecord_headerlogimgleft",headerLogImg:"historyrecord_headerlogimg",rightText:"historyrecord_righttext",rightTextFont:"historyrecord_righttextfont",headerLogDate:"historyrecord_headerlogdate",headerLogTime:"historyrecord_headerlogtime",headerLogImgRight:"historyrecord_headerlogimgright",recordIcon:"historyrecord_recordicon",panel:"historyrecord_panel","panel_tab-in-animation":"historyrecord_panel_tab-in-animation",filterArea:"historyrecord_filterarea",check:"historyrecord_check",content:"historyrecord_content",arrow:"historyrecord_arrow",intPanel:"historyrecord_intpanel",uPanel:"historyrecord_upanel","user_panel_tab-in-animation":"historyrecord_user_panel_tab-in-animation",intuPanel:"historyrecord_intupanel","user_panel_tab-in-animation-int":"historyrecord_user_panel_tab-in-animation-int",recordLogin:"historyrecord_recordlogin",recList:"historyrecord_reclist",icoDevice:"historyrecord_icodevice",recSt:"historyrecord_recst",hoverMore:"historyrecord_hovermore",next:"historyrecord_next",deletePlaylog:"historyrecord_deleteplaylog",notPlayable:"historyrecord_notplayable",iconfontheader:"historyrecord_iconfontheader",noRecord:"historyrecord_norecord","no-record-bg":"historyrecord_no-record-bg",uBottom:"historyrecord_ubottom",moreButton:"historyrecord_morebutton",logout:"historyrecord_logout",imgtip:"historyrecord_imgtip",subtitle:"historyrecord_subtitle",loginbuttonBox:"historyrecord_loginbuttonbox",loginbutton:"historyrecord_loginbutton",redPointer:"historyrecord_redpointer",dropdownOpen:"historyrecord_dropdownopen",handle:"historyrecord_handle",icoUrecord:"historyrecord_icourecord",showanimate:"historyrecord_showanimate"}},function(t,e,n){t.exports={hot_component:"hot-search-component_hot_component",nav_list:"hot-search-component_nav_list",nav_item_box:"hot-search-component_nav_item_box",nav_item_box_content:"hot-search-component_nav_item_box_content",nav_page_tabs:"hot-search-component_nav_page_tabs",nav_page_tabs_left:"hot-search-component_nav_page_tabs_left",nav_page_tabs_right:"hot-search-component_nav_page_tabs_right",nav_page_tabs_opacity:"hot-search-component_nav_page_tabs_opacity",nav_item:"hot-search-component_nav_item",current_item:"hot-search-component_current_item",list_box:"hot-search-component_list_box",hot_item:"hot-search-component_hot_item",hot_item_nohover_box:"hot-search-component_hot_item_nohover_box",hot_item_hover_box:"hot-search-component_hot_item_hover_box",hot_item_hover_box_img:"hot-search-component_hot_item_hover_box_img",hot_item_hover_content:"hot-search-component_hot_item_hover_content",hot_item_hover_content_title:"hot-search-component_hot_item_hover_content_title",hot_item_hover_content_txt:"hot-search-component_hot_item_hover_content_txt",hot_item_txt_hover:"hot-search-component_hot_item_txt_hover",hot_item_img_hover:"hot-search-component_hot_item_img_hover",hot_word:"hot-search-component_hot_word",hot_word_tag:"hot-search-component_hot_word_tag",hot_word_tag_number:"hot-search-component_hot_word_tag_number",hot_point_tag:"hot-search-component_hot_point_tag",hot_point_tag_icon:"hot-search-component_hot_point_tag_icon",order_box:"hot-search-component_order_box",order:"hot-search-component_order",text:"hot-search-component_text",one:"hot-search-component_one",two:"hot-search-component_two",three:"hot-search-component_three",more:"hot-search-component_more",last:"hot-search-component_last",hot_more:"hot-search-component_hot_more",hot_component_short:"hot-search-component_hot_component_short"}},function(t,e,n){t.exports={hot_search_list:"hot-search-list_hot_search_list",nav_list:"hot-search-list_nav_list",nav_item_box:"hot-search-list_nav_item_box",nav_item_box_content:"hot-search-list_nav_item_box_content",nav_page_tabs:"hot-search-list_nav_page_tabs",nav_page_tabs_left:"hot-search-list_nav_page_tabs_left",nav_page_tabs_right:"hot-search-list_nav_page_tabs_right",nav_page_tabs_opacity:"hot-search-list_nav_page_tabs_opacity",nav_item:"hot-search-list_nav_item",current_item:"hot-search-list_current_item",list_box:"hot-search-list_list_box",hot_item:"hot-search-list_hot_item",hot_item_nohover_box:"hot-search-list_hot_item_nohover_box",hot_item_hover_box:"hot-search-list_hot_item_hover_box",hot_item_hover_box_img:"hot-search-list_hot_item_hover_box_img",hot_item_hover_content:"hot-search-list_hot_item_hover_content",hot_item_hover_content_title:"hot-search-list_hot_item_hover_content_title",hot_item_hover_content_txt:"hot-search-list_hot_item_hover_content_txt",hot_item_txt_hover:"hot-search-list_hot_item_txt_hover",hot_item_img_hover:"hot-search-list_hot_item_img_hover",hot_word:"hot-search-list_hot_word",hot_word_tag:"hot-search-list_hot_word_tag",hot_word_tag_number:"hot-search-list_hot_word_tag_number",hot_point_tag:"hot-search-list_hot_point_tag",hot_point_tag_icon:"hot-search-list_hot_point_tag_icon",tag:"hot-search-list_tag",order_box:"hot-search-list_order_box",order:"hot-search-list_order",text:"hot-search-list_text",one:"hot-search-list_one",two:"hot-search-list_two",three:"hot-search-list_three",more:"hot-search-list_more",last:"hot-search-list_last",hot_more:"hot-search-list_hot_more"}},function(t,e,n){t.exports={vip_wrap:"vip_vip_wrap",vip_buy_button:"vip_vip_buy_button",vip_icon:"vip_vip_icon",vip_pop_content:"vip_vip_pop_content",vip_icontxt_width:"vip_vip_icontxt_width",vip_iconpop_width:"vip_vip_iconpop_width",icontxt:"vip_icontxt",angle_mark:"vip_angle_mark","angle-mark-in-animation":"vip_angle-mark-in-animation",vip_panel:"vip_vip_panel",vip_panel_content:"vip_vip_panel_content",panel_txt_list:"vip_panel_txt_list",panel_txt_item:"vip_panel_txt_item",panel_code_box:"vip_panel_code_box",panel_code_img:"vip_panel_code_img",code_loading:"vip_code_loading","code-refresh-in-animation":"vip_code-refresh-in-animation",code_error:"vip_code_error",code_error_box:"vip_code_error_box",panel_code_txt:"vip_panel_code_txt",bottomBox:"vip_bottombox",bottomButton:"vip_bottombutton",bottomButtonPop:"vip_bottombuttonpop",bottomButtonPopTxt:"vip_bottombuttonpoptxt",item_content:"vip_item_content",uPanel:"vip_upanel","user_panel_tab-in-animation":"vip_user_panel_tab-in-animation",masPanel:"vip_maspanel"}},function(t,e,n){t.exports={sugSearchList:"keyword-search-list_sugsearchlist",sugItem:"keyword-search-list_sugitem",left_word:"keyword-search-list_left_word",sugItemBox:"keyword-search-list_sugitembox",sugImgItem:"keyword-search-list_sugimgitem",sugItemHoverBox:"keyword-search-list_sugitemhoverbox",sugItemHoverContent:"keyword-search-list_sugitemhovercontent",sugItemHoverContentTitle:"keyword-search-list_sugitemhovercontenttitle",sugItemHoverContentTip:"keyword-search-list_sugitemhovercontenttip",sugItemHoverBoxImg:"keyword-search-list_sugitemhoverboximg",sugItemHoverBtn:"keyword-search-list_sugitemhoverbtn",sugItemHoverBoxNoBtn:"keyword-search-list_sugitemhoverboxnobtn",sugItemHover:"keyword-search-list_sugitemhover",sugTextItem:"keyword-search-list_sugtextitem",sugTextItemHover:"keyword-search-list_sugtextitemhover",sugItemFoucs:"keyword-search-list_sugitemfoucs",sugItemBoxLeft:"keyword-search-list_sugitemboxleft",tagBox:"keyword-search-list_tagbox",tag:"keyword-search-list_tag",tagText:"keyword-search-list_tagtext"}},function(t,e,n){t.exports={topHeaderWrap:"topheader_topheaderwrap",top_header_box:"topheader_top_header_box",uosHeader:"topheader_uosheader",red_box:"topheader_red_box",top_box:"topheader_top_box",uos_top_box:"topheader_uos_top_box",utils_box:"topheader_utils_box",top_box_mac:"topheader_top_box_mac",top_box_win:"topheader_top_box_win",no_drag:"topheader_no_drag",hasAd:"topheader_hasad",header_width:"topheader_header_width",headerBackGround:"topheader_headerbackground",scroll_class:"topheader_scroll_class","top_header_scroll-in-animation":"topheader_top_header_scroll-in-animation",scroll_no_class:"topheader_scroll_no_class","top_header_scroll_no-in-animation":"topheader_top_header_scroll_no-in-animation",search_box_mac:"topheader_search_box_mac"}},function(t,e,n){t.exports={search_box:"search_search_box",hot_search_box:"search_hot_search_box",hot_search_box_title:"search_hot_search_box_title",fire:"search_fire",hot_search:"search_hot_search",selected:"search_selected",focus_button:"search_focus_button",search_list:"search_search_list",close_box:"search_close_box",search_box_int:"search_search_box_int",search_box_mac:"search_search_box_mac",search_box_nav:"search_search_box_nav",search_box_short:"search_search_box_short",focus_search_box:"search_focus_search_box",hover_search_box:"search_hover_search_box"}},function(t,e,n){t.exports={nav_box:"topheadernav_nav_box",nav_item:"topheadernav_nav_item",nav_cut:"topheadernav_nav_cut",iconfontheader:"topheadernav_iconfontheader",nav_item_color:"topheadernav_nav_item_color",nav_panel:"topheadernav_nav_panel",nav_panel_list:"topheadernav_nav_panel_list",nav_panel_item:"topheadernav_nav_panel_item",nav_panel_cut:"topheadernav_nav_panel_cut",nav_panel_vip:"topheadernav_nav_panel_vip",nav_panel_vip_txt:"topheadernav_nav_panel_vip_txt",uPanel:"topheadernav_upanel","user_panel_tab-in-animation":"topheadernav_user_panel_tab-in-animation"}},function(t,e,n){t.exports={nav_box:"internationalnav_nav_box",nav_item:"internationalnav_nav_item",nav_cut:"internationalnav_nav_cut",iconfontheader:"internationalnav_iconfontheader",nav_item_color:"internationalnav_nav_item_color",current:"internationalnav_current",nav_icon:"internationalnav_nav_icon",nav_panel:"internationalnav_nav_panel",nav_panel_list:"internationalnav_nav_panel_list",nav_panel_item:"internationalnav_nav_panel_item",nav_panel_cut:"internationalnav_nav_panel_cut",nav_panel_vip:"internationalnav_nav_panel_vip",nav_panel_vip_txt:"internationalnav_nav_panel_vip_txt",uPanel:"internationalnav_upanel","user_panel_tab-in-animation":"internationalnav_user_panel_tab-in-animation"}},function(t,e,n){t.exports={left_header_box:"leftheader_left_header_box",navList_wrap:"leftheader_navlist_wrap",nav_area_box:"leftheader_nav_area_box",shadow_bottom:"leftheader_shadow_bottom",nav_area_box_red:"leftheader_nav_area_box_red",left_header_box_red:"leftheader_left_header_box_red",left_nav_box:"leftheader_left_nav_box",link_item:"leftheader_link_item","tab-hover-animation":"leftheader_tab-hover-animation",link_item_vip:"leftheader_link_item_vip",current_item:"leftheader_current_item","current-tab-hover-animation":"leftheader_current-tab-hover-animation",current_item_vip:"leftheader_current_item_vip",shaixuan_box:"leftheader_shaixuan_box",line:"leftheader_line",icon_span:"leftheader_icon_span",footer_current_item:"leftheader_footer_current_item"}},function(t,e,n){t.exports={intapp_box:"intappdownload_intapp_box",icon_span:"intappdownload_icon_span",intapp_panel:"intappdownload_intapp_panel",text_box:"intappdownload_text_box",line:"intappdownload_line",code_wrap:"intappdownload_code_wrap",code_box:"intappdownload_code_box",code:"intappdownload_code",houzi:"intappdownload_houzi",uPanel:"intappdownload_upanel","user_panel_tab-in-animation":"intappdownload_user_panel_tab-in-animation"}},function(t,e,n){t.exports={input_box:"search-input_input_box",icon_box:"search-input_icon_box",search_clear:"search-input_search_clear",input_focus:"search-input_input_focus",input_short:"search-input_input_short",input_focus_int:"search-input_input_focus_int",hiddenipt:"search-input_hiddenipt"}},function(t,e,n){t.exports={logo_box:"logo_logo_box",logo_img:"logo_logo_img",logo_vip:"logo_logo_vip",nav_logo:"logo_nav_logo",logo_int:"logo_logo_int",oldStyle:"logo_oldstyle",logo_hover:"logo_logo_hover",I18n_box:"logo_i18n_box"}},function(t,e,n){t.exports={kuhuduan_box:"ikudownload_kuhuduan_box",download_panel:"ikudownload_download_panel",item_content:"ikudownload_item_content",bottom_button_box:"ikudownload_bottom_button_box",bottom_button:"ikudownload_bottom_button",uPanel:"ikudownload_upanel","user_panel_tab-in-animation":"ikudownload_user_panel_tab-in-animation"}},function(t,e,n){t.exports={H5Content:"h5activity_h5content",conBox:"h5activity_conbox",bottomMask:"h5activity_bottommask",closeBtn:"h5activity_closebtn",H5Center:"h5activity_h5center"}},function(t,e,n){t.exports={infoBottom:"promotelogin_infobottom",close:"promotelogin_close",title:"promotelogin_title",subTitle:"promotelogin_subtitle",buttonBox:"promotelogin_buttonbox"}},function(t,e,n){t.exports={lang_box:"language_lang_box",icon_span:"language_icon_span",lang_panel:"language_lang_panel",current:"language_current",uPanel:"language_upanel","user_panel_tab-in-animation":"language_user_panel_tab-in-animation"}},function(t,e,n){t.exports={history_search_list:"history-search-list_history_search_list",title:"history-search-list_title",historyListBox:"history-search-list_historylistbox",history_item:"history-search-list_history_item"}},function(t,e){t.exports=n(242)},function(t,e,n){t.exports={win_header:"winheaderbox_win_header",win_header_red:"winheaderbox_win_header_red",YLine:"winheaderbox_yline"}},function(t,e,n){t.exports={localfile_box:"localfile_localfile_box",icon_span:"localfile_icon_span"}},function(t,e,n){t.exports={localplay_box:"localplay_localplay_box",icon_span:"localplay_icon_span"}},function(t,e,n){t.exports={reload_box:"reload_reload_box",icon_span:"reload_icon_span"}},function(t,e){t.exports=n(206)},function(t,e){t.exports=n(133)},function(t,e){t.exports=n(336)},function(t,e){t.exports=n(1003)},function(t,e){t.exports=n(255)},function(t,e,n){t.exports={toastBox:"toast_toastbox"}},function(t,e,n){t.exports={adWrap:"src_adwrap"}},function(t,e){t.exports=n(249)},function(t,e){t.exports=n(1018)},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(1),i=n(21),c={config:function(t,e){window.lib.mtop.config[t]=e},request:function(t){var e,r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=location.host.includes("youku.tv"),c=location.search.includes("isProd=1")?"prod":(null===(e=window)||void 0===e?void 0:e.__ENV__)||(null===(r=window)||void 0===r||null===(o=r.__ENVDATA__)||void 0===o?void 0:o.env)||"prod";return new Promise((function(e,r){var o,l,u,s,f,h,p=(null===(o=window)||void 0===o||null===(l=o.lib)||void 0===l?void 0:l.mtop)||n(33),d={api:t,v:a.v||"1.0",data:a.data||{},ecode:0,appKey:i?"34300712":a.appKey||(null===(u=window)||void 0===u||null===(s=u.lib)||void 0===s||null===(f=s.mtop)||void 0===f||null===(h=f.config)||void 0===h?void 0:h.appKey)||"24679788",dataType:a.dataType||"jsonp",jsonpIncPrefix:(a.jsonpIncPrefix||"")+(new Date).getTime()};p.config.prefix="local"===c||"staging"===c||"pre"===c?"pre-acs":"acs",p.config.subDomain="",i?(p.config.mainDomain="youku.tv",p.config.syncCookieMode=!0):p.config.mainDomain="youku.com",window&&window.mtopConfig&&Object.assign(window.lib.mtop.config,window.mtopConfig),p.request(d,(function(t){t.ret.join(",").indexOf("SUCCESS")>-1?e(t):r(t)}),(function(t){r(t)}))}))}},l=c,u=n(26);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function f(){f=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function h(t,e,n,r){var a=e&&e.prototype instanceof g?e:g,i=Object.create(a.prototype),c=new T(r||[]);return o(i,"_invoke",{value:L(t,n,c)}),i}function p(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=h;var d="suspendedStart",m="executing",v="completed",y={};function g(){}function _(){}function b(){}var w={};u(w,i,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(P([])));E&&E!==n&&r.call(E,i)&&(w=E);var k=b.prototype=g.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(o,a,i,c){var l=p(t[o],t,a);if("throw"!==l.type){var u=l.arg,f=u.value;return f&&"object"==s(f)&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,n,r){var o=d;return function(a,i){if(o===m)throw new Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=j(c,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=p(e,n,r);if("normal"===u.type){if(o=r.done?v:"suspendedYield",u.arg===y)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=v,r.method="throw",r.arg=u.arg)}}}function j(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,j(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var a=p(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,y;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,y):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(s(e)+" is not iterable")}return _.prototype=b,o(k,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:_,configurable:!0}),_.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(k),t},e.awrap=function(t){return{__await:t}},S(O.prototype),u(O.prototype,c,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new O(h(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},S(k),u(k,l,"Generator"),u(k,i,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),y},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),y}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),y}},e}function h(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){h(a,r,o,i,c,"next",t)}function c(t){h(a,r,o,i,c,"throw",t)}i(void 0)}))}}function d(t,e,n){return(e=g(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g(r.key),r)}}function y(t,e,n){return e&&v(t.prototype,e),n&&v(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function g(t){var e=_(t,"string");return"symbol"===s(e)?e:String(e)}function _(t,e){if("object"!==s(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var b={LOGIN_SUCCESS:"Xlogin:loginSuccess",LOGIN_OUT:"Xlogin:logoutSuccess",CHECK_LOGIN:"Xlogin:checkLogin"},w=function(){function t(e,n,r){m(this,t),this._isLoginStatus=e,this._userInfo=n,this._loginExtend=r}return y(t,[{key:"isLoginStatus",get:function(){return this._isLoginStatus}},{key:"userInfo",get:function(){return this._userInfo}},{key:"loginExtend",get:function(){return this._loginExtend}}]),t}(),x=function(){function t(e){var n=this;m(this,t),d(this,"loginInsatance",null),d(this,"loginExtend",null),d(this,"eventbusSuccess",[]),d(this,"eventbusLogin",new i.BehaviorSubject(new w(!1,null,null))),d(this,"eventbusLoggout",new i.Subject),d(this,"isLoginStatus",!1),d(this,"checkLoginStatus",!1),d(this,"_userInfo",null),d(this,"_isUseNew",!0),d(this,"DefaultLoginOptions",{loginOrLogout:"login",callbackURL:"",mode:"popup",template:"tempA",buid:"youku",pid:"8fb8456183734a86bfc1c15a1c761cdf",themes:["148AFF","c0e8f6"],bgThemes:"#fff url("+(t.isEvening?t.ThemeConfig.eveningBgURL:t.ThemeConfig.daytimeBgURL)+") no-repeat right bottom",fontColor:t.isEvening?t.ThemeConfig.eveningFontColor:t.ThemeConfig.daytimeFontColor,inkColor:t.isEvening?t.ThemeConfig.eveningFontColor:t.ThemeConfig.daytimeFontColor,padding:[30,30,30,410],loginModel:["normal","mobile"],regModel:["mobile"],isQRlogin:!0,isThirdPartLogin:!0,regShowType:"in",regRules:["\u7528\u6237\u534f\u8bae","//mapp.youku.com/service/agreement","//mapp.youku.com/service/copyright"],qrMsg:"\u8bf7\u4f7f\u7528\u4f18\u9177APP\u626b\u7801\u767b\u5f55",qrBu:["ykt",80,"false"],size:"normal",checkNoLogin:function(){},loadSucess:function(){},loginSuccess:function(){},login:this.login,logout:this.logout,isLogin:!1,getUserInfo:function(){return n.userInfo},on:function(t,e){n.on(t,e)}}),e&&(this.DefaultLoginOptions.pid="20211011PLF008702"),this.HasPCookie().then((function(t){n.DefaultLoginOptions.isLogin=t,n.init()}))}var e,n,r;return y(t,[{key:"userInfo",get:function(){return this._userInfo}},{key:"HasPCookie",value:(r=p(f().mark((function t(){var e;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=decodeURIComponent,t.next=3,Object(a.getCookie)("P_gck");case 3:if(t.t1=t.sent,t.t1){t.next=6;break}t.t1="";case 6:return t.t2=t.t1,e=(0,t.t0)(t.t2).split("|")[1],t.abrupt("return",null!=e&&"NA"!==e);case 9:case"end":return t.stop()}}),t)}))),function(){return r.apply(this,arguments)})},{key:"init",value:function(){var t=this;if(this._isUseNew=!!window.useNewLogin&&window.useNewLogin,this._isUseNew&&!this.loginInsatance){var e=this.DefaultLoginOptions;e.loginSuccess=function(){t.loginInsatance&&t.loginInsatance.closeFrame&&t.loginInsatance.closeFrame(),t.loginSuccess()},this.loginInsatance=new u.YoukuLoginNew(e),window.XloginNew=this.loginInsatance}window.YKLoginLoader?this.Xlogin():E("pre"===window.__ENV__||"staging"===window.__ENV__||"local"===window.__ENV__?"//dev.g.alicdn.com/static-es6/login/3.0.6/src/public/load.js":"//g.alicdn.com/static-es6/login/3.0.6/public/load.js",(function(){t.Xlogin()}))}},{key:"createSuccessEvent",value:function(){var t=new i.Subject;return this.eventbusSuccess.push(t),t}},{key:"checkLogin",value:(n=p(f().mark((function t(){var e,n,r,o,a,i,c,u,s,h,d=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=!(d.length>0&&void 0!==d[0])||d[0],t.next=3,this.HasPCookie();case 3:if(n=t.sent,!this.userInfo||!n){t.next=10;break}return r=new w(this.isLoginStatus,this.userInfo,this.loginExtend),e&&this.eventbusLogin.next(r),t.abrupt("return",r);case 10:return this.checkLoginStatus=!0,o={deviceType:"pc",show:1},a={req:JSON.stringify(o)},i=!1,t.next=16,l.request("mtop.youku.vip.xtop.member.profile.get",{data:a,dataType:"json"}).catch(function(){var t=p(f().mark((function t(e){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=!0,t.abrupt("return",{});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 16:if(c=t.sent,i){t.next=32;break}if(!c.ret||"SUCCESS::\u8c03\u7528\u6210\u529f"!==c.ret[0]||!c.data){t.next=26;break}return this.isLoginStatus=!0,c.data.loginStatus=!0,u=new w(this.isLoginStatus,c.data,this.loginExtend),e&&this.eventbusLogin.next(u),t.abrupt("return",u);case 26:return this.isLoginStatus=!1,s=new w(this.isLoginStatus,null,null),e&&this.eventbusLogin.next(s),t.abrupt("return",s);case 30:t.next=36;break;case 32:return this.isLoginStatus=!1,h=new w(this.isLoginStatus,this.assignEmptyObj(),null),e&&this.eventbusLogin.next(h),t.abrupt("return",h);case 36:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"loginSuccess",value:function(){var t=this;this.isLoginStatus=!0,this.eventbusSuccess.forEach((function(t){t.next("web app is success logined")})),setTimeout((function(){t.checkLogin()}),0)}},{key:"login",value:function(t){var e,n;(t=t||{}).regist?null===(e=this.loginInsatance)||void 0===e||e.buildRegDom():null===(n=this.loginInsatance)||void 0===n||n.buildLoginDom(),t.extend&&(this.loginExtend=t.extend)}},{key:"logoutSuccess",value:function(){this._userInfo=null,this.eventbusLoggout.next("web app is success loggout")}},{key:"logout",value:(e=p(f().mark((function t(){var e=this;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){e._isUseNew?e.loginInsatance.logout({logoutSuccess:function(){console.log("utility logoutSuccess",(new Date).getTime()),e.logoutSuccess(),t()}}):new window.YKLoginLoader({loginOrLogout:"logout",buid:e.DefaultLoginOptions.buid,pid:e.DefaultLoginOptions.pid,logoutSuccess:function(){e.logoutSuccess(),t()}})})));case 1:case"end":return t.stop()}}),t)}))),function(){return e.apply(this,arguments)})},{key:"setLoginBg",value:function(){}},{key:"on",value:function(t,e){switch(t){case b.LOGIN_SUCCESS:case b.LOGIN_OUT:case b.CHECK_LOGIN:}}},{key:"Xlogin",value:function(){var t=this,e=this.DefaultLoginOptions;e.loginSuccess=function(){t.loginInsatance&&t.loginInsatance.closeFrame&&t.loginInsatance.closeFrame(),t.loginSuccess()},e.loadSucess=function(){t.setLoginBg()},this._isUseNew||(this.loginInsatance=new window.YKLoginLoader(e)),window.Xlogin=new window.YKLoginLoader(e)}},{key:"assignEmptyObj",value:function(){return{is_vip:0,ytid:"",uname:"",login_email:"",login_mobile:"",mobile:"",vip_icon:"",user_icon:"",user_icon_big:"",user_icon_large:"",user_icon_middle:"",user_icon_small:"",uid:"",loginStatus:!1}}}]),t}();function E(t,e){var n=document.createElement("script");n.type="text/javascript",n.async=!0,e?e instanceof Function&&(e={callback:e}):e={},e.charset&&(n.charset=e.charset),e.crossOrigin&&(e.retry=1,n.crossOrigin="anonymous"),n.src=t;var r=document.getElementsByTagName("head")[0],o=!1,a=function(){o||Reflect.get(n,"readyState")&&"loaded"!==Reflect.get(n,"readyState")&&"complete"!==Reflect.get(n,"readyState")||(o=!0,n.onload=null,Reflect.set(n,"onreadystatechange",null),e.saveScript||r.removeChild(n),e.callback&&e.callback())};n.onerror=function(){n.onerror=null,e.retry&&(e.retry--,E(t,e))},n.onload=a,Reflect.set(n,"onreadystatechange",a),r.appendChild(n)}d(x,"isEvening",(new Date).getHours()>=18||(new Date).getHours()<=8),d(x,"ThemeConfig",{daytimeBgURL:"//account.youku.com/static-resources/images/stylize/youku_bg.jpg",eveningBgURL:"//account.youku.com/static-resources/images/stylize/yknight.jpg",eveningFontColor:"#fff",daytimeFontColor:"#333"});var k=n(27),S=n.n(k),O=n(28),L=n.n(O);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(){N=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new T(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(P([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==j(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function P(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(j(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){P(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function P(t,e,n){return(e=C(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C(t){var e=A(t,"string");return"symbol"===j(e)?e:String(e)}function A(t,e){if("object"!==j(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function D(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function R(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){D(a,r,o,i,c,"next",t)}function c(t){D(a,r,o,i,c,"throw",t)}i(void 0)}))}}function M(){return U.apply(this,arguments)}function U(){return(U=R(N().mark((function t(){var e,n,r,o=arguments;return N().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:{},n=e.url,r={timeout:3e3,params:T({},e.data)},e.jsonp&&(r.adapter=L.a),t.abrupt("return",S.a.get(n,r));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(){F=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==H(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(H(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t,e,n){return(e=V(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t){var e=W(t,"string");return"symbol"===H(e)?e:String(e)}function W(t,e){if("object"!==H(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function q(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function X(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){q(a,r,o,i,c,"next",t)}function c(t){q(a,r,o,i,c,"throw",t)}i(void 0)}))}}var J,Y=[{title:"\u9996\u9875",pathName:"webhome",nodeKey:"WEBHOME",url:"https://www.youku.com/channel/webhome"},{title:"\u7535\u89c6\u5267",pathName:"webtv",nodeKey:"WEBTV",url:"https://www.youku.com/channel/webtv"},{title:"\u7535\u5f71",pathName:"webmovie",nodeKey:"WEBMOVIE",url:"https://www.youku.com/channel/webmovie"},{title:"\u7efc\u827a",pathName:"webzy",nodeKey:"WEBZY",url:"https://www.youku.com/channel/webzy"},{title:"\u52a8\u6f2b",pathName:"webcomic",nodeKey:"WEBCOMIC",url:"https://www.youku.com/channel/webcomic"},{title:"\u5c11\u513f",pathName:"webchild",nodeKey:"WEBCHILD",url:"https://www.youku.com/channel/webchild"},{title:"\u7eaa\u5f55\u7247",pathName:"webjilupian",nodeKey:"WEBJILUPIAN",url:"https://www.youku.com/channel/webjilupian"},{title:"\u4f53\u80b2",pathName:"tiyu",nodeKey:"TIYU",url:"https://www.youku.com/channel/tiyu"},{title:"\u6e38\u620f",pathName:"webgame",nodeKey:"WEBGAME",url:"https://www.youku.com/channel/webgame"},{title:"\u97f3\u4e50",pathName:"webmusic",nodeKey:"WEBMUSIC",url:"https://www.youku.com/channel/webmusic"},{title:"\u6587\u5316",pathName:"webculture",nodeKey:"WEBCULTURE",url:"https://www.youku.com/channel/webculture"},{title:"\u76f4\u64ad",pathName:"weblive",nodeKey:"WEBLIVE",url:"https://www.youku.com/channel/weblive"},{title:"\u6c7d\u8f66",pathName:"webauto",nodeKey:"WEBAUTO",url:"https://www.youku.com/channel/webauto"},{title:"\u5a31\u4e50",pathName:"webent",nodeKey:"WEBENT",url:"https://www.youku.com/channel/webent"},{title:"\u5b66\u5802",pathName:"webxuetang",nodeKey:"WEBXUETANG",url:"https://www.youku.com/channel/webxuetang"},{title:"\u641e\u7b11",pathName:"webfun",nodeKey:"WEBFUN",url:"https://www.youku.com/channel/webfun"},{title:"\u79d1\u6280",pathName:"webtech",nodeKey:"WEBTECH",url:"https://www.youku.com/channel/webtech"},{title:"\u751f\u6d3b",pathName:"weblife",nodeKey:"WEBLIFE",url:"https://www.youku.com/channel/weblife"},{title:"\u7535\u7ade",pathName:"webdianjing",nodeKey:"WEBDIANJING",url:"https://www.youku.com/channel/webdianjing"},{title:"\u65b0\u77e5",pathName:"webxinzhi",nodeKey:"WEBXINZHI",url:"https://www.youku.com/channel/webxinzhi"},{title:"\u65f6\u5c1a",pathName:"webfashion",nodeKey:"WEBFASHION",url:"https://www.youku.com/channel/webfashion"},{title:"\u65c5\u6e38",pathName:"webtravel",nodeKey:"WEBTRAVEL",url:"https://www.youku.com/channel/webtravel"},{title:"\u4eb2\u5b50",pathName:"webbaby",nodeKey:"WEBBABY",url:"https://www.youku.com/channel/webbaby"},{title:"\u53d1\u73b0",pathName:"webfaxian",nodeKey:"WEBFAXIAN",url:"https://www.youku.com/channel/webfaxian"},{title:"\u516c\u76ca",pathName:"webgongyi",nodeKey:"WEBGONGYI",url:"https://www.youku.com/channel/webgongyi"},{title:"\u6559\u80b2",pathName:"webedu",nodeKey:"WEBEDU",url:"https://www.youku.com/channel/webedu"},{title:"\u8d22\u7ecf",pathName:"webfinance",nodeKey:"WEBFINANCE",url:"https://www.youku.com/channel/webfinance"}];function z(t){return Q.apply(this,arguments)}function Q(){return(Q=X(F().mark((function t(e){var n,r;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="prod"===window.__ENV__?"//pc.pay.youku.com/apis/pay_rcode":"//paypre.vip.youku.com/apis/pay_rcode",t.next=3,M({url:n,jsonp:!0,data:e});case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t){return Z.apply(this,arguments)}function Z(){return(Z=X(F().mark((function t(e){var n;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={type:"GET",v:"1.0",ecode:0,dataType:"json",data:JSON.stringify(e),appKey:"24679788"},t.abrupt("return",l.request("mtop.youku.xmop.strategyfacadeservice.getcontent",n).catch((function(t){console.log(t)})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t,e){return et.apply(this,arguments)}function et(){return(et=X(F().mark((function t(e,n){var r,o,a,i,c,l,u,s,f,h,p,d;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$(e);case 2:if(r=t.sent){t.next=6;break}return console.log("\u63a5\u53e3\u8bf7\u6c42\u6570\u636e\u5931\u8d25,\u8bf7\u5c1d\u8bd5\u8bbe\u7f6e\u91cd\u8bd5\u673a\u5236\u6216\u8005\u68c0\u67e5\u63a5\u53e3\u53c2\u6570"),t.abrupt("return",{});case 6:if(r&&r.data&&Array.isArray(r.data.contents)&&0!==r.data.contents.length)try{o=JSON.parse(r.data.contents[0])}catch(t){console.log(t)}else o={};if(a={},o&&o.link&&o.link.indexOf("h5params=")>-1&&(c=o.link.split("&"),i=Array.isArray(c)&&c.filter((function(t){return t.indexOf("h5params=")>-1})),Array.isArray(i)&&i.length>0)){l="string"==typeof i[0]&&i[0].split("=");try{Array.isArray(l)&&l.length>0&&l[1]&&l[1].indexOf("{")>-1?a=JSON.parse(l[1]):Array.isArray(l)&&l.length>0&&l[1]&&(a=JSON.parse(decodeURIComponent(l[1])))}catch(t){console.log(t)}}if(u="",s="",f="",h=[],Object.keys(a).length>0){if(a.attributes){try{p=JSON.parse(a.attributes)}catch(t){console.log(t)}d=p&&p.crm_params,u=d?d&&JSON.stringify(d):o.crm_params?o.crm_params:""}s=a.activityCode?a.activityCode:o.activity_code?o.activity_code:"",f=a.biz?a.biz:"default",h=a.products?a.products:[]}else u=o.crm_params?o.crm_params:"",s=o.activity_code?o.activity_code:"",f="default",h=[];return Array.isArray(h)&&h.length<1&&(h=""),t.abrupt("return",G(G({},o),{},{crm_params:u,activity_code:s,biz:f,products:h,pid:n}));case 16:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function nt(){return rt.apply(this,arguments)}function rt(){return(rt=X(F().mark((function t(){var e,n,r,o,i,c,u,s,f,h,p,d,m;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=(null===(e=window)||void 0===e?void 0:e.__ENV__)||(null===(n=window)||void 0===n||null===(r=n.__ENVDATA__)||void 0===r?void 0:r.env)||"prod",i=location.userAgent,c=i&&i.indexOf("YoukuDesktop")>-1,u={},u="prod"===o?{rootPath:"product-main-cms",terminal:"pcweb",positionTag:"pcweb_homepage"}:{rootPath:"product-main-cms-test",terminal:"pcweb",positionTag:"pcweb.page.right"},c&&(u="prod"===o?{rootPath:"product-main-cms",terminal:"iku",positionTag:"pcweb_homepage"}:{rootPath:"product-main-cms-test",terminal:"iku",positionTag:"pcweb.page.right"}),s=Object(a.getCna)()||"homepage_empty_cna",f=window.__INITIAL_DATA__&&window.__INITIAL_DATA__.ip||"0.0.0.0",h=G(G({},u),{},{gray:!!Object(a.getQueryString)("grayMode"),utdid:s,ip:f,userId:0,debug:!1,businessContext:"",mockType:0,ttid:"",isVip:0,businessKey:"main_cms",mock:!1,systemInfo:JSON.stringify({device:"pcweb",os:"pcweb",ver:"1.0.0.0",userAgent:i,guid:"1590141704165YXe",appPackageKey:"com.youku.pcweb",young:0,brand:"",network:"",ouid:"",idfa:"",scale:"",operator:"",resolution:"",pid:"",childGender:0,userId:Number(0),utdid:s})}),p={type:"GET",v:"1.0",ecode:0,dataType:"json",data:JSON.stringify(h),appKey:"24679788"},t.prev=11,t.next=14,l.request("mtop.youku.xspace.maincms.position.query",p);case 14:if(null==(m=t.sent)||null===(d=m.data)||void 0===d||!d.modelData||!Array.isArray(m.data.modelData.positionTaskInfoList)){t.next=19;break}return t.abrupt("return",ct(m.data));case 19:return t.abrupt("return",{});case 20:t.next=25;break;case 22:return t.prev=22,t.t0=t.catch(11),t.abrupt("return",{});case 25:case"end":return t.stop()}}),t,null,[[11,22]])})))).apply(this,arguments)}function ot(t,e,n){return at.apply(this,arguments)}function at(){return(at=X(F().mark((function t(e,n,r){var o,i,c,u,s,f,h,p,d,m,v,y;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Object(a.getCna)()||"homepage_empty_cna",i=window.__INITIAL_DATA__&&window.__INITIAL_DATA__.ip||"0.0.0.0",c=window&&window.navigator&&window.navigator.userAgent,u=0,(s=c.match(/ZREAL ./))&&s[0]&&s[0].length>0&&(u=Number(s[0].slice(-1))||0),r&&"1"===Object(a.getQueryString)("usepre")&&(e="YOUKU_WEB_GUOJIBAN_TEST",n="WEBHOMETEST"),f="",(h=null==c?void 0:c.match(/PID\s([^;]+)/))&&h.length>1&&(f=h[1]||""),p={debug:!1,gray:"1"===Object(a.getQueryString)("grayMode")?1:0,pageNo:1,utdid:o,userId:0,bizKey:e||"YOUKU_WEB",appPackageKey:"com.youku.YouKu",session:JSON.stringify({scene:"home_channels"}),showNodeList:1,reqSubNode:0,nodeKey:n||"WEBHOME",ip:i},d={device:"pcweb",os:"pcweb",ver:"1.0.0.0",userAgent:c,guid:"1590141704165YXe",appPackageKey:"com.youku.pcweb",young:0,brand:"",network:"",ouid:"",idfa:"",scale:"",operator:"",resolution:"",pid:f,childGender:0,zx:u},r&&(d.language=r),m={ms_codes:"2019061000",params:JSON.stringify(p),system_info:JSON.stringify(d)},v={type:"GET",v:"1.0",ecode:0,dataType:"json",data:JSON.stringify(m),appKey:"24679788"},t.prev=16,t.next=19,l.request("mtop.youku.columbus.gateway.new.execute",v).catch((function(t){console.log(t)}));case 19:return y=t.sent,t.abrupt("return",it(y.data[2019061e3].data.nodes));case 23:return t.prev=23,t.t0=t.catch(16),t.abrupt("return",Y);case 26:case"end":return t.stop()}}),t,null,[[16,23]])})))).apply(this,arguments)}function it(t){return t?t.map((function(t){var e=null==t?void 0:t.data,n=e.nodeKey,r=e.nodeKey&&e.nodeKey.toLowerCase(),o={title:(null==e?void 0:e.title)||"",pathName:r,nodeKey:n};return"H5"===e.type||"WEEX"===e.type?(o.icon=e.selectedImg||"",o.url=e.url||"",o.showType="icon"):o.url="https://www.youku.com/channel/".concat(r),o})):[]}function ct(t){var e=[],n=[],r=[],o=[];return t&&t.modelData&&Array.isArray(t.modelData.positionTaskInfoList)&&t.modelData.positionTaskInfoList.forEach((function(t,a){var i={};t.bizExtProperty&&(i=JSON.parse(t.bizExtProperty));var c={};if(Array.isArray(t.materialInfoList)&&t.materialInfoList[0]){var l="";if(t.materialInfoList[0].materialValue)try{var u=JSON.parse(t.materialInfoList[0].materialValue);Object.keys(u).length>0&&(c=G(G({},c),u),(null==u?void 0:u.img)&&(c.imgUrl=u.img),(null==u?void 0:u.eventType)&&(c.scmType=u.eventType))}catch(t){console.log(t)}t.materialInfoList[0].materialId&&(l=t.materialInfoList[0].materialId),c=G(G({},c),{},{imgId:l})}var s=G(G(G({},i),{},{endTime:t.endTime,startTime:t.startTime,taskId:t.taskId},c),{},{trackInfo:t.trackInfo&&JSON.parse(t.trackInfo)||{}});switch(i.poplayerType){case"on_corner":e.push(s);break;case"full_screen":n.push(s);break;case"top_red":r.push(s);break;case"pic_in_pic":o.push(s)}})),{angle:e,fullScreen:n,topRed:r,picInPic:o}}function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ut(t,e,n){return(e=st(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function st(t){var e=ft(t,"string");return"symbol"===lt(e)?e:String(e)}function ft(t,e){if("object"!==lt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function ht(t){return vt(t)||mt(t)||dt(t)||pt()}function pt(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function dt(t,e){if(t){if("string"==typeof t)return yt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yt(t,e):void 0}}function mt(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function vt(t){if(Array.isArray(t))return yt(t)}function yt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gt(t,e,n){var r=n||Object(a.getQueryString)("rid"),o=!t.rule||wt(t.rule,Number(r)),i=!1;return t&&o&&(i=xt(t,e)),i}var _t=function(t,e){if(t&&t.user_identity)if("1"===t.user_identity){if(e&&(2===e.is_vip||0===e.is_vip))return!0}else if("2"===t.user_identity&&e&&1===e.is_vip)return!0;return!1},bt=function(t){var e=Object(a.getCna)()||"",n=e.substr(e.length-1,1);return(t&&t.cna_investment.substr(t.cna_investment.length-1,1))===n},wt=function(t,e){var n=!1;if(e=Number(e)?Number(e):1,t&&t.indexOf("-")>-1){var r=(t=t.replace(/\s*/g,"")).split("-").map((function(t){return Number(t)})),o=Math.min.apply(Math,ht(r))||0,a=Math.max.apply(Math,ht(r))||0;e>=o&&e<=a&&(n=!0)}return n},xt=function(t,e){var n=!1,r=!1,o=!1,i=!0,c=navigator.userAgent,l=c&&c.indexOf("YoukuDesktop")>-1;if(l&&!t.isElecShow&&(i=!1),"allChannel"===(null==t?void 0:t.domain_name)||l)o=!0;else{var u="/"===location.pathname?"/channel/".concat(Object(a.getQueryString)("channel")):location.pathname;"v.youku.com"!==location.host&&"so.youku.com"!==location.host||(u=location.host),"pre2-v.youku.com"===location.host&&(u="v.youku.com"),"pre2-so.youku.com"===location.host&&(u="so.youku.com"),"/"===location.pathname&&["prodtest.youku.com","pre2.youku.com","www.youku.com","youku.com","local.m.youku.com"].includes(location.host)&&(u="/channel/webhome"),null!=t&&t.domain_name&&Et[t.domain_name]===u&&(o=!0)}return t&&t.fixed_investment&&"cna"===t.fixed_investment?r=bt(t):"user"===t.fixed_investment?r="0"===t.user_identity&&!e.loginStatus||e&&e.loginStatus&&_t(t,e):"noGray"===t.fixed_investment&&(n=!0),i&&o&&(r||n)},Et=(ut(J={"www.youku.com":"/channel/webhome","v.youku.com":"v.youku.com","so.youku.com":"so.youku.com","tv.youku.com":"/channel/webtv","movie.youku.com":"/channel/webmovie"},"tv.youku.com","/channel/webtv"),ut(J,"zy.youku.com","/channel/webzy"),ut(J,"music.youku.com","/channel/webmusic"),ut(J,"child.youku.com","/channel/webchild"),ut(J,"jilupian.youku.com","/channel/webjilupian"),ut(J,"gongyi.youku.com","/channel/webgongyi"),ut(J,"sports.youku.com","/channel/tiyu"),ut(J,"auto.youku.com","/channel/webauto"),ut(J,"tech.youku.com","/channel/webzy"),ut(J,"finance.youku.com","/channel/webzy"),ut(J,"ent.youku.com","/channel/webzy"),ut(J,"culture.youku.com","/channel/webzy"),ut(J,"comic.youku.com","/channel/webzy"),ut(J,"travel.youku.com","/channel/webzy"),ut(J,"fashion.youku.com","/channel/webzy"),ut(J,"baby.youku.com","/channel/webzy"),ut(J,"edu.youku.com","/channel/webzy"),ut(J,"game.youku.com","/channel/webzy"),ut(J,"vip.youku.com","/channel/hy"),J),kt=n(29),St=Object(kt.create)((function(t){return{isI18n:!1,setIsI18n:function(e){return t({isI18n:e})}}})),Ot=n(8),Lt=n.n(Ot),jt=n(9),Nt=n.n(jt);function It(t){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(){Tt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==It(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(It(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Pt(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function Ct(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Pt(a,r,o,i,c,"next",t)}function c(t){Pt(a,r,o,i,c,"throw",t)}i(void 0)}))}}var At=n(1),Dt=At.getCna,Rt=At.getPid;function Mt(){return Ut.apply(this,arguments)}function Ut(){return(Ut=Ct(Tt().mark((function t(){var e,n,r;return Tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Dt()||"XlQcF5xQrCcCAWoLKdGqIOhS",n={type:"GET",v:"1.0",dataType:"json",data:{appid:"14177",mtopParams:JSON.stringify({count:"1",channel:"PC",fr:"pc",app_source:"main_page",x_utdid:e}),utdid:e},appKey:24679788,jsonpIncPrefix:"headerSearch"},t.prev=2,t.next=5,l.request("mtop.ykrec.RecommendService.recommend",n);case 5:if(!(r=t.sent)){t.next=8;break}return t.abrupt("return",r);case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})))).apply(this,arguments)}function Ht(){return Ft.apply(this,arguments)}function Ft(){return(Ft=Ct(Tt().mark((function t(){var e,n,r,o;return Tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Dt()||"XlQcF5xQrCcCAWoLKdGqIOhS",n=Rt(),r={type:"GET",v:"2.0",ecode:1,dataType:"json",data:{pg:"1",pz:"10",appScene:"default_page",appCaller:"youku-search-sdk",searchFrom:"home",utdId:e,ykPid:n},appKey:23774304},t.prev=3,t.next=6,l.request("mtop.youku.soku.yksearch",r);case 6:if(!(o=t.sent)){t.next=9;break}return t.abrupt("return",o.data);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}function Bt(t){return Gt.apply(this,arguments)}function Gt(){return(Gt=Ct(Tt().mark((function t(e){var n,r,o,a,i;return Tt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Dt()||"XlQcF5xQrCcCAWoLKdGqIOhS",r=Rt(),o={appScene:"kubox",appCaller:"pc",s:"pc",device:"pc",platform:"pc",keyword:e,utdId:n,ykPid:r},a={appKey:24679788,jsonpIncPrefix:"headerSearch",v:"2.0",data:JSON.stringify(o),ecode:1,dataType:"jsonp"},t.prev=4,t.next=7,l.request("mtop.youku.soku.yksearch",a);case 7:if(!(i=t.sent)){t.next=10;break}return t.abrupt("return",i.data);case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,12]])})))).apply(this,arguments)}function Kt(t){return(Kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(){Vt=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Kt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Kt(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Wt(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function qt(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Wt(a,r,o,i,c,"next",t)}function c(t){Wt(a,r,o,i,c,"throw",t)}i(void 0)}))}}var Xt=n(34);function Jt(t,e,n){return Yt.apply(this,arguments)}function Yt(){return(Yt=qt(Vt().mark((function t(e,n,r){var o,i,c,l,u,s,f,h,p;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o=Object(a.getCna)(),i={click:["/click.index.module","CLK"],show:["/show.index.module","EXP"]},c=document.querySelector('meta[name="data-spm"]'),l=c&&String(c.getAttribute("content"))||"",u=document.querySelector("body"),s=u&&String(u.getAttribute("data-spm"))||"";try{e=JSON.parse(e)}catch(t){console.log(t)}if(f={spm:"".concat(l,".").concat(s,".home.search"),track_info:e,pid:o},"click"!==n){t.next=14;break}return f={spm:"".concat(l,".").concat(s,".home.search"),track_info:e,pid:o,utparam:{yk_abtest:"129:317#337:775#218:491#290:661#142:345"},keywords:r},t.next=12,zt();case 12:f.track_info.aaid=t.sent,f.track_info.k=r;case 14:for(p in f.track_info.source_from="home",f.track_info=JSON.stringify(f.track_info),h="",f)void 0!==f[p]&&(h+="".concat(p,"=").concat(f[p],"&"));(window.goldlog_queue||(window.goldlog_queue=[])).push({action:"goldlog.record",arguments:[i[n][0],i[n][1],h,"POST"]});case 20:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function zt(){return Qt.apply(this,arguments)}function Qt(){return(Qt=qt(Vt().mark((function t(){var e,n;return Vt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Date.now(),n=Object(a.getCna)(),t.abrupt("return",Xt(n+e));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var $t=n(14),Zt=n.n($t),te=function(t){var e=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURI(n[2]):null},ee=Object(r.forwardRef)((function(t,e){var n=St((function(t){return t.isI18n}));Object(r.useImperativeHandle)(e,(function(){return{jumpToSearchResult:l}}));var a="",i="",c=Object(r.useRef)();Object(r.useEffect)((function(){var e,n,r,o,l,f,h,p;if("so.youku.com"===(null===(e=window)||void 0===e||null===(n=e.location)||void 0===n?void 0:n.host)||"pre2-so.youku.com"===(null===(r=window)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.host)||"pre-so.youku.tv"===(null===(l=window)||void 0===l||null===(f=l.location)||void 0===f?void 0:f.host)||"so.youku.tv"===(null===(h=window)||void 0===h||null===(p=h.location)||void 0===p?void 0:p.host)){var d=window.location.pathname.indexOf("q");d+=2;var m=window.location.pathname.substring(d);m=decodeURIComponent(m),c.current.placeholder=m,c.current.value=m,a=m}else if(null!=t&&t.isI18n){var v;c.current.placeholder=(null==t||null===(v=t.i18nHeader)||void 0===v?void 0:v.i18n_Search_DefaultWords)||""}else Mt().then((function(t){var e,n,r,o,l;void 0!==(null==t||null===(e=t.result)||void 0===e?void 0:e[0])&&(c.current.placeholder=(null==t?void 0:t.q)||(null==t||null===(n=t.result)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.search_id)||"",a=null==t||null===(o=t.result)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.search_id,(null==t?void 0:t.track_info)&&Jt(t.track_info,"show"),i=t.track_info)}));u(),/(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent)&&(c.current.style.width="170px"),window.ikuWebApi&&(window.ikuWebApi.handleClear=s)}),[]);var l=function(){var e,r;if(null==t||!t.isI18n||c.current.value){var o,l=c.current.value.length;if(window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var u=l>0?1:5,f="true"===te("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(l>0?c.current.value:c.current.placeholder)).concat(f?"?gray_new=true":"").concat(f?"&searchfrom=".concat(u):"?searchfrom=".concat(u).concat(n?"&isI18n=1":""))}else{var h,p=(null===(h=window)||void 0===h?void 0:h.__ENV__)||"prod",d=location.host.includes("youku.tv")?"so.youku.tv":"so.youku.com";"pre"!==p&&"staging"!==p&&"local"!==p&&"daily"!==p||(d=location.host.includes("youku.tv")?"pre-so.youku.tv":"pre2-so.youku.com"),l>0?window.open("https://".concat(d,"/search_video/q_").concat(encodeURIComponent(c.current.value),"?searchfrom=1").concat(n?"&isI18n=1":"")):window.open("https://".concat(d,"/search_video/q_").concat(encodeURIComponent(c.current.placeholder),"?searchfrom=5").concat(n?"&isI18n=1":""))}i&&Jt(i,"click",l||a),(c.current.value.trim().length||null!=c&&null!==(e=c.current)&&void 0!==e&&null!==(r=e.placeholder)&&void 0!==r&&r.length)&&t.saveHistoryWord({value:c.current.value||(null==c||null===(o=c.current)||void 0===o?void 0:o.placeholder)}),window.ikuWebApi||t.isSearchPage||s()}},u=function(){c.current.addEventListener("keypress",(function(t){t&&13===t.keyCode&&(l(),c.current.blur())}))},s=function(){c.current.value=""};return o.a.createElement("div",{className:"".concat(Zt.a.input_box," ").concat(t.searchShort?Zt.a.input_short:""),style:{width:t.isShowButton||t.isFocus?"":"".concat(t.searchShort?246:353,"px")}},o.a.createElement("span",{className:"iconfontheader icon-search ".concat(Zt.a.icon_box)}),o.a.createElement("input",{placeholder:"",className:Zt.a.hiddenipt,tabIndex:"1"}),o.a.createElement("input",{placeholder:"",id:"search-input-box",ref:c,tabIndex:"2",autoComplete:"off",className:t.isI18n?Zt.a.input_focus_int:t.isShowButton||t.isFocus?Zt.a.input_focus:"",style:{color:t.isFocus?"#eaeaea":"",backgroundColor:"transparent",borderRight:null!=t&&t.isI18n||!t.isFocus||!t.isSug?"none":"1px solid rgba(255, 255, 255, 0.12)"}}),o.a.createElement("span",{style:{display:t.isFocus&&t.isSug?"block":"none"},className:"aplus_exp aplus_clk iconfontheader icon-searchClear ".concat(Zt.a.search_clear),"data-spm":"clearbutton",onClick:s}))})),ne=ee,re=n(7),oe=n.n(re);function ae(){var t=document&&document.querySelector('meta[name="data-spm"]'),e=t&&String(t.getAttribute("content"))||"a2hbt",n=document&&document.querySelector("body");return{spmA:e,spmB:n&&String(n.getAttribute("data-spm"))||"13141534"}}function ie(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"CLK",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0,a="a2hbt",i="13141534";document.getElementsByTagName("meta")["data-spm"]&&document.getElementsByTagName("meta")["data-spm"].getAttribute("content")&&(a=document.getElementsByTagName("meta")["data-spm"].getAttribute("content")),document.body.getAttribute("data-spm")&&(i=document.body.getAttribute("data-spm"));var c="".concat(a,".").concat(i,".").concat(t).concat(""!==e?".".concat(e):""),l={"data-spm":c,from:"PC",spm:c};r&&(l.en_scm=r,l.scm=r,l["data-scm"]=r);var u=Object.assign({},l);o&&(u=Object.assign(u,{"track-info":o}));var s=[{exargs:u,pageurl:window.location.href}],f={};"CLK"===n&&(f.clkdata=JSON.stringify(s)),"EXP"===n&&(f.expdata=JSON.stringify(s));var h=[];for(var p in f)h.push("".concat(p,"=").concat(f[p]));window.goldlog_queue||(window.goldlog_queue=[]),window.goldlog_queue.push({action:"goldlog.record",arguments:["/yt/youku.pcweb.control",n,h.join("&"),"POST"]})}var ce=void 0===arguments?void 0:arguments,le=void 0;function ue(t,e){return de(t)||pe(t,e)||fe(t,e)||se()}function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fe(t,e){if(t){if("string"==typeof t)return he(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?he(t,e):void 0}}function he(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pe(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function de(t){if(Array.isArray(t))return t}var me=function(t){var e=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURI(n[2]):null},ve=function(t){var e=ue(Object(r.useState)([]),2),n=e[0],a=e[1],i=ue(Object(r.useState)(""),2),c=i[0],l=i[1],u=ue(Object(r.useState)(null),2),s=u[0],f=u[1],h=ue(Object(r.useState)(-1),2),p=h[0],d=h[1],m=Object(r.useRef)(null),v=Object(r.useRef)([]),y=t.isVisible;Object(r.useEffect)((function(){var t=document.getElementById("search-input-box"),e=!1;null==t||t.addEventListener("compositionstart",(function(){e=!0})),null==t||t.addEventListener("compositionend",(function(){e=!1}));var n=function(){var n=t.value.trim();d(-1),!e&&n&&Bt(n).then((function(t){var e,n,r,o,i,c=[];(null==t||null===(e=t.nodes)||void 0===e?void 0:e.length)>0&&(null==t||null===(n=t.nodes)||void 0===n||null===(r=n[0])||void 0===r||null===(o=r.nodes)||void 0===o||null===(i=o[0])||void 0===i?void 0:i.nodes).forEach((function(t){var e=t.data;e&&c.push(e)}));for(var u=0;u<c.length;u++)if(c[u].thumbUrl){var s,f,h;d(u),ie("searchOperate","d_titledetail_".concat(u+1),"EXP",null===(s=c[u])||void 0===s||null===(f=s.action)||void 0===f||null===(h=f.report)||void 0===h?void 0:h.scm),c[u].hasExp=!0;break}l(c.length>0&&c[0].q),a(c),v.current=c}))};null==t||t.addEventListener("focus",n),null==t||t.addEventListener("input",function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return function(){var r=le,o=ce;clearTimeout(e),e=setTimeout((function(){t.apply(r,o)}),n)}}(n,300)),null==t||t.addEventListener("keydown",(function(e){var n;(null==v||null===(n=v.current)||void 0===n?void 0:n.length)<=0||(38===e.keyCode&&(e.preventDefault(),null!==m.current&&m.current>=0&&(m.current-=1,m.current<0&&(m.current=0),t.value=v.current[m.current].w,f(m.current))),40===e.keyCode&&(null===m.current?(m.current=0,t.value=v.current[m.current].w,f(m.current)):m.current>=0&&(m.current+=1,m.current>=v.current.length&&(m.current=v.current.length-1),t.value=v.current[m.current].w,f(m.current))))}))}),[]),Object(r.useEffect)((function(){v.current=n,m.current=null,f(null)}),[n]);var g=function(t){if(!t)return"";var e="";if(t.tagType&&t.tagText){switch(t.tagType){case 2:e="#999999";break;case 4:e="#FF008C";break;case 5:e="#2ECDE6";break;default:e="rgba(255, 255, 255, 0.3)"}return o.a.createElement("div",{className:oe.a.tagBox},o.a.createElement("span",{className:oe.a.tag,style:{backgroundColor:e}},o.a.createElement("span",{className:oe.a.tagText},t.tagText)))}return""};return o.a.createElement(o.a.Fragment,null,y&&n.length>0&&o.a.createElement("div",{className:oe.a.sugSearchList,"data-spm":"searchOperate"},n.map((function(e,n){var r,a,i,l,u,f,h,m,v;return o.a.createElement("a",{className:"aplus_exp ".concat(oe.a.sugItem," ").concat(e.thumbUrl?oe.a.sugImgItem:null!==(r=e.titleDTO)&&void 0!==r&&r.subTitle?oe.a.sugTextItem:""," ").concat(n===p?oe.a.sugItemHover:""," ").concat(n===s?oe.a.sugItemFoucs:""),href:"javascript:void(0)",key:e.w||e.keyword,"data-spm":"d_title_".concat(n+1),"data-scm":null==e||null===(a=e.action)||void 0===a||null===(i=a.report)||void 0===i?void 0:i.scm,onClick:function(){return function(e,n){var r,o,a=document.getElementById("search-input-box");null!=t&&t.isUosMode||t.isSearchPage?null!=t&&t.isUosMode&&(a.value=e.w):a.value="";var i=ae().spmA+"."+ae().spmB,c="d_title".concat(null!=e&&e.thumbUrl?"detail":"","_").concat(n+1),l=(null==e||null===(r=e.action)||void 0===r||null===(o=r.report)||void 0===o?void 0:o.scm)||"",u="spm=".concat(i,".searchOperate.").concat(c,"&scm=").concat(l);if(window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var s="true"===me("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(e.w)).concat(s?"?gray_new=true":"").concat(s?"&searchfrom=2&{extraLog}":"?searchfrom=2&{extraLog}")}else window.open("https://so.youku.com/search_video/q_".concat(encodeURIComponent(e.w),"?searchfrom=2&").concat(u));t.saveHistoryWord({value:e.w}),ie("searchOperate",c,"CLK",l)}(e,n)},onMouseEnter:function(){!function(t,e){var n,r;d(-1),!t.hasExp&&null!=t&&t.thumbUrl&&(ie("searchOperate","d_titledetail_".concat(e+1),"EXP",null==t||null===(n=t.action)||void 0===n||null===(r=n.report)||void 0===r?void 0:r.scm),t.hasExp=!0)}(e,n)}},o.a.createElement("div",{className:oe.a.sugItemBox},e.titleDTO&&o.a.createElement("div",{className:oe.a.sugItemBoxLeft,dangerouslySetInnerHTML:{__html:null===(l=e.titleDTO)||void 0===l?void 0:l.title}}),!e.titleDTO&&o.a.createElement("span",null,function(t){var e=c;if(t&&e){e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var n=t.search(new RegExp("(".concat(e,")"),"g"));if(n>=0){var r=e.length,a=t.slice(0,n),i=t.slice(n+r);return o.a.createElement("div",null,a,o.a.createElement("span",{className:oe.a.left_word},e),i)}return t}return t}(e.w)),e.sugIconDTO&&g(e.sugIconDTO)),e.thumbUrl&&o.a.createElement("div",{className:"".concat(oe.a.sugItemHoverBox," ").concat(e.cate?"":oe.a.sugItemHoverBoxNoBtn)},o.a.createElement("div",{className:oe.a.sugItemHoverBoxImg,style:{backgroundImage:"url(".concat(e.thumbUrl,")")}}),o.a.createElement("div",{className:oe.a.sugItemHoverContent},o.a.createElement("div",{className:oe.a.sugItemHoverContentTitle},o.a.createElement("div",{className:oe.a.sugItemBoxLeft,dangerouslySetInnerHTML:{__html:null===(u=e.titleDTO)||void 0===u?void 0:u.title}}),g(e.sugIconDTO)),(null===(f=e.titleDTO)||void 0===f?void 0:f.subTitle)&&o.a.createElement("div",{className:oe.a.sugItemHoverContentTip,dangerouslySetInnerHTML:{__html:null===(h=e.titleDTO)||void 0===h?void 0:h.subTitle}})),e.cate&&o.a.createElement("div",{className:"".concat(oe.a.sugItemHoverBtn),onClick:function(r){!function(e,n,r){var o;e.stopPropagation();var a=document.getElementById("search-input-box");if(null!=t&&t.isUosMode||t.isSearchPage||(a.value=""),null==t||!t.isUosMode||null!==(o=window.ikuWebApi)&&void 0!==o&&o.isSearchPage||(a.value=""),t.saveHistoryWord({value:n.w}),null!=n&&n.cate){var i,c,l=ae().spmA+"."+ae().spmB,u="d_titledetail_".concat(r+1),s=null==n||null===(i=n.action)||void 0===i||null===(c=i.report)||void 0===c?void 0:c.scm.replace(/keyword(.*)/,"jumptitle_v.youku.com/v_nextstage/id_".concat(n.cate,".html")),f="spm=".concat(l,".searchOperate.").concat(u,"&scm=").concat(s);window.open("//v.youku.com/v_nextstage/id_".concat(n.cate,".html?").concat(f)),ie("searchOperate",u,"CLK",s)}}(r,e,n)}},"\u64ad\u653e")),!e.thumbUrl&&(null===(m=e.titleDTO)||void 0===m?void 0:m.subTitle)&&o.a.createElement("div",{className:oe.a.sugTextItemHover,dangerouslySetInnerHTML:{__html:null===(v=e.titleDTO)||void 0===v?void 0:v.subTitle}}))}))))},ye=ve,ge=n(5),_e=n.n(ge);function be(t,e){return Se(t)||ke(t,e)||xe(t,e)||we()}function we(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xe(t,e){if(t){if("string"==typeof t)return Ee(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(t,e):void 0}}function Ee(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ke(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Se(t){if(Array.isArray(t))return t}var Oe=function(t){var e=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURI(n[2]):null},Le=function(t){var e=be(Object(r.useState)([]),2),n=e[0],a=e[1],i=be(Object(r.useState)(""),2),c=i[0],l=i[1],u=be(Object(r.useState)(0),2),s=u[0],f=u[1],h=be(Object(r.useState)(0),2),p=h[0],d=h[1],m=Object(r.useRef)(),v=Object(r.useRef)(),y=function(e){var n,r,o,a;return null!==(n=t.hostSearchMap[e])&&void 0!==n&&null!==(r=n.nodes[0])&&void 0!==r&&r.nodes?JSON.parse(JSON.stringify(null===(o=t.hostSearchMap[e])||void 0===o||null===(a=o.nodes[0])||void 0===a?void 0:a.nodes.slice(0,5))):[]};Object(r.useEffect)((function(){t.isVisible&&a(y(c||t.hostSearchDefaultTab))}),[t.isVisible]),Object(r.useEffect)((function(){t.hostSearchDefaultTab&&t.hostSearchTabs.length>0&&t.hostSearchMap&&"{}"!==JSON.stringify(t.hostSearchMap)&&(l(t.hostSearchDefaultTab),a(y(t.hostSearchDefaultTab)))}),[t.hostSearchMap,t.hostSearchDefaultTab,t.hostSearchTabs]);var g=function(t){switch(t){case 0:return"one";case 1:return"two";case 2:return"three";case 9:return"last";default:return"more"}},_=function(e,n,r){var a,i,c,l,u,s;return o.a.createElement("a",{className:"aplus_exp ".concat(_e.a.hot_item," ").concat(e.data.posterImage?_e.a.hot_item_img_hover:_e.a.hot_item_txt_hover),href:"javascript:void(0)",key:"d_poster_".concat(r,"_").concat(n),"data-spm":"d_poster_".concat(n+1),"data-scm":null==e||null===(a=e.data)||void 0===a||null===(i=a.action)||void 0===i||null===(c=i.report)||void 0===c?void 0:c.scm,"data-trackinfo":encodeURIComponent(JSON.stringify(null==e||null===(l=e.data)||void 0===l||null===(u=l.action)||void 0===u||null===(s=u.report)||void 0===s?void 0:s.trackInfo)),onMouseEnter:function(){!function(t,e){var n,r,o,a;!t.hasExp&&null!=t&&null!==(n=t.data)&&void 0!==n&&n.posterImage&&(ie("searchTop","d_posterdetail_".concat(e+1),"EXP",null==t||null===(r=t.data)||void 0===r||null===(o=r.action)||void 0===o||null===(a=o.report)||void 0===a?void 0:a.scm),t.hasExp=!0)}(e,n)},onClick:function(){return function(e,n){var r,o,a,i,c,l,u,s=ae().spmA+"."+ae().spmB,f="d_poster".concat(null!=e&&null!==(r=e.data)&&void 0!==r&&r.posterImage?"detail":"","_").concat(n+1),h=(null==e||null===(o=e.data)||void 0===o||null===(a=o.action)||void 0===a||null===(i=a.report)||void 0===i?void 0:i.scm)||"",p="spm=".concat(s,".searchTop.").concat(f,"&scm=").concat(h);ie("searchTop",f,"CLK",h);var d,m,v,y,g=e&&e.data&&(e.data.keyword||e.data.title||""),_=document.querySelector("#search-input-box");if(_&&_.blur(),t.saveHistoryWord({value:g}),null!=e&&null!==(c=e.data)&&void 0!==c&&c.encodeShowId||null!=e&&null!==(l=e.data)&&void 0!==l&&l.showId)return window.open("//v.youku.com/v_nextstage/id_".concat((null==e||null===(d=e.data)||void 0===d?void 0:d.encodeShowId)||(null==e||null===(m=e.data)||void 0===m?void 0:m.showId),".html?").concat(p)),void(null!=t&&t.isUosMode&&null!==(v=window.ikuWebApi)&&void 0!==v&&v.isSearchPage&&(_.value=g));if(null!=e&&null!==(u=e.data)&&void 0!==u&&u.vid)return window.open("//v.youku.com/v_show/id_".concat(e.data.vid,".html?").concat(p)),void(null!=t&&t.isUosMode&&null!==(y=window.ikuWebApi)&&void 0!==y&&y.isSearchPage&&(_.value=g));if(null!=t&&t.isUosMode&&(_.value=g),window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var b="true"===Oe("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(g)).concat(b?"?gray_new=true":"").concat(b?"&searchfrom=4&{extraLog}":"?searchfrom=4&{extraLog}")}else window.open("https://so.youku.com/search_video/q_".concat(encodeURIComponent(g),"?searchfrom=4&{extraLog}"))}(e,n)}},o.a.createElement("div",{className:"".concat(_e.a.order_box)},o.a.createElement("div",{className:"".concat(_e.a.order," ").concat(_e.a[g(n)])},o.a.createElement("span",{className:_e.a.text},n+1))),o.a.createElement("div",{className:_e.a.hot_item_nohover_box},o.a.createElement("div",{className:_e.a.hot_word},r),e.data.searchIndexTitle&&e.data.searchIndexValue&&o.a.createElement("div",{className:_e.a.hot_word_tag},"\xa0\xb7\xa0",e.data.searchIndexTitle,o.a.createElement("span",{className:_e.a.hot_word_tag_number},e.data.searchIndexValue)),!(e.data.searchIndexTitle&&e.data.searchIndexValue)&&e.data.hotInfo&&o.a.createElement("span",{className:_e.a.hot_point_tag},o.a.createElement("span",{className:"iconfontheader ".concat(_e.a.hot_point_tag_icon)}),e.data.hotInfo)),e.data.posterImage&&o.a.createElement("div",{className:_e.a.hot_item_hover_box},o.a.createElement("div",{className:_e.a.hot_item_hover_box_img,style:{backgroundImage:"url(".concat(e.data.posterImage,")")}}),o.a.createElement("div",{className:_e.a.hot_item_hover_content},o.a.createElement("div",{className:_e.a.hot_item_hover_content_title},o.a.createElement("div",{className:_e.a.hot_word},r),e.data.searchIndexTitle&&e.data.searchIndexValue&&o.a.createElement("div",{className:_e.a.hot_word_tag},"\xa0\xb7\xa0",e.data.searchIndexTitle,o.a.createElement("span",{className:_e.a.hot_word_tag_number},e.data.searchIndexValue))),e.data.videoInfo&&o.a.createElement("div",{className:_e.a.hot_item_hover_content_txt},e.data.videoInfo.replace(/\xb7/g," \xb7 ")),e.data.hotComment&&o.a.createElement("div",{className:_e.a.hot_item_hover_content_txt},e.data.hotComment))))};return o.a.createElement(o.a.Fragment,null,t.isVisible&&n&&n.length>0&&o.a.createElement("div",{className:_e.a.hot_search_list,"data-spm":"searchTop",onMouseDown:function(t){t.preventDefault()}},o.a.createElement("div",{className:_e.a.nav_list},o.a.createElement("div",{ref:m,className:_e.a.nav_item_box},o.a.createElement("div",{ref:v,className:_e.a.nav_item_box_content,style:{left:"".concat(s,"px")}},Array.isArray(t.hostSearchTabs)&&t.hostSearchTabs&&t.hostSearchTabs.length>0&&t.hostSearchTabs.map((function(t,e){var n;return o.a.createElement("a",{className:"aplus_exp aplus_clk ".concat(_e.a.nav_item," ").concat(t.data&&t.data.cateName===c?_e.a.current_item:""),href:"javascript:void(0)",key:"d_channeltab_".concat(null==t||null===(n=t.data)||void 0===n?void 0:n.cateName,"_").concat(e),"data-spm":"d_channeltab_".concat(e+1),onClick:function(){var e;e=t.data&&t.data.cateName,l(e),a(y(e))}},t.data&&t.data.cateName)})))),o.a.createElement("div",{className:_e.a.nav_page_tabs},o.a.createElement("div",{className:"".concat(_e.a.nav_page_tabs_left," ").concat(0===s?_e.a.nav_page_tabs_opacity:""),onClick:function(){f(0)}}),o.a.createElement("div",{className:"".concat(_e.a.nav_page_tabs_right," ").concat(0!==s?_e.a.nav_page_tabs_opacity:""),onClick:function(){if(p)f(p);else{var t=m.current.clientWidth-v.current.clientWidth;d(t),f(t)}}}))),o.a.createElement("div",{className:_e.a.list_box},n&&n.map((function(t,e){var n=t&&t.data&&(t.data.keyword||t.data.title||"");return _(t,e,n)}))),o.a.createElement("div",null,o.a.createElement("a",{href:"https://acz.youku.com/wow/ykpage/act/top_hot",target:"_black",className:"aplus_exp aplus_clk ".concat(_e.a.hot_more),"data-spm":"d_more"},"\u66f4\u591a\u70ed\u95e8\u641c\u7d22"))))},je=Le,Ne=n(20),Ie=n.n(Ne);function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,De(r.key),r)}}function Ae(t,e,n){return e&&Ce(t.prototype,e),n&&Ce(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function De(t){var e=Re(t,"string");return"symbol"===Te(e)?e:String(e)}function Re(t,e){if("object"!==Te(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Te(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Me=function(){function t(e){Pe(this,t),this.name="storage"}return Ae(t,[{key:"setItem",value:function(t){var e={name:"",value:"",expires:"",startTime:(new Date).getTime()},n={};Object.assign(n,e,t),n.expires?localStorage.setItem(n.name,JSON.stringify(n)):("[object Object]"===Object.prototype.toString.call(n.value)&&(n.value=JSON.stringify(n.value)),"[object Array]"===Object.prototype.toString.call(n.value)&&(n.value=JSON.stringify(n.value)),localStorage.setItem(n.name,n.value))}},{key:"getItem",value:function(t){var e=localStorage.getItem(t);try{e=JSON.parse(e)}catch(t){console.log("error",t)}return e&&e.startTime?(new Date).getTime()-e.startTime>e.expires?(localStorage.removeItem(t),!1):e.value:e}},{key:"removeItem",value:function(t){localStorage.removeItem(t)}},{key:"clear",value:function(){localStorage.clear()}}]),t}();function Ue(t){return(new Me).getItem(t)}function He(t){(new Me).setItem(t)}function Fe(t){(new Me).removeItem(t)}var Be=function(t){var e=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURI(n[2]):null},Ge=function(t){var e,n=St((function(t){return t.isI18n}));return o.a.createElement(o.a.Fragment,null,t.isVisible&&t.historyList.length>0&&o.a.createElement("div",{className:Ie.a.history_search_list,"data-spm":"searchHistory"},o.a.createElement("h5",{className:Ie.a.title},null!=t&&t.isI18n?(null==t||null===(e=t.i18nHeader)||void 0===e?void 0:e.i18n_Search_History)||"Recent searches":"\u5386\u53f2\u641c\u7d22",o.a.createElement("img",{className:"aplus_exp aplus_clk","data-spm":"delete",src:"//img.alicdn.com/imgextra/i4/O1CN01q5QHSs1tYf71K7OAf_!!6000000005914-2-tps-32-32.png",width:"20",onClick:function(){null!=t&&t.isUosMode?Fe("youku_history_word"):n?Object(a.setCookie)("youku_history_word",JSON.stringify([]),.1,".youku.tv"):Object(a.setCookie)("youku_history_word",JSON.stringify([]),.1,".youku.com")}})),o.a.createElement("div",{className:Ie.a.historyListBox},t.historyList.map((function(e,r){return o.a.createElement("a",{className:"aplus_exp aplus_clk ".concat(Ie.a.history_item),href:"javascript:void(0)","data-spm":"d_title_".concat(r+1),"data-trackinfo":encodeURIComponent(JSON.stringify({object_title:e})),key:r+(new Date).getTime(),onClick:function(r){return function(e,r){if(e.preventDefault(),null!=t&&t.isUosMode&&(document.getElementById("search-input-box").value=r),window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var o="true"===Be("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(r)).concat(o?"?gray_new=true":"").concat(o?"&searchfrom=3":"?searchfrom=3").concat(n?"&isI18n=1":"")}else{var a,i=(null===(a=window)||void 0===a?void 0:a.__ENV__)||"prod",c=location.host.includes("youku.tv")?"so.youku.tv":"so.youku.com";"pre"!==i&&"staging"!==i&&"local"!==i&&"daily"!==i||(c=location.host.includes("youku.tv")?"pre-so.youku.tv":"pre2-so.youku.com"),window.open("https://".concat(c,"/search_video/q_").concat(encodeURIComponent(r),"?searchfrom=3").concat(n?"&isI18n=1":""))}t.saveHistoryWord({value:r})}(r,e)}},e)})))))},Ke=Ge,Ve=n(4),We=n.n(Ve);function qe(t,e){return Qe(t)||ze(t,e)||Je(t,e)||Xe()}function Xe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Je(t,e){if(t){if("string"==typeof t)return Ye(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ye(t,e):void 0}}function Ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ze(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Qe(t){if(Array.isArray(t))return t}var $e=function(t){var e=new RegExp("(^|&)".concat(t,"=([^&]*)(&|$)"),"i"),n=window.location.search.substr(1).match(e);return null!=n?decodeURI(n[2]):null},Ze=function(t){var e=qe(Object(r.useState)([]),2),n=e[0],a=e[1],i=qe(Object(r.useState)(""),2),c=i[0],l=i[1],u=qe(Object(r.useState)(0),2),s=u[0],f=u[1],h=qe(Object(r.useState)(0),2),p=h[0],d=h[1],m=Object(r.useRef)(),v=Object(r.useRef)(),y=function(e){var n,r,o,a;return null!==(n=t.hostSearchMap[e])&&void 0!==n&&null!==(r=n.nodes[0])&&void 0!==r&&r.nodes?JSON.parse(JSON.stringify(null===(o=t.hostSearchMap[e])||void 0===o||null===(a=o.nodes[0])||void 0===a?void 0:a.nodes.slice(0,5))):[]},g=function(e){var n=document.querySelector(".hot-search-component_hot_component"),r=!1;e.target.className.indexOf("hot-search-component_nav_item")>-1&&(r=!0),n&&n.contains(e.target)||r||t.handleHotSearch()};Object(r.useEffect)((function(){return t.isVisible&&(a(y(c||t.hostSearchDefaultTab)),document.addEventListener("click",g)),t.isVisible||document.removeEventListener("click",g),function(){document.removeEventListener("click",g)}}),[t.isVisible]),Object(r.useEffect)((function(){t.hostSearchDefaultTab&&t.hostSearchTabs.length>0&&t.hostSearchMap&&"{}"!==JSON.stringify(t.hostSearchMap)&&(l(t.hostSearchDefaultTab),a(y(t.hostSearchDefaultTab)))}),[t.hostSearchMap,t.hostSearchDefaultTab,t.hostSearchTabs]);var _=function(t){switch(t){case 0:return"one";case 1:return"two";case 2:return"three";case 9:return"last";default:return"more"}},b=function(e,n,r){var a,i,c,l,u,s;return o.a.createElement("a",{className:"aplus_exp ".concat(We.a.hot_item," ").concat(e.data.posterImage?We.a.hot_item_img_hover:We.a.hot_item_txt_hover),href:"javascript:void(0);",key:"d_poster_".concat(r,"_").concat(n),"data-spm":"d_poster_".concat(n+1),"data-scm":null==e||null===(a=e.data)||void 0===a||null===(i=a.action)||void 0===i||null===(c=i.report)||void 0===c?void 0:c.scm,"data-trackinfo":encodeURIComponent(JSON.stringify(null==e||null===(l=e.data)||void 0===l||null===(u=l.action)||void 0===u||null===(s=u.report)||void 0===s?void 0:s.trackInfo)),onMouseEnter:function(){!function(t,e){var n,r,o,a;!t.hasExp&&null!=t&&null!==(n=t.data)&&void 0!==n&&n.posterImage&&(ie("d_hotSearch","d_posterdetail_".concat(e+1),"EXP",null==t||null===(r=t.data)||void 0===r||null===(o=r.action)||void 0===o||null===(a=o.report)||void 0===a?void 0:a.scm),t.hasExp=!0)}(e,n)},onClick:function(){return function(e,n){var r,o,a,i,c,l,u,s=ae().spmA+"."+ae().spmB,f="d_poster".concat(null!=e&&null!==(r=e.data)&&void 0!==r&&r.posterImage?"detail":"","_").concat(n+1),h=(null==e||null===(o=e.data)||void 0===o||null===(a=o.action)||void 0===a||null===(i=a.report)||void 0===i?void 0:i.scm)||"",p="spm=".concat(s,".d_hotSearch.").concat(f,"&scm=").concat(h);ie("d_hotSearch",f,"CLK",h);var d,m,v,y,g=e&&e.data&&(e.data.keyword||e.data.title||""),_=document.getElementById("search-input-box");if(null!=t&&t.isUosMode||t.isSearchPage||(_.value=""),t.saveHistoryWord({value:g}),null!=e&&null!==(c=e.data)&&void 0!==c&&c.encodeShowId||null!=e&&null!==(l=e.data)&&void 0!==l&&l.showId)return window.open("//v.youku.com/v_nextstage/id_".concat((null==e||null===(d=e.data)||void 0===d?void 0:d.encodeShowId)||(null==e||null===(m=e.data)||void 0===m?void 0:m.showId),".html?").concat(p)),void(null==t||!t.isUosMode||null!==(v=window.ikuWebApi)&&void 0!==v&&v.isSearchPage||(_.value=""));if(null!=e&&null!==(u=e.data)&&void 0!==u&&u.vid)return window.open("//v.youku.com/v_show/id_".concat(e.data.vid,".html?").concat(p)),void(null==t||!t.isUosMode||null!==(y=window.ikuWebApi)&&void 0!==y&&y.isSearchPage||(_.value=""));if(null!=t&&t.isUosMode&&(_.value=g),window.baseCommonAttributes&&window.baseCommonAttributes.isSearchReload){var b="true"===$e("gray_new");window.location.href="https://".concat(window.location.host,"/search_video/q_").concat(encodeURIComponent(g)).concat(b?"?gray_new=true":"").concat(b?"&searchfrom=4&".concat(p):"?searchfrom=4&".concat(p))}else window.open("https://so.youku.com/search_video/q_".concat(encodeURIComponent(g),"?searchfrom=4&").concat(p))}(e,n)}},o.a.createElement("div",{className:"".concat(We.a.order_box)},o.a.createElement("div",{className:"".concat(We.a.order," ").concat(We.a[_(n)])},o.a.createElement("span",{className:We.a.text},n+1))),o.a.createElement("div",{className:We.a.hot_item_nohover_box},o.a.createElement("span",{className:We.a.hot_word},r),e.data.searchIndexTitle&&e.data.searchIndexValue&&o.a.createElement("span",{className:We.a.hot_word_tag},"\xa0\xb7\xa0",e.data.searchIndexTitle,o.a.createElement("span",{className:We.a.hot_word_tag_number},e.data.searchIndexValue)),!(e.data.searchIndexTitle&&e.data.searchIndexValue)&&e.data.hotInfo&&o.a.createElement("span",{className:We.a.hot_point_tag},o.a.createElement("span",{className:"iconfontheader ".concat(We.a.hot_point_tag_icon)}),e.data.hotInfo)),e.data.posterImage&&o.a.createElement("div",{className:We.a.hot_item_hover_box},o.a.createElement("div",{className:We.a.hot_item_hover_box_img,style:{backgroundImage:"url(".concat(e.data.posterImage,")")}}),o.a.createElement("div",{className:We.a.hot_item_hover_content},o.a.createElement("div",{className:We.a.hot_item_hover_content_title},o.a.createElement("span",{className:We.a.hot_word},r),e.data.searchIndexTitle&&e.data.searchIndexValue&&o.a.createElement("span",{className:We.a.hot_word_tag},"\xa0\xb7\xa0",e.data.searchIndexTitle,o.a.createElement("span",{className:We.a.hot_word_tag_number},e.data.searchIndexValue))),e.data.videoInfo&&o.a.createElement("div",{className:We.a.hot_item_hover_content_txt},e.data.videoInfo.replace(/\xb7/g," \xb7 ")),e.data.hotComment&&o.a.createElement("div",{className:We.a.hot_item_hover_content_txt},e.data.hotComment))))};return o.a.createElement(o.a.Fragment,null,t.isVisible&&n.length>0&&o.a.createElement("div",{className:"".concat(We.a.hot_component," ").concat(t.searchShort?We.a.hot_component_short:"")},o.a.createElement("div",{className:We.a.nav_list},o.a.createElement("div",{ref:m,className:We.a.nav_item_box},o.a.createElement("div",{ref:v,className:We.a.nav_item_box_content,style:{left:"".concat(s,"px")}},Array.isArray(t.hostSearchTabs)&&t.hostSearchTabs&&t.hostSearchTabs.length>0&&t.hostSearchTabs.map((function(t,e){var n;return o.a.createElement("a",{className:"aplus_exp aplus_clk ".concat(We.a.nav_item," ").concat(t.data&&t.data.cateName===c?We.a.current_item:""),href:"javascript:void(0)",key:"d_channeltab_".concat(null==t||null===(n=t.data)||void 0===n?void 0:n.cateName,"_").concat(e),"data-spm":"d_channeltab_".concat(e+1),onClick:function(){var e;e=t.data&&t.data.cateName,l(e),a(y(e))}},t.data&&t.data.cateName)})))),o.a.createElement("div",{className:We.a.nav_page_tabs},o.a.createElement("div",{className:"".concat(We.a.nav_page_tabs_left," ").concat(0===s?We.a.nav_page_tabs_opacity:""),onClick:function(){f(0)}}),o.a.createElement("div",{className:"".concat(We.a.nav_page_tabs_right," ").concat(0!==s?We.a.nav_page_tabs_opacity:""),onClick:function(){if(p)f(p);else{var t=m.current.clientWidth-v.current.clientWidth;d(t),f(t)}}}))),o.a.createElement("div",{className:We.a.list_box},n&&n.map((function(t,e){var n=t&&t.data&&(t.data.keyword||t.data.title||"");return b(t,e,n)}))),o.a.createElement("div",null,o.a.createElement("a",{href:"https://acz.youku.com/wow/ykpage/act/top_hot",target:"_black",className:"aplus_exp aplus_clk ".concat(We.a.hot_more),"data-spm":"d_more",onClick:function(){var e;(e=document.querySelector("#search-input-box"))&&!t.isSearchPage&&(e.value="")}},"\u66f4\u591a\u70ed\u95e8\u641c\u7d22"))))},tn=Ze;function en(t){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nn(){nn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==en(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(en(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function rn(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function on(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){rn(a,r,o,i,c,"next",t)}function c(t){rn(a,r,o,i,c,"throw",t)}i(void 0)}))}}function an(t,e){return fn(t)||sn(t,e)||ln(t,e)||cn()}function cn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ln(t,e){if(t){if("string"==typeof t)return un(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?un(t,e):void 0}}function un(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sn(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function fn(t){if(Array.isArray(t))return t}var hn=!1;function pn(t){var e=an(Object(r.useState)(!1),2),n=e[0],i=e[1],c=an(Object(r.useState)(!1),2),l=c[0],u=c[1],s=an(Object(r.useState)(!1),2),f=s[0],h=s[1],p=an(Object(r.useState)([]),2),d=p[0],m=p[1],v=an(Object(r.useState)(!1),2),y=v[0],g=v[1],_=an(Object(r.useState)([]),2),b=_[0],w=_[1],x=an(Object(r.useState)(""),2),E=x[0],k=x[1],S=an(Object(r.useState)({}),2),O=S[0],L=S[1],j=Object(r.useRef)();Object(r.useEffect)((function(){var e=document.querySelector("#search-input-box");e.addEventListener("focus",(function(){i(!0),u(!0),g(!1),e.value.length>0&&h(!0),0===e.value.length&&h(!1),t.setSearchIsFocus&&t.setSearchIsFocus(!0)})),e.addEventListener("blur",(function(){hn=!1,setTimeout((function(){i(!1),t.setSearchIsFocus&&t.setSearchIsFocus(!1),hn||u(!1)}),200)})),e.addEventListener("input",(function(){e.value.length>0&&(h(!0),g(!1)),0===e.value.length&&h(!1)})),Ht().then((function(t){var e,n,r,o,a,i,c,l,u,s,f,h;null!=t&&null!==(e=t.nodes[0])&&void 0!==e&&null!==(n=e.nodes[0])&&void 0!==n&&n.nodes&&null!=t&&null!==(r=t.nodes[0])&&void 0!==r&&null!==(o=r.nodes[0])&&void 0!==o&&o.data&&(w(null==t||null===(a=t.nodes[0])||void 0===a||null===(i=a.nodes[0])||void 0===i?void 0:i.nodes),k(null==t||null===(c=t.nodes[0])||void 0===c||null===(l=c.nodes[0])||void 0===l||null===(u=l.data)||void 0===u?void 0:u.defaultTab),L(null==t||null===(s=t.nodes[0])||void 0===s||null===(f=s.nodes[0])||void 0===f||null===(h=f.data)||void 0===h?void 0:h.tabDataMap))}))}),[]),Object(r.useEffect)((function(){T()}),[n]);var N=function(){return t.isUosMode?Promise.resolve(Ue("youku_history_word")||[]):Object(a.getCookie)("youku_history_word").then((function(t){if(t)try{t=JSON.parse(t)}catch(e){t=[]}else t=[];return t}))},I=function(){var e=on(nn().mark((function e(n){var r,o,i,c,l,u;return nn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:null==(o=e.sent)||o.unshift(encodeURIComponent(n.value)),i=Array.from(new Set(o)),c=i.length,l="",u=0;case 8:if(!(u<i.length)){e.next=16;break}if(!((l+=i[u]).length>600)){e.next=13;break}return c=u-1,e.abrupt("break",16);case 13:u++,e.next=8;break;case 16:i=null===(r=i)||void 0===r?void 0:r.slice(0,c),t.isUosMode?He({name:"youku_history_word",value:i}):t.isI18n?Object(a.setCookie)("youku_history_word",JSON.stringify(i),null,".youku.tv"):Object(a.setCookie)("youku_history_word",JSON.stringify(i),null,".youku.com");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var t=on(nn().mark((function t(){var e;return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N();case 2:e=t.sent,e=Array.isArray(e)&&e.map((function(t){return decodeURIComponent(t)})),m(e);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(){var t=on(nn().mark((function t(){return nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j.current.jumpToSearchResult();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=null,A=null;return o.a.createElement("div",{className:"".concat(Nt.a.search_box," ").concat(n?Nt.a.focus_search_box:""," ").concat(y?Nt.a.hover_search_box:""," ").concat(t.isPaddingMac?Nt.a.search_box_mac:""," ").concat(t.showTopHeaderNav?Nt.a.search_box_nav:""," ").concat(t.searchShort?Nt.a.search_box_short:""," ").concat(t.isI18n?Nt.a.search_box_int:""),"data-spm":"search"},o.a.createElement(ne,{isFocus:n,isSug:f,isShowButton:l,ref:j,saveHistoryWord:I,searchShort:t.searchShort,isSearchPage:t.isSearchPage,isI18n:null==t?void 0:t.isI18n,i18nHeader:null==t?void 0:t.i18nHeader}),!t.isI18n&&o.a.createElement("div",{className:"".concat(Nt.a.hot_search_box),onMouseEnter:n?null:function(){clearTimeout(C),A=setTimeout((function(){g(!0)}),100)},onMouseLeave:hn?null:function(){clearTimeout(A),hn=!1,C=setTimeout((function(){g(!1)}),150)},"data-spm":"d_hotSearch"},o.a.createElement("div",{className:"aplus_exp aplus_clk ".concat(Nt.a.hot_search_box_title),onClick:n?function(){hn=!0,g(!0)}:null},o.a.createElement("span",{className:"iconfontheader iconhuore-16-mian ".concat(Nt.a.fire," ").concat(y?Nt.a.selected:"")}),o.a.createElement("a",{className:"".concat(Nt.a.hot_search," ").concat(y?Nt.a.selected:"")},"\u70ed\u641c\u699c")),o.a.createElement(tn,{isVisible:y,hostSearchTabs:b,hostSearchDefaultTab:E,hostSearchMap:O,searchShort:t.searchShort,handleHotSearch:function(){hn=!1,g(!1),u(!1)},saveHistoryWord:I,isUosMode:t.isUosMode})),l&&o.a.createElement("div",{className:"aplus_exp aplus_clk ".concat(Nt.a.focus_button),"data-spm":"searchbutton",onClick:P},o.a.createElement("img",{src:"//img.alicdn.com/imgextra/i2/O1CN01TTI7vI1GYPt7FowfZ_!!6000000000634-2-tps-200-200.png"})),o.a.createElement("div",{className:Nt.a.search_list},!(null!=t&&t.isI18n)&&o.a.createElement(ye,{isVisible:n&&f,saveHistoryWord:I,isSearchPage:t.isSearchPage,isUosMode:t.isUosMode}),o.a.createElement(Ke,{historyList:d,isVisible:n&&!f,saveHistoryWord:I,isI18n:null==t?void 0:t.isI18n,i18nHeader:null==t?void 0:t.i18nHeader,isUosMode:t.isUosMode}),!(null!=t&&t.isI18n)&&o.a.createElement(je,{isVisible:n&&!f,hostSearchTabs:b,hostSearchDefaultTab:E,hostSearchMap:O,historyListLength:d.length?d.length:0,isSearchPage:t.isSearchPage,saveHistoryWord:I,isUosMode:t.isUosMode})))}var dn=pn,mn=n(18),vn=n.n(mn);function yn(t,e){return xn(t)||wn(t,e)||_n(t,e)||gn()}function gn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _n(t,e){if(t){if("string"==typeof t)return bn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bn(t,e):void 0}}function bn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wn(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function xn(t){if(Array.isArray(t))return t}var En=function(t){var e=yn(Object(r.useState)(!1),2),n=e[0],a=e[1],i=yn(Object(r.useState)(!1),2),c=i[0],l=i[1];Object(r.useEffect)((function(){t.logininstance&&t.logininstance&&t.logininstance.eventbusLogin.subscribe((function(t){t.userInfo&&a(t.isLoginStatus)}))}),[t.logininstance]),Object(r.useEffect)((function(){document.addEventListener("scroll",(function(){var t=document.documentElement.scrollTop||document.body.scrollTop;if("v.youku.com"!==location.host&&"pre2-v.youku.com"!==location.host){if(t>200&&!n){var e=localStorage.getItem("logouttiptime"),r=new Date,o=new Date("".concat(r.getFullYear(),"-").concat(r.getMonth()+1,"-").concat(r.getDate())).getTime();e?e!=="".concat(o)&&l(!1):l(!0)}}else l(!1)}))}),[]);var u=function(e){e.preventDefault(),t.logininstance&&t.logininstance.login()};return o.a.createElement("div",null,c&&!n&&o.a.createElement("div",{className:"".concat(vn.a.infoBottom)},o.a.createElement("img",{className:vn.a.close,src:"//img.alicdn.com/tfs/TB1lPFxh4D1gK0jSZFyXXciOVXa-12-12.svg",onClick:function(t){!function(){l(!1);var t=new Date,e=new Date("".concat(t.getFullYear(),"-").concat(t.getMonth()+1,"-").concat(t.getDate())).getTime();localStorage.setItem("logouttiptime","".concat(e))}()}}),o.a.createElement("div",{onClick:function(t){t.preventDefault(),t.stopPropagation(),u(t)},className:vn.a.title},"\u767b\u5f55\u4f18\u9177\uff0c\u5c0a\u4eab\u54c1\u8d28\u89c2\u5f71\u4f53\u9a8c"),o.a.createElement("div",{onClick:function(t){t.preventDefault(),t.stopPropagation(),u(t)},className:vn.a.subTitle},"VIP\u767b\u5f55\uff0c\u8df3\u8fc7\u5e7f\u544a\u770b\u5927\u7247"),o.a.createElement("div",{className:vn.a.buttonBox},o.a.createElement("button",{onClick:function(t){t.preventDefault(),t.stopPropagation(),u(t)}},"\u7acb\u5373\u767b\u5f55"))))},kn=En,Sn=n(2),On=n.n(Sn);function Ln(t,e){return Pn(t)||Tn(t,e)||Nn(t,e)||jn()}function jn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Nn(t,e){if(t){if("string"==typeof t)return In(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?In(t,e):void 0}}function In(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tn(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Pn(t){if(Array.isArray(t))return t}function Cn(t){var e,n,r={},o=null===(e=window)||void 0===e||null===(n=e.location)||void 0===n?void 0:n.search.substr(1).split("&");if(o)for(var a=0;a<o.length;a++){var i=o[a].split("=");r[i[0]]=i[1]}return r[t]}function An(t,e){var n=new URL(t);return n.searchParams.delete(e),n.toString()}var Dn=function(t){var e=Ln(Object(r.useState)({}),2),n=e[0],i=e[1],c=Ln(Object(r.useState)(!1),2),l=c[0],u=c[1],s=Ln(Object(r.useState)(!1),2),f=s[0],h=s[1],p=Ln(Object(r.useState)(!1),2),d=p[0],m=p[1],v=Ln(Object(r.useState)(!1),2),y=v[0],g=v[1],_=Ln(Object(r.useState)(""),2),b=_[0],w=_[1],x=Ln(Object(r.useState)(""),2),E=x[0],k=x[1],S=Ln(Object(r.useState)(""),2),O=S[0],L=S[1],j=Ln(Object(r.useState)(""),2),N=j[0],I=j[1],T=t.theme,P=t.crmData,C=null,A=null,D=!1,R=Object(a.getPreStr)(b),M=null==b?void 0:b.includes(R),U=null!=b&&b.includes("youku.tv")?"".concat(M?"pre":"www",".youku.tv"):"".concat(M?"prodtest":"www",".youku.com");Object(r.useEffect)((function(){var e,n;t.logininstance&&(null===(e=t.logininstance)||void 0===e||null===(n=e.eventbusLogin)||void 0===n||n.subscribe((function(e){var n,r,o;if(!e.isLoginStatus&&t.isI18n&&O&&E&&t.logininstance.login(),e.userInfo&&(i(e.userInfo),h(e.isLoginStatus),Z(e.isLoginStatus),m(!(1!==e.userInfo.is_vip&&"1"!==e.userInfo.is_vip)),g(100006===(null==e||null===(n=e.userInfo)||void 0===n?void 0:n.member_id)&&(null==e||null===(r=e.userInfo)||void 0===r||null===(o=r.name)||void 0===o?void 0:o.includes("SVIP"))),ie("loginyindao",e.isLoginStatus?1===e.userInfo.is_vip||"1"===e.userInfo.is_vip?"d_renew":"d_startpay":"d_login","EXP"),e.isLoginStatus&&E)){var a,c,l=An(null===(a=window)||void 0===a||null===(c=a.location)||void 0===c?void 0:c.href,"openLogin");(l=An(l,"openlogin"))&&window.history.replaceState(null,"",l)}})),t.logininstance.checkLogin())}),[t.logininstance]),Object(r.useEffect)((function(){var t,e,n,r,o,a,i,c,l="true"===Cn("openLogin")||"true"===Cn("openlogin"),u=["pre.youku.tv","www.youku.tv","local.youku.com","local.m.youku.tv"].includes(null===(t=window)||void 0===t||null===(e=t.location)||void 0===e?void 0:e.host)&&"/"===(null===(n=window)||void 0===n||null===(r=n.location)||void 0===r?void 0:r.pathname);return w(null===(o=window)||void 0===o||null===(a=o.location)||void 0===a?void 0:a.host),I(null===(i=window)||void 0===i||null===(c=i.location)||void 0===c?void 0:c.search),k(l),L(u),function(){clearTimeout(C),clearTimeout(A)}}),[]),Object(r.useEffect)((function(){t.loginGuideAllow&&Z()}),[t.loginGuideAllow]),Object(r.useEffect)((function(){t.mouseIn&&l&&(clearTimeout(C),u(!1))}),[t.mouseIn]);var H,F,B,G,K,V,W,q,X,J,Y,z,Q,$,Z=function(e){(D||void 0!==e)&&(D=!0,(e=e||f)?u(!1):t.loginGuideAllow&&(u(!0),ie("loginyindaopanel","d_login","EXP"),ie("loginyindaokaitonghuiyuan","d_login","EXP",P.scm?P.scm:""),ie("loginyindaopanellogin","d_login","EXP"),C=setTimeout((function(){u(!1)}),8e3)))},tt=function(){t.logininstance&&t.logininstance.login()};return o.a.createElement("div",{className:"".concat(On.a.user_center_box," ").concat("win"===t.platform?t.isShowRed?On.a.user_center_redbox_win:On.a.user_center_box_win:""," ").concat(null!=t&&t.isI18n||!t.showTopHeaderNav?"":On.a.user_center_box_nav," ").concat(t.oldStyle?On.a.oldStyle:""),"data-spm":"usercenter",onMouseEnter:function(){clearTimeout(C),A=setTimeout((function(){u(!0)}),300);var t=f?d?"d_renew":"d_startpay":"d_login";ie("loginyindaopanel",t,"EXP"),ie("loginyindaokaitonghuiyuan",t,"EXP",P.scm?P.scm:""),f||ie("loginyindaopanellogin","d_login","EXP")},onMouseLeave:function(){clearTimeout(A),C=setTimeout((function(){u(!1)}),150)}},o.a.createElement("div",{className:On.a.avatar},o.a.createElement("a",{href:f?"//".concat(U,"/page/usc/index").concat(T?"?theme=".concat(T,"&").concat(N):"?".concat(N)):"javascript:void(:;)",target:f?"_blank":"",onClick:function(){ie("loginyindao",f?d?"d_renew":"d_startpay":"d_login","CLK"),!f&&tt()},className:"aplus_exp aplus_clk","data-spm":"d_avatar",rel:"noreferrer"},o.a.createElement("img",{className:"".concat(On.a.avatar_img," ").concat(d>0?On.a.vipBorder:""),src:n.user_icon_large||"https://img.alicdn.com/imgextra/i2/O1CN01lr1KAH1eIQrB1u9ZK_!!6000000003848-2-tps-138-138.png",title:null==n?void 0:n.uname,alt:null==n?void 0:n.uname}))),f&&l&&(J=(null==n||null===(B=n.iconData)||void 0===B||null===(G=B[4])||void 0===G?void 0:G[1])||(null==n?void 0:n.vip_icon),Y=t.isI18n?(null==t||null===(K=t.i18nHeader)||void 0===K?void 0:K.i18n_Header_Me_VIP)||"VIP":"\u4f18\u9177VIP\u4f1a\u5458",z=t.isI18n?(null==t||null===(V=t.i18nHeader)||void 0===V?void 0:V.i18n_Header_Me_Buy)||"Join VIP":"\u7acb\u5373\u7eed\u8d39",Q=t.isI18n?(null==t||null===(W=t.i18nHeader)||void 0===W?void 0:W.i18n_Header_Me_Buy)||"Join VIP":"\u7acb\u5373\u5f00\u901a",$=null!=t&&t.isI18n?(null==t||null===(q=t.i18nHeader)||void 0===q?void 0:q.i18n_Header_Me_Expiration)||"Expire on %s":"%s\u5230\u671f",o.a.createElement("div",{className:"".concat(On.a.panel," ").concat(On.a.uPanel," ").concat(y?On.a.svipPanel:d>0?On.a.vipPanel:""," ").concat("win"===t.platform?t.isShowRed?On.a.winRedPanel:On.a.winPanel:""," ").concat(null!=t&&t.isI18n?On.a.intPanel:"")},o.a.createElement("div",{className:"".concat(On.a.content)},o.a.createElement("div",{className:"".concat(On.a.uInfo," ").concat(null!=t&&t.isI18n?On.a.uInfoInt:"")},o.a.createElement("a",{href:"//".concat(U,"/page/usc/index/?theme=").concat(T,"&".concat(N)),target:"_blank",rel:"noreferrer"},o.a.createElement("img",{src:n.user_icon_middle,className:d?On.a.vipBorder:""})),o.a.createElement("a",{href:"//".concat(U,"/page/usc/index/?theme=").concat(T,"&".concat(N)),className:"".concat(On.a.uLink," ").concat(d?On.a.vipULink:""),target:"_blank",title:n.uname,rel:"noreferrer"},n.uname),o.a.createElement("a",{rel:"noreferrer"},o.a.createElement("span",{className:On.a.vipLevelIcon,style:{backgroundImage:"url(".concat(J,")")}})),o.a.createElement("a",{onClick:function(e){ie("loggedin","exit","CLK"),t.logininstance&&t.logininstance.logout()},className:On.a.exitLogin},null!=t&&t.isI18n?(null==t||null===(X=t.i18nHeader)||void 0===X?void 0:X.i18n_Header_Logout)||"Log out":"\u9000\u51fa\u767b\u5f55")),o.a.createElement("a",{href:"javacript:void(0);",className:"".concat(On.a.card_content," youku_vip_pay_btn"),onClick:function(){ie("loginyindaokaitonghuiyuan",d?"d_renew":"d_startpay","CLK",P.scm?P.scm:"")},"data-scm":P&&P.scm?P.scm:"","data-spm":"d_kaitonghuiyuan","data-products":P&&P.product_sku_id,"data-crm_params":P&&P.crm_params&&encodeURIComponent(JSON.stringify(P.crm_params)),"data-acode":P&&P.activity_code&&P.activity_code,"data-product_params":P&&P.products&&encodeURIComponent(JSON.stringify(P.products)),"data-type":P&&P.biz,"data-pid":P&&P.pid},o.a.createElement("div",{className:On.a.card_content_top},o.a.createElement("img",{src:y?"https://img.alicdn.com/imgextra/i4/O1CN01CLtnoi1HSIH6w1YoE_!!6000000000756-2-tps-171-171.png":"https://img.alicdn.com/imgextra/i4/O1CN01FlWRPH1v8fwNtQqav_!!6000000006128-2-tps-171-171.png"}),o.a.createElement("div",{className:On.a.card_content_top_content},o.a.createElement("p",{className:On.a.card_content_top_content_txt,title:null!=P&&P.title?P.title:Y},null!=P&&P.title?P.title:Y),o.a.createElement("p",{className:"".concat(On.a.card_content_top_content_span," ").concat(d>0?On.a.vipColorSubTitle:"")},(null==P?void 0:P.subtitle)||(d>0?$.replace("%s",n.exptime):null!=t&&t.isI18n?"":"\u5f00\u901a\u4f1a\u5458\u89e3\u9501\u66f4\u591a\u70ed\u64ad\u5267\u96c6"))),o.a.createElement("span",{className:On.a.crm_btn,title:(null==P?void 0:P.btntext)||(d>0?z:Q)},(null==P?void 0:P.btntext)||(d>0?z:Q)))),!(null!=t&&t.isI18n)&&o.a.createElement("div",{className:On.a.uList},o.a.createElement("div",{className:On.a.item,onClick:function(){ie("loggedin","shoucang","CLK"),window.open("https://user.youku.com/page/usc/fav?theme=".concat(T))}},o.a.createElement("span",{className:"iconfontheader iconshoucang-24-mian1 ".concat(On.a.iconSpan)}),o.a.createElement("a",{className:On.a.text},"\u5728\u8ffd\u9884\u7ea6")),o.a.createElement("div",{className:On.a.item,onClick:function(){ie("loggedin","guanzhu","CLK"),window.open("https://www.youku.com/profile/subscribe")}},o.a.createElement("span",{className:"iconfontheader iconjiaguanzhu-28-mian ".concat(On.a.iconSpan)}),o.a.createElement("a",{className:On.a.text},"\u6211\u7684\u5173\u6ce8")),o.a.createElement("div",{className:On.a.item,onClick:function(){ie("loggedin","chuangzuo","CLK"),window.open("https://mp.youku.com/new/video")}},o.a.createElement("span",{className:"iconfontheader iconchuangzuozhongxin-24-mian ".concat(On.a.iconSpan)}),o.a.createElement("a",{className:On.a.text},"\u521b\u4f5c\u4e2d\u5fc3")),o.a.createElement("div",{className:On.a.lastItem,onClick:function(){ie("loggedin","bangzhu","CLK"),window.open("https://t.youku.com/yep/page/pc/youkukefu?isNeedBaseImage=1")}},o.a.createElement("span",{className:"iconfontheader iconkefu-24-mian ".concat(On.a.iconSpan)}),o.a.createElement("a",{href:"javascript:;",className:On.a.text},"\u5e2e\u52a9\u4e2d\u5fc3")))))),!f&&!E&&l&&o.a.createElement("div",{className:"".concat(On.a.panel," ").concat(On.a.uPanel," ").concat("win"===t.platform?t.isShowRed?On.a.winRedPanel:On.a.winPanel:""," ").concat(null!=t&&t.isI18n?On.a.intPanel:"")},o.a.createElement("div",{className:On.a.content},o.a.createElement("div",{className:"".concat(On.a.user_content," ").concat(null!=t&&t.isI18n?On.a.user_content_int:"")},o.a.createElement("div",{className:"".concat(On.a.user_content_avatar," ").concat(null!=t&&t.isI18n?On.a.user_content_avatar_int:"")},o.a.createElement("a",{onClick:function(t){t.preventDefault(),t.stopPropagation(),tt(),ie("loginyindaopanellogin","d_login","CLK")}},o.a.createElement("img",{className:On.a.user_content_avatar_img,src:"https://img.alicdn.com/imgextra/i2/O1CN01lr1KAH1eIQrB1u9ZK_!!6000000003848-2-tps-138-138.png"}))),o.a.createElement("div",{className:On.a.user_content_txt},o.a.createElement("a",{onClick:function(t){t.preventDefault(),t.stopPropagation(),tt(),ie("loginyindaopanellogin","d_login","CLK")}},null!=t&&t.isI18n?(null==t||null===(H=t.i18nHeader)||void 0===H?void 0:H.i18n_Header_Login)||"Log in":"\u7acb\u5373\u767b\u5f55",o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01dPxUfG1sOkwab62IN_!!6000000005757-2-tps-60-60.png"})),o.a.createElement("p",null,null!=t&&t.isI18n?(null==t||null===(F=t.i18nHeader)||void 0===F?void 0:F.i18n_Header_Login_Str)||"view more browsing history":"\u540c\u6b65\u591a\u7aef\u89c2\u770b\u8bb0\u5f55 \u5c0a\u4eab\u9ad8\u6e05\u89c2\u5f71\u4f53\u9a8c"))),!(null!=t&&t.isI18n)&&o.a.createElement("div",{className:"".concat(On.a.card_content," youku_vip_pay_btn"),onClick:function(){ie("loginyindaokaitonghuiyuan","d_login","CLK",P.scm?P.scm:"")},"data-spm-anchor-id":t.spmAB&&"".concat(t.spmAB.spmA,".").concat(t.spmAB.spmB,".vipyindao.d_kaitonghuiyuan"),"data-scm":P&&P.scm?P.scm:"","data-spm":"d_kaitonghuiyuan","data-products":P&&P.product_sku_id,"data-crm_params":P&&P.crm_params&&encodeURIComponent(JSON.stringify(P.crm_params)),"data-acode":P&&P.activity_code&&P.activity_code,"data-product_params":P&&P.products&&encodeURIComponent(JSON.stringify(P.products)),"data-type":P&&P.biz,"data-pid":P&&P.pid},o.a.createElement("div",{className:On.a.card_content_top},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01FlWRPH1v8fwNtQqav_!!6000000006128-2-tps-171-171.png"}),o.a.createElement("div",{className:On.a.card_content_top_content},o.a.createElement("p",{className:On.a.card_content_top_content_txt},P&&P.title),o.a.createElement("p",{className:On.a.card_content_top_content_span},P&&P.subtitle)),o.a.createElement("a",null,P&&P.btntext?P.btntext:"\u7acb\u5373\u5f00\u901a")),o.a.createElement("div",{className:On.a.card_content_bottom},o.a.createElement("div",{className:On.a.card_content_bottom_item},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i3/O1CN01AwZQgn1SZ7uEOdOm2_!!6000000002260-2-tps-66-66.png"}),o.a.createElement("p",null,"\u5e7f\u544a\u7279\u6743")),o.a.createElement("div",{className:On.a.card_content_bottom_item},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN019clF1m1T6YoghIM20_!!6000000002333-2-tps-66-66.png"}),o.a.createElement("p",null,"\u5e27\u4eab\u5f71\u97f3")),o.a.createElement("div",{className:On.a.card_content_bottom_item},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN01fPVypd28y3K3gEQIg_!!6000000008000-2-tps-66-66.png"}),o.a.createElement("p",null,"\u70ed\u5267\u62a2\u5148\u770b")),o.a.createElement("div",{className:On.a.card_content_bottom_item},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01Q68wVL1NhlIAkq9Dl_!!6000000001602-2-tps-66-66.png"}),o.a.createElement("p",null,"\u9662\u7ebf\u65b0\u7247")))))))},Rn=Dn,Mn=n(15),Un=n.n(Mn),Hn=function(t){return o.a.createElement("div",{className:"".concat(Un.a.logo_box," ").concat("win"!==t.platform&&"mac"!==t.platform?Un.a.logo_hover:""," ").concat(t.isI18n?Un.a.I18n_box:"")},o.a.createElement("img",{className:"".concat(Un.a.logo_img," ").concat(t.showTopHeaderNav?Un.a.nav_logo:""," ").concat(t.oldStyle?Un.a.oldStyle:""," ").concat(null!=t&&t.isI18n?Un.a.logo_int:""),onClick:function(){if("win"!==t.platform&&"mac"!==t.platform)if(t.isVipPage)window.location.href="//hy.youku.com";else if(t.isI18n){var e,n=Object(a.getPreStr)(null===(e=location)||void 0===e?void 0:e.host),r="pre"===window.__ENV__||"staging"===window.__ENV__||location.host.includes(n);if(location.host.includes("youku.tv")){var o=r?"pre.youku.tv":"www.youku.tv";window.location.href="//".concat(o,"/channel/webhome")}else{var i=r?"prodtest.youku.com":"www.youku.com";window.location.href="//".concat(i,"/channel/webhome?isI18n=1")}}else window.location.href="//www.youku.com"},src:t.isVipPage?"https://img.alicdn.com/imgextra/i1/O1CN01GjItwX1tbPYvwgSJJ_!!6000000005920-2-tps-352-75.png":"https://img.alicdn.com/tfs/TB17DTuXkH0gK0jSZPiXXavapXa-680-133.svg"}))},Fn=Hn,Bn=n(30),Gn=n.n(Bn),Kn=n(6),Vn=n.n(Kn);function Wn(){Wn=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==qn(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(qn(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function qn(t){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xn(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function Jn(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Xn(a,r,o,i,c,"next",t)}function c(t){Xn(a,r,o,i,c,"throw",t)}i(void 0)}))}}function Yn(t,e){return tr(t)||Zn(t,e)||Qn(t,e)||zn()}function zn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qn(t,e){if(t){if("string"==typeof t)return $n(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$n(t,e):void 0}}function $n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zn(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function tr(t){if(Array.isArray(t))return t}var er=[{url:"https://hy.youku.com/",img:"//img.alicdn.com/imgextra/i3/O1CN01AwZQgn1SZ7uEOdOm2_!!6000000002260-2-tps-66-66.png",title:"\u5e7f\u544a\u7279\u6743"},{url:"https://hy.youku.com/",img:"//img.alicdn.com/imgextra/i4/O1CN019clF1m1T6YoghIM20_!!6000000002333-2-tps-66-66.png",title:"\u5e27\u4eab\u5f71\u97f3"},{url:"https://hy.youku.com/",img:"//img.alicdn.com/imgextra/i1/O1CN01fPVypd28y3K3gEQIg_!!6000000008000-2-tps-66-66.png",title:"\u70ed\u5267\u62a2\u5148\u770b"},{url:"https://hy.youku.com/",img:"//img.alicdn.com/imgextra/i4/O1CN01Q68wVL1NhlIAkq9Dl_!!6000000001602-2-tps-66-66.png",title:"\u9662\u7ebf\u65b0\u7247"}],nr=null,rr=function(t){var e=t.userInfo,n=t.crmData,a=t.isLogin,i=t.isVip,c=St((function(t){return t.isI18n})),l=Yn(Object(r.useState)(""),2),u=l[0],s=l[1],f=Yn(Object(r.useState)("loading"),2),h=f[0],p=f[1],d=Yn(Object(r.useState)(""),2),m=d[0],v=d[1],y=Yn(Object(r.useState)(!1),2),g=y[0],_=y[1],b=Yn(Object(r.useState)(!1),2),w=b[0],x=b[1],E=null,k=null,S=function(){var e=Jn(Wn().mark((function e(){var r,o,a,i,c,l;return Wn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="https://t.youku.com/app/ykvip_rax/yk-vip-cashier-plato/pages/index",o="https://t.youku.com/app/visp/cashier/index",n&&n.link){e.next=6;break}return v(o),p("ready"),e.abrupt("return");case 6:"19dd4927ee66ad7e"===n.pid&&(o=r),a="".concat(o,"?hideNavigatorBar=true&sceneType=fullScreen&tabStyle=1"),i={};try{i="string"==typeof n.cashier_attributes?Object.assign({},JSON.parse(n.cashier_attributes),{pid:n.pid||""}):"object"===qn(n.cashier_attributes)?Object.assign({},n.cashier_attributes,{pid:n.pid||""}):{pid:n.pid||""}}catch(t){i={pid:n.pid||""}}if("19dd4927ee66ad7e"===n.pid?(i.wxtip=2,x(!0)):x(!1),c={pageKey:n.cashierPageKey,channel:"pc@yk",activityCode:n.activity_code,attributes:JSON.stringify(i),products:n.products},"win"!==t.platform&&"mac"!==t.platform||(c.channel="iku@yk"),"true"===t.isMas&&(c.channel="mac@yk"),a+="&h5params=".concat(encodeURIComponent(JSON.stringify(c)),"&en_scm=").concat(n.scm,"&v=1"),!nr||nr!==a){e.next=17;break}return e.abrupt("return");case 17:return nr=a,p("loading"),e.prev=19,e.next=22,z({codeSize:128,sources:"pc",channel:"pc",cycle_buy_re:1,payUrl:a});case 22:l=e.sent,v(l.data.result.data.shortUrl),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(19),v("https://t.youku.com/app/visp/cashier/index");case 29:p("ready");case 30:case"end":return e.stop()}}),e,null,[[19,26]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){if(n&&n.scm){var t=e.loginStatus?1===e.is_vip?"1":"2":"0",r="";t&&"0"===t?r="login":t&&"1"===t?r="renew":t&&"2"===t&&(r="startpay"),s(r),ie("vipyindao","d_".concat(r),"EXP","login"!==r?n.scm?n.scm:"20140719.manual.cashier_".concat(r,".syt_default"):"")}}),[n,e]),Object(r.useEffect)((function(){var e=t.isLogin?t.isVip?"renew":"startpay":"login";s(e)}),[a,i]),o.a.createElement("div",{className:Vn.a.vip_wrap,onMouseEnter:c?void 0:function(){t.setMouseIn&&t.setMouseIn(!0),clearTimeout(E),k=setTimeout((function(){S(),_(!0)}),300),ie("vipyindaopanel","d_".concat(u),"EXP","login"!==u?n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"):""),n&&n.btntext&&ie("vipyindaokaitonghuiyuan","d_".concat(u),"EXP","login"!==u?n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"):"")},onMouseLeave:c?void 0:function(){clearTimeout(k),E=setTimeout((function(){_(!1)}),150)},"data-spm":"vipyindao"},o.a.createElement("a",{href:"javascript:void(0);",className:"youku_vip_pay_btn aplus_exp aplus_clk ".concat(Vn.a.vip_buy_button),onClick:function(){ie("vipyindao","d_".concat(u),"CLK","login"!==u?n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"):"")},"data-scm":n&&n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"),"data-spm":"d_".concat(u),"data-name":"a_pos","data-products":n&&n.product_sku_id,"data-crm_params":n&&n.crm_params&&encodeURIComponent(JSON.stringify(n.crm_params)),"data-acode":n&&n.activity_code,"data-product_params":n&&n.products&&encodeURIComponent(JSON.stringify(n.products)),"data-type":n&&n.biz,"data-pid":n&&n.pid},o.a.createElement("span",{className:"iconfontheader icon-vip ".concat(Vn.a.vip_icon)}),o.a.createElement("div",{className:"".concat(Vn.a.vip_pop_content," ").concat((null==n?void 0:n.iconpop)&&Vn.a.vip_iconpop_width||Vn.a.vip_icontxt_width)},(null==n?void 0:n.icontxt)&&o.a.createElement("span",{className:Vn.a.icontxt},n.icontxt),(null==n?void 0:n.iconpop)&&o.a.createElement("span",{className:Vn.a.angle_mark},n.iconpop))),g&&o.a.createElement("div",{className:"".concat(Vn.a.vip_panel," ").concat(Vn.a.uPanel," ").concat("true"===t.isMas?Vn.a.masPanel:"")},o.a.createElement("div",{className:Vn.a.vip_panel_content},o.a.createElement("div",{className:Vn.a.panel_txt_list},er&&er.map((function(t,e){return o.a.createElement("a",{key:e,className:"aplus_exp aplus_clk ".concat(Vn.a.panel_txt_item),href:t.url,onClick:function(){ie("vipyindao","text_".concat(e+1),"CLK")},target:"_blank",rel:"noreferrer"},o.a.createElement("img",{src:t.img}),o.a.createElement("p",null,t.title))}))),"true"!==t.isMas&&o.a.createElement("div",{className:Vn.a.panel_code_box},o.a.createElement("div",{className:Vn.a.panel_code_img},m&&"loading"!==h&&o.a.createElement(Gn.a,{width:96,code:m}),"loading"===h&&o.a.createElement("img",{className:Vn.a.code_loading,src:"https://img.alicdn.com/imgextra/i4/O1CN01XIDL4K1YLk1m7oXIc_!!6000000003043-2-tps-63-63.png"}),"error"===h&&o.a.createElement("div",{className:Vn.a.code_error,onClick:function(){p("loading"),setTimeout((function(){p("ready")}),1e3)}},o.a.createElement("div",{className:Vn.a.code_error_box},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i4/O1CN01q1SlXH1t1EDZJ8JUM_!!6000000005841-2-tps-63-63.png"}),o.a.createElement("p",null,"\u70b9\u51fb\u5237\u65b0")))),o.a.createElement("div",{className:Vn.a.panel_code_txt},o.a.createElement("span",null,o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN01lXpGHd23MQhwDeNoy_!!6000000007241-2-tps-54-54.png"}),w?null:o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i1/O1CN01S88svU1GX2iMgWcK1_!!6000000000631-2-tps-54-54.png"}),"\u652f\u4ed8\u5b9d",w?"":"/\u5fae\u4fe1"," ",o.a.createElement("br",null),"\u626b\u7801\u5f00\u4f1a\u5458")))),o.a.createElement("div",{className:Vn.a.bottomBox},n&&n.btntext&&o.a.createElement("a",{className:"youku_vip_pay_btn aplus_exp aplus_clk ".concat(Vn.a.bottomButton),onClick:function(){ie("vipyindaokaitonghuiyuan","d_".concat(u),"CLK","login"!==u?n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"):"")},"data-scm":n&&n.scm?n.scm:"20140719.manual.cashier_".concat(u,".syt_default"),"data-spm":"d_".concat(u),"data-name":"a_pos","data-products":n&&n.product_sku_id,"data-crm_params":n&&n.crm_params&&encodeURIComponent(JSON.stringify(n.crm_params)),"data-acode":n&&n.activity_code,"data-product_params":n&&n.products&&encodeURIComponent(JSON.stringify(n.products)),"data-type":n&&n.biz,"data-pid":n&&n.pid,href:"javascript:void(0);"},n&&n.btntext),n&&n.subtitle&&o.a.createElement("div",{className:Vn.a.bottomButtonPop},o.a.createElement("p",{className:Vn.a.bottomButtonPopTxt},n&&n.subtitle)))))},or=rr,ar=n(23),ir=n.n(ar),cr=function(t){return o.a.createElement("div",{className:ir.a.localfile_box},o.a.createElement("a",{onClick:function(){window.ikuApi&&window.ikuApi.switchPersonalCenter&&window.ikuApi.switchPersonalCenter({flag:!0,personalActiveKey:2})},title:"\u4e0b\u8f7d",className:"iconfontheader icon-localfile-main-24 ".concat(ir.a.icon_span)}))},lr=cr,ur=n(24),sr=n.n(ur),fr=function(t){return o.a.createElement("div",{className:sr.a.localplay_box},o.a.createElement("a",{onClick:function(){window.ikuApi&&window.ikuApi.openLocalPlayWindow&&window.ikuApi.openLocalPlayWindow()},title:"\u672c\u5730\u64ad\u653e",className:"iconfontheader icon-localplay-main-24 ".concat(sr.a.icon_span)}))},hr=fr,pr=n(25),dr=n.n(pr),mr=function(t){return o.a.createElement("div",{className:dr.a.reload_box},o.a.createElement("a",{onClick:function(){window.ikuApi&&window.ikuApi.windowReload&&window.ikuApi.windowReload()},title:"\u5237\u65b0",className:"iconfontheader icon-reload-main-24 ".concat(dr.a.icon_span)}))},vr=mr,yr=n(22),gr=n.n(yr),_r=function(t){return o.a.createElement("div",{className:"".concat(gr.a.win_header," ").concat(t.isShowRed?gr.a.win_header_red:"")},!t.isShowRed&&o.a.createElement("div",{className:gr.a.YLine}),o.a.createElement(vr,null))},br=_r,wr=n(3),xr=n.n(wr);function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kr(){kr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Er(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Er(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Sr(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function Or(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Sr(a,r,o,i,c,"next",t)}function c(t){Sr(a,r,o,i,c,"throw",t)}i(void 0)}))}}function Lr(t,e){return jr.apply(this,arguments)}function jr(){return(jr=Or(kr().mark((function t(e,n){var r,o,i;return kr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(a.getCna)(),o={api:"mtop.youku.playlog.open.get",type:"GET",v:"1.0",ecode:0,dataType:"jsonp",data:JSON.stringify({nlid:r||"XlQcF5xQrCcCAWoLKdGqIOhS",uid:e||"",pageLength:100,timestamp:(new Date).getTime().toString(),appKey:"qPbb2hfIYugHjMaj",appName:"pc",hwClass:1,deviceName:"web",isPlayController:1,ccode:n?"0597":"0502",clientDrmAbility:Nr(navigator&&navigator.userAgent)||3}),appKey:24679788,jsonpIncPrefix:"headerRecord"},t.next=4,l.request("mtop.youku.playlog.open.get",o).catch((function(t){console.log("getRecord_open.get_err",t)}));case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Nr(t){var e,n,r=/(chrome)\/([\w.]+)/.test(t)&&t.match(new RegExp("chrome/([0-9]+)."))<=49,o=(t.indexOf("360ee")>-1||t.indexOf("360se")>-1)&&r;(t.indexOf("msie")>-1||t.indexOf("compatible")>-1||t.indexOf("trident")>-1)&&(e=RegExp.$1,n=!0);var a=t.match(new RegExp("".concat(e,":| ([0-9]+).")));return r||o||n&&a<11?1:3}function Ir(t){return(Ir="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gr(r.key),r)}}function Cr(t,e,n){return e&&Pr(t.prototype,e),n&&Pr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ar(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dr(t,e)}function Dr(t,e){return(Dr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Rr(t){var e=Hr();return function(){var n,r=Fr(t);if(e){var o=Fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mr(this,n)}}function Mr(t,e){if(e&&("object"===Ir(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ur(t)}function Ur(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Fr(t){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Br(t,e,n){return(e=Gr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gr(t){var e=Kr(t,"string");return"symbol"===Ir(e)?e:String(e)}function Kr(t,e){if("object"!==Ir(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ir(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Vr=function(t){Ar(n,t);var e=Rr(n);function n(t){var r;return Tr(this,n),Br(Ur(r=e.call(this,t)),"updateView",(function(t,e){t&&r.setState({progressWidth:t/100*e})})),r.state={progressWidth:0},r}return Cr(n,[{key:"componentWillReceiveProps",value:function(t){t.progress!==this.props.progress&&this.updateView(t.progress,90)}},{key:"componentDidMount",value:function(){this.updateView(this.props.progress,90)}},{key:"render",value:function(){return o.a.createElement("div",{style:{width:"100%",height:"3px",background:"rgba(255,255,255, .5)",position:"absolute",bottom:"0px",left:"0px"}},o.a.createElement("div",{style:{width:"".concat(this.state.progressWidth,"px"),height:"3px",background:"#61f6ff"}}))}}]),n}(o.a.Component);function Wr(t,e){return t[{"VIP\xb7\u534a\u4ef7":"i18n_Corner_VodHalf","\u4ed8\u8d39":"i18n_Corner_Tvod","\u72ec\u64ad":"i18n_Corner_Exclusive","\u6700\u65b0":"i18n_Corner_Latest","\u5df2\u70b9\u64ad":"i18n_Corner_Available","\u8d85\u524d\u70b9\u64ad":"i18n_Corner_Express",VIP:"i18n_Corner_VIP","\u9884\u544a":"i18n_Corner_Trailer"}[e]]||""}function qr(t){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xr(){Xr=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==qr(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(qr(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Jr(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function Yr(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Jr(a,r,o,i,c,"next",t)}function c(t){Jr(a,r,o,i,c,"throw",t)}i(void 0)}))}}function zr(t,e){return eo(t)||to(t,e)||$r(t,e)||Qr()}function Qr(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function $r(t,e){if(t){if("string"==typeof t)return Zr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(t,e):void 0}}function Zr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function to(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function eo(t){if(Array.isArray(t))return t}var no=!1,ro=[],oo=[],ao=[],io=!1,co=function(t){var e=zr(Object(r.useState)(!1),2),n=e[0],i=e[1],c=zr(Object(r.useState)(!1),2),l=c[0],u=c[1],s=zr(Object(r.useState)(!1),2),f=s[0],h=s[1],p=zr(Object(r.useState)(""),2),d=p[0],m=p[1],v=zr(Object(r.useState)(""),2),y=v[0],g=v[1],_=zr(Object(r.useState)(""),2),b=_[0],w=_[1],x=Object(r.useRef)(null),E=Object(r.useRef)();Object(r.useEffect)((function(){t.logininstance&&(t.logininstance&&t.logininstance.eventbusLogin.subscribe((function(t){t.userInfo&&(i(t.isLoginStatus,(function(){if(d){var t=document.createElement("a");t.target="_blank",t.href=d,document.body.appendChild(t),t.click(),document.body.removeChild(t)}})),j(t.userInfo.ytid))})),t.logininstance.eventbusLoggout.subscribe((function(){ro=[],j(""),i(!1)})))}),[t.logininstance]),Object(r.useEffect)((function(){return g(window.location.host),w(window.location.search),function(){clearTimeout(null),clearTimeout(null)}}),[]);var k=function(e,n,r){var o;return null!=t&&t.isI18n?(null==t||null===(o=t.i18nHeader)||void 0===o?void 0:o[e])||n:r},S=function(){t.logininstance&&t.logininstance.login()},O=function(t,e){e=Math.floor(e/1e3);var n=new Date,r=new Date("".concat(n.getFullYear(),"/").concat(n.getMonth()+1,"/").concat(n.getDate()," 00:00:00")).getTime()/1e3,o=new Date("".concat(n.getFullYear(),"/").concat(n.getMonth()+1,"/").concat(n.getDate()," 23:59:59")).getTime()/1e3;return t>=r&&t<=o?0:e-t<=604800?1:2},L=function(t){var e=[],n=0,r=0,o=0;return t.todayList.length>0&&(e.push({type:"date",title:k("i18n_Header_History_Today","Today","\u4eca\u5929")}),r++,t.todayList.map((function(t,r){return r<10&&(t.order=++n,e.push(t)),t}))),e.length<11?(o=11-e.length,e.push({type:"date",title:k("i18n_Header_History_Week","Last 7 days","\u4e03\u5929\u5185")}),r++,o=10-e.length+r,0===t.withinSevenList.length&&e.pop(),t.withinSevenList.map((function(t,r){return r<o-1&&(t.order=++n,e.push(t)),t})),e.length<12&&(o=12-e.length,e.push({type:"date",title:k("i18n_Header_History_Earlier","Earlier","\u66f4\u65e9")}),r++,o=10-e.length+r,0===t.earlierList.length&&e.pop(),t.earlierList.map((function(t,r){return r<o&&(t.order=++n,e.push(t)),t}))),e):e},j=function(){var e=Yr(Xr().mark((function e(n){var r,o,a,i,c,l,u;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lr(n,null==t?void 0:t.isI18n);case 3:l=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:no=!(l&&l.data&&l.data.dataList&&l.data.dataList.length>0),u={todayList:[],withinSevenList:[],earlierList:[]},null===(r=l)||void 0===r||null===(o=r.data)||void 0===o||null===(a=o.dataList)||void 0===a||a.forEach((function(t){var e=O(t.lastUpdate,(new Date).getTime());0===e?u.todayList.push(t):1===e?u.withinSevenList.push(t):u.earlierList.push(t)})),ro=L(u),oo=(null===(i=l)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.dataList)||[];case 14:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),N=function(e,r,o){var i,c="//v.youku.com/v_show/id_".concat(r.videoId,".html?firsttime=").concat(r.point),l=Object(a.getPreStr)(null===(i=location)||void 0===i?void 0:i.host),u="pre"===window.__ENV__||"staging"===window.__ENV__||location.host.includes(l);if(null!=t&&t.isI18n&&(c=location.host.includes("youku.tv")?"//".concat(u?"pre.youku.tv":"www.youku.tv","/v_show/id_").concat(r.videoId,".html?firsttime=").concat(r.point):"//".concat(u?"pre-v1.youku.com":"www.youku.com","/v_show/id_").concat(r.videoId,".html?firsttime=").concat(r.point,"&isI18n=1")),r.urlParams&&(c+="&".concat(r.urlParams)),0===o?ie(n?"loginrecord":"unloginrecord","text_".concat(r.order),"CLK"):r.playPercent<97?ie(n?"loginrecord":"unloginrecord","continue"):ie(n?"loginrecord":"unloginrecord","replay"),window.headerInterceptSwitch){if(!n&&!io)return S(),io=!0,m(c),!1;io&&(m(""),window.open(c)),n&&window.open(c)}else window.open(c);return!1},I=function(e,n){var r,a,i,c;if("date"===e.type)return o.a.createElement("dt",{key:n},e.title);var l="iconlishijilu-16-diannao";switch(e.hwClass){case 1:l="iconlishijilu-16-diannao";break;case 2:l="iconlishijilu-16-TV";break;case 3:l="iconlishijilu-16-pad";break;case 4:l="iconlishijilu-16-shouji";break;default:l="iconlishijilu-16-shouji"}return 0===e.isPlayable?o.a.createElement("dd",{key:n,className:xr.a.notPlayable},(null==e?void 0:e.img)&&o.a.createElement("div",{style:{display:"inline-block",height:"51px",marginRight:"7px"}},o.a.createElement("img",{src:e.img,className:xr.a.headerLogImg})),o.a.createElement("div",{style:{display:"inline-block",height:"51px"}},o.a.createElement("a",{href:"javascript:return false"},e.title),o.a.createElement("span",{className:xr.a.recSt},k("i18n_Header_History_Ban","Sorry, the video is unavailable.","\u6682\u65e0\u53ef\u64ad\u6e90")))):o.a.createElement("dd",{key:n},o.a.createElement("div",{className:xr.a.headerLogImgLeft},e.img?o.a.createElement("img",{className:xr.a.headerLogImg,src:e.img,alt:"",onClick:function(t){return N(0,e,0)}}):o.a.createElement("div",{className:xr.a.headerLogImg}),null!=t&&t.isI18n||!e.showUpdateStatus?"":o.a.createElement("span",{className:xr.a.headerLogDate},e.showUpdateStatus," "),e.playPercent?o.a.createElement(Vr,{progress:e.playPercent,containerStyle:{borderRadius:"0px"}}):"",function(e,n){var r=e.cornerMark,a=e.markColor,i=e.ext,c=r,l=a,u=i&&JSON.parse(i);null!=u&&u.cornerMarkIconFont&&(l=(null==u?void 0:u.cornerFontColor)||a),"VIP\xb7\u5e27\u4eab"===c&&(c="VIP");var s="",f="";if(l)switch(l){case"RED":s="#ff008c",f="#fff";break;case"GOLDEN":s="#ffdd9a",f="#4e2d03";break;case"BLUE":s="#03c8d4",f="#fff";break;case"SVIP_COLORFUL":s="linear-gradient(240deg, #ffde9e 0%, #f19dc7 75%, #b499ff 100%)",f="#4d0819"}return n&&(c=Wr(t.i18nHeader,c)),s&&f&&(c||null!=u&&u.cornerMarkIconFont)?o.a.createElement("div",{className:xr.a.rightText,style:{position:"absolute",right:0,top:0,background:s,borderRadius:"0 7px 0 7px",color:f}},null!=u&&u.cornerMarkIconFont?o.a.createElement("span",{className:"".concat(xr.a.rightTextFont," iconfontheader ").concat(null==u?void 0:u.cornerMarkIconFont)}):o.a.createElement("span",{className:xr.a.rightTextFont},s?c:"\u76f4\u64ad")):""}(e,null==t?void 0:t.isI18n)),o.a.createElement("div",{className:xr.a.headerLogImgRight},o.a.createElement("a",{target:"video",style:{maxWidth:"170px"},title:e.title,onClick:function(t){return N(0,e,0)}},e.title),o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},o.a.createElement("span",{className:"iconfontheader ".concat(l," ").concat(xr.a.icoDevice),style:{display:"inline-block"}}),o.a.createElement("span",{className:xr.a.recSt},e.playPercent<1?(null==t||null===(r=t.i18nHeader)||void 0===r||null===(a=r.i18n_Header_History_WatchPer)||void 0===a?void 0:a.replace("%s","1%"))||"\u89c2\u770b\u4e0d\u8db31%":e.playPercent>97?k("i18n_Header_History_Finished","Finished","\u5df2\u770b\u5b8c"):(null==t||null===(i=t.i18nHeader)||void 0===i||null===(c=i.i18n_Header_History_WatchPer)||void 0===c?void 0:c.replace("%s","".concat(e.playPercent,"%")))||"\u89c2\u770b\u81f3".concat(e.playPercent,"%")),e.lastUpdate?o.a.createElement("span",{className:xr.a.headerLogTime},function(t){t&&t.toString().length<=10&&(t*=1e3);var e=new Date(t),n="".concat(e.getMonth()+1);n=n.length>1?n:"0".concat(n);var r="".concat(e.getDate());r=r.length>1?r:"0".concat(r);var o="".concat(e.getHours());o=o.length>1?o:"0".concat(o);var a="".concat(e.getMinutes());a=a.length>1?a:"0".concat(a);var i=new Date,c="".concat(i.getMonth()+1);c=c.length>1?c:"0".concat(c);var l="".concat(i.getDate());return l=l.length>1?l:"0".concat(l),n===c&&r===l?"".concat(k("i18n_Header_History_Today","Today","\u4eca\u5929")," ").concat(o,":").concat(a):"".concat(n,"-").concat(r," ").concat(o,":").concat(a)}(e.lastUpdate)," "):"")))},T=function(){E&&E.current&&h(!E.current.checked)},P=function(t){var e=t.target.checked?"filter_on":"filter_off";ie(n?"loginrecord":"unloginrecord",e,"CLK"),h(t.target.checked)};if(f){var C,A={todayList:[],withinSevenList:[],earlierList:[]};null===(C=oo)||void 0===C||C.forEach((function(t){var e=O(t.lastUpdate,(new Date).getTime());0===t.tp&&Number(t.duration)<1200||(0===e?A.todayList.push(t):1===e?A.withinSevenList.push(t):A.earlierList.push(t))})),ao=L(A),no=0===ao.length}else ro.length>0&&(no=!1);var D=Object(a.getPreStr)(y),R=null==y?void 0:y.includes(D),M=null!=y&&y.includes("youku.tv")?"".concat(R?"pre":"www",".youku.tv"):"".concat(R?"prodtest":"www",".youku.com"),U="//".concat(M,"/page/usc/index").concat(b);return o.a.createElement("div",{className:"".concat(xr.a.uRecord," ").concat((t.white,"")),onMouseEnter:function(){t.setMouseIn&&t.setMouseIn(!0),t.logininstance&&t.logininstance.eventbusLogin&&t.logininstance.eventbusLogin.subscribe((function(t){var e=t.userInfo&&t.userInfo.ytid;j(e)})),ie(n?"loginrecord":"unloginrecord","","EXP"),x.current&&clearTimeout(x.current),x.current=setTimeout((function(){u(!0)}),300)},onMouseLeave:function(){x.current&&clearTimeout(x.current),x.current=null,u(!1)}},o.a.createElement("a",{rel:"noopener noreferrer",title:k("i18n_Header_History","history","\u64ad\u653e\u8bb0\u5f55"),href:n?U:"javascript:void:",target:n?"_black":"",onClick:function(t){!n&&S(),ie("headericons","kanguo","CLK")},className:"aplus_exp aplus_clk iconfontheader icondingdao-24-guankanlishi ".concat(xr.a.recordIcon),"data-spm":"d_record"}),l&&o.a.createElement(o.a.Fragment,null,!no&&o.a.createElement("div",{className:"".concat(null!=t&&t.isI18n?xr.a.intPanel:xr.a.panel," ").concat(null!=t&&t.isI18n?xr.a.intuPanel:xr.a.uPanel),style:{display:l?"block":"none"}},o.a.createElement("div",null,!(null!=t&&t.isI18n)&&o.a.createElement("div",{className:xr.a.filterArea},o.a.createElement("input",{id:"headerCheckBox",className:xr.a.check,type:"checkbox",onChange:function(t){return P(t)},checked:f,ref:E}),o.a.createElement("label",{htmlFor:"headerCheckBox"}),o.a.createElement("span",{onClick:T},k("i18n_Header_History_NoShorts","Filter out short videos","\u8fc7\u6ee4\u77ed\u89c6\u9891"))),o.a.createElement("dl",{className:xr.a.recList},f?ao.map((function(t,e){return I(t,e)})):ro.map((function(t,e){return I(t,e)})))),n?o.a.createElement("div",{className:xr.a.uBottom},o.a.createElement("a",{href:U,className:xr.a.moreButton,target:"_blank",onClick:function(){setTimeout((function(){u(!1)}),500),ie("loginrecord","more","CLK")},rel:"noreferrer"},k("i18n_Header_History_More","More","\u67e5\u770b\u66f4\u591a"))):o.a.createElement("div",{className:xr.a.uBottom},o.a.createElement("a",{onClick:function(t){S(),ie("unloginrecord","loginmore","CLK")},className:xr.a.moreButton},k("i18n_Header_History_Login","Sign in to view history","\u767b\u5f55\u67e5\u770b\u66f4\u591a")),o.a.createElement("br",null))),no&&n&&o.a.createElement("div",{className:"".concat(null!=t&&t.isI18n?xr.a.intPanel:xr.a.panel," ").concat(xr.a.logout," ").concat(null!=t&&t.isI18n?xr.a.intuPanel:xr.a.uPanel),style:{display:l?"block":"none"}},!(null!=t&&t.isI18n)&&o.a.createElement("div",{className:xr.a.filterArea},o.a.createElement("input",{id:"headerCheckBox2",className:xr.a.check,type:"checkbox",onChange:function(t){return P(t)},checked:f,ref:E}),o.a.createElement("label",{htmlFor:"headerCheckBox2"}),o.a.createElement("span",{onClick:T},k("i18n_Header_History_NoShorts","Filter out short videos","\u8fc7\u6ee4\u77ed\u89c6\u9891"))),o.a.createElement("img",{className:xr.a.imgtip,src:"//gw.alicdn.com/tfs/TB1fLhORUY1gK0jSZFCXXcwqXXa-400-400.png"}),o.a.createElement("div",{className:xr.a.subtitle},k("i18n_Header_History_None","No video",f?"\u4eb2\uff0c\u6682\u65e0\u957f\u89c6\u9891\u64ad\u653e\u8bb0\u5f55\u54e6~":"\u4eb2\uff0c\u4f60\u8fd8\u6ca1\u6709\u89c2\u770b\u89c6\u9891\u54e6~")),o.a.createElement("div",{className:xr.a.loginbuttonBox},o.a.createElement("button",{onClick:function(){setTimeout((function(){u(!1)}),500),window.open(U),ie("loginrecord","more","CLK")},className:xr.a.loginbutton},k("i18n_Header_History_More","More","\u67e5\u770b\u66f4\u591a")))),no&&!n&&o.a.createElement("div",{className:"".concat(null!=t&&t.isI18n?xr.a.intPanel:xr.a.panel," ").concat(xr.a.logout," ").concat(null!=t&&t.isI18n?xr.a.intuPanel:xr.a.uPanel),style:{display:l?"block":"none"}},!(null!=t&&t.isI18n)&&o.a.createElement("div",{className:xr.a.filterArea},o.a.createElement("input",{id:"headerCheckBox3",className:xr.a.check,type:"checkbox",onChange:function(t){return P(t)},checked:f,ref:E}),o.a.createElement("label",{htmlFor:"headerCheckBox3"}),o.a.createElement("span",{onClick:T},k("i18n_Header_History_NoShorts","Filter out short videos","\u8fc7\u6ee4\u77ed\u89c6\u9891"))),o.a.createElement("img",{className:xr.a.imgtip,src:"//gw.alicdn.com/tfs/TB1fLhORUY1gK0jSZFCXXcwqXXa-400-400.png"}),o.a.createElement("div",{className:xr.a.subtitle},k("i18n_Header_History_None","No video",f?"\u4eb2\uff0c\u6682\u65e0\u957f\u89c6\u9891\u64ad\u653e\u8bb0\u5f55\u54e6~":"\u4eb2\uff0c\u4f60\u8fd8\u6ca1\u6709\u89c2\u770b\u89c6\u9891\u54e6~")),o.a.createElement("div",{className:xr.a.loginbuttonBox},o.a.createElement("button",{onClick:function(t){S(),ie("unloginrecord","loginmore","CLK")},className:xr.a.loginbutton},k("i18n_Header_History_Login","Sign in to view history","\u767b\u5f55\u67e5\u770b\u66f4\u591a"))))))},lo=co,uo=n(16),so=n.n(uo);function fo(t,e){return yo(t)||vo(t,e)||po(t,e)||ho()}function ho(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function po(t,e){if(t){if("string"==typeof t)return mo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mo(t,e):void 0}}function mo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vo(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function yo(t){if(Array.isArray(t))return t}var go=[{url:"//www.youku.com/ikudownload/index",type:"icon",img:"//img.alicdn.com/imgextra/i3/O1CN019qtoTE1cnulCtvCq1_!!6000000003646-2-tps-40-38.png",title:"1080P\u9650\u514d",show:!0,icon:"iconHD-24-mian"},{url:"//www.youku.com/ikudownload/index",type:"img",img:"//img.alicdn.com/imgextra/i2/O1CN01rFI7mg1d6EbNH5q6m_!!6000000003686-2-tps-72-72.png",title:"\u6d41\u7545\u64ad\u653e",show:!0},{url:"//www.youku.com/ikudownload/index",type:"icon",img:"//img.alicdn.com/imgextra/i1/O1CN0198j2wM1VT7TA2CgR8_!!6000000002653-2-tps-48-48.png",title:"\u6781\u901f\u79bb\u7ebf\u4e0b\u8f7d",show:!0,icon:"iconjisuxiazai-24-mian"}],_o=function(t){var e=fo(Object(r.useState)(!1),2),n=e[0],a=e[1],i=null,c=null;return o.a.createElement("div",{className:so.a.kuhuduan_box,onMouseEnter:function(){t.setMouseIn&&t.setMouseIn(!0),clearTimeout(i),c=setTimeout((function(){a(!0)}),300)},onMouseLeave:function(){clearTimeout(c),i=setTimeout((function(){a(!1)}),150)}},o.a.createElement("a",{href:"//youku.com/product/index",title:"\u5ba2\u6237\u7aef",target:"_black",rel:"noopener noreferrer",className:"iconfontheader iconkehuduan-main-24 ".concat(so.a.icon_span," aplus_exp aplus_clk"),"data-spm":"d_ikuDownload"}),n&&o.a.createElement("div",{className:"".concat(so.a.download_panel," ").concat(so.a.uPanel)},go&&go.map((function(t,e){var n={href:t.url?t.url:"javascript:void(0)",onClick:function(){ie("vipyindao","text_".concat(e+1),"CLK")}};return t.show?o.a.createElement("div",{key:e,className:so.a.item_content},"img"===t.type?o.a.createElement("img",{src:t.img}):o.a.createElement("i",{style:{color:"#03c8d4"},className:"iconfontheader ".concat(t.icon," ")}),o.a.createElement("a",n,t.title)):null})),o.a.createElement("div",{className:so.a.bottom_button_box},o.a.createElement("a",{className:so.a.bottom_button,href:"//www.youku.com/ikudownload/index",onClick:function(){ie("downloadikuyindao","downloadiku","CLK")}},"\u7acb\u5373\u4f53\u9a8c"))))},bo=_o,wo=n(10),xo=n.n(wo);function Eo(t,e){return jo(t)||Lo(t,e)||So(t,e)||ko()}function ko(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function So(t,e){if(t){if("string"==typeof t)return Oo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oo(t,e):void 0}}function Oo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lo(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function jo(t){if(Array.isArray(t))return t}var No=function(t){var e=Eo(Object(r.useState)(!1),2),n=e[0],a=e[1],i=Eo(Object(r.useState)([]),2),c=i[0],l=i[1],u=Eo(Object(r.useState)([]),2),s=u[0],f=u[1];Object(r.useEffect)((function(){window.addEventListener("resize",h(d))}),[]),Object(r.useEffect)((function(){d()}),[t.channelList]);var h=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=!0;return function(){var r=arguments,o=this;n&&(n=!1,setTimeout((function(){t.apply(o,r),n=!0}),e))}},p="",d=function(){if(t.channelList&&0!==t.channelList.length){var e=document.body.clientWidth;(!p||"long"===p)&&e<=1250?(l(t.channelList.slice(0,1)),f(t.channelList.slice(1,t.channelList.length)),p="short"):(!p||"short"===p)&&e>1250&&(l(t.channelList.slice(0,4)),f(t.channelList.slice(4,t.channelList.length)),p="long")}},m=null,v=null,y=Math.ceil(s.length/2);return o.a.createElement("div",{className:xo.a.nav_box},o.a.createElement("ul",null,c&&c.length>0&&c.map((function(t,e){return o.a.createElement("li",{className:"".concat(xo.a.nav_item),key:e},o.a.createElement("a",{href:t.url,target:"_blank",rel:"noreferrer"},t.title))})),(null==s?void 0:s.length)>0&&o.a.createElement("li",{className:"".concat(xo.a.nav_item),onMouseEnter:function(){clearTimeout(m),v=setTimeout((function(){a(!0)}),300)},onMouseLeave:function(){clearTimeout(v),m=setTimeout((function(){a(!1)}),150)}},o.a.createElement("span",{className:xo.a.nav_cut}),o.a.createElement("a",{className:"".concat(n?xo.a.nav_item_color:"")},"\u5168\u90e8",o.a.createElement("span",{className:"iconfontheader ".concat(xo.a.iconfontheader," iconzhankaijiantou-xia ").concat(n?"iconzhankaijiantou-shang":"")})),n&&s&&s.length>0&&o.a.createElement("div",{className:"".concat(xo.a.nav_panel," ").concat(xo.a.uPanel)},o.a.createElement("ul",{className:xo.a.nav_panel_list,style:{width:"".concat(62*y,"px")}},s.map((function(t,e){return o.a.createElement("li",{className:xo.a.nav_panel_item,key:e},o.a.createElement("a",{href:t.url,target:"_blank",rel:"noreferrer"},t.title))}))),o.a.createElement("div",{className:xo.a.nav_panel_cut}),o.a.createElement("a",{className:xo.a.nav_panel_vip,href:"https://hy.youku.com/",target:"_blank",rel:"noreferrer"},o.a.createElement("img",{src:"https://img.alicdn.com/imgextra/i2/O1CN01YbcMgh1gdA1tZxOA3_!!6000000004164-2-tps-108-90.png"}),o.a.createElement("div",{className:xo.a.nav_panel_vip_txt},"\u4f1a\u5458\u7cbe\u9009"))))))},Io=No,To=n(19),Po=n.n(To);function Co(t){return(Co="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ao(t,e){return Ho(t)||Uo(t,e)||Ro(t,e)||Do()}function Do(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ro(t,e){if(t){if("string"==typeof t)return Mo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mo(t,e):void 0}}function Mo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uo(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Ho(t){if(Array.isArray(t))return t}function Fo(){Fo=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Co(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Co(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Bo(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function Go(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Bo(a,r,o,i,c,"next",t)}function c(t){Bo(a,r,o,i,c,"throw",t)}i(void 0)}))}}var Ko=[{title:"\u7b80\u4f53\u4e2d\u6587",key:"zh_CN"},{title:"\u7e41\u9ad4\u4e2d\u6587",key:"zh_TW"},{title:"English",key:"en_US"},{title:"Ti\u1ebfng Vi\u1ec7t",key:"vi_VN"},{title:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",key:"th_TH"},{title:"Bahasa Indonesia",key:"in_ID"},{title:"Espa\xf1ol",key:"es_ES"},{title:"Bahasa Melayu",key:"ms_MY"},{title:"Portugu\xeas",key:"pt_BR"}],Vo=function(){var t=Go(Fo().mark((function t(){var e;return Fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.getCookie)("yk_lang");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Wo=function(t){var e,n=Ao(Object(r.useState)(),2),i=n[0],c=n[1],l=Ao(Object(r.useState)(""),2),u=l[0],s=l[1],f=(St((function(t){return t.isI18n})),Object(r.useRef)(null));Object(r.useEffect)((function(){Go(Fo().mark((function t(){var e;return Fo().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vo();case 2:e=t.sent,s(e);case 4:case"end":return t.stop()}}),t)})))()}),[]);return o.a.createElement("div",{className:Po.a.lang_box,onMouseEnter:function(){f.current&&clearTimeout(f.current),f.current=setTimeout((function(){c(!0)}),300),ie("languagepanel",Ko.findIndex((function(t){return t.key===u}))+1,"EXP","",{language:u})},onMouseLeave:function(){c(!1),f.current&&clearTimeout(f.current),f.current=null}},o.a.createElement("a",{className:"aplus_exp aplus_clk iconfontheader iconlanguage-main-24 ".concat(Po.a.icon_span),"data-spm":"d_language",title:(null==t||null===(e=t.i18nHeader)||void 0===e?void 0:e.i18n_Header_Language)||"language"}),i&&o.a.createElement("ul",{className:"".concat(Po.a.lang_panel," ").concat(Po.a.uPanel)},Ko.map((function(t,e){return o.a.createElement("li",{className:"".concat(u===t.key?Po.a.current:""),key:e,onClick:function(){!function(t,e){s(t.key),ie("languagepanel",e+1,"CLK","",{language:t.key}),function(t){return new Promise((function(e){var n,r,o=null!==(n=location)&&void 0!==n&&null!==(r=n.host)&&void 0!==r&&r.includes("youku.tv")?"youku.tv":"youku.com";e(Object(a.setCookie)("yk_lang",t,null,o))}))}(t.key).then((function(){var t;null===(t=location)||void 0===t||t.reload()}))}(t,e)}},t.title)}))))},qo=Wo,Xo=n(13),Jo=n.n(Xo);function Yo(t,e){return ta(t)||Zo(t,e)||Qo(t,e)||zo()}function zo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qo(t,e){if(t){if("string"==typeof t)return $o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$o(t,e):void 0}}function $o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zo(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function ta(t){if(Array.isArray(t))return t}var ea=function(t){var e,n,a,i,c=Yo(Object(r.useState)(!1),2),l=c[0],u=c[1],s=Object(r.useRef)(null);Object(r.useEffect)((function(){return function(){clearTimeout(f),clearTimeout(h)}}),[]);var f=null,h=null;return o.a.createElement("div",{className:Jo.a.intapp_box,onMouseEnter:function(){s.current&&clearTimeout(s.current),s.current=setTimeout((function(){u(!0)}),300)},onMouseLeave:function(){u(!1),s.current&&clearTimeout(s.current),s.current=null}},o.a.createElement("div",{className:"iconfontheader iconintappDownload-main-24 aplus_exp aplus_clk ".concat(Jo.a.icon_span),"data-spm":"d_intApp"}),l&&o.a.createElement("div",{className:"".concat(Jo.a.intapp_panel," ").concat(Jo.a.uPanel)},o.a.createElement("div",{className:Jo.a.text_box},o.a.createElement("h2",null,(null==t||null===(e=t.i18nHeader)||void 0===e?void 0:e.i18n_Header_App_Title)||"Scan QR code to download App Now!"),o.a.createElement("p",null,(null==t||null===(n=t.i18nHeader)||void 0===n?void 0:n.i18n_Header_App_Benefit1)||"Boost your download speed"),o.a.createElement("p",null,(null==t||null===(a=t.i18nHeader)||void 0===a?void 0:a.i18n_Header_App_Benefit2)||"No more buffering while streaming"),o.a.createElement("p",null,(null==t||null===(i=t.i18nHeader)||void 0===i?void 0:i.i18n_Header_App_Benefit3)||"High resolution")),o.a.createElement("div",{className:Jo.a.line}),o.a.createElement("div",{className:Jo.a.code_wrap},o.a.createElement("div",{style:{position:"relative"}},o.a.createElement("div",{className:Jo.a.code_box},o.a.createElement("div",{className:Jo.a.code})),o.a.createElement("img",{className:Jo.a.houzi,src:"https://img.alicdn.com/imgextra/i1/O1CN01BhptKl1KpbFOscgVl_!!6000000001213-2-tps-240-276.png"})))))},na=ea,ra=n(11),oa=n.n(ra);function aa(t,e){return sa(t)||ua(t,e)||ca(t,e)||ia()}function ia(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ca(t,e){if(t){if("string"==typeof t)return la(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?la(t,e):void 0}}function la(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ua(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function sa(t){if(Array.isArray(t))return t}var fa=[],ha=function(t){var e,n=aa(Object(r.useState)(!1),2),i=n[0],c=n[1],l=aa(Object(r.useState)([]),2),u=l[0],s=l[1],f=aa(Object(r.useState)([]),2),h=f[0],p=f[1],d=aa(Object(r.useState)(t.current),2),m=d[0],v=d[1],y=aa(Object(r.useState)(""),2),g=y[0],_=y[1],b=2;Object(r.useEffect)((function(){return window.addEventListener("resize",w),function(){window.removeEventListener("resize",w)}}),[m]),Object(r.useEffect)((function(){w(m)}),[t.channelList]);var w=function(){if(_(""),t.channelList&&0!==t.channelList.length){var e,n,r,o,a,i;fa=[];var c=(null===(e=document)||void 0===e||null===(n=e.querySelector(".topheader_top_box"))||void 0===n?void 0:n.clientWidth)-(null===(r=document)||void 0===r||null===(o=r.querySelector(".logo_logo_box"))||void 0===o?void 0:o.clientWidth)-(null===(a=document)||void 0===a||null===(i=a.querySelector(".topheader_utils_box"))||void 0===i?void 0:i.clientWidth)-150,l=document.createElement("canvas").getContext("2d");l.font="16px pingfang SC Microsoft YaHei helvetica arial verdana tahoma sans-serif";for(var u=0,f=0;f<t.channelList.length;f++){var h=t.channelList[f];if((u+=Math.ceil(l.measureText(h.title).width)+22)+38>c){b=f;break}b=f+1}b=b<2?2:b;var d,v=t.channelList.slice(b,t.channelList.length),y=[];null!=v&&v.some((function(t){return t.nodeKey===m}))?(_(null==v||null===(d=v.find((function(t){return t.nodeKey===m})))||void 0===d?void 0:d.title),y=v.filter((function(t){return t.nodeKey!==m}))):_(""),s(t.channelList.slice(0,b)),p(y.length>0?y:v),fa=v}},x=null,E=null,k=function(t){var e,n;if(window){var r=t,o=Object(a.getPreStr)(null===(e=location)||void 0===e?void 0:e.host),i="pre"===window.__ENV__||"staging"===window.__ENV__||location.host.includes(o);if(null!==(n=location.host)&&void 0!==n&&n.includes("youku.tv")){var c=i?"pre.youku.tv":"www.youku.tv";r=r.replace("www.youku.com",c)}else{var l=i?"prodtest.youku.com":"www.youku.com";r="".concat(r.replace("www.youku.com",l),"?isI18n=1")}return r}};return o.a.createElement("div",{className:oa.a.nav_box},o.a.createElement("ul",{style:{display:"flex",height:"100%",whiteSpace:"nowrap"}},(null==u?void 0:u.length)>0&&u.map((function(e,n){return o.a.createElement("li",{className:"".concat(oa.a.nav_item," ").concat("play"!==t.channelType&&e.nodeKey===m?oa.a.current:"").concat("icon"===e.showType?" "+oa.a.nav_icon:""),key:n},o.a.createElement("a",{href:"play"===t.channelType||"icon"===e.showType?k(e.url):"javascript:void(0);",target:"play"===t.channelType||"icon"===e.showType?"_blank":"_self",onClick:"play"===t.channelType||"icon"===e.showType?null:function(){!function(e){v(e.nodeKey),_(""),p(fa),c(!1),t.handleChannelClick(e)}(e)},rel:"noreferrer"},"icon"===e.showType?o.a.createElement("img",{src:e.icon}):e.title))})),((null==u?void 0:u.length)>0&&(null==h?void 0:h.length)>0||g)&&o.a.createElement("li",{className:"".concat(oa.a.nav_item),onMouseEnter:function(){clearTimeout(x),E=setTimeout((function(){c(!0)}),300)},onMouseLeave:function(){clearTimeout(E),x=setTimeout((function(){c(!1)}),150)}},o.a.createElement("a",{className:"".concat(i?oa.a.nav_item_color:"")},o.a.createElement("span",{className:g?oa.a.current:""},g||(null==t||null===(e=t.i18nHeader)||void 0===e?void 0:e.i18n_Header_All)||"All"),(null==h?void 0:h.length)>0&&o.a.createElement("span",{className:"iconfontheader ".concat(oa.a.iconfontheader," iconzhankaijiantou-xia ").concat(i?"iconzhankaijiantou-shang":"")})),i&&(null==h?void 0:h.length)>0&&o.a.createElement("div",{className:"".concat(oa.a.nav_panel," ").concat(oa.a.uPanel)},o.a.createElement("ul",{className:oa.a.nav_panel_list},h.map((function(e,n){return o.a.createElement("li",{className:"".concat(oa.a.nav_panel_item," ").concat("play"!==t.channelType&&e.nodeKey===m?oa.a.current:null),key:n},o.a.createElement("a",{href:"play"===t.channelType||"icon"===e.showType?k(e.url):"javascript:void(0);",target:"play"===t.channelType||"icon"===e.showType?"_blank":"_self",onClick:"play"===t.channelType||"icon"===e.showType?null:function(n){!function(e,n){var r=e.target.innerHTML,o=fa.filter((function(t){return t.title!==r}));p(o),_(r||""),v(n.nodeKey),c(!1),t.handleChannelClick(n)}(n,e)},rel:"noreferrer"},"icon"===e.showType?o.a.createElement("img",{src:e.icon}):e.title))})))))))},pa=ha;function da(t,e){return _a(t)||ga(t,e)||va(t,e)||ma()}function ma(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function va(t,e){if(t){if("string"==typeof t)return ya(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ya(t,e):void 0}}function ya(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ga(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function _a(t){if(Array.isArray(t))return t}var ba=function(t){var e=da(Object(r.useState)({}),2),n=e[0],a=e[1],i=da(Object(r.useState)(!1),2),c=i[0],l=i[1],u=da(Object(r.useState)(!1),2),s=u[0],f=u[1],h=da(Object(r.useState)(!1),2),p=h[0],d=h[1],m=da(Object(r.useState)(!1),2),v=m[0],y=m[1],g=da(Object(r.useState)(!1),2),_=g[0],b=g[1],w=t.angleData,x=t.scrollClass;Object(r.useEffect)((function(){t.logininstance&&t.logininstance&&t.logininstance.eventbusLogin.subscribe((function(t){t.userInfo&&(a(t.userInfo),l(t.isLoginStatus),f(!(1!==t.userInfo.is_vip&&"1"!==t.userInfo.is_vip)))}))}),[t.logininstance]),Object(r.useEffect)((function(){t.festivalConfig&&document&&document.addEventListener("scroll",(function(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>=100&&!v?y(!0):t<100&&y(!1)}))}),[]);var E,k,S="win"===t.platform&&!t.isShowRed,O="mac"===t.platform&&!t.isShowRed&&!t.macFullScreen,L="mac"===t.platform||"win"===t.platform;return o.a.createElement("div",{className:"".concat(Lt.a.topHeaderWrap," ").concat(x?"no_class"===x?Lt.a.scroll_no_class:Lt.a.scroll_class:""," ").concat(v||t.festivalConfig?v?"":Lt.a.hasAd:""," ").concat(void 0!==x?"":Lt.a.headerBackGround)},o.a.createElement("div",{className:"".concat(Lt.a.top_header_box," ").concat(t.oldStyle?Lt.a.header_width:""," ").concat(_?Lt.a.no_drag:""),style:{height:"".concat(null!=t&&t.isI18n||!t.isShowRed?"70":"140","px")}},"win"===t.platform&&o.a.createElement("div",{className:Lt.a.uosHeader}),!(null!=t&&t.isI18n)&&t.isShowRed&&Array.isArray(w.topRed)&&w.topRed[0]&&o.a.createElement("div",{className:Lt.a.red_box,style:{backgroundColor:"".concat("bg_color"===w.topRed[0].bgType?w.topRed[0].bg_color:w.topRed[0].bg_fill_color||"#BD0000")}},"bg_pic"===w.topRed[0].bgType&&o.a.createElement("div",{style:{backgroundImage:"url(".concat(w.topRed[0].imgUrl,")")}})),o.a.createElement("div",{className:"".concat(Lt.a.top_box," ").concat(L?Lt.a.uos_top_box:""," ").concat(t.isShowRed?Lt.a.no_drag:""," ").concat(S?Lt.a.top_box_win:""," ").concat(O?Lt.a.top_box_mac:"")},(null==t?void 0:t.isI18n)?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"flex",flexGrow:"1"}},o.a.createElement(Fn,{isVipPage:t.isVipPage,platform:t.platform,showTopHeaderNav:t.showTopHeaderNav,oldStyle:t.oldStyle,isI18n:t.isI18n}),(null==t||null===(E=t.topChannelList)||void 0===E?void 0:E.length)>0&&o.a.createElement(pa,{showTopHeaderNav:t.showTopHeaderNav,channelList:t.topChannelList,handleChannelClick:t.handleChannelClick,i18nHeader:null==t?void 0:t.i18nHeader,current:t.current,channelType:t.channelType,languageForRequest:t.languageForRequest})),o.a.createElement("div",{className:"".concat(Lt.a.utils_box)},o.a.createElement(dn,{isPaddingMac:O,showTopHeaderNav:t.showTopHeaderNav,searchShort:t.searchShort,isSearchPage:t.isSearchPage,isI18n:null==t?void 0:t.isI18n,i18nHeader:null==t?void 0:t.i18nHeader,isUosMode:L}),o.a.createElement(na,{i18nHeader:null==t?void 0:t.i18nHeader}),o.a.createElement(lo,{setMouseIn:d,logininstance:t.logininstance,isI18n:t.isI18n,i18nHeader:null==t?void 0:t.i18nHeader}),(null==t?void 0:t.showLanguage)&&o.a.createElement(qo,{isI18n:t.isI18n,i18nHeader:null==t?void 0:t.i18nHeader}),o.a.createElement(or,{setMouseIn:d,logininstance:t.logininstance,crmData:t.vipNewData,userInfo:n,spmAB:t.spmAB,isLogin:c,isVip:s,platform:t.platform}),o.a.createElement(Rn,{mouseIn:p,platform:t.platform,crmData:t.vipData,logininstance:t.logininstance,showTopHeaderNav:t.showTopHeaderNav,loginGuideAllow:t.loginGuideAllow,oldStyle:t.oldStyle,isI18n:t.isI18n,i18nHeader:null==t?void 0:t.i18nHeader}))):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"flex",flexGrow:"1"}},o.a.createElement(Fn,{isVipPage:t.isVipPage,platform:t.platform,showTopHeaderNav:t.showTopHeaderNav,oldStyle:t.oldStyle}),t.topChannelList&&t.topChannelList.length>0&&o.a.createElement(Io,{showTopHeaderNav:t.showTopHeaderNav,channelList:t.topChannelList}),o.a.createElement(dn,{isPaddingMac:O,isSearchPage:t.isSearchPage,showTopHeaderNav:t.showTopHeaderNav,searchShort:t.searchShort,setSearchIsFocus:b,isUosMode:L})),!t.isShowRed&&!L&&o.a.createElement(kn,{logininstance:t.logininstance}),o.a.createElement("div",{className:"".concat(Lt.a.utils_box)},"win"===(k=t.platform)?o.a.createElement(o.a.Fragment,null,o.a.createElement(lo,{logininstance:t.logininstance}),o.a.createElement(lr,null),o.a.createElement(hr,null),o.a.createElement(or,{logininstance:t.logininstance,crmData:t.vipNewData,userInfo:n,spmAB:t.spmAB,isLogin:c,isVip:s,platform:t.platform}),o.a.createElement(Rn,{platform:t.platform,isShowRed:t.isShowRed,crmData:t.vipData,logininstance:t.logininstance}),o.a.createElement(br,{isShowRed:t.isShowRed})):"mac"===k?o.a.createElement(o.a.Fragment,null,o.a.createElement(vr,null),o.a.createElement(lo,{logininstance:t.logininstance}),o.a.createElement(lr,null),o.a.createElement(hr,null),o.a.createElement(or,{logininstance:t.logininstance,crmData:t.vipNewData,userInfo:n,spmAB:t.spmAB,isLogin:c,isVip:s,platform:t.platform,isMas:t.isMas}),o.a.createElement(Rn,{platform:t.platform,crmData:t.vipData,logininstance:t.logininstance})):o.a.createElement(o.a.Fragment,null,o.a.createElement(bo,{setMouseIn:d}),o.a.createElement(lo,{setMouseIn:d,logininstance:t.logininstance}),o.a.createElement(or,{setMouseIn:d,logininstance:t.logininstance,crmData:t.vipNewData,userInfo:n,spmAB:t.spmAB,isLogin:c,isVip:s,platform:t.platform}),o.a.createElement(Rn,{mouseIn:p,platform:t.platform,crmData:t.vipData,logininstance:t.logininstance,showTopHeaderNav:t.showTopHeaderNav,loginGuideAllow:t.loginGuideAllow,oldStyle:t.oldStyle})))))))},wa=ba,xa=n(12),Ea=n.n(xa);function ka(t,e){return Na(t)||ja(t,e)||Oa(t,e)||Sa()}function Sa(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oa(t,e){if(t){if("string"==typeof t)return La(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?La(t,e):void 0}}function La(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ja(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Na(t){if(Array.isArray(t))return t}function Ia(t){var e=ka(Object(r.useState)(0),2),n=e[0],a=e[1],i=ka(Object(r.useState)("absolute"),2),c=i[0],l=i[1],u=ka(Object(r.useState)(t.navList),2),s=u[0];u[1],Object(r.useEffect)((function(){if(t.UOSMode)l("fixed");else{var e=document.querySelector(".app_normal")&&document.querySelector(".app_normal").getBoundingClientRect().left||0;e<0&&(e=0),a(e),l("fixed"),window.addEventListener("resize",(function(){var t=document.querySelector(".app_normal")&&document.querySelector(".app_normal").getBoundingClientRect().left||0;t<0&&(t=0),a(t)}))}}),[]);var f=function(e){(!t.disableNodeKeys||t.disableNodeKeys.indexOf(e.nodeKey)<0)&&t.setCurrent&&t.setCurrent(e.nodeKey),t.handleChannelClick(e)};return o.a.createElement("div",{className:"".concat(Ea.a.left_header_box," ").concat(t.isShowRed?Ea.a.left_header_box_red:""),style:{left:"".concat(n,"px"),position:c}},o.a.createElement("div",{className:"".concat(Ea.a.navList_wrap," ").concat(t.isShowRed?Ea.a.nav_area_box_red:""),"data-spm":"navList"},o.a.createElement("div",{className:"".concat(Ea.a.nav_area_box)},o.a.createElement("div",{className:Ea.a.left_nav_box},s&&s.map((function(e,n){return e.url?o.a.createElement("a",{className:"aplus_exp aplus_clk ".concat(Ea.a.link_item," ").concat(e.nodeKey===t.current?t.isVipPage?Ea.a.current_item_vip:Ea.a.current_item:""),key:"".concat(e.url,"_").concat(n),href:e.url,target:"_blank","data-spm":"d_".concat(e.url.match(/\/\/(\S*).youku.com/)[1]),onClick:function(){f(e)},rel:"noreferrer"},e.title):o.a.createElement("a",{"data-spm":"d_".concat(e.pathName),key:"".concat(e.pathName,"_").concat(n),href:"javascript:void(0);",className:"aplus_exp aplus_clk ".concat("hy"===e.pathName?Ea.a.link_item_vip:Ea.a.link_item," ").concat(e.nodeKey===t.current?t.isVipPage?Ea.a.current_item_vip:Ea.a.current_item:""),onClick:function(){f(e)}},e.title)}))))))}var Ta=Ia,Pa=(n(35),n(17)),Ca=n.n(Pa);function Aa(t){return(Aa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Da(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ra(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ua(r.key),r)}}function Ma(t,e,n){return e&&Ra(t.prototype,e),n&&Ra(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ua(t){var e=Ha(t,"string");return"symbol"===Aa(e)?e:String(e)}function Ha(t,e){if("object"!==Aa(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Aa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function Fa(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ba(t,e)}function Ba(t,e){return(Ba=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Ga(t){var e=Wa();return function(){var n,r=qa(t);if(e){var o=qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ka(this,n)}}function Ka(t,e){if(e&&("object"===Aa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Va(t)}function Va(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wa(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function qa(t){return(qa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xa=function(t){Fa(n,t);var e=Ga(n);function n(t){var r;return Da(this,n),(r=e.call(this,t)).state={isShow:!0},r}return Ma(n,[{key:"closeBtn",value:function(t){this.setState({isShow:!1}),ie("closeBtn",t,"CLK")}},{key:"componentDidMount",value:function(){ie("market_h5",this.props.spmD,"EXP")}},{key:"render",value:function(){var t=this,e=this.state.isShow,n=this.props,r=n.iframeSrc,a=n.spmD;return e&&o.a.createElement("div",{className:Ca.a.H5Content},o.a.createElement("div",{className:Ca.a.conBox},o.a.createElement("img",{className:Ca.a.closeBtn,src:"https://img.alicdn.com/imgextra/i2/O1CN01SfCZWt1UrZ0SRs5gm_!!6000000002571-2-tps-120-120.png",onClick:function(){t.closeBtn(a)}}),o.a.createElement("div",{className:Ca.a.bottomMask}),o.a.createElement("div",{className:Ca.a.H5Center},o.a.createElement("iframe",{className:Ca.a.iframeDom,width:"100%",height:"100%",frameBorder:"0",src:r}))))}}]),n}(o.a.Component);function Ja(t){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ya(){Ya=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ja(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Ja(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function za(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function Qa(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){za(a,r,o,i,c,"next",t)}function c(t){za(a,r,o,i,c,"throw",t)}i(void 0)}))}}function $a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Za(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ui(r.key),r)}}function ti(t,e,n){return e&&Za(t.prototype,e),n&&Za(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ei(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ni(t,e)}function ni(t,e){return(ni=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ri(t){var e=ii();return function(){var n,r=ci(t);if(e){var o=ci(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oi(this,n)}}function oi(t,e){if(e&&("object"===Ja(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ai(t)}function ai(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ii(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function ci(t){return(ci=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function li(t,e,n){return(e=ui(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ui(t){var e=si(t,"string");return"symbol"===Ja(e)?e:String(e)}function si(t,e){if("object"!==Ja(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var fi=function(t){ei(n,t);var e=ri(n);function n(t){var r;return $a(this,n),li(ai(r=e.call(this,t)),"userRecord",Qa(Ya().mark((function t(){var e,n,o,i,c,l;return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=r.props.angleData)||!e.exposure_switch){t.next=16;break}return e.timesCompany&&"hour"===e.timesCompany&&e.timesLength?r.intervalTime=60*e.timesLength*60*1e3:e.timesCompany&&"day"===e.timesCompany&&e.timesLength&&(r.intervalTime=24*e.timesLength*60*60*1e3),t.t0=Number,t.next=6,Object(a.getCookie)("angle-index");case 6:if(t.t1=t.sent,n=(0,t.t0)(t.t1)){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,Object(a.getCookie)("angle-startTime");case 12:o=t.sent,i=r.intervalTime+o,(c=(new Date).getTime())>=i?(Object(a.setCookie)("angle-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("angle-startTime",c,Math.floor(r.intervalTime/1e3))):(l=r.intervalTime-((new Date).getTime()-o),n<=Number(r.props.angleData.times-1)?Object(a.setCookie)("angle-index",n+1,Math.floor(l/1e3)):(r.props.angleData&&"angle_static"===r.props.angleData.angle||r.props.angleData&&"angle_dynamic"===r.props.angleData.angle)&&r.setState({isShowAll:!1}));case 16:case"end":return t.stop()}}),t)})))),li(ai(r),"closeClick",(function(){r.setState({isShowAll:!1}),ie(r.props.angleData&&r.props.angleData.taskId,"corner_close","CLK"),clearTimeout(r.timer)})),li(ai(r),"autoClose",(function(){r.props.angleData&&r.props.angleData.angle_time&&0!==r.props.angleData.angle_time&&(r.timer=setTimeout((function(){r.props.angleData&&"angle_static"===r.props.angleData.angle?r.setState({isShowAll:!1}):r.props.angleData&&"angle_dynamic"===r.props.angleData.angle&&r.setState({isanimation:!1}),ie(r.props.angleData&&r.props.angleData.taskId,"corner_close","CLK")}),1e3*r.props.angleData.angle_time))})),li(ai(r),"IntervalTime",Qa(Ya().mark((function t(){var e;return Ya().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.getCookie)("angle-index");case 2:t.sent||(e=(new Date).getTime(),Object(a.setCookie)("angle-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("angle-startTime",e,Math.floor(r.intervalTime/1e3)));case 4:case"end":return t.stop()}}),t)})))),r.cna="",r.intervalTime=0,r.state={isanimation:!0,isShowAll:!0,isShowFrist:!1,isActivity:!1,iframeSrc:""},r.subscribe=!1,r.timer,r}return ti(n,[{key:"componentDidMount",value:function(){this.setState({isShowFrist:!0}),this.autoClose(),this.IntervalTime(),this.userRecord();var t=this.props.angleData&&this.props.angleData.taskId,e=this.props.angleData&&this.props.angleData.angle;"angle_static"===e?ie(t,"corner","EXP"):"angle_dynamic"===e&&ie(t,"pop_corner","EXP"),console.info({alarm_type:"angle-pop",alarm_code:8206,client_msg:{message:"angle-pop"}})}},{key:"componentWillReceiveProps",value:function(t){var e=this;t.loginInstance&&!this.subscribe||!this.props.loginInstance||this.props.loginInstance.eventbusLogin.subscribe((function(t){t&&t._userInfo&&t._userInfo.loginStatus&&e.props.angleData&&"0"===e.props.angleData.user_identity&&((e.props.angleData&&"angle_static"===e.props.angleData.angle||e.props.angleData&&"angle_dynamic"===e.props.angleData.angle)&&e.setState({isShowAll:!1}),clearTimeout(e.timer))})),this.subscribe=!0}},{key:"render",value:function(){var t=this,e=this.props.angleData,n=this.state,r=n.isActivity,a=n.iframeSrc;return o.a.createElement(o.a.Fragment,null,r&&o.a.createElement(Xa,{iframeSrc:a,spmD:e.taskId}),this.state.isShowAll&&this.state.isShowFrist&&o.a.createElement(o.a.Fragment,null,this.props.angleData&&"angle_static"===this.props.angleData.angle?o.a.createElement("div",{className:"angle_box","data-spm":e.taskId},e&&"url"===e.scmType&&o.a.createElement("a",{"data-spm":"d_corner",href:e.actionUrl,target:"_blank",onClick:function(){t.setState({isShowAll:!1}),clearTimeout(t.timer),ie(e.taskId,"corner","CLK")},rel:"noreferrer"},o.a.createElement("img",{className:"imgStyle",src:e&&e.imgUrl})),e&&"cashier"===e.scmType&&o.a.createElement("a",{"data-spm":"d_corner",href:"javascript:void(;:)"},o.a.createElement("img",{src:e&&e.imgUrl,className:"imgStyle youku_vip_pay_btn",onClick:function(){t.setState({isShowAll:!1}),clearTimeout(t.timer),ie(e.taskId,"corner","CLK")}})),e&&"login"===e.scmType&&o.a.createElement("a",{"data-spm":"d_corner",href:"javascript:void(;:)"},o.a.createElement("img",{className:"imgStyle",src:e&&e.imgUrl,onClick:function(){t.props.loginInstance.login(),t.setState({isShowAll:!1}),clearTimeout(t.timer),ie(e.taskId,"corner","CLK")}})),e&&"activity"===e.scmType&&o.a.createElement("a",{"data-spm":"d_full_screen",href:"javascript:void(:;)"},o.a.createElement("img",{className:"imgStyle",src:e&&e.imgUrl,onClick:function(){clearTimeout(t.timer),ie(e.taskId,"pop_corner","CLK"),t.setState({isActivity:!0,isShowAll:!1,iframeSrc:e&&e.activityUrl})}})),o.a.createElement("img",{className:"static_close",src:"//img.alicdn.com/tfs/TB1lPFxh4D1gK0jSZFyXXciOVXa-12-12.svg",onClick:this.closeClick})):this.props.angleData&&"angle_dynamic"===this.props.angleData.angle&&o.a.createElement("div",{className:"angle_box ".concat(this.state.isanimation?"":"dynamic_putAway"),"data-spm":e.taskId},e&&"url"===e.scmType&&o.a.createElement("a",{href:e.actionUrl,target:"_blank","data-spm":"d_pop_corner",onClick:function(){t.setState({isShowAll:!1}),ie(e&&e.taskId,"pop_corner","CLK"),clearTimeout(t.timer)},rel:"noreferrer"},o.a.createElement("img",{className:"imgStyle",src:e&&e.imgUrl})),e&&"cashier"===e.scmType&&o.a.createElement("a",{"data-spm":"d_pop_corner",href:"javascript:void(;:)"},o.a.createElement("img",{src:e&&e.imgUrl,className:"imgStyle youku_vip_pay_btn",onClick:function(){t.setState({isShowAll:!1}),clearTimeout(t.timer),ie(e.taskId,"pop_corner","CLK")}})),e&&"login"===e.scmType&&o.a.createElement("a",{"data-spm":"d_pop_corner",href:"javascript:void(;:)"},o.a.createElement("img",{className:"imgStyle",src:e&&e.imgUrl,onClick:function(){t.props.loginInstance.login(),t.setState({isShowAll:!1}),clearTimeout(t.timer),ie(e.taskId,"pop_corner","CLK")}})),e&&"activity"===e.scmType&&o.a.createElement("a",{"data-spm":"d_full_screen",href:"javascript:void(:;)"},o.a.createElement("img",{className:"imgStyle",src:e&&e.imgUrl,onClick:function(){clearTimeout(t.timer),ie(e.taskId,"pop_corner","CLK"),t.setState({isActivity:!0,isShowAll:!1,iframeSrc:e&&e.activityUrl})}})),o.a.createElement("a",{className:"dynamic_close ".concat(this.state.isanimation?"":"close_animation"),onClick:function(e){return t.closeClick(e)},href:"javaScript:void(0)"},o.a.createElement("span",{className:"closeSpan"},o.a.createElement("img",{src:"//img.alicdn.com/tfs/TB1lPFxh4D1gK0jSZFyXXciOVXa-12-12.svg"}))))))}}]),n}(r.Component),hi=(n(36),n(31)),pi=n.n(hi);function di(t){return(di="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gi(r.key),r)}}function yi(t,e,n){return e&&vi(t.prototype,e),n&&vi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gi(t){var e=_i(t,"string");return"symbol"===di(e)?e:String(e)}function _i(t,e){if("object"!==di(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==di(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function bi(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wi(t,e)}function wi(t,e){return(wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function xi(t){var e=Si();return function(){var n,r=Oi(t);if(e){var o=Oi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ei(this,n)}}function Ei(t,e){if(e&&("object"===di(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ki(t)}function ki(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Si(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Oi(t){return(Oi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Li=function(t){bi(n,t);var e=xi(n);function n(){return mi(this,n),e.apply(this,arguments)}return yi(n,[{key:"render",value:function(){var t=this.props.content;return o.a.createElement("div",{className:pi.a.toastBox},o.a.createElement("p",null,t))}}]),n}(r.Component),ji=Li;function Ni(t){return(Ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ii(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ii(Object(n),!0).forEach((function(e){Wi(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ii(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pi(){Pi=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Ni(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Ni(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Ci(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function Ai(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Ci(a,r,o,i,c,"next",t)}function c(t){Ci(a,r,o,i,c,"throw",t)}i(void 0)}))}}function Di(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qi(r.key),r)}}function Mi(t,e,n){return e&&Ri(t.prototype,e),n&&Ri(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ui(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hi(t,e)}function Hi(t,e){return(Hi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function Fi(t){var e=Ki();return function(){var n,r=Vi(t);if(e){var o=Vi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bi(this,n)}}function Bi(t,e){if(e&&("object"===Ni(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gi(t)}function Gi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ki(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Vi(t){return(Vi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wi(t,e,n){return(e=qi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qi(t){var e=Xi(t,"string");return"symbol"===Ni(e)?e:String(e)}function Xi(t,e){if("object"!==Ni(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Ni(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Ji=function(t){Ui(n,t);var e=Fi(n);function n(t){var r;return Di(this,n),Wi(Gi(r=e.call(this,t)),"rerserver",Ai(Pi().mark((function t(){var e,n,o,a,i,c,u,s,f,h,p,d,m,v;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.loginStatus=!1,u=r.props,s=u.fullScreenData,f=u.UOSMode,h={bizId:53,contentId:null==s?void 0:s.show,contentType:"SHOW",deviceType:f?"iku":"PC",src:f?"iku_fullscreen":"pcweb_fullscreen",serviceVer:2},p={type:"GET",v:"1.2",dataType:"jsonp",data:h},t.prev=5,t.next=8,l.request("mtop.youku.rooster.reservationservice.rerserver",p);case 8:d=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),d=t.t0;case 14:null!==(e=d)&&void 0!==e&&null!==(n=e.data)&&void 0!==n&&null!==(o=n.model)&&void 0!==o&&o.success||null!==(a=d)&&void 0!==a&&null!==(i=a.ret)&&void 0!==i&&null!==(c=i[0])&&void 0!==c&&c.includes("CONTENT_ID_BEEN_RESERVERED")?(r.toastTxt="\u9884\u7ea6\u6210\u529f\uff01\u5df2\u653e\u5165\u4e2a\u4eba\u4e2d\u5fc3\u300c\u5728\u8ffd\u9884\u7ea6\u300d",r.setState({isReserve:!0,isShowAll:!1})):(r.toastTxt="\u9884\u7ea6\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5",r.setState({isReserve:!0,isShowAll:!1})),m=setTimeout((function(){(null==s?void 0:s.jumpUrl)&&window.open(s.jumpUrl),window.isReLoad&&window._loginStatus&&window.location.reload(),clearTimeout(m)}),600),v=setTimeout((function(){r.setState({isReserve:!1}),clearTimeout(v)}),3e3);case 17:case"end":return t.stop()}}),t,null,[[5,11]])})))),Wi(Gi(r),"userRecord",Ai(Pi().mark((function t(){var e,n,o,i,c,l;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=r.props.fullScreenData)||!e.exposure_switch){t.next=18;break}return"hour"===(null==e?void 0:e.timesCompany)&&e.timesLength?r.intervalTime=60*e.timesLength*60*1e3:"day"===(null==e?void 0:e.timesCompany)&&e.timesLength&&(r.intervalTime=24*e.timesLength*60*60*1e3),t.t0=Number,t.next=6,Object(a.getCookie)("full-index");case 6:if(t.t1=t.sent,n=(0,t.t0)(t.t1)){t.next=10;break}return t.abrupt("return");case 10:return t.t2=Number,t.next=13,Object(a.getCookie)("full-startTime");case 13:t.t3=t.sent,o=(0,t.t2)(t.t3),i=r.intervalTime+o,(c=(new Date).getTime())>=i?(Object(a.setCookie)("full-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("full-startTime",c,Math.floor(r.intervalTime/1e3))):(l=r.intervalTime-((new Date).getTime()-o),n<=Number(r.props.fullScreenData.times-1)?Object(a.setCookie)("full-index",n+1,Math.floor(l/1e3)):r.setState({isShowAll:!1}));case 18:case"end":return t.stop()}}),t)})))),Wi(Gi(r),"closeClick",(function(){(new Date).getTime(),r.setState({isShowAll:!1}),ie(r.props.fullScreenData&&r.props.fullScreenData.taskId,"full_screen_close","CLK"),clearTimeout(r.timer)})),Wi(Gi(r),"autoClose",(function(){var t,e,n;0!==(null===(t=Gi(r))||void 0===t||null===(e=t.props)||void 0===e||null===(n=e.fullScreenData)||void 0===n?void 0:n.full_time)&&(r.timer=setTimeout((function(){var t,e,n;r.setState({isShowAll:!1}),ie(null===(t=Gi(r))||void 0===t||null===(e=t.props)||void 0===e||null===(n=e.fullScreenData)||void 0===n?void 0:n.taskId,"full_screen_close","CLK")}),1e3*r.props.fullScreenData.full_time))})),Wi(Gi(r),"IntervalTime",Ai(Pi().mark((function t(){var e;return Pi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.getCookie)("full-index");case 2:t.sent||(e=(new Date).getTime(),Object(a.setCookie)("full-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("full-startTime",e,Math.floor(r.intervalTime/1e3)));case 4:case"end":return t.stop()}}),t)})))),r.cna="",r.intervalTime=0,r.state={isShowAll:!0,isShowFrist:!1,isActivity:!1,iframeSrc:"",isLogin:!1,isReserve:!1},r.toastTxt="",r.subscribe=!1,r.timer,r.loginStatus=!1,r}return Mi(n,[{key:"componentDidMount",value:function(){var t,e,n,r,o,a;this.setState({isShowFrist:!0}),this.autoClose(),this.IntervalTime(),this.userRecord();var i=null==this||null===(t=this.props)||void 0===t||null===(e=t.fullScreenData)||void 0===e?void 0:e.taskId,c=(null==this||null===(n=this.props)||void 0===n||null===(r=n.fullScreenData)||void 0===r?void 0:r.trackInfo)||{};"appointment"===this.props.fullScreenData.scmType&&null!=this&&null!==(o=this.props)&&void 0!==o&&null!==(a=o.fullScreenData)&&void 0!==a&&a.show&&(c=Ti(Ti({},c),{},{showId:this.props.fullScreenData.show})),ie(i,"full_screen","EXP","",JSON.stringify(c)),console.info({alarm_type:"full-screen-pop",alarm_code:8206,client_msg:{message:"full-screen-pop"}})}},{key:"componentWillReceiveProps",value:function(t){var e=this;t.loginInstance&&!this.subscribe||!this.props.loginInstance||this.props.loginInstance.eventbusLogin.subscribe((function(t){var n,r,o,a,i;e.setState({isLogin:null==t?void 0:t._isLoginStatus}),null!=t&&null!==(n=t._userInfo)&&void 0!==n&&n.loginStatus&&("0"===(null==e||null===(r=e.props)||void 0===r||null===(o=r.fullScreenData)||void 0===o?void 0:o.user_identity)&&(e.setState({isShowAll:!1}),clearTimeout(e.timer)),e.loginStatus&&"appointment"===(null==e||null===(a=e.props)||void 0===a||null===(i=a.fullScreenData)||void 0===i?void 0:i.scmType)&&(e.rerserver(),clearTimeout(e.timer)))})),this.subscribe=!0}},{key:"topFloating",value:function(t){clearTimeout(this.timer);var e=(null==t?void 0:t.trackInfo)||{};"appointment"===t.scmType&&null!=t&&t.show&&(e=Ti(Ti({},e),{},{showId:t.show})),ie(t.taskId,"full_screen","CLK","",JSON.stringify(e))}},{key:"render",value:function(){var t,e=this,n=this.props.fullScreenData,r=void 0===n?{}:n,a=this.state,i=a.isActivity,c=a.iframeSrc;return o.a.createElement(o.a.Fragment,null,i&&o.a.createElement(Xa,{iframeSrc:c,spmD:r.taskId}),this.state.isShowAll&&this.state.isShowFrist&&o.a.createElement("div",{className:"full_wrap"},o.a.createElement("div",{className:"full_box","data-spm":r.taskId},"url"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{"data-spm":"d_full_screen",href:r.actionUrl,target:"_blank",onClick:function(){e.setState({isShowAll:!1}),e.topFloating(r)},rel:"noreferrer"},o.a.createElement("img",{src:null==r?void 0:r.imgUrl})),"cashier"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{className:"youku_vip_pay_btn","data-tag":null==r||null===(t=r.trackInfo)||void 0===t?void 0:t.benefit_id,href:"javascript:void(:;)",onClick:function(){e.setState({isShowAll:!1}),e.topFloating(r)}},o.a.createElement("img",{src:null==r?void 0:r.imgUrl})),"login"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{"data-spm":"d_full_screen",href:"javascript:void(:;)"},o.a.createElement("img",{src:r&&r.imgUrl,onClick:function(){e.props.loginInstance.login(),e.setState({isShowAll:!1}),e.topFloating(r)}})),"activity"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{"data-spm":"d_full_screen",href:"javascript:void(:;)"},o.a.createElement("img",{src:r&&r.imgUrl,onClick:function(){e.topFloating(r),e.setState({isActivity:!0,isShowAll:!1,iframeSrc:r&&r.activityUrl})}})),"appointment"===(null==r?void 0:r.scmType)&&o.a.createElement("a",{"data-spm":"d_full_screen",onClick:function(){var t,n;e.state.isLogin?e.rerserver():(e.loginStatus=!0,window.isReLoad&&(window._loginStatus=!0),null===(t=e.props)||void 0===t||null===(n=t.loginInstance)||void 0===n||n.login(),clearTimeout(e.timer)),e.topFloating(r)},rel:"noreferrer"},o.a.createElement("img",{src:r&&r.imgUrl})),o.a.createElement("img",{className:"full_close",src:"//img.alicdn.com/tfs/TB1lPFxh4D1gK0jSZFyXXciOVXa-12-12.svg",onClick:this.closeClick}))),this.state.isReserve&&o.a.createElement(ji,{content:this.toastTxt}))}}]),n}(r.Component);function Yi(t){return(Yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zi(Object(n),!0).forEach((function(e){fc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zi(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function $i(){$i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Yi(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Yi(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Zi(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function tc(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Zi(a,r,o,i,c,"next",t)}function c(t){Zi(a,r,o,i,c,"throw",t)}i(void 0)}))}}function ec(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hc(r.key),r)}}function rc(t,e,n){return e&&nc(t.prototype,e),n&&nc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oc(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ac(t,e)}function ac(t,e){return(ac=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t})(t,e)}function ic(t){var e=uc();return function(){var n,r=sc(t);if(e){var o=sc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cc(this,n)}}function cc(t,e){if(e&&("object"===Yi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return lc(t)}function lc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uc(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function sc(t){return(sc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fc(t,e,n){return(e=hc(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hc(t){var e=pc(t,"string");return"symbol"===Yi(e)?e:String(e)}function pc(t,e){if("object"!==Yi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==Yi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}n(37);var dc=function(t){oc(n,t);var e=ic(n);function n(t){var r;return ec(this,n),fc(lc(r=e.call(this,t)),"userRecord",function(){var t=tc($i().mark((function t(e){var n,o,i,c,l;return $i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e||!e.exposure_switch){t.next=17;break}return e.timesCompany&&"hour"===e.timesCompany&&e.timesLength?r.intervalTime=60*e.timesLength*60*1e3:e.timesCompany&&"day"===e.timesCompany&&e.timesLength&&(r.intervalTime=24*e.timesLength*60*60*1e3),t.t0=Number,t.next=5,Object(a.getCookie)("pic-index");case 5:if(t.t1=t.sent,n=(0,t.t0)(t.t1)){t.next=9;break}return t.abrupt("return");case 9:return t.t2=Number,t.next=12,Object(a.getCookie)("pic-startTime");case 12:t.t3=t.sent,o=(0,t.t2)(t.t3),i=r.intervalTime+o,(c=(new Date).getTime())>=i?(Object(a.setCookie)("pic-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("pic-startTime",c,Math.floor(r.intervalTime/1e3))):(l=r.intervalTime-((new Date).getTime()-o),n<=Number(e.times-1)?Object(a.setCookie)("pic-index",n+1,Math.floor(l/1e3)):r.setState({isShowAll:!1}));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),fc(lc(r),"IntervalTime",tc($i().mark((function t(){var e;return $i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(a.getCookie)("pic-index");case 2:t.sent||(e=(new Date).getTime(),Object(a.setCookie)("pic-index",1,Math.floor(r.intervalTime/1e3)),Object(a.setCookie)("pic-startTime",e,Math.floor(r.intervalTime/1e3)));case 4:case"end":return t.stop()}}),t)})))),fc(lc(r),"autoClose",(function(t){t&&t.pic_time&&0!==t.pic_time&&(r.timer=setTimeout((function(){r.setState({isShowAll:!1}),ie(t&&t.taskId,"trumpet_close","CLK")}),1e3*t.pic_time))})),r.state={isShowAll:!0,picInPicData:{}},r.timer,r}return rc(n,[{key:"componentDidMount",value:function(){var t=this.props.picInPicData,e={};t&&(e=Qi(Qi({},t),{},{liveUrl:t.liveUrl,jumpUrl:t.actionUrl,gray:t.gray,endTime:t.endTime,startTime:t.startTime,title:t.title,autoDisable:t.autoDisable,liveUUID:t.liveUUID,iframeStyle:{height:t.iframeHeight,width:t.iframeWidth,marginTop:t.iframeMarginTop},bgStyle:{height:t.bgHeight,width:t.bgWidth,bottom:t.bgBottom,left:t.bgRight,backgroundImage:t.imgUrl,boxShadow:t.boxShadow},closeBtStyle:{right:t.closeRight,top:t.closeTop},flagExpiresTime:t.flagExpiresTime,markText:t.markText,markBgColor:t.markBgColor,isCloseLive:t.isCloseLive,isShowOnceTime:t.isShowOnceTime,taskId:t.taskId,UUID:t.UUID})),e&&this.setState({picInPicData:e}),this.autoClose(e),this.IntervalTime(),this.userRecord(e),ie(e&&e.taskId,"trumpet","EXP")}},{key:"componentWillReceiveProps",value:function(t){var e=this;t.loginInstance&&!this.subscribe||!this.props.loginInstance||this.props.loginInstance.eventbusLogin.subscribe((function(t){t&&t._userInfo&&t._userInfo.loginStatus&&e.state.picInPicData&&"0"===e.state.picInPicData.user_identity&&(e.setState({isShowAll:!1}),clearTimeout(e.timer))})),this.subscribe=!0}},{key:"jumpToTargetUrl",value:function(){var t=this.state.picInPicData,e=t.jumpUrl,n=t.isCloseLive,r=t.taskId;window.open("about:blank").location.href=e,ie(!!r&&r,"trumpet","CLK"),n&&this.closeLiveWindow()}},{key:"closeLiveWindow",value:function(){this.setState({isShowAll:!1}),ie(this.state.picInPicData&&this.state.picInPicData.taskId,"trumpet_close","CLK"),clearTimeout(this.timer)}},{key:"render",value:function(){var t=this,e=this.state.picInPicData,n=e.bgStyle,r=e.closeBtStyle,a=e.title,i=e.iframeStyle,c=e.markBgColor,l=e.markText,u=e.liveUrl,s=(e.taskId,{});return n&&(s=Qi(Qi({},n),{},{backgroundImage:"url(".concat(n.backgroundImage,")"),boxShadow:"0px 15px 10px -15px ".concat(n.boxShadow||"#FD0054"),backgroundSize:"".concat(n.width," ").concat(n.height)})),this.state.isShowAll&&this.state.picInPicData&&this.props.picInPicData&&o.a.createElement("div",{className:"live-bg",style:this.props.picInPicData.silence_switch?Qi({},{width:"1px",height:"1px",bottom:"0",left:"0",backgroundColor:"transparent"}):s&&Qi({},s)},o.a.createElement("a",{href:"javascript:void:;",className:"close-bt-wrap",style:r&&Qi({},r)},o.a.createElement("img",{src:"//img.alicdn.com/tfs/TB1wCeQgYr1gK0jSZR0XXbP8XXa-36-36.png",onClick:function(){return t.closeLiveWindow()}})),o.a.createElement("div",{className:"live-wrap",style:i&&Qi({},i)},o.a.createElement("a",{draggable:!1,className:"title",href:"javascript:void(0)",onMouseUp:function(){return t.jumpToTargetUrl()}},a),o.a.createElement("iframe",{src:u,width:i&&i.width,height:i&&i.height,frameBorder:0}),o.a.createElement("a",{draggable:!1,className:"shade",style:{width:i&&i.width,height:i&&i.height},target:"_blank",onMouseUp:function(){return t.jumpToTargetUrl()}},o.a.createElement("div",{className:"mark",style:{backgroundColor:c||"#FC4273"}},l||"\u76f4\u64ad"))))}}]),n}(r.Component);function mc(t,e){return bc(t)||_c(t,e)||yc(t,e)||vc()}function vc(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function yc(t,e){if(t){if("string"==typeof t)return gc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gc(t,e):void 0}}function gc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _c(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function bc(t){if(Array.isArray(t))return t}var wc=function(t){var e=mc(Object(r.useState)(null),2),n=e[0],a=e[1],i=mc(Object(r.useState)(null),2),c=i[0],l=i[1],u=mc(Object(r.useState)(null),2),s=u[0],f=u[1],h=mc(Object(r.useState)(t.userInfo),2),p=h[0],d=h[1],m=mc(Object(r.useState)(t.rid),2),v=m[0],y=m[1],g=mc(Object(r.useState)(null),2),_=g[0],b=g[1];Object(r.useEffect)((function(){t.angleData&&Object.keys(t.angleData).length>0&&(w(t.angleData),d(t.userInfo),y(t.rid))}),[t.angleData]),Object(r.useEffect)((function(){window.yklogininstance&&b(window.yklogininstance)}),[]);var w=function(t){if(!(t&&Object.keys(t).length>0))return null;var e=null,n=null,r=null;Object.keys(t).forEach((function(o){"angle"===o&&(e=t[o]),"fullScreen"===o&&(n=t[o]),"picInPic"===o&&(r=t[o])})),a(e),l(n),f(r)};return o.a.createElement("div",null,(null==n?void 0:n.length)>0&&function(t){if(Array.isArray(t)&&t.length>0)return o.a.createElement(o.a.Fragment,null,t.map((function(t,e){if(gt(t,p,v))return o.a.createElement(fi,{key:e,angleData:t,loginInstance:_,isLogin:p.loginStatus})})))}(n),(null==c?void 0:c.length)>0&&function(e){if(Array.isArray(e)&&e.length>0)return o.a.createElement(o.a.Fragment,null,e.map((function(e,n){if(gt(e,p,v))return o.a.createElement(Ji,{key:n,fullScreenData:e,loginInstance:_,isLogin:p.loginStatus,UOSMode:t.UOSMode})})))}(c),(null==s?void 0:s.length)>0&&function(t){if(Array.isArray(t)&&t.length>0)return o.a.createElement(o.a.Fragment,null,t.map((function(t,e){if(gt(t,p,v))return o.a.createElement(dc,{key:e,picInPicData:t,loginInstance:_,isLogin:p.loginStatus})})))}(s))},xc=wc,Ec=(n(38),n(39),n(32)),kc=n.n(Ec);function Sc(t){return(Sc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oc(){Oc=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),c=new N(r||[]);return o(i,"_invoke",{value:S(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="executing",d="completed",m={};function v(){}function y(){}function g(){}var _={};u(_,i,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(I([])));w&&w!==n&&r.call(w,i)&&(_=w);var x=g.prototype=v.prototype=Object.create(_);function E(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==Sc(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function S(e,n,r){var o=h;return function(a,i){if(o===p)throw new Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=O(c,r);if(l){if(l===m)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:"suspendedYield",u.arg===m)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function O(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,O(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function L(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(L,this),this.reset(!0)}function I(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(Sc(e)+" is not iterable")}return y.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:y,configurable:!0}),y.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},E(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new k(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},E(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function Lc(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function jc(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){Lc(a,r,o,i,c,"next",t)}function c(t){Lc(a,r,o,i,c,"throw",t)}i(void 0)}))}}function Nc(t,e){return Ac(t)||Cc(t,e)||Tc(t,e)||Ic()}function Ic(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tc(t,e){if(t){if("string"==typeof t)return Pc(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pc(t,e):void 0}}function Pc(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cc(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}function Ac(t){if(Array.isArray(t))return t}var Dc=function(t){var e,n,i,c,l,u,s=Nc(Object(r.useState)(null),2),f=s[0],h=s[1],p=Nc(Object(r.useState)({}),2),d=p[0],m=p[1],v=Nc(Object(r.useState)({}),2),y=v[0],g=v[1],_=Nc(Object(r.useState)({}),2),b=_[0],w=_[1],k=Nc(Object(r.useState)({}),2),S=k[0],O=k[1],L=Nc(Object(r.useState)(!1),2),j=L[0],N=L[1],I=Nc(Object(r.useState)({}),2),T=I[0],P=I[1],C=St((function(t){return t.setIsI18n})),A=Nc(Object(r.useState)(!1),2),D=A[0],R=A[1],M=Nc(Object(r.useState)([]),2),U=M[0],H=M[1],F=Nc(Object(r.useState)(t.pathName),2),B=F[0],G=F[1],K=t.festivalConfig&&t.festivalConfig.scmAB||"",V=t.festivalConfig&&t.festivalConfig.adConfig&&t.festivalConfig.adConfig.adpid,W=K&&"".concat(K,".topAd.content_").concat(V)||"",q=function(){var t="1",e=navigator.userAgent.toLowerCase();return e.match("youkudesktop")&&(t="2",e.match("mac")&&e.match("channel appstore")&&(t="32")),t},X=function(){var e=jc(Oc().mark((function e(){var n,r,o,i,c,l,u,s,f,h,p;return Oc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(a.getCna)(),i=Object(a.getPid)(),c={},l={touch_point_code:null!=t&&null!==(n=t.i18n)&&void 0!==n&&n.isI18n?"PC_youkuoverseas_navigation_avatar":"nucenter_page_pc",device_id:q(),cna:o},i&&(c.ykPid=i),null!=t&&null!==(r=t.i18n)&&void 0!==r&&r.isI18n&&(c.language=(null==t||null===(u=t.i18n)||void 0===u?void 0:u.languageForRequest)||"EN",c.apptype="youku_intl",c.countryCode=null==t||null===(s=t.i18n)||void 0===s?void 0:s.countryCode,c.countryCodeNO=null==t||null===(f=t.i18n)||void 0===f?void 0:f.countryCodeNO,c.tradeCurrency=null==t||null===(h=t.i18n)||void 0===h?void 0:h.tradeCurrency),Object.keys(c).length>0&&(l.ext_map=JSON.stringify(c)),e.next=9,tt(l,i);case 9:return(p=e.sent)&&g(p||{}),e.abrupt("return",p);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=jc(Oc().mark((function e(){var n,r,o,i,c,l,u,s,f,h,p;return Oc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(a.getCna)(),i=Object(a.getPid)(),c={},l={touch_point_code:null!=t&&null!==(n=t.i18n)&&void 0!==n&&n.isI18n?"PC_youkuoverseas_navigation_vipicon":"pc_home_vipicon",device_id:q(),cna:o},i&&(c.ykPid=i),null!=t&&null!==(r=t.i18n)&&void 0!==r&&r.isI18n&&(c.language=(null==t||null===(u=t.i18n)||void 0===u?void 0:u.languageForRequest)||"EN",c.apptype="youku_intl",c.countryCode=null==t||null===(s=t.i18n)||void 0===s?void 0:s.countryCode,c.countryCodeNO=null==t||null===(f=t.i18n)||void 0===f?void 0:f.countryCodeNO,c.tradeCurrency=null==t||null===(h=t.i18n)||void 0===h?void 0:h.tradeCurrency),Object.keys(c).length>0&&(l.ext_map=JSON.stringify(c)),e.next=9,tt(l,i);case 9:return(p=e.sent)&&w(p||{}),e.abrupt("return",p);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var t=jc(Oc().mark((function t(){var e;return Oc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,nt();case 2:e=t.sent,O(e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){var e,n,r,o,a,i,c=new x(null==t||null===(e=t.i18n)||void 0===e?void 0:e.isI18n);h(c),window.yklogininstance=c,t.getLoginInstance&&t.getLoginInstance(c),c&&c.eventbusLogin.subscribe((function(e){if(e.userInfo){if(P(e.userInfo),t.hideAll)return;e.isLoginStatus&&!D&&(X(),J(),R(!0))}})),window.isPayJSLoad||E("//g.alicdn.com/youkuvip_fe/vip-public-assets/pay/pay.js"),t.hideAll||((null==t||null===(n=t.i18n)||void 0===n||!n.isI18n)&&Y(),X(),J(),o=(r=document.querySelector('meta[name="data-spm"]'))&&String(r.getAttribute("content"))||"",i=(a=document.querySelector("body"))&&String(a.getAttribute("data-spm"))||"",m({spmA:o,spmB:i}),V&&ie("topAd","ad_".concat(V),"EXP",W))}),[]),Object(r.useEffect)((function(){var e;t.pathName!==B&&((null==t||null===(e=t.i18n)||void 0===e||!e.isI18n)&&Y(),G(t.pathName))}),[t.pathName]),Object(r.useEffect)((function(){jc(Oc().mark((function e(){var n,r,o,a;return Oc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.showTopHeaderNav){e.next=17;break}if(r=[],null==t||null===(n=t.i18n)||void 0===n||!n.isI18n){e.next=13;break}if(null==t||!t.navList){e.next=7;break}e.t0=t.navList,e.next=10;break;case 7:return e.next=9,ot((null==t||null===(o=t.i18n)||void 0===o?void 0:o.mtopBizKey)||(null==t?void 0:t.bizKey)||"i18n_WEB_EN",t.channelId||"",(null==t||null===(a=t.i18n)||void 0===a?void 0:a.languageForRequest)||"");case 9:e.t0=e.sent;case 10:r=e.t0,e.next=16;break;case 13:return e.next=15,ot();case 15:r=e.sent;case 16:r&&H(r||[]);case 17:case"end":return e.stop()}}),e)})))()}),[t.showTopHeaderNav]),Object(r.useEffect)((function(){if(Array.isArray(S.topRed)&&S.topRed.length>0){var e=gt(S.topRed[0],T,t.rid);if(e){var n=document.querySelector(".app_normal");n&&(n.style.marginTop="".concat(70,"px")),t.UOSMode&&(document.querySelector("#root").className="iku_red")}N(e)}}),[S]),Object(r.useEffect)((function(){var e;C(null==t||null===(e=t.i18n)||void 0===e?void 0:e.isI18n)}),[]),o.a.createElement("div",null,!(null!=t&&null!==(e=t.i18n)&&void 0!==e&&e.isI18n)&&(u=t.festivalConfig,o.a.createElement(o.a.Fragment,null,u&&u.adConfig&&u.adConfig.adpid&&o.a.createElement("div",{className:kc.a.adWrap,style:u.adConfig.style,"data-adpid":u.adConfig.adpid,"data-adext":u.adConfig.adext,onClick:function(){ie("topAd","ad_".concat(V),"CLK",W)}}))),o.a.createElement(wa,{logininstance:f,angleData:S,isShowRed:j,theme:t.theme,platform:t.platform,isMas:t.isMas,macFullScreen:t.macFullScreen,scrollClass:t.scrollClass,spmAB:d,vipData:y,vipNewData:b,isVipPage:t.isVipPage,showTopHeaderNav:t.showTopHeaderNav,searchShort:t.searchShort,loginGuideAllow:t.loginGuideAllow,topChannelList:U,oldStyle:t.oldStyle,festivalConfig:t.festivalConfig,isI18n:null==t||null===(n=t.i18n)||void 0===n?void 0:n.isI18n,languageForRequest:null==t||null===(i=t.i18n)||void 0===i?void 0:i.languageForRequest,i18nHeader:(null==t||null===(c=t.i18n)||void 0===c||null===(l=c.data)||void 0===l?void 0:l.pcData)||{},handleChannelClick:t.handleChannelClick,current:t.current,UOSMode:t.UOSMode,channelType:null==t?void 0:t.channelType,showLanguage:null==t?void 0:t.showLanguage,isSearchPage:null==t?void 0:t.isSearchPage}),!t.hideLeftHeader&&o.a.createElement(Ta,{logininstance:f,theme:t.theme,spmAB:d,navList:t.navList,filterUrl:t.filterUrl,current:t.current,setCurrent:t.handleSetCurrent,disableNodeKeys:t.disableNodeKeys,isShowRed:j,handleChannelClick:t.handleChannelClick,isVipPage:t.isVipPage,UOSMode:t.UOSMode}),S&&Object.keys(S).length>0&&o.a.createElement(xc,{angleData:S,userInfo:T,rid:t.rid,UOSMode:t.UOSMode}))};Dc.defaultProps={showLanguage:!0},e.default=Dc}])}}]);