!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.falconLazyLoad=e()}(this,function(){"use strict";var c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i,n=arguments[e];for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},n=["img.shein.com/images/","img.shein.com/images2/","img.shein.com/images3/","img.romwe.com/images/","img.romwe.com/images2_rw/","img.romwe.com/images3_rw/","img.ltwebstatic.com/images/","img.ltwebstatic.com/images2/","img.ltwebstatic.com/banner/","img.ltwebstatic.com/images2_app/","img.ltwebstatic.com/images2_outfit/","img.ltwebstatic.com/images2_pi/","img.ltwebstatic.com/images2_sqs/","img.ltwebstatic.com/banner3/","img.ltwebstatic.com/images3_app/","img.ltwebstatic.com/images3_outfit/","img.ltwebstatic.com/images3_pi/","img.ltwebstatic.com/images3_sqs/","img.ltwebstatic.com/images3_acp/","img.ltwebstatic.com/images3_ach/","img.ltwebstatic.com/images3_ccc/","img.ltwebstatic.com/image3_ccc/"],o=!1,e=window.navigator.userAgent.toLowerCase(),d={rootMargin:"0px 0px 40% 0px",threshold:0,load:function(t){var e,i;t.getAttribute("data-src")?a(e=r(t.getAttribute("data-src")),function(){t.src=e}):t.getAttribute("data-background-image")&&a(i=r(t.getAttribute("data-background-image")),function(){t.style.backgroundImage="url('"+i+"')"})},loaded:function(){}};function a(t,e){var i=new Image;i.addEventListener("load",function(){e()}),i.src=t}function r(t){var e=!1;if(o)for(var i=0;i<n.length;i++)-1<t.indexOf(n[i])&&!e&&(e=!0,t=t.replace(/\b(.jpg|.png)\b/,".webp"));return t.replace(/^\w+:/,"")}function l(t,e){e=1<arguments.length&&void 0!==e?e:document;return t instanceof Element?[t]:t instanceof NodeList?t:e.querySelectorAll(t)}function u(t){t.setAttribute("data-loaded",!0)}!function(){if(/iphone|ipad|macintosh/.test(e)&&/version\//.test(e))return(t=new Image).onload=function(){o=!!(0<t.width&&0<t.height)},t.onerror=function(){o=!1},t.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=";var t;o=function(){var t=document.createElement("canvas");if(t.getContext&&t.getContext("2d"))return 0===t.toDataURL("image/webp").indexOf("data:image/webp");return!1}()}();var f=function(t){return"true"===t.getAttribute("data-loaded")},w=function(i,n){var o=void 0;return function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){i.apply(t,e)},n)}};return function(){var o,a,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:".falcon-lazyload",t=c({},d,1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}),e=t.root,i=t.rootMargin,r=t.threshold,m=t.load,s=t.loaded,g=null;return"IntersectionObserver"in window&&(g=new IntersectionObserver((o=m,a=s,function(t,e){for(var i=0;i<t.length;i++){var n=t[i];(0<n.intersectionRatio||n.isIntersecting)&&(n=n.target,e.unobserve(n),f(n)||(o(n),u(n),a(n)))}}),{root:e,rootMargin:i,threshold:r})),{observe:function(){var a,r,c,t=l(n);if(g)for(var e=0;e<t.length;e++)f(t[e])||g.observe(t[e]);else a=t,r=m,c=s,i(),document.addEventListener("scroll",w(i,20)),window.addEventListener("resize",w(i,200)),window.addEventListener("orientationChange",w(i,200));function i(){for(var t=0;t<a.length;t++){var e=a[t],i=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,o=window.innerWidth||document.documentElement.clientWidth;i.top<n+.3*n&&0<i.bottom&&i.left<o&&0<i.right&&(f(e)||(r(e),u(e),c(e)))}}},triggerLoad:function(t){for(var e=l(t),i=0;i<e.length;i++)f(e[i])||(m(e[i]),u(e[i]),s(e[i]))}}}});