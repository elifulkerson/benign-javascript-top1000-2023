(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(require("jquery")):typeof define==="function"&&define.amd?define(["jquery"],a):(a(b.jQuery))}(this,(function(c){c=c&&c.hasOwnProperty("default")?c["default"]:c;c.extend(c.expr.pseudos||c.expr[":"],{"in-viewport":c.expr.createPseudo?c.expr.createPseudo(function(f){return function(g){return e(g,a(f))}}):function(g,f,h){return e(g,a(h[3]))}});c.fn.isInViewport=function(f){return this.filter(function(g,h){return e(h,f)})};c.fn.run=d;function d(f){var g=this;if(arguments.length===1&&typeof f==="function"){f=[f]}if(!(f instanceof Array)){throw new SyntaxError("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions")}f.forEach(function(h){if(typeof h!=="function"){console.warn("isInViewport: Argument(s) passed to .do/.run should be a function or an array of functions");console.warn("isInViewport: Ignoring non-function values in array and moving on")}else{[].slice.call(g).forEach(function(i){return h.call(c(i))})}});return this}function b(f){var g=c("<div></div>").css({width:"100%"});f.append(g);var h=f.width()-g.width();g.remove();return h}function e(o,s){var h=o.getBoundingClientRect();var p=h.top;var f=h.bottom+5;var k=h.left;var q=h.right;var l=c.extend({tolerance:0,viewport:window},s);var m=false;var j=l.viewport.jquery?l.viewport:c(l.viewport);if(!j.length){console.warn("isInViewport: The viewport selector you have provided matches no element on page.");console.warn("isInViewport: Defaulting to viewport as window");j=c(window)}var i=j.height();var n=j.width();var r=j[0].toString();if(j[0]!==window&&r!=="[object Window]"&&r!=="[object DOMWindow]"){var g=j[0].getBoundingClientRect();p=p-g.top;f=f-g.top;k=k-g.left;q=q-g.left;e.scrollBarWidth=e.scrollBarWidth||b(j);n-=e.scrollBarWidth}l.tolerance=~~Math.round(parseFloat(l.tolerance));if(l.tolerance<0){l.tolerance=i+l.tolerance}if(q<=0){return m}m=l.tolerance?p<=l.tolerance&&f>=l.tolerance:f>0&&p<=i;return m}function a(g){if(g){var f=g.split(",");if(f.length===1&&isNaN(f[0])){f[1]=f[0];f[0]=void 0}return{tolerance:f[0]?f[0].trim():void 0,viewport:f[1]?c(f[1].trim()):void 0}}return{}}})));