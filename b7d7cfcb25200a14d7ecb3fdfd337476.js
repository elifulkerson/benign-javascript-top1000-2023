!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="./build",o(o.s=84)}({12:function(e,t,o){var n=o(9).default,r=o(13);e.exports=function(e){var t=r(e,"string");return"symbol"===n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},13:function(e,t,o){var n=o(9).default;e.exports=function(e,t){if("object"!==n(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,t||"default");if("object"!==n(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},5:function(e,t,o){var n=o(12);e.exports=function(e,t,o){return(t=n(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},e.exports.__esModule=!0,e.exports.default=e.exports},7:function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},8:function(e,t,o){var n=o(12);function r(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n(r.key),r)}}e.exports=function(e,t,o){return t&&r(e.prototype,t),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},84:function(e,t,o){"use strict";o.r(t);var n=o(5),r=o.n(n),i=o(7),a=o.n(i),c=o(8),u=o.n(c);function l(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function s(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?l(Object(o),!0).forEach((function(t){r()(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):l(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}var p=/(\.|^)youku\.tv$/.test(window.location&&window.location.host||""),d=p?"local_cashier/0.0.7":"vip-pay-assets/1.2.3",f={get_version:("local"===window.youku_vip_pay_env?"//pc-loc.pay.youku.com/":"pre"===window.youku_vip_pay_env?p?"https://paypre.youku.tv/":"https://paypre.vip.youku.com/":p?"https://pay.youku.tv/":"https://pc.pay.youku.com/")+"api/v"};function y(){var e,t={};return((null===(e=window.location)||void 0===e?void 0:e.search)||"").replace(/([^=&\s\?]+)[=\s]*([^&\s]*)/g,(function(e,o,n){t[o]=n})),t}var v=function(){function e(){a()(this,e),window.isPayJSLoad||(window.isPayJSLoad=!0,this.config=null,this._getVersion(),this._dealSceenSize())}return u()(e,[{key:"beforeInit",value:function(){this.pay=null,this.initWrapper(),this._testFlag()&&(window.pay=this)}},{key:"initWrapper",value:function(){var e=window.Pay;if(window.isPayPage){var t;try{t=y()}catch(e){t={type:"",subBiz:"",tags:"",product_ids:""}}this.pay=new e(s(s({},t),{},{isSDK:!1,config:this.config})),this.pay._destroySelf=null}else this.pay=new e({isSDK:!0,config:this.config}),this.pay._destroySelf=this._rebuildPay.bind(this)}},{key:"_getVersion",value:function(){var e=this;!function(e){var t=e||{};if(t.url){var o=t.callbackKeyName||"callback",n=t.callbackFnName||"jsonp_"+ +new Date,r=document.getElementsByTagName("head")[0];t.data[o]=n;var i=function(e){var t=[];for(var o in e)t.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return t.join("&")}(t.data),a=document.createElement("script");r.appendChild(a),window[n]=function(e){r.removeChild(a),clearTimeout(a.timer),window[n]=null,t.success&&t.success(e)},a.src=t.url+t.connect+i,a.timer=setTimeout((function(){window[n]=null,r.removeChild(a),t.error&&t.error({message:"timeout"})}),t.time||5e3)}else console.log("参数不合法")}({url:f.get_version,callbackKeyName:"callback",callbackFnName:"callback",data:{},connect:"?",time:5e3,success:function(t){if("20000"==t.code){e.config=t.conf;var o=p?t.conf.publicPathLocal:t.conf.publicPath,n=p?t.conf.versionLocal:t.conf.version;e._loadPaySDK("".concat(o).concat(n,"/sdk.js"))}else console.log("get script version else fail"),e._loadPaySDK("https://g.alicdn.com/youkuvip_fe/".concat(d,"/sdk.js"))},error:function(){console.log("get script version fail"),e._loadPaySDK("https://g.alicdn.com/youkuvip_fe/".concat(d,"/sdk.js"))}})}},{key:"_loadPaySDK",value:function(e){var t=document.getElementsByTagName("body")[0],o=document.createElement("script"),n=this;o.type="text/javascript",o.setAttribute("crossorigin",!0),o.onload=o.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(console.log("create script loaded : "+e),n.beforeInit(),o.onload=o.onreadystatechange=null)},o.onerror=function(){console.log("create script error : "+e),o.onload=o.onreadystatechange=null},o.src=e,t.appendChild(o)}},{key:"_rebuildPay",value:function(){this.pay=null,this.initWrapper()}},{key:"_destroyPay",value:function(){this.pay._destroy(!0),this.pay=null,window.isPayJSLoad=!1}},{key:"_testFlag",value:function(){return 1==y().tflag}},{key:"_dealSceenSize",value:function(){var e=this;window.location.href.indexOf("iku_pay")>-1||(this._refreshSize(),window.addEventListener("resize",(function(){e._refreshSize()}),!1))}},{key:"_refreshSize",value:function(){var e,t,o=document.documentElement,n=window.innerWidth||(null===(e=document.documentElement)||void 0===e?void 0:e.clientWidth)||document.body.clientWidth,r=window.innerHeight||(null===(t=document.documentElement)||void 0===t?void 0:t.clientHeight)||document.body.clientHeight;n>=790&&r>=566||n>=1920||n>=1680&&n<1920?o.setAttribute("data-pay","w1"):n>=1344&&n<1680?o.setAttribute("data-pay","w2"):n<1344&&n>=1080?o.setAttribute("data-pay","w3"):n<1079&&o.setAttribute("data-pay","w4")}}]),e}();t.default=new v},9:function(e,t){function o(t){return e.exports=o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports}});