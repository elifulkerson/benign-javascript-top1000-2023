(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1330],{34954:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Questions",function(){return s(90555)}])},67686:function(e,t){"use strict";t.Z={src:"https://static.segmentfault.com/main_site_next/fd536efd/_next/static/media/bg-125-96.4be07257.svg",height:96,width:125,blurWidth:0,blurHeight:0}},68219:function(e,t){"use strict";t.Z={src:"https://static.segmentfault.com/main_site_next/fd536efd/_next/static/media/bg-169.3426af7c.svg",height:9,width:16,blurWidth:0,blurHeight:0}},61270:function(e,t,s){"use strict";var a=s(11527),r=s(50959),n=s(62615),l=s(49426),i=s(90484),c=s(3131);let o={home:[{target:"#header-write",content:"点击这里可以提出问题、撰写文章",disableBeacon:!0},{target:".new-guide",content:"完成新手任务，更快的熟悉社区功能",disableBeacon:!0}],ask:[{target:"#title",content:"用疑问句提出你的问题，想象一下如果有人向你提问，你也希望对方能描述清楚",disableBeacon:!0},{target:".question-template-picker",content:"使用内置模版，清晰表述问题，避免遗漏关键内容，更快获得解答",disableBeacon:!0},{target:"#tags-toggle",content:"添加内容相关的技术标签，可以让相关的技术人员看到",disableBeacon:!0}],questionDetail:[{target:".functional-area-left",content:(0,a.jsxs)("div",{className:"text-start",children:["我们用投票来评估内容质量，你的每一票都很重要。投票有声望要求，回答问题获取认可，即可获得声望。",(0,a.jsx)("a",{href:"/help/rights",target:"_blank",children:"查看更多 →"})]}),disableBeacon:!0}]},d={back:"上一步",close:"关闭",last:"完成",next:"下一步",skip:"跳过",open:"打开"},u=e=>{var t,s;let{type:u,...m}=e,[h,x]=r.useState(!1),f=(0,l.oR)(),g=(0,c._n)(),{global:b}=f.getState();(0,r.useEffect)(()=>{if(!g)return;let e=localStorage.getItem("guideState"),t=e?JSON.parse(e):{};t[u]||(0,i.Jyb)(u).then(e=>{e.viewed||x(!0)})},[u,g]);let p=e=>{let{action:t}=e;if(t===n.aO.RESET&&0===e.index){(0,i.zz5)(u);let e=localStorage.getItem("guideState"),t=e?JSON.parse(e):{};t[u]=!0,localStorage.setItem("guideState",JSON.stringify(t))}};return(null==b?void 0:null===(t=b.newTask)||void 0===t?void 0:t.follow_five_tags)!==1||(null==b?void 0:null===(s=b.newTask)||void 0===s?void 0:s.follow_five_users)!==1?null:(0,a.jsx)(n.ZP,{run:h,steps:o[u],continuous:!0,styles:{options:{zIndex:3e3,primaryColor:"#00965e"}},showProgress:!0,locale:d,callback:p,...m})};t.Z=u},98124:function(e,t,s){"use strict";var a=s(11527),r=s(17438),n=s.n(r),l=s(50959),i=s(50694),c=s(40520),o=s(19803),d=s.n(o);let u=e=>{let{source:t="",utmSource:s,className:r}=e;return(0,a.jsxs)(i.Z,{className:d()("hot-tag-wrap rounded",r),children:[(0,a.jsxs)(i.Z.Header,{className:"d-flex justify-content-between bg-transparent",children:[(0,a.jsx)("strong",{children:"热门标签"}),(0,a.jsxs)("a",{href:"/tags",className:" float-end",children:["全部",(0,a.jsx)("i",{className:"ms-1 right-icon fas fa-chevron-right fa-xs"})]})]}),(0,a.jsx)(i.Z.Body,{className:"m-n1",children:c.x5.map((e,r)=>(0,a.jsx)("a",{id:"tag-".concat(r),className:"m-1 badge-tag",href:"".concat(e.url).concat(t?"/".concat(t):"").concat(s?"?utm_source="+s:""),children:e.name},e.name))})]})},m=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n(),{id:"ce178170abc793b7",children:".hot-tag-wrap .card-header{border-bottom:1px solid rgba(0,0,0,.0625)}.hot-tag-wrap .card-header svg.right-icon{width:.5rem;height:1.2rem;vertical-align:text-bottom}.hot-tag-wrap .card-body{padding:1rem}.hot-tag-wrap .card-body .badge-light{background-color:#dff2ea;color:#00965e}.hot-tag-wrap .card-body #tag-0{background:#f7df1e;color:#212529}.hot-tag-wrap .card-body #tag-1{background:#8892bf;color:#212529}.hot-tag-wrap .card-body #tag-3{background:#40b883;color:#fff}.hot-tag-wrap .card-body #tag-4{margin-right:0!important}.hot-tag-wrap .card-body #tag-5{background:#e44d26;color:#fff}.hot-tag-wrap .card-body #tag-6{background:#3776ab;color:#fff}.hot-tag-wrap .card-body #tag-7{background:#333;color:#4bae4f}.hot-tag-wrap .card-body #tag-8{background:#56a036;color:#fff}.hot-tag-wrap .card-body #tag-10{background:#20232a;color:#61dafb}.hot-tag-wrap .card-body #tag-12{background:#666;color:#fff}.hot-tag-wrap .card-body #tag-14{background:#7fd5ea;color:#212529}.hot-tag-wrap .card-body #tag-16{background:#0091e2;color:#fff}.hot-tag-wrap .card-body #tag-17{background:#001324;color:#00f700}"})}),h=e=>(0,a.jsxs)(a.Fragment,{children:[m,(0,a.jsx)(u,{...e})]});t.Z=l.memo(h)},31637:function(e,t,s){"use strict";var a=s(11527),r=s(50959);let n=e=>{let{className:t="",data:s,type:r="badge",isSingle:n=!1}=e;return(0,a.jsxs)("a",{className:"".concat(n?"":"m-1"," flex-shrink-0 badge-tag ").concat(r,"-medal ").concat(t),href:(null==s?void 0:s.url)||"###",children:[(0,a.jsx)("i",{className:"far fa-medal me-1 ".concat(null==s?void 0:s.level_type)}),(0,a.jsx)("span",{className:"".concat("badge"===r?"text-white":"text-body"),children:null==s?void 0:s.name})]})};t.Z=r.memo(n)},69859:function(e,t,s){"use strict";var a=s(11527),r=s(17438),n=s.n(r),l=s(50959),i=s(26480);let c=e=>{let{data:t={}}=e,s=Array.isArray(t.rows)&&t.rows.length>0,r=s?t.rows:[];return s?(0,a.jsxs)("div",{className:"notice p-0 mb-3 d-flex align-items-center",children:[(0,a.jsx)("span",{className:"icon",children:(0,a.jsx)("i",{className:"me-2 fas fa-bullhorn"})}),(0,a.jsx)(i.Z,{className:"carousel-fade",controls:!1,indicators:!1,children:null==r?void 0:r.map((e,t)=>(0,a.jsx)(i.Z.Item,{children:(0,a.jsx)("a",{className:"text-secondary",href:e.url,children:e.title})},t))})]}):null},o=(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n(),{id:"9de26a47762b1967",children:".notice{height:2.375rem;color:#6c757d}.notice .icon svg{width:1.13rem;height:1rem;vertical-align:text-bottom}"})}),d=e=>(0,a.jsxs)(a.Fragment,{children:[o,(0,a.jsx)(c,{...e})]});t.Z=l.memo(d)},7476:function(e,t,s){"use strict";var a=s(11527),r=s(50959),n=s(37708);let l=()=>(0,a.jsxs)(n.Z,{className:"py-3 d-flex flex-column flex-md-row placeholder-glow",children:[(0,a.jsxs)("div",{className:"d-flex flex-sm-shrink-1 mb-2 mb-md-0",children:[(0,a.jsx)("div",{className:"me-3 me-md-2 rounded placeholder d-none d-sm-block",style:{width:"3rem",height:"53px"}}),(0,a.jsx)("div",{className:"py-1 me-3 placeholder rounded d-none d-sm-block",style:{width:"3rem",height:"53px"}}),(0,a.jsx)("div",{className:"me-3 me-md-2 rounded placeholder d-block d-sm-none",style:{width:"3.5rem",height:"1.5rem"}}),(0,a.jsx)("div",{className:"me-3 me-md-2 rounded placeholder d-block d-sm-none",style:{width:"3.5rem",height:"1.5rem"}})]}),(0,a.jsxs)("div",{className:"w-100",children:[(0,a.jsx)("h6",{className:"q-item-title placeholder col-10 col-sm-7",style:{marginBottom:"12px"}}),(0,a.jsxs)("div",{className:"d-flex flex-column flex-lg-row align-items-lg-center justify-content-between",children:[(0,a.jsx)("div",{className:"placeholder col-6 col-sm-5 mb-2 mb-sm-0",style:{height:"24px"}}),(0,a.jsx)("div",{className:"placeholder col-4 col-sm-3"})]})]})]});t.Z=r.memo(l)},90555:function(e,t,s){"use strict";let a,r;s.r(t),s.d(t,{__N_SSP:function(){return ef},default:function(){return eg}});var n=s(11527),l=s(17438),i=s.n(l),c=s(50959),o=s(93058),d=s(42368),u=s(842),m=s(59089),h=s(50694),x=s(95804),f=s(5907),g=s(82691),b=s.n(g),p=s(93134),j=s(61270),v=s(80850),y=s(19803),N=s.n(y),w=s(87816);let k=e=>{let{className:t}=e,s=(0,f.I0)(),a=()=>{new w.Z("side_login").clickEvent(),localStorage.setItem("referer",decodeURI(window.location.href)),s({type:"global/saveShowLoginState",payload:{isShowLogin:!0}})};return(0,n.jsx)(h.Z,{className:N()("my-warning",t),children:(0,n.jsxs)(h.Z.Body,{children:[(0,n.jsx)("h5",{children:"SegmentFault 宣言"}),(0,n.jsx)("p",{className:"text-justify",children:"我们为了消除开发领域的知识不平等，建立了开放式协作的问答社区。探寻以开放、对等、共享的理念，凝聚开发者智慧，共同推动技术进步。"}),(0,n.jsx)("p",{className:"text-justify",children:"欢迎你加入并贡献自己的智慧。"}),(0,n.jsx)(v.Z,{className:"w-100",onClick:a,children:"注册登录"})]})})};var Z=s(59264),q=s(98124),_=s(69859),S=s(5322),E=s(66591),C=s(32699);let I=e=>{let{className:t="",data:s}=e;return(0,C.isEmpty)(s)?null:(0,n.jsxs)(h.Z,{className:t,children:[(0,n.jsxs)(h.Z.Header,{className:"bg-success d-flex justify-content-between align-items-center  text-white",children:[(0,n.jsxs)(h.Z.Title,{as:"h6",className:"mb-0",children:[(0,n.jsx)("i",{className:"far  fa-road-barrier text-warning me-2"}),"社区建设"]}),(0,n.jsxs)("a",{className:"text-white",href:"https://meta.segmentfault.com",target:"_blank",children:["更多",(0,n.jsx)("i",{className:"far fa-angle-right ms-2"})]})]}),(0,n.jsx)(x.Z,{variant:"flush",children:s.list.map((e,t)=>(0,n.jsx)(x.Z.Item,{active:!1,as:"a",href:"".concat("https://meta.segmentfault.com","/questions/").concat(e.id),target:"_blank",children:e.title},t))})]})};var T=s(8365);let L=e=>{let{rows:t,queryname:s,followedTags:a,blank:r=!1,isBaiduOxApp:l}=e;return t.length?t.map(e=>(0,n.jsx)(T.Z,{data:e,hasBg:"subscribed"!==s,followedTags:a,blank:r,isBaiduOxApp:l},e.id)):null};var A=c.memo(L),F=s(50337),B=s(46283);let z=e=>{var t;let{questionUsers:s,blogUsers:a,className:r=""}=e;if(b()(s)&&b()(a))return null;let[l,i]=(0,c.useState)("question"),o={question:s,blog:a};return(0,n.jsxs)(h.Z,{className:r,children:[(0,n.jsxs)(h.Z.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:[(0,n.jsx)("h6",{className:"mb-0",children:"7 天贡献"}),(0,n.jsxs)(F.Z,{size:"sm",children:[(0,n.jsx)(v.Z,{variant:"question"===l?"secondary":"outline-secondary",onClick:()=>i("question"),children:"问答"}),(0,n.jsx)(v.Z,{variant:"blog"===l?"secondary":"outline-secondary",onClick:()=>i("blog"),children:"文章"}),(0,n.jsx)(v.Z,{as:"a",variant:"outline-secondary",href:"/users",target:"_blank",children:"全部"})]})]}),(0,n.jsx)(h.Z.Body,{children:null===(t=o[l])||void 0===t?void 0:t.map((e,t)=>(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",style:{marginBottom:t+1===o[l].length?"0":"0.75rem"},children:[(0,n.jsxs)("div",{className:"d-flex align-items-center",children:[(0,n.jsx)("span",{className:"text-secondary text-center",style:{width:"20px"},children:t+1===1?(0,n.jsx)("i",{className:"fas fa-trophy text-gold"}):t+1===2?(0,n.jsx)("i",{className:"fas fa-trophy text-silver"}):t+1===3?(0,n.jsx)("i",{className:"fas fa-trophy text-bronze"}):t+1}),(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:(0,n.jsx)(B.Z,{src:e.avatar_url,headdress:null==e?void 0:e.headdress_worn,width:24,height:24,className:"flex-shrink-0 ms-3"})}),(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:(0,n.jsx)("span",{className:"ms-2",children:e.name})})]}),(0,n.jsx)("div",{className:"text-secondary fw-bold",style:{fontVariantNumeric:"tabular-nums"},children:e.incr>0?"+".concat(e.incr):e.incr})]},e.url+t))})]})};var O=s(29746),R=s(5219);let H=e=>{let{activeKey:t="",login:s}=e,a=(0,f.TH)(),r=(0,f.I0)(),l=e=>{let t="/questions";t="weekly"===e?"/questions/hottest/weekly":"monthly"===e?"/questions/hottest/monthly":"subscribed"===e?"/questions/subscribed":"/questions/".concat(e),f.m8.push(e?t:"/questions"),r({type:"questionList/saveIsServer",payload:!1})},i=e=>{l("newest"===e.key?"":e.key)},c=()=>{new w.Z("qa_askQuestion").clickEvent()};return(0,n.jsxs)("div",{className:"d-flex align-items-center mb-0 mb-sm-3 my-self-nav",children:[(0,n.jsx)("h4",{className:"mb-0 d-none d-sm-block",children:"问答"}),(0,n.jsxs)(O.Z,{variant:"pills",activeKey:a.pathname,className:"hide-scroll-bar justify-content-start justify-content-md-center flex-fill q-nav flex-nowrap overflow-auto ps-3 ps-sm-0",children:[(0,n.jsx)(R.Z,{linkInfo:{key:"newest",name:"最新",title:"热门",url:"/questions"},onClick:i,activeKey:t,className:"flex-shrink-0"}),s&&(0,n.jsx)(R.Z,{linkInfo:{key:"subscribed",name:"为我推送",title:"热门",url:"/questions/subscribed"},onClick:i,activeKey:t,className:"flex-shrink-0"}),(0,n.jsx)(R.Z,{linkInfo:{key:"unanswered",name:"待回答",title:"热门",url:"/questions/unanswered"},onClick:i,activeKey:t,className:"flex-shrink-0"}),(0,n.jsx)(R.Z,{linkInfo:{key:"weekly",name:"周榜",title:"周榜",url:"/questions/hottest/weekly"},onClick:i,activeKey:t,className:"flex-shrink-0"}),(0,n.jsx)(R.Z,{linkInfo:{key:"monthly",name:"月榜",title:"月榜",url:"/questions/hottest/monthly"},onClick:i,activeKey:t,className:"flex-shrink-0"}),(0,n.jsxs)(O.Z.Link,{className:"my-nav-link bg-transparent flex-shrink-0",href:"/site/thinking",children:[(0,n.jsx)("i",{className:"far fa-mug-hot me-1",style:{color:"#CE8A48",fontSize:"1rem"}}),(0,n.jsx)("span",{className:"text-body",children:"极客观点"})]})]}),(0,n.jsx)(v.Z,{variant:"primary",href:"/ask",onClick:c,className:"d-none d-sm-block",children:"提问题"})]})},$=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i(),{id:"ae577fbc760f1958",children:".my-self-nav .nav-link,.my-self-nav .hover-down{padding:.375rem .75rem;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.my-self-nav .hover-down.active{background-color:transparent!important;font-weight:600}.my-self-nav .hover-down a{color:#212529}"})}),M=e=>(0,n.jsxs)(n.Fragment,{children:[$,(0,n.jsx)(H,{...e})]});var U=s(86647),K=s(26480);let P=e=>{let{data:t}=e,a=(0,c.useRef)(null);return((0,c.useEffect)(()=>{var e,t;if(!a.current)return;let s=null===(e=a.current)||void 0===e?void 0:e.element;if(!s)return;let r=s.querySelector(".carousel-indicators"),n=s.querySelector(".carousel-item img");r.style.top="0",r.style.bottom="unset",r.style.marginTop=n.offsetHeight-((null===(t=r.children[0])||void 0===t?void 0:t.offsetHeight)||0)+"px"},[a]),t.length)?(0,n.jsx)(K.Z,{ref:a,controls:!1,children:t.map(e=>(0,n.jsxs)(K.Z.Item,{children:[(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",children:(0,n.jsx)("img",{src:s(68219).Z.src,alt:e.title,className:"rounded mb-2 w-100",style:{background:"no-repeat center url(".concat(e.banner_url,")"),backgroundSize:"cover"}})}),(0,n.jsx)("a",{href:e.url,className:"text-body",target:"_blank",children:(0,n.jsx)("div",{className:"banner-title",children:e.title})})]},e.url))}):null};var D=c.memo(P);let Q=e=>{let{index:t,info:s}=e;return(0,n.jsx)(x.Z.Item,{as:"a",action:!0,href:"".concat(s.url),target:"_blank",children:(0,n.jsxs)("div",{className:"media",children:[(0,n.jsx)(U.Z,{bg:"secondary",className:"text-white me-3 mt-1 badge-".concat(t),children:t}),(0,n.jsx)("div",{className:"media-body",children:(0,n.jsx)("div",{className:"text-body",children:null==s?void 0:s.title})})]})})},J=e=>{let{banner:t,articles:s,className:a=""}=e;return b()(t)&&b()(s)?null:(0,n.jsxs)(h.Z,{id:"hotArticles",className:a,children:[(0,n.jsxs)(h.Z.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:[(0,n.jsx)("h6",{className:"mb-0",children:"精彩内容"}),(0,n.jsxs)("a",{href:"/blogs",target:"_blank",children:["更多 ",(0,n.jsx)("i",{className:"far fa-angle-right"})]})]}),(0,n.jsxs)(x.Z,{variant:"flush",children:[!b()(t)&&(0,n.jsx)(x.Z.Item,{children:(0,n.jsx)(D,{data:t})}),null==s?void 0:s.map((e,t)=>(0,n.jsx)(Q,{index:t+1,info:e},e.url+t))]})]})},X=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i(),{id:"6265ba1e4bbef11",children:"#hotArticles .badge{min-width:1.125rem;background-color:#adb5bd!important}#hotArticles .badge-1{background-color:#e04a1d!important}#hotArticles .badge-2{background-color:#f88217!important}#hotArticles .badge-3{background-color:#ffb916!important}#hotArticles .list-group-item.active{background-color:transparent;border-color:rgba(0,0,0,.0625)}"})}),W=e=>(0,n.jsxs)(n.Fragment,{children:[X,(0,n.jsx)(J,{...e})]});var V=s(31637),G=s(90484);let Y=e=>{let{className:t=""}=e,[s,a]=(0,c.useState)([]);return(0,c.useEffect)(()=>{(0,G.gSm)().then(e=>{a(e.rows)})},[]),(0,n.jsxs)(h.Z,{className:t,children:[(0,n.jsxs)(h.Z.Header,{className:"d-flex align-items-center justify-content-between bg-transparent",children:[(0,n.jsx)("h6",{className:"mb-0",children:"最近勋章奖励"}),(0,n.jsxs)("a",{href:"/help/badges",children:["更多",(0,n.jsx)("i",{className:"far fa-angle-right ms-1"})]})]}),(0,n.jsx)(x.Z,{className:"py-2",children:s.map((e,t)=>(0,n.jsxs)(x.Z.Item,{className:"d-flex align-items-center border-0",children:[(0,n.jsx)(V.Z,{data:{name:e.badge.title,url:e.badge.url,level_type:e.badge.level_type},isSingle:!0,type:"badge"}),(0,n.jsx)("div",{className:"text-secondary ms-2 me-1 flex-shrink-0",children:"颁发给"}),(0,n.jsx)("a",{className:"text-truncate-1",href:e.user.url,target:"_blank",children:e.user.name})]},t))})]})};var ee=s(7476);let et=e=>{let{task:t}=e,s=(0,f.I0)(),a=()=>{t.follow_sf||s({type:"global/saveFollowSFModalState",payload:{isShow:!0}})};return(0,n.jsxs)(h.Z,{className:"mb-4 rounded new-guide",children:[(0,n.jsxs)(h.Z.Header,{className:"bg-transparent ",children:[(0,n.jsx)(h.Z.Title,{as:"h6",className:"mb-0",children:"新手任务"}),(0,n.jsx)("span",{className:"text-secondary font-size-14",children:"完成所有任务可以获得勋章哟~"})]}),(0,n.jsxs)(h.Z.Body,{className:"p-3 task-wrap",children:[(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,n.jsxs)("div",{className:"text-secondary ",children:[t.read_regulation?(0,n.jsx)("i",{className:"fas fa-circle-check text-primary"}):(0,n.jsx)("i",{className:"far fa-circle"}),(0,n.jsx)("span",{className:"ms-2 text-body",children:"了解社区规则"})]}),(0,n.jsx)("a",{className:"lh-1",href:"/tour",children:(0,n.jsx)(U.Z,{children:"去看看"})})]}),(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,n.jsxs)("div",{className:"text-secondary",children:[t.first_ask?(0,n.jsx)("i",{className:"fas fa-circle-check text-primary"}):(0,n.jsx)("i",{className:"far fa-circle"}),(0,n.jsx)("span",{className:"ms-2 text-body",children:"提出第一个问题"})]}),(0,n.jsx)("a",{className:"lh-1",href:"/howtoask",children:(0,n.jsx)(U.Z,{children:"去看看"})})]}),(0,n.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,n.jsxs)("div",{className:"text-secondary",children:[t.follow_sf?(0,n.jsx)("i",{className:"fas fa-circle-check text-primary"}):(0,n.jsx)("i",{className:"far fa-circle"}),(0,n.jsx)("span",{className:"ms-2 text-body",children:"关注并绑定微信服务号"})]}),(0,n.jsx)("a",{className:"lh-1",href:"#",onClick:a,children:(0,n.jsx)(U.Z,{children:"去看看"})})]}),(0,n.jsxs)("div",{className:"text-secondary mb-2",children:[t.first_answer?(0,n.jsx)("i",{className:"fas fa-circle-check text-primary"}):(0,n.jsx)("i",{className:"far fa-circle"}),(0,n.jsx)("p",{className:"text-body ms-2 d-inline",children:"回答一个你擅长的问题"})]}),(0,n.jsxs)("div",{className:"text-secondary",children:[t.first_vote?(0,n.jsx)("i",{className:"fas fa-circle-check text-primary"}):(0,n.jsx)("i",{className:"far fa-circle"}),(0,n.jsx)("p",{className:"text-body ms-2 d-inline",children:"对问答或文章投票"})]})]})]})};var es=c.memo(et),ea=s(8883),er=s.n(ea);let en=e=>{let{hasMore:t,onLoadMore:s,rows:a,queryname:r,followedTags:l}=e;return(0,n.jsx)(er(),{pageStart:0,initialLoad:!1,loadMore:s,hasMore:t,className:"border-inherit",children:(0,n.jsx)(A,{rows:a,queryname:r,followedTags:l,blank:!0})})};var el=c.memo(en);let ei=e=>{let{className:t="",activities:a}=e;return b()(a)?null:(0,n.jsxs)(h.Z,{id:"hotArticles",className:t,children:[(0,n.jsxs)(h.Z.Header,{className:"bg-transparent d-flex justify-content-between align-items-center",children:[(0,n.jsx)("h6",{className:"mb-0",children:"赞助推荐"}),(0,n.jsx)("a",{href:"https://business.segmentfault.com/contact/",target:"_blank",children:"合作咨询"})]}),(0,n.jsx)(h.Z.Body,{children:(0,n.jsx)("div",{className:"d-flex justify-content-between flex-wrap",children:null==a?void 0:a.map((e,t)=>(0,n.jsx)("div",{className:t>1?"mt-3":"",style:{maxWidth:"125px"},children:(0,n.jsxs)("a",{href:e.url,target:"_blank",children:[(0,n.jsx)("img",{src:s(67686).Z.src,style:{background:"no-repeat center url(".concat(e.banner_url,")"),backgroundSize:"cover"},className:"mb-2",alt:e.title}),(0,n.jsx)("div",{className:"text-body font-size-14",children:e.title})]})},e.url+t))})})]})};var ec=s(61015),eo=s(57118);let ed=!0,eu={newest:"",subscribed:"为我推送 - ",unanswered:"等待回答 - ",hottest:"热门问答",daily_hottest:"热门问答 - ",weekly:"一周内热门的问题 - ",monthly:"一个月内热门的问题 - "},em=e=>{var t,s,l,i;let{questionList:g,updateList:v,dispatch:y,sessionUser:N,showLoading:C,newTask:T,notices:L,loading:F,followedTags:B,userStat:O,isBaiduOxApp:R=!1,isServerLoad:H=!0,currentTab:$="",asidesData:U,metaQuestions:K}=e,P=!!(null==N?void 0:null===(t=N.user)||void 0===t?void 0:t.id),D=(0,f.UO)(),{query:Q="newest"}=D,{rows:J=[],total_page:X=0,offset:V,hasMore:G=!0}=g,{rows:et}=v,{location:{pathname:ea="",query:er={}}}=(0,f.k6)();(0,ec.sA)(),(0,c.useEffect)(()=>{b()(J)&&y({type:"questionList/queryQuestionList",payload:{query:Q,page:er.page||1}}),b()(L)&&y({type:"questionList/queryNotices"}),b()(U)&&y({type:"questionList/queryAsidesData"})},[]),(0,c.useEffect)(()=>{new w.Z("qa_homePage_view",{type:"pageEvent"})},[]);let en=()=>{let{pathname:e}=document.location,t="/"===e&&!eu[Q]&&1===Number(er.page||1);y({type:"global/saveTitle",payload:{title:t?"":"".concat(eu[Q],"技术问答")}})};(0,c.useEffect)(()=>{en()},[er.page]),(0,c.useEffect)(()=>{if(en(),Q!==$&&!H){em(Q);let e={query:Q||"newest"};"subscribed"===Q?e.offset="":e.page=1,y({type:"questionList/queryQuestionList",payload:e})}},[Q]),(0,c.useEffect)(()=>{var e,t;(null==N?void 0:null===(e=N.user)||void 0===e?void 0:e.rank)?(0,eo.Z)("",null==N?void 0:null===(t=N.user)||void 0===t?void 0:t.rank):(0,eo.Z)("",0)},[null==N?void 0:null===(s=N.user)||void 0===s?void 0:s.rank]),(0,c.useEffect)(()=>{"subscribed"===Q?r=setTimeout(()=>{ef("")},2e4):(clearTimeout(r),clearTimeout(a))},[Q,V]),(0,c.useEffect)(()=>{var e;(null==N?void 0:null===(e=N.user)||void 0===e?void 0:e.id)&&b()(B)&&y({type:"global/queryFollowedTags"})},[null==N?void 0:null===(l=N.user)||void 0===l?void 0:l.id]),(0,c.useEffect)(()=>{er.page&&Number(er.page)!==(null==g?void 0:g.page)&&ex(er.page),!((null==g?void 0:g.page)>1)||(null==er?void 0:er.page)||ex(1)},[er.page]);let em=e=>{new w.Z("qa_homeTopNav_click").clickEvent({nav_name:e})},eh=()=>{ed&&G&&(ed=!1,setTimeout(()=>{ed=!0},500),y({type:"questionList/queryRecommend",payload:{query:Q,offset:String(V).includes("|")?V.split("|")[0]:V,loadMore:!0}}))},ex=e=>{y({type:"questionList/queryQuestionList",payload:{query:Q,page:e||1}})},ef=e=>{(V||e)&&"subscribed"===Q&&y({type:"questionList/loopUpdateList",payload:{query:Q,offset:e||String(V).split("|")[1],latest:1},callback:e=>{clearTimeout(a),a=setTimeout(()=>{window.location.pathname.includes("subscribed")&&ef(e)},3e4)}})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"d-none d-xl-flex justify-content-center",children:(0,n.jsx)(p.Z,{name:"2"})}),(0,n.jsxs)(o.Z,{className:"mt-4 mb-5 question-container",children:[(0,n.jsxs)(d.Z,{children:[(0,n.jsxs)(u.Z,{className:"col-12 col-xl w-0 position-relative mb-3 mb-md-0",xs:12,children:[(0,n.jsx)(M,{activeKey:Q,login:P}),(null==et?void 0:et.length)>0&&(0,n.jsxs)(m.Z,{className:"mt15 mb10 text-center font-size-14",id:"notice-update",variant:"info",onClick:()=>{y({type:"questionList/updateList"})},children:["更新了 ",null==et?void 0:et.length," 条内容，点击查看"]}),(0,n.jsxs)(h.Z,{className:"list-card-bg overflow-hidden",children:[(0,n.jsxs)(x.Z,{as:"ul",variant:"flush",children:[F?[0,1,2,3,4,5,6,7,8].map(e=>(0,n.jsx)(ee.Z,{},e)):"subscribed"!==Q?(0,n.jsx)(A,{rows:J,queryname:Q,followedTags:B,blank:!!(null==O?void 0:null===(i=O.labs)||void 0===i?void 0:i.target_blank),isBaiduOxApp:R}):(0,n.jsx)(el,{rows:J,queryname:Q,hasMore:G,onLoadMore:eh,followedTags:B}),C&&(0,n.jsx)(ee.Z,{})]}),J.length>0&&"subscribed"!==Q&&(0,n.jsx)(h.Z.Footer,{className:"bg-white d-flex justify-content-center py-4",children:J.length>0&&"subscribed"!==Q&&(0,n.jsx)(S.Z,{page:Number(er.page||1),totalPage:X,pathName:"/"===ea?"/questions":ea})})]}),!F&&J.length<=0&&("subscribed"===Q?(0,n.jsxs)("p",{className:"text-center mt30 text-muted",children:["暂时没有可显示的内容，你可以先关注一些感兴趣的",(0,n.jsx)("a",{href:"/tags",children:"标签"})]}):(0,n.jsx)("p",{className:"text-center mt30 text-muted",children:"暂时没有可显示的内容"}))]}),(0,n.jsxs)(u.Z,{className:"col-xl-auto w-xl-300 right-side",xs:12,children:[(0,n.jsx)(_.Z,{data:L}),P?(0,n.jsxs)(n.Fragment,{children:[Object.keys(T).length>0&&(0,n.jsx)(es,{task:T}),(0,n.jsx)(Z.Z,{tags:B,source:"questions"})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(k,{className:"mb-4"}),(0,n.jsx)(q.Z,{source:"questions",utmSource:"sf-hot-tags",className:"mb-4"})]}),(0,n.jsx)(W,{className:"mb-4",banner:U.homepage_headline,articles:U.articles}),(0,n.jsx)(z,{className:"mb-4",questionUsers:U.question_users,blogUsers:U.blog_users}),(0,n.jsx)(ei,{className:"mb-4",activities:U.index_asides}),(0,n.jsx)(I,{className:"mb-4",data:K}),(0,n.jsx)(Y,{className:"mb-4"}),(0,n.jsx)(E.Z,{title:"订阅问题 RSS",url:"/feeds/questions"})]})]}),(0,n.jsx)(j.Z,{type:"home",disableScrolling:!0})]})]})},eh=(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(i(),{id:"45c1bd28e50628ab",children:".question-container #notice-update{cursor:pointer}.question-container #notice-update:hover{border-color:#31708f!important}.question-container .mt30{margin-top:30px}.question-container .mt15{margin-top:15px}.question-container .mb10{margin-bottom:10px!important}.question-container .pager{margin:20px 0}.question-container .pager a{cursor:pointer;display:inline-block;padding:5px 14px;background-color:#fff;border:1px solid#ddd;-webkit-border-radius:18px;-moz-border-radius:18px;border-radius:18px;color:#009a61;text-decoration:none}.question-container .task-wrap a{cursor:pointer}.question-container .list-group-item-warning{background-color:rgba(255,238,186,.5)}.question-container .more-wrap{font-size:1rem;text-align:center}.question-container .more-wrap:focus{outline:none!important}.question-container .border-inherit .list-group-item{border-width:0 0 1px}.question-container .border-inherit .list-group-item:first-child{-webkit-border-top-left-radius:inherit;-moz-border-radius-topleft:inherit;border-top-left-radius:inherit;-webkit-border-top-right-radius:inherit;-moz-border-radius-topright:inherit;border-top-right-radius:inherit}.question-container .banner-title{height:3rem;display:-webkit-box;overflow:hidden;-webkit-line-clamp:2;-webkit-box-orient:vertical}@media(max-width:575.98px){.question-container.container{padding:0;overflow-x:hidden}}"})}),ex=e=>(0,n.jsxs)(n.Fragment,{children:[eh,(0,n.jsx)(em,{...e})]});var ef=!0,eg=(0,f.$j)(e=>{let{questionList:t,global:s}=e;return{...t,sessionUser:s.sessionUser,newTask:s.newTask,followedTags:s.followedTags,userStat:s.userStat,isBaiduOxApp:s.isBaiduOxApp}})(ex)},26480:function(e,t,s){"use strict";s.d(t,{Z:function(){return y}});var a=s(33393),r=s(50959),n=function(e,t){var s=(0,r.useRef)(!0);(0,r.useEffect)(function(){if(s.current){s.current=!1;return}return e()},t)},l=s(19143),i=s(49036),c=s(82340),o=s(84875),d=s.n(o),u=s(33012),m=(0,s(12948).Z)("carousel-caption"),h=s(18403),x=s(82540),f=s(93260),g=s(76469),b=s(86739),p=s(11789),j=s(11527);let v=r.forwardRef(({defaultActiveIndex:e=0,...t},s)=>{let o;let{as:m="div",bsPrefix:h,slide:v=!0,fade:y=!1,controls:N=!0,indicators:w=!0,indicatorLabels:k=[],activeIndex:Z,onSelect:q,onSlide:_,onSlid:S,interval:E=5e3,keyboard:C=!0,onKeyDown:I,pause:T="hover",onMouseOver:L,onMouseOut:A,wrap:F=!0,touch:B=!0,onTouchStart:z,onTouchMove:O,onTouchEnd:R,prevIcon:H=(0,j.jsx)("span",{"aria-hidden":"true",className:"carousel-control-prev-icon"}),prevLabel:$="Previous",nextIcon:M=(0,j.jsx)("span",{"aria-hidden":"true",className:"carousel-control-next-icon"}),nextLabel:U="Next",variant:K,className:P,children:D,...Q}=(0,u.Ch)({defaultActiveIndex:e,...t},{activeIndex:"onSelect"}),J=(0,f.vE)(h,"carousel"),X=(0,f.SC)(),W=(0,r.useRef)(null),[V,G]=(0,r.useState)("next"),[Y,ee]=(0,r.useState)(!1),[et,es]=(0,r.useState)(!1),[ea,er]=(0,r.useState)(Z||0);(0,r.useEffect)(()=>{et||Z===ea||(W.current?G(W.current):G((Z||0)>ea?"next":"prev"),v&&es(!0),er(Z||0))},[Z,et,ea,v]),(0,r.useEffect)(()=>{W.current&&(W.current=null)});let en=0;(0,x.Ed)(D,(e,t)=>{++en,t===Z&&(o=e.props.interval)});let el=(0,l.Z)(o),ei=(0,r.useCallback)(e=>{if(et)return;let t=ea-1;if(t<0){if(!F)return;t=en-1}W.current="prev",null==q||q(t,e)},[et,ea,q,F,en]),ec=(0,a.Z)(e=>{if(et)return;let t=ea+1;if(t>=en){if(!F)return;t=0}W.current="next",null==q||q(t,e)}),eo=(0,r.useRef)();(0,r.useImperativeHandle)(s,()=>({element:eo.current,prev:ei,next:ec}));let ed=(0,a.Z)(()=>{!document.hidden&&function(e){if(!e||!e.style||!e.parentNode||!e.parentNode.style)return!1;let t=getComputedStyle(e);return"none"!==t.display&&"hidden"!==t.visibility&&"none"!==getComputedStyle(e.parentNode).display}(eo.current)&&(X?ei():ec())}),eu="next"===V?"start":"end";n(()=>{v||(null==_||_(ea,eu),null==S||S(ea,eu))},[ea]);let em=`${J}-item-${V}`,eh=`${J}-item-${eu}`,ex=(0,r.useCallback)(e=>{(0,b.Z)(e),null==_||_(ea,eu)},[_,ea,eu]),ef=(0,r.useCallback)(()=>{es(!1),null==S||S(ea,eu)},[S,ea,eu]),eg=(0,r.useCallback)(e=>{if(C&&!/input|textarea/i.test(e.target.tagName))switch(e.key){case"ArrowLeft":e.preventDefault(),X?ec(e):ei(e);return;case"ArrowRight":e.preventDefault(),X?ei(e):ec(e);return}null==I||I(e)},[C,I,ei,ec,X]),eb=(0,r.useCallback)(e=>{"hover"===T&&ee(!0),null==L||L(e)},[T,L]),ep=(0,r.useCallback)(e=>{ee(!1),null==A||A(e)},[A]),ej=(0,r.useRef)(0),ev=(0,r.useRef)(0),ey=(0,i.Z)(),eN=(0,r.useCallback)(e=>{ej.current=e.touches[0].clientX,ev.current=0,"hover"===T&&ee(!0),null==z||z(e)},[T,z]),ew=(0,r.useCallback)(e=>{e.touches&&e.touches.length>1?ev.current=0:ev.current=e.touches[0].clientX-ej.current,null==O||O(e)},[O]),ek=(0,r.useCallback)(e=>{if(B){let t=ev.current;Math.abs(t)>40&&(t>0?ei(e):ec(e))}"hover"===T&&ey.set(()=>{ee(!1)},E||void 0),null==R||R(e)},[B,T,ei,ec,ey,E,R]),eZ=null!=E&&!Y&&!et,eq=(0,r.useRef)();(0,r.useEffect)(()=>{var e,t;if(eZ)return eq.current=window.setInterval(document.visibilityState?ed:X?ei:ec,null!=(e=null!=(t=el.current)?t:E)?e:void 0),()=>{null!==eq.current&&clearInterval(eq.current)}},[eZ,ei,ec,el,E,ed,X]);let e_=(0,r.useMemo)(()=>w&&Array.from({length:en},(e,t)=>e=>{null==q||q(t,e)}),[w,en,q]);return(0,j.jsxs)(m,{ref:eo,...Q,onKeyDown:eg,onMouseOver:eb,onMouseOut:ep,onTouchStart:eN,onTouchMove:ew,onTouchEnd:ek,className:d()(P,J,v&&"slide",y&&`${J}-fade`,K&&`${J}-${K}`),children:[w&&(0,j.jsx)("div",{className:`${J}-indicators`,children:(0,x.UI)(D,(e,t)=>(0,j.jsx)("button",{type:"button","data-bs-target":"","aria-label":null!=k&&k.length?k[t]:`Slide ${t+1}`,className:t===ea?"active":void 0,onClick:e_?e_[t]:void 0,"aria-current":t===ea},t))}),(0,j.jsx)("div",{className:`${J}-inner`,children:(0,x.UI)(D,(e,t)=>{let s=t===ea;return v?(0,j.jsx)(p.Z,{in:s,onEnter:s?ex:void 0,onEntered:s?ef:void 0,addEndListener:g.Z,children:(t,a)=>r.cloneElement(e,{...a,className:d()(e.props.className,s&&"entered"!==t&&em,("entered"===t||"exiting"===t)&&"active",("entering"===t||"exiting"===t)&&eh)})}):r.cloneElement(e,{className:d()(e.props.className,s&&"active")})})}),N&&(0,j.jsxs)(j.Fragment,{children:[(F||0!==Z)&&(0,j.jsxs)(c.Z,{className:`${J}-control-prev`,onClick:ei,children:[H,$&&(0,j.jsx)("span",{className:"visually-hidden",children:$})]}),(F||Z!==en-1)&&(0,j.jsxs)(c.Z,{className:`${J}-control-next`,onClick:ec,children:[M,U&&(0,j.jsx)("span",{className:"visually-hidden",children:U})]})]})]})});v.displayName="Carousel";var y=Object.assign(v,{Caption:m,Item:h.Z})},18403:function(e,t,s){"use strict";var a=s(84875),r=s.n(a),n=s(50959),l=s(93260),i=s(11527);let c=n.forwardRef(({as:e="div",bsPrefix:t,className:s,...a},n)=>{let c=r()(s,(0,l.vE)(t,"carousel-item"));return(0,i.jsx)(e,{ref:n,...a,className:c})});c.displayName="CarouselItem",t.Z=c}},function(e){e.O(0,[8201,2615,378,9774,2888,179],function(){return e(e.s=34954)}),_N_E=e.O()}]);