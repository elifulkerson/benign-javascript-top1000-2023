!function(){"use strict";const e=e=>{const{nypScripts:{nypost_wp_vars:{nypostSite:t=""}={}}={}}=window;return e.match(new RegExp(`https?://go.${t}.com/`))&&new URL(e).searchParams.get("url")||e},t=(t,n)=>"ga_current_url"===t?encodeURI(window.location.href):"click_time"===t?(new Date).toLocaleString():"__href__"===t?encodeURI(e(n.href||"")):t,n=(t,n=null)=>{const{event_name:o}=t,a=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(t,["event_name"]);window.ga4Dims=window.ga4Dims||{};const r=Object.assign(Object.assign({},a),window.ga4Dims);r.source_page_type=r.page_type||"",r.source_page=encodeURI(window.location.href),r.destination=encodeURI(e(n.href||"")),o&&"undefined"!=typeof gtag&&gtag("event",o,r)};function o(e,n){e.hitType&&"social"===e.hitType?function(e,n){const o=e.socialNetwork||"",a=t(e.socialAction||"",n),r=t(e.socialTarget||"",n);o.length&&a.length&&r.length&&window.nypGa((()=>{window.ga("send","social",o,a,r)}))}(e,n):function(e,n){const o=t(e.category||"",n),a=t(e.action||"",n),r=t(e.label||"",n);o.length&&a.length&&window.nypGa((()=>{window.ga("send","event",o,a,r)}))}(e,n)}document.addEventListener("DOMContentLoaded",(()=>{document.body.addEventListener("click",(t=>{const n=t.target.closest("[data-ga-event]");if(n)try{const e=JSON.parse(n.dataset.gaEvent);(Array.isArray(e)?e:[e]).forEach((e=>{o(e,n)}))}catch(e){}else t.target&&(t=>{const{nypScripts:{nypost_wp_vars:{content_tracking_links:n=[]}={}}={}}=window;n.length&&n.forEach((({action:n="",category:a="",label:r="",pattern:c=null,selector:i=null})=>{if((i||c)&&n&&a&&r)if(i){if(!t.matches(i))return;o({action:n,category:a,label:r},t)}else e(t.href||"").match(new RegExp(c))&&o({action:n,category:a,label:r},t)}))})(t.target)})),document.body.addEventListener("click",(t=>{const o=t.target.closest("[data-ga4-event]");if(o)try{const e=JSON.parse(o.dataset.ga4Event);(Array.isArray(e)?e:[e]).forEach((e=>{n(e,o)}))}catch(e){}else t.target&&(t=>{const{nypScripts:{nypost_wp_vars:{content_tracking_links:o=[]}={}}={}}=window;o.length&&o.forEach((({eventName:o="ux_engagement",pattern:a=null,selector:r=null,sourceUnit:c=""})=>{if(r||a)if(r){if(!t.matches(r))return;n({eventName:o,sourceUnit:c},t)}else e(t.href||"").match(new RegExp(a))&&n({eventName:o,sourceUnit:c},t)}))})(t.target)})),setTimeout((()=>{if(void 0===window.ga)return;const e=document.querySelector(".more-stories .ob-widget a");e&&(e.setAttribute("data-href",e.getAttribute("href")),e.addEventListener("click",(e=>{const t="Decider",o=e.target.getAttribute("title"),a=e.target.closest(".ob-dynamic-rec-link").dataset.href.split("?")[0];window.ga("send","event",`More Stories - ${t}`,o,a),n({event_name:"ux_engagement",source_unit:`More Stories - ${t}`},e.target.closest(".ob-dynamic-rec-link"))})))}),2500),window.nypGa((()=>{window.pd_callback=e=>{"registered"===JSON.parse(e).result&&window.ga("send","event","response","poll vote","vote")}}))}))}();