"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8136],{18136:function(t,n,e){e.d(n,{c:function(){return $}});var a=e(92228),i=e(52322),r=e(30382),o=e.n(r),l=e(2784),c=e(45103),s=e(95128),u=e(31619),d=e(89254),f=e(47842),g=e(70865),m=e(72779),p=e.n(m),x=e(19453),v=e(91842),h={id:"common_ariaLabels_gotoTitle",defaultMessage:"View title page for {titleName}"},T={id:"common_ariaLabels_ratingButtonRated",defaultMessage:"Your rating: {rating}"},y={id:"common_ariaLabels_ratingButtonUnrated",defaultMessage:"Rate {titleName}"},R={id:"common_ratingPrompt_header",defaultMessage:"Rate this"},b={id:"common_ratingPrompt_rate",defaultMessage:"Rate"},_={id:"common_ratingPrompt_removeRating",defaultMessage:"Remove rating"},P={id:"common_ratingPrompt_ariaLabelPrefix",defaultMessage:"Rating"},C={id:"common_buttons_trailer",defaultMessage:"Trailer"};function N(){var t=(0,a.Z)(["\n    display: flex;\n    width: 100%;\n    align-items: center;\n    padding: "," 0;\n    margin-bottom: -1rem;\n\n    &.justify--space-between {\n        justify-content: space-between;\n    }\n\n    &.justify--space-around {\n        justify-content: space-around;\n    }\n\n    &.justify--left {\n        justify-content: flex-start;\n    }\n\n    &.justify--right {\n        justify-content: flex-end;\n    }\n\n    &.both-card-actions {\n        > .card-action-button {\n            margin-left: -0.25rem;\n            padding-right: 0.5rem;\n            padding-left: 0.5rem;\n        }\n        > .card-action-icon {\n            margin-right: -0.25rem;\n        }\n    }\n\n    > .card-action-button {\n        text-overflow: ellipsis;\n        overflow: hidden;\n    }\n"]);return N=function(){return t},t}var j;!function(t){t.SPACE_BETWEEN="space-between",t.SPACE_AROUND="space-around",t.RIGHT="right",t.LEFT="left"}(j||(j={}));var w=function(t){var n=t.title.latestTrailerId,e=t.refPrefix,a=t.refSuffix,r=t.iconButtons,o=(0,u.N)(C),l=(0,u.N)(C),s=[];if(n){var d="/video/".concat(n,"/?ref_=").concat(e,"tr_vp").concat(a);s.push({preIcon:"play-arrow",onColor:"textPrimary",href:d,ariaLabel:o,children:(0,i.jsx)("div",{className:"trailers-button-text","data-testid":"trailer-button",children:l})})}var m=j.SPACE_AROUND;if(1===(null===r||void 0===r?void 0:r.length)&&s.length<1&&(m=j.RIGHT),!(null===r||void 0===r?void 0:r.length)&&!s.length)return null;var x=p()(["justify--".concat(m)],(0,f.Z)({},"both-card-actions",(null===r||void 0===r?void 0:r.length)&&s.length));return(0,i.jsxs)(B,{className:x,children:[s.map((function(t,n){return(0,i.jsx)(c.TextButton,(0,g.Z)({className:p()("card-action-button",t.className)},t),n)})),null===r||void 0===r?void 0:r.map((function(t,n){return(0,i.jsx)(c.IconButton,(0,g.Z)({className:p()("card-action-icon",t.className)},t),n)}))]})},B=x.default.div.withConfig({componentId:"sc-3a643f09-0"})(N(),v.spacing.xs),S=e(96670),Z=e(13813),I=e(58267);function L(){var t=(0,a.Z)(["\n    max-height: ",";\n    max-width: ",";\n    vertical-align: middle;\n"]);return L=function(){return t},t}var k=function(t){var n=t.title.id,e=t.alternateButton,a=t.refPrefix,r=t.refSuffix,o=(0,Z.y)(),l=o.pageType,s=o.subPageType;if(e){var u=(0,S.Z)((0,g.Z)({},e.props),{width:"full-width"});return(0,i.jsx)(c.SecondaryButton,(0,S.Z)((0,g.Z)({},u),{children:e.fetching?(0,i.jsx)(U,{className:"alternate-button-loader",type:"circle"}):e.text}))}return(0,i.jsx)(I.Z,{titleId:n,watchlistMetricsContext:{pageType:l,subPageType:s,refTag:"".concat(a,"wl_btn").concat(r)}},n)},U=(0,x.default)(c.Loader).withConfig({componentId:"sc-43e87107-0"})(L(),v.spacing.xl,v.spacing.xl),E=e(98788),M=e(45680),A=e(89363),O=e(61436),F=e(92281),G=e(90551),H=e(95460),Y=e(26688);function z(){var t=(0,a.Z)(["\n    min-height: 36px;\n"]);return z=function(){return t},t}var D=function(t){var n=t.className,e=t.title,a=e.id,r=e.titleText,o=e.ratingsSummary,s=e.canRate,d=t.refPrefix,f=t.refSuffix,g=(0,l.useState)(!1),m=g[0],p=g[1],x=(0,G.n)(),v=(0,c.useRatingsContext)(a),h=v.rating,C=v.updateRating,N=v.deleteRating,j=(0,O.P)(o,"imdb"),w=(0,O.P)(h,"user"),B="".concat(d,"rt").concat(f),S="".concat(d.replace(/_/g,"-")).concat("urate"),I=(0,Z.F)((0,Z.y)()),L=s?function(){(0,H.ar)(I,S,H.qB.POP_UP),p(!0)}:void 0,k=(0,F.vY)({titleId:a,refTag:B,currentRating:h}),U=k.updateTitleRating,z=k.deleteTitleRating,D=k.tempRateUpdateLogRef,q=(0,u.N)(T,{rating:w}),K=(0,u.N)(y,{titleName:r}),V=(0,u.N)(R),$=(0,u.N)(b),J=(0,u.N)(_),Q=(0,u.N)(P);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(W,{className:n,formattedImdbRating:j,formattedUserRating:w,onUserRatingClick:L,ariaLabelRated:q,ariaLabelUnrated:K}),L&&(0,i.jsx)(c.RatingPrompt,{isOpen:m,tconst:a,title:r,headerLabel:V,rateLabel:$,ariaLabelPrefix:Q,shouldUseNewRatingFlow:!0,secondaryButtonText:J,secondaryButtonType:A.uu.RemoveRating,onPrimaryButtonClicked:function(){var t=(0,E.Z)((function(t,n){return(0,M.__generator)(this,(function(e){switch(e.label){case 0:return t?x?(p(!1),C(t,B,(function(){return U(t,n)})),[3,3]):[3,1]:(p(!1),[2]);case 1:return[4,D(t,n)];case 2:e.sent(),(0,Y.O)(t,n,B,I),e.label=3;case 3:return[2]}}))}));return function(n,e){return t.apply(this,arguments)}}(),onSecondaryButtonClicked:function(){var t=(0,E.Z)((function(t,n){return(0,M.__generator)(this,(function(t){return p(!1),N(B,(function(){return z(n)})),[2]}))}));return function(n,e){return t.apply(this,arguments)}}(),onCloseClicked:function(){p(!1)}})]})},W=(0,x.default)(c.PosterCard.RatingStarGroup).withConfig({componentId:"sc-a885001d-0"})(z());function q(){var t=(0,a.Z)(["\n        fragment BaseTitleCard on Title {\n            id\n            titleText {\n                text\n            }\n            titleType {\n                id\n                text\n                canHaveEpisodes\n                displayableProperty {\n                    value {\n                        plainText\n                    }\n                }\n            }\n            originalTitleText {\n                text\n            }\n            primaryImage {\n                id\n                width\n                height\n                url\n                caption {\n                    plainText\n                }\n            }\n            releaseYear {\n                year\n                endYear\n            }\n            ratingsSummary {\n                aggregateRating\n                voteCount\n            }\n            runtime {\n                seconds\n            }\n            certificate {\n                rating\n            }\n            canRate {\n                isRatable\n            }\n            titleGenres {\n                genres(limit: 3) {\n                    genre {\n                        text\n                    }\n                }\n            }\n            canHaveEpisodes\n        }\n    "]);return q=function(){return t},t}function K(){var t=(0,a.Z)(["\n        fragment TitleCardTrailer on Title {\n            latestTrailer {\n                id\n            }\n        }\n    "]);return K=function(){return t},t}function V(){var t=(0,a.Z)(["\n        fragment PersonalizedTitleCardUserRating on Title {\n            userRating @include(if: $includeUserRating) {\n                value\n            }\n        }\n    "]);return V=function(){return t},t}var $=function(t){var n=t.data,e=n.id,a=n.titleText,r=n.originalTitleText,o=n.titleType,l=n.primaryImage,f=n.ratingsSummary,g=n.canRate,m=n.latestTrailer,p=t.refMarker,x=void 0===p?{}:p,v=x.prefix,T=void 0===v?"":v,y=x.suffix,R=void 0===y?"":y,b=T?"".concat(T,"_"):"",_=T?"_".concat(R):"",P=(0,d.K)({originalTitleText:r,titleText:a}),C=(0,u.N)(h,{titleName:P}),N="/title/".concat(e,"/?ref_=").concat(b,"tt_t").concat(_),j="string"===typeof t.className?t.className:void 0;return P&&o?(0,i.jsxs)(c.PosterCard,{dynamicWidth:!0,className:j,children:[(0,i.jsx)(s.y,{title:{id:e,titleText:P,titleTypeId:o.id,image:{url:null===l||void 0===l?void 0:l.url,height:null===l||void 0===l?void 0:l.height,width:null===l||void 0===l?void 0:l.width}},onClick:t.onClick,refPrefix:b,refSuffix:_}),(0,i.jsx)(D,{title:{id:e,titleText:P,ratingsSummary:null===f||void 0===f?void 0:f.aggregateRating,canRate:null===g||void 0===g?void 0:g.isRatable},refPrefix:b,refSuffix:_}),(0,i.jsx)(c.PosterCard.Title,{href:N,onClick:t.onClick,ariaLabel:C,children:(0,i.jsx)("span",{"data-testid":"title",children:P})}),(0,i.jsxs)(c.PosterCard.Actions,{children:[(0,i.jsx)(k,{title:{id:e},alternateButton:t.alternateButton,refPrefix:b,refSuffix:_}),(0,i.jsx)(w,{title:{latestTrailerId:null===m||void 0===m?void 0:m.id},refPrefix:b,refSuffix:_,iconButtons:t.iconButtons})]})]}):null};$.fragments={baseTitleCard:o()(q()),titleCardTrailer:o()(K()),personalizedTitleCardUserRating:o()(V())}}}]);