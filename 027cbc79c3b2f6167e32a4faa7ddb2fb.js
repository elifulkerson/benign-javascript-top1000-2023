var _drupalSettings=drupalSettings,boxGlobal=_drupalSettings.boxGlobal;var _boxBootstrap=boxBootstrap,languageMapping=_boxBootstrap.languageMapping,currUrlLang=_boxBootstrap.currUrlLang;boxGlobal.redirectToLocale=function(langKey){var setCookieBool=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(languageMapping[langKey]){var locale=languageMapping[langKey];if(setCookieBool){Cookies.set('lang',locale,{expires:61,domain:boxBootstrap.cookieDomainTld,secure:boxBootstrap.secure});Cookies.set('box_locale',locale.replace('-','_'),{expires:61,domain:boxBootstrap.cookieDomainTld,secure:boxBootstrap.secure});}
if(!boxBootstrap.isRedirecting&&typeof boxGlobal.translationUrls!=='undefined'&&typeof boxGlobal.translationUrls[langKey]!=='undefined'&&currUrlLang!==langKey){var searchParams=new URLSearchParams(window.location.search);if(!searchParams.has('url_redirect')){searchParams.set('url_redirect',boxGlobal.domainTld);}
window.renderBlank();window.location.href=boxGlobal.translationUrls[langKey]+'?'+searchParams.toString();}}};var redirectToLocale=boxGlobal.redirectToLocale,countryCode=boxGlobal.countryCode,europe=boxGlobal.europe;var languageDetection={init:function init(){var boxLocale=Cookies.get('lang');if(boxLocale){if(languageMapping[currUrlLang]!==boxLocale){redirectToLocale(currUrlLang);}}else{var primaryLang=navigator.languages?navigator.languages[0]:null;primaryLang=primaryLang||navigator.language||navigator.browserLanguage||navigator.userLanguage;if(!(currUrlLang==='en'&&primaryLang)){redirectToLocale(currUrlLang);}else{this.languageRedirection(primaryLang);}}},redirectRules:function redirectRules(primaryLangKey){var langRulesMap={es:'es-419',sv:'en-se',se:'en-se',nl:'en-nl'};return langRulesMap[primaryLangKey]||langRulesMap[countryCode.toLowerCase()];},redirectToGB:function redirectToGB(primaryLangKey){return primaryLangKey==='en'&&europe.includes(countryCode)?'en-gb':null;},redirectLangMap:function redirectLangMap(primaryLang){return languageMapping[primaryLang]?primaryLang:null;},languageRedirection:function languageRedirection(primaryLang){var localeLang=new Intl.Locale(primaryLang);var primaryLangKey=localeLang.language;var redirectLang=this.redirectRules(primaryLangKey)||this.redirectToGB(primaryLangKey)||this.redirectLangMap(primaryLang)||'en';redirectToLocale(redirectLang);}};languageDetection.init();;
(function(window,Drupal,drupalSettings,Cookies){'use strict';var boxGlobal=drupalSettings.boxGlobal;boxGlobal.readCookie=function(name){if(Cookies)return Cookies.get(name);};boxGlobal.setCookie=function(name,value,days,domain,path){domain=domain?domain:boxBootstrap.cookieDomainTld;days=parseInt(days)||7;path=path?path:'/';Cookies.set(name,value,{domain:domain,path:path,expires:days,secure:boxBootstrap.secure,});};boxGlobal.analyticsData={};boxGlobal.analyticsData.boxVisitorID=window.analyticsData.boxVisitorID;boxGlobal.ctaAction=function(e){e.preventDefault();var link=e.currentTarget.href;var blank='_blank';if(e.currentTarget.target===blank){window.open(link,blank);}else{window.location=link;}}
boxGlobal.getNestedObjVal=function(v){var args=Array.prototype.slice.call(arguments,1);for(var i=0;i<args.length;i++){if(!v||!v.hasOwnProperty(args[i])){return'undefined';}
v=v[args[i]];}
return v;}
boxGlobal.getQueryParameterValue=function(name){name=name.replace(/[\[]/,'\\[').replace(/[\]]/,'\\]');var regex=new RegExp('[\\?&]'+name+'=([^&#]*)');var results=regex.exec(location.search);return results===null?'':decodeURIComponent(results[1].replace(/\+/g,' '));};boxGlobal.findAncestor=function(el,ancestor){if(!el||!ancestor){return;}
do{if(el.classList.contains(ancestor)){return el;}}while(el=el.parentElement);};boxGlobal.convertToRem=function(pixel){let pixelValue=parseInt(pixel,10);return pixelValue / 16+'rem';};boxGlobal.unwrapDomNode=function(wrapper){var docFrag=document.createDocumentFragment();while(wrapper.firstChild){var child=wrapper.removeChild(wrapper.firstChild);docFrag.appendChild(child);}
wrapper.parentNode.replaceChild(docFrag,wrapper);}})(window,Drupal,drupalSettings,Cookies);;
(function(window,Cookies){if(Cookies.get('backstopjs_preload')){window.addEventListener('load',function(){const imagesAll=document.querySelectorAll('.lazyload');const images=lazySizes?lazySizes.elements:'undefined';if(!images.length){console.log('backstopjs_ready');return;}
for(let i=0;i<imagesAll.length;i+=1){lazySizes.loader.unveil(imagesAll[i]);}
document.addEventListener('lazybeforeunveil',function(){if(lazySizes.elements.length<=1){console.log('backstopjs_ready');}});});}})(window,Cookies);;
(function boxBottom(document,Cookies){const boxGlobal=drupalSettings.boxGlobal;if(!Cookies.get('box_marketing')){Cookies.set('box_marketing','1',{expires:365,domain:boxBootstrap.cookieDomainTld,secure:boxBootstrap.secure,});}
if(!document.referrer.match(/[.]((box\.com)|(box\.net)|(boxcn\.net)|(boxenterprise\.net))/)&&document.domain.match(/[.]((box\.com)|(box\.net)|(boxcn\.net)|(boxenterprise\.net))$/)){const curDomain=document.domain.match(/box.*$/)[0];Cookies.set('external_referrer',document.referrer,{expires:7,domain:curDomain,secure:boxBootstrap.secure,});}
if(boxGlobal.server!=='https://app.box.com'&&boxGlobal.server!=='https://app.box.org'){const appLinks=document.querySelectorAll("a[href^='https://app.box.com']");if(appLinks){for(let i=0;i<appLinks.length;i++){const matches=appLinks[i].getAttribute('href').match(/https:\/\/app.box.com(.*)/);if(matches&&matches[1]){appLinks[i].setAttribute('href',boxGlobal.server+matches[1]);}}}
const accountLinks=document.querySelectorAll("a[href^='https://account.box.com']");if(accountLinks){for(let i=0;i<accountLinks.length;i++){const matches=accountLinks[i].getAttribute('href').match(/https:\/\/account\.box\.com(.*)/);if(matches&&matches[1]){accountLinks[i].setAttribute('href',boxGlobal.server.replace('app.','account.')+matches[1]);}}}}})(document,Cookies);;
/* Object path https://github.com/mariocasciaro/object-path */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t():"function"==typeof define&&define.amd?define([],t):e.objectPath=t()}(this,function(){"use strict";var t=Object.prototype.toString;function l(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(!e)return!0;if(a(e)&&0===e.length)return!0;if("string"==typeof e)return!1;for(var t in e)if(l(e,t))return!1;return!0}function p(e){return t.call(e)}var a=Array.isArray||function(e){return"[object Array]"===t.call(e)};function y(e){var t=parseInt(e);return t.toString()===e?t:e}function e(i){i=i||{};var o=function(r){return Object.keys(o).reduce(function(e,t){return"create"===t||"function"==typeof o[t]&&(e[t]=o[t].bind(o,r)),e},{})};function u(e,t){return i.includeInheritedProps||"number"==typeof t&&Array.isArray(e)||l(e,t)}function f(e,t){if(u(e,t))return e[t]}function c(e,t,r,n){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if("string"==typeof t)return c(e,t.split(".").map(y),r,n);var i=t[0],u=f(e,i);return 1===t.length?(void 0!==u&&n||(e[i]=r),u):(void 0===u&&("number"==typeof t[1]?e[i]=[]:e[i]={}),c(e[i],t.slice(1),r,n))}return o.has=function(e,t){if("number"==typeof t?t=[t]:"string"==typeof t&&(t=t.split(".")),!t||0===t.length)return!!e;for(var r=0;r<t.length;r++){var n=y(t[r]);if(!("number"==typeof n&&a(e)&&n<e.length||(i.includeInheritedProps?n in Object(e):l(e,n))))return!1;e=e[n]}return!0},o.ensureExists=function(e,t,r){return c(e,t,r,!0)},o.set=function(e,t,r,n){return c(e,t,r,n)},o.insert=function(e,t,r,n){var i=o.get(e,t);n=~~n,a(i)||(i=[],o.set(e,t,i)),i.splice(n,0,r)},o.empty=function(e,t){var r,n;if(!s(t)&&(null!=e&&(r=o.get(e,t)))){if("string"==typeof r)return o.set(e,t,"");if(function(e){return"boolean"==typeof e||"[object Boolean]"===p(e)}(r))return o.set(e,t,!1);if("number"==typeof r)return o.set(e,t,0);if(a(r))r.length=0;else{if(!function(e){return"object"==typeof e&&"[object Object]"===p(e)}(r))return o.set(e,t,null);for(n in r)u(r,n)&&delete r[n]}}},o.push=function(e,t){var r=o.get(e,t);a(r)||(r=[],o.set(e,t,r)),r.push.apply(r,Array.prototype.slice.call(arguments,2))},o.coalesce=function(e,t,r){for(var n,i=0,u=t.length;i<u;i++)if(void 0!==(n=o.get(e,t[i])))return n;return r},o.get=function(e,t,r){if("number"==typeof t&&(t=[t]),!t||0===t.length)return e;if(null==e)return r;if("string"==typeof t)return o.get(e,t.split("."),r);var n=y(t[0]),i=f(e,n);return void 0===i?r:1===t.length?i:o.get(e[n],t.slice(1),r)},o.del=function(e,t){if("number"==typeof t&&(t=[t]),null==e)return e;if(s(t))return e;if("string"==typeof t)return o.del(e,t.split("."));var r=y(t[0]);return u(e,r)?1!==t.length?o.del(e[r],t.slice(1)):(a(e)?e.splice(r,1):delete e[r],e):e},o}var r=e();return r.create=e,r.withInheritedProps=e({includeInheritedProps:!0}),r});;
window.digitalData=window.digitalData||{};digitalData.utilities={removeSubdomain:function(s){const parts=s.split('.');while(parts.length>3){parts.shift();}
if(parts.length===3&&(parts[1].length>2&&parts[2].length>2)){parts.shift();}
return parts.join('.');},previousPage:function(prevEvPage){if(typeof Cookies.get("sat_c1")!=="undefined"){prevEvPage=decodeURIComponent(Cookies.get("sat_c1"));}
return prevEvPage}};objectPath.set(digitalData,'user.boxVisitorId',analyticsData.boxVisitorID);objectPath.set(digitalData,'user.loginStatus',Cookies.get('box_active_user_subdomain')?'SignedIn':undefined);objectPath.set(digitalData,'page.pageInfo.pageName',document.title);objectPath.set(digitalData,'page.pageInfo.destinationURL',document.location.href);objectPath.set(digitalData,'page.pageInfo.referringURL',document.referrer?document.referrer:undefined);objectPath.set(digitalData,'page.pageInfo.hostname',document.location.hostname);objectPath.set(digitalData,'page.pageInfo.queryString',document.location.search);objectPath.set(digitalData,'page.pageInfo.domain',digitalData.utilities.removeSubdomain(document.domain));objectPath.set(digitalData,'user.browserAgent',window.navigator.userAgent);objectPath.set(digitalData,'page.pageInfo.pageID',objectPath.get(drupalSettings,'path.currentPath'));objectPath.set(digitalData,'page.pageInfo.language',objectPath.get(drupalSettings,'path.currentLanguage'));objectPath.set(digitalData,'page.pageInfo.countryCode',objectPath.get(drupalSettings,'boxGlobal.countryCode'));objectPath.set(digitalData,'page.attributes.themeName',objectPath.get(drupalSettings,'boxGlobal.themeName'));objectPath.set(digitalData,'page.attributes.pageClass',objectPath.get(drupalSettings,'boxGlobal.pageClass'));objectPath.set(digitalData,'vendor.marketo.forms',objectPath.get(drupalSettings,'boxMarketoForms'));objectPath.set(digitalData,'page.utmParameters.utmCampaign',Cookies.get('_uc_utm_campaign')?Cookies.get('_uc_utm_campaign'):undefined);objectPath.set(digitalData,'page.utmParameters.utmContent',Cookies.get('_uc_utm_content')?Cookies.get('_uc_utm_content'):undefined);objectPath.set(digitalData,'page.utmParameters.utmMedium',Cookies.get('_uc_utm_medium')?Cookies.get('_uc_utm_medium'):undefined);objectPath.set(digitalData,'page.utmParameters.utmSource',Cookies.get('_uc_utm_source')?Cookies.get('_uc_utm_source'):undefined);objectPath.set(digitalData,'page.utmParameters.utmTerm',Cookies.get('_uc_utm_term')?Cookies.get('_uc_utm_term'):undefined);objectPath.set(digitalData,'page.pageInfo.previousPage',digitalData.utilities.previousPage());;
(function(document,objectPath,digitalData){const eventClick=new CustomEvent('eventClick');const linkListener=function(link){link.addEventListener('click',function(e){objectPath.del(digitalData,'event');objectPath.set(digitalData,'event.eventInfo.eventName','Clicked on a link');objectPath.set(digitalData,'event.eventInfo.eventAction','followlink');objectPath.set(digitalData,'event.eventInfo.type','click');objectPath.set(digitalData,'event.eventInfo.timeStamp',new Date());objectPath.set(digitalData,'event.eventInfo.text',e.target.text);document.body.dispatchEvent(eventClick);objectPath.del(digitalData,'event');});};const selectListener=function(select){select.addEventListener('change',function(e){objectPath.del(digitalData,'event');const selector=e.target;const currentSel=selector.options[selector.options.selectedIndex].text;objectPath.set(digitalData,'event.eventInfo.eventName','Choose an option in select');objectPath.set(digitalData,'event.eventInfo.eventAction','optionchanged');objectPath.set(digitalData,'event.eventInfo.type','change');objectPath.set(digitalData,'event.eventInfo.timeStamp',new Date());objectPath.set(digitalData,'event.eventInfo.text',currentSel);document.body.dispatchEvent(eventClick);objectPath.del(digitalData,'event');});};document.querySelectorAll('select').forEach(function(select){selectListener(select);});document.querySelectorAll('a').forEach(function(link){linkListener(link);});})(document,objectPath,digitalData);;
(function(document){'use strict';var body=document.body;function isTouchDevice(){return'ontouchstart'in window||navigator.msMaxTouchPoints>0;}
var isTouchable=isTouchDevice();if(isTouchable){body.classList.add('touch');}else{body.classList.add('no-touch');}})(document);;
function boxHelperDeleteObsoleteWWWCookies(){var domain='.www.box.com';var cookieNamesToDelete=['_uc_utm_source','_uc_utm_medium','_uc_utm_campaign','_uc_utm_content','_uc_utm_term','_uc_referrer','_uc_initial_referrer','_uc_last_referrer','_uc_initial_landing_page','_uc_visits','_uc_id','_uc_nts','_uc_compid'];for(var i in cookieNamesToDelete){Cookies.remove(cookieNamesToDelete[i],{path:'/',domain:domain});}}
boxHelperDeleteObsoleteWWWCookies();var _uf=_uf||{};_uf.cookieExpiryDays='null';_uf.domain="."+drupalSettings.boxGlobal.domainTld;_uf.utm_source_field="utm_campaign_field_source";_uf.utm_medium_field="utm_campaign_field_medium";_uf.utm_campaign_field="utm_campaign_field_campaign_name";_uf.utm_content_field="utm_campaign_field_content";_uf.utm_term_field="utm_campaign_field_term";_uf.initial_referrer_field="utm_campaign_field_initial_referrer";_uf.last_referrer_field="utm_campaign_field_last_referrer";_uf.initial_landing_page_field="utm_campaign_field_initial_landing_page";_uf.visits_field="utm_campaign_field_number_of_visits";_uf.additional_params_map={id:"utm_campaign_field_campaign_vehicle_id",nts:"utm_campaign_field_nts",utm_keyword:"utm_campaign_field_keyword",compid:"utm_compid",utm_theme:"utm_theme",utm_cmpid:"utm_cmpid"};_uf.form_query_selector='form.general_contact_form';(function(Drupal,window){Drupal.behaviors.expand_contact_forms={attach:function(context,settings){var domain='.'+settings.boxGlobal.domainTld;var utmMediumValue=settings.boxGlobal.getQueryParameterValue('utm_medium').toLowerCase();if(utmMediumValue!==''&&utmMediumValue!=="sem"){Cookies.remove('_uc_utm_keyword',{path:'/',domain:domain});}
var visits=Cookies.get('_uc_visits');var cookie_settings={expires:30,path:'/',domain:boxBootstrap.cookieDomainTld,secure:boxBootstrap.secure};if(Cookies.get('_jm_visits')!=visits){Cookies.set('_jm_journey','',cookie_settings);Cookies.set('_jm_visits',visits,cookie_settings);}
var journey=Cookies.get('_jm_journey');if(journey===undefined){journey='';}
var steps=journey.split(',');var last_element=steps[steps.length-1];var current=window.location.href;if(last_element!=current){if(steps.length>=20){steps.shift();journey=steps.join(',');}
if(steps.length==0){Cookies.set('_jm_journey',current,cookie_settings);}
else{Cookies.set('_jm_journey',journey+','+current,cookie_settings);}}
var visitedBefore=document.querySelector('form.general_contact_form input[name="VISITED_BEFORE"]');if(visitedBefore&&visitedBefore.length){visitedBefore.value=Cookies.get('_jm_journey');}}};})(Drupal,window);;
