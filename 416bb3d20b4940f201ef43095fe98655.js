"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[66218,97215],{533169:function(e,r,t){var n=t(245410),s=t(802071);r.Z=function(){var e=(0,n.F)().checkExperiment,r=(0,s.Z)();return!!r.isAuth&&!!r.isPartner&&!!(e("web_m10n_business_hierarchy_alpha").anyEnabled||e("aid_exp_global_account_switcher_beta").anyEnabled||e("aid_exp_global_account_switcher_ga").anyEnabled)}},337445:function(e,r,t){t.d(r,{Oz:function(){return n},mo:function(){return u},nt:function(){return a},v8:function(){return s}});var n={BUSINESS_ACCOUNT:"BUSINESS_ACCOUNT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",USER_ACCOUNT:"USER",AD_ACCOUNT:"AD_ACCOUNT",PROFILE:"PROFILE"},s="BUSINESS_PANEL",a="ASSET_PANEL",u=500},813364:function(e,r,t){t.d(r,{FE:function(){return I},d9:function(){return g},lG:function(){return S}});var n=t(658379),s=t(867221),a=t(533169),u=t(337445),i=t(872993),c=t(388011),o=t(583592),d=t(988014),p=t(739425),l=t(802071),f=t(897215),m=t(923917),_=t(389282);function b(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}function v(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function u(e){b(a,n,s,u,i,"next",e)}function i(e){b(a,n,s,u,i,"throw",e)}u(void 0)})}}function y(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,n,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a=[],u=!0,i=!1;try{for(s=s.call(e);!(u=(t=s.next()).done)&&(a.push(t.value),!r||a.length!==r);u=!0);}catch(e){i=!0,n=e}finally{try{u||null==s.return||s.return()}finally{if(i)throw n}}return a}}(e,r)||function(e,r){if(e){if("string"==typeof e)return h(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return h(e,r)}}(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var E=(0,o.Z)("AccountSwitcherContext"),A=E.Provider,g=E.useHook,S=function(e){return e.search&&(0,p.mB)(e.search).advertiserId},I=function(e){var r,t=e.children,o=(0,s.useLocation)(),p=(0,s.useRouteMatch)().params,b=p.userBizId,h=p.businessHierarchyId,E=p.advertiserId,g=p.username,I=S(o),N=(0,l.Z)(),R=y((0,n.useState)(""),2),O=R[0],x=R[1],T=y((0,n.useState)(null),2),P=T[0],w=T[1],D=y((0,n.useState)(!1),2),C=D[0],U=D[1],k=y((0,n.useState)(null),2),B=k[0],G=k[1],L=y((0,n.useState)(null),2),j=L[0],Z=L[1],M=y((0,n.useState)(!1),2),H=M[0],F=M[1],z=(0,a.Z)(),V=(0,c.v)().logContextEvent;(0,n.useEffect)(function(){h?x(h):x("")},[h]);var Y=(0,n.useCallback)((r=v(regeneratorRuntime.mark(function e(r){var t,n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,n=r.username,e.next=3,(0,i.bG)({user_id:t,username:n});case 3:(s=e.sent)&&G({type:t?u.Oz.BUSINESS_ACCOUNT:u.Oz.PROFILE,id:t||s.id,name:s.full_name,img:s.image_medium_url,username:n}),F(!1);case 6:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),[]),W=(0,m.rc)(g);(0,n.useEffect)(function(){(0,d.cD)(o)&&B&&W!==g&&g===N.username&&(Y({username:N.username}),Z({id:N.id||"",name:N.fullName||"",img:N.imageMediumUrl||""}))},[o,W,Y,B,g,N.fullName,N.id,N.imageMediumUrl,N.username]),(0,n.useEffect)(function(){var e,r,t=(e=v(regeneratorRuntime.mark(function e(r){var t,n,s,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.businessId,n=r.assetId,t){e.next=4;break}return F(!1),e.abrupt("return");case 4:return e.prev=4,e.next=7,(0,f.G2)({businessId:t,assetId:n});case 7:a=(s=e.sent.data.data).asset,i=s.type,G({id:n,name:a.name,img:"",type:i}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),G({id:N.id||"",name:N.fullName||"",img:N.imageMediumUrl||"",type:u.Oz.BUSINESS_ACCOUNT});case 17:F(!1);case 18:case"end":return e.stop()}},e,null,[[4,14]])})),function(r){return e.apply(this,arguments)}),n=(r=v(regeneratorRuntime.mark(function e(r){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,e.next=3,(0,i.p)({hierarchyId:t});case 3:n=e.sent,G({id:t,name:null!=n&&n.data?n.data.name:"",img:null!=n&&n.data?n.data.img_medium_url:"",type:u.Oz.BUSINESS_HIERARCHY}),F(!1);case 6:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)});if(N.isAuth&&z&&!B){var s=E||!!I&&!(0,d.Ni)(o);F(!0),h?n({id:h}):b?Y({id:b}):g?Y({username:g}):s?t({businessId:N.id,assetId:E||I||""}):(G({type:u.Oz.BUSINESS_ACCOUNT,id:N.id||"",name:N.fullName||"",img:N.imageMediumUrl||""}),F(!1))}},[B,N,h,b,g,E,I,j,z,o,Y,H]),(0,n.useEffect)(function(){var e=new URLSearchParams(o.search);j||e.has("actingBusinessId")||Z({id:N.id||"",name:N.fullName||"",img:N.imageMediumUrl||""})},[j,o.search,N]);var J=(0,n.useMemo)(function(){return{activePanel:P,selectedHierarchyId:O,switcherOpen:C,openAccountSwitcher:function(){if(V({event_type:101,view_type:608,component:14346}),!P){if((0,d.TI)(o))w({type:u.v8});else{var e=new URLSearchParams(o.search).get("actingBusinessId");w({type:u.nt,id:null!=e?e:null==j?void 0:j.id})}}U(!0)},closeAccountSwitcher:function(){return U(!1)},openAssetPanel:function(e){w({type:u.nt,id:e})},closeAssetPanel:function(){w({type:u.v8})},actingBusiness:j,selectedAccount:B,setSelectedAccount:G,setActingBusiness:Z}},[O,P,C,B,j,V,o]);return(0,_.jsx)(A,{value:J,children:t})}},987892:function(e,r,t){t.d(r,{C:function(){return I},H:function(){return N}});var n=t(658379),s=t(533169),a=t(337445),u=t(872993),i=t(965533),c=t(914062),o=t(651009),d=t(583592),p=t(970588),l=t(957286),f=t(802071),m=t(173969),_=t(389282);function b(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}function y(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function u(e){v(a,n,s,u,i,"next",e)}function i(e){v(a,n,s,u,i,"throw",e)}u(void 0)})}}function h(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t,n,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a=[],u=!0,i=!1;try{for(s=s.call(e);!(u=(t=s.next()).done)&&(a.push(t.value),!r||a.length!==r);u=!0);}catch(e){i=!0,n=e}finally{try{u||null==s.return||s.return()}finally{if(i)throw n}}return a}}(e,r)||E(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,r){if(e){if("string"==typeof e)return A(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A(e,r)}}function A(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}var g=(0,d.Z)("BusinessHierarchyContext"),S=g.Provider,I=g.useHook,N=function(e){var r,t,d=e.children,v=h((0,n.useState)([]),2),E=v[0],A=v[1],g=h((0,n.useState)(!1),2),I=g[0],N=g[1],R=h((0,n.useState)(!1),2),O=R[0],x=R[1],T=h((0,n.useState)({}),2),P=T[0],w=T[1],D=h((0,n.useState)(null),2),C=D[0],U=D[1],k=h((0,n.useState)([]),2),B=k[0],G=k[1],L=(0,m.Z)(),j=(0,n.useRef)(L),Z=(0,f.Z)(),M=(0,s.Z)(),H=(0,n.useRef)({}),F=(0,n.useCallback)(function(e,r){r===a.Oz.BUSINESS_HIERARCHY?t=(0,o.Z)(c.Q6.DASHBOARD,"","",e):r===a.Oz.BUSINESS_ACCOUNT&&(t=(0,o.Z)(c.Q6.DASHBOARD,e));var t,n=(0,l.Z)({site:"www",path:t});(0,i.Z)(n)},[]),z=(0,n.useCallback)((r=y(regeneratorRuntime.mark(function e(r){var t,n,s,i,c,o,d,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(M){e.next=2;break}return e.abrupt("return",[]);case 2:if(x(!0),!H.current[r]){e.next=8;break}return x(!1),e.abrupt("return",H.current[r]);case 8:return e.next=10,(0,p.Z)({url:"ads/v4/business_access/business_hierarchies/",data:{search_by:["FULL_NAME","BUSINESS_ID"],search_value:r}});case 10:if(n=(t=e.sent.resource_response.data)&&t.map(function(e){return e.children&&(e.children=e.children.map(function(e){return e.user.entity_type=a.Oz.USER_ACCOUNT,e})),e})||[],s=/^\d+$/.test(r),i=RegExp(r.toLowerCase(),"g"),c=[],C){e.next=21;break}return e.next=19,j.current();case 19:U(c=e.sent);case 21:return o=(null!=C?C:c).filter(function(e){return s?e.id.includes(r):e.user.full_name.toLowerCase().match(i)}).map(u.IT),d=[].concat(b(n.map(function(e){return e.id})),b(o.map(function(e){return e.id}))),l=s?(Z.id||"").includes(r):(Z.fullName||"").toLowerCase().match(i),Z.isAuth&&l&&d.push(Z.id),H.current[r]=d,x(!1),e.abrupt("return",d);case 29:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),[M,j,Z.id,Z.fullName,Z.isAuth,C]),V=Z.id,Y=void 0===V?"":V,W=Z.username,J=void 0===W?"":W,q=Z.email,Q=void 0===q?"":q,X=Z.fullName,$=void 0===X?"":X,K=Z.imageSmallUrl,ee=void 0===K?"":K,er=Z.imageMediumUrl,et=void 0===er?"":er,en=Z.isAuth,es=(t=y(regeneratorRuntime.mark(function e(){var r,t,n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!en||!M||C)){e.next=2;break}return e.abrupt("return");case 2:return N(!0),r=[],e.prev=4,e.next=7,(0,p.Z)({url:"ads/v4/business_access/business_hierarchies/"});case 7:A(r=(t=e.sent.resource_response.data)&&t.map(function(e){return e.children&&(e.children=e.children.map(function(e){return e.user.entity_type=a.Oz.USER_ACCOUNT,e})),e})||[]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),A([]);case 16:if(e.prev=16,n=[],C){e.next=23;break}return e.next=21,j.current();case 21:U(n=e.sent);case 23:G((s=null!=C?C:n).map(u.IT)),w((0,u.WP)({id:Y,username:J,email:Q,fullName:$,imageSmallUrl:ee,imageMediumUrl:et})),H.current[""]=[].concat(b(r.map(function(e){return e.id})),b(s.map(u.IT).map(function(e){return e.id})),[Y]),N(!1),e.next=33;break;case 30:e.prev=30,e.t1=e.catch(16),N(!1);case 33:case"end":return e.stop()}},e,null,[[4,13],[16,30]])})),function(){return t.apply(this,arguments)}),ea=(0,n.useCallback)(es,[Y,J,Q,$,ee,et,en,M,C]),eu=(0,n.useCallback)(function(e){return E.some(function(r){return r.id===e||r.children.some(function(r){return r.id===e||r.user.id===e})})},[E]),ei=(0,n.useMemo)(function(){return{businessHierarchies:[].concat(b(P.id&&!eu(P.id)?[P]:[]),b(E),b(B.filter(function(e){return!eu(e.id)}))),switchAccount:F,searchAccounts:z,loadingAccounts:I,isSearchingAccounts:O,fetchData:ea}},[E,F,z,B,I,O,P,ea,eu]);return(0,_.jsx)(S,{value:ei,children:d})}},872993:function(e,r,t){t.d(r,{BX:function(){return E},IT:function(){return _},Vq:function(){return m},WP:function(){return b},Yu:function(){return h},a9:function(){return A},bG:function(){return y},p:function(){return v}});var n,s,a,u,i=t(690108),c=t(337445),o=t(970588),d=t(542977),p=t(389282);function l(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}function f(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function u(e){l(a,n,s,u,i,"next",e)}function i(e){l(a,n,s,u,i,"throw",e)}u(void 0)})}}var m=function(e){return{id:e.id,entity_type:c.Oz.BUSINESS_ACCOUNT,user:{id:e.user.id,entity_type:c.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}},_=function(e){return{id:e.id,entity_type:c.Oz.BUSINESS_ACCOUNT,requires_mfa_for_roles:e.requires_mfa_for_roles,user:{id:e.user.id,entity_type:c.Oz.USER_ACCOUNT,username:e.user.username,email:e.user.email,full_name:e.user.full_name,image_small_url:e.user.image_small_url,image_medium_url:e.user.image_medium_url}}},b=function(e){return{id:e.id,entity_type:c.Oz.BUSINESS_ACCOUNT,user:{id:e.id,entity_type:c.Oz.USER_ACCOUNT,username:e.username,email:e.email,full_name:e.fullName,image_small_url:e.imageSmallUrl,image_medium_url:e.imageMediumUrl}}},v=(n=f(regeneratorRuntime.mark(function e(r){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.hierarchyId,e.next=3,(0,o.Z)({url:"ads/v4/business_access/business_hierarchy/".concat(t,"/")});case 3:return n=e.sent,e.abrupt("return",n.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),y=(s=f(regeneratorRuntime.mark(function e(r){var t,n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.user_id,!(!(n=r.username)&&!t)){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,i.Z.create("UserResource",{user_id:t,username:n}).callGet();case 5:return s=e.sent.resource_response.data,e.abrupt("return",s);case 8:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),h=(0,p.jsx)("hr",{style:{borderTop:"1px solid #e9e9e9"}}),E=(a=f(regeneratorRuntime.mark(function e(r){var t,n,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.entityId,s=r.actingBusinessId,e.next=3,(0,d.FO)([{entity_type:"BIZ_USER",entity_id:n,property_keys:["GLOBAL_ACCOUNT_SWITCHER_CONFIG"]}]);case 3:if((a=e.sent[0])&&a.properties){e.next=7;break}return e.abrupt("return",[]);case 7:return u=null===(t=a.properties.GLOBAL_ACCOUNT_SWITCHER_CONFIG.favoriteAdAccounts)||void 0===t?void 0:t.favoriteAdAccountsMap[s].advertiserId,e.abrupt("return",u||[]);case 10:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),A=(u=f(regeneratorRuntime.mark(function e(r){var t,n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:var a,u;return t=r.entityId,n=r.actingBusinessId,s=r.adAccounts,e.next=3,(0,d.RM)([{entity_type:"BIZ_USER",entity_id:t,properties:{GLOBAL_ACCOUNT_SWITCHER_CONFIG:{favoriteAdAccounts:{favoriteAdAccountsMap:(a={},u={advertiserId:s},n in a?Object.defineProperty(a,n,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[n]=u,a)}}}}]);case 3:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},914062:function(e,r,t){t.d(r,{EF:function(){return p},Hg:function(){return g},Hl:function(){return y},IR:function(){return b},Je:function(){return o},K3:function(){return R},O1:function(){return P},Q6:function(){return f},QE:function(){return n},V3:function(){return A},Z4:function(){return _},c7:function(){return v},cU:function(){return u},cg:function(){return s},dZ:function(){return a},gO:function(){return h},j$:function(){return E},j9:function(){return O},pg:function(){return w},pt:function(){return N},qq:function(){return T},sy:function(){return d},tP:function(){return S},uE:function(){return m},vk:function(){return x},w2:function(){return c},we:function(){return I},xX:function(){return i},yR:function(){return l}});var n=3e3,s=280,a=500,u=1e4,i=250,c=251,o=50,d=50,p=20,l=20,f={DASHBOARD:"DASHBOARD",PEOPLE:"PEOPLE",PARTNERS:"PARTNERS",AD_ACCOUNTS:"AD_ACCOUNTS",AD_ACCOUNTS_PENDING_TAB:"AD_ACCOUNTS_PENDING_TAB",HISTORY:"HISTORY",PEOPLE_DETAIL:"PEOPLE_DETAIL",PARTNERS_DETAIL:"PARTNERS_DETAIL",SHARED_PARTNERS_DETAIL:"SHARED_PARTNERS_DETAIL",AD_ACCOUNTS_DETAIL:"AD_ACCOUNTS_DETAIL",PENDING_AD_ACCOUNTS_DETAIL:"PENDING_AD_ACCOUNTS_DETAIL",PEOPLE_INVITES:"PEOPLE_INVITES",PARTNERS_INVITES:"PARTNERS_INVITES",CHOOSER:"CHOOSER",PARTNERS_REQUEST_PAGE:"PARTNERS_REQUEST_PAGE",PARTNERS_INVITE_PAGE:"PARTNERS_INVITE_PAGE",PROFILES:"PROFILES",PROFILES_DETAIL:"PROFILES_DETAIL",PARTNERS_PENDING_TAB:"PARTNERS_PENDING_TAB",PEOPLE_PENDING_TAB:"PEOPLE_PENDING_TAB",USERS:"USERS",ACOUNTS:"ACCOUNTS",BUSINESS_SECURITY:"BUSINESS_SECURITY",SUPPORT_TOOL:"SUPPORT_TOOL",ASSETS:"ASSETS",ASSET_GROUPS:"ASSET_GROUPS",INVOICE_MANAGEMENT:"INVOICE_MANAGEMENT",BUSINESS_HIERARCHY:"BUSINESS_HIERARCHY",MANAGERS:"MANAGERS",AUDIENCES:"AUDIENCES",SHARED_TAGS:"SHARED_TAGS"},m={PARTNER:"PARTNER",PARTNER_ADMIN:"PARTNER_ADMIN"},_={ADVERTISER_OWNED_AD_ACCOUNT:"ADVERTISER_OWNED_AD_ACCOUNT",AGENCY_OWNED_AD_ACCOUNT:"AGENCY_OWNED_AD_ACCOUNT"},b={ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"},v={AD_ACCOUNT:"AD_ACCOUNT",PERSON:"PERSON",PARTNER:"PARTNER"},y={PERSON:"PERSON",PARTNER:"PARTNER",PROFILE:"PROFILE"},h={ADMIN:"ADMIN",ANALYST:"ANALYST",FINANCE_MANAGER:"FINANCE_MANAGER",AUDIENCE_MANAGER:"AUDIENCE_MANAGER",CAMPAIGN_MANAGER:"CAMPAIGN_MANAGER",CATALOGS_MANAGER:"CATALOGS_MANAGER"},E=["ADMIN","ANALYST","FINANCE_MANAGER","AUDIENCE_MANAGER","CAMPAIGN_MANAGER","CATALOGS_MANAGER"],A={EMPLOYEE:"EMPLOYEE",BIZ_ADMIN:"BIZ_ADMIN",OWNER:"OWNER"},g=["PROFILE_PUBLISHER"],S={AD_ACCOUNT:0,PROFILE:2,ASSET_GROUP:3},I={id:"0",is_pin_support_user:!0,biz_roles:[A.BIZ_ADMIN],business_roles:[A.BIZ_ADMIN],user:{username:"psupport",full_name:"Pinterest support",image_small_url:"https://i.pinimg.com/60x60_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg",image_medium_url:"https://i.pinimg.com/150x150_RS/f6/e9/3a/f6e93a06b500b2d87ffd32e1f56f7c6f.jpg"}},N={ACTIVE:0,PENDING:1},R={ACTIVE:"active",PENDING:"pending"},O="filter_type",x={page:1,totalCount:0,limit:10,sortDirection:"ASCENDING",sortBy:void 0,searchBy:void 0,searchTerm:""},T={WARNING:"WARNING",DEFAULT:"DEFAULT"},P={BUSINESS_INVITE_INVALID:2932,BUSINESS_ACCESS_PERSONAL_ACCOUNT:2936,INVALID_USERNAME:90,ACCESS_DENIED:280,BUSINESS_RELATIONSHIP_ALREADY_EXISTS:2751,BUSINESS_RELATIONSHIP_COUNT_EXCEEDED:2769,BUSINESS_NUMBER_MEMBERS_IN_POLICY_EXCEEDS:2938,INVALID_ODO_REQUEST:2755,BUSINESS_INVITE_STACKED_ERROR:2773,ACL_POLICY_NOT_FOUND:1110,BUSINESS_INVITE_NOT_EXIST:2770},w={ALL_TAGS:"ALL",OWNED:"OWNED",SHARED:"SHARED"}},651009:function(e,r){var t="/business/business-access/",n="/business/business-hierarchy/";r.Z=function(e,r,s,a){switch(e){case"DASHBOARD":return"".concat(a?n:t).concat(String(null!=a?a:r),"/dashboard/");case"PEOPLE":return"".concat(t).concat(String(r),"/employees/");case"PARTNERS":return"".concat(t).concat(String(r),"/partners/");case"AD_ACCOUNTS":return"".concat(t).concat(String(r),"/ad-accounts/");case"HISTORY":return"".concat(t).concat(String(r),"/history/");case"PEOPLE_DETAIL":return"".concat(t).concat(String(r),"/employees/").concat(String(s),"/details/");case"PARTNERS_DETAIL":return"".concat(t).concat(String(r),"/partners/").concat(String(s),"/details/");case"SHARED_PARTNERS_DETAIL":return"".concat(t).concat(String(r),"/shared/").concat(String(s),"/details/");case"AD_ACCOUNTS_DETAIL":return"".concat(t).concat(String(r),"/ad-accounts/").concat(String(s),"/details/");case"PENDING_AD_ACCOUNTS_DETAIL":return"".concat(t).concat(String(r),"/ad-accounts/pending/").concat(String(s),"/details/");case"PEOPLE_INVITES":return"".concat(t).concat(String(r),"/employees/invites/");case"PEOPLE_PENDING_TAB":return"".concat(t).concat(String(r),"/employees/pending/");case"PARTNERS_PENDING_TAB":return"".concat(t).concat(String(r),"/partners/pending/");case"AD_ACCOUNTS_PENDING_TAB":return"".concat(t).concat(String(r),"/ad-accounts/pending");case"PARTNERS_INVITE_PAGE":return"".concat(t).concat(String(r),"/partners/invites/");case"PARTNERS_REQUEST_PAGE":return"".concat(t).concat(String(r),"/partners/requests/");case"PROFILES":return"".concat(t).concat(String(r),"/profiles/");case"PROFILES_DETAIL":return"".concat(t).concat(String(r),"/profiles/").concat(String(s),"/details/");case"BUSINESS_SECURITY":return"".concat(t).concat(String(r),"/security/");case"SUPPORT_TOOL":return"".concat(t).concat(String(r),"/support/");case"ASSET_GROUPS":return s?"".concat(t).concat(String(r),"/asset-groups/?asset_group_id=").concat(String(s)):"".concat(t).concat(String(r),"/asset-groups/");case"INVOICE_MANAGEMENT":return"".concat(t).concat(String(r),"/invoice-management/");case"BUSINESS_HIERARCHY":return"".concat(n).concat(String(a),"/hierarchy/");case"MANAGERS":return"".concat(n).concat(String(a),"/managers/");case"AUDIENCES":return"".concat(t).concat(String(r),"/audiences/");case"SHARED_TAGS":return"".concat(t).concat(String(r),"/shared-tags/");default:return t}}},173969:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(970588),s=t(282802);function a(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}function u(){var e,r=(0,s.B)().experimentsClient;return e=regeneratorRuntime.mark(function e(){var t,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=(null!==(t=r.checkExperiment("business_access_employees_api_v4_migration"))&&void 0!==t?t:{}).anyEnabled?"/ads/v4/business_access/businesses/me/employers/":"ads/internal/business_access/users/me/employers/",e.next=4,(0,n.Z)({url:s});case 4:return u=(a=e.sent).resource_response?a.resource_response.data:{data:[]},e.next=8,Promise.all(u&&u.data||[]);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}},e)}),function(){var r=this,t=arguments;return new Promise(function(n,s){var u=e.apply(r,t);function i(e){a(u,n,s,i,c,"next",e)}function c(e){a(u,n,s,i,c,"throw",e)}i(void 0)})}}},208576:function(e,r,t){t.d(r,{$2:function(){return _},Ah:function(){return v},IW:function(){return m},Vs:function(){return y},dF:function(){return h},sl:function(){return b}});var n,s,a=t(914062),u=t(649655),i=t(664810),c=["businessId"];function o(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function d(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}function p(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?p(Object(t),!0).forEach(function(r){f(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function f(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.limit||e.sortBy||e.sortDirection||e.searchTerm)return 0;if(e.page){var t=e.limit||r.limit;return((e.page||r.page)-1)*t}return r.startIndex||0},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(e.limit||e.sortBy||e.sortDirection||e.searchTerm)return 0;if(e.page){var t=e.limit||r.limit;return((e.page||r.page)-1)*t}return r.startIndex},b=function(e,r,t,n){t.businessId;var s=function(e,r){if(null==e)return{};var t,n,s=function(e,r){if(null==e)return{};var t,n,s={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(s[t]=e[t]);return s}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],!(r.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}(t,c),a=Object.assign({},n);return l(l(l({id:e},a),s),{},{searchBy:s.searchBy,searchTerm:s.searchTerm||a.searchTerm,limit:s.limit||a.limit,page:s.page||a.page,sortBy:s.sortBy||a.sortBy,sortDirection:s.sortDirection||a.sortDirection,startIndex:r},0===r&&{page:1})},v=function(e,r){return r.reduce(function(r,t){return{ids:r.ids.concat(e(t)),data:l(l({},r.data),{},f({},e(t),t))}},{ids:[],data:{}})},y=function(e,r){var t,n,s,a,u,i={page:null!==(t=e.page)&&void 0!==t?t:r.page,limit:null!==(n=e.limit)&&void 0!==n?n:r.limit,sortBy:null!==(s=e.sortBy)&&void 0!==s?s:r.sortBy,searchBy:e.searchBy,searchTerm:null!==(a=e.searchTerm)&&void 0!==a?a:r.searchTerm,sortDirection:null!==(u=e.sortDirection)&&void 0!==u?u:r.sortDirection},c=m(e,r);return l(l({},i),{},{startIndex:c},0===c&&{page:1})},h=(n=regeneratorRuntime.mark(function e(r,t,n){var s,c,d,p,f,m,_,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s="PEOPLE"===n?i.JC:u.Eg,e.next=3,s(l(l({},r),{},{limit:a.xX,startIndex:0,id:r.id||""}));case 3:if(p=void 0===(d=(c=void 0===(c=e.sent.data)?{}:c).data)?[]:d,!((m=Math.ceil((f=c.total_data_count)/a.xX))<=1)){e.next=10;break}return e.abrupt("return",{data:{data:p,total_data_count:f}});case 10:var t;return _=((function(e){if(Array.isArray(e))return o(e)})(t=Array(m).keys())||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,r){if(e){if("string"==typeof e)return o(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,r)}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).slice(1),e.next=13,Promise.allSettled(_.map(function(e){return s(l(l({},r),{},{limit:a.xX,startIndex:e*a.xX}))}));case 13:return b=e.sent.reduce(function(e,r){var t,n;return null!==(t=r.value)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.data&&(e=e.concat(r.value.data.data)),e},p),e.abrupt("return",{data:{data:b,total_data_count:f}});case 16:case"end":return e.stop()}},e)}),s=function(){var e=this,r=arguments;return new Promise(function(t,s){var a=n.apply(e,r);function u(e){d(a,t,s,u,i,"next",e)}function i(e){d(a,t,s,u,i,"throw",e)}u(void 0)})},function(e,r,t){return s.apply(this,arguments)})},897215:function(e,r,t){t.d(r,{ib:function(){return V},vf:function(){return W},XV:function(){return J},jC:function(){return Y},oC:function(){return z},W3:function(){return Q},fc:function(){return eu},cE:function(){return ee},xZ:function(){return q},lo:function(){return ei},N1:function(){return es},BG:function(){return ea},eo:function(){return et},pI:function(){return K},cp:function(){return er},G2:function(){return en},cR:function(){return X},EB:function(){return F}});var n,s,a,u,i,c,o,d,p,l,f,m,_,b,v,y,h,E,A,g,S,I=t(758579),N=t(333872),R=t(914062),O=t(970588),x=t(649655),T=t(664810);function P(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return w(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return w(e,r)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function D(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function C(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?D(Object(t),!0).forEach(function(r){var n;n=t[r],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function U(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}var k=(n=regeneratorRuntime.mark(function e(r,t,n){var s,a,u,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=i.length>3&&void 0!==i[3]?i[3]:[],e.next=3,(0,O.Z)({url:r,method:"GET",data:t});case 3:if((a=C({bookmark:void 0,data:{business_id:"",data:[]}},e.sent.resource_response)).bookmark){e.next=9;break}return(u=n(a.data)).push.apply(u,P(s)),e.abrupt("return",a.data);case 9:return e.next=11,k(r,C(C({},t),{},{bookmark:a.bookmark}),n,s.concat.apply(s,P(n(a.data))));case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}},e)}),s=function(){var e=this,r=arguments;return new Promise(function(t,s){var a=n.apply(e,r);function u(e){U(a,t,s,u,i,"next",e)}function i(e){U(a,t,s,u,i,"throw",e)}u(void 0)})},function(e,r,t){return s.apply(this,arguments)}),B={get:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k(e,r,function(e){return e.data},[])}},G=t(404403);function L(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?L(Object(t),!0).forEach(function(r){Z(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function Z(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function M(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}function H(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function u(e){M(a,n,s,u,i,"next",e)}function i(e){M(a,n,s,u,i,"throw",e)}u(void 0)})}}var F=(a=H(regeneratorRuntime.mark(function e(r,t,n,s,a,u,i){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("PARTNER"!==a){e.next=6;break}return e.next=3,(0,x.SZ)({businessId:s,partnerId:r,assetId:n,roles:t,clientBusinessId:u,businessHierarchyNodeId:i});case 3:case 8:return e.abrupt("return",e.sent);case 6:return e.next=8,(0,T.Jg)({businessId:s,memberId:r,assetId:n,roles:t,businessHierarchyNodeId:i});case 9:case"end":return e.stop()}},e)})),function(e,r,t,n,s,u,i){return a.apply(this,arguments)}),z=(u=H(regeneratorRuntime.mark(function e(r,t,n,s){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:return a=[],t.forEach(function(e){var t=e.assigneeIds,u=e.adAccountIds,i=e.roles;0!==i.length&&t.forEach(function(e){u.forEach(function(t){a.push(F(e,i,t,r,n,void 0,s))})})}),e.next=6,Promise.all(a);case 6:case"end":return e.stop()}},e)})),function(e,r,t,n){return u.apply(this,arguments)}),V=(i=H(regeneratorRuntime.mark(function e(r,t,n,s,a){var u,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u="PEOPLE"===s?"MEMBER_INVITE":"PARTNER_INVITE",i=t.reduce(function(e,r){var t=Object.keys(r)[0],n=Object.values(r)[0].includes("ADMIN")?Z({},t,["ADMIN"]):r;return j(j({},e),n)},{}),c=n.map(function(e){return(0,O.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/invites/").concat(e,"/assets/access/"),method:"POST",data:{resource_id_to_roles:JSON.stringify(i),invite_type:u,business_hierarchy_node_id:a}})}),e.next=5,Promise.all(c);case 5:case"end":return e.stop()}},e)})),function(e,r,t,n,s){return i.apply(this,arguments)}),Y=(c=H(regeneratorRuntime.mark(function e(r,t,n,s){var a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.reduce(function(e,r){var t=Object.keys(r)[0],n=Object.values(r)[0].includes("ADMIN")?Z({},t,["ADMIN"]):r;return j(j({},e),n)},{}),e.next=3,(0,O.Z)({url:"ads/internal/business_access/businesses/".concat(r,"/partners/").concat(t,"/assets/access/"),method:"POST",data:{resource_id_to_roles:JSON.stringify(a),business_hierarchy_node_id:s}});case 3:return u=e.sent,e.abrupt("return",u.resource_response.data);case 5:case"end":return e.stop()}},e)})),function(e,r,t,n){return c.apply(this,arguments)}),W=(o=H(regeneratorRuntime.mark(function e(r,t,n,s,a){var u,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=t.reduce(function(e,r){var t=Object.keys(r)[0],n=Object.values(r)[0].includes("ADMIN")?Z({},t,["ADMIN"]):r;return j(j({},e),n)},{}),i=n.map(function(e){return(0,O.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/invites/").concat(e,"/assets/access/"),method:"POST",data:{resource_id_to_roles:JSON.stringify(u),invite_type:s,business_hierarchy_node_id:a}})}),e.next=4,Promise.all(i);case 4:case"end":return e.stop()}},e)})),function(e,r,t,n,s){return o.apply(this,arguments)}),J=(d=H(regeneratorRuntime.mark(function e(r,t,n,s){var a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reduce(function(e,r){var t=Object.keys(r)[0],n=Object.values(r)[0].includes("ADMIN")?Z({},t,["ADMIN"]):r;return j(j({},e),n)},{}),e.next=3,(0,O.Z)({url:"/ads/v4/business_access/businesses/".concat(r,"/invites/").concat(n,"/assets/access/"),method:"POST",data:{resource_id_to_roles:JSON.stringify(a),invite_type:"PARTNER_REQUEST",business_hierarchy_node_id:s}});case 3:return u=e.sent,e.abrupt("return",u.resource_response);case 5:case"end":return e.stop()}},e)})),function(e,r,t,n){return d.apply(this,arguments)}),q=(p=H(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.Z)({url:"ads/v4/advertisers/countries/",method:"GET"});case 2:return r=e.sent,e.abrupt("return",r.resource_response.data);case 4:case"end":return e.stop()}},e)})),function(){return p.apply(this,arguments)}),Q=(l=H(regeneratorRuntime.mark(function e(r,t,n,s,a,u){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.Z)({url:"/ads/v4/advertisers/",method:"POST",data:j({owner_user_id:r,name:s,country:a,business_hierarchy_node_id:n,tos_id:u||(0,G.Fc)(N.tN[a])},t&&{agency_user_id:t})});case 2:return i=e.sent,e.abrupt("return",i.resource_response.data);case 4:case"end":return e.stop()}},e)})),function(e,r,t,n,s,a){return l.apply(this,arguments)}),X=(f=H(regeneratorRuntime.mark(function e(){var r,t,n,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==(r=null===(t=(0,I.Z)())||void 0===t?void 0:t.experimentsClient.checkExperiment("business_access_employees_api_v4_migration"))&&void 0!==r?r:{}).anyEnabled){e.next=9;break}return e.next=4,(0,O.Z)({url:"/ads/v4/business_access/businesses/me/employers/"});case 4:return s=null===(n=e.sent.resource_response.data)||void 0===n?void 0:n.data,e.next=8,Promise.all(s||[]);case 8:case 15:return e.abrupt("return",e.sent);case 9:return e.next=11,B.get("ads/internal/business_access/users/me/employers/");case 11:return a=e.sent.data,e.next=15,Promise.all(a||[]);case 16:case"end":return e.stop()}},e)})),function(){return f.apply(this,arguments)}),$=(m=H(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.assetId,s=r.limit,u=void 0===(a=r.sortBy)?"name":a,c=void 0===(i=r.searchBy)?"name":i,o=r.searchTerm,d=r.startIndex,p=r.sortDirection,l=r.resourceType,f=n?JSON.stringify({child_asset_id:n}):void 0,e.next=4,(0,O.Z)({url:"/ads/v4/business_access/businesses/".concat(t,"/assets/"),data:{page_size:s,sort_by:u,search_by:c,start_index:d,search_value:o,sort_ascending:"ASCENDING"===p,resource_type:l,filters:f}});case 4:return m=e.sent,e.abrupt("return",m.resource_response);case 6:case"end":return e.stop()}},e)})),function(e){return m.apply(this,arguments)}),K=(_=H(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f,m,_;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.assetIds,s=r.resourceType,a=r.limit,u=r.sortBy,c=void 0===(i=r.sortDirection)?"ASCENDING":i,o=r.searchBy,p=void 0===(d=r.searchTerm)?"":d,f=void 0===(l=r.startIndex)?0:l,_=(m=r.filtersPayload)&&Object.keys(m).length>0?{filters:JSON.stringify(m)}:{},e.next=4,(0,O.Z)({url:"ads/v4/business_access/businesses/".concat(t,"/assets_by_ids"),data:j({business_id:t,asset_ids:n,resource_type:s,page_size:a,sort_by:u,sort_direction:c,search_by:o,search_value:p,start_index:f},_)});case 4:return e.abrupt("return",e.sent.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return _.apply(this,arguments)}),ee=(b=H(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f,m,_,b,v,y,h,E,A,g,S;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.id,a=r.limit,i=void 0===(u=r.sortBy)?"name":u,o=void 0===(c=r.searchBy)?"name":c,p=void 0===(d=r.searchTerm)?"":d,f=void 0===(l=r.startIndex)?0:l,_=void 0===(m=r.sortDirection)?"ASCENDING":m,v=void 0!==(b=r.forPartner)&&b,h=void 0!==(y=r.includeAssetSummary)&&y,!(null!==(t=null===(n=(0,I.Z)())||void 0===n?void 0:n.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==t?t:{}).anyEnabled){e.next=17;break}return e.next=5,$({id:s,businessId:s,limit:a,sortBy:i,searchBy:o,searchTerm:p,startIndex:f,sortDirection:_,resourceType:"AD_ACCOUNT"});case 5:if(E=e.sent,!h){e.next=14;break}return e.next=9,K({businessId:s,assetIds:(null==E?void 0:E.data.data.map(function(e){return e.asset_id}))||[],limit:a,resourceType:"AD_ACCOUNT"});case 9:return A=e.sent,g=null==E?void 0:E.data.data.map(function(e){return j(j({},e),null==A?void 0:A.data.data[e.asset_id])}),e.abrupt("return",j(j({},E),{},{data:j(j({},null==E?void 0:E.data),{},{data:g})}));case 14:return e.abrupt("return",E);case 15:e.next=21;break;case 17:return e.next=19,(0,O.Z)({url:"/ads/internal/business_access/businesses/".concat(String(s),"/all_assets/"),data:{limit:a,sort_by:i,sort_ascending:"ASCENDING"===_,search_by:o,search_value:p,start_index:f,for_partner:v}});case 19:return S=e.sent,e.abrupt("return",S.resource_response);case 21:case"end":return e.stop()}},e)})),function(e){return b.apply(this,arguments)}),er=(v=H(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f,m,_,b,v;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.id,a=r.limit,i=void 0===(u=r.sortBy)?"name":u,o=void 0===(c=r.sortDirection)?"ASCENDING":c,p=void 0===(d=r.searchBy)?"name":d,f=void 0===(l=r.searchTerm)?"":l,_=void 0===(m=r.startIndex)?0:m,b=r.forPartner,!(null!==(t=null===(n=(0,I.Z)())||void 0===n?void 0:n.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==t?t:{}).anyEnabled){e.next=6;break}return e.abrupt("return",$({id:s,businessId:s,limit:a,sortBy:i,searchBy:p,searchTerm:f,startIndex:_,sortDirection:o,resourceType:"PROFILE"}));case 6:return e.next=8,(0,O.Z)({url:"ads/internal/business_access/businesses/".concat(s,"/all_assets/"),data:{limit:a,sort_by:i,sort_ascending:"ASCENDING"===o,search_by:p,search_value:f,start_index:_,for_partner:b,type:R.tP.PROFILE}});case 8:return v=e.sent,e.abrupt("return",v.resource_response);case 10:case"end":return e.stop()}},e)})),function(e){return v.apply(this,arguments)}),et=(y=H(regeneratorRuntime.mark(function e(r){var t,n,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,n=r.assetIds,s=r.limit,a=r.type,e.next=3,(0,O.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/batch_assets/"),method:"GET",data:{limit:s,type:a,assets_ids:n.join(",")}});case 3:return u=e.sent,e.abrupt("return",u.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return y.apply(this,arguments)}),en=(h=H(regeneratorRuntime.mark(function e(r){var t,n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.assetId,e.next=3,(0,O.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/assets/").concat(n,"/"),method:"GET"});case 3:return s=e.sent,e.abrupt("return",s.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)}),es=(E=H(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.assetId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"full_name":u,c=r.searchTerm,o=r.startIndex,d=r.sortDirection,e.next=3,(0,O.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/assets/").concat(n,"/partners/"),data:{limit:s,sort_by:a,search_by:i,start_index:o,search_value:c,sort_ascending:"ASCENDING"===d}});case 3:return p=e.sent.resource_response,e.abrupt("return",p);case 6:case"end":return e.stop()}},e)})),function(e){return E.apply(this,arguments)}),ea=(A=H(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.assetId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"full_name":u,c=r.searchTerm,o=r.startIndex,d=r.sortDirection,e.next=3,(0,O.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/assets/").concat(n,"/members/"),data:{page_size:s,sort_by:a,search_by:i,start_index:o,search_value:c,sort_ascending:"ASCENDING"===d}});case 3:return p=e.sent.resource_response,e.abrupt("return",p);case 6:case"end":return e.stop()}},e)})),function(e){return A.apply(this,arguments)}),eu=(g=H(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,n=r.businessId,s=r.assetId,a=r.limit,i=void 0===(u=r.sortBy)?"name":u,o=void 0===(c=r.searchBy)?"name":c,d=r.searchTerm,p=r.startIndex,l=r.sortDirection,m=void 0===(f=r.resourceType)?"ASSET_GROUP":f,e.abrupt("return",$({id:t,businessId:n,assetId:s,limit:a,sortBy:i,searchBy:o,searchTerm:d,startIndex:p,sortDirection:l,resourceType:m}));case 2:case"end":return e.stop()}},e)})),function(e){return g.apply(this,arguments)}),ei=(S=H(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,n=r.businessId,s=r.limit,u=void 0===(a=r.sortBy)?"name":a,c=void 0===(i=r.searchBy)?"name":i,o=r.searchTerm,d=r.startIndex,p=r.sortDirection,f=void 0===(l=r.resourceType)?"ASSET_GROUP":l,e.abrupt("return",$({id:t,businessId:n,limit:s,sortBy:u,searchBy:c,searchTerm:o,startIndex:d,sortDirection:p,resourceType:f}));case 2:case"end":return e.stop()}},e)})),function(e){return S.apply(this,arguments)})},649655:function(e,r,t){t.d(r,{Bq:function(){return F},Cj:function(){return B},Eg:function(){return j},F0:function(){return L},FA:function(){return P},Jq:function(){return k},K7:function(){return G},M9:function(){return z},OA:function(){return W},Of:function(){return H},SB:function(){return M},SZ:function(){return Y},Zk:function(){return U},c4:function(){return Z},ek:function(){return D},h9:function(){return V},qC:function(){return w},w8:function(){return C},wi:function(){return J}});var n,s,a,u,i,c,o,d,p,l,f,m,_,b,v,y,h,E,A,g=t(758579),S=t(914062),I=t(970588),N=t(208576);function R(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function O(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?R(Object(t),!0).forEach(function(r){var n;n=t[r],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function x(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}function T(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function u(e){x(a,n,s,u,i,"next",e)}function i(e){x(a,n,s,u,i,"throw",e)}u(void 0)})}}var P=(n=T(regeneratorRuntime.mark(function e(r){var t,n,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.requestIds,s=r.includeAssetSummary,e.next=3,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/batch_partners/"),method:"GET",data:{partners:n,assets_summary:s}});case 3:return a=O({data:{}},e.sent.resource_response).data.data,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),w=(s=T(regeneratorRuntime.mark(function e(r){var t,n,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.requestIds,s=r.includeAssetSummary,e.next=3,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/shared/batch_partners/"),method:"GET",data:{partners:n,assets_summary:s}});case 3:return a=O({data:{}},e.sent.resource_response).data.data,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)}),D=(a=T(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(r,"/partners/").concat(t,"/assets/"),method:"GET",data:{limit:S.cU}});case 2:return n=e.sent,e.abrupt("return",O({data:[],business_id:"",partner_id:""},n.resource_response.data));case 4:case"end":return e.stop()}},e)})),function(e,r){return a.apply(this,arguments)}),C=(u=T(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(r,"/partners/").concat(t,"/asset_counts/"),method:"GET"});case 2:return n=e.sent,e.abrupt("return",n.resource_response.data);case 4:case"end":return e.stop()}},e)})),function(e,r){return u.apply(this,arguments)}),U=(i=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.partnerId,n=r.role,s=r.businessId,a=r.businessHierarchyNodeId,e.next=3,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(s,"/partners/").concat(t,"/invite/"),method:"POST",data:{role_name:n,business_hierarchy_node_id:a}});case 3:return u=e.sent,e.abrupt("return",u.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),k=(c=T(regeneratorRuntime.mark(function e(r){var t,n,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.partnerId,n=r.role,s=r.businessId,e.next=3,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(s,"/partners/").concat(t,"/invite/"),method:"POST",data:{role_name:n,type:"PARTNER_REQUEST"}});case 3:return a=e.sent,e.abrupt("return",a.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),B=(o=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.partnerId,s=r.businessHierarchyNodeId,a=r.role,e.next=3,(0,I.Z)({url:"/ads/internal/business_access/businesses/".concat(t,"/partners/").concat(n,"/"),method:"DELETE",data:{role_name:a,business_hierarchy_node_id:s}});case 3:return u=e.sent,e.abrupt("return",u.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),G=(d=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.partnerId,s=r.businessHierarchyNodeId,a=r.role,u=r.partner_type,e.next=3,(0,I.Z)({url:"/ads/v4/business_access/businesses/".concat(t,"/partners/").concat(n,"/"),method:"DELETE",data:{role_name:a,partner_type:u,business_hierarchy_node_id:s}});case 3:return i=e.sent,e.abrupt("return",i.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),L=(p=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f,m,_,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,n=r.limit,a=void 0===(s=r.sortBy)?"full_name":s,i=void 0===(u=r.searchBy)?"full_name":u,o=void 0===(c=r.searchTerm)?"":c,p=void 0===(d=r.startIndex)?0:d,f=void 0===(l=r.sortDirection)?"ASCENDING":l,_=void 0===(m=r.includeAssetSummary)||m,e.next=3,(0,I.Z)({url:"/ads/internal/business_access/businesses/".concat(t,"/all_partners/"),method:"GET",data:{limit:n,sort_by:a,search_by:i,start_index:p,search_value:o,assets_summary:_?"true":"false",sort_ascending:"ASCENDING"===f}});case 3:return(b=O({data:{data:[]}},e.sent.resource_response)).data.data=b.data.data.map(function(e){var r;return(null==e?void 0:null===(r=e.created_by_biz)||void 0===r?void 0:r.id)===t&&(e.isAgencyPartner=!0),e}),e.abrupt("return",b);case 7:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)}),j=(l=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f,m,_,b,v,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,n=r.limit,a=void 0===(s=r.sortBy)?"full_name":s,i=void 0===(u=r.searchBy)?["FULL_NAME","BUSINESS_ID","USERNAME"]:u,o=void 0===(c=r.searchTerm)?"":c,p=void 0===(d=r.startIndex)?0:d,f=void 0===(l=r.sortDirection)?"ASCENDING":l,m=r.includeAssetSummary,_=r.partnerType,v=void 0===(b=r.partners)?[]:b,e.next=3,(0,I.Z)({url:"ads/v4/business_access/businesses/".concat(t,"/partners/"),data:{page_size:n,sort_by:a,search_by:i,start_index:p,search_value:o,assets_summary:m?"true":"false",sort_ascending:"ASCENDING"===f,partner_type:_,partners:v}});case 3:return y=e.sent,e.abrupt("return",y.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),Z=(f=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.businessId,a=r.partnerId,i=void 0===(u=r.includeAssetSummary)||u,e.next=3,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(s,"/partners/").concat(a,"/"),method:"GET",data:{assets_summary:i?"true":"false "}});case 3:if((null===(t=(c=e.sent).resource_response.data)||void 0===t?void 0:null===(n=t.created_by_biz)||void 0===n?void 0:n.id)!==s){e.next=8;break}return(o=O({data:{isAgencyPartner:void 0}},c.resource_response)).data.isAgencyPartner=!0,e.abrupt("return",o);case 8:return e.abrupt("return",c.resource_response);case 9:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)}),M=(m=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.partnerId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"name":u,c=r.searchTerm,o=r.startIndex,d=r.sortDirection,e.next=3,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/partners/").concat(n,"/assets/"),method:"GET",data:O(O({limit:s,sort_by:a},c&&{search_by:i}),{},{start_index:o,search_value:c,sort_ascending:"ASCENDING"===d})});case 3:return p=e.sent,e.abrupt("return",p.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return m.apply(this,arguments)}),H=(_=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.partnerId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"name":u,c=r.searchTerm,o=r.startIndex,d=r.sortDirection,e.next=3,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/shared/").concat(n,"/assets/"),method:"GET",data:O(O({limit:s,sort_by:a},c&&{search_by:i}),{},{start_index:o,search_value:c,sort_ascending:"ASCENDING"===d})});case 3:return p=e.sent,e.abrupt("return",p.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return _.apply(this,arguments)}),F=(b=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.partnerId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"name":u,c=r.searchTerm,o=r.startIndex,d=r.sortDirection,e.next=3,(0,I.Z)({url:"ads/v4/business_access/businesses/".concat(t,"/partners/").concat(n,"/assets/"),method:"GET",data:O(O({limit:s,sort_by:a},c?{search_by:i}:{}),{},{start_index:o,search_value:c,sort_ascending:"ASCENDING"===d,resource_type:"ASSET_GROUP",partner_type:"INTERNAL"})});case 3:return p=e.sent,e.abrupt("return",p.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return b.apply(this,arguments)}),z=(v=T(regeneratorRuntime.mark(function e(r,t){var n,s,a,u=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>2&&void 0!==u[2]&&u[2],e.next=3,(0,N.dF)({id:r,partnerType:"INTERNAL"},t,"PARTNER");case 3:return s=e.sent.data.data,e.next=7,Promise.all(s.map(function(){var e=T(regeneratorRuntime.mark(function e(t){var s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.id,e.next=3,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(r,"/partners/").concat(s,"/assets/"),method:"GET",data:{limit:S.cU,type:n?S.tP.PROFILE:S.tP.AD_ACCOUNT}});case 3:return a=e.sent,e.abrupt("return",a.resource_response.data);case 5:case"end":return e.stop()}},e)}));return function(r){return e.apply(this,arguments)}}()));case 7:return a=e.sent,e.abrupt("return",s.map(function(e,r){return O(O({},e),{},{assets:a[r].data})}));case 9:case"end":return e.stop()}},e)})),function(e,r){return v.apply(this,arguments)}),V=(y=T(regeneratorRuntime.mark(function e(r){var t,n,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.partnerId,s=r.assetId,e.next=3,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/partners/").concat(n,"/assets/").concat(s,"/"),method:"GET"});case 3:return a=e.sent,e.abrupt("return",a.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return y.apply(this,arguments)}),Y=(h=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.businessId,a=r.partnerId,u=r.assetId,i=r.roles,c=r.clientBusinessId,o=r.businessHierarchyNodeId,!(null!==(t=null===(n=(0,g.Z)())||void 0===n?void 0:n.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==t?t:{}).anyEnabled){e.next=9;break}return e.next=5,(0,I.Z)({url:"ads/v4/business_access/businesses/".concat(s,"/partners/").concat(a,"/assets/").concat(u,"/access/"),method:"PUT",data:O({permissions:i.includes("ADMIN")?["ADMIN"]:i,business_hierarchy_node_id:o},c?{client_business_id:c}:{})});case 5:return d=e.sent,e.abrupt("return",d.resource_response.data);case 9:return e.next=11,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(s,"/partners/").concat(a,"/assets/").concat(u,"/access/"),method:"PUT",data:O({finalRoles:i.includes("ADMIN")?["ADMIN"]:i,business_hierarchy_node_id:o},c?{client_business_id:c}:{})});case 11:return p=e.sent,e.abrupt("return",p.resource_response.data);case 13:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)}),W=(E=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.businessId,a=r.partnerId,u=r.assetId,i=r.businessHierarchyNodeId,o=void 0===(c=r.partner_type)?"INTERNAL":c,!(null!==(t=null===(n=(0,g.Z)())||void 0===n?void 0:n.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==t?t:{}).anyEnabled){e.next=9;break}return e.next=5,(0,I.Z)({url:"ads/v4/business_access/businesses/".concat(s,"/partners/").concat(a,"/assets/").concat(u,"/access/"),method:"DELETE",data:{partner_type:o,business_hierarchy_node_id:i}});case 5:return d=e.sent,e.abrupt("return",d.resource_response.data);case 9:return e.next=11,(0,I.Z)({url:"ads/internal/business_access/businesses/".concat(s,"/partners/").concat(a,"/assets/").concat(u,"/access/"),method:"DELETE",data:{partner_type:o,business_hierarchy_node_id:i}});case 11:return p=e.sent,e.abrupt("return",p.resource_response.data);case 13:case"end":return e.stop()}},e)})),function(e){return E.apply(this,arguments)}),J=(A=T(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.assetId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"FULL_NAME":u,c=r.searchTerm,o=r.startIndex,d=r.sortDirection,e.next=3,(0,I.Z)({url:"ads/v4/business_access/businesses/".concat(t,"/assets/").concat(n,"/partners/"),data:{page_size:s,sort_by:a,search_by:i,search_value:c,start_index:o,sort_ascending:"ASCENDING"===d}});case 3:return p=e.sent,e.abrupt("return",p.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return A.apply(this,arguments)})},664810:function(e,r,t){t.d(r,{GL:function(){return G},JC:function(){return D},Jg:function(){return L},QC:function(){return U},UQ:function(){return x},bP:function(){return j},dx:function(){return T},kF:function(){return Z},kH:function(){return w},kJ:function(){return R},kY:function(){return C},mZ:function(){return k},n5:function(){return B},p6:function(){return P},p_:function(){return O}});var n,s,a,u,i,c,o,d,p,l,f,m,_,b,v,y=t(758579),h=t(914062),E=t(970588),A=t(678108);function g(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function S(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?g(Object(t),!0).forEach(function(r){var n;n=t[r],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function I(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}function N(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function u(e){I(a,n,s,u,i,"next",e)}function i(e){I(a,n,s,u,i,"throw",e)}u(void 0)})}}var R=(n=N(regeneratorRuntime.mark(function e(r){var t,n,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.requestIds,s=r.includeAssetSummary,e.next=3,(0,E.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/batch_members/"),method:"GET",data:{members:n,assets_summary:s,extend_info_from_user_api:!0}});case 3:return a=S({data:{data:{}}},e.sent.resource_response).data.data,e.abrupt("return",a);case 6:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),O=(s=N(regeneratorRuntime.mark(function e(r,t,n,s){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,E.Z)({url:"ads/internal/business_access/businesses/".concat(n,"/members/batch_invite/"),method:"POST",data:{role_name:t,members:r,business_hierarchy_node_id:s}});case 2:return a=e.sent,e.abrupt("return",S({data:[]},a.resource_response.data));case 4:case"end":return e.stop()}},e)})),function(e,r,t,n){return s.apply(this,arguments)}),x=(a=N(regeneratorRuntime.mark(function e(r,t,n){var s,a,u,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=(null!==(s=null===(a=(0,y.Z)())||void 0===a?void 0:a.experimentsClient.checkExperiment("web_m10n_business_manager_api_loops_removal"))&&void 0!==s?s:{}).anyEnabled,e.next=3,(0,E.Z)({url:"ads/internal/business_access/businesses/".concat(r,"/members/").concat(t,"/assets/"),method:"GET",data:S({limit:h.cU},Number.isInteger(n)&&{asset_permission_type:n})});case 3:if(i=S({data:[]},e.sent.resource_response.data),!u){e.next=9;break}return e.abrupt("return",i.data);case 9:return c=i.data.map(A.P),e.next=13,Promise.all(c);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}},e)})),function(e,r,t){return a.apply(this,arguments)}),T=(u=N(regeneratorRuntime.mark(function e(r,t,n,s){var a,u,i,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=(i=(null!==(a=null===(u=(0,y.Z)())||void 0===u?void 0:u.experimentsClient.checkExperiment("business_access_employees_api_v4_migration"))&&void 0!==a?a:{}).anyEnabled)?"v4":"internal",e.next=4,(0,E.Z)({url:"ads/".concat(c,"/business_access/businesses/").concat(r,"/members/").concat(t,"/"),method:"DELETE",data:S(S({},i?{business_role:n}:{role_name:[n]}),{},{business_hierarchy_node_id:s})});case 4:return o=e.sent,e.abrupt("return",S({data:void 0,auxData:void 0},o.resource_response.data));case 6:case"end":return e.stop()}},e)})),function(e,r,t,n){return u.apply(this,arguments)}),P=(i=N(regeneratorRuntime.mark(function e(r,t,n,s){var a,u,i,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c=(i=null!==(a=null===(u=(0,y.Z)())||void 0===u?void 0:u.experimentsClient.checkExperiment("business_access_employees_api_v4_migration").anyEnabled)&&void 0!==a&&a)?{business_role:r}:{role_name:r},e.next=4,(0,E.Z)({url:i?"ads/v4/business_access/businesses/".concat(n,"/members/").concat(t,"/"):"ads/internal/business_access/businesses/".concat(n,"/members/").concat(t,"/"),method:"PUT",data:S(S({},c),s?{business_hierarchy_node_id:s}:{})});case 4:return o=e.sent,e.abrupt("return",o.resource_response.data);case 6:case"end":return e.stop()}},e)})),function(e,r,t,n){return i.apply(this,arguments)}),w=(c=N(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f,m,_,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,n=r.limit,s=r.filters,u=void 0===(a=r.sortBy)?"full_name":a,c=void 0===(i=r.searchBy)?"full_name":i,d=void 0===(o=r.searchTerm)?"":o,l=void 0===(p=r.startIndex)?0:p,m=void 0===(f=r.sortDirection)?"ASCENDING":f,_=r.includeAssetSummary,e.next=3,(0,E.Z)({url:"/ads/internal/business_access/businesses/".concat(t,"/members/"),method:"GET",data:{limit:n,filters:s?JSON.stringify(s):void 0,sort_by:u,search_by:c,start_index:l,search_value:d,assets_summary:_?"true":"false",sort_ascending:"ASCENDING"===m,extend_info_from_user_api:!0}});case 3:return b=e.sent,e.abrupt("return",b.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return c.apply(this,arguments)}),D=(o=N(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f,m,_,b,v,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.id,n=r.limit,s=r.filters,u=void 0===(a=r.memberIds)?[]:a,c=void 0===(i=r.sortBy)?"full_name":i,d=void 0===(o=r.searchBy)?["FULL_NAME","EMAIL","USERNAME"]:o,l=void 0===(p=r.searchTerm)?"":p,m=void 0===(f=r.startIndex)?0:f,b=void 0===(_=r.sortDirection)?"ASCENDING":_,v=r.includeAssetSummary,e.next=3,(0,E.Z)({url:"ads/v4/business_access/businesses/".concat(t,"/members/"),data:{page_size:n,member_ids:u.length?u.join(","):void 0,filters:s?JSON.stringify(s):void 0,sort_by:c,search_by:d,start_index:m,search_value:l,assets_summary:v?"true":"false",sort_ascending:"ASCENDING"===b,extend_info_from_user_api:!0}});case 3:return y=e.sent,e.abrupt("return",y.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),C=(d=N(regeneratorRuntime.mark(function e(r){var t,n,s,a,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=r.id,a=null!==(t=null===(n=(0,y.Z)())||void 0===n?void 0:n.experimentsClient.checkExperiment("business_access_employees_api_v4_migration").anyEnabled)&&void 0!==t&&t,e.next=4,(0,E.Z)({url:a?"/ads/v4/business_access/businesses/".concat(s,"/owner/"):"/ads/internal/business_access/businesses/".concat(s,"/owner/")});case 4:return u=e.sent,e.abrupt("return",u.resource_response.data);case 6:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),U=(p=N(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.personId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"name":u,c=r.searchTerm,d=S({limit:s,sort_by:a,search_by:i,start_index:r.startIndex,search_value:c,sort_ascending:"ASCENDING"===r.sortDirection},Number.isInteger(o=r.assetPermissionType)?{asset_permission_type:o}:{}),e.next=4,(0,E.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/members/").concat(n,"/assets/"),data:d});case 4:return p=e.sent,e.abrupt("return",p.resource_response);case 6:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)}),k=(l=N(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p,l,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.personId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"name":u,c=r.searchTerm,o=r.startIndex,d=r.sortDirection,p=r.assetPermissionType,l=S({limit:s,sort_by:a,search_by:i,start_index:o,search_value:c,sort_ascending:"ASCENDING"===d,type:h.tP.PROFILE},Number.isInteger(p)?{asset_permission_type:p}:{}),e.next=4,(0,E.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/members/").concat(n,"/assets/"),data:l});case 4:return f=e.sent,e.abrupt("return",f.resource_response);case 6:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),B=(f=N(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.personId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"name":u,c=r.searchTerm,o={page_size:s,sort_by:a,search_by:i,start_index:r.startIndex,search_value:c,sort_ascending:"ASCENDING"===r.sortDirection,resource_type:"ASSET_GROUP",asset_permission_type:r.assetPermissionType},e.next=4,(0,E.Z)({url:"ads/v4/business_access/businesses/".concat(t,"/members/").concat(n,"/assets/"),data:o});case 4:return d=e.sent,e.abrupt("return",d.resource_response);case 6:case"end":return e.stop()}},e)})),function(e){return f.apply(this,arguments)}),G=(m=N(regeneratorRuntime.mark(function e(r){var t,n,s,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.personId,s=r.assetId,e.next=3,(0,E.Z)({url:"ads/internal/business_access/businesses/".concat(t,"/members/").concat(n,"/assets/").concat(s,"/")});case 3:return a=e.sent,e.abrupt("return",a.resource_response);case 5:case"end":return e.stop()}},e)})),function(e){return m.apply(this,arguments)}),L=(_=N(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.businessId,a=r.memberId,u=r.assetId,i=r.businessHierarchyNodeId,c=r.roles,!(null!==(t=null===(n=(0,y.Z)())||void 0===n?void 0:n.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==t?t:{}).anyEnabled){e.next=9;break}return e.next=5,(0,E.Z)({url:"ads/v4/business_access/businesses/".concat(s,"/members/").concat(a,"/assets/").concat(u,"/access/"),method:"PUT",data:{permissions:c.includes("ADMIN")?["ADMIN"]:c,business_hierarchy_node_id:i}});case 5:return o=e.sent,e.abrupt("return",o.resource_response.data);case 9:return e.next=11,(0,E.Z)({url:"ads/internal/business_access/businesses/".concat(s,"/members/").concat(a,"/assets/").concat(u,"/access/"),method:"PUT",data:{finalRoles:c.includes("ADMIN")?["ADMIN"]:c,business_hierarchy_node_id:i}});case 11:return d=e.sent,e.abrupt("return",d.resource_response.data);case 13:case"end":return e.stop()}},e)})),function(e){return _.apply(this,arguments)}),j=(b=N(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.businessId,a=r.memberId,u=r.assetId,i=r.businessHierarchyNodeId,!(null!==(t=null===(n=(0,y.Z)())||void 0===n?void 0:n.experimentsClient.checkExperiment("business_access_assets_and_history_api_v4_migration"))&&void 0!==t?t:{}).anyEnabled){e.next=9;break}return e.next=5,(0,E.Z)({url:"ads/v4/business_access/businesses/".concat(s,"/members/").concat(a,"/assets/").concat(u,"/access/"),method:"DELETE",data:{business_hierarchy_node_id:i}});case 5:return c=e.sent,e.abrupt("return",c.resource_response.data);case 9:return e.next=11,(0,E.Z)({url:"ads/internal/business_access/businesses/".concat(s,"/members/").concat(a,"/assets/").concat(u,"/access/"),method:"DELETE",data:{business_hierarchy_node_id:i}});case 11:return o=e.sent,e.abrupt("return",o.resource_response.data);case 13:case"end":return e.stop()}},e)})),function(e){return b.apply(this,arguments)}),Z=(v=N(regeneratorRuntime.mark(function e(r){var t,n,s,a,u,i,c,o,d,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.businessId,n=r.assetId,s=r.limit,a=r.sortBy,i=void 0===(u=r.searchBy)?"FULL_NAME":u,c=r.searchTerm,o=r.startIndex,d=r.sortDirection,e.next=3,(0,E.Z)({url:"ads/v4/business_access/businesses/".concat(t,"/assets/").concat(n,"/members/"),method:"GET",data:{page_size:s,sort_by:a,search_by:i,search_value:c,start_index:o,sort_ascending:"ASCENDING"===d}});case 3:return p=S({data:void 0},e.sent.resource_response).data,e.abrupt("return",p);case 6:case"end":return e.stop()}},e)})),function(e){return v.apply(this,arguments)})},678108:function(e,r,t){t.d(r,{P:function(){return p},b:function(){return d}});var n,s,a=t(690108);function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function i(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach(function(r){var n;n=t[r],r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function c(e,r,t,n,s,a,u){try{var i=e[a](u),c=i.value}catch(e){t(e);return}i.done?r(c):Promise.resolve(c).then(n,s)}function o(e){return function(){var r=this,t=arguments;return new Promise(function(n,s){var a=e.apply(r,t);function u(e){c(a,n,s,u,i,"next",e)}function i(e){c(a,n,s,u,i,"throw",e)}u(void 0)})}}var d=(n=o(regeneratorRuntime.mark(function e(r){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.create("UserResource",{user_id:r}).callGet();case 2:return t=e.sent.resource_response.data,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}),p=(s=o(regeneratorRuntime.mark(function e(r){var t,n,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t=r.asset).agency_user_id||t.owner_user_id,e.next=4,d(n);case 4:return s=e.sent,e.abrupt("return",i(i({},r),{},{asset:i(i({},t),{},{creator:s.full_name})}));case 6:case"end":return e.stop()}},e)})),function(e){return s.apply(this,arguments)})},923917:function(e,r,t){t.d(r,{XI:function(){return a},YZ:function(){return i},rc:function(){return u},sU:function(){return d}});var n=t(658379);function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=Array(r);t<r;t++)n[t]=e[t];return n}function a(e){var r,t=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(!1))||function(e,r){var t,n,s=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=s){var a=[],u=!0,i=!1;try{for(s=s.call(e);!(u=(t=s.next()).done)&&(a.push(t.value),!r||a.length!==r);u=!0);}catch(e){i=!0,n=e}finally{try{u||null==s.return||s.return()}finally{if(i)throw n}}return a}}(r,2)||function(e,r){if(e){if("string"==typeof e)return s(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,r)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=t[0],u=t[1],i=function(){return u(!0)},c=function(){return u(!1)};return(0,n.useEffect)(function(){var r=e.current;return r&&(r.addEventListener("mouseenter",i),r.addEventListener("mouseleave",c)),function(){r&&(r.removeEventListener("mouseenter",i),r.removeEventListener("mouseleave",c))}}),a}var u=function(e){var r=(0,n.useRef)(e);return(0,n.useEffect)(function(){r.current=e}),r.current};function i(){var e=(0,n.useRef)(!0);return(0,n.useEffect)(function(){e.current=!1},[]),e.current}function c(e,r){return Object.is(e,r)}var o=Symbol("pre-initial value");function d(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{equal:c},t=r.equal,s=r.delta,a=(0,n.useRef)(o),u=a.current;return(0,n.useEffect)(function(){a.current=e}),{previousValue:u,changed:u===o||!(void 0===t?c:t)(u,e),delta:null==s?void 0:s(u,e)}}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/66218-0de04a5ee5c4e6fe.js.map