let darkBtn=document.querySelectorAll(".js-darkToggle"),darkSettingBtn=document.querySelectorAll(".js-darkSetter"),darkWrap=document.querySelector(".js-darkWrapper"),darkScheme=window.matchMedia("(prefers-color-scheme: dark)");function checkTheme(){let e=getDarkCookies("_mode");if("dark"==e||"light"==e){let t=document.querySelector(".js-darkToggle[data-dark='"+e+"']");t&&t.classList.add("-active"),document.body.classList.toggle("theme-"+e)}else{let e=document.querySelector(".js-darkToggle[data-dark='system']");e&&e.classList.add("-active")}}function setTheme(e){if(e){document.body.classList.remove("theme-dark"),document.body.classList.remove("theme-light"),darkBtn.forEach((function(e,t){e.classList.remove("-active")})),e.classList.add("-active");let t=e.getAttribute("data-dark"),a=document.querySelectorAll(".darkMsg");a&&a.forEach((function(e){e.contentWindow.postMessage(t,"*")})),"dark"==t||"light"==t?(document.body.classList.add("theme-"+t),setDarkCookies("_mode",t,365)):setDarkCookies("_mode",t,365)}}function toggleDarkSetting(e){e&&((" "+e.className+" ").replace(/[\n\t]/g," ").indexOf("-setting")>-1?(e.classList.remove("-setting"),document.body.classList.remove("-dark-sheet")):(e.classList.add("-setting"),document.body.classList.add("-dark-sheet")))}function setDarkCookies(e,t,a){var r=new Date;r.setTime(r.getTime()+24*a*60*60*1e3);var d="expires="+r.toGMTString();document.cookie=e+"="+t+";"+d+"; path=/; domain=kompas.com; SameSite=None; Secure"}function getDarkCookies(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),r=0;r<a.length;r++){for(var d=a[r];" "==d.charAt(0);)d=d.substring(1);if(0==d.indexOf(t))return d.substring(t.length,d.length)}return""}darkWrap&&(darkWrap.classList.add("-active"),checkTheme(),darkSettingBtn&&darkSettingBtn.forEach((function(e,t){e.addEventListener("click",(function(e){e.preventDefault(),toggleDarkSetting(darkWrap)}))})),document.addEventListener("click",(function(e){let t=document.querySelector(".-dark-sheet"),a=document.querySelectorAll(".js-darkSetter");t&&darkWrap&&(darkWrap.contains(e.target)||a[0].contains(e.target)||toggleDarkSetting(darkWrap))})),darkBtn&&darkBtn.forEach((function(e,t){e.addEventListener("click",(function(){toggleDarkSetting(darkWrap),setTheme(e)}))}))),window.addEventListener("message",(function(e){"string"==typeof e.data&&("system"==e.data&&(document.body.classList.remove("theme-dark"),document.body.classList.remove("theme-light")),"dark"!=e.data&&"light"!=e.data||(document.body.classList.remove("theme-dark"),document.body.classList.remove("theme-light"),document.body.classList.add("theme-"+e.data)))}));