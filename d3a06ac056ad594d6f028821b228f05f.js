!function(){"use strict";const t="undefined"!=typeof window?window:{benji:{},googletag:{cmd:[]},YAHOO:{}};["localhost","aol.com","aol.co.uk","aol.de","autoblog.com","cricket.yahoo.sportz.io","engadget.com","yahoo.com","yahoo.com.hk","yahoo.com.tw"].map((t=>`([\\.\\w\\-]+\\.)?${t.replace(/\./g,"\\.")}`)),["cricket.yahoo.net"].map((t=>t.replace(/\./g,"\\.")));const e="initialize",i="initialize_ack",s="initialize_i13n",n="intersect",o="render",r="resize_ad",a="start_ads",c="tab_focus",d="index",h=!0,l="bucket",g="cobrand",u="hashtag",f="lang",p="0",m="testid",y="ncid",b="fr",v="type",_="https://securepubads.g.doubleclick.net/tag/js/gpt.js",E="https://pagead2.googlesyndication.com/tag/js/gpt.js",C="https://opus.analytics.yahoo.com/tag/opus.js",I="script",R="gpt-tag",w="opus-script",S="text/javascript",T={adsFinishParse:"ads:finish:parse",caasArticle:"caas:article:init",caasSidekick:"caas:sidekick:init",darlaComplete:"darla:complete",waferFetch:"fetch:success",waferReady:"wafer:ready"},A=["enableCtrldSRABatch","headerBidding"],B={impressionViewable:"impressionViewable",slotOnload:"slotOnload",slotRenderEnded:"slotRenderEnded",slotRequested:"slotRequested",slotResponseReceived:"slotResponseReceived",slotVisibilityChanged:"slotVisibilityChanged"},k={limitedAds:!0,restrictDataProcessing:!0},P={nonPersonalizedAds:!0},L="benji:render",z={benjiReady:"benji:ready",tabFocus:"tabFocus",userAction:"userAction"},x=[l,g,f,"pd","lu","site","ver",u,"pct","pt","spaceid","lmsid","pstaid","mchnm","device","region","url","colo","pg_name","ncid","fr","frtype","axid"],F=["axid","colo","device","fr","frtype","lang","lmsid","lu","ncid","pct","pd","pg_name","pstaid","pt","region","site","ver"],M={_rid:"yrid",lpstaid:"pstaid",partner:g},j=["att","frontier","rogers"],N=[m,y,b,v],O={bucket:"bucket",hashtag:"hashtag"},D=["abk","axid",l,"partner","colo","device",f,"lu","region","site","ver"],U={att:"yhp",autos:"yautos",entertainment:"yent",finance:"yfin",fp:"yhp",gma:"ynews",lifestyle:"ylife",money:"yfin",movies:"ymov",music:"yent",news:"ynews",sports:"ysports",style:"ylife",tech:"ynews"},$=[u,"pct","pd","pg_name","pt","spaceid","lmsid","pstaid","lpstaid","mchnm","_rid","ticker","site","sck"],V={fetchMarginPercent:-1,mobileScaling:-1,renderMarginPercent:50},q="RENDER_SUCCEEDED",H="RENDER_FAILED",K="SLOT_REQUESTED";function G(e){const i=1e3*e,s=new CustomEvent(z.tabFocus);let n=!0,o=null;t.addEventListener("focus",(()=>{!n&&o&&Date.now()-o>i&&t.dispatchEvent(s),n=!0})),t.addEventListener("blur",(()=>{n=!1,o=Date.now()}))}const Q="gemini";function W(t,e,i){let s,n,o,r,a=-1;if("up"===i)for(s=t.top,n=t.bottom;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(t.left,a),o===e?n=a-1:s=a+1;else if("down"===i)for(s=t.top,n=t.bottom;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(t.left,a),o===e?s=a+1:n=a-1;else if("left"===i)for(s=t.left,n=t.right;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(a,t.top),o===e?n=a-1:s=a+1;else for(s=t.left,n=t.right;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(a,t.top),o===e?s=a+1:n=a-1;const c="up"===i||"left"===i?s:n;if(r="up"===i||"down"===i?document.elementFromPoint(t.left,c):document.elementFromPoint(c,t.top),r!==e)throw new Error("Element is completely obstructed "+i);return c}const Y=t=>{if(!t)return!1;if(!((e=t).offsetWidth||e.offsetHeight||e.getClientRects().length))return!1;var e;const i=t.getBoundingClientRect(),s=window.innerWidth,n=window.innerHeight;if(i.top>n||i.bottom<0||i.right<0||i.left>s)return!1;const o=i.left<0?1:i.left+1,r=i.right>s?s-1:i.right-1,a=i.top>0?i.top+1:1,c=i.bottom>n?n-1:i.bottom-1,d=i.height*i.width;if((c-a)*(r-o)/d<.5)return!1;if(function(t,e){const{left:i,top:s,bottom:n,right:o}=t,r=[[i,s],[i,n],[o,s],[o,n]];for(const[t,i]of r){const s=document.elementFromPoint(t,i);if(s!==e&&!e.contains(s))return!0}return!1}({bottom:c,left:o,right:r,top:a},t))try{const e=function(t,e,i){const{top:s,bottom:n,left:o,right:r}=t;try{const t=W({bottom:n,left:o,right:r,top:s},e,"up"),a=W({bottom:n,left:o,right:r,top:t},e,"down"),c=W({bottom:a,left:o,right:r,top:t},e,"left");return(a-t)*(W({bottom:a,left:c,right:r,top:t},e,"right")-c)/i}catch(t){return 0}}({bottom:c,left:o,right:r,top:a},t,d);return e>=.5}catch(t){return!1}return!0};function J(t){const e=window.document.getElementById(t);if(!e)return!1;const i=e?.querySelector("iframe")||e?.querySelector("div");return!(i&&i instanceof HTMLDivElement&&!i.id?.includes(Q))&&(i instanceof HTMLElement&&Y(i))}function X(t,e){let i=[];return"string"==typeof e?i=t.store.getRegionAdComponents(e):e?.forEach((e=>{const s=e.split(":"),n=s[0],o=s[1],r=n?.length,a=2===s.length&&r&&o?.length>0;r&&void 0===o?i.push(t.store.getAdComponentById(n)):a&&i.push(t.store.getAdComponent(n,o))})),i}const Z=(t,e)=>{if(t&&t.includes("${")){const i="yhp",s=e.region,n=e.site,o=U[n]||i;return t.replace(/\${REGION}/g,s.toLowerCase()).replace(/\${SITE}/g,o)}return t},tt=(t,e,i=1)=>{if(t?.id&&"string"==typeof t.id&&t.id.startsWith("sda-")&&(e?t.classList?.add("D(n)--landscape"):t.style?.setProperty("display","none")),t?.parentElement&&i<3)return i+=1,tt(t.parentElement,e,i)};const et={};const it="pointerup",st="scroll",nt="pointermove",ot="keydown";const rt=function(t,e){let i=0;return(...s)=>{const n=performance.now();if(!(n-i<e))return i=n,t(...s)}}((function(){const e=new CustomEvent(z.userAction);t.dispatchEvent(e)}),200);const at={},ct={},dt={},ht=[];function lt(){this.gpt.addEventListener(B.impressionViewable,(t=>{const e=t.slot.getSlotElementId(),i=ct[e];i&&i()})),this.gpt.addEventListener(B.slotVisibilityChanged,(t=>{const e=t.slot.getSlotElementId(),i=at[e];i&&i(t.inViewPercentage)}))}function gt(){[nt,it,st,ot].forEach((e=>{t.addEventListener(e,rt)})),t.addEventListener(z.userAction,(()=>{for(;ht.length>0;){const t=ht.pop();t&&t()}}))}class ut{action;duration;timerId;elapsedTime;constructor(t){const{action:e,duration:i}=t;this.action=e,this.duration=i,this.timerId=void 0,this.elapsedTime=0,this._resetElapsedTime()}getElapsedTime(){return this.elapsedTime}pause(){this._cancelElapse()}resume(){void 0===this.timerId&&0!==this.elapsedTime&&this._elapse()}start(){this._resetElapsedTime(),this._cancelElapse(),this._elapse()}stop(){this._resetElapsedTime(),this._cancelElapse()}_resetElapsedTime(){this.elapsedTime=0}_elapse(){this.timerId=t.setInterval((()=>{this.elapsedTime+=1,this.elapsedTime>=this.duration&&(this.stop(),this.action())}),1e3)}_cancelElapse(){clearInterval(this.timerId),this.timerId=void 0}}function ft(){this.timer?.start()}function pt(t){this.viewPercentage=t;!0===this.eligibleForTimedRefresh&&this.isInView()&&this.refresh()}function mt(){this.isInView()&&(this.timer?.start(),this.refresh())}class yt{containerMap;eligibleForTimedRefresh;features;gptComponent;id;isEdgeToEdge;kvs;metrics;ntsFallBack;refreshConfig;region;slot;store;timer;useSecure;viewPercentage;resizeConfig;disableRefresh;_fetchCount;_failureCount;_isIntersecting;constructor(t){const{containerMap:e,disableRefresh:i,features:s,gptComponent:n,kvs:o,ntsFallBack:r,refreshConfig:a,region:c,id:d,path:h,resizeConfig:l,size:g,store:u,useSecure:f}=t;if(this.containerMap=e,this.features=s,this.id=d,this.gptComponent=n,this.metrics={},this.ntsFallBack=r,this.refreshConfig=a,this.region=c,this.store=u,this.useSecure=f,this.viewPercentage=0,this._isIntersecting=!1,this._createSlot({id:d,path:h,size:g}),this._failureCount=0,this._fetchCount=0,o&&(this.kvs=o,this.gptComponent.setTargetingForSlot(this,o)),l&&(this.resizeConfig=l),!i&&this.refreshConfig.duration){this.eligibleForTimedRefresh=!1;const t=()=>{this.isInView()?this.refreshConfig.requireUserAction?ht.push((()=>this.refresh())):this.refresh():this.eligibleForTimedRefresh=!0},{duration:e}=this.refreshConfig;this.timer=new ut({action:t.bind(this),duration:e})}this.disableRefresh=i,this.store.add(c,d,this)}destroy(){this._unloadHandler(),this.timer&&(this.timer.stop(),delete this.timer),this.gptComponent.destroy([this.slot]),this.store.delete(this.region,this.id)}increaseFailureCount(){this._failureCount+=1}increaseFetchCount(){this._fetchCount+=1}isInitiallyLoaded(){return 1===this._fetchCount}isInView(){return this.useSecure?this._isIntersecting:J(this.id)&&this.viewPercentage>=50}getRenderCount(){return this._fetchCount-this._failureCount}refresh(){if(this.refreshConfig.limit&&this.refreshConfig.limit<=this.getRenderCount())return;this.viewPercentage=0;this.refreshConfig.sameSizeRefresh&&!function(t){const e=t?.getSizes();if(!e)return!1;for(let t=0;t<e.length;t++)if("fluid"===e[t])return!0;return!1}(this.slot)&&this.slot?.getSizes().length>1&&1===this._fetchCount?function(t){try{const{slot:e,features:i}=t,s=e.getSlotElementId(),n=document.getElementById(s);if(n instanceof HTMLElement){const s=n.children[0],o=s.children[0],r=t.isEdgeToEdge?s:o,a=!isNaN(parseInt(r.height)),c=!isNaN(parseInt(r.width)),d=a?parseInt(r.height):r.offsetHeight,h=c?parseInt(r.width):r.offsetWidth,l=e.getSizes();let g;for(let t=0;t<l.length;t++){const e=l[t];if(e.height===d&&e.width===h){g=[e.width,e.height];break}}if(void 0===g)return void t.gptComponent.refresh([t.slot]);if(t.isEdgeToEdge||(n.style.minHeight=`${d}px`),i?.enableSizeMapping)return t.gptComponent.enableSizeMappingForSlot(t,[0,0],g),void t.gptComponent.refresh([t.slot]);t.gptComponent.destroy([t.slot]);const u={id:t.id,path:t.slot.getAdUnitPath(),size:g};t.gptComponent.create(u,t),t.kvs&&t.gptComponent.setTargetingForSlot(t,t.kvs),t.renderSlot()}}catch(e){t.gptComponent.refresh([t.slot])}}(this):this.gptComponent.refresh([this.slot]),this.eligibleForTimedRefresh=!1}render(){this.disableRefresh||this._loadHandler(),this.renderSlot()}renderSlot(){this.gptComponent.render(this.useSecure&&this.containerMap?.[this.id]?this.containerMap[this.id]:this.id,this)}_createSlot(t){this.gptComponent.create(t,this)}_loadHandler(){this.useSecure||(at[this.id]=pt.bind(this),ct[this.id]=ft.bind(this),dt[this.id]=mt.bind(this))}_unloadHandler(){delete at[this.id],delete ct[this.id],delete dt[this.id]}}function bt(t){const e=[],{duration:i,limit:s,requireUserAction:n,sameSizeRefresh:o}=this.config.setting?.refresh||{},{feature:r}=this.config,a={duration:i,limit:s,requireUserAction:n,sameSizeRefresh:o},c=this.config.setting?.useSecure??!1;return Object.entries(t).forEach((([t,i])=>{const{id:s,size:n,region:o,resizeConfig:d,kvs:h,disableRefresh:l,ntsFallBack:g}=i,u=Z(i.path,this.i13nStore.currentI13n);if(void 0!==this.store.getAdComponent(o,t))return;const f=i.refresh,p=f?.requireUserAction??i.requireUserAction??a?.requireUserAction,m=f?.sameSizeRefresh??i.sameSizeRefresh??a?.sameSizeRefresh,y={...a,...f,requireUserAction:p,sameSizeRefresh:m},b={enableSizeMapping:r?.enableSizeMapping||!1},v={containerMap:this.containerMap,disableRefresh:l,features:b,gptComponent:this.gpt,id:s,kvs:h,ntsFallBack:g,path:u,refreshConfig:y,region:o,resizeConfig:d,size:n,store:this.store,useSecure:c},_=document?.getElementById(s);if(_){const t=new yt(v);e.push(t)}})),e}const vt="https://noa.yahoo.com/p",_t="unknown",Et=(t,e)=>{const{spaceid:i,...s}=e,n=Object.keys(s).map((t=>`${t}=${encodeURIComponent(s[t])}`)).join("&");return`${t}?s=${i}&t=${Date.now()}&_I=&_AO=0&_NOL=0&${n}`};function Ct(t={}){const{colo:e=_t,device:i=_t,lang:s=_t,partner:n=_t,region:o=_t,site:r=_t,src:a=_t,spaceid:c=_t}=t;return{spaceid:c,src:a,site:r,partner:n,lang:s,region:o,device:i,colo:e}}const It=(t,e)=>{const i={etag:"performance",etrg:"backgroundPost",outcm:"performance",usergenf:p},s={A_utm:JSON.stringify(t)},n=Et("https://geo.yahoo.com/p",{...i,...e,...s});return navigator.sendBeacon(n)},Rt=(t,e)=>{const i=Et(vt,{etrg:"backgroundPost",outcm:"gamMetric",...e,...t});return navigator.sendBeacon(i)},wt=(t,e)=>{const i=Et(vt,{etrg:"backgroundPost",outcm:"gamDebug",...e,...t});return navigator.sendBeacon(i)},St={};function Tt(e,i){const s=e.slot.getSlotElementId(),n=this.store.getAdComponentById(s),o=n?.kvs?.loc;if(!o)return;if(!n||n.getRenderCount()>1)return;if("index"!==n.region)return;const r=Math.round(t.performance.now()),a=i[s];if(void 0!==a)if(void 0===a?.gamFetchTime)a.gamFetchTime=r;else{a.gamRenderTime=r;const{benjiRequestStartTime:t,gamFetchTime:e,gamRenderTime:i}=a,s=Ct(this.config.i13n);It({[`GAM_${o.toUpperCase()}_BRSTIME`]:t,[`GAM_${o.toUpperCase()}_FTIME`]:e,[`GAM_${o.toUpperCase()}_RTIME`]:i},s)}}const At=function(e){const i=e?.id;if(!i)return;if(!e||e.getRenderCount()>1)return;const s=Math.round(t.performance.now());this[i]={benjiRequestStartTime:s}}.bind(St);function Bt(){const e=Ct(this.config.i13n),i=Math.round(t.performance.now());It({GAM_READY_TIME:i},e)}function kt(){const e=t.performance?.now;e&&(this.gpt.addCallbackToCmdQueue(Bt.bind(this)),this.gpt.addEventListener(B.slotRequested,(t=>{Tt.call(this,t,St)})),this.gpt.addEventListener(B.slotOnload,(t=>{Tt.call(this,t,St)})))}function Pt(t){t?.forEach((t=>{At(t),t.render()}))}function Lt(t){if(void 0===t){return void Pt(this.store.getRegionAdComponents(d))}Pt(bt.call(this,t))}function zt(t,e){if(t){const i=t.benjiAd?.slot,s=e&&i.id?function(t){return t+"-"+(new Date).getUTCMilliseconds()+"-benji-ad"}(i.id):i.id,n={id:s,path:i.path,region:i.region,size:i.size};return e&&e.elem&&(e.elem.id=s),n}}function xt(e){const i={};e&&(i[e.id]=e,Lt.call(t.benji,i))}const Ft={[T.caasArticle]:function(t){const e=zt(t&&t.meta&&t.meta.darlaConfig);e&&xt(e)}};const Mt={[T.darlaComplete]:function(t){const e=zt(t&&t.meta&&t.meta.darlaConfig,t);e&&xt(e)}};function jt(){const e=Ft[T.caasArticle],i=Mt[T.darlaComplete];t.wafer.ready((()=>{t.wafer.on(T.caasArticle,e),t.wafer.on(T.darlaComplete,i)}))}function Nt(t,e=!1){const i=e?E:_;(function(t){return!(!t.googletag||!t.googletag.apiReady)})(t)||Ot({id:R,tagSrc:i,WIN:t})}function Ot({tagSrc:t,id:e,WIN:i}){const s=i.document.createElement(I);s.type=S,s.src=t,s.id=e,i.document.head.append(s)}const Dt=/;\s/g,Ut=/([^=]+)=/i,$t=(t,e)=>{let i=null;return e=e.trim(),t.document?.cookie.split(Dt).some((t=>{let s,n;const o=t.match(Ut);if(Array.isArray(o))try{s=decodeURIComponent(o[1]),n=decodeURIComponent(t.substring(s.length+1))}catch(t){}return!(s!==e||!n)&&(i=n.trim(),!0)})),i},Vt=t=>$t(t,"gam_id")||"",qt=t=>{const e=(t=>$t(t,"axids")||"")(t);return new URLSearchParams(e).get("dv360")};function Ht(t,e){let i=Vt(e);const s=Wt(e,m),{allowOnlyNonPersonalizedAds:n,allowOnlyLimitedAds:o}=t.config.setting?.consent||{},r=!n&&!o;(n||o)&&(i="");const{age:a=0,gender:c=""}=r&&t.config.setting?.userInfo||{},d=function(t,{age:e,axid:i,gender:s,i13n:n,testid:o}){const r={};Kt(D,n,r),Kt($,n,r),i&&(r.axid=Gt(i)),o&&(r.testid=Gt(o)),e&&(r.bka=function(t){const e=[18,21,25,35,45,50,55,65,101].findIndex((e=>t<e));return-1===e?p:`${e}`}(e)),s&&"f"===s&&(r.bkg="1"),s&&"m"===s&&(r.bkg="2"),r.abk&&(r.abk="1"===r.abk?"other":"2"===r.abk?"abp":r.abk),r&&Object.keys(r).length&&t.setTargeting(r);return r}(t.gpt,{age:a,axid:i,gender:c,i13n:t.config.i13n,testid:s}),h=function(t){const e={},i=Wt(t,y);i&&(e.ncid=i);const s=Wt(t,b);if(s){e.fr=s;const i=Wt(t,v);i&&(e.frtype=i)}return e}(e);t.i13nStore.updateCurrent(d),t.hbc.activated&&d&&t.gpt.getTargetings(x,(e=>{t.hbc?.sendMnetKvs(e,{...d,...h})}))}function Kt(t,e,i){e&&"object"==typeof e&&!Array.isArray(e)&&0!==Object.keys(e).length&&t.forEach((t=>{if(e[t]){let s=t,n=Gt(e[t]);M.hasOwnProperty(t)&&(s=M[t]),"site"===t&&e.partner&&j.includes(e.partner)&&(n=`${n}_${e.partner}`),i[s]=n,O.hasOwnProperty(t)&&(i[s]=Qt(i[s]))}}))}function Gt(t){return"number"==typeof t?`${t}`:t}function Qt(t){return"string"==typeof t?t.split(/[;,]+/):t}function Wt(t,e){if(!N.includes(e))return null;return new URLSearchParams(t.location?.search).get(e)}const Yt=t=>{const e=document.getElementById(t);e?.style.setProperty("display","none"),e?.parentElement&&tt(e.parentElement)};const Jt={[B.slotRenderEnded]:function(t){if(t&&t.isEmpty){const e=t?.slot?.getSlotElementId(),i=this.store.getAdComponentById(e);if(i){if(this.nts.activated&&i.ntsFallBack?.position)return;i.destroy()}Yt(e)}}};function Xt(){const t=Jt[B.slotRenderEnded];this.gpt.addEventListener(B.slotRenderEnded,t.bind(this))}const Zt=(t,e)=>{t.dispatchEvent(new CustomEvent(T.adsFinishParse,{detail:{positions:e}}))},te={BTN:"BTNA","BTN-1":"BTNB","BTN-2":"BTNC","BTN-3":"BTND"},ee={BTN:{},"BTN-1":{},"BTN-2":{},"BTN-3":{},BTNA:{},BTNB:{},BTNC:{},BTND:{},FB2A:{},FB2B:{},FB2C:{},FB2D:{}};let ie=0,se=0;function ne(e){if(e){let i=e?.slot?.getSlotElementId();i=i.replace(/default|sda-|-sizer/gi,""),i=te[i]||i,ee[i]&&(ie++,e.isEmpty?e.isEmpty&&(ee[i].validAd=!1):ee[i].validAd=!0),ie===se&&(Zt(t,ee),ie=0)}}function oe(){Object.keys(this.config.positions).forEach((t=>{t.includes("BTN")&&se++})),this.gpt.addEventListener(B.slotRenderEnded,(t=>{ne.call(this,t)}))}function re(t){const e=t?.slot?.getSlotElementId(),i=document.getElementById(e);if(t?.size&&Array.isArray(t?.size)&&t?.size.length>=2){const e=t?.size[1],s=i?.clientHeight;e!==s&&i?.style.setProperty("min-height",e+"px")}}function ae(){const t=re;this.gpt.addEventListener(B.slotRenderEnded,t.bind(this))}const ce="INITIAL_RENDER_FAILURE",de="REFRESH_RENDER_FAILURE",he="REFRESH_RENDER",le="INITIAL_RENDER",ge={ads_failure_total:0,ads_fetch_total:0,ads_refresh_total:0,ads_slot_right_failure:0,ads_slot_right_total:0,ads_slot_top_failure:0,ads_slot_top_total:0};function ue(t,e){if(void 0===e.kvs||void 0===e.kvs.loc)return;const i=function(t){switch(t){case"top_right":return"right";case"top_center":return"top";default:return}}(e.kvs.loc);if(void 0===i)return;let s;return s=!0===t.isEmpty?e.isInitiallyLoaded()?ce:de:e.isInitiallyLoaded()?le:he,function(t,e){const i={...ge};switch(i[`ads_slot_${e}_total`]=1,t){case le:return i.ads_fetch_total=1,i;case he:return i.ads_refresh_total=1,i;case ce:i.ads_failure_total=1,i[`ads_slot_${e}_failure`]=1;case de:return i[`ads_slot_${e}_failure`]=1,i}}(s,i)}function fe(){this.gpt.addEventListener(B.slotRenderEnded,(t=>{const e=t.slot.getSlotElementId(),i=this.store.getAdComponentById(e);if(void 0===i)return;const s=ue(t,i);void 0!==s&&Rt(s,Ct(this.config.i13n))}))}function pe(){this.gpt.addEventListener(B.slotRenderEnded,(t=>{const e=t.slot.getSlotElementId(),i=this.store.getAdComponentById(e);if(void 0===i)return;const s=function(t,e){const{id:i}=e,s=e.getRenderCount(),n=s>1?"true":"false",o=e.kvs?.loc?e.kvs.loc:"undefined",r=t.isEmpty?"failed":"succeeded";return{id:i,isRefresh:n,loc:Array.isArray(o)?o[0]:o,renderCount:s,status:r}}(t,i);wt(s,function(t,e){const{setting:{consent:{allowOnlyNonPersonalizedAds:i,allowOnlyLimitedAds:s}={allowOnlyLimitedAds:!1,allowOnlyNonPersonalizedAds:!1}},i13n:n}=t,{currentI13n:{pd:o=_t,pt:r=_t}}=e,{bucket:a=_t,colo:c=_t,device:d=_t,lang:h=_t,partner:l=_t,region:g=_t,site:u=_t,src:f=_t,spaceid:p=_t,_rid:m=_t}=n;return{spaceid:p,src:f,site:u,partner:l,lang:h,region:g,device:d,colo:c,bucket:Array.isArray(a)?a.join(","):a,rid:m,limitedAds:s,NPA:i,pd:o,pt:r}}(this.config,this.i13nStore))}))}function me(t,e){const i=document.getElementById(t);if(!i)return;const s=i?.children[0],n=s?.children[0];if(Array.isArray(e)){const t=e.find((t=>!0===t.isEligibleForResize));if(!t)return;e=t}const o=window.innerWidth,r=e.breakpoints;let a,c=!0;for(const t in r)if(n&&t){const e=t.split(","),d=Number(e[0]),h=Number(e[1]);if(o>=d&&o<=h){const e=r[t];a=o*e[1]/e[0],c&&(i.setAttribute("style",`min-height: ${a}px;`),c=!1),s.style.display="block",n.height=a.toString(),n.width=o.toString()}}}function ye(t){const e=t.slot.getSlotElementId(),i=this.store.getAdComponentById(e),s=i?.resizeConfig;if(void 0===i)return;let n=!1;Array.isArray(s)?s.forEach((t=>{r(t)})):s&&r(s),i.isEdgeToEdge=n;const o="smartphone"===this.config.i13n?.device;function r(e){t.size&&e?.size[0]===t.size[0]&&e?.size[1]===t.size[1]?(n=!0,e.isEligibleForResize=!0):e.isEligibleForResize=!1}if(i.isEdgeToEdge&&i.resizeConfig){const t=document.getElementById(e);t&&(t.setAttribute("class",""),o&&(a=t,a.classList?.add("D(n)--landscape"),a.parentElement&&tt(a.parentElement,!0))),me(i.id,i.resizeConfig),1===i.getRenderCount()&&function(t){window.addEventListener("resize",(()=>{t.isEdgeToEdge&&t.resizeConfig&&me(t.id,t.resizeConfig)}))}(i)}var a}function be(){this.gpt.addEventListener(B.slotRenderEnded,(t=>{ye.call(this,t)}))}function ve(){this.gpt.addEventListener(B.slotRequested,(t=>{const e=t.slot.getSlotElementId();this.nts.activated&&this.nts.unmonitorPosition(e);const i=this.store.getAdComponentById(e);i?.increaseFetchCount();const s={data:{id:t.slot.getSlotElementId()},name:K};et[K]&&et[K].forEach((t=>{t(s)}))})),this.gpt.addEventListener(B.slotRenderEnded,(t=>{const e=t.slot.getSlotElementId(),i=this.store.getAdComponentById(e);if(function(t){if(void 0===t)return;const e=`${t.getRenderCount()}`;t.gptComponent.setTargetingForSlot(t,{ri:e})}(i),t.isEmpty){const e=this.i13nStore?.currentI13n?.spaceid;i?.increaseFailureCount();const s=i?.ntsFallBack?.position;this.nts.activated&&s&&e&&this.nts.getFallbackPosition(i,s,e);const n={data:{id:t.slot.getSlotElementId()},name:H};et[H]&&et[H].forEach((t=>{t(n)}))}else{const e=function(t){const{slot:e,size:i}=t;return{data:{id:e.getSlotElementId(),size:i},name:q}}(t);et[q]&&et[q].forEach((t=>{t(e)}))}}))}const _e={gpt:new class{_googletag;features;constructor(){return this.features={},this._googletag={},this._googletag.cmd=[],void 0!==t&&(t.googletag?this._googletag=t.googletag:t.googletag=this._googletag),this}addCallbackToCmdQueue(t){this._googletag.cmd.push((()=>{t()}))}addEventListener(t,e){this._googletag.cmd.push((()=>{this._googletag.pubads().addEventListener(t,e)}))}create(t,e){const{path:i,size:s,id:n}=t;this._googletag.cmd.push((()=>{const t=this._googletag.defineSlot(i,s,n).addService(this._googletag.pubads());e.slot=t}))}clearTargeting(t){this._googletag.cmd.push((()=>{0!==this._googletag.pubads().getTargeting(t).length&&this._googletag.pubads().clearTargeting(t)}))}destroy(t){this._googletag.cmd.push((()=>{this._googletag.destroySlots(t)}))}enableLazyLoad(t){this._googletag.cmd.push((()=>{const e={...V,...t};this._googletag.pubads().enableLazyLoad({fetchMarginPercent:e.fetchMarginPercent,mobileScaling:e.mobileScaling,renderMarginPercent:e.renderMarginPercent})}))}enableSizeMappingForSlot(t,e,i){this._googletag.cmd.push((()=>{const s=this._googletag.sizeMapping().addSize(e,i).build();t.slot?.defineSizeMapping(s)}))}refresh(t){this._googletag.cmd.push((()=>{this._googletag.pubads().refresh(t)}))}render(t,e){this._googletag.cmd.push((()=>{this.features.enableCtrldSRABatch&&this.features.headerBidding&&e&&e.slot?this._googletag.pubads().refresh([e.slot]):this._googletag.display(t)}))}setPrivacySettings(t){this._googletag.cmd.push((()=>{this._googletag.pubads().setPrivacySettings(t)}))}setPublisherProvidedId(t){this._googletag.cmd.push((()=>{this._googletag.pubads().setPublisherProvidedId(t)}))}setupGPTService(t){this.features=t,this._googletag.cmd.push((()=>{this.features.enableCtrldSRABatch&&this.features.headerBidding&&this._googletag.pubads().disableInitialLoad(),this._googletag.pubads().enableSingleRequest(),this._googletag.pubads().setForceSafeFrame(!0),this._googletag.enableServices()}))}setTargeting(t){this._googletag.cmd.push((()=>{Object.keys(t).forEach((e=>{this._googletag.pubads().setTargeting(e,t[e])}))}))}setPageUrl(t){this._googletag.cmd.push((()=>{this._googletag.pubads().get("page_url")!==t&&this._googletag.pubads().set("page_url",t)}))}getTargetings(t,e){this._googletag.cmd.push((()=>{const i={};t.forEach((t=>{i[t]=this._googletag.pubads().getTargeting(t).join(",")})),e&&e(i)}))}setTargetingForSlot(t,e){this._googletag.cmd.push((()=>{Object.keys(e).forEach((i=>{const s=e[i];t.slot.setTargeting(i,s),void 0===t.kvs&&(t.kvs={}),t.kvs[i]=s}))}))}collapseEmptyDivs(t){this._googletag.cmd.push((()=>{this._googletag.pubads().collapseEmptyDivs(t)}))}},hbc:new class{_advBidxc;yhDn="hb.yahoo.net";activated=!1;constructor(){return this._advBidxc={},this._advBidxc.version=12.1,this._advBidxc.execute=[],this}start(e){const{axids:i,i13n:s,customerId:n,limitedAds:o}=e;this.activated=!0,this._advBidxc.customerId=n;const r={device:s.device??"",lang:s.lang??"",region:this.setRegion(s),section:this.setSection(s),site:s.site??""};return i&&i.dv360&&(r.axid_e=i.dv360),this._advBidxc.mchnm=s.mchnm??"",this._advBidxc.startTime=(new Date).getTime(),this._advBidxc.timeout=1e3,this._advBidxc.limitedAds=o,this._advBidxc.isAdServerLoaded=!1,this._advBidxc.pub=r,void 0!==t&&(this._advBidxc.domain=t.location.hostname,t.advBidxc?this._advBidxc=t.advBidxc:(this._advBidxc.loadGPT=setTimeout((()=>this.loadGPT()),1e3),t.advBidxc=this._advBidxc,this.loadMNETScript())),this}loadGPT(){t.advBidxc&&!t.advBidxc.isAdServerLoaded&&(Nt(t,t.advBidxc.limitedAds),t.advBidxc.isAdServerLoaded=!0)}loadMNETScript(){Ot({id:"mnet-script",tagSrc:"https://"+this.yhDn+"/bidexchange.js?cid="+this._advBidxc.customerId+"&version="+this._advBidxc.version+"&dn="+this._advBidxc.domain+"&ysection="+encodeURIComponent(this._advBidxc.pub?.section)+"&yregion="+encodeURIComponent(this._advBidxc.pub?.region)+"&ylang="+encodeURIComponent(this._advBidxc.pub?.lang)+"&ysite="+encodeURIComponent(this._advBidxc.pub?.site)+"&ydevice="+encodeURIComponent(this._advBidxc.pub?.device),WIN:t})}setSection(t){const{pt:e}=t;return"home"===e?"main":"utility"===e?"utility":"ros"}setRegion(t){const e=t.region,i=t.lang;if(e)return e;if(i){const t=i.toLocaleLowerCase().split("-");return t[1]??t[0]}return this._advBidxc.pub?.region||""}limitDataProcessing(){this._advBidxc.execute.push((()=>{this._advBidxc.limitDataProcessing(!0)}))}updateMNETKVS(t){const{url:e,...i}=t;this._advBidxc.execute.push((()=>{this._advBidxc.update({pub:{...i},url:e})}))}getMnetKVs(t,e){const i={};return x.forEach((s=>{e.hasOwnProperty(s)?i[s]=Gt(e[s]):i[s]=t[s]||""})),""===i.lu&&(i.lu=p),Array.isArray(i.hashtag)&&(i.hashtag=i.hashtag.join(",")),Array.isArray(i.bucket)&&(i.bucket=i.bucket.join(",")),""===i.hashtag&&delete i.hashtag,i}createPublisherBlob(t){const e={};for(const i of F)void 0!==t[i]&&""!==t[i]&&(e[i]=t[i]);return[Object.entries(e).map((t=>t.join(":"))).join(";"),"",t.spaceid,"","","",t.bucket,""].join("|")}sendMnetKvs(t,e){const i=this.getMnetKVs(t,e),{bucket:s,cobrand:n,hashtag:o}=i,r=i.lang,a=i.site||this._advBidxc.pub?.site,c=this.createPublisherBlob(i),d=i.hashtag?{k5:{key:u,value:o}}:{},h={k1:{key:"publisherblob",value:c},k2:{key:l,value:Gt(s)},k3:{key:g,value:n},k4:{key:f,value:r},...d,k8:{key:"site",value:a}};this.setCustomMNETKeyValues(h);const p=i.mchnm||this._advBidxc.mchnm,m=this.setSection(i),y=this.setRegion(i),b=i.device||this._advBidxc.pub?.device,v=i.url||"";this.updateMNETKVS({device:b,lang:r,mchnm:p,region:y,section:m,site:a,url:v})}setCustomMNETKeyValues(t){this._advBidxc.execute.push((()=>{this._advBidxc.setCustomKeyValues(t)}))}},i13nStore:new class{currentI13n={};regions={};constructor(){return this}updateCurrent(t){this.currentI13n={...this.currentI13n,...t};const e=t.pstaid??t.lpstaid;e&&this.putRegion(e,t)}clearKeysFromCurrent(t){t.forEach((t=>{this.currentI13n[t]&&delete this.currentI13n[t]}))}putRegion(t,e){this.regions[t]?this.regions[t]={...this.regions[t],...e}:this.regions[t]=e}getRegion(t){return this.regions[t]}getKeyDifferences(t){return Object.keys(t).reduce(((e,i)=>{let s=t[i],n=this.currentI13n[i];return O.hasOwnProperty(i)&&(s=Qt(s).join(","),n=Array.isArray(n)?n.join(","):n),this.currentI13n.hasOwnProperty(i)?s!==n&&(e[i]=t[i]):e[i]=t[i],e}),{})}},nts:new class{activated=!1;activePositions=[];activeScriptSrcs=[];_observer={};_AD_TEMPLATE_URL="https://nts.media.yahoo.com/api/v2/template?spaceid=${SPACEID}&adPositions=";constructor(){}start(){this.activated=!0,this._observer=new IntersectionObserver(this.handleIntersection,{threshold:[.1,.2,.3,.4,.5,.6,.7,.8,.9,1]})}destroyAndCollapsePosition(t){this.unmonitorPosition(t.id),Yt(t.id),t.destroy()}handleIntersection=t=>{t.forEach((t=>{const{target:e,intersectionRatio:i}=t,s=e.id,n=at[s];n&&n(100*i)}))};triggerAdImpressionViewable(t){const e=t.id,i=ct[e];i&&i()}fetchTemplate(t){return fetch(t).then((t=>{if(t.ok)return t.json();throw new Error("Network response was not ok.")})).then((t=>{if(!t.ads||!t.ads.length)throw new Error("No ads found");const{template:e,adSize:i}=t.ads[0],[s,n]=i.split("x");return{height:n,template:e,width:s}}))}unmonitorPosition(t){const e=document.getElementById(t);e&&this._observer.unobserve(e)}monitorPosition(t){t&&(this.triggerAdImpressionViewable(t),this._observer.observe(t))}getBlobURL(t){const e=new Blob([t],{type:"text/html"});return URL.createObjectURL(e)}addTemplateToAdContainer(t,e){const{template:i,width:s,height:n}=e,o=this.getBlobURL(i),r=document.createElement("iframe");r.width=(Number(s)+10).toString(),r.height=(Number(n)+10).toString(),r.style.border="none",r.sandbox="allow-scripts allow-popups",r.src=o,r.scrolling="no",t.innerHTML="",t.appendChild(r),URL.revokeObjectURL(o)}getFallbackPosition(t,e,i){const s=document.getElementById(t.id);if(!s)return Promise.reject();const n=this._AD_TEMPLATE_URL.replace("${SPACEID}",i)+e;return this.fetchTemplate(n).then((t=>{this.addTemplateToAdContainer(s,t),this.monitorPosition(s)})).catch((()=>(this.destroyAndCollapsePosition(t),null)))}},secureController:new class{config;_iframe;_iframeReady;_observer;_commandQueue;targetOrigin;constructor(){this.config={},this._iframeReady=!1,this._commandQueue=[],this.targetOrigin="https://s.yimg.com"}handlePostMessage=t=>{if(t.origin!==this.targetOrigin)return;const{type:e}=t.data;switch(e){case i:this._iframeReady=!0;for(let t=0;t<this._commandQueue.length;t++)this.postMessageToIframe({payload:this._commandQueue[t][1],type:this._commandQueue[t][0]});this._commandQueue=[];break;case r:const{id:e,size:s}=t.data.payload;if(s&&Array.isArray(s)){const t=document.getElementById(e);t?.querySelector("iframe")?.setAttribute("style",`width:${s[0]}px;height:${s[1]}px;border:0px;margin:0;`)}}};handleIntersection=t=>{const e=t.map((t=>({id:t.target.id,intersectionRatio:t.intersectionRatio,isIntersecting:t.isIntersecting,isVisible:t.isVisible,time:t.time})));this._iframeReady?this.postMessageToIframe({payload:e,type:n}):this._commandQueue.push([n,e])};handleTabFocus=()=>{this.postMessageToIframe({payload:!0,type:c})};createGPTIframe(){this._iframe=document.createElement("iframe"),this._iframe.setAttribute("src",`https://s.yimg.com/aaq/benji-safe/1.0.70/gpt.html?o=${encodeURIComponent(t.location.origin)}`),this._iframe.onload=()=>{this.initIframe(),this.initPagei13n()},this._iframe.style.display="none",document.body.appendChild(this._iframe)}createIframes(t){const{positions:e}=t;Object.keys(e).forEach((t=>{const e=document.getElementById(t);if(!e?.querySelector("iframe")){this._observer?.observe(e);const i=document.createElement("iframe");i.setAttribute("src",`https://s.yimg.com/aaq/benji-safe/1.0.70/sda.html?p=${t}`),i.setAttribute("scrolling","no"),i.setAttribute("style","border:0px;margin:0px;");document.createElement("div").id=t,e?.appendChild(i)}}))}init(e){if("undefined"!=typeof window){if(this.config=e,!this._iframe){window.addEventListener("message",this.handlePostMessage),this._observer=new IntersectionObserver(this.handleIntersection,{threshold:.5});const{tabFocus:e}=this.config.setting.refresh;if(e){const{outOfFocusDuration:i}=e;t.addEventListener(z.tabFocus,this.handleTabFocus),G(i)}this.createGPTIframe()}this.createIframes(e)}}initIframe(){this.postMessageToIframe({payload:{config:this.config},type:e})}initPagei13n(){this.postMessageToIframe({payload:{},type:s})}render(t){this._iframeReady?this.postMessageToIframe({payload:{config:t},type:o}):this._commandQueue.push([o,{config:t}])}start(t){this.init(t),this._iframeReady?this.postMessageToIframe({type:a}):this._commandQueue.push([a,{config:t}])}postMessageToIframe(t){this._iframe?.contentWindow?.postMessage(t,this.targetOrigin)}},store:new class{constructor(){return this}add(t,e,i){return void 0===this[t]?(this[t]={[e]:i},i):void 0===this[t][e]?(this[t][e]=i,i):void 0}delete(t,e){this[t]&&this[t][e]&&delete this[t][e]}getAdComponent(t,e){if(void 0!==this[t])return this[t][e]}getAdComponentById(t){const e=Object.entries(this);for(let i=0;i<e.length;i++){const[,s]=e[i];if(void 0!==s[t])return s[t]}}getRegionAdComponents(t){return"object"==typeof this[t]?Object.values(this[t]):[]}},on:function(t,e){(function(t){return t===q||t===H||t===K})(t)&&(et[t]||(et[t]=[]),et[t].push(e))},start:function(e){this.config={...e,event:e.event||{},feature:e.feature||{},i13n:e.i13n||{},setting:e.setting||{}},void 0===this.config.setting.tracking?.performance&&(this.config.setting.tracking={...this.config.setting.tracking,performance:true}),ve.call(this),!0===this.config.setting.tracking?.performance&&kt.call(this),!0===this.config.setting.tracking?.metrics&&fe.call(this),!0===this.config.setting.tracking?.debug&&pe.call(this);const{feature:{headerBidding:i,enableNTSFallback:s},setting:{headerBidder:n}}=this.config,o=((t="")=>("string"==typeof t?Array.from(t).map((t=>t.charCodeAt(0).toString(16))).join(""):"").substring(0,150))(Vt(t)),r=qt(t),{useSecure:a=!1}=this.config.setting,{allowOnlyNonPersonalizedAds:c,allowOnlyLimitedAds:d}=e.setting?.consent||{},l=e.setting?.allowOnlyLimitedAds||d,g=!c&&!l;if(i&&n?.customerId){const t={customerId:n.customerId,i13n:this.config.i13n,limitedAds:!!l};g&&(t.axids={dv360:r}),this.hbc.start(t)}else Nt(t,!!l);s&&this.nts.start();const u={};if(this.config.feature&&A.forEach((t=>{this.config.feature[t]&&(u[t]=this.config.feature[t])})),this.gpt.setupGPTService(u),!a&&(Ht(this,t),this.config.setting.refresh)){lt.call(this);const{tabFocus:e,requireUserAction:i}=this.config.setting.refresh;if(e){const{outOfFocusDuration:i}=e;G(i),t.addEventListener(z.tabFocus,(()=>{Object.keys(dt).forEach((t=>{(0,dt[t])()})),ht.length=0}))}i&&gt()}!o||c||l||this.gpt.setPublisherProvidedId(o),c?this.gpt.setPrivacySettings(P):l&&(this.gpt.setPrivacySettings(k),this.hbc.activated&&this.hbc.limitDataProcessing()),!0===this.config.setting.lazyLoad?this.gpt?.enableLazyLoad():this.config.setting.lazyLoad&&this.gpt?.enableLazyLoad(this.config.setting.lazyLoad);const{positions:f}=this.config;a?this.secureController.start(this.config):bt.call(this,f);const{setting:{renderOnStart:p=h}}=this.config;!0===p&&t.addEventListener("DOMContentLoaded",(()=>{a?this.secureController.render():Lt.call(this)})),t.addEventListener(L,(t=>{const e=t.detail;a?this.secureController.render(e.positions):Lt.call(this,e.positions)})),t.wafer?jt():t.addEventListener(T.waferReady,(function(){jt()})),!1!==this.config.feature?.collapseWhenNoFill&&Xt.call(this),!1!==this.config.feature?.adjustMinHeight&&ae.call(this),!1!==this.config.feature?.enableEdgeToEdge&&be.call(this),this.config.feature?.fireBrokerButtonEvent&&oe.call(this),function(t){Ot({id:w,tagSrc:C,WIN:t})}(t),(t=>{const e=new CustomEvent(z.benjiReady);t.dispatchEvent(e)})(t),this.isReady=!0}};_e.render=Lt,_e.refresh=function(t,e){const i=X(this,t);i?.forEach((t=>{(!e?.checkViewport||e?.checkViewport&&J(t?.id))&&t?.refresh()}))},_e.destroy=function(t){const e=X(this,t);e?.forEach((t=>{t?.destroy()}))},_e.updateI13N=function(t,e=[]){if(!t||"object"!=typeof t)return;const i=this.i13nStore.getKeyDifferences(t);(Object.keys(i).length||e.length)&&function(t,e,i){const{gpt:s,hbc:n}=t,o={};let r;e&&e.url&&(r=e.url,s.setPageUrl(r)),Kt($,e,o),i&&i.length&&"string"!=typeof i&&(i?.forEach((t=>{s.clearTargeting(t)})),t.i13nStore.clearKeysFromCurrent(i)),Object.keys(o).length>0&&(s?.setTargeting(o),t.i13nStore.updateCurrent(o),n.activated&&s.getTargetings(x,(t=>{n.sendMnetKvs(t,{...o,url:r})})))}(this,i,e)},_e.isReady=!1;const Ee=_e;!function(){if(t){const e=t.benji?.config&&Object.assign({},t.benji?.config);t.benji=Ee,e&&t.benji.start(e)}}()}();
//# sourceMappingURL=benji-1.0.70.js.map
