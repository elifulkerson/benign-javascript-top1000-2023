window.Ya&&Ya.Rum&&Ya.Rum.time&&Ya.Rum.time("2095"),function(){var t,e,n,i={150:function(t){t.exports=function(t){if(!t)return"";var e,n,i="";for(e in t)t.hasOwnProperty(e)&&(n=t[e],/^_temp/.test(e)&&"string"==typeof n?i+=" "+n:(n||0===n)&&(!0===n?i+=" "+e.toLowerCase():(n=n.toString(),/"/.test(n)&&(n=n.replace(/"/g,"&quot;")),i+=" "+e.toLowerCase()+'="'+n+'"')));return i}},9735:function(t){function e(t){return"boolean"!=typeof t&&null!=t?Array.isArray(t)?t.join(""):t:""}t.exports=function(t){return t.map(e).join("")},t.exports.oneElem=e},4100:function(){BEM.DOM.decl({block:"dist-popup",modName:"hide",modVal:"on-scroll"},{_onShow:function(){var t=this;this.__base.apply(this,arguments),this._onScroll=function(){var e;window.pageYOffset>250&&(null===(e=t.popup)||void 0===e||e.hide(),t.channel("i-scroll-event").un("scroll",t._onScroll))},this.channel("i-scroll-event").on("scroll",this._onScroll)},_onNoClick:function(){return this.channel("i-scroll-event").un("scroll",this._onScroll),this.__base.apply(this,arguments)},destruct:function(){return this.channel("i-scroll-event").un("scroll",this._onScroll),this.__base.apply(this,arguments)}})},4772:function(){BEM.DOM.decl({block:"dist-popup",modName:"position",modVal:"bottom-left"},{_getPopupPosition:function(){var t;return{top:window.innerHeight-(null!==(t=this.domElem.height())&&void 0!==t?t:0)-25,left:18}}},{})},6895:function(){BEM.decl("i-metrika",{},{add:function(t){var e=(t=t||{}).id;if(!e)throw new Error("i-metrika: Counter id wasn't passed");var n=$.Deferred();try{window["yaCounter"+e]?n.resolve(window["yaCounter"+e]):(window["yaCounter"+e]=new window.Ya.Metrika(t),$(document).one("yacounter"+e+"inited",(function(){n.resolve(window["yaCounter"+e])})))}catch(i){n.reject()}return n.promise()}})},10:function(){BEM.DOM.decl("popup",{_getPosOf:function(t){var e,n=t.offset();return n?(this._getPosOfTmpElem||(this._getPosOfTmpElem=$('<div class="popup__getposoffix" style="position:absolute;left:0;top:0">').appendTo("body")),e=this._getPosOfTmpElem.offset(),n.left-=e.left,n.top-=e.top,n):{left:0,top:0}}})},3595:function(){BEM.decl("suggest2-view",{_getItemByType:function(t,e,n,i){var o,r;return"email"===n?(o=[],(r=i.js).email=t[1],o.push({elem:"email",content:BEM.blocks["i-common__string"].escapeHTML(t[1])}),$.extend({block:"suggest2-item",mods:i.mods,js:r,content:o},i.props)):this.__base.apply(this,arguments)}})},4403:function(){BEM.DOM.decl("suggest2",{_doRequest:function(){(this._ignoredFirstRequest||"request"===this.params.onFocus||this._input.val())&&this.__base.apply(this,arguments),this._ignoredFirstRequest=!0}})},6124:function(){"undefined"!=typeof home&&home.loadManager&&home.loadManager.trigger("js")},8589:function(){window.home=window.home||{}},1418:function(){
/**
 * leftClick event plugin
 *
 * Copyright (c) 2010 Filatov Dmitry (alpha@zforms.ru)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * @version 1.0.0
 */
!function(t){var e=t.event.special.leftclick={setup:function(){t(this).bind("click",e.handler)},teardown:function(){t(this).unbind("click",e.handler)},handler:function(e){e.button||(e.type="leftclick",t.event.dispatch.apply(this,arguments),e.type="click")}}}(jQuery)},8274:function(){BEM.KEYS={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,SPACE:32,ESC:27,TAB:9,HOME:36,END:35},function(){var t={};for(var e in BEM.KEYS)BEM.KEYS.hasOwnProperty(e)&&(t[BEM.KEYS[e]]=e);var n={CTRL:"ctrlKey",ALT:"altKey",SHIFT:"shiftKey",META:"metaKey"},i=function(e){var i=t[e.which]||"";for(var o in n)n.hasOwnProperty(o)&&e[n[o]]&&(i=o+"+"+i);return i},o=function(t){var e={};return t.split(" ").forEach((function(t){t.split("+").forEach((function(e){var i=e.toUpperCase();if(!(i in n)&&!(i in BEM.KEYS))throw"i-keys.js: Unknown key "+t})),e[t.toUpperCase()]=!0})),e};BEM.DOM.liveBindKey=function(t,e,n){var r;return $.isFunction(e)&&(n=e,e=t,t=void 0),r=o(e),this.liveBindTo(t,"keydown",(function(t){i(t)in r&&!1===n.call(this,t)&&t.preventDefault()}))},BEM.DOM.prototype.bindKeyTo=function(t,e,n){var r;return $.isFunction(e)&&(n=e,e=t,t=void 0),r=o(e),n.keydownHandler=s,t===document?this.bindToDoc("keydown",s):t===window?this.bindToWin("keydown",s):this.bindTo(t,"keydown",s);function s(t){i(t)in r&&!1===n.call(this,t)&&t.preventDefault()}},BEM.DOM.prototype.unbindKeyFrom=function(t,e,n){if($.isFunction(e)&&(n=e,e=t,t=void 0),!n||!n.keydownHandler)return this;var i=n.keydownHandler;return n.keydownHandler=null,t===document?this.unbindFromDoc("keydown",i):t===window?this.unbindFromWin("keydown",i):this.unbindFrom(t,"keydown",i)}}()},6211:function(){MBEM.getInitedBlock=function(t,e){var n=MBEM.getBlock(t,e);if(!n){var i=MBEM.getNodeParams(t);if(!(i=i&&i[e]))return;n=MBEM.createBlock({node:t,block:e,params:i})}return n}},4386:function(){MBEM.initAll=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"i-bem";MBEM.cls.contains(t,e)&&MBEM.initNode(t),MBEM.arrayFrom(t.querySelectorAll(".".concat(e))).forEach((function(t){MBEM.initNode(t)}))}},1230:function(){!function(){"use strict";var t;MBEM.construct=function(e){var n;if((t=t||document.createElement("div")).innerHTML=e,t.childNodes.length>1)for(n=document.createDocumentFragment();t.firstChild;)n.appendChild(t.firstChild);else n=t.firstChild,t.removeChild(n);return n}}()},2649:function(){MBEM.ready=function(t){var e=!1,n=function(){e||(e=!0,t())};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?setTimeout(n,0):(document.addEventListener("DOMContentLoaded",n,!1),document.addEventListener("load",n,!1))}},7922:function(){var t;t=function(t){return"onfocusin"in t},MBEM.decl("i-mini-visibilitychange",{__constructor:function(){this._hiddenProp="hidden",this._changeDocumentHidden=this._changeDocumentHidden.bind(this),this._normalize=this._normalize.bind(this),this._hiddenProp in document?document.addEventListener("visibilitychange",this._changeDocumentHidden):(this._hiddenProp="mozHidden")in document?document.addEventListener("mozvisibilitychange",this._normalize):(this._hiddenProp="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",this._normalize):(this._hiddenProp="msHidden")in document?document.addEventListener("msvisibilitychange",this._normalize):t(document)?document.onfocusin=document.onfocusout=this._normalize:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=this._normalize,MBEM.channel("sys").on("unmount",this._unmount.bind(this))},_changeDocumentHidden:function(){this._change(document.hidden)},_normalize:function(t){var e,n=t.type,i={focus:!1,focusin:!1,pageshow:!1,blur:!0,focusout:!0,pagehide:!0};e=function(t){return t in i}(n)?i[n]:document[this._hiddenProp],document.hidden=e,this._change(e)},_change:function(t){MBEM.channel("sys").trigger("visibilitychange",{hidden:t}),MBEM.channel("sys").trigger(t?"hidden":"visible")},_unmount:function(){this._hiddenProp in document?document.removeEventListener("visibilitychange",this._changeDocumentHidden):(this._hiddenProp="mozHidden")in document?document.removeEventListener("mozvisibilitychange",this._normalize):(this._hiddenProp="webkitHidden")in document?document.removeEventListener("webkitvisibilitychange",this._normalize):(this._hiddenProp="msHidden")in document?document.removeEventListener("msvisibilitychange",this._normalize):t(document)?document.onfocusin=document.onfocusout=function(){}:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=null}},{waitForVisible:function(t){document.hidden?MBEM.channel("sys").on("visible",(function e(){MBEM.channel("sys").un("visible",e),t()})):t()},unmount:function(){MBEM.channel("sys").trigger("unmount")}}),MBEM.createBlock({block:"i-mini-visibilitychange"})},2665:function(){window.ya=window.ya||{},ya.history=window.history&&history.pushState?{navigate:function(t){(t=t||{}).url&&(t.title||(t.title=""),t.data||(t.data=""),t.replace?history.replaceState(t.data,t.title,t.url):history.pushState(t.data,t.title,t.url))},onchange:function(t){window.addEventListener("popstate",(function(e){t.call(this,e.originalEvent)}))}}:null},3181:function(){!function(){if(!Object.assign){var t=function(t,e){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r])}return n};try{Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:t})}catch(e){Object.assign=t}}}()},1047:function(){var t,e;t=/^[a-zа-яёґєіїўәғқңөұүһҗçğşıüö]$/i,e=/^[0-9]$/,BEM.DOM.decl({name:"input",modName:"autofocus",modVal:"capture"},{onSetMod:{js:function(){this.__base.apply(this,arguments),this.bindToDoc("keydown",this._autoFocusBind)},autofocus:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},"":function(){this.unbindFromDoc("keydown")}},listen:{yes:function(){this.bindToDoc("keydown",this._autoFocusBind)},no:function(){this.unbindFromDoc("keydown")}}},_autoFocusBind:function(n){var i;if(!$(".popup_visibility_visible").filter(":not(.b-topbar__popup, .suggest2)").length&&(!(i=$(".v_sform_bg")).length||"none"===i.css("display"))&&!$(".left-banner-opened").length&&this.domElem.is(":visible")){var o,r;try{o=document.activeElement.tagName.toLowerCase(),r=document.activeElement.getAttribute("contenteditable")}catch(c){}if(function(n){if(n.originalEvent&&!("altKey"in n.originalEvent))return!1;var i,o,r=n.charCode||n.keyCode||n.which||0,s=n.ctrlKey||n.altKey||n.metaKey;return n.originalEvent&&n.originalEvent.key?(o=t.test(n.originalEvent.key),i=e.test(n.originalEvent.key)):(o=[r>=65&&r<=90,r>=1025&&r<=1071,0===r,231===r,186===r,188===r,190===r,String.fromCharCode(r).toLowerCase()!==String.fromCharCode(r).toUpperCase()].some(Boolean),i=r>=48&&r<=57||r>=96&&r<=105),!s&&(i||o)}(n)&&"input"!==o&&"textarea"!==o&&!r){this.trigger("beforeFocus");var s=this.elem("control")[0],a=this.val();if(a.length>0&&" "!==a.slice(-1)&&(a+=" ",this.val(a)),s.createTextRange){var u=s.createTextRange();u.collapse(!1),u.select()}else s.selectionStart&&(s.focus(),s.setSelectionRange(a.length,a.length));this.setMod("focused","yes")}}}})},2568:function(){BEM.DOM.decl({block:"input",modName:"keyboard",modVal:"yes"},{onSetMod:{js:function(){this.__base.apply(this,arguments),$(window).bind("keyboardOpened.lego",this.changeThis((function(){this.setMod("focused","yes")._focused=!0})))}},onElemSetMod:{clear:{visibility:function(t,e,n){this.__base.apply(this,arguments),this.hasMod("clear","yes")&&this.toggleMod("keyboard-visibility","hidden","visible"===n)}}}})},3963:function(){BEM.DOM.decl("input",{_onIOSTouchStart:function(){}},{live:function(){this.__base.apply(this,arguments),this.liveBindTo("clear","pointerclick",(function(t){t.preventDefault()})),this.liveBindTo("control","keyup",(function(){this._updateVal()}))}})},2685:function(){BEM.DOM.decl({block:"popup",modName:"no-return-focus",modVal:"yes"},{_returnFocus:function(){}})},7475:function(){MBEM.decl("simple-popup",{__constructor:function(){if(this.bindTo("close","click",this.hide),this._windowResize=this._reposition,this.hasMod("overlay","yes")){var t,e;this._overlay=document.createElement("div"),this._overlay.className="simple-popup__overlay";var n=this.getMod("theme");n&&(this._overlay.className+=" simple-popup__overlay_theme_".concat(n)),null===(t=this.domElem)||void 0===t||null===(e=t.parentNode)||void 0===e||e.insertBefore(this._overlay,this.domElem)}},show:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._prevOptions=e,this._owner=e.owner||null,this._overlay&&(this._overlay.style.zIndex=String(1e3*(e.zIndexGroupLevel||1)+1)),this.domElem.style.zIndex=String(1e3*(e.zIndexGroupLevel||1)+2),this._reposition(),e.direction&&this.setMod("direction",e.direction),this._showTime=Date.now(),this.bindTo(window,"resize",this._windowResize),this._timeout=window.setTimeout((function(){t._timeout=0,t.delMod("hiding"),t.setMod("shown",!0),t._overlay&&t.setMod(t._overlay,"shown",!0),t.trigger("show"),t.hasMod("autoclosable","yes")&&t.bindTo(document.body,"click",t._docClickHandler)}),50),this.hasMod("delay-close","yes")&&(this._closeDelaytimeout=window.setTimeout((function(){t.delMod("delay-close")}),1500))},_cleanup:function(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._closeDelaytimeout&&(clearTimeout(this._closeDelaytimeout),this._closeDelaytimeout=0),this.unbindFrom(document.body,"click",this._docClickHandler),this.unbindFrom(window,"resize",this._windowResize)},hide:function(){this.hasMod("shown")&&(this.delMod("shown"),this.setMod("hiding",!0),this._overlay&&this.delMod(this._overlay,"shown"),this.trigger("hide"),this._cleanup())},isShown:function(){return this.hasMod("shown")},toggle:function(){this.isShown()?this.hide():this.show(this._prevOptions)},unmount:function(){var t,e;(this._cleanup(),this._overlay)&&(null===(e=this._overlay.parentNode)||void 0===e||e.removeChild(this._overlay));null===(t=this.domElem.parentNode)||void 0===t||t.removeChild(this.domElem),this.domElem=null},_docClickHandler:function(t){var e;!(this._showTime&&Date.now()-this._showTime>100&&t.target&&t.target instanceof Node)||this.domElem.contains(t.target)||null!==(e=this._owner)&&void 0!==e&&e.contains(t.target)||this.hide()},_reposition:function(){var t,e=null===(t=this._owner)||void 0===t?void 0:t.getBoundingClientRect(),n=this.domElem.getBoundingClientRect(),i=this._prevOptions;e&&("bottom-right"===i.direction?(this.domElem.style.top="".concat(window.scrollY+e.bottom+(i.yOffset||0),"px"),this.domElem.style.left="".concat(window.scrollX+e.right-n.width+(i.xOffset||0),"px")):"top-left"===i.direction&&(this.domElem.style.top="".concat(window.scrollY+e.top-n.height+(i.yOffset||0),"px"),this.domElem.style.left="".concat(window.scrollX+e.left+(i.xOffset||0),"px")))}})},2e3:function(t,e,n){"use strict";n.d(e,{w:function(){return h}});var i=n(150),o=n.n(i),r=n(9735),s=n.n(r),a=(n(2e3),n(8901));function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h(t,e){var n;return"<div "+o()(Object.assign({class:(0,a.jY)("simple-popup",{mods:t.mods,mix:"i-mini-bem"+(t.mix?" "+t.mix:"")}),"data-bem":(0,a.Ms)(c(c({},t.js||{}),{},{"simple-popup":{}}))},t.attrs))+">"+(s().oneElem("<div class='simple-popup__content'>"+s().oneElem(t.content)+"</div>")+s().oneElem("yes"===(null===(n=t.mods)||void 0===n?void 0:n["has-close"])?"<button "+o()({class:"simple-popup__close","aria-label":"Закрыть"})+"></button>":""))+"</div>"}},1749:function(){BEM.DOM.decl("suggest2-counter",{attachReqID:function(){this._reqID=this._reqID||this.__self._generateReqID();var t=this.params.form.findElem("hidden-input").filter("[name=suggest_reqid]");t.length?t.val(this._reqID):this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},_onSuggestSelect:function(t,e){this.__base.apply(this,arguments),e.item.params.safeclickUrl&&this._addMetrikaCookie(e.item)},_addMetrikaCookie:function(t){var e=this.params.suggest._model.lastSendedRequest.val,n=this.params.suggest._model.lastSendedRequest.reqId,i=[e,t.elem("link").attr("href"),this._getNavSource(),n].map(encodeURIComponent).join(":"),o=Date.now();document.cookie="sc_"+o+"="+i+";path=/watch;domain=."+(location.hostname.match(/yandex\..+$/)||[])[0]+";expires="+new Date(o+6e5).toUTCString()+";secure"+(this.params.sameSiteSupport?";SameSite=None":"")},_getNavSource:function(){return"/"},clear:function(){return this.__base.apply(this,arguments),this._path.submit="button_by_mouse",this},_onInputFocus:function(){this._startInputTime||this._startClickTime||(this._startClickTime=Date.now()),this._startInputTime=this._startInputTime||this._startClickTime},_onInputBlur:function(){}})},7630:function(){!function(){"use strict";BEM.DOM.decl("suggest2-detect",{},{isSupportInlineSVG:function(){return void 0===this._isSupportInlineSVG2&&(this._isSupportInlineSVG2=$("html").hasClass("i-ua_inlinesvg_yes")),this._isSupportInlineSVG2}})}()},8993:function(){!function(){"use strict";BEM.DOM.decl({block:"suggest2-form",modName:"stats",modVal:"yes"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._bindCounters()}}},_prepareCounterStats:function(t){var e=[];try{e.push(t.since_last_change),e.push(t.since_first_change),e.push(t.user_input.length),e.push(t.ratio.actionsCount),e.push(t.path.index),e.push("button_by_mouse"===t.path.submit?"1":"0"),e.push("edit"===t.path.state?"1":"0")}catch(n){return""}return e.join(",")},_bindCounters:function(){var t,e=this,n=e.findBlockInside("suggest2").getCounter();n&&n.on("submit",(function(n,i){var o;t&&t.remove(),(o=e._prepareCounterStats(i))&&(t=$("<input>",{type:"hidden",name:"csg",value:o}),e.domElem.append(t))}))}})}()},3017:function(){BEM.decl("suggest2-input",{disableBrowserAutocomplete:function(){}})},4027:function(){BEM.DOM.decl("suggest2-item",{onLeave:function(){if(this.domElem)return this.__base.apply(this,arguments)}})},3006:function(){BEM.decl("suggest2-popup",{hide:function(t){var e=this;return e.isShown()&&!e.hideTimeout&&(e.hideTimeout=setTimeout((function(){e.instantHide(t)}),500)),e},instantHide:function(t){this._doHide(),this.trigger("hide",t||{}),this.hideTimeout=null}})},5682:function(){BEM.decl("suggest2-provider",{getDefaultParams:function(){var t=this.__base.apply(this,arguments);return t.cache=!0,t},get:function(t,e,n,i){this.__base.apply(this,arguments);var o=i;"function"==typeof n&&(o=n);var r=this.params.abortQueries,s="jsonp"===this.params.dataType;o=o.bind(this,t,e),this._lastQuery&&this._lastQuery.fail((function(t,e){!r&&s&&o({error:e||"error"})}))}})},5726:function(){BEM.DOM.decl({block:"suggest2",modName:"ahead",modVal:"yes"},{init:function(){var t=this.__base.apply(this,arguments),e=this;return e._model.on("response",(function(t,n){var i=n.data,o=i.items&&i.items[0],r=e._input.val(),s="object"==typeof o?o[1]:o,a="string"==typeof s&&0===s.indexOf(r.toLowerCase())&&s.slice(n.val.length);i.val=n.val,e.params.aheadFromServer?e._input.get().setAhead(n.val+(i.meta&&i.meta.continue||"")):a&&r.length>=e.params.showOverChars?e._input.get().setAhead(n.val+(e.params.showFullPhrase?a[1]:a[1].split(" ")[0])):e._input.get().unsetAhead()})),t},getDefaultParams:function(){return $.extend(this.__base(),{aheadFromServer:!1,showOverChars:3,showFullPhrase:!1})}})},4852:function(t,e,n){window.Ya&&Ya.Rum&&(n(5122),n(4232),n(7524)),window.Ya&&Ya.Rum&&Ya.Rum.enabled&&(n(9506),Ya.Rum.debug&&Ya.Rum.debug())},8962:function(){var t;(t=window.Ya&&Ya.Rum)&&t.enabled&&(t.getLCPAdditionalParams=function(t){var e={},n=t.element;if(n){e["-className"]=encodeURIComponent(n.className),e["-tagName"]=n.tagName.toLowerCase();var i=n.getBoundingClientRect();e["-width"]=i.width,e["-height"]=i.height}return t.size&&(e["-size"]=t.size),e})},9506:function(){window.BEM&&BEM.channel("i-bem").onFirst("start-init",(function(){Ya.Rum.getSetting("sendBeforeBemInited")&&Ya.Rum.sendTimeMark("2418")})).onFirst("init",(function(){Ya.Rum.sendTimeMark("2295")}))},5122:function(){!function(t,e){if(!t)throw new Error("Rum: interface is not included");if(!t.enabled)return t.getSetting=function(){return""},t.getVarsList=function(){return[]},void(t.getResourceTimings=t.pushConnectionTypeTo=t.pushTimingTo=t.normalize=t.sendCounter=t.sendDelta=t.sendTimeMark=t.sendResTiming=t.sendTTI=t.makeSubPage=t.sendHeroElement=t.onReady=t.onQuietWindow=function(){});t.getVarsList=function(){var e=t._vars;return Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t]).replace(/\*/g,"%2A")}))},t.setVars=function(e){Object.keys(e).forEach((function(n){t._vars[n]=e[n]})),P(),I()};var n,i,o="690.1033",r="690.2096.207",s="690.2096.2877",a="690.2096.2892",u="690.2096.2044",c="690.2096.361",l="690.2096.4004",h=3,d=3e3,f={connectEnd:2116,connectStart:2114,decodedBodySize:2886,domComplete:2124,domContentLoadedEventEnd:2131,domContentLoadedEventStart:2123,domInteractive:2770,domLoading:2769,domainLookupEnd:2113,domainLookupStart:2112,duration:2136,encodedBodySize:2887,entryType:2888,fetchStart:2111,initiatorType:2889,loadEventEnd:2126,loadEventStart:2125,nextHopProtocol:2890,redirectCount:1385,redirectEnd:2110,redirectStart:2109,requestStart:2117,responseEnd:2120,responseStart:2119,secureConnectionStart:2115,startTime:2322,transferSize:2323,type:76,unloadEventEnd:2128,unloadEventStart:2127,workerStart:2137},p={visible:1,hidden:2,prerender:3},m={bluetooth:2064,cellular:2065,ethernet:2066,none:1229,wifi:2067,wimax:2068,other:861,unknown:836,0:836,1:2066,2:2067,3:2070,4:2071,5:2768},_={"first-paint":2793,"first-contentful-paint":2794},v=Object.keys(_).length,g=t.getTime,b=window.PerformanceObserver,y=window.performance||{},E=y.timing||{},M=y.navigation||{},w=navigator.connection,k={},T={},B=t._deltaMarks,C=document.createElement("link"),S=document.createElement("a"),x="function"==typeof y.getEntriesByType,D=E.navigationStart;function P(){n=t.getVarsList(),t.getSetting("sendClientUa")&&n.push("1042="+encodeURIComponent(navigator.userAgent))}function I(){i=n.concat(["143.2129="+D])}function O(t){function e(){removeEventListener("DOMContentLoaded",e),removeEventListener("load",e),t()}"loading"===document.readyState?(addEventListener("DOMContentLoaded",e),addEventListener("load",e)):t()}function R(){t.getSetting("disableOnLoadTasks")||(removeEventListener("load",R),function(){var e=t.getSetting("periodicStatsIntervalMs");e||null===e||(e=15e3);e&&(A=setInterval(Y,e));addEventListener("beforeunload",Y)}(),function(){if(!b)return;$(y.getEntriesByType("navigation")),$(y.getEntriesByType("resource"));try{new b((function(t){$(t.getEntries())})).observe({entryTypes:["resource","navigation"]})}catch(e){}t._periodicTasks.push(G)}(),function(){if(!b)return;try{new b((function(t,e){var n=t.getEntries()[0];if(n){var i=n.processingStart,o={duration:n.duration,js:n.processingEnd-i,name:n.name};n.target&&(o.target=X(n.target)),z("first-input",i-n.startTime,o),e.disconnect()}})).observe({type:"first-input",buffered:!0})}catch(t){}}(),function(){if(!x)return;var t=y.getEntriesByType("navigation")[0];if(t){var e=[];mt(e,t),ht(e);var i=y.getEntriesByName("yndxNavigationSource")[0];i&&e.push("2091.186="+i.value),vt(a,n.concat(e))}}(),function(){if(!b)return;var e=t.getSetting("clsWindowGap")?t.getSetting("clsWindowGap"):1/0,n=t.getSetting("clsWindowSize")?t.getSetting("clsWindowSize"):1/0,i=new b((function(t){var i=t.getEntries();null==tt&&(tt=0);for(var o=0;o<i.length;o++){var r=i[o];r.hadRecentInput||(J&&r.startTime-Z[Z.length-1].startTime<e&&r.startTime-Z[0].startTime<n?(J+=r.value,Z.push(r)):(nt(),J=r.value,Z=[r]))}nt()}));try{i.observe({type:"layout-shift",buffered:!0})}catch(o){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof i.takeRecords&&i.takeRecords(),i.disconnect()}catch(o){}it()}})),addEventListener("beforeunload",it)}(),function(){if(!b||!t.getSetting("forcePaintTimeSending")&&t.isVisibilityChanged())return;var e=new b((function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var i=e[n];ot=i.renderTime||i.loadTime,rt=i}st||(q("largest-loading-elem-paint",ot),st=!0)}));try{e.observe({type:"largest-contentful-paint",buffered:!0})}catch(n){}addEventListener("visibilitychange",(function t(){if("hidden"===document.visibilityState){removeEventListener("visibilitychange",t);try{"function"==typeof e.takeRecords&&e.takeRecords(),e.disconnect()}catch(n){}at()}})),addEventListener("beforeunload",at)}())}function F(){var e=E.domContentLoadedEventStart,i=E.domContentLoadedEventEnd;if(0!==e||0!==i){var r=0===E.responseStart?D:E.responseStart,s=0===E.domainLookupStart?D:E.domainLookupStart,a=n.concat(["2129="+D,"1036="+(s-D),"1037="+(E.domainLookupEnd-E.domainLookupStart),"1038="+(E.connectEnd-E.connectStart),E.secureConnectionStart&&"1383="+(E.connectEnd-E.secureConnectionStart),"1039="+(E.responseStart-E.connectEnd),"1040="+(E.responseEnd-r),"1040.906="+(E.responseEnd-s),"1310.2084="+(E.domLoading-r),"1310.2085="+(E.domInteractive-r),"1310.1309="+(i-e),"1310.1007="+(e-r),navigator.deviceMemory&&"3140="+navigator.deviceMemory,navigator.hardwareConcurrency&&"3141="+navigator.hardwareConcurrency]);Object.keys(f).forEach((function(t){t in E&&E[t]&&a.push(f[t]+"="+_t(E[t],D))})),t.vsStart?(a.push("1484="+(p[t.vsStart]||2771)),t.vsChanged&&a.push("1484.719=1")):a.push("1484="+p.visible),M&&(M.redirectCount&&a.push("1384.1385="+M.redirectCount),1!==M.type&&2!==M.type||a.push("770.76="+M.type)),ht(a),vt(o,a)}else setTimeout(F,50)}P(),I(),t.ajaxStart=0,t.ajaxComplete=0,O((function(){if(!D)return;setTimeout((function(){t.sendTimeMark=q,t.sendResTiming=V,t.timeEnd=U;for(var e=t._defRes;e.length;){var n=e.shift();V(n[0],n[1])}for(var i=t._defTimes;i.length;){var o=i.shift();q(o[0],o[1],!1,o[2])}Object.keys(B).forEach((function(t){z(t)})),F(),L(),t.getSetting("sendAutoElementTiming")&&ut(),ct(),"complete"===document.readyState?R():addEventListener("load",R)}),0)})),t._getCommonVars=function(){return n};var A,j={},N=0;function L(){if(x&&(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())){for(var e=y.getEntriesByType("paint"),n=0;n<e.length;n++){var i=e[n],o=_[i.name];o&&!j[i.name]&&(j[i.name]=!0,N++,q("1926."+o,i.startTime))}if(N<v)try{new b((function(t,e){L(),e&&e.disconnect()})).observe({entryTypes:["paint"]})}catch(r){}}}function q(n,i,o,s){i===e&&(i=g()),o!==e&&!0!==o||t.mark(n,i);var a=pt(n);if(a.push("207="+_t(i)),H(a,s)){vt(r,a),k[n]=k[n]||[],k[n].push(i);var u=t._markListeners[n];u&&u.length&&u.forEach((function(t){t(i)}))}}function H(t,n){if(n){if(n.isCanceled&&n.isCanceled())return!1;var i=t.reduce((function(t,e,n){"string"==typeof e&&(t[e.split("=")[0]]=n);return t}),{});Object.keys(n).forEach((function(o){if("function"!=typeof n[o]){var r=i[o],s=o+"="+n[o];r===e?t.push(s):t[r]=s}}))}return!0}function U(t,e){var n=B[t];n&&0!==n.length&&(n.push(g(),e),z(t))}function z(n,i,o,r){var a,u,c,l=B[n];if(void 0!==i?a=(u=r&&r.originalEndTime?r.originalEndTime:t.getTime())-i:l&&(a=l[0],u=l[1],c=l[2]),a!==e&&u!==e){var h=pt(n);h.push("207.2154="+_t(a),"207.1428="+_t(u),"2877="+_t(u-a)),H(h,o)&&H(h,c)&&(vt(s,h),delete B[n])}}function V(e,n){dt(n,(function(i){if(i){var o=pt(e);t.getSetting("sendUrlInResTiming")&&o.push("13="+encodeURIComponent(n)),mt(o,i[i.length-1]),vt(u,o)}}))}function Y(){var e=!1;t._periodicTasks.forEach((function(t){t()&&(e=!0)})),e||clearInterval(A)}t.getTimeMarks=function(){return k},t._periodicTasks=[];var K=0;function $(t){if(t&&t.length)for(var e=T,n=0;n<t.length;n++){var i=W(t[n]);if(i){var o=i.domain+"-"+i.extension,r=e[o]=e[o]||{count:0,size:0};r.count++,r.size+=i.size}}}function W(t){var e=t.transferSize;if(null!=e){S.href=t.name;var n=S.pathname;if(0!==n.indexOf("/clck")){var i=n.lastIndexOf("."),o="";return-1!==i&&n.lastIndexOf("/")<i&&n.length-i<=5&&(o=n.slice(i+1)),{size:e,domain:S.hostname,extension:o}}}}function G(){var e=t.getSetting("maxTrafficCounters")||250;if(K>=e)return!1;for(var i=Object.keys(T),o="",r=0;r<i.length;r++){var s=i[r],a=T[s];o+=encodeURIComponent(s)+"!"+a.count+"!"+a.size+";"}if(o.length){K++;var u=n.concat(["d="+o,"t="+_t(g())]);vt(c,u)}return T={},K<e}function X(t){if(!t)return"";var n=(t.tagName||"").toLowerCase(),i=t.className&&t.className.baseVal!==e?t.className.baseVal:t.className;return n+(i=i?(" "+i).replace(/\s+/g,"."):"")}var Q,Z,J,tt=(Q="layout-shift",Boolean(b&&b.supportedEntryTypes&&-1!==b.supportedEntryTypes.indexOf(Q))?0:null),et=null;function nt(){J>tt&&(tt=J,et=Z)}function it(){if(null!=tt){var i=["s="+Math.round(1e6*tt)/1e6];if(t.getSetting("logClsTarget")){var o=function(t){var e=null;if(!t)return null;var n=null;return(e=t.reduce((function(t,e){return t&&t.value>e.value?t:e})))&&e.sources&&e.sources.length&&(n=e.sources.find((function(t){return t.node&&1===t.node.nodeType}))||e.sources[0]),n&&X(n.node)}(et);i.push("target="+o)}vt(l,n.concat(i)),tt=null,J=e,Z=e}}var ot=null,rt=null,st=!1;function at(){if(null!=ot){var e=t.getLCPAdditionalParams(rt);q("largest-contentful-paint",ot,!1,e),ot=null,rt=null}}var ut=b?function(){if(t.getSetting("forcePaintTimeSending")||!t.isVisibilityChanged())try{new b((function(t){for(var e=t.getEntries(),n=0;n<e.length;n++){var i=e[n];q("element-timing."+i.identifier,i.startTime)}})).observe({type:"element",buffered:!0})}catch(e){}}:function(){};function ct(e,n,i){if(t._tti){var o=g();lt((function(r){var s={2796.2797:ft(t._tti.events||[],n),689.2322:_t(o)};i&&Object.keys(i).forEach((function(t){s[t]=i[t]})),q(e||"2795",r,!0,s),t._tti.fired=!0}),n)}}function lt(e,n){t._tti&&(n||(n=g()),function i(){var o,r=n,s=g(),a=t._tti.events||[],u=a.length;0!==u&&(o=a[u-1],r=Math.max(r,Math.floor(o.startTime+o.duration))),s-r>=d?e(r):setTimeout(i,1e3)}())}function ht(t){w&&t.push("2437="+(m[w.type]||2771),w.downlinkMax!==e&&"2439="+w.downlinkMax,w.effectiveType&&"2870="+w.effectiveType,w.rtt!==e&&"rtt="+w.rtt,w.downlink!==e&&"dwl="+w.downlink)}function dt(t,e){if(!x)return e(null);C.href=t;var n=C.href,i=0,o=100;setTimeout((function t(){var r=y.getEntriesByName(n);if(r.length)return e(r);i++<h?(setTimeout(t,o),o+=o):e(null)}),0)}function ft(t,e){return e=e||0,(t=t||[]).filter((function(t){return t.startTime-e>=-50})).map((function(t){var e=t.name?t.name.split("-").map((function(t){return t[0]})).join(""):"u",n=Math.floor(t.startTime);return e+"-"+n+"-"+Math.floor(n+t.duration)})).join(".")}function pt(e){return i.concat(["1701="+e,t.ajaxStart&&"1201.2154="+_t(t.ajaxStart),t.ajaxComplete&&"1201.2052="+_t(t.ajaxComplete)])}function mt(t,e){Object.keys(f).forEach((function(n){if(n in e){var i=e[n];(i||0===i)&&t.push(f[n]+"="+_t(i))}}))}function _t(t,e){return"string"==typeof t?encodeURIComponent(t):Math.round(1e3*(t-(e||0)))/1e3}function vt(e,n){var i=encodeURIComponent(window.YaStaticRegion||"unknown");n.push("-cdn="+i);var o=n.filter(Boolean).join(",");t.send(null,e,o)}t.sendTTI=ct,t.sendHeroElement=function(t){q("2876",t)},t._subpages={},t.makeSubPage=function(e,n){var i=t._subpages[e];t._subpages[e]=void 0===i?i=0:++i;var o=!1;return{689.2322:_t(void 0!==n?n:g()),2924:e,2925:i,isCanceled:function(){return o},cancel:function(){o=!0}}},t._getLongtasksStringValue=ft,t.getResourceTimings=dt,t.pushConnectionTypeTo=ht,t.pushTimingTo=mt,t.normalize=_t,t.sendCounter=vt,t.sendDelta=z,t.sendTrafficData=G,t.finalizeLayoutShiftScore=it,t.finalizeLargestContentfulPaint=at,t.onReady=O,t.onQuietWindow=lt,t.getSelector=X}(Ya.Rum)},7524:function(){!function(){function t(){removeEventListener("load",t);var e=Ya.Rum;if(e.sendTimeMark("1724"),e.getSetting("sendAutoResTiming"))for(var n=document.querySelectorAll("script[data-rCid], div[data-rCid]"),i=0,o=n.length;i<o;i++){var r=n[i],s=r.src;if(!s){var a=getComputedStyle(r).backgroundImage;if(a){var u=a.match(/^url\(["']?(.*?)["']?\)$/);u&&(s=u[1])}}s&&e.sendResTiming(r.getAttribute("data-rCid"),s)}}Ya.Rum.enabled&&!Ya.Rum._onloadCounterInited&&(Ya.Rum._onloadCounterInited=!0,"complete"===document.readyState?t():addEventListener("load",t))}()},4232:function(){!function(t){var e=0;var n=[];function i(t){for(var e=0,n=0;n<t.length;++n)e+=t[n]*t[n];return Math.sqrt(e/t.length)}var o,r,s,a=[];t.enabled&&(t.getSetting("longTaskMetric")&&t._tti&&t._periodicTasks.push((function(){if(!t._tti.fired)return!0;var n=t.getSetting("maxLongTaskCounters")||10;if(++e>n)return!1;if(t._tti.eventsAfterTTI.length){var i=t._getCommonVars().slice();i.push("2796.2797="+t._getLongtasksStringValue(t._tti.eventsAfterTTI)),i.push("689.2322="+t.normalize(t.getTime())),t.sendCounter("690.2096.2796",i),t._tti.eventsAfterTTI=[]}return!0})),t.getSetting("scrollMetric")&&(s=!1,addEventListener("scroll",(function(){var e=t.getTime();s?n.push(e-o):s=!0,o=e,clearTimeout(r),r=setTimeout((function(){s=!1}),500)})),t._periodicTasks.push((function(){if(n.length){var e=t._getCommonVars().concat(["d="+i(n)]);t.sendCounter("690.2096.768",e),n=[]}return!0}))),t.getSetting("scrollLatencyMetric")&&function(){try{if(!window.PerformanceScrollUpdateLatency)return!1;new PerformanceObserver((function(t){t.getEntries().forEach((function(t){a.push(t.duration)}))})).observe({entryTypes:["scrollUpdateLatency"]})}catch(t){return!1}return!0}()&&t._periodicTasks.push((function(){if(a.length){var e=t._getCommonVars().concat(["d="+i(a)]);t.sendCounter("690.2096.768.2373",e),a=[]}return!0})))}(Ya.Rum)},30:function(){BEM.DOM.decl({block:"button2",baseBlock:"control"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments)}},pressed:{yes:function(){if(this.hasMod("disabled"))return!1;this.trigger("press")},"":function(){this.trigger("release")}},checked:{yes:function(){this.trigger("check").domElem.attr("aria-pressed","true")},"":function(){this.trigger("uncheck").domElem.attr("aria-pressed","false")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("pressed")}},focused:{"":function(){this.__base.apply(this,arguments),this.delMod("pressed")}},progress:{yes:function(){this.setMod("disabled","yes")},"":function(){this.delMod("disabled")}}},getText:function(){return this.elem("text").text()},setText:function(t){return this.elem("text").text(t),this},_onClick:function(t){(!this._preventClick||t.detail>0)&&this.trigger("click",this._buildClickEventData(t)),this._preventClick=!1},_processClick:function(t){this.trigger("click",this._buildClickEventData(t))},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(){this.delMod("pressed").unbindFromDoc("pointerrelease")},_onKeydown:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.pressKeys)&&(this.setMod("pressed","yes"),n.is(e,this.params.prvntKeys)&&t.preventDefault())},_onKeyup:function(t){var e=t.keyCode,n=BEM.blocks.keycodes;n.is(e,this.params.prvntKeys)&&t.preventDefault(),n.is(e,this.params.pressKeys)&&(this.delMod("pressed"),n.is(e,this.params.clickKeys)&&(this._preventClick=!0,this._processClick(t)))},_buildClickEventData:function(t){return{domEvent:t,isModKey:t.ctrlKey||t.altKey||t.metaKey||t.shiftKey}},getDefaultParams:function(){return $.extend(this.__base(),{pressKeys:["SPACE","ENTER"],prvntKeys:[],clickKeys:[]})}},{live:function(){return this.liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)})).liveBindTo("pointerclick",(function(t){this.hasMod("disabled")||this._onClick(t)})).liveBindTo("keydown",(function(t){this._onKeydown(t)})).liveBindTo("keyup",(function(t){this._onKeyup(t)})),this.__base()}})},6234:function(){BEM.DOM.decl("control",{onSetMod:{focused:{yes:function(){if(this.hasMod("disabled"))return!1;this._focused||(this._focus(),this.trigger("focus"))},"":function(){this._focused&&(this._blur(),this.trigger("blur"))}},disabled:{"*":function(t,e){var n=this._getControl();n.prop("disabled",Boolean(e)).attr("aria-disabled",Boolean(e)),n.attr("tabindex",e?null:this.params._tabindex)},yes:function(){this.delMod("focused")}}},_focus:function(){this._getControl().focus()},_blur:function(){this._getControl().blur()},_getControl:function(){var t=this.elem("control");return t.length>0?t:this.domElem},_onFocusin:function(){this._focused=!0,this.trigger("focus").setMod("focused","yes").bindTo("focusout",this._onFocusout)},_onFocusout:function(){this._focused=!1,this.trigger("blur").delMod("focused").unbindFrom("focusout")},getDefaultParams:function(){return{_tabindex:this._getControl().attr("tabindex")}}},{live:function(){this.liveBindTo("focusin",(function(t){this._onFocusin(t)})),parseInt(BEM.blocks["i-ua"].ios,10)>=8&&this.liveBindTo("control","focusin",(function(t){t.preventDefault()}))}})},5e3:function(){!function(t,e,n){var i=e(window),o=e(document),r={},s={},a={},u={},c={},l=t.blocks,h=t.INTERNAL,d=h.NAME_PATTERN,f=h.MOD_DELIM,p=h.ELEM_DELIM,m=RegExp("[^"+f+"]"+f+"("+d+")(?:"+f+"("+d+"))?$"),_=h.buildModPostfix,v=h.buildClass,g=Array.prototype.slice,b=Array.prototype.reverse;function y(t,i,o,a,u){"boolean"==typeof o&&(u=a,a=o,o=n);var c=i[0];if(c.dataset===n||"react"!==c.dataset.lego){var h=(o=E(o||w(c)[t],c,t)).uniqId;if(s[h])return s[h]._init();r[h]=r[h]?r[h].add(i):i;var d=c.parentNode;d&&11!==d.nodeType||e.unique(r[h]);var f=l[t]||C.decl(t,{},{live:!0});if(!(f._liveInitable=Boolean(f._processLive()))||a||!1===o.live){a&&i.addClass("i-bem");var p=new f(r[h],o,Boolean(a));return delete r[h],u&&u.apply(p,g.call(arguments,4)),p}}}function E(t,n,i,o){(t||(t={})).uniqId||(t.uniqId=(t.id?i+"-id-"+t.id:e.identify())+(o||e.identify()));var r=e.identify(n),s=a[r]||(a[r]={});return s[i]||(s[i]=t),t}function M(t,e,n){var i=t.find(e);return n?i:i.add(t.filter(e))}function w(t){var n=e.identify(t);return a[n]||(a[n]=k(t))}function k(t){var e=t.getAttribute("data-bem");return e?JSON.parse(e):{}}function T(t){delete a[e.identify(t)]}function B(t,e){1===t.domElem.length?t.destruct(!0):t.domElem=t.domElem.not(e)}e.fn.bem=function(t,e){return y(t,this,e,!0)};var C=t.DOM=t.decl("i-bem__dom",{__constructor:function(t,n,i){var o=this;o.domElem=t,o._eventNameCache={},o._elemCache={},o._blockInsideCache={},s[o._uniqId=n.uniqId||e.identify(o)]=o,o._needSpecialUnbind=!1,o.__base(null,n,i)},findBlocksInside:function(t,e){return this._findBlocks("find",t,e)},findBlockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._findBlocks("find",t,e,!0);return this._blockInsideCache[n]=i,i},blockInside:function(t,e){var n=this._buildBlockCacheKey(t,e),i=this._blockInsideCache[n];return i||(i=this.findBlockInside(t,e)),i},dropBlockInsideCache:function(t,e){t||e?this._blockInsideCache[this._buildBlockCacheKey(t,e)]=null:this._blockInsideCache={}},_buildBlockCacheKey:function(t,e){e||(e=t,t="");var n="string"==typeof e?e:v(e.block,e.modName,e.modVal);return("string"==typeof t?t:t.__bemElemName)+":"+n},findBlocksOutside:function(t,e){return this._findBlocks("parents",t,e)},findBlockOutside:function(t,e){return this._findBlocks("closest",t,e)[0]||null},findBlocksOn:function(t,e){return this._findBlocks("",t,e)},findBlockOn:function(t,e){return this._findBlocks("",t,e,!0)},_findBlocks:function(t,i,o,r){if(!this.domElem)return r?null:[];o||(o=i,i=n);var s=i?"string"==typeof i?this.findElem(i):i:this.domElem,a="string"==typeof o,u=a?o:o.block||o.blockName,c="."+(a?u:v(u,o.modName,o.modVal))+(r?":first":""),l=s.filter(c);if(t&&(l=l.add(s[t](c))),r)return l[0]?y(u,l.eq(0),!0):null;var h=[],d={};return e.each(l,(function(t,n){var i=y(u,e(n),!0);d[i._uniqId]||(d[i._uniqId]=!0,h.push(i))})),h},bindToDomElem:function(t,i,o,r){e.isFunction(o)&&(r=o,o=n);var s=this,a=function(t){return(t.data||(t.data={})).domElem=e(this),r.apply(s,arguments)};return r?t.bind(s._buildEventName(i),o,(a.guid=r.guid=r.guid||e.guid++,a)):e.each(i,(function(e,n){s.bindToDomElem(t,e,o,n)})),s},bindToDoc:function(t,e,n){return this._needSpecialUnbind=!0,this.bindToDomElem(o,t,e,n)},bindToWin:function(t,o,r){return e.isFunction(o)&&(r=o,o=n),this._needSpecialUnbind=!0,this.bindToDomElem(i,t,o,r)},bindTo:function(t,n,i,o){switch(arguments.length){case 3:e.isFunction(i)&&(o=i,"object"==typeof n&&(i=n,n=t,t=this.domElem));break;case 2:e.isFunction(n)?(o=n,n=t,t=this.domElem):"string"==typeof t||t instanceof e||(i=n,n=t,t=this.domElem);break;case 1:n=t,t=this.domElem}return"string"==typeof t&&(t=this.elem(t)),this.bindToDomElem(t,n,i,o)},unbindFromDomElem:function(t,e,n){return t.unbind(this._buildEventName(e),n),this},unbindFromDoc:function(t,e){return this.unbindFromDomElem(o,t,e)},unbindFromWin:function(t,e){return this.unbindFromDomElem(i,t,e)},unbindFrom:function(t,n,i){var o=arguments.length;return 1===o?(n=t,t=this.domElem):2===o&&e.isFunction(n)?(i=n,n=t,t=this.domElem):"string"==typeof t&&(t=this.elem(t)),this.unbindFromDomElem(t,n,i)},_buildEventName:function(t){var e=this;return t.indexOf(" ")>1?t.split(" ").map((function(t){return e._buildOneEventName(t)})).join(" "):e._buildOneEventName(t)},_buildOneEventName:function(t){var e=this._eventNameCache;if(t in e)return e[t];var n="."+this._uniqId;if(-1===t.indexOf("."))return e[t]=t+n,e[t];var i=".bem_"+this.__self._name;return e[t]=t.split(".").map((function(t,e){return 0===e?t+i:i+"_"+t})).join("")+n,e[t]},_trigger:function(t,e){this.__base.apply(this,arguments),this._ctxTrigger(t,e)},_ctxTrigger:function(t,n){var i=this,o=u[i.__self._buildCtxEventName(t.type)],r={};o&&i.domElem.each((function(){for(var s=this,a=o.counter;s&&a;){var u=e.identify(s,!0);if(u){if(r[u])break;var c=o.ctxs[u];c&&(e.each(c,(function(e,o){o.fn.call(o.ctx||i,t,n)})),a--),r[u]=!0}s=s.parentNode}}))},getMods:function(t){var e=t&&"string"!=typeof t,i=this._modCache,o=[].slice.call(arguments,e?1:0),r=this._extractMods(o,e?t:n);return e||(o.length?o.forEach((function(t){i[t]=r[t]})):i=r),r},setMod:function(t,n,i){if(t&&void 0!==i&&t.length>1){var o=this;return t.each((function(){var r=e(this);r.__bemElemName=t.__bemElemName,o.setMod(r,n,i)})),o}return this.__base(t,n,i)},_extractModVal:function(t,e,n){var i,o=(e||this.domElem)[0];return o&&(i=o.getAttribute("class").match(this.__self._buildModValRE(t,n||e))),i?i[2]||!0:""},_extractMods:function(t,e){var n={},i=!t.length,o=0;return((e||this.domElem).eq(0).attr("class").match(this.__self._buildModValRE("("+(i?d:t.join("|"))+")",e,"g"))||[]).forEach((function(t){var e=t.match(m);n[e[1]]=e[2]||!0,++o})),o<t.length&&t.forEach((function(t){t in n||(n[t]="")})),n},_afterSetMod:function(t,n,i,o,r){if(this._isDestructing)return this.__base.apply(this,arguments);var s=this.__self,a=s._buildModClassPrefix(t,r),u=s._buildModValRE(t,r,"g"),c=""===n||!1===n;(o||this.domElem).each((function(){var t=e(this),o=t.attr("class"),r=a;!0!==n&&(r+=f+n),(!0===i?u.test(o):(" "+o).indexOf(" "+a+f)>-1)?t.attr("class",o.replace(u,c?"":"$1"+r)):c||t.addClass(r)})),r&&this.dropElemCache(r,t,i).dropElemCache(r,t,n),this.__base.apply(this,arguments)},findElem:function(t,e,n,i){arguments.length%2?(i=n,n=e,e=t,t=this.domElem):"string"==typeof t&&(t=this.findElem(t)),e=e.split(" ");var o=this.__self.getName(),r=_(n,i),s=[],a=e.map((function(t){return s.push("."+v(o,t,n,i)),t+r})),u=1===a.length,c=M(t,s.join(","));return t===this.domElem&&s.forEach((function(t,n){(this._elemCache[a[n]]=u?c:c.filter(t)).__bemElemName=e[n]}),this),c},_elem:function(t,e,n){return this._elemCache[t+_(e,n)]||this.findElem(t,e,n)},elem:function(t,n,i){if(2===arguments.length&&(i=!0),n&&"string"!=typeof n)return n.__bemElemName=t,n;if(t.indexOf(" ")<0)return this._elem(t,n,i);var o=e([]);return t.split(" ").forEach((function(t){o=o.add(this._elem(t,n,i))}),this),o},dropElemCache:function(t,e,n){if(t){var i=_(e,n);t.indexOf(" ")<0?delete this._elemCache[t+i]:t.split(" ").forEach((function(t){delete this._elemCache[t+i]}),this)}else this._elemCache={};return this},elemParams:function(t){var e;return"string"==typeof t?(e=t,t=this.elem(t)):e=this.__self._extractElemNameFrom(t),k(t[0])[v(this.__self.getName(),e)]||{}},elemify:function(t,n){return(t=e(t)).__bemElemName=n,t},containsDomElem:function(t){var e=!1;return this.domElem.each((function(){return!(e=t.parents().andSelf().index(this)>-1)})),e},buildSelector:function(t,e,n){return this.__self.buildSelector(t,e,n)},destruct:function(t){var n=this,i=n.__self;n._isDestructing||(n._isDestructing=!0,n._needSpecialUnbind&&i.doc.add(i.win).unbind("."+n._uniqId),n.dropElemCache().domElem.each((function(t,n){var i=w(n);e.each(i,(function(t,e){var i=s[e.uniqId];i?i._isDestructing||B(i,n):delete r[e.uniqId]})),T(n)})),t||n.domElem.remove(),n.__base(),delete s[n.un()._uniqId],delete n.domElem,delete n._elemCache)}},{scope:null,doc:o,win:i,html:e(document.documentElement),_processLive:function(t){var e=this._liveInitable;if("live"in this&&void 0===e^t){e=!1!==this.live();var n=this.getName(),i=this.live;this.live=function(){return this.getName()===n?e:i.apply(this,arguments)}}return e},init:function(t,n,i){!t||e.isFunction(t)?(i=n,n=t,t=o):"string"==typeof t&&(t=e(t));var r=e.identify();return M(t,".i-bem").each((function(){!function(t,n){var i=t[0];e.each(w(i),(function(o,r){E(r,i,o,n);var a=s[r.uniqId];a?a.domElem.index(i)<0&&(a.domElem=a.domElem.add(t),e.extend(a._params,r)):y(o,t,r)}))}(e(this),r)})),n&&this.afterCurrentEvent((function(){n.call(i||this,t)})),this._runAfterCurrentEventFns(),t},destruct:function(t,i,o){"boolean"!=typeof t&&(o=i,i=t,t=n),i&&(b.call(M(i,".i-bem",o)).each((function(t,n){var i=w(this);e.each(i,(function(t,e){if(e.uniqId){var i=s[e.uniqId];i?B(i,n):delete r[e.uniqId]}})),T(this)})),t||(o?i.empty():i.remove()))},update:function(t,e,n,i){return this.destruct(t,!0),this.init(t.html(e),n,i)},replace:function(t,n){return this.destruct(!0,t),this.init(e(n).replaceAll(t))},append:function(t,n){return this.init(e(n).appendTo(t))},prepend:function(t,n){return this.init(e(n).prependTo(t))},before:function(t,n){return this.init(e(n).insertBefore(t))},after:function(t,n){return this.init(e(n).insertAfter(t))},_buildCtxEventName:function(t){return this._name+":"+t},_liveClassBind:function(t,n,i,r){var s=this;if(n.indexOf(" ")>-1)n.split(" ").forEach((function(e){s._liveClassBind(t,e,i,r)}));else{var a=c[n],u=e.identify(i);a||(a=c[n]={},o.bind(n,s._liveClassTrigger.bind(s))),u in(a=a[t]||(a[t]={uniqIds:{},fns:[]})).uniqIds||(a.fns.push({uniqId:u,fn:s._buildLiveEventFn(i,r)}),a.uniqIds[u]=a.fns.length-1)}return this},_liveClassUnbind:function(t,n,i){var o=c[n];if(o)if(i){if(o=o[t]){var r=e.identify(i);if(r in o.uniqIds){var s=o.uniqIds[r],a=o.fns.length-1;for(o.fns.splice(s,1);s<a;)o.uniqIds[o.fns[s++].uniqId]=s-1;delete o.uniqIds[r]}}}else delete o[t];return this},_liveClassTrigger:function(t){var n=c[t.type];if(n){var i=t.target,o=Object.keys(n);do{for(var r,s=" "+i.className+" ",a=0;r=o[a++];)if(-1!==s.indexOf(" "+r+" ")){for(var u=!1,l=n[r].fns,h=0;h<l.length;h++)!1===l[h].fn.apply(e(i),arguments)&&(u=!0);if(u&&t.preventDefault(),u||t.isPropagationStopped())return;o.splice(--a,1)}}while(o.length&&(i=i.parentNode))}},_buildLiveEventFn:function(t,n){var i=this;return function(o){var r=[i._name,((o.data||(o.data={})).domElem=e(this)).closest(i.buildSelector()),!0],s=y.apply(null,n?r.concat([t,o]):r);if(s&&!n&&t)return t.apply(s,arguments)}},liveInitOnEvent:function(t,e,n){return this.liveBindTo(t,e,n,!0)},liveBindTo:function(t,i,o,r){i&&!e.isFunction(i)||(o=i,i=t,t=n),t&&"string"!=typeof t||(t={elem:t}),t.elemName&&(t.elem=t.elemName);var s=this;return t.elem&&t.elem.indexOf(" ")>0?(t.elem.split(" ").forEach((function(e){s._liveClassBind(v(s._name,e,t.modName,t.modVal),i,o,r)})),s):s._liveClassBind(v(s._name,t.elem,t.modName,t.modVal),i,o,r)},liveUnbindFrom:function(t,i,o){i&&!e.isFunction(i)||(o=i,i=t,t=n);var r=this;return t&&t.indexOf(" ")>1?(t.split(" ").forEach((function(t){r._liveClassUnbind(v(r._name,t),i,o)})),r):r._liveClassUnbind(v(r._name,t),i,o)},_liveInitOnBlockEvent:function(t,e,n,i){var o=this._name;return l[e].on(t,(function(t){if(t.block.domElem){var e=arguments,r=t.block[i](o);n&&r.forEach((function(t){n.apply(t,e)}))}})),this},liveInitOnBlockEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOn")},liveInitOnBlockInsideEvent:function(t,e,n){return this._liveInitOnBlockEvent(t,e,n,"findBlocksOutside")},on:function(t,e,n,i,o){return t.jquery?this._liveCtxBind(t,e,n,i,o):this.__base(t,e,n,i,o)},un:function(t,e,n,i){return t.jquery?this._liveCtxUnbind(t,e,n,i):this.__base(t,e,n)},liveCtxBind:function(t,e,n,i,o){return this._liveCtxBind(t,e,n,i,o)},_liveCtxBind:function(t,i,o,r,s){var a=this;if("object"==typeof i&&(e.isFunction(o)||e.isFunction(r))&&(i=this._buildModEventName(i)),"string"==typeof i)if(e.isFunction(o)&&(s=r,r=o,o=n),i.indexOf(" ")>-1)i.split(" ").forEach((function(e){a._liveCtxBind(t,e,o,r,s)}));else{var c=a._buildCtxEventName(i),l=u[c]||(u[c]={counter:0,ctxs:{}});t.each((function(){var t=e.identify(this),n=l.ctxs[t];n||(n=l.ctxs[t]={},++l.counter),n[e.identify(r)+(s?e.identify(s):"")]={fn:r,data:o,ctx:s}}))}else e.each(i,(function(e,n){a._liveCtxBind(t,e,n,o)}));return a},liveCtxUnbind:function(t,e,n,i){return this._liveCtxUnbind(t,e,n,i)},_liveCtxUnbind:function(t,n,i,o){"object"==typeof n&&e.isFunction(i)&&(n=this._buildModEventName(n));var r=u[n=this._buildCtxEventName(n)];return r&&(t.each((function(){var t,n=e.identify(this,!0);n&&(t=r.ctxs[n])&&(i&&delete t[e.identify(i)+(o?e.identify(o):"")],i&&!e.isEmptyObject(t)||(r.counter--,delete r.ctxs[n]))})),r.counter||delete u[n]),this},_extractElemNameFrom:function(t){if(t.__bemElemName)return t.__bemElemName;var e=t.eq(0).attr("class").match(this._buildElemNameRE());return e?e[1]:n},extractParams:k,_buildModClassPrefix:function(t,e){return this._name+(e?p+("string"==typeof e?e:this._extractElemNameFrom(e)):"")+f+t},_buildModValRE:function(t,e,n){return new RegExp("(\\s|^)"+this._buildModClassPrefix(t,e)+"(?:"+f+"("+d+"))?(?=\\s|$)",n)},_buildElemNameRE:function(){return new RegExp(this._name+p+"("+d+")(?:\\s|$)")},buildSelector:function(t,e,n){return"."+v(this._name,t,e,n)},getBlockByUniqId:function(t){return s[t]},getWindowSize:function(){return{width:i.width(),height:i.height()}}});e((function(){t.DOM.scope=e("body")}))}(BEM,jQuery)},3959:function(){!function(t,e,n){var i,o="_";function r(t){var e=typeof t;return"string"===e||"number"===e||"boolean"===e}function s(t,e,n){null!=e&&!1!==e&&(n.push(o,t),!0!==e&&n.push(o,e))}function a(t,e,n,i){i.push(t),s(e,n,i)}function u(t,e,n,o,r){a(t,i,i,r),r.push("__",e),s(n,o,r)}t.INTERNAL={NAME_PATTERN:"[a-zA-Z0-9-]+",MOD_DELIM:o,ELEM_DELIM:"__",buildModPostfix:function(t,e,n){var i=n||[];return s(t,e,i),n?i:i.join("")},buildClass:function(t,e,n,o,s){if(r(n)?r(o)||(s=o,o=n,n=e,e=i):void 0!==n?(s=n,n=i):e&&"string"!=typeof e&&(s=e,e=i),!e&&void 0===n&&!s)return t;var c=s||[];return e?u(t,e,n,o,c):a(t,n,o,c),s?c:c.join("")},buildClasses:function(t,i,o,r){i&&"string"!=typeof i&&(r=o,o=i,i=n);var s=r||[];return i?u(t,i,n,n,s):a(t,n,n,s),o&&e.each(o,(function(e,n){n&&(s.push(" "),i?u(t,i,e,n,s):a(t,e,n,s))})),r?s:s.join("")}}}(BEM,jQuery)},9666:function(){!function(t,e){var n=[],i=t.inherit,o=t.isFunction,r=Function.prototype.call.bind(Object.prototype.hasOwnProperty),s={},a={};function u(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")}function c(t,e,n){var i,s,a;if(o(t))e[u(n,"*","*")]=t;else for(i in t)if(r(t,i))if(a=t[i],o(a))e[u(n,i,"*")]=a;else for(s in a)r(a,s)&&(e[u(n,i,s)]=a[s])}function l(t){var e;if(t.onSetMod&&(c(t.onSetMod,t),delete t.onSetMod),t.onElemSetMod){for(e in t.onElemSetMod)r(t.onElemSetMod,e)&&c(t.onElemSetMod[e],t,e);delete t.onElemSetMod}}window.BEM=i(t.observable,{__constructor:function(t,e,n){var i=this;i._modCache=t||{},i._processingMods={},i._params=e,i.params=null,!1!==n?i._init():i.afterCurrentEvent((function(){i._init()}))},_init:function(){return this._initing||this.hasMod("js","inited")||(this._initing=!0,this.params||(this.params=t.extend(this.getDefaultParams(),this._params),delete this._params),this.setMod("js","inited"),delete this._initing,this.hasMod("js","inited")&&this.trigger("init")),this},changeThis:function(t,e){return t.bind(e||this)},afterCurrentEvent:function(t,e){this.__self.afterCurrentEvent(t.bind(e||this))},on:function(e,n,i,o){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this.__self._buildModEventName(e)),this.__base.apply(this,arguments)},trigger:function(e,n){var i=!0;return"object"!=typeof e||e instanceof t.Event||(i="js"===e.modName||this.hasMod("js"),e=this.__self._buildModEventName(e)),i&&(this.__base(e=this.buildEvent(e),n),this._trigger(e,n)),this},_trigger:function(t,e){this.__self.trigger(t,e)},buildEvent:function(e){return"string"==typeof e&&(e=t.Event(e)),e.block=this,e},hasMod:function(t,n,i){var o=arguments.length,r=!1;1==o?(i="",n=t,t=e,r=!0):2==o&&("string"==typeof t?(i=n,n=t,t=e):(i="",r=!0));var s=this.getMod(t,n)===i;return r?!s:s},getMod:function(t,e){var n=typeof t;if("string"===n||"undefined"===n){e=t||e;var i=this._modCache;return e in i?i[e]:i[e]=this._extractModVal(e)}return this._getElemMod(e,t)},_getElemMod:function(t,e,n){return this._extractModVal(t,e,n)},getMods:function(t){var e=t&&"string"!=typeof t,n=this._modCache,i=[].slice.call(arguments,e?1:0);return i.length?i.reduce((function(t,e){return e in n&&(t[e]=n[e]),t}),{}):n},setMod:function(n,i,o){void 0===o&&("string"==typeof n?(o=void 0===i||i,i=n,n=e):o=!0);var r=this;if(!n||n[0]){!1===o||null===o?o="":!0!==o&&(o=o.toString());var s=(n&&n[0]?t.identify(n[0]):"")+"_"+i;if(this._processingMods[s])return r;var a,u=n?r._getElemMod(i,n,a=r.__self._extractElemNameFrom(n)):r.getMod(i);if(u===o)return r;this._processingMods[s]=!0;var c=!0,l=[i,o,u];n&&l.unshift(n),[["*","*"],[i,"*"],[i,o]].forEach((function(t){c=!1!==r._callModFn(a,t[0],t[1],l)&&c})),!n&&c&&(r._modCache[i]=o),c&&r._afterSetMod(i,o,u,n,a),delete this._processingMods[s]}return r},_afterSetMod:function(t,e,n,i,o){var r={modName:t,modVal:e,oldModVal:n};i&&(r.elem=i),this.trigger({modName:t,modVal:"*",elem:o},r).trigger({modName:t,modVal:e,elem:o},r)},toggleMod:function(t,n,i,o,r){"string"==typeof t&&(r=o,o=i,i=n,n=t,t=e),void 0===o?o="":"boolean"==typeof o&&(r=o,o="");var s=this.getMod(t,n);return(s==i||s==o)&&this.setMod(t,n,"boolean"==typeof r?r?i:o:this.hasMod(t,n,i)?o:i),this},delMod:function(t,n){return n||(n=t,t=e),this.setMod(t,n,"")},_callModFn:function(t,n,i,o){var r=u(t,n,i);return this[r]?this[r].apply(this,o):e},_extractModVal:function(t,e){return""},channel:function(t,e){return this.__self.channel(t,e)},getDefaultParams:function(){return{}},del:function(t){var e=[].slice.call(arguments);return"string"==typeof t&&e.unshift(this),this.__self.del.apply(this.__self,e),this},destruct:function(){var t={modName:"js",modVal:"",oldModVal:"inited"};this.trigger({modName:t.modName,modVal:t.modVal},t)}},t.extend(window.BEM,{_name:"i-bem",blocks:s,decl:function(n,r,a){"string"==typeof n?n={block:n}:n.name&&(n.block=n.name),l(r||(r={}));var u,c,h=s[n.baseBlock||n.block]||this;if(n.modName){var d=(u=n.modName,(c=n.modVal)?Array.isArray(c)?function(t){for(var e=0,n=c.length;e<n;)if(t.hasMod(u,c[e++]))return!0;return!1}:function(t){return t.hasMod(u,c)}:function(t){return t.hasMod(u)});t.each(r,(function(t,n){o(n)&&(r[t]=function(){var i;if(d(this))i=n;else{var o=h.prototype[t];o&&o!==r[t]&&(i=this.__base)}return i?i.apply(this,arguments):e})}))}if(a&&"boolean"==typeof a.live){var f=a.live;a.live=function(){return f}}var p,m=h;return n.baseMix&&(m=[m],n.baseMix.forEach((function(t){m.push(s[t])}))),n.block==h._name?(p=i.self(m,r,a))._processLive(!0):((p=s[n.block]=i(m,r,a))._name=n.block,delete p._liveInitable),p},declMix:function(t,e,n){return l(e||(e={})),t=s[t]=i(e,n)},_processLive:function(t){return!1},create:function(t,e){return"string"==typeof t&&(t={block:t}),new s[t.block](t.mods,e)},getName:function(){return this._name},on:function(e,n,i,o){return"object"==typeof e&&(t.isFunction(n)||t.isFunction(i))&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},un:function(e,n,i){return"object"==typeof e&&t.isFunction(n)&&(e=this._buildModEventName(e)),this.__base.apply(this,arguments)},_buildModEventName:function(t){var e="_"+t.modName+"_"+(!1===t.modVal?"":t.modVal);return t.elem&&(e="__"+t.elem+e),e},_extractElemNameFrom:function(t){},afterCurrentEvent:function(t,e){1==n.push({fn:t,ctx:e})&&setTimeout(this._runAfterCurrentEventFns,0)},_runAfterCurrentEventFns:function(){var t=n.length;t&&n.splice(0,t).forEach((function(t){t.fn.call(t.ctx||this)}),this)},changeThis:function(t,e){return t.bind(e||this)},del:function(t){var e="string"==typeof t,n=e?0:1,i=arguments.length;for(e&&(t=this);n<i;)delete t[arguments[n++]];return this},channel:function(n,i){if("boolean"==typeof n&&(i=n,n=e),n||(n="default"),!i)return a[n]||(a[n]=new t.observable);a[n]&&(a[n].un(),delete a[n])}}))}(jQuery)},8764:function(){!function(t){t||(t=window.Lego={}),t.isSessionValid=function(){return Boolean(t.getCookie("yandex_login"))}}(window.Lego)},4401:function(){!function(t){t||(t=window.Lego={}),t.getCookie=function(t){var e=document.cookie;if(e.length<1)return!1;var n=e.indexOf(t+"=");if(-1===n)return!1;n+=t.length+1;var i=e.indexOf(";",n);return decodeURIComponent(-1===i?e.substring(n):e.substring(n,i))}}(window.Lego)},2289:function(){!function(t,e){e||(e=window.Lego={}),e.init||(e.init=function(n){return(n=e.params=t.extend({id:"",login:e.isSessionValid()&&e.getCookie("yandex_login")||"",yandexuid:e.getCookie("yandexuid"),locale:"ru",retpath:window.location.toString(),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","passport-msg":n.id,"social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100},n,e.params))["show-counters"]=Math.round(100*Math.random())<=n["show-counters-percent"],BEM.blocks["i-global"]._params||t.extend(BEM.blocks["i-global"]._params={},n),n}),e.block||(e.block={}),e.blockInit||(e.blockInit=function(n,i){n=n||document,i=i||".g-js",t(n).find(i).each((function(){var n=t(this),i=n.data("bem")||(this.onclick?this.onclick():{}),o=i.name||"",r=e.block[o];r&&!n.data(o)&&(r.call(n,i),n.data(o,!0).addClass(o+"_js_inited"))}))}),e.blockInitBinded||(e.blockInitBinded=Boolean(t(document).ready((function(){e.blockInit()}))))}(jQuery,window.Lego)},4468:function(){BEM.DOM.decl("i-global",{onSetMod:{js:{inited:function(){this.del(this.__self._params=$.extend({},this.params),"uniqId","name");var t=this.__self._params;t["passport-msg"]||(t["passport-msg"]=t.id),void 0===t["show-counters"]&&(t["show-counters"]=Math.round(100*Math.random())<=t["show-counters-percent"]),t.locale=t.lang,window.BEMHTML&&BEMHTML.apply({block:"i-global",params:t})}}},getDefaultParams:function(){return{id:"",login:Lego.isSessionValid()&&$.cookie("yandex_login")||"",yandexuid:$.cookie("yandexuid"),lang:"ru",tld:"ru",retpath:encodeURI($.decodeURI(location.href)),"passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","lego-path":"/lego","show-counters-percent":100}}},{param:function(t,e){if(void 0===e)return(this._params||{})[t];this._params&&(this._params[t]=e)}})},8353:function(){
/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
jQuery.cookie=function(t,e,n){if(void 0===e){var i=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),r=0;r<o.length;r++){var s=jQuery.trim(o[r]);if(s.substring(0,t.length+1)==t+"="){i=decodeURIComponent(s.substring(t.length+1));break}}return i}n=n||{},null===e&&(e="",n.expires=-1);var a,u="";n.expires&&("number"==typeof n.expires||n.expires.toUTCString)&&("number"==typeof n.expires?(a=new Date).setTime(a.getTime()+24*n.expires*60*60*1e3):a=n.expires,u="; expires="+a.toUTCString());var c=n.path?"; path="+n.path:"",l=n.domain?"; domain="+n.domain:"",h=n.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),u,c,l,h].join("")}},8006:function(){
/**
 * Debounce and throttle function's decorator plugin 1.0.6
 *
 * Copyright (c) 2009 Filatov Dmitry (alpha@zforms.ru)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */
$.extend({debounce:function(t,e,n,i){var o,r=function(){var r=arguments;i=i||this,n&&!o&&t.apply(i,r),clearTimeout(o),o=setTimeout((function(){n||t.apply(i,r),o=null}),e)};return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),r.stop=function(){clearTimeout(o),o=null},r},throttle:function(t,e,n){var i,o,r,s=function(){o=arguments,r=!0,n=n||this,i||function(){r?(t.apply(n,o),r=!1,i=setTimeout(arguments.callee,e)):i=null}()};return s.stop=function(){clearTimeout(i),i=null},s}})},997:function(){
/**
 * Plugin for decoding URI-escaped strings in CP1251 encoding
 *
 * Copyright (c) 2011-2012 Roman Rozhdestvenskiy (sbmaxx@gmail.com)
 */
!function(t){var e={"%D0":"%D0%A0","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DA":"%D0%AA","%DB":"%D0%AB","%DC":"%D0%AC","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF","%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FA":"%D1%8A","%FB":"%D1%8B","%FC":"%D1%8C","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F"};function n(t,n){var i="";try{i=t(n)}catch(o){try{i=t(function(t){return t.replace(/%.{2}/g,(function(t){return e[t]||t}))}(n))}catch(r){i=n}}return i}t.extend({decodeURI:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return n(decodeURI,t)})),decodeURIComponent:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return n(decodeURIComponent,t)}))})}(jQuery)},532:function(){!function(t){t.dom={getActiveElement:function(){try{return t(document.activeElement)}catch(e){return t()}}},t.fn.isFocused=function(){return this.is(t.dom.getActiveElement())}}(jQuery)},436:function(){!function(t){var e=0,n="__"+Number(new Date),i=function(){return"uniq"+ ++e};t.identify=function(t,e){if(!t)return i();var o="uniqueID"in t?"uniqueID":n;return e||o in t?t[o]:t[o]=i()}}(jQuery)},7026:function(){
/**
 * @module inherit
 * @version 2.2.3
 * @author Filatov Dmitry <dfilatov@yandex-team.ru>
 * @description This module provides some syntax sugar for "class" declarations, constructors, mixins,
 *              "super" calls and static members.
 * License: https://github.com/dfilatov/inherit/blob/2.2.3/LICENSE.md
 */
!function(t){var e=function(){return"_"}.toString().indexOf("_")>-1,n=function(){},i=Object.create||function(t){var e=function(){};return e.prototype=t,new e},o=Object.keys,r=t.extend,s=Array.isArray,a=t.isFunction,u=!0,c={toString:""};for(var l in c)c.hasOwnProperty(l)&&(u=!1);var h=u?["toString","valueOf"]:null;function d(n,i,r){for(var s,c,l=function(t){var e=o(t);if(u)for(var n,i=0;n=h[i++];)t.hasOwnProperty(n)&&e.push(n);return e}(r),d=0,f=l.length;d<f;)"__self"!==(s=l[d++])&&(c=r[s],a(c)&&(!e||c.toString().indexOf(".__base")>-1)?i[s]=function(e,o){var r=function t(){var e=this.__base;this.__base=t.__base;var n=o.apply(this,arguments);return this.__base=e,n};return r.__base=n[e]||("__constructor"===e?i.__self.__parent:t.noop),r}(s,c):i[s]=c)}function f(e,n){for(var i,o=1;i=e[o++];)n?a(i)?t.inheritSelf(n,i.prototype,i):t.inheritSelf(n,i):n=a(i)?t.inherit(e[0],i.prototype,i):t.inherit(e[0],i);return n||e[0]}t.inherit=function(){var t=arguments,e=s(t[0]),o=e||a(t[0]),u=o?e?f(t[0]):t[0]:n,c=t[o?1:0]||{},l=t[o?2:1],h=c.__constructor||o&&u.prototype.__constructor?function(){return this.__constructor.apply(this,arguments)}:o?function(){return u.apply(this,arguments)}:function(){};if(!o)return h.prototype=c,h.prototype.__self=h.prototype.constructor=h,r(h,l);r(h,u),h.__parent=u;var p=u.prototype,m=h.prototype=i(p);return m.__self=m.constructor=h,c&&d(p,m,c),l&&d(u,h,l),h},t.inheritSelf=function(){var t=arguments,e=s(t[0])?f(t[0],t[0][0]):t[0],n=t[1],i=t[2],o=e.prototype;return n&&d(o,o,n),i&&d(e,e,i),e},t.inherit.self=t.inheritSelf}(jQuery)},9793:function(){
/**
 * Observable plugin
 *
 * Copyright (c) 2010 Filatov Dmitry (alpha@zforms.ru)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 * @version 1.0.0
 * @requires $.identify
 * @requires $.inherit
 */
!function(t){var e="__"+Number(new Date)+"storage",n=function(e,n){return t.identify(e)+(n?t.identify(n):"")},i={buildEventName:function(t){return t},on:function(i,o,r,s,a){if("string"==typeof i){t.isFunction(o)&&(s=r,r=o,o=void 0);for(var u,c=n(r,s),l=this[e]||(this[e]={}),h=i.split(" "),d=0;i=h[d++];)if(!(c in(u=l[i=this.buildEventName(i)]||(l[i]={ids:{},list:{}})).ids)){var f=u.list,p={fn:r,data:o,ctx:s,special:a};f.last?(f.last.next=p,p.prev=f.last):f.first=p,u.ids[c]=f.last=p}}else{var m=this;t.each(i,(function(t,e){m.on(t,e,o,a)}))}return this},onFirst:function(t,e,n,i){return this.on(t,e,n,i,{one:!0})},un:function(i,o,r){if("string"==typeof i||void 0===i){var s=this[e];if(s)if(i){for(var a,u=i.split(" "),c=0;i=u[c++];)if(a=s[i=this.buildEventName(i)])if(o){var l=n(o,r),h=a.ids;if(l in h){var d=a.list,f=h[l],p=f.prev,m=f.next;p?p.next=m:f===d.first&&(d.first=m),m?m.prev=p:f===d.last&&(d.last=p),delete h[l]}}else delete this[e][i]}else delete this[e]}else{var _=this;r=o,t.each(i,(function(t,e){_.un(t,e,r)}))}return this},trigger:function(n,i){var o=this[e],r="string"==typeof n,s=r?n:n.type,a=this.buildEventName(s);if(r||(n.type=a,n.target||(n.target=this)),o&&(o=o[a])){var u,c=o.list.first;for(c&&r&&((n=t.Event(a)).target=this);c;)n.data=c.data,void 0!==(u=c.fn.call(c.ctx||this,n,i))&&(n.result=u,!1===u&&(n.preventDefault(),n.stopPropagation())),c.special&&c.special.one&&this.un(s,c.fn,c.ctx),c=c.next}return this}};t.observable=t.inherit(i,i)}(jQuery)},7062:function(){!function(t){var e=t(window),n=o(),i=r();function o(){return window.innerHeight|0+e.outerHeight()}function r(){return window.innerWidth|0+e.outerWidth()}(t.event.special.resize||(t.event.special.resize={})).preDispatch=function(t){var e=o(),s=r();if(i===s&&n===e)return!1;n=e,i=s}}(jQuery)},8017:function(){
/*!
 * jQuery-ajaxTransport-XDomainRequest - v1.0.4 - 2015-03-05
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2015 Jason Moon (@JSONMOON)
 * Licensed MIT
 */
!function(t){if(!t.support.cors&&t.ajaxTransport&&window.XDomainRequest){var e=/^(https?:)?\/\//i,n=/^get|post$/i,i=new RegExp("^(//|"+location.protocol+")","i");t.ajaxTransport("* text html json",(function(o,r,s){if(o.crossDomain&&o.async&&n.test(o.type)&&e.test(o.url)&&i.test(o.url)){var a=null;return{send:function(e,n){var i="",s=(r.dataType||"").toLowerCase();a=new XDomainRequest,/^\d+$/.test(r.timeout)&&(a.timeout=r.timeout),a.ontimeout=function(){n(500,"timeout")},a.onload=function(){var e="Content-Length: "+a.responseText.length+"\r\nContent-Type: "+a.contentType,i={code:200,message:"success"},o={text:a.responseText};try{if("html"===s||/text\/html/i.test(a.contentType))o.html=a.responseText;else if("json"===s||"text"!==s&&/\/json/i.test(a.contentType))try{o.json=t.parseJSON(a.responseText)}catch(r){i.code=500,i.message="parseerror"}}catch(u){throw u}finally{n(i.code,i.message,o,e)}},a.onprogress=function(){},a.onerror=function(){n(500,"error",{text:a.responseText})},r.data&&(i="string"===t.type(r.data)?r.data:t.param(r.data)),a.open(o.type,o.url),a.send(i)},abort:function(){a&&a.abort()}}}}))}}(jQuery)},6493:function(){!function(t,e){var n={};/msie|trident/i.test(e)?n.ie=parseInt(e.split(/msie|rv:/i)[1],10):-1!==e.indexOf("Opera")&&(n.opera=parseInt(e.split(/Version\//i)[1],10));var i,o={},r={};(i=e.match(/Windows\sPhone[^\d]*\s([\d.]+)/))?o.wp=i[1]:(i=e.match(/Android\s+([\d.]+)/))?o.android=i[1]:e.match(/\sHTC[\s_].*AppleWebKit/)?o.android="2.3":(i=e.match(/iPhone\sOS\s([\d_]+)/))?(o.ios=i[1].replace(/_/g,"."),r.iphone=!0):(i=e.match(/iPad.*OS\s([\d_]+)/))?(o.ios=i[1].replace(/_/g,"."),r.ipad=!0):(i=e.match(/Bada\/([\d.]+)/))?o.bada=i[1]:(i=e.match(/MSIE\s9/))?o.wp="7.5":o.other=!0,BEM.DOM.decl("i-ua",{onSetMod:{js:{inited:function(){var t=this.__self,e="other";["ios","android","bada","wp","opera"].some((function(n){return t[n]&&(e=n)})),this.setMod("platform",e)}}},setVersion:function(){var t=this.parseVersion();t&&(this.setMod(t.platform,t.major),this.setMod(t.platform+"-subversion",t.subversion))},parseVersion:function(){if(this.__self.ios||this.__self.android){var t=(this.__self.ios||this.__self.android).split("."),e=t.shift(),n=t.join("-");return{platform:this.getMod("platform"),major:e,subversion:n}}}},{ios:o.ios,iphone:r.iphone,ipad:r.ipad,android:o.android,bada:o.bada,wp:o.wp,other:o.other,ua:e,ie:n.ie,opera:n.opera})}(window,navigator.userAgent)},9253:function(){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this.on("change",this._updateClear)._updateClear()}}},_onClearClick:function(){return this.trigger("clear"),this.removeInsets&&this.removeInsets(),this.clearInput({source:"clear"})._focus()},clearInput:function(t){return this.val("",t),this},_updateClear:function(){return this.toggleMod(this.elem("clear"),"visibility","visible",Boolean(this._val))}},{live:function(){return this.liveBindTo("clear","pointerpress",(function(t){this.setMod(this.elem("clear"),"pressed","yes")})).liveBindTo("clear","pointerover",(function(t){this.setMod(this.elem("clear"),"hovered","yes")})).liveBindTo("clear","pointerout",(function(t){this.delMod(this.elem("clear"),"hovered")})).liveBindTo("clear","pointerclick",(function(){this.delMod(this.elem("clear"),"pressed"),this._onClearClick()})).liveBindTo("control","paste",(function(){this.setMod(this.elem("clear"),"visibility","visible")})),this.__base()}})},9692:function(){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this._val=this.elem("control").val()}},disabled:{"*":function(t,e){this.elem("control").prop("disabled",e)},yes:function(){this.delMod("focused")}},focused:function(t,e){if(this.hasMod("disabled"))return!1;e?this._focused||this._focus():this._focused&&this._blur(),this.afterCurrentEvent((function(){this.domElem&&this.trigger(e?"focus":"blur")}))}},isDisabled:function(){return this.hasMod("disabled","yes")},val:function(t,e){var n=void 0!==t,i=this.elem("control");return t=n?null===t?"":t.toString():i.val(),this._val!==t&&(this._val=t,i.val()!==t&&i.val(t),this.trigger("change",e)),n?this:t},name:function(t){var e=this.elem("control");return arguments.length?(e.attr("name",t),this):e.attr("name")},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,o=t.createTextRange();o.moveToBookmark(n.getBookmark());var r=t.createTextRange();r.collapse(!1),e=o.compareEndPoints("EndToEnd",r)>-1?i:-o.moveEnd("character",-i)}}return e},_onFocus:function(){if(parseInt(BEM.blocks["i-ua"].ios,10)>=8&&!this.hasMod("type","textarea")){var t=this.elem("control")[0];t.selectionStart===t.value.length&&(t.scrollLeft=t.scrollWidth)}return this._focused=!0,this.setMod("focused","yes")},_onBlur:function(){return this._returnFocus?(this.afterCurrentEvent((function(){this.domElem&&this._focus()})),this):this.hasMod(this.elem("clear"),"pressed")?this:(this._focused=!1,this.delMod("focused"))},_focus:function(){if(this.hasMod("disabled","yes"))return!1;this.elem("control").focus()},_blur:function(){this._returnFocus=!1,this.elem("control").blur()},_updateVal:function(){this.val(this.elem("control").val())},destruct:function(){this._blur(),this.__base.apply(this,arguments)}},{live:function(){this.liveBindTo("control","focusin focusout",(function(t){this["focusin"===t.type?"_onFocus":"_onBlur"](t)})),this.liveBindTo("control","input",(function(){this._updateVal()})),9===document.documentMode&&(this.liveBindTo("control","focusin",(function(){this.bindToDoc("selectionchange",this._updateVal)})),this.liveBindTo("control","focusout",(function(){this.unbindFromDoc("selectionchange")})))}})},6006:function(){BEM.decl("keycodes",{},{BACKSPACE:8,TAB:9,ENTER:13,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,is:function(t,e){return(Array.isArray(e)?e:Array.prototype.slice.call(arguments,1)).some((function(e){return this[e]===t}),this)}})},961:function(){!function(t,e){if(!e.event.special.pointerclick){var n,i=void 0!==t.ontouchstart||navigator.msMaxTouchPoints>0,o="touchAction"in document.documentElement.style,r=900,s=[],a=[],u=null,c=null,l=o?function(t){return function t(e){return!(!e||e===document.documentElement)&&("manipulation"===getComputedStyle(e)["touch-action"]||t(e.parentElement))}(t)}:function(){return!1};i?(n={click:function(t){var e=Object(t.originalEvent)._sourcePoint;if(!e)return h.apply(this,arguments);e.isDefaultPrevented()&&t.preventDefault()},"pointerdown pointermove pointerleave pointercancel pointerup":function(t){var e,n,i=t.type;if("mouse"!==t.pointerType&&("pointerdown"!==i&&"pointerup"!==i||!l(t.target)))if("pointerdown"===i)c=t;else if("pointermove"===i&&c&&(c.target!==t.target||(e=c,n=t,Math.abs(e.clientX-n.clientX)>10||Math.abs(e.clientY-n.clientY)>10)))c=null;else if("pointerleave"===i||"pointercancel"===i)c=null;else if("pointerup"===i){if(function(t){if(!t.isPrimary)return;s.push(t),setTimeout(Array.prototype.shift.bind(s),r)}(t),!c)return;if(!(t.timeStamp-c.timeStamp>250))return u||(u=setTimeout((function(){u=c=null}))),h.apply(this,arguments);c=null}}},["mousedown","click"].forEach((function(e){t.addEventListener(e,(function(t){!function(t){var e=t.clientX,n=t.clientY,i="_compat"+t.type;if(t._sourcePoint)return;for(var o=0;o<s.length;o++){var u=s[o],c=u.target===t.target;if(!u[i]&&((c||!(Math.abs(e-u.clientX)>25||Math.abs(n-u.clientY)>25))&&(c||document.elementFromPoint(u.clientX,u.clientY)!==u.target))){t._sourcePoint=u,u[i]=t;break}}a.push(t),setTimeout(Array.prototype.shift.bind(a),r)}(t),function(t){var e=function(t){for(var e=0;e<a.length;e++)if(a[e]===t)return a[e]._sourcePoint}(t);return Boolean(e)&&e.target!==t.target}(t)&&(t.preventDefault(),t.stopPropagation())}),!0)}))):n={click:function(t){return h.apply(this,arguments)}},e.event.special.pointerclick={setup:function(){e(this).on(n)},teardown:function(){e(this).off(n)}}}function h(t){var n,i=t.type;return t.button||(t.type="pointerclick",n=e.event.dispatch.apply(this,arguments),t.type=i),n}}(window,jQuery)},4738:function(){!function(t){t.event.special.pointerpress||t.each({pointerpress:"pointerdown",pointerrelease:"pointerup pointercancel"},(function(e,n){function i(n){var i,o=n.type;return"mouse"===n.pointerType&&1!==n.which||(n.type=e,i=t.event.dispatch.apply(this,arguments),n.type=o),i}t.event.special[e]={setup:function(){t(this).on(n,i)},teardown:function(){t(this).off(n,i)}}}))}(jQuery)},5207:function(){!function(t,e,n){var i={bubbles:!1,cancelable:!1,view:null,detail:null,screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",hwTimestamp:0,isPrimary:!1,target:null,currentTarget:null,which:0,pageX:0,pageY:0,timeStamp:0},o=Object.keys(i),r=o.map((function(t){return i[t]})),s=o.length,a=!1,u=[0,1,4,2];try{a=1===new MouseEvent("test",{buttons:1}).buttons}catch(g){}function c(t,e){var n={},i=t.originalEvent||{};e||(e={});for(var c,l=0;l<s;l++)n[c=o[l]]=e[c]||t[c]||i[c]||r[l];return n.x=n.clientX,n.y=n.clientY,n.pressure=n.pressure||(n.buttons?.5:0),n.buttons||a||(n.buttons=u[n.which]||0),n.originalEvent=t.originalEvent||null,e.preventDefault?n.preventDefault=function(){e.preventDefault(),t.preventDefault()}:(n.preventDefault=function(){t.preventDefault()},n._preventScroll=function(){}),n}var l=t.Map&&t.Map.prototype.forEach?new t.Map:{array:[],size:0,set:function(t,e){if(void 0===e)return this.delete(t);this.has(t)||this.size++,this.array[t]=e},has:function(t){return void 0!==this.array[t]},delete:function(t){this.has(t)&&(delete this.array[t],this.size--)},get:function(t){return this.array[t]},clear:function(){this.array.length=0,this.size=0},forEach:function(t,e){return this.array.forEach((function(n,i){t.call(e,n,i,this)}),this)}},h={eventMap:{},captureInfo:{},eventSourceList:[],registerSource:function(t,e){var n=e.events;n&&(n.forEach((function(t){e[t]&&(this.eventMap[t]=e[t].bind(e))}),this),this.eventSourceList.push(e))},register:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.register.call(e,t)},unregister:function(t){for(var e,n=this.eventSourceList.length,i=0;i<n&&(e=this.eventSourceList[i]);i++)e.unregister.call(e,t)},contains:function(t,e){return!!t.contains&&t.contains(e)},getCommonAncestor:function(t,n){for(;t&&t!==e.documentElement;){if(t.contains&&t.contains(n))return t;t=t.parentNode}return null},down:function(t){t.bubbles=!0,this.fireEvent("pointerdown",t)},move:function(t){t.bubbles=!0,this.fireEvent("pointermove",t)},up:function(t){t.bubbles=!0,this.fireEvent("pointerup",t)},enter:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.pop(),this.fireEvent("pointerenter",t)},leave:function(t){var e=[],n=t.target,i=this.getCommonAncestor(n,t.relatedTarget);for(t.bubbles=!1;n&&n!==i;)e.push(n),n=n.parentNode;for(;e.length;)t.target=e.shift(),this.fireEvent("pointerleave",t)},over:function(t){t.bubbles=!0,this.fireEvent("pointerover",t)},out:function(t){t.bubbles=!0,this.fireEvent("pointerout",t)},cancel:function(t){t.bubbles=!0,this.fireEvent("pointercancel",t)},leaveOut:function(t){this.out(t),this.contains(t.target,t.relatedTarget)||this.leave(t)},enterOver:function(t){this.over(t),this.contains(t.target,t.relatedTarget)||this.enter(t)},listen:function(t,e){e.forEach((function(e){this.addEvent(t,e)}),this)},unlisten:function(t,e){e.forEach((function(e){this.removeEvent(t,e)}),this)},addEvent:function(t,e){n(t).on(e,this.boundHandler)},removeEvent:function(t,e){n(t).off(e,this.boundHandler)},eventHandler:function(t){var e=this.eventMap[t.type];e&&e(t,t.originalEvent)},makeEvent:function(t,e){this.captureInfo[e.pointerId]&&(e.relatedTarget=null);var i=function(t,e){var i=n.Event(t),o=e.preventDefault,r=i.preventDefault.bind(i);return jQuery.extend(i,e),i.preventDefault=function(){o(),r()},i}(t,e);return i._target=i._target||e.target,i},fireEvent:function(t,e){var n=this.makeEvent(t,e);return this.dispatchEvent(n)},getTarget:function(t){return this.captureInfo[t.pointerId]||t._target},setCapture:function(t,i){this.captureInfo[t]&&this.releaseCapture(t),this.captureInfo[t]=i,this.implicitRelease=this.releaseCapture.bind(this,t),n(e).on("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("gotpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i}))},releaseCapture:function(t){var i=this.captureInfo[t];i&&(this.captureInfo[t]=void 0,n(e).off("pointerup pointercancel",this.implicitRelease),this.asyncDispatchEvent(n.Event("lostpointercapture",{bubbles:!0,cancelable:!1,pointerId:t,_target:i})))},dispatchEvent:function(t){var e=this.getTarget(t);if(e)return n.event.trigger(t,null,e,!t.bubbles)},asyncDispatchEvent:function(e){(t.requestAnimationFrame||setTimeout)(this.dispatchEvent.bind(this,e))}};h.boundHandler=h.eventHandler.bind(h);var d,f,p={POINTER_ID:1,POINTER_TYPE:"mouse",DEDUP_DIST:25,events:["mousedown","mousemove","mouseup","mouseover","mouseout"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},lastTouches:[],isEventSimulatedFromTouch:function(t){for(var e,n=this.lastTouches,i=t.clientX,o=t.clientY,r=0,s=n.length;r<s&&(e=n[r]);r++){var a=Math.abs(i-e.x),u=Math.abs(o-e.y);if(a<=this.DEDUP_DIST&&u<=this.DEDUP_DIST)return!0}},prepareEvent:function(t){return c(t,{pointerId:this.POINTER_ID,isPrimary:!0,pointerType:this.POINTER_TYPE})},mousedown:function(t){this.isEventSimulatedFromTouch(t)||(l.has(this.POINTER_ID)&&this.cancel(t),l.set(this.POINTER_ID,t),h.down(this.prepareEvent(t)))},mousemove:function(t){this.isEventSimulatedFromTouch(t)||h.move(this.prepareEvent(t))},mouseup:function(t){if(!this.isEventSimulatedFromTouch(t)){var e=l.get(this.POINTER_ID);e&&e.button===t.button&&(h.up(this.prepareEvent(t)),this.cleanupMouse())}},mouseover:function(t){this.isEventSimulatedFromTouch(t)||h.enterOver(this.prepareEvent(t))},mouseout:function(t){this.isEventSimulatedFromTouch(t)||h.leaveOut(this.prepareEvent(t))},cancel:function(t){h.cancel(this.prepareEvent(t)),this.cleanupMouse()},cleanupMouse:function(){l.delete(this.POINTER_ID)}},m={POINTER_TYPE:"touch",DEDUP_TIMEOUT:2500,CLICK_COUNT_TIMEOUT:200,events:["touchstart","touchmove","touchend","touchcancel"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},firstTouch:null,isPrimaryTouch:function(t){return this.firstTouch===t.identifier},setPrimaryTouch:function(t){(0===l.size||1===l.size&&l.has(1))&&(this.firstTouch=t.identifier,this.firstTouchTarget=t.target,this.scrolling=!1,this.firstXY={X:t.clientX,Y:t.clientY},this.cancelResetClickCount())},removePrimaryPointer:function(t){t.isPrimary&&(this.firstTouch=null,this.firstTouchTarget=null,this.firstXY=null,this.shouldScrollCache=void 0,this.resetClickCount())},clickCount:0,resetId:null,resetClickCount:function(){var t=function(){this.clickCount=0,this.resetId=null}.bind(this);this.resetId=setTimeout(t,this.CLICK_COUNT_TIMEOUT)},cancelResetClickCount:function(){this.resetId&&clearTimeout(this.resetId)},typeToButtons:function(t){return"touchstart"===t||"touchmove"===t?1:0},findTarget:function(t){return e.elementFromPoint(t.clientX,t.clientY)},touchToPointer:function(t){var e=this,i=this.currentTouchEvent,o=t.identifier+2;return c(i,n.extend({},t,{pointerId:o,target:h.captureInfo[o]||this.findTarget(t),bubbles:!0,cancelable:!0,detail:this.clickCount,button:0,buttons:this.typeToButtons(i.type),width:t.webkitRadiusX||t.radiusX||0,height:t.webkitRadiusY||t.radiusY||0,pressure:t.webkitForce||t.force||.5,isPrimary:this.isPrimaryTouch(t),pointerType:this.POINTER_TYPE,preventDefault:function(){e.scrolling=!1,e.shouldScrollCache=!1,e.firstXY=null}}))},processTouches:function(t,e){var n=t.originalEvent.changedTouches;this.currentTouchEvent=t;for(var i,o=0;o<n.length;o++)i=n[o],e.call(this,this.touchToPointer(i))},scrollTypes:{EMITTER:"none",XSCROLLER:"pan-x",YSCROLLER:"pan-y",SCROLLER:/^(?:pan-x pan-y)|(?:pan-y pan-x)|auto$/},touchActionToScrollType:function(t){var e,n=this.scrollTypes;return t===n.EMITTER?e="none":t===n.XSCROLLER?e="X":t===n.YSCROLLER?e="Y":n.SCROLLER.exec(t)&&(e="XY"),e},shouldScroll:function(t){if(void 0!==this.shouldScrollCache)return this.shouldScrollCache;if(!this.firstXY)return!0;var e,n,i=this.firstTouchTarget;do{if(null!==(e=i.getAttribute("touch-action")))break;i=i.parentNode}while(i!==document);var o=this.touchActionToScrollType(e);if("none"===o)n=!1;else if("XY"===o||void 0===o)n=!0;else{var r=t.originalEvent.changedTouches[0],s=o,a="Y"===o?"X":"Y";n=Math.abs(r["client"+s]-this.firstXY[s])>=Math.abs(r["client"+a]-this.firstXY[a])}return this.shouldScrollCache=n,this.firstXY=null,this.firstTouchTarget=null,this.shouldScrollCache},findTouch:function(t,e){for(var n,i=0,o=t.length;i<o&&(n=t[i]);i++)if(n.identifier===e)return!0},vacuumTouches:function(t){var e=t.originalEvent.touches;if(l.size>=e.length){var n=[];l.forEach((function(t,i){if(1!==i&&!this.findTouch(e,i-2)){var o=t.out;n.push(o)}}),this),n.forEach(this.cancelOut,this)}},touchstart:function(t){var e=t.originalEvent.changedTouches[0];this.vacuumTouches(t),this.setPrimaryTouch(e),this.dedupSynthMouse(e),this.scrolling||(this.clickCount++,this.processTouches(t,this.overDown))},overDown:function(t){l.set(t.pointerId,{target:t.target,out:t,outTarget:t.target}),h.over(t),h.enter(t),h.down(t)},touchmove:function(t){this.scrolling||(this.shouldScroll(t)?(this.scrolling=!0,this.touchcancel(t)):(t.preventDefault(),this.processTouches(t,this.moveOverOut)))},moveOverOut:function(t){var e=l.get(t.pointerId);if(e){var n=e.out,i=e.outTarget;h.move(t),n&&i!==t.target&&(n.relatedTarget=t.target,t.relatedTarget=i,n.target=i,t.target?(h.leaveOut(n),h.enterOver(t)):(t.target=i,t.relatedTarget=null,this.cancelOut(t))),e.out=t,e.outTarget=t.target}},touchend:function(t){this.dedupSynthMouse(t.originalEvent.changedTouches[0]),this.processTouches(t,this.upOut)},upOut:function(t){this.scrolling||(h.up(t),h.out(t),h.leave(t)),this.cleanUpPointer(t)},touchcancel:function(t){this.processTouches(t,this.cancelOut)},cancelOut:function(t){h.cancel(t),h.out(t),h.leave(t),this.cleanUpPointer(t)},cleanUpPointer:function(t){l.delete(t.pointerId),this.removePrimaryPointer(t)},dedupSynthMouse:function(t){var e=p.lastTouches;if(this.isPrimaryTouch(t)){var n={x:t.clientX,y:t.clientY};e.push(n);var i=function(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}.bind(null,e,n);setTimeout(i,this.DEDUP_TIMEOUT)}}},_={POINTER_TYPES:["","unavailable","touch","pen","mouse"],HAS_BITMAP_TYPE:t.MSPointerEvent&&"number"==typeof t.MSPointerEvent.MSPOINTER_TYPE_MOUSE,events:["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerOut","MSPointerOver","MSPointerCancel","MSGotPointerCapture","MSLostPointerCapture"],register:function(t){h.listen(t,this.events)},unregister:function(t){h.unlisten(t,this.events)},prepareEvent:function(t){var e=c(t);return this.HAS_BITMAP_TYPE&&(e.pointerType=this.POINTER_TYPES[e.pointerType]),e},cleanup:function(t){l.delete(t)},MSPointerDown:function(t){l.set(t.originalEvent.pointerId,t),h.down(this.prepareEvent(t))},MSPointerMove:function(t){h.move(this.prepareEvent(t))},MSPointerUp:function(t){h.up(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSPointerOut:function(t){h.leaveOut(this.prepareEvent(t))},MSPointerOver:function(t){h.enterOver(this.prepareEvent(t))},MSPointerCancel:function(t){h.cancel(this.prepareEvent(t)),this.cleanup(t.originalEvent.pointerId)},MSGotPointerCapture:function(t){h.fireEvent("gotpointercapture",this.prepareEvent(t))},MSLostPointerCapture:function(t){h.fireEvent("lostpointercapture",this.prepareEvent(t))}},v=function(t){if(!l.has(t))throw new Error("InvalidPointerId")};t.Element&&Element.prototype.setPointerCapture?(d=function(t,e){t.setPointerCapture(e)},f=function(t,e){t.releasePointerCapture(e)}):t.navigator.msPointerEnabled?(d=function(t,e){v(e),t.msSetPointerCapture(e)},f=function(t,e){v(e),t.msReleasePointerCapture(e)}):(d=function(t,e){v(e),h.setCapture(e,t)},f=function(t,e){v(e),h.releaseCapture(e,t)}),n.fn.extend({setPointerCapture:function(t){d(this[0],t)},releasePointerCapture:function(t){f(this[0],t)}}),t._pointerPolyfillInited||(t._pointerPolyfillInited=!0,t.PointerEvent?["move","down","up","over","out","enter","leave","cancel"].forEach((function(t){var e=jQuery.event.fixHooks,n="pointer"+t;e[n]||(e[n]={}),e[n].props=o.concat(e[n].props||[])})):(delete n.event.special.pointerenter,delete n.event.special.pointerleave,t.navigator.msPointerEnabled?h.registerSource("ms",_):(h.registerSource("mouse",p),void 0!==t.ontouchstart&&h.registerSource("touch",m)),h.register(document)))}(window,document,jQuery)},7302:function(){!function(){var t=$(window),e=$(document.documentElement),n=0,i=!1;function o(){e.hasClass("pointerfocus")&&(i=!0,setTimeout((function(){i=!1})))}document.documentMode<=11?e.on("focusin",(function(t){var e=t.originalEvent;!e||e.fromElement||e.relatedTarget||o()})):t.on("blur",(function(){t.one("focus",o)})),e.addClass("utilityfocus").on({focusin:function(){e.toggleClass("pointerfocus",i).toggleClass("utilityfocus",!i)},keydown:function(){clearTimeout(n),i=!1},"pointerdown pointerup click":function(t){i=!0,clearTimeout(n),n=setTimeout((function(){i=!1}),600)}})}()},1952:function(){var t;t=Array.prototype.slice,Function.prototype.bind||(Function.prototype.bind=function(e){var n=this,i=t.call(arguments,1);return function(){return n.apply(e,i.concat(t.call(arguments)))}})},2456:function(){BEM.DOM.decl("popup",{onSetMod:{js:{inited:function(){this.__base.call(this);var t=this.findElem("under").first();this._underClassAttr=t.attr("class"),this.isDivEnough()?this._under=t:(t.remove(),this._under=null),this._underInPool=!1}}},isDivEnough:function(){return!0},_createUnder:function(){return $('<iframe frameBorder="0" tabindex="-1" src="about:blank"/>')},_getUnder:function(){if(this._under)return this._under;var t=this.__self._underPool.pop();return t&&(this._underInPool=!1),this._under=t,t||this._createUnder()},_attachUnder:function(){var t=this._under=this._getUnder();t.attr("class",this._underClassAttr),this.hasMod(t,"type","paranja")?t.detach().insertBefore(this.domElem).css("z-index",this._zIndex):t.prependTo(this.domElem)},_detachUnder:function(){var t=this._under;t.removeAttr("style"),this.__self._underPool.push(t.detach()),this._under=null,this._underInPool=!0},destruct:function(){var t=this.__base.apply(this,arguments);return this._underInPool&&this.__self._underPool.pop(),this._under&&this._under.remove(),t}},{_underPool:[]})},9739:function(){BEM.DOM.decl({block:"popup",modName:"adaptive",modVal:"yes"},{onSetMod:{adaptive:{yes:function(){this._enableAdaptive()},no:function(){this._disableAdaptive()}},"watch-scroll":{yes:function(){this._watchScroll()},no:function(){this._unwatchScroll()}}},_enableAdaptive:function(){this.afterCurrentEvent((function(){this.domElem&&this.bindToWin("resize",this.onResize)})),this._watchScroll()},_disableAdaptive:function(){this.unbindFromWin("resize")._unwatchScroll()},getScrollEvents:function(){return["scroll"]},_watchScroll:function(){this._owner&&!this.hasMod("watch-scroll","no")&&this.bindTo(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "),this.onScroll,this)},_unwatchScroll:function(){this._owner&&this.unbindFromDomElem(this._owner.parents().add(this._viewport),this.getScrollEvents().join(" "))},onResize:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},onScroll:function(t){this._cache={},this._isShown&&!this._isHiding&&this.repaint()},destruct:function(){this._disableAdaptive(),this.__base.apply(this,arguments)}})},5689:function(){BEM.DOM.decl({block:"popup",modName:"animate",modVal:"yes"},{afterShow:function(){var t=this.getCurrDirection();if(t){var e=t.to,n=this.getCurrPos(),i={opacity:1,top:n.top,left:n.left},o={opacity:0,top:n.top,left:n.left};"bottom"===e?o.top+=10:"top"===e?o.top-=10:"left"===e?o.left-=10:"right"===e&&(o.left+=10),this.domElem.stop(!0).css(o).animate(i,this.params.duration)}},beforeHide:function(t){var e=this.getCurrDirection();if(!e)return t();var n=e.to,i=this.getCurrPos(),o=this.domElem,r={top:i.top,left:i.left,opacity:0};return"bottom"===n?r.top+=10:"top"===n?r.top-=10:"left"===n?r.left-=10:"right"===n&&(r.left+=10),o.stop(!0,!0).animate(r,this.params.duration,(function(){t(),o.css("opacity","")}))}})},3670:function(){BEM.DOM.decl("popup",{onSetMod:{autoclosable:{yes:function(){this._enableAutoclosable()},"":function(){this._disableAutoclosable()}}},_enableAutoclosable:function(){if(this.domElem){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.bindTo(t,"pointerclick",(function(t){t.stopPropagation(),this.hide({source:"outside-click"})})),this.bindTo(t,"pointerdown",(function(){this._skipReturnFocus=!0}))),this.bindTo("pointerdown pointerclick",(function(){var t=this;do{t._preventHideByClick=!0,t=t._getParentPopup()}while(t)})),this.bindToDoc("pointerclick",(function(t){if(this._preventHideByClick)this._preventHideByClick=null;else if(!this._isRelatedNode($(t.target))){var e=$.Event("outside-click");this.trigger(e,t),e.isDefaultPrevented()||this.hide({source:"outside-click"})}})),this.bindToDoc("pointerdown",(function(){this._skipReturnFocus=!0}))}},_disableAutoclosable:function(){var t=this._under;this.hasMod(t,"type","paranja")&&(t.is("iframe")&&(t=$([t[0].contentWindow,t[0].contentWindow.document])),this.unbindFrom(t,"pointerclick pointerdown")),this.unbindFromDoc("pointerclick pointerdown")},_isRelatedNode:function(t){var e=this.containsDomElem(t);if(e||(e=Boolean(this._owner)&&this.containsDomElem.call({domElem:this._owner},t)),e)return!0;var n,i=this._childs.length;for(n=0;n<i;n++)if(this.containsDomElem.call({domElem:this._childs[n].domElem},t))return!0;return!1}})},1287:function(){BEM.DOM.decl("popup",{getDefaultParams:function(){return{zIndexGroupLevel:0,directions:[{to:"bottom",axis:"center",tail:{axis:"center"}},{to:"top",axis:"center",tail:{axis:"center"}},{to:"right",axis:"middle",tail:{axis:"middle"}},{to:"left",axis:"middle",tail:{axis:"middle"}}],tail:{width:24.04,height:12.02,offset:{left:15,right:15,top:15,bottom:15}},duration:150}},onSetMod:{js:{inited:function(){this._cache={},this._viewport=BEM.DOM.win,this._scope=BEM.DOM.scope,this._channel=BEM.channel("popups"),this._inContainer=!1,this._isParentFixed=!1,this._owner=null,this._destructor=null,this._userPosition=null,this._parent=null,this._childs=[],this._isShown=!1,this._isHiding=!1,this._positions={},this._currPos={},this._visibilityFactor=null,this._direction=!1,this._directions={};var t=this.getDefaultParams(),e=this.params,n=this._repackDirParams(t.directions),i=e.generateDirections?this._generateDirections:e.directions,o=this._repackDirParams(i);e.tail&&(this.params.tail=this._mergeParams(t.tail,e.tail)),this._order=o.keys.map((function(t){var e=o.directions[t],i=n.directions[t];return i||(i=n.directions[e.to]),this._directions[t]=this._mergeParams(i,e,{tail:this._tailParamsHook}),t}),this),this._zIndex=null,this._zIndexGroupLevel=null}},visibility:{visible:function(){this._onShown()},"":function(){this._onHidden()}}},show:function(t){var e;if(t instanceof BEM)e=t.domElem.eq(0);else if(t instanceof $)e=t;else if(!t)return;if(e){if(this._owner&&e[0]!==this._owner[0]&&this.delMod("visibility"),this._owner=e,e.length){var n="_"+this.__self.getName()+"-destructor";this._destructor=e.addClass("i-bem "+n).bem(n)}var i=this._findParent(e);i&&this.setParent(i)}else this._userPosition=t;return this.setMod("visibility","outside").repaint()},hide:function(t){if(this._isHiding)return this;if(this._isShown){var e=$.Event("before-hide");if(this.trigger(e,t),e.isDefaultPrevented())return this;if(this._isHiding=!0,this._childs.forEach((function(t){t.hide&&t.hide(),t.delMod("visible")})),this.hasMod("animate","yes")&&!this.hasMod("fade-out","no")){var n=this;return this.beforeHide((function(){n.domElem&&n.delMod("visibility")})),this}}return this.delMod("visibility")},toggle:function(t,e){return this._isShown&&!this._isHiding?this.hide(e):this.show(t||this._owner)},repaint:function(){this._moveToContainer();var t=this._pickDirection();return this.setMod("to",t.to)._show(this._positions[t.key],this._tailPos&&this._tailPos[t.key]),this},getCurrPos:function(){return this._currPos},getCurrDirection:function(){return this._direction},setScope:function(t){return this._scope=t,this._inContainer=!1,this},setContent:function(t){return BEM.DOM.update(this.elem("content"),t),this._resetDefault(),this._isShown&&this.repaint(),this},isShown:function(){return this._isShown},setParent:function(t){return this._parent=t,this._isParentFixed=t.hasMod("position","fixed"),t.addChild&&t.addChild(this),this},addChild:function(t){for(var e=this._childs,n=e.length,i=0;i<n;i++)if(e[i]._uniqId===t._uniqId)return;t.on("hide",(function(){this.removeChild(t)}),this),t.on("beforeClose",(function(){this.afterCurrentEvent((function(){this.removeChild(t)}))}),this),e.push(t)},_getParentPopup:function(){return this._parent},removeChild:function(t){for(var e=this._childs,n=e.length,i=0;i<n;i++)if(e[i]._uniqId===t._uniqId)return void e.splice(i,1)},setSize:function(t){return t&&(this._resetDefault(),this.domElem.css(t),this._isShown&&!this._isHiding&&this.repaint()),this},_show:function(t,e){return this._currPos=t,e&&this.elem("tail").removeAttr("style").css(e),this.domElem.css(t),(!this._isShown||this._isHiding)&&this.hasMod("animate","yes")&&!this.hasMod("fade-in","no")&&this.afterShow(),this._isHiding=!1,this.setMod("visibility","visible"),this},_onShown:function(){this._isShown||this._bindCompatibility(),this.bindToDoc("keydown",(function(t){t.which===BEM.blocks.keycodes.ESC&&0===this._childs.length&&this.hide({source:"esc-key"})})),this._attachRepaintOnResize(),this._bindFocusEvents(),this._attachUnder(),this._isShown=!0,this.hasMod("autoclosable","yes")&&this.afterCurrentEvent((function(){this.domElem&&this._enableAutoclosable()})),this.hasMod("adaptive","yes")&&this._enableAdaptive(),this._channel.on("hide",this.hide,this),this.trigger("show")},_bindCompatibility:function(){this._captureZIndex(),this.__self._visiblePopupsStack.unshift(this),this.trigger("beforeOpen")},_unbindCompatibility:function(){this.trigger("beforeClose");var t=this.__self._visiblePopupsStack;t.splice(t.indexOf(this),1),this._releaseZIndex()},_onHidden:function(){this._isShown&&this._unbindCompatibility(),this.unbindFromDoc("keydown"),this._detachRepaintOnResize(),this._unbindFocusEvents(),this.hasMod("autoclosable","yes")&&this._disableAutoclosable(),this.hasMod("adaptive","yes")&&this._disableAdaptive(),this._detachUnder(),this._cache={},this._isShown=!1,this._isHiding=!1,this._channel.un("hide"),this._returnFocus(),this.trigger("hide")},_attachRepaintOnResize:function(){window.attachEvent&&this.domElem[0].attachEvent("onresize",this.__self._enforcePageRepaint)},_detachRepaintOnResize:function(){window.detachEvent&&this.domElem[0].detachEvent("onresize",this.__self._enforcePageRepaint)},_bindFocusEvents:function(){this._lastFocused=$($.dom.getActiveElement()[0]||this._scope);var t=this.__self._getFocusable(this.elem("content"));this._firstFocusable=t.first(),this._lastFocusable=t.last(),this._skipReturnFocus=!1,0!==this._firstFocusable.length?this.bindTo(this._lastFocused,"keydown",this._onLastFocusedKeyDown).bindTo(this._firstFocusable,"keydown",this._onFirstFocusableKeyDown).bindTo(this._lastFocusable,"keydown",this._onLastFocusableKeyDown):this._skipReturnFocus=!0},_unbindFocusEvents:function(){this.unbindFrom(this._firstFocusable,"keydown"),this.unbindFrom(this._lastFocusable,"keydown"),this.unbindFrom(this._lastFocused,"keydown")},_onLastFocusedKeyDown:function(t){this._lastFocused.is(this._scope)&&!this._lastFocused.is(t.target)||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this[t.shiftKey?"_lastFocusable":"_firstFocusable"].focus())},_onFirstFocusableKeyDown:function(t){t.ctrlKey||t.altKey||t.metaKey||t.shiftKey&&t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_onLastFocusableKeyDown:function(t){t.shiftKey||t.ctrlKey||t.altKey||t.metaKey||t.which===BEM.blocks.keycodes.TAB&&(t.preventDefault(),this._lastFocused.focus())},_returnFocus:function(){(this._parent||{})._skipReturnFocus||this._skipReturnFocus||this._lastFocused.focus()},_mergeParams:function(t,e,n){var i={},o=Object.prototype.hasOwnProperty;return n||(n={}),t&&"object"==typeof t&&Object.keys(t).forEach((function(e){i[e]=t[e]})),Object.keys(e).forEach((function(r){var s=o.call(n,r)?n[r].call(this,t[r],e[r]):e[r];!s||"object"!=typeof s||Array.isArray(s)?i[r]=s:t[r]?i[r]=this._mergeParams(t[r],s,n):i[r]=s}),this),i},_tailParamsHook:function(t,e){return e.offset||(e.offset=this.params.tail.offset),"number"==typeof e.offset?{offset:{left:e.offset,top:e.offset}}:e},_generateDirections:function(){if(this.__self._generateDirectionsCache)return this.__self._generateDirectionsCache;for(var t=[["bottom","top"],["left","right"]],e=[["center","left","right"],["middle","top","bottom"]],n=e,i=t.length,o=[],r=0;r<i;r++)for(var s=t[r],a=s.length,u=0;u<a;u++)for(var c=e[r],l=c.length,h=0;h<l;h++)for(var d=n[r],f=d.length,p=0;p<f;p++)o.push({direction:s[u],axis:c[h],tail:{axis:d[p]}});return this.__self._generateDirectionsCache=o,o},_repackDirParams:function(t){var e,n={};return("string"==typeof t||$.isPlainObject(t))&&(t=[t]),e=t.map((function(t){if("string"==typeof t){var e=t.split("-");t={to:e[0],tail:{}},e[1]&&(t.axis=e[1]),e[2]&&(t.tail.axis=e[2])}var i=t.to;return n[i]||(n[i]=t),t.axis&&(i+="-"+t.axis),t.key=i,n[i]=t,i}),this),{directions:n,keys:e}},setViewport:function(t){return this._viewport=t,this},_pickDirection:function(){var t,e=this._order,n=this.hasMod("adaptive","yes")?e.length:1;for(this._visibilityFactor=0,t=0;t<n;t++){var i=e[t],o=this._directions[i];this._resetPos(i)._pushPos(i,this._calcPos(o))._pushPos(i,this._calcOffsets(o)),this._hasTail()&&this._resetTailPos(i)._pushTailPos(i,this._calcTailPos(o))._pushTailPos(i,this._calcTailOffset(o))._pushPos(i,this._calcOffsetByTail(o)),this._pushPos(i,this._getParentOffset());var r=this._calcVisibilityFactor(o);if((r>this._visibilityFactor||!this._direction)&&(this._visibilityFactor=r,this._direction=this._directions[i],this.size=this.getPlacingSize(),100===r))break}return this._direction},_getParentOffset:function(){var t=this.domElem.offsetParent().offset();return t.left*=-1,t.top*=-1,t},_calcPos:function(t){this._calcPlacingSize(t);var e=this.getOwnerPos(),n=this.getOwnerSize(),i=this.getPlacingSize(),o=t.axis,r=this.params.position||{},s={},a=Object.prototype.hasOwnProperty;switch(t.to){case"bottom":s={top:a.call(r,"top")?r.top:e.top+n.height,left:a.call(r,"left")?r.left:this._calcLeft(o)};break;case"top":s={top:a.call(r,"top")?r.top:e.top-i.height,left:a.call(r,"left")?r.left:this._calcLeft(o)};break;case"left":s={top:a.call(r,"top")?r.top:this._calcTop(o),left:a.call(r,"left")?r.left:e.left-i.width};break;case"right":s={top:a.call(r,"top")?r.top:this._calcTop(o),left:a.call(r,"left")?r.left:e.left+n.width}}return s},_calcTop:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),o=this.getOwnerSize();return"top"===t?e+=i.top:"middle"===t?e+=i.top+o.height/2-n.height/2:"bottom"===t&&(e+=i.top+o.height-n.height),e},_calcLeft:function(t){var e=0,n=this.getPlacingSize(),i=this.getOwnerPos(),o=this.getOwnerSize();return"left"===t?e+=i.left:"center"===t?e+=i.left+o.width/2-n.width/2:"right"===t&&(e+=i.left+o.width-n.width),e},getPlacingSize:function(){return this.getPopupSize()},_calcOffsets:function(t){var e,n=this._cache.offset||(this._cache.offset={}),i=t.key,o=t.offset;if(n[i])return n[i];if(!o)return!1;if(e={left:0,top:0},"number"==typeof o)switch(i){case"left":e.left+=o;break;case"right":e.left-=o;break;case"top":e.top+=o;break;case"bottom":e.top-=o}else o.left&&(e.left+=o.left),o.right&&(e.left-=o.right),o.top&&(e.top+=o.top),o.bottom&&(e.top-=o.bottom);return n[i]=e,e},_hasTail:function(){return 0!==this.elem("tail").length},_moveToContainer:function(t){if(t)this._inContainer=!1;else{if(this._isShown)return;t=this._parent?this._parent.domElem:this._scope}this.domElem.appendTo(t),this._inContainer=!0},_resetPos:function(t){return t?this._positions[t]=null:this._positions={},this},_pushPosTo:function(t,e,n){!1!==n&&("string"==typeof e?this._sum(t[e]||(t[e]={}),n):(n=e,Object.keys(t).forEach((function(e){this._sum(t[e],n)}),this)))},_pushPos:function(t,e){return this._pushPosTo(this._positions,t,e),this},_sum:function(t,e){Object.keys(e).forEach((function(n){t[n]=(t[n]||0)+e[n]}))},_getSizeOf:function(t){return{height:t.outerHeight(),width:t.outerWidth()}},getOwnerSize:function(){return this._owner?this._cache.ownerSize||(this._cache.ownerSize=this._getSizeOf(this._owner)):{height:0,width:0}},getPopupSize:function(){return this._getSizeOf(this.domElem)},_getPosOf:function(t){return t.offset()||{left:0,top:0}},getOwnerPos:function(){var t;return this._owner&&(t=this._getPosOf(this._owner),"pageYOffset"in window&&(t.top-=window.pageYOffset-(document.documentElement.scrollTop||document.body.scrollTop),t.left-=window.pageXOffset-(document.documentElement.scrollLeft||document.body.scrollLeft))),t||this._userPosition},_calcVisibilityFactor:function(t){var e,n,i=this._viewport,o=this._getSizeOf(i),r=this.getPopupSize(),s=this._positions[t.key],a=this._parent&&this._isParentFixed?this._parent.domElem.offset():{top:0,left:0},u=this.hasMod("position","fixed")?{top:0,left:0}:{top:i.scrollTop(),left:i.scrollLeft()},c=s.top+a.top-u.top,l=s.left+a.left-u.left,h=l+r.width-o.width,d=c+r.height-o.height,f={height:r.height,width:r.width},p=100;return d>0&&(f.height-=d),c<0&&(f.height+=c),l<0&&(f.width+=l),h>0&&(f.width-=h),f.height<0||f.width<0?p=0:(n=Math.abs(f.height*f.width),(e=r.height*r.width)!==n&&(p=n/e*100)),p},_findParent:function(t){var e=t.closest(".popup, .popup2");return this.findBlockOn(e,"popup")||this.findBlockOn(e,"popup2")},destruct:function(){return this._childs.forEach((function(t){t.domElem&&BEM.DOM.destruct(t.domElem)})),this.setMod("fade-out","no"),this.hide(),this._isShown&&this._unbindCompatibility(),this.__base.apply(this,arguments)},_calcZIndexGroupLevel:function(){var t=this.params.zIndexGroupLevel,e=this._getParentPopup();return e&&(t+=e._zIndexGroupLevel),this._destructor?this._destructor.findBlocksOutside("z-index-group").reduce((function(t,e){return t+Number(e.getMod("level"))}),t):t},_captureZIndex:function(){null===this._zIndexGroupLevel&&(this._zIndexGroupLevel=this._calcZIndexGroupLevel());var t=this.__self._visiblePopupsZIndexes,e=this._zIndexGroupLevel,n=t[e],i=this._zIndex;return n||(n=t[e]=[(e+1)*this.__self.ZINDEX_FACTOR]),this._zIndex=n[n.length-1]+1,n.push(this._zIndex),this._zIndex!==i&&this.domElem.css("z-index",this._zIndex),this},_releaseZIndex:function(){var t=this.__self._visiblePopupsZIndexes[this._zIndexGroupLevel];return t.splice(t.indexOf(this._zIndex),1),this},_resetDefault:function(){},_calcPlacingSize:function(){}},{live:function(){this.liveBindTo("close","pointerclick",(function(){this.hide({source:"close-click"})}))},_visiblePopupsStack:(BEM.blocks.popup2||{})._visiblePopupsStack||[],_visiblePopupsZIndexes:(BEM.blocks.popup2||{})._visiblePopupsZIndexes||{},ZINDEX_FACTOR:1e3,_getFocusable:function(t){var e=$.data(t,"popup-getFocusable-id");e||(e=$.identify(),$.data(t,"popup-getFocusable-id",e)),e='*[data-popup-getFocusable-id="'+e+'"]';var n="a[href], link, ";return BEM.blocks["i-ua"].opera<13&&(n=""),t.find(n+'*[tabindex], button, input:not([type="hidden"]), textarea, select, menuitem').filter((function(){var t=$(this),n=!0;return!(parseInt(t.prop("tabindex"),10)<0||"hidden"===t.css("visibility"))&&($(this).parentsUntil(e).each((function(){if("none"===$(this).css("display"))return n=!1})),n)}))},_enforcePageRepaint:function(){document.body.className+=""},_generateDirectionsCache:null})},1617:function(){BEM.DOM.decl("suggest2-counter",{pointerStartEvent:"pointerdown",onSetMod:{js:{inited:function(){this.clear()}}},destruct:function(){this.unbindAllEvents()},getDefaultParams:function(){return{submitBySelect:!1,suggestReqID:!1,preventSubmit:!0,host:"//yandex.ru",path:"clck/jclck",dataUrl:"http://ya.ru",params:{},timeout:300}},metaProps:{exprt:"exprt",r:"region",log:"log"},clear:function(){var t=this;return t._params={user_input:"",text:""},t._times=[],t._renderTimes=[],t._renderTime=0,t._path={service:t.params.service,state:"not_shown",index:0,personal:"nah_not_shown",submit:""},t._ratio={len:0,queryLen:0,actionsCount:0},t._firstChange=0,t._lastChange=0,t._sinceChange={first:0,last:0},t._selectedText="",t._session=0,t._reqID=this.__self._generateReqID(),t._meta={},t._afterSendAjaxCallback,t._startClickTime=null,t._startInputTime=null,t._requests=[],t._clicksCount=0,t},submit:function(t){var e=this,n=e.params.suggest.params["suggest2-input"],i=n.val();e._params.text=i,e._params.pos=n.getCaretPosition(),e._params.times=e._requests.map((function(t){return!t.error&&t.duration?t.duration:0})).join("."),e.params.suggestReqID&&e.attachReqID(),e.sendAjax(e.getUrl(),$.extend({submitForm:!0,afterSendAjaxCallback:function(){}},t)),e.trigger("submit",e._getSubmitEventData()).clear(),e._params.prev_query=i},_getSubmitEventData:function(){var t=this;return{path:t._path,times:t._times,render_times:t._params.times,prev_query:t._params.prev_query,user_input:t._params.user_input,text:t._params.text,pos:t._params.pos,ratio:t._ratio,since_first_change:t._sinceChange.first,since_last_change:t._sinceChange.last,session:t._session,suggest_reqid:t._reqID,meta:t._meta,url:t.getUrl()}},sendAjax:function(t,e){return $.ajax({type:"GET",url:t,dataType:"script",timeout:this._getAjaxTimeout()}).always(this._sendAjaxAlways.bind(this,e)),this},_getAjaxTimeout:function(){return this.params.timeout},afterSendAjax:function(t){return this._afterSendAjaxCallback=t,this},getUrl:function(){return this.params.host+["/",this.params.path].concat(this._getUrlParams()).join("/").replace(/(\/+)/g,"/")},_sendAjaxAlways:function(t){t||(t={}),this.params.preventSubmit&&t.submitForm&&this.params.form.submit({block:this.__self.getName(),prevent:!1}),t.afterSendAjaxCallback&&t.afterSendAjaxCallback(),this._afterSendAjaxCallback&&this._afterSendAjaxCallback()},_getUrlParams:function(){var t=this;return this._getParamsList().concat(t._getData()).reduce((function(e,n){return e.concat(t._getParams(n))}),[]).concat(["/"])},_getParamsList:function(){var t=this;return[t.params.params,t._getPath(),t._params,t._getRatio(),t._getSinceChange(),t._getSession(),t._getResponsesShows(),{suggest_reqid:t._reqID}]},initValues:function(){return this._params.prev_query=this.params.suggest.params["suggest2-input"].val(),this},attachReqID:function(){this._reqID=this.__self._generateReqID(),this.params.form.appendHiddenInputs([{name:"suggest_reqid",value:this._reqID}])},getCurrentReqId:function(){return this._reqID},bindEvents:function(){var t=this,e=t.params,n=e.suggest,i=e.form,o=n.getModel(),r=n.params["suggest2-input"],s=n.params["suggest2-popup"];return i.on({"button-click":t._onFormButtonClick,submit:t._onFormSubmit},t),o.on({request:t._onModelRequest,response:t._onModelResponse},t),r.on({change:t._onInputChange,enter:t._onInputEnter},t),s.on({show:t._onPopupShow},t),BEM.blocks["suggest2-item"].on(n.domElem,"enter",t._onSuggestItemEnter,t),n.on({update:t._onSuggestUpdate,select:t._onSuggestSelect},t),t._input=r._input,t._input.bindTo(t.pointerStartEvent,t._onInputClick.bind(t)).on("focus",t._onInputFocus,t),t._input.findElem("control").on("blur",t._onInputBlur.bind(t)),t},_onInputClick:function(){this._startInputTime||(this._startClickTime=Date.now())},_onClickPopup:function(){this._clicksCount++},_onInputFocus:function(){this._timeoutInputTime&&clearTimeout(this._timeoutInputTime),this._startInputTime=this._startClickTime},_onInputBlur:function(t){this._timeoutInputTime=setTimeout(function(){this._startClickTime=null,this._startInputTime=null}.bind(this),300)},_onFormButtonClick:function(){"keyboard"!==this._path.submit&&(this._path.submit="button_by_mouse")},_onFormSubmit:function(t,e){e.data.block!==this.__self.getName()&&!1!==e.data.prevent&&(this.params.preventSubmit&&(e.stopImmediatePropagation(),e.preventDefault()),this._doSubmit())},_doSubmit:function(){this.submit()},_onModelRequest:function(t,e){this._requests.push(e.request)},_onModelResponse:function(t,e){if(Object(e.data).items){var n=e.data.items;this._path.personal=this._hasPersonal(n)?"nah_not_used":"nah_not_shown",this._meta=e.data.meta||{},this._renderTime=new Date,this._setMetaProps(e),this._requests&&delete this._requests[e.val.toLowerCase()]}},_onInputChange:function(t,e){e&&"clear"!==e.source||(this._params.user_input=t.block.val(),this[this._firstChange?"_lastChange":"_firstChange"]=new Date,this._startInputTime||(this._startInputTime=this._firstChange.getTime())),this._selectedText&&(this._path.state="edit"),this._ratio.actionsCount++},_onInputEnter:function(){this._path.submit="keyboard"},_onPopupShow:function(){"not_shown"===this._path.state&&(this._path.state="not_used")},_onSuggestItemEnter:function(t,e){e.byKeyboard&&this.params.suggest.params.updateOnEnterByKeyboard&&(this._selectedText=e.val,this._path.state="suggest")},_onSuggestUpdate:function(){this._addRenderTime(new Date-this._renderTime)},_onSuggestSelect:function(t,e){var n=this;n._path.state=e.byKeyboard?"keyboard":"mouse",n._path.index=e.itemIndex+1,n._selectedText=e.val,e.item.hasMod("personal")&&(n._path.personal="nah_used"),n.params.submitBySelect&&(n._path.submit=e.byKeyboard?"keyboard":"click_by_mouse",n._params.pos=e.pos,n._params.text=this._selectedText),n.params.suggest.isNeedSubmitFormOnSelectItem(e.item)||n.submit({submitForm:!1,afterSendAjaxCallback:e.callbackOnSelect}),e.item.params.safeclickUrl&&((new Image).src=e.item.params.safeclickUrl)},unbindAllEvents:function(){var t=this.params,e=t.suggest,n=t.form,i=e.params["suggest2-popup"];return n.un("button-click").un("submit"),e.getModel().un("request").un("response"),e.params["suggest2-input"].un("change").un("enter"),i.un("show").un("hide"),e.un("select"),this},_hasPersonal:function(t){return t.some((function(t){return 1===BEM.blocks["suggest2-view"]._getPrefs(t).pers}))},_setMetaProps:function(t){t.data.meta&&Object.keys(this.metaProps).forEach((function(e){this._params[this.metaProps[e]]=t.data.meta[e]||""}),this)},_getParams:function(t){return Object.keys(t).reduce((function(e,n){return""===t[n]||e.push(n+"="+encodeURIComponent(t[n]).replace(/%5B/g,"[").replace(/%5D/g,"]").replace(/%2C/g,",")),e}),[])},_getPath:function(){return{path:[this._path.service,this._path.state,"p"+this._path.index,this._path.personal,this._path.submit].join(".")}},_getSession:function(){return this._session=(new Date).getTime()+Math.round(1e4*Math.random()),{session:this._session}},_getSinceChange:function(){var t=this._getSinceTime("first"),e=this._startInputTime&&Date.now()-this._startInputTime||0;return{since_first_change:t,since_last_change:this._getSinceTime("last"),total_input_time:e}},_getSinceTime:function(t){var e="_"+t+"Change";return this._sinceChange[t]=this[e]?(new Date).getTime()-this[e]:0,this._sinceChange[t]},_getResponsesShows:function(){return this._requests.reduce((function(t,e){return t.rqs++,e.error||(e.responseTime&&t.rsp++,0===e.itemsCount&&t.ersp++,e.fromCache&&t.cchd++),t}),{rqs:0,rsp:0,rndr:this._renderTimes.length,ersp:0,clks:this._clicksCount,cchd:0})},_getRatio:function(){return this._ratio.len=this._params.user_input.length,this._ratio.queryLen=this._params.text.length,{ratio:[this._ratio.len,this._ratio.queryLen,this._ratio.actionsCount].join(".")}},_addRenderTime:function(t){return this._renderTimes.push(t),this._params.render_times=this._renderTimes.join("."),this},_getData:function(){return{"*data":"url="+this.params.dataUrl}}},{_generateReqID:function(){return(BEM.blocks["i-global"]&&BEM.blocks["i-global"].param("yandexuid")?BEM.blocks["i-global"].param("yandexuid"):this._random(9)+this._random(9))+String(Date.now()).slice(-7)+this._random(7)},_random:function(t){return Math.random().toString().slice(-Math.min(t,10))}},{live:function(){this.liveInitOnBlockEvent("init","suggest2-form")}})},7180:function(){BEM.DOM.decl("suggest2-detect",{onSetMod:{js:{inited:function(){this.bindToDoc("keydown",(function(t){this.__self._pressedKeyCode=t.which}),this).bindToDoc("keyup",(function(){this.__self._pressedKeyCode=null}),this),this.__self.isSupportInlineSVG()||this.setMod("inlinesvg","no")}}}},{_pressedKeyCode:null,isPressedEscape:function(){return 27===this._pressedKeyCode},_isSupportInlineSVG:null,isSupportInlineSVG:function(){if(null!==this._isSupportInlineSVG)return this._isSupportInlineSVG;var t=document.createElement("div");return t.innerHTML="<svg/>",this._isSupportInlineSVG="http://www.w3.org/2000/svg"===(t.firstChild&&t.firstChild.namespaceURI),this._isSupportInlineSVG}})},100:function(){BEM.DOM.decl("suggest2-form",{onSetMod:{js:{inited:function(){this._isReady=!1,this._nodes=this.initNodes()}}},getDefaultParams:function(){return{inputName:"input",buttonName:"button2",popupName:"popup"}},destruct:function(){this._nodes.forEach((function(t){t.suggest.domElem&&BEM.DOM.destruct(t.suggest.domElem),this.unbindFormEvents(t),t.counter&&t.counter.destruct(),t.proxies.input.destruct(),t.proxies.popup.destruct()}),this),this.__base.apply(this,arguments)},getOwner:function(t){},isReady:function(){return this._isReady},initNodes:function(){var t=this.getNodes();return t.forEach((function(t){t.suggest.init()})),this._isReady=!0,this.trigger("ready",{nodes:t}),t},getNodes:function(){return this.getNodeList().map((function(t){var e=t.suggest,n=e.params;return n.form=this,n.input=t.input,n.popup=t.popup,n.button=t.button,t.proxies={},t.proxies.popup=n["suggest2-popup"]=BEM.create({block:"suggest2-popup",mods:$.extend({for:this.params.popupName},this.params.popupMods)},this._getNodePopupParams(e,n)),t.proxies.input=n["suggest2-input"]=BEM.create({block:"suggest2-input",mods:this.params.inputMods},this._getNodeInputParams(e,n)),t.counter&&(t.counter.params.form=this,t.counter.params.suggest=e,n.counter=t.counter),this.bindFormEvents(t),t}),this)},_getNodeInputParams:function(t,e){return{suggest:t,input:e.input,updateOnEnterByKeyboard:e.updateOnEnterByKeyboard}},_getNodePopupParams:function(t,e,n){return{suggest:t,popup:e.popup,popupContentElem:this.params.popupContentElem,owner:this.getOwner(n)||e.input}},bindFormEvents:function(t){var e=this;return t.button&&t.button.bindTo("pointerclick",(function(t){e._onButtonClick(t)})),e.bindTo("submit",(function(t,n){e.onSubmit(t,n)})),e},_onButtonClick:function(t){this.trigger("button-click",{domEvent:t})},unbindFormEvents:function(t){return t.button&&t.button.un("pointerclick"),this.unbindFrom("submit"),this},submit:function(t){return this.domElem.trigger("submit",t||{}),this},onSubmit:function(t,e){t.data=e||{},this.trigger("submit",t)},getNodeList:function(){var t=this,e=[];return t.elem("node").each((function(n,i){var o=$(i),r=t._getFormNodeElems(o);e.push(t._getFormNodeBlocks(r,o))})),e},_getFormNodeElems:function(t){return{input:this.findElem(t,"input"),button:this.findElem(t,"button")}},_getSuggestForNode:function(t){return this.findBlockInside(t,"suggest2")},_getFormNodeBlocks:function(t,e){var n=this._getSuggestForNode(e);return{node:e,suggest:n,counter:this.findBlockOn("suggest2-counter"),input:this.findBlockOn(t.input,"input"),button:this.findBlockOn(t.button,this.params.buttonName),popup:n.findBlockOn(this.params.popupName)}},appendHiddenInputs:function(t){return BEM.DOM.append(this.domElem,BEMHTML.apply(t.map((function(t){return{block:this.__self.getName(),elem:"hidden-input",tag:"input",attrs:{type:"hidden",name:t.name,value:t.value}}}),this))),this},removeHiddenInputs:function(){return BEM.DOM.destruct(this.findElem(this.domElem,"hidden-input")),this}},{live:function(){return this.liveInitOnBlockInsideEvent("pointerclick change focus","input"),this.__base()}})},5436:function(){BEM.DOM.decl("suggest2-history",{_defaultParams:{running:[],other:[]},getDefaultParams:function(){return $.extend(this.__base(),this._defaultParams)},onAjaxSuccess:function(t){this.params=$.extend(this._defaultParams,t.params||{}),this.__self.updateState(),this.trigger("update",this.params)},getData:function(){return this.params}},{_state:0,updateState:function(){this._state++},getState:function(){return this._state}})},206:function(){BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t._input=t.params.input,t.disableBrowserAutocomplete(),t.realVal(t.val()),t.bindEvents({change:function(e,n){t._onChange(e,n)},clear:$.throttle((function(e,n){t._onClear(e,n)}),300)}),t.bindSuggestEvents()}}},_onChange:function(t,e){this.trigger("change",e)},_onClear:function(t,e){this.trigger("clear",e)},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},get:function(){return this._input},isFocused:function(){return this._input.hasMod("focused")},focus:function(){return this._input.setMod("focused","yes"),this},blur:function(){return this._input.delMod("focused"),this},getControl:function(){return this._input.elem("control")},val:function(t,e){return this._input.val.apply(this._input,arguments)},valWithoutSuggest:function(t,e){return this._input.val.call(this._input,t,$.extend(e,{suggest:!1}))},realVal:function(t){return void 0===t||"string"==typeof t&&(this._realVal=t),this._realVal},width:function(){return this._input.domElem.width()},getCaretPosition:function(){var t,e=this.getControl()[0],n=this.val().length;return document.selection?((t=document.selection.createRange()).moveStart("character",-n),t.text.length):"number"==typeof e.selectionStart?e.selectionStart:n},moveCaretToEnd:function(){var t=this.getControl()[0],e=t.value.length;if(void 0!==t.createTextRange){var n=t.createTextRange();n.collapse(!1),n.select()}else"number"==typeof t.selectionStart&&(t.scrollLeft=999999,t.setSelectionRange(e,e));return this},disableBrowserAutocomplete:function(){this.getControl().attr({autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false","aria-autocomplete":"list"})},_bindedEventsNames:[],bindEvents:function(t,e){return Object.keys(t).forEach((function(n){-1===this._bindedEventsNames.indexOf(n)&&this._bindedEventsNames.push(n),this._eventsFilter(n).on(n,t[n].bind(e||this))}),this),this},bindSuggestEvents:function(){var t=this.params.suggest;return t.on({out:function(t,e){this.a11yDeactive(),this._changeValueByEvent(t,e)}},this),BEM.blocks["suggest2-item"].on(t.domElem,{tpah:this._onSuggestItemTpah,select:this._onSuggestItemSelect,enter:this._onSuggestItemEnter},this),this},_onSuggestItemTpah:function(t,e){this._changeValueByEvent(t,e),this.moveCaretToEnd()},_onSuggestItemSelect:function(t,e){"link"!==t.block.getMod("interact")&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},_onSuggestItemEnter:function(t,e){this.a11yActive(e.id),e.byKeyboard&&this.params.updateOnEnterByKeyboard&&(this._changeValueByEvent(t,e),this.moveCaretToEnd())},unbindAllEvents:function(){return this._input.domElem&&this._bindedEventsNames.forEach((function(t){var e=this._eventsFilter(t);e[e instanceof BEM.DOM?"un":"off"](t)}),this),this._bindedEventsNames=[],this.params.suggest.un("out"),this},a11yActive:function(t){this.getControl().attr("aria-activedescendant",t)},a11yDeactive:function(){this.getControl().removeAttr("aria-activedescendant")},_eventsFilter:function(t){return-1!==["blur","focus","change","clear"].indexOf(t)?this._input:this.getControl()},_changeValueByEvent:function(t,e){var n=e&&void 0!==e.val?e.val:this.realVal();this.val(n,$.extend({block:t.block.__self.getName(),event:t.type},e))}})},6551:function(){BEM.DOM.decl({block:"suggest2-item",modName:"interact",modVal:"link"},{onSelect:function(t){var e=this;e.__base.apply(e,arguments);var n=e.elem("link");if(t||"_self"===n.attr("target"))return function(){e._locationChange(n.attr("href"))}},_locationChange:function(t){window.location=t},valOnSelect:function(){return!1}})},1102:function(){BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{onSetMod:{js:{inited:function(){this._catchEvents&&this._crossCatchHandler&&this.bindTo("cross",this._catchEvents,this._crossCatchHandler),this.historyElem=this.elem("text").text()}}},val:function(){return this.params.val?this.params.val:this.elem("text").text()},remove:function(t){var e=this;this.domElem.one("webkitTransitionEnd transitionend",(function(){e.domElem.remove(),t&&t()})),this.domElem.css("height",0)}})},5284:function(){BEM.DOM.decl("suggest2-item",{val:function(){if(void 0!==this.params.val)return this.params.val;var t=this.elem("text");return(t.length?t:this.domElem).text()},valOnSelect:function(){return this.val()},valOnEnter:function(){return this.val()},valOnLeave:function(){return this.val()},onEnter:function(t){return this.setMod("selected","yes").triggerEvent("enter",{val:this.valOnEnter(),byKeyboard:t})},onLeave:function(t){return this.domElem?this.delMod("selected").triggerEvent("leave",{val:this.valOnLeave(),byKeyboard:t}):this},onSelect:function(t){this.triggerEvent("select",{val:this.valOnSelect(),byKeyboard:t})},_onPointerpress:function(t){this.setMod("pressed","yes").bindToDoc("pointerrelease",this._onPointerrelease)},_onPointerrelease:function(t){this.delMod("pressed").unbindFromDoc("pointerrelease")},triggerEvent:function(t,e){return this.trigger(t,{val:e.val,id:this.domElem.attr("id"),show:!1,byKeyboard:e.byKeyboard})}},{live:function(){return this.liveBindTo("pointerpress",(function(t){this.hasMod("disabled")||this._onPointerpress(t)})),this.__base()}})},7950:function(){BEM.decl("suggest2-model",{onSetMod:{js:{inited:function(){this._requests=[]}}},destruct:function(){this._provider&&this._provider.destruct(),this.__base.apply(this,arguments)},getProvider:function(){return this._provider||(this._provider=this.setProvider(this.params)),this._provider},setProvider:function(t){return this._provider=BEM.create({block:"suggest2-provider",mods:t.providerMods||{}},t),this._provider},getCancelRequestConditions:function(){return[{block:"suggest2",show:!1},{block:"suggest2",event:"select"},{block:"suggest2-item",event:"select"},{block:"suggest2",event:"out"},{block:"suggest2-item",show:!1},{block:"suggest2-popup",event:"hide"},{suggest:!1},{source:"sample"}]},request:function(t,e,n,i){var o=this,r={val:t,caretPosition:e,reqId:i,data:n};o._requests.push(r);var s=o._isNeedRequest(t,n);return s.need?(r.requestTime=(new Date).getTime(),o.lastSendedRequest=r,o.trigger("request",{val:t,pos:e,request:r}),o.getProvider().get(t,e,i,(function(t,e,n,i){r.responseTime=(new Date).getTime(),$.extend(r,{duration:r.responseTime-r.requestTime,error:n.error,fromCache:i,itemsCount:n.items?n.items.length:0}),o._onResponse(t,e,n,r);var s=o._requests[o._requests.length-1];o.params.sequentialQueriesTimeout&&s&&s.val!==t&&o.request(s.val,s.caretPosition,s.data)})),o):o.trigger("reject",{val:t,pos:e,code:s.code,reason:s.reason||{}})},isTimeInRequestInterval:function(t){for(var e=this._requests.length-1;e>=0;e--)if(t>this._requests[e].requestTime&&t<this._requests[e].responseTime)return!0;return!1},filterRequestsByVal:function(t){this._requests=this._requests.filter((function(e){return e.val===t}))},_isNeedRequest:function(t,e){if(""===t&&!this.params.requestOnEmptyInput)return{need:!1,code:2};var n;if(this.lastSendedRequest&&this.lastSendedRequest.val===t)return{need:!1,code:4};if(this.params.sequentialQueriesTimeout)for(n=this._requests.length-1;n>=0;n--){var i=this._requests[n];if(void 0===i.responseTime&&(new Date).getTime()-i.requestTime<this.params.sequentialQueriesTimeout)return{need:!1,code:3,reason:{request:i}}}if(!e)return{need:!0};var o,r=this.getCancelRequestConditions();t:for(n=0;n<r.length;n++){for(var s in o=r[n])if(o.hasOwnProperty(s)&&o[s]!==e[s])continue t;return{need:!1,code:1,reason:{condition:o}}}return{need:!0}},_onResponse:function(t,e,n,i){var o={val:t,pos:e,data:n||[],request:i};BEM.channel("suggest2").trigger("response",o),this.trigger("response",o)},reset:function(){this._requests=[],this.lastSendedRequest=null}})},8942:function(){BEM.decl({block:"suggest2-popup",modName:"for",modVal:"popup"},{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments),this._popup.on("hide",(function(){BEM.blocks["suggest2-detect"].isPressedEscape()&&this.trigger("hide",{})}),this)}}},_setPosition:function(){this._popup.show(this.params.owner)},_doHide:function(){this._popup.hide()},isShown:function(){return!!this._popup&&this._popup.isShown()}})},8766:function(){BEM.decl("suggest2-popup",{onSetMod:{js:{inited:function(){this._popup=this.params.popup,this._popupContent=this.params.popupContentElem&&this._popup.findElem(this.params.popupContentElem),this.bindSuggestEvents()}}},show:function(t){return this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),this._popup.domElem?(t&&this.setContent(t),this.isShown()||(this.trigger("preshow"),this._setPosition(),this.trigger("show")),this):this},_setPosition:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},hide:function(t){var e=this;return e.isShown()&&!e.hideTimeout&&(e.hideTimeout=setTimeout((function(){e._doHide(),e.trigger("hide",t||{}),e.hideTimeout=null}),300)),e},_doHide:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},setContent:function(t){return this._popupContent?BEM.DOM.update(this._popupContent,t):this._popup.setContent(t),this},isShown:function(){throw new Error("Этот метод должен быть переопределен в модификаторе _for")},owner:function(t){return t?(this.params.owner=t,this):this.params.owner},get:function(){return this._popup},width:function(t){return void 0===t?this._popup.domElem.outerWidth():(this._popup.domElem.outerWidth(t),this)},destruct:function(){this._popup&&(this.unbindAllEvents(),this.__base.apply(this,arguments))},bindSuggestEvents:function(){return this.params.suggest.on({select:this._onSuggestSelect,update:this._onSuggestUpdate},this),this},_onSuggestSelect:function(t,e){this.hide(e)},_onSuggestUpdate:function(t,e){e.items.length||this.hide({response:"empty"})},unbindAllEvents:function(){return this.params.suggest.un("select").un("update"),this}})},512:function(){BEM.decl({block:"suggest2-provider",modName:"history",modVal:"yes"},{getRequestData:function(t,e,n){return $.extend(this.__base.apply(this,arguments),{hs:BEM.DOM.blocks["suggest2-history"].getState()})}})},6238:function(){BEM.decl("suggest2-provider",{getDefaultParams:function(){return{cache:!1,type:"GET",dataType:"jsonp",timeout:2e3}},_cachedResponses:Object.create?Object.create(null):{},_cachingTime:6e4,_lastQuery:null,get:function(t,e,n,i){"function"==typeof n&&(i=n,n=void 0);var o=this,r=o.params.abortQueries,s="jsonp"===this.params.dataType,a=o._extendParamsData(o.getRequestData(t,e,n));i=i.bind(o,t,e),r&&null!==o._lastQuery&&o._lastQuery.abort(),o._lastQuery=$.ajax(a).done((function(t){i(o.convert(t),o._validateCache(this.url))})).fail((function(t,e){!r&&!s&&i({error:e||"error"})}))},convert:function(t){return{orig:t[0],items:t[1],meta:t[2]}},getRequestData:function(t,e,n){return $.extend({part:t,pos:e},n&&{suggest_reqid:n},BEM.blocks["suggest2-detect"].isSupportInlineSVG()&&{svg:1})},getRequestUrl:function(){return this.params.url},_extendParamsData:function(t){return this.params.url=this.getRequestUrl(),this.params.data=$.extend(this.params.data||{},t),this.params.traditional=!0,this.params},_validateCache:function(t){var e=Boolean(this._cachedResponses[t])&&this._cachedResponses[t]>Date.now();return!e&&this._addToCache(t),e},_addToCache:function(t){this._cachedResponses[t]=Date.now()+this._cachingTime,setTimeout(function(){this._cachedResponses[t]=void 0}.bind(this),this._cachingTime)}})},6871:function(){BEM.decl({block:"suggest2-view",modName:"advanced",modVal:"yes"},{_getItemByType:function(t,e,n,i){var o=i.js,r=i.content,s=t[1];switch(n){case"html":o.val=s,r.push(e.body);break;case"bemjson":o.val=s,r.push.apply(r,Array.isArray(e.bemjson)?e.bemjson:[e.bemjson])}return this.__base.apply(this,arguments)}})},8659:function(){BEM.decl("suggest2-view",{html:function(t,e){return BEMHTML.apply(this.build(t,e))},build:function(t,e){return{block:"suggest2",elem:"content",elemMods:{theme:"normal"},content:this.buildItems(t,e)}},buildItems:function(t,e){return t.reduce(function(t,e){return t.push(this.buildItem(e)),t}.bind(this),[])},buildItem:function(t){var e=this.__self._getPrefs(t),n=this.__self._getType(t,e),i="html"===n||"bemjson"===n?{}:{type:n};return this._getItemByType(t,e,n,{text:{elem:"text",content:this.__self._highlight(this.__self._getText(t,e),e)},mods:i,js:e.js||{},props:{},content:[]})},_getItemByType:function(t,e,n,i){var o=i.text,r=i.mods,s=i.js,a=i.props,u=i.content;0===u.length&&u.push(o),this.__self._getPersonal(e)&&(r.personal="yes",u.push({elem:"spacer"},{elem:"cross",elemMods:{type:"delete"}})),e.url&&(r.interact="link",a.url=this.__self._resolveUrl(e.url),e.target&&(a.target=e.target)),e.search_cgi&&(s.searchCGI=e.search_cgi),e.attrs&&(a.attrs=e.attrs);var c,l=BEM.blocks["i-global"];return"nav"===n?c="object"==typeof t[5]?t[5].counter:t[5]:"bemjson"===n&&(c=e.counter),c&&(s.safeclickUrl=(l.param("click-host")+c).split("/*/").join("/reqid="+l.param("reqid")+"/path=695.770/vars=-js-ready=1/*/")),$.extend({block:"suggest2-item",mods:r,js:s,content:u},a)}},{_getPrefs:function(t){if(!Array.isArray(t))return{};var e=t[t.length-1];return $.isPlainObject(e)?e:{}},_getType:function(t,e){return Array.isArray(t)&&t[0]||"text"},_getText:function(t){return Array.isArray(t)?t[1]:t},_highlight:function(t,e){if(!e.hl)return t;var n,i=e.hl.sort((function(t,e){return t[0]-e[0]})).filter((function(t){return t[0]>=0})),o=[],r=0;return i.length?(i.forEach((function(e){n=r>e[0]?r:e[0],o.push(t.slice(r,n)),o.push({elem:"highlight",content:t.slice(n,r=e[1])})}),this),o.push(t.slice(r)),o.filter((function(t){return t}))):t},_resolveUrl:function(t){return(/[\/]{2}/.test(t)?"":"http://")+t},_getPersonal:function(t){return Boolean(t.pers)},_getPersonalProps:function(t){var e={pers:1};return t&&(e.label=t),e}})},5190:function(){BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{init:function(){this.__base.apply(this,arguments),this._boundResizeHandler=this._resizeHandler.bind(this),this.__self._bindToWinResize(this._boundResizeHandler)},_resizeHandler:function(){this._popup.width(this.getPopupWidth())},destruct:function(){this.__self._unbindFromWinResize(this._boundResizeHandler),this._boundResizeHandler=null,this.__base.apply(this,arguments)}},{_resizeCallbacks:[],_bindToWinResize:function(t){return this._resizeCallbacks.push(t),this},_unbindFromWinResize:function(t){for(var e=0;e<this._resizeCallbacks.length;e++)if(this._resizeCallbacks[e]===t)return this._resizeCallbacks.splice(e,1),this;return this},_getResizeCallback:function(){return $.throttle((function(){var t=arguments;this._resizeCallbacks.forEach((function(e){e.apply(this,t)}),this)}),300,this)},live:function(){return this._resizeCallback=this._getResizeCallback(),BEM.DOM.win.on("resize",this._resizeCallback),this.__base()}})},6722:function(){BEM.DOM.decl({block:"suggest2",modName:"history",modVal:"yes"},{init:function(){return this.__base.apply(this,arguments),this._history=this.findBlockOn("suggest2-history"),this._historyData=this._history.getData(),this._history.on("update",this._onUpdate,this),this._boundAfterDomElemRemove=this._afterDomElemRemove.bind(this),this._updateHistory(),BEM.DOM.blocks["suggest2-item"].on(this.domElem,"delete",this._deleteHistoryItem,this),this},unbindAllEvents:function(){this._history.un("update"),this.__base.apply(this,arguments)},getDefaultParams:function(){return $.extend(this.__base(),{needRequestWithHistory:!1})},_onUpdate:function(t,e){this._historyData=e,this._updateHistory()},_updateHistory:function(){this._historyItems=this._getHistoryItems(),this._historyHtml=null},_deleteHistoryItem:function(t){var e=t.block.historyElem;$.ajax({url:this.params.deleteHistoryUrl+encodeURIComponent(e),method:"GET",dataType:"json",xhrFields:{withCredentials:!0}}).then(this._afterQueryRemove.bind(this,e,t.block))},_afterQueryRemove:function(t,e,n){BEM.DOM.blocks["suggest2-history"].updateState(),(this._findAndRemove(this._historyData.running,t)||this._findAndRemove(this._historyData.other,t))&&this._updateHistory(),e.remove(this._boundAfterDomElemRemove)},_afterDomElemRemove:function(){""===this._input.val()&&0===this._historyItems.length&&(this._model.reset(),this._doRequest())},_findAndRemove:function(t,e){var n=t.indexOf(e);return n>=0&&(t.splice(n,1),!0)},setItems:function(){if(!1===this._isShowHistory())return this.__base.apply(this,arguments)},_doRequest:function(){this._isShowHistory()?(this._showHistory(),this.params.needRequestWithHistory?this.__base.apply(this,arguments):this._model.reset()):this.__base.apply(this,arguments)},_isShowHistory:function(){return this._historyData&&""===this._input.val()&&this._historyItems.length>0},_showHistory:function(){this._historyHtml||(this._historyHtml=this._view.html(this._historyItems,{historyMod:!0})),this._popup.show(this._historyHtml),this._items=this.findBlocksInside("suggest2-item")},_getHistoryItems:function(){var t=this._generateItems(this._historyData.running),e=this._historyData.other&&this._historyData.other.length>0?this._generateItems(this._historyData.other,BEM.I18N("suggest2","on_other_devices")):[];return e.length>0?t.concat(e):t},_generateItems:function(t,e){var n=this._view.__self._getPersonalProps(e),i=this._getPersonalItemType();return(t||[]).map((function(t){return[i,t,n]}))}})},5050:function(){BEM.DOM.decl("suggest2",{onSetMod:{js:{inited:function(){this.params.form||this.findBlockOutside("suggest2-form"),this._lastSubmitTime=0,this._lastBlurTime=0,this._clear()}}},_bodyHandler:function(t){if(!this._isDestructing){var e=$(t.target);this.containsDomElem(e)||this.params.form.containsDomElem(e)||(this._freezeInputFocus=!1)}},getDefaultParams:function(){return{submitBySelect:!1,updateOnEnterByKeyboard:!0,onFocus:"request",requestOnEmptyInput:!1,abortQueries:!1,sequentialQueriesTimeout:!1}},destruct:function(){this.unbindAllEvents(),this.__base.apply(this,arguments)},init:function(){var t=this;t.params.form.on("submit",(function(e,n){t._lastSubmitTime=(new Date).getTime(),t._isActualSearchCGIParams?t._isActualSearchCGIParams=!1:"suggest2-counter"!==n.data.block&&!1!==n.data.prevent&&this.removeHiddenInputs(),t._clear(),t._model.reset(),t._popup.hide()})),t._input=t.params["suggest2-input"],t._popup=t.params["suggest2-popup"],t._inputValue=t._input.val(),t._model=t.initModel(),t._view=t.initView(),t._counter=t.initCounter(),t._model.on({response:this.setItems,reject:function(e,n){2===n.code&&(t._popup.hide(),t._clear())}},t),t.bindToDoc("pointerclick",t._bodyHandler),t.bindEvents(),this._input.isFocused()&&this._doRequest();var e=BEM.blocks["i-ua"]&&BEM.blocks["i-ua"].ua.toLowerCase();return e&&e.indexOf("mozilla/5.0")>-1&&e.indexOf("android ")>-1&&e.indexOf("applewebkit")>-1&&!(e.indexOf("chrome")>-1)&&t.setMod("old-flex",!0),t},initModel:function(){return BEM.create("suggest2-model",this.params)},getModel:function(){return this._model},initView:function(t,e){var n=this.getMod("type");return t=$.extend(t,this.params.viewMods||{}),"simple"!==n&&"all"!==n||(t.simple="yes"),"advanced"!==n&&"all"!==n||(t.advanced="yes"),BEM.create({block:"suggest2-view",mods:t||{}},e||{})},getView:function(){return this._view},initCounter:function(){return this.params.counter?this.params.counter.initValues().bindEvents():void 0},getCounter:function(){return this._counter},setDataConverter:function(t){return this.getModel().getProvider().convert=t,this},setRequestData:function(t){return this.getModel().getProvider().getRequestData=t,this},setRequestUrl:function(t){return this.getModel().getProvider().getRequestUrl=t,this},setOwner:function(t){return this._popup.owner(t),this},bindEvents:function(){var t=this;return t._input.bindEvents({change:t._onChange,focus:t._onFocus,blur:t._onBlur},t),t._popup.on({preshow:function(){t.trigger("preshow")},show:function(){t._onShow()},hide:function(e,n){t._onHide(n)}}),t.params.form&&t.params.form.on("button-press",t._onSearchButtonMousedown,t),BEM.blocks["suggest2-item"].on(t.domElem,{"link-click":function(e,n){t._counter&&"_self"===$(n.domEvent.target).attr("target")&&n.domEvent.preventDefault()}}),t},_onShow:function(){this.trigger("show")},_onHide:function(t){this.trigger("hide",t)},_onSearchButtonMousedown:function(){this._input.realVal(this._input.val()),this._popup.hide()},unbindAllEvents:function(){var t=this;return t.unbindFromDoc("pointerclick"),t._input.unbindAllEvents(),t.params.form.un("submit"),t._model.un("response").un("reject"),t._popup.un("preshow").un("show").un("hide"),t.params.form&&t.params.form.un("button-press",t._onSearchButtonMousedown,t),t},setItems:function(t,e){var n=this,i=e.data.items||[];return n._isFormSubmitDurinQuery()||!i.length?(n._popup.hide(),n._clear()):this.params.sequentialQueriesTimeout||n._input.val()===e.val?(n._text=e.val,n._pos=e.pos,n._meta=e.data.meta||{},n._popup.show(n._view.html(i,n._meta)).width(n.getPopupWidth()),n._items=n.findBlocksInside("suggest2-item"),n._clearItems().trigger("update",{val:n._text,pos:n._pos,items:n._items}),n):n._clear()},getItems:function(){return this._items||[]},isBlur:function(){return this._isBlur&&!this._isMouseDown},getPopupWidth:function(){},getInputWidth:function(){return 0},isNeedSubmitFormOnSelectItem:function(t){return this.params.submitBySelect&&"link"!==t.getMod("interact")},_isFormSubmitDurinQuery:function(){return!!this._lastSubmitTime&&(this._model.filterRequestsByVal(this._input.realVal()),this._model.isTimeInRequestInterval(this._lastSubmitTime))},_onChange:function(t,e){this._inputValue!==this._input.val()&&(this._inputValue=this._input.val(),this._doRequest(e))},_doRequest:function(t){var e=this.getCounter();this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition(),t,e&&e.getCurrentReqId())},_onFocus:function(){!this._popup.isShown()&&this._isBlur&&this.params.onFocus&&this._isLastBlurTimeLater(50)&&(this.getItems().length&&this._input.val()===this._text?(this._clearItems(),this._popup.show()):this._isMouseDown||"request"!==this.params.onFocus||this._doRequest())},_onBlur:function(){this._isBlur?(this._clear(),this._popup.hide()):this._freezeInputFocus?(this._clear(),this._input.focus()):this._isMouseDown&&this._input.focus(),this._lastBlurTime=(new Date).getTime(),this._isBlur=!0},_getItemIndex:function(t){return this.getItems().indexOf(t)},_clear:function(){return this._isBlur=!0,this._freezeInputFocus=!1,this._clearItems()},_clearItems:function(){return this._isMouseDown=!1,this._enterItemIndex=-1,this._unselectItems()},_isLastBlurTimeLater:function(t){return(new Date).getTime()-this._lastBlurTime>t},_unselectItems:function(t){return(t?[].slice.call(arguments):this.getItems()).forEach((function(t){t.onLeave()})),this},_onSelectItem:function(t,e){var n=this,i=n._getItemIndex(t),o=t.onSelect(e),r=t.valOnSelect();return n._text=n._input.realVal(r),n._isBlur=!0,n._freezeInputFocus=!1,n._setSearchCGIParams(t),n.trigger("select",{val:n._text,pos:n._pos,item:t,meta:n._meta,itemIndex:i,byKeyboard:e,callbackOnSelect:o}),!1!==r&&(n._items=[],this.isNeedSubmitFormOnSelectItem(t)&&n.params.form.submit()),i},_isActualSearchCGIParams:!1,_setSearchCGIParams:function(t){this.params.form.removeHiddenInputs(),t.params.searchCGI&&(this._isActualSearchCGIParams=!0,this.params.form.appendHiddenInputs(t.params.searchCGI.map((function(t){return{name:t[0],value:t[1]}}))))},_onDownItem:function(){this._isBlur=!1,this._isMouseDown=!0}})},1800:function(){BEM.decl("suggest2-view",{},{_getGroupType:function(t,e){return t.pers?"nah":-1!==["nav"].indexOf(e)?e:"text"},_getTextLabel:function(t){return BEM.I18N("suggest2",t)}})},3674:function(){BEM.DOM.decl({block:"suggest2",modName:"adaptive",modVal:"yes"},{_minWidth:0,_maxWidth:0,_resizeHandler:function(){this.__base.apply(this),this.afterCurrentEvent((function(){this.adjustView()}))},_onShow:function(){this.__base.apply(this),this.hasMod("theme","large")&&this._applyMetricsToContent()},adjustView:function(){var t=this.__base.apply(this,arguments),e=t.minWidth,n=t.maxWidth,i=!1;return e!==this._minWidth&&(this._minWidth=e,i=!0),n!==this._maxWidth&&(this._maxWidth=n,i=!0),i&&this._popup.isShown()&&this._applyMetricsToContent(),t},_applyMetricsToContent:function(){this.__base.apply(this,arguments);var t=this.findElem("content");this._minWidth&&t.css("min-width",this._minWidth),this._maxWidth&&t.css("max-width",this._maxWidth)}})},5559:function(){BEM.DOM.decl("suggest2",{getInputLeft:function(){return 0},getInputWidth:function(){return 0},getContainerWidth:function(){return 0},getMetrics:function(){var t=this.getInputLeft(),e=this.getInputWidth(),n=this.getContainerWidth()-t;return{marginLeft:t,minWidth:e>=n?n:e,maxWidth:n}},adjustView:function(){return this.getMetrics()},_resizeHandler:function(){}})},3813:function(){BEM.DOM.decl("button2",{onSetMod:{hovered:{yes:function(){return!this.hasMod("disabled")}},disabled:{yes:function(){this.__base.apply(this,arguments),this.delMod("hovered")}}},_onPointerenter:function(){this.setMod("hovered","yes")},_onPointerleave:function(){this.delMod("hovered")},_onClick:function(){this.__base.apply(this,arguments),this._isDestructing||this.setMod("focused","yes")}},{live:function(){return 8===BEM.blocks["i-ua"].ie&&this.liveBindTo("dblclick",(function(t){this.hasMod("disabled")||this._onClick(t)})),this.liveBindTo("pointerover pointerout",(function(t){this.hasMod("disabled")||this.domElem[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})).liveBindTo("mousedown",(function(t){t.preventDefault()})),this.__base()}})},8073:function(){BEM.DOM.decl("input",{onSetMod:{js:{inited:function(){this.__base.apply(this,arguments);var t=this.elem("control"),e=$.dom.getActiveElement(),n=this.params.autoFocus&&!e.is("input, textarea");(e[0]===t[0]||n)&&(this.setMod("focused","yes")._focused=!0),this.params.shortcut&&this.bindToDoc("keydown",(function(t){t.ctrlKey&&t.which===BEM.blocks.keycodes.UP&&!$(t.target).is("input, textarea")&&this.setMod("focused","yes")}))}}},_focus:function(){if(!1===this.__base())return!1;var t=this.elem("control")[0];if(t.createTextRange&&!t.selectionStart){var e=t.createTextRange();e.move("character",t.value.length),e.select()}},destruct:function(){this.params.shortcut&&this.unbindFromDoc("keydown"),this.__base.apply(this,arguments)},_onPointerenter:function(t){this.setMod("hovered","yes")},_onPointerleave:function(t){this.delMod("hovered")},_updateValNextTick:function(){this.afterCurrentEvent((function(){this.domElem&&this._updateVal()}))}},{live:function(){return this.liveBindTo("box","pointerover pointerout",(function(t){this.hasMod("disabled")||this.elem("box")[0].contains(t.relatedTarget)||("pointerover"===t.type?this._onPointerenter(t):this._onPointerleave(t))})),this.liveBindTo("control","dragenter"),this.liveBindTo("control","dragend",(function(){this._updateValNextTick()})),"documentMode"in document&&document.documentMode<=8&&(this.liveBindTo("control","focusin",(function(){this.bindTo("control","propertychange keyup",this._updateVal),this.bindTo("control","cut paste",(function(){this._updateValNextTick()}))})),this.liveBindTo("control","focusout",(function(){this.unbindFrom("control","cut paste"),this.unbindFrom("control","propertychange keyup"),this._updateValNextTick()}))),this.__base()}})},2974:function(){BEM.DOM.decl("suggest2-counter",{bindEvents:function(){this.__base.apply(this,arguments);var t=this.params.suggest;return BEM.blocks["suggest2-item"].on(t.domElem,"pointerclick",this._onClickPopup.bind(this)),this}})},8703:function(){BEM.decl("suggest2-input",{onSetMod:{js:{inited:function(){var t=this;t.__base.apply(this,arguments),t.bindEvents({keydown:function(e){t._onKeyDown(e)}},t)}}},_onKeyDown:function(t){t.which===this.params.suggest.__self.keyboard.enter&&this.trigger("enter")}})},5918:function(){BEM.DOM.decl({block:"suggest2-item",modName:"personal",modVal:"yes"},{_catchEvents:"click",_crossCatchHandler:function(t){t.preventDefault(),t.stopImmediatePropagation(),this.trigger("delete")}})},5318:function(){BEM.DOM.decl("suggest2-item",{},{live:function(){return this.liveBindTo("mouseover mouseout mousedown pointerclick",(function(t){this.trigger("pointerclick"===t.type?"click":t.type,{domEvent:t})})).liveBindTo("link","pointerclick",(function(t){this.trigger("link-click",{domEvent:t})})),this.__base()}})},9968:function(){BEM.DOM.decl({block:"suggest2",modName:"history",modVal:"yes"},{_showHistory:function(){this.__base.apply(this,arguments),this._applyMetricsToContent()},_applyMetricsToContent:function(){this.__base.apply(this,arguments);var t=this.findElem("content");t.width(Math.min(t.width()+1,this._maxWidth))},_getPersonalItemType:function(){return"text"}})},8893:function(){BEM.DOM.decl("suggest2",{bindEvents:function(){var t=this;return t._input.bindEvents({keydown:t._onKeyDown,keyup:t._onKeyUp,keypress:t._onKeyPress,mousedown:function(){t._input.isFocused()&&t._onFocus()}},t),BEM.blocks["suggest2-item"].on(t.domElem,{mouseover:function(e){t._onEnterItem(e.block,!1)},mouseout:function(e,n){var i=e.block.domElem[0];i===n.relatedTarget||$.contains(i,n.relatedTarget)||t._onLeaveItem(e.block,!1)},mousedown:function(){t._onDownItem()},click:function(e){t._onSelectItem(e.block,!1)}}),t.__base.apply(t,arguments)},_onKeyDown:function(t){var e=this.__self.keyboard,n=t.which;!this._popup.isShown()||n!==e.up&&n!==e.down||(t.preventDefault(),this._enterByKeyboard(n))},_onKeyUp:function(t){var e=this.__self.keyboard;if(t.which!==e.left&&t.which!==e.right||(this.trigger("change-cursor-pos"),this._model.request(this._input.realVal(this._input.val()),this._input.getCaretPosition())),t.which===e.right&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var n=this._items[this._enterItemIndex];n&&this.trigger("ahead",{item:n,val:"link"===n.getMod("interact")?n.elem("text").text():n.val()})}},_onKeyPress:function(t){if(t.which===this.__self.keyboard.enter&&-1!==this._enterItemIndex&&this._enterItemByKeyboard){var e=this._items[this._enterItemIndex];e&&(t.preventDefault(),this._onSelectItem(e,!0))}},_enterByKeyboard:function(t){var e=t-39,n=this._items.length,i=this._enterItemIndex+e;if(-1===i||i===n)return this._enterItemIndex=i,this._unselectItems(this._items[i]),this.trigger("out",{val:this._text,byKeyboard:!0});i<0?i=n-1:i>=n&&(i=0),this._onEnterItem(this._items[i],!0)},_onEnterItem:function(t,e){this._enterItemIndex=this._getItemIndex(t),this._enterItemByKeyboard=e,this._unselectItems(),t.onEnter(e)},_onLeaveItem:function(t,e){this._clearItems()._unselectItems(t)}},{keyboard:{enter:13,left:37,up:38,right:39,down:40},live:function(){return this.liveBindTo("mousedown",(function(){this._onDownItem()})),this.__base()}})},8901:function(t,e,n){"use strict";function i(t){return e=JSON.stringify(t),(n=String(e)).indexOf("&")>-1&&(n=n.replace(/&/g,"&amp;")),n.indexOf("<")>-1&&(n=n.replace(/</g,"&lt;")),n.indexOf(">")>-1&&(n=n.replace(/>/g,"&gt;")),n.indexOf('"')>-1&&(n=n.replace(/"/g,"&quot;")),n;var e,n}function o(t,e){var n,i=[];for(n in e)e.hasOwnProperty(n)&&(e[n]||0===e[n])&&i.push(t+"_"+n+"_"+String(e[n]));return i.join(" ")}function r(t,e){var n=e.mods,i=t,r=n?o(t,n):"";return e.mix&&("object"==typeof e.mix?(Array.isArray(e.mix)||(e.mix=[e.mix]),i+=" "+e.mix.map((function(e){if("string"==typeof e)return e;var n=e.block||t,i=e.mods;return e.elem&&(n+="__"+e.elem,i=e.elemMods),i&&(n+=" "+o(n,i)),n})).join(" ")):i+=" "+e.mix),r&&(i+=" "+r),i}n.d(e,{jY:function(){return r},Ms:function(){return i}})},3146:function(t,e,n){"use strict";n.d(e,{U:function(){return r}});var i=n(8086),o={};function r(t){for(var e=t.split("."),n=o,r=0;r<e.length;++r){if(!n||!n[e[r]])return(0,i.H)({message:"undefined translation "+t,block:"l10n"}),"";n=n[e[r]]}return n}},8086:function(t,e,n){"use strict";n.d(e,{H:function(){return a}});var i=n(4934);var o=null;function r(){return Boolean(window.Ya&&window.Ya.Rum&&window.Ya.Rum.logError)}function s(t,e){var n={},r=e||{};return t.message&&(n.message=t.message),t.block&&(n.block=t.block),t.method&&(n.method=t.method),n.level=t.level||"error",(t.sourceType||r.sourceType)&&(n.type=t.sourceType||r.sourceType),t.source&&(n.source=t.source),t.sourceMethod&&(n.sourceMethod=t.sourceMethod),t.coordinates_gp&&(n.coordinates_gp=t.coordinates_gp),(t.meta||r.meta)&&(n.additional=(0,i.Z)(t.meta||{},r.meta||{})),(t.url||r.url)&&(n.additional=n.additional||{},n.additional.url=t.url||r.url),(t.page||r.page)&&(n.page=t.page||r.page),o&&(n=o(n)),n}console;var a=function(t,e){if(e)if("object"==typeof e){if(e.logged)return;e.logged=!0}else e=new Error(e);r()&&Ya.Rum.logError(s(t,e),e)}},7117:function(t,e,n){"use strict";n.d(e,{Dn:function(){return R},DF:function(){return P}});var i,o,r=n(44),s=n(5992),a=!1,u=[];function c(){document[i]&&l()}function l(){u.forEach((function(t){t.fn.call(t.ctx,!0),t.awaitsCall=!1})),u=[],window.removeEventListener("beforeunload",l,!1),window.removeEventListener("unload",l,!1),window.removeEventListener(o,c,!1)}function h(t,e,n){var r;!a&&"addEventListener"in window&&(a=!0,window.addEventListener("beforeunload",l,!1),window.addEventListener("unload",l,!1),window.addEventListener("spas-unmount-main",l,!1),void 0!==document.hidden?(r="hidden",o="visibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",o="webkitvisibilitychange"),r&&o&&(i=r,window.addEventListener(o,c,!1)));var h={fn:t,ctx:n,awaitsCall:!1},d=(0,s.D)((function(){h.awaitsCall&&(h.awaitsCall=!1,u=u.filter((function(t){return t!==h})),t.call(n,!1))}),e,!1,n);return function(){h.awaitsCall||(h.awaitsCall=!0,u.push(h)),d()}}var d=n(8086);function f(t){if(!("getAttribute"in t)&&"length"in t){for(var e=new Array(t.length),n=0;n<t.length;++n)e[n]=t[n];return e}return[t]}var p,m=JSON.parse('{"i8":"2023-10-12-392"}'),_=(0,r.Yu)("statlog.config",{}),v=_.clckDemonHost+"counter";"undefined"!=typeof document&&"querySelectorAll"in document||(_.enabled=!1);var g={},b=/([^.(]+)(?:\(([^)]*)\))?\.?/g,y=/^([^=]+)=(.+)$/,E=!1,M={show:!0},w="data-statlog",k=String(Date.now())+Math.random().toString(36).substring(3);function T(){var t=(0,r.Yu)("redir-stats.data")||"",e="",n="";window.Ya&&Ya.Rum&&Ya.Rum.getTime&&(e+="/timefs="+Math.floor(Ya.Rum.getTime()));var i=(0,r.Yu)("timing.vars");return i&&(i[1964]?n="/mexp=0":i[1965]&&(n="/mexp=1")),t+e+n+"/iid="+k}function B(t,e,n){var i;if("XDomainRequest"in window)i=new XDomainRequest;else{if(!("XMLHttpRequest"in window))return;i=new XMLHttpRequest}i.open("post",n||v,!0),i.withCredentials=!0;try{i.setRequestHeader("Accept","text/plain, */*; q=0.01"),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}catch(o){}e&&("onreadystatechange"in i?i.onreadystatechange=function(){4===i.readyState&&e()}:i.onload=i.onerror=e),i.send(t)}function C(t){return"/dtype=clck/table=morda"+(_.tld?"/tld="+_.tld:"")+"/statver="+m.i8+(_.ip?"/ip="+_.ip:"")+"/antiadb=".concat((0,r.Yu)("adb.data.adb")||0)+T()+"/session_id="+_.showId+"/events="+encodeURIComponent(JSON.stringify(t.map((function(t){return{event:t.type,url:t.url,"parent-path":_.statRoot,blocks:t.array}})))).replace(/\*/g,"%2A")+"/*"}function S(t){if(p){var e=C(p);!function(t){if(_.useBeacon&&"sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon)return navigator.sendBeacon(v,t)}(e)?B(e,t):t&&t(),p=null}}j();var x;function D(t,e){var n=e,i=[];t.replace(b,(function(t,e,n){return i.push({key:e,params:n?n.split(";"):[]}),""}));for(var o=function(){var e,o=i[r].params,s=i[r].key;if(n.some((function(t){if(t.ctag===s)return e=t,!0})),e||(e={ctag:s},n.push(e)),o.length)for(var a=0;a<o.length;++a){var u=o[a].match(y);if(u)try{e[u[1]]=decodeURIComponent(u[2])}catch(c){(0,d.H)({block:"home__stat",message:"Cannot decode counter",method:"convertPathToData",meta:{counter:t,decodingUri:u[2]}})}}r+1<i.length&&(n=e.children=e.children||[])},r=0;r<i.length;++r)o();return e}var P=function(t,e,n){var i,o,r=!1;if(n&&"clean"===n.mode&&function(t){t&&p&&p.length&&0===(p=p.filter((function(e){return e.type!==t}))).length&&(p=null)}(t),n&&n.customParams&&(e+=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n+"="+encodeURIComponent(t[n]));return e.length?"("+e.join(";")+")":""}(n.customParams)),_.enabled&&t&&e){if(p||(p=[]),"show"===t){if(e in g)return;g[e]=!0}t in M&&(o=function(t){if(!(t in M)||!p)throw new Error(t+" is not mergeable type");for(var e=0;e<p.length;++e)if(p[e].type===t)return p[e]}(t)),D(e,(o=o||(p[p.length]={type:t,url:n&&n.url,array:[]})).array),n&&n.callback?(S(i=function(){r||(r=!0,n.callback())}),void 0!==n.callbackTimeout&&setTimeout(i,n.callbackTimeout)):(x||(x=h((function(){E=!1,S()}),25)),E||(E=!0,x()))}else n&&n.callback&&setTimeout(n.callback,0)},I=function(t,e){if(!_.enabled||!e)return!0;var n,i,o=t.href;if(_.useBeacon&&"sendBeacon"in navigator&&"function"==typeof navigator.sendBeacon&&(i=C([{type:"click",url:o,array:D(e,[])}]),navigator.sendBeacon(v,i)))return!0;if("_blank"===t.target)return B(i=C([{type:"click",url:o,array:D(e,[])}])),!0;if(!t.getAttribute("data-statlog-timeout")&&-1===o.indexOf("/lid="+_.statRoot)){if(n=t.getAttribute("data-statlog-url"))t.href=n;else{var s=function(t){var e=[],n="";return{counter:t.replace(/\(([^)]+)\)/g,(function(t,n){return e.push(n.replace(/;/g,",")),""})),vars:n=n.length?"/vars="+e.join(","):""}}(e);t.href=_.redirHost+"redir/dtype=clck/table=morda"+(_.tld?"/tld="+_.tld:"")+"/statver="+m.i8+(_.ip?"/ip="+_.ip:"")+"/antiadb=".concat((0,r.Yu)("adb.data.adb")||0)+T()+"/lid="+_.statRoot+"."+s.counter+"/sid="+_.showId+s.vars+"/rnd="+((new Date).getTime()+Math.round(100*Math.random()))+"/*data="+encodeURIComponent("url="+encodeURIComponent(o.match(/^http/)?o:location.protocol+"//"+location.host+(o.match("^/")?o:"/"+o)))}t.setAttribute("data-statlog-orig-href",o),t.setAttribute("data-statlog-timeout",String(setTimeout((function(){t.href=o,t.removeAttribute("data-statlog-timeout"),t.removeAttribute("data-statlog-orig-href")}),500)))}return!0};function O(t,e){var n=[],i=[];return f(t).forEach((function(t){n=n.concat(f(t.querySelectorAll("["+w+"], [data-stat-select]"))),(t.getAttribute(w)||t.getAttribute("data-stat-select"))&&n.push(t)})),n.forEach((function(t){var n=t.getAttribute(w)||t.getAttribute("data-stat-select"),o=t.getAttribute("data-statlog-showed")||n&&n in g,r=Boolean(t.getAttribute("data-statlog-precise"));n&&!o&&(!r||e&&e.precise)&&(e&&!1===e.visibilityCheck||function(t){return t&&(0!==t.offsetWidth||0!==t.offsetHeight)}(t))&&i.push(e&&e.convertCounters&&e.convertCounters(n)||n)})),i}function R(t,e){_.enabled&&O(t,e).forEach((function(t){P("show",t)}))}function F(t){var e,n=t.target||t.srcElement;if((t.which||t.button)<2){for(;n&&1===n.nodeType&&!(e=n.getAttribute(w));)n=n.parentNode;if(e&&n)"0"!==n.getAttribute("data-statlog-redir")&&n.href?n.href&&"click"===t.type&&!t.defaultPrevented&&!1!==t.returnValue&&(I(n,e)||("preventDefault"in t?t.preventDefault():t.returnValue=!1)):"mousedown"===t.type&&P("click",e)}}function A(t,e){"addEventListener"in document?(document.addEventListener(t,e,!1),window.addEventListener("spas-unmount-main",(function(){document.removeEventListener(t,e,!1)}))):document.attachEvent("on"+t,e)}function j(){_.enabled&&(A("mousedown",F),A("click",F))}},5992:function(t,e,n){"use strict";function i(t,e,n,i){var o;return 3===arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),function(){var r=arguments;i=i||this,n&&!o&&t.apply(i,r),clearTimeout(o),o=setTimeout((function(){n||t.apply(i,r),o=null}),e)}}n.d(e,{D:function(){return i}})},4934:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var i=Object.prototype.toString;function o(t,e){if(!e)return t;for(var n in e)if("__proto__"!==n&&e.hasOwnProperty(n)){var r=e[n];Array.isArray(r)?(t[n]=Array.isArray(t[n])?t[n]:[],o(t[n],r)):"[object Date]"===i.call(r)||"object"!=typeof r||null===r?t[n]=r:(t[n]="[object Object]"===i.call(t[n])?t[n]:{},o(t[n],r))}return t}},44:function(t,e,n){"use strict";function i(t,e,n){if("undefined"==typeof home||!t)return n;var i,o,r,s=e.split("."),a=s.length;if(a>1){for(i=t||{},o=0;o<a;o++)if(void 0===(i=i[s[o]]))return void 0===i?n:i;return void 0===i?n:i}return void 0===(r=t[e])?n:r}function o(t,e){return i("undefined"!=typeof home&&home.export||void 0,t,e)}n.d(e,{Yu:function(){return o}}),"undefined"!=typeof home&&(home.dataCallbacks=home.dataCallbacks||[])},1714:function(t,e,n){"use strict";n.d(e,{M:function(){return E}});var i=n(44),o=n(3146),r=n(7117);function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?r:String(r)),i)}var o,r}function a(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&e.push(n+"="+encodeURIComponent(t[n]));return e.length?"("+e.join(";")+")":""}var u=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,n=[{key:"getAttr",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t?(n.customParams&&(t+=a(n.customParams)),(t=String(t)).indexOf('"')>-1&&(t=t.replace(/"/g,"&quot;")),' data-statlog="'+t+'"'+(!1!==n.isRedirect?"":' data-statlog-redir="0"')+(n.precise?' data-statlog-precise="1"':"")):""}},{key:"logShow",value:function(t,e){return t?(e&&(t+=a(e)),(0,r.DF)("show",t),t):""}},{key:"getClientCounter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0;return(t=n?(t||"")+a(n):t)?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':""):""}},{key:"getAdaptiveCounter",value:function(t,e){return t?' data-statlog="'+t+'"'+(e?' data-statlog-redir="0"':"")+' data-statlog-autoshow="1"':""}}],n&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),c=n(4934);function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,(o=i.key,r=void 0,"symbol"==typeof(r=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"))?r:String(r)),i)}var o,r}for(var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,(n=[{key:"add",value:function(t,e,n){home.export[n]||(home.export[n]={}),home.export[n][t]?(0,c.Z)(home.export[n][t],e):home.export[n][t]=e}},{key:"has",value:function(t,e){return Boolean(home.getData&&home.getData(e+"."+t))}}])&&l(e.prototype,n),i&&l(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),d=n(8086),f={stub:!0},p=function(){var t=_[m];f[t]=function(e){if(!0===(0,i.Yu)("csp.report")){var n=new Error("req.csp."+t+" was called on clientside");(0,d.H)({block:"csp",meta:{url:e}},n)}}},m=0,_=["allowDefault","allowStyle","allowPlugin","allowObject","allowMedia","allowImg","allowFont","allowConnect","allowScript","allowChild","allowForm","allowFrameAncestors"];m<_.length;m++)p();var v={l10n:o.U,stat:new u,settingsJs:new h,csp:f,cls:{full:function(t){return t},part:function(t){return t},contains:function(t){return!1}},isClient:1},g={},b="__execViewUniq",y=1;function E(t,e,n){for(var o in n=n||{},v)n.hasOwnProperty(o)||(n[o]=v[o]);var r="object"==typeof window&&(0,i.Yu)("common.req")||{};for(var s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s]);return function t(e,i){var o;if("function"==typeof e)if(e.isCached){e[b]||(e[b]=y++);var r=e[b];r in g?o=g[r]:(o=e(n,t),g[r]=o)}else o=e(i,n,t);return void 0===o&&(o=""),o}(t,e)}},5944:function(){window.Ya&&Ya.Rum&&Ya.Rum.time&&Ya.Rum.time("2095"),function(){var t={669:function(){!function(){var t="__uniqMBEM"+Math.random().toString().substr(2,5),e=MBEM.blocks={};MBEM.prototype=Object.create(MBEM.Observable.prototype),MBEM.prototype.getDefaultParams=function(){return{}};var n=MBEM._propListeners="__uniqMBEMListeners"+Math.random().toString().substr(2,5);MBEM.prototype.bindTo=function(t,e,i){return"function"==typeof e&&(i=e,e=t,t=this.domElem),"string"==typeof t?t=this.elem(t):Array.isArray(t)||(t=[t]),e.split(" ").forEach((function(e){t.forEach((function(t){var o=i.bind(this);o.origHandler=i,t[n]||(t[n]={}),t[n][e]||(t[n][e]=[]),t[n][e].push(o),t.addEventListener(e,o)}),this)}),this),this},MBEM.prototype.elem=function(t,e,n){var i=[],o=t.split(" ").map((function(t){var o=this.__self.className(t,e,n);return MBEM.cls.contains(this.domElem,o)&&i.push(this.domElem),"."+o}),this).join(",");return i.concat(MBEM.arrayFrom(this.domElem.querySelectorAll(o)))};var i=function(){};MBEM.override=function(t,e){return"function"==typeof e&&e.toString().indexOf("__base")>-1?(t=t||i,function(){var n=this.__base;this.__base=t;var i=e.apply(this,arguments);return this.__base=n,i}):e},MBEM.staticProto={},MBEM.staticProto.className=function(t,e,n){var i=this._name;return t&&(i+="__"+t),void 0!==e&&!1!==n&&(i+="_"+e+(!0!==n&&void 0!==n?"_"+n:"")),i},MBEM.decl=function(t,n,i){n=n||{};var o,r,s,a,u,c=!1;for(var l in"object"==typeof t&&t.baseBlock?(c=!0,u=t.baseBlock,t=t.block):u=t,u in e?(r=e[u].prototype,o=s=e[u]):(c=!0,r=MBEM.prototype,s=MBEM.staticProto),c&&(r=Object.create(r),(o=function(t){this.__internalConstructor(t),this.__constructor(t),this.__afterConstructor(t)}).prototype=r,o.prototype.constructor=o,o.prototype.__self=o,o._name=t,e[t]=o),n)n.hasOwnProperty(l)&&(r[l]=MBEM.override(r[l],n[l]));for(a in s)i&&i.hasOwnProperty(a)||o[a]||(o[a]=s[a]);if(i)for(a in i)i.hasOwnProperty(a)&&(o[a]=MBEM.override(s[a],i[a]));return o},MBEM.getBlock=function(e,n){return e[t]&&e[t][n]},MBEM.consoleError=function(){if(window.console&&window.console.error)try{window.console.error.apply(window.console,arguments)}catch(t){}},MBEM.prototype.__internalConstructor=function(e){e=e||{},this.domElem=e.node,this.params=MBEM.extend(this.getDefaultParams(),e.params||{}),e.node&&((e.node[t]||(e.node[t]={}))[this.__self._name]=this)},MBEM.prototype.__constructor=function(){},MBEM.prototype.__afterConstructor=function(){},MBEM.initBlockFromNode=function(t,e,n){var i;return(i=MBEM.getBlock(t,e))?i:(n||(n=MBEM.getNodeParams(t)[e]),MBEM._createBlockFromNode({node:t,block:e,params:n}))},MBEM.createBlock=function(t){if(e[t.block])return new e[t.block](t);MBEM.consoleError("Block is not declared",t.block)},MBEM._createBlockFromNode=MBEM.createBlock,MBEM.getNodeParams=function(t){var e;try{e=JSON.parse(t.getAttribute("data-bem"))||{}}catch(n){return void MBEM.consoleError("Incorrect params",t)}return e}}()},199:function(){MBEM.initBlock=function(t,e){var n,i=e.params;return(n=MBEM.getBlock(e.node,t))?n:(i||(i=MBEM.getNodeParams(e.node)[t]),MBEM.createBlock({node:e.node,params:i,mods:e.mods,block:t}))}},513:function(){MBEM.initNode=function(t){var e=MBEM.getNodeParams(t);if(e)for(var n in e)e.hasOwnProperty(n)&&MBEM.initBlockFromNode(t,n,e[n])}},539:function(){!function(){MBEM.staticProto._processLive=function(t){if(t=t||!1,"live"in this&&void 0===this._liveInitable!==t){var e=!1!==this.live(),n=this._name,i=this.live;this.live=function(){return this._name===n?e:i.apply(this,arguments)},this._liveInitable=e}};var t=MBEM.decl;MBEM.decl=function(e,n,i){if(i&&void 0!==i.live&&"boolean"==typeof i.live){var o=i.live;i.live=function(){return o}}var r=!(("object"==typeof e&&e.block?e.block:e)in MBEM.blocks),s=t(e,n,i);return r?s._liveInitable=void 0:void 0!==s._liveInitable&&i.live&&s._processLive(!0),s};var e=MBEM._createBlockFromNode;MBEM._createBlockFromNode=function(t){var n=MBEM.blocks[t.block];if(n)return void 0===n._liveInitable&&("function"==typeof n.live?n._processLive():n._liveInitable=!1),!n._liveInitable||t.params&&!1===t.params.live?e(t):void 0;MBEM.consoleError("Block is not declared",t.block)};var n=MBEM._liveDocHandlers={},i=MBEM._liveDocHandler=function(t){n[t.type].forEach((function(e){for(var n=t.target;n&&n!==document.documentElement;){if(MBEM.cls.contains(n,e.className)){var i=MBEM.closest(n,e.blockName);if(i){var o=MBEM.getNodeParams(i);if(!(o=o&&o[e.blockName]))return;var r=MBEM.getBlock(i,e.blockName);r||(r=MBEM.createBlock({node:i,block:e.blockName,params:o})),e.callback&&e.callback.call(r,t);break}}n=n.parentNode}}))},o=function(t,e,o,r,s){r.split(" ").forEach((function(t){n[t]||(n[t]=[],document.addEventListener(t,i,!1)),n[t].push({blockName:this._name,callback:s,className:this.className(e,o&&o.modName,o&&o.modVal)})}),t)};MBEM.staticProto.liveBindTo=function(t,e,n){return e&&"function"!=typeof e||(n=e,e=t,t=void 0),"string"==typeof t&&(t={elem:t}),t?t.elem.split(" ").forEach((function(i){o(this,i,t,e,n)}),this):o(this,void 0,void 0,e,n),this}}()},364:function(){MBEM.prototype.__internalConstructor=MBEM.override(MBEM.prototype.__internalConstructor,(function(t){if(this.__base.apply(this,arguments),t&&t.mods&&t.node){for(var e in this.__modsClassName="",t.mods)if(t.mods.hasOwnProperty(e)&&t.mods[e]){var n=this.__self.className("",e,t.mods[e]);this.__modsClassName+=n+" ",MBEM.cls.add(t.node,n)}this.__modsClassName=this.__modsClassName.trim()}})),MBEM.prototype.getModsClassName=function(){return this.__modsClassName}},945:function(){var t,e;t=MBEM.blocks,e=MBEM.decl,MBEM.decl=function(n,i,o){if(i=i||{},"object"==typeof n&&n.modName){var r;for(var s in r=n.block in t?t[n.block].prototype:MBEM.prototype,i)i.hasOwnProperty(s)&&"function"==typeof i[s]&&function(){var t=n,e=r[s],o=i[s];i[s]=function(){return this._simpleCheckMod(t.modName,t.modVal)?o.apply(this,arguments):e&&this.__base?e.apply(this,arguments):void 0}}();n=n.block}return e(n,i,o)},MBEM.prototype.__internalConstructor=MBEM.override(MBEM.prototype.__internalConstructor,(function(t){this._modCache=t&&t.mods||this._extractInitMods(t),this.__base.apply(this,arguments)})),MBEM.prototype._extractInitMods=function(t){var e={};if(!t||!t.node)return e;for(var n,i,o=MBEM.cls.list(t.node.getAttribute("class")||""),r=this.__self._name+"_",s=0;s<o.length;++s)0===o[s].indexOf(r)&&((i=(n=o[s].substring(r.length)).indexOf("_"))>-1?e[n.substring(0,i)]=n.substring(i+1):e[n]=!0);return e},MBEM.prototype._simpleCheckMod=function(t,e){return void 0===e?Boolean(this._modCache[t]):this._modCache[t]===e}},547:function(){var t,e;t={},e=MBEM.decl,MBEM.decl=function(n,i,o){if("object"==typeof n&&n.modUniqueKey){var r=t[n.block];if(r||(r=t[n.block]={}),r[n.modUniqueKey])return;r[n.modUniqueKey]=1}return e(n,i,o)}},586:function(){var t;t=MBEM.decl,MBEM.decl=function(e,n,i){return"onSetMod"in(n=n||{})&&function(t,e){var n,i,o;if("function"==typeof t)e[MBEM._buildModFnName("","*","*")]=t;else for(n in t)if(t.hasOwnProperty(n)){if("function"==typeof(o=t[n])){e[MBEM._buildModFnName("",n,"*")]=o;continue}for(i in o)o.hasOwnProperty(i)&&(e[MBEM._buildModFnName("",n,i)]=o[i])}}(n.onSetMod,n),t(e,n,i)},MBEM.prototype.__afterConstructor=MBEM.override(MBEM.prototype.__afterConstructor,(function(){this.__base.apply(this,arguments),this.setMod("js","inited")})),MBEM.prototype._extractElemName=function(t){if(!t)return"";var e=(t.getAttribute("class")||"").match(new RegExp("(?:\\s|^)"+this.__self._name+"__([a-zA-Z0-9-]+)(?:\\s|$)"));return e&&e[1]?e[1]:""},MBEM.prototype.getMod=function(t,e){e||(e=t,t=this.domElem);var n=!t;return t=t||this.domElem,Array.isArray(t)&&(t=t[0]),n?e in this._modCache?this._modCache[e]:this._modCache[e]=this._extractModVal(t,e):this._extractModVal(t,e)},MBEM.prototype._extractModVal=function(t,e){if(!t)return"";for(var n,i=MBEM.cls.list(t.getAttribute("class")||""),o=this._extractElemName(t),r=this.__self.className(o,e),s="",a=0;a<i.length;++a)if(0===i[a].indexOf(r))return"_"===(n=i[a].substring(r.length)).charAt(0)?s=n.substr(1):""===n&&(s=!0),s;return""},MBEM.prototype.hasMod=function(t,e,n){var i=arguments.length,o=!1;1===i?(n="",e=t,t=void 0,o=!0):2===i&&("string"==typeof t?(n=e,e=t,t=void 0):(n="",o=!0));var r=this.getMod(t,e)===n;return o?!r:r},MBEM._buildModFnName=function(t,e,n){return(t?"__elem_"+t:"")+"__mod"+(e?"_"+e:"")+(n?"_"+n:"")},MBEM.prototype.setMod=function(t,e,n){void 0===n&&("string"==typeof t?(n=void 0===e||e,e=t,t=void 0):n=!0),t||(t=this.domElem),Array.isArray(t)&&(t=t[0]);var i=this.getMod(t,e);if(i===n)return this;var o=this._extractElemName(t),r=e+(o?"_"+o:"");if(this._processingMods||(this._processingMods={}),this._processingMods[r])return this;this._processingMods[r]=!0;var s=!0,a=[e,n,i];if(t===this.domElem&&[["*","*"],[e,"*"],[e,n]].forEach((function(t){var e=this[MBEM._buildModFnName(o,t[0],t[1])];e&&(s=!1!==e.apply(this,a)&&s)}),this),s&&(this._modCache[e]=n,this.domElem)){var u=MBEM.cls.list(t.getAttribute("class")||""),c=this.__self.className(o,e);u.forEach((function(e){0===e.indexOf(c)&&MBEM.cls.remove(t,e)})),""!==n&&MBEM.cls.add(t,this.__self.className(o,e,n))}return delete this._processingMods[r],this},MBEM.prototype.delMod=function(t,e){return e||(e=t,t=void 0),this.setMod(t,e,"")},MBEM.prototype.toggleMod=function(t,e,n,i,o){"string"==typeof t&&(o=i,i=n,n=e,e=t,t=void 0),void 0===i?i="":"boolean"==typeof i&&(o=i,i="");var r=this.getMod(t,e);return r!==n&&r!==i||this.setMod(t,e,"boolean"==typeof o?o?n:i:this.hasMod(t,e,n)?i:n),this}},881:function(){var t;t=MBEM._propListeners,MBEM.prototype.unbindFrom=function(e,n,i){var o=arguments.length;return 1===o?(n=e,e=this.domElem):2===o&&"function"==typeof n?(i=n,n=e,e=this.domElem):"string"==typeof e&&(e=this.elem(e)),Array.isArray(e)||(e=[e]),n.split(" ").forEach((function(n){e.forEach((function(e){e[t]&&e[t][n]&&(e[t][n]=e[t][n].filter((function(t){return!(!i||t.origHandler===i)||(e.removeEventListener(n,t,!1),!1)})))}))})),this}},685:function(){var t;t={},MBEM.channel=function(e){if(void 0!==e&&t[e])return t[e];var n=new MBEM.Observable;return void 0!==e&&(t[e]=n),n}},454:function(){window.MBEM=window.MBEM||{}},696:function(){!function(){var t=function(t){this.type=t,this.propagationStopped=!1};t.prototype.stopPropagation=function(){this.propagationStopped=!0};var e=function(){};e.prototype.on=function(t,e,n){if("object"==typeof t){for(var i in t)t.hasOwnProperty(i)&&this.on(i,t[i],e);return this}var o=this._handlerStorage||(this._handlerStorage={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},e.prototype.un=function(t,e){if("object"==typeof t){for(var n in t)t.hasOwnProperty(n)&&this.un(n,t[n]);return this}for(var i=this._handlerStorage||(this._handlerStorage={}),o=i[t]||(i[t]=[]),r=0;r<o.length;++r)if(o[r].fn===e)return o.splice(r,1),this;return this},e.prototype.trigger=function(e,n){for(var i,o=new t(e),r=this._handlerStorage||(this._handlerStorage={}),s=(r[e]||(r[e]=[])).slice(),a=0;a<s.length;++a){var u=s[a];if(!1===(i=u.fn.call(u.ctx||this,o,n))&&o.stopPropagation(),o.propagationStopped)break}return i},MBEM.Observable=e}()},376:function(){MBEM.arrayFrom=function(t){return Array.prototype.slice.call(t)}},116:function(){MBEM.closest=function(t,e){for(;t&&t!==document;){if(MBEM.cls.contains(t,e))return t;t=t.parentNode}}},495:function(){var t;t=/\s+/,MBEM.cls={list:function(e){return e.split(t).filter(Boolean)},contains:function(t,e){return MBEM.cls.list(t.getAttribute("class")||"").indexOf(e)>-1},add:function(t,e){var n=MBEM.cls.list(t.getAttribute("class")||"");return-1===n.indexOf(e)&&n.push(e),t.setAttribute("class",n.join(" ")),this},remove:function(t,e){var n=MBEM.cls.list(t.getAttribute("class")||""),i=n.indexOf(e);return i>-1&&n.splice(i,1),t.setAttribute("class",n.join(" ")),this},toggle:function(t,e,n){return void 0===n&&(n=!MBEM.cls.contains(t,e)),MBEM.cls[n?"add":"remove"](t,e)}}},937:function(){MBEM.debounce=function(t,e){var n;return function(){var i=this,o=arguments;clearTimeout(n),n=setTimeout((function(){n=null,t.apply(i,o)}),e)}}},273:function(){MBEM.encodeUriComponent=function(t){try{return encodeURIComponent(t)}catch(e){t=t.replace(/[\ud800-\udbff](?![\udc00-\udfff])/g,"").replace(/([^\ud800-\udbff]|^)[\udc00-\udfff]/g,(function(t){return t.slice(0,-1)}));try{return encodeURIComponent(t)}catch(n){throw new URIError("Невозможно зашифровать строку: "+t)}}}},384:function(){MBEM.extend=function(t){for(var e=Array.prototype.slice.call(arguments,1),n=0;n<e.length;n++){var i=e[n];for(var o in i)if(i.hasOwnProperty(o)){var r=i[o];r instanceof Element||r instanceof Array||r instanceof Date||"object"!=typeof r||null===r?t[o]=r:(t[o]=t[o]||{},MBEM.extend(t[o],r))}}return t}},418:function(){MBEM.offset=function(t){if(!t)return{top:0,left:0};var e=t.getBoundingClientRect(),n=document.documentElement.getBoundingClientRect();return{top:e.top-n.top,left:e.left-n.left}}},237:function(){MBEM.throttle=function(t,e,n){var i,o,r,s=null,a=0;n||(n={});var u=function(){a=!1===n.leading?0:(new Date).getTime(),s=null,r=t.apply(i,o),s||(i=o=null)};return function(){var c=(new Date).getTime();a||!1!==n.leading||(a=c);var l=e-(c-a);return i=this,o=arguments,l<=0||l>e?(s&&(clearTimeout(s),s=null),a=c,r=t.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(u,l)),r}}},248:function(){MBEM.appendUrlParams=function(t,e){return t+(t.indexOf("?")>-1?"&":"?")+Object.keys(e).map((function(t){return t+"="+MBEM.encodeUriComponent(e[t])})).join("&")}},323:function(){Function.prototype.bind||(Function.prototype.bind=function(t){var e=this,n=MBEM.arrayFrom(arguments).slice(1);return function(){var i=MBEM.arrayFrom(arguments);return e.apply(t,n.concat(i))}})},344:function(){Date.now||(Date.now=function(){return(new Date).getTime()})}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";n(454),n(696),n(376),n(495),n(384),n(669),n(323),n(513),n(539),n(881),n(945),n(586),n(364),n(199),n(547),n(418),n(937),n(273),n(248),n(237),n(116),n(344),n(685)}()}(),window.Ya&&Ya.Rum&&Ya.Rum.timeEnd&&Ya.Rum.timeEnd("2095")},7730:function(){MBEM.decl("i-mini-message-locker",{},{blockOrder:["dist-overlay","dist-popup"]})},4451:function(){MBEM.decl("keyboard-loader",{INPUT_SELECTOR:".search-gramps .input__control.input__input"})},6878:function(){BEM.DOM.decl("link-bro",{onSetMod:{js:{inited:function(){BEM.blocks["i-yabs-sender"].sendShow("yabs",this.params.linknext)}}}})},8310:function(){BEM.DOM.decl("services-suggest",{onSetMod:{js:function(){var t=!1,e=this.findBlockOutside($(".suggest2-form__input"),"input");null==e||e.bindTo("click",(function(){$("body").addClass("body_search_yes")})),null==e||e.on("blur",(function(){$("body").removeClass("body_search_yes")})),this.bindTo("mouseenter mouseleave focusin focusout",(function(e){t||$("body").toggleClass("body_services-suggest-force_yes","mouseenter"===e.type||"focusin"===e.type)})),document.addEventListener("visibilitychange",(function(){t=!0,$("body").removeClass("body_services-suggest-force_yes"),setTimeout((function(){t=!1}),100)}))}}},{})},6447:function(){BEM.DOM.decl({block:"suggest2",modName:"theme",modVal:"gramps-lite"},{getPopupWidth:function(){return $(".suggest2-form").width()}})}},o={};function r(t){var e=o[t];if(void 0!==e)return e.exports;var n=o[t]={exports:{}};return i[t](n,n.exports,r),n.exports}r.m=i,r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,n){return r.f[n](t,e),e}),[]))},r.u=function(t){return"a9/a91eb4816e87786fcf4b.js"},r.miniCssF=function(t){return"gramps-lite.ru"===t?"../_gramps-lite.css":"65/653e8c0fe5209b8defde.css"},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t={},r.l=function(e,n,i,o){if(t[e])t[e].push(n);else{var s,a;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var l=u[c];if(l.getAttribute("src")==e){s=l;break}}s||(a=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.src=e,0!==s.src.indexOf(window.location.origin+"/")&&(s.crossOrigin="anonymous")),t[e]=[n];var h=function(n,i){s.onerror=s.onload=null,clearTimeout(d);var o=t[e];if(delete t[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((function(t){return t(i)})),n)return n(i)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),a&&document.head.appendChild(s)}},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.p="https://yastatic.net/s3/home-static/_/",e=function(t){return new Promise((function(e,n){var i=r.miniCssF(t),o=r.p+i;if(function(t,e){for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var o=(s=n[i]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===t||o===e))return s}var r=document.getElementsByTagName("style");for(i=0;i<r.length;i++){var s;if((o=(s=r[i]).getAttribute("data-href"))===t||o===e)return s}}(i,o))return e();!function(t,e,n,i){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=function(r){if(o.onerror=o.onload=null,"load"===r.type)n();else{var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.href||e,u=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=a,o.parentNode.removeChild(o),i(u)}},o.href=e,0!==o.href.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous"),document.head.appendChild(o)}(t,o,e,n)}))},n={"gramps-lite.ru":0},r.f.miniCss=function(t,i){n[t]?i.push(n[t]):0!==n[t]&&{keyboard:1}[t]&&i.push(n[t]=e(t).then((function(){n[t]=0}),(function(e){throw delete n[t],e})))},function(){var t={"gramps-lite.ru":0};r.f.j=function(e,n){var i=r.o(t,e)?t[e]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise((function(n,o){i=t[e]=[n,o]}));n.push(i[2]=o);var s=r.p+r.u(e),a=new Error;r.l(s,(function(n){if(r.o(t,e)&&(0!==(i=t[e])&&(t[e]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+e,e)}};var e=function(e,n){var i,o,s=n[0],a=n[1],u=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(u)u(r)}for(e&&e(n);c<s.length;c++)o=s[c],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0},n=self.webpackChunk=self.webpackChunk||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}(),function(){"use strict";r(5944),r(7026),r(436),r(9793),r(1952),r(9666),r(3959),r(5e3),r(7062),r(4852),r(8962),r(2665);var t=r(44);!function(){function e(){home.originalUrl=window.location.href;var e=(0,t.Yu)("i-change-url.data");if(e){var n,i=e.url;try{n=history.state}catch(o){}i&&ya.history&&ya.history.navigate({data:n||null,url:i,replace:!0})}}var n=+new Date;+new Date-n>5e3?e():setTimeout(e,100)}();r(8589);var e=r(8086),n=r(5992);function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}BEM.decl("i-yabs-sender",{},{_init:function(){var e,i;this._pixelBase=(0,t.Yu)("yabs.pixelBase"),this._data=(0,t.Yu)("yabs.proto"),(this._pixelBase||null!==(e=this._data)&&void 0!==e&&null!==(i=e.yabs)&&void 0!==i&&i.pixel_base)&&(this._linksNext="",this._inited=!0,this._sendPixelDebounced=(0,n.D)(this._sendPixel.bind(this),1e3))},sendAdditionalPixelBases:function(){var e=this;this._checkAndInit();var n=(0,t.Yu)("yabs.additionalPixelBases");null==n||n.forEach((function(t){e._sendBk(t,"_sendExtraPixelBases")}))},sendProtoPixels:function(){var t=this;this._checkAndInit(),this._data&&Object.keys(this._data).forEach((function(e){var n,i=null===(n=t._data)||void 0===n?void 0:n[e],o=null==i?void 0:i.displayed,r=(null==i?void 0:i.pixel_base)||"";o&&r&&(o.forEach((function(t){r+=t.link_next})),t._sendBk(r,"sendProtoPixels",e))}))},_sendBk:function(t,n,i){return Promise.race([fetch(t),new Promise((function(t,e){setTimeout((function(){e(new Error("send to bk failed: timeout 15000ms"))}),15e3)}))]).catch((function(o){(0,e.H)({block:"i-mini-yabs-sender",sourceType:"network",meta:{request:i,method:n,url:t}},o)}))},_sendPixel:function(t){var n=this;if(!this._sending){var i=this._linksNext;this._linksNext="",this._sending=!0,$.ajax({url:t+i,xhrFields:{withCredentials:!0},timeout:15e3}).asPromise().then((function(){n._onRequestEnd(t)}),(function(o){n._onRequestEnd(t),n._linksNext+=i,(0,e.H)({block:"i-yabs-sender",sourceType:"network"},o)}))}},_onRequestEnd:function(t){this._sending=!1,this._linksNext&&this._sendPixelDebounced(t)},_getPixelBase:function(t){var n,i,o=this._pixelBase||(null===(n=this._data)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.pixel_base);if(o)return o;(0,e.H)({block:"i-yabs-sender",message:"pixelBase is not defined"})},_checkAndInit:function(){this._inited||this._init()},sendClose:function(t,e,n){if(t){this._checkAndInit();return n?(null==e||e.preventDefault(),Promise.race([this._sendBk(t,"sendClose"),new Promise((function(t){setTimeout(t,300)}))]).finally((function(){n&&(location.href=n)}))):this._sendBk(t,"sendClose")}},sendShow:function(t,e){this._checkAndInit();var n=this._getPixelBase(t);e&&n&&(this._linksNext+=e,this._sendPixelDebounced(n))}}),setTimeout((function(){BEM.blocks["i-yabs-sender"].sendAdditionalPixelBases(),BEM.blocks["i-yabs-sender"].sendProtoPixels()}),0),function(t){var n=setTimeout;function i(){}function o(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function r(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,o._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(o){return void a(e.promise,o)}s(e.promise,i)}else(1===t._state?s:a)(e.promise,t._value)}))):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void u(t);if("function"==typeof n)return void l(n.bind(e),t)}t._state=1,t._value=e,u(t)}catch(i){a(t,i)}}function a(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&o._immediateFn((function(){t._handled||o._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)r(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t((function(t){n||(n=!0,s(e,t))}),(function(t){n||(n=!0,a(e,t))}))}catch(i){if(n)return;n=!0,a(e,i)}}o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(i);return r(this,new c(t,e,n)),n},o.all=function(t){var e=Array.prototype.slice.call(t);return new o((function(t,n){if(0===e.length)return t([]);var i=e.length;function o(r,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){o(r,t)}),n)}e[r]=s,0==--i&&t(e)}catch(u){n(u)}}for(var r=0;r<e.length;r++)o(r,e[r])}))},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o((function(e){e(t)}))},o.reject=function(t){return new o((function(e,n){n(t)}))},o.race=function(t){return new o((function(e,n){for(var i=0,o=t.length;i<o;i++)t[i].then(e,n)}))},o._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){n(t,0)},o._unhandledRejectionFn=function(t){(0,e.H)({block:"i-polyfill__promise",message:"Possible Unhandled Promise Rejection"},t)},t.Promise||(t.Promise=o)}(window);var s,a=/^(?:(.*?):)?\/\/([^/?#\s]+)(\/?.*)$/,u=/^(\/?[^?#\s]*)(?:\?([^#]+))?(?:#(.*))?$/;function c(t,n){return t.split("&").reduce((function(t,i){if(!i)return{};var o,r,s=i.match(/([^=]*)=(.*)/);if(s)try{o=decodeURIComponent(s[1]),r=decodeURIComponent(s[2])}catch(u){return(0,e.H)({message:"parseSearch: "+u.message+"; token: "+i,block:"url"}),t}else{try{o=decodeURIComponent(i)}catch(u){return(0,e.H)({message:"parseSearch: "+u.message+"; token: "+i,block:"url"}),t}r=""}if(o in t&&n){var a=t[o];"string"==typeof a&&(t[o]=[a]),t[o].push(r)}else t[o]=r;return t}),{})}function l(t){var e=[];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];if(null!=i)for(var o=Array.isArray(i)?i:[i],r=0;r<o.length;++r)e.push(encodeURIComponent(n)+(""!==o[r]?"="+encodeURIComponent(String(o[r])):""))}return e.length?"?"+e.join("&"):""}function h(t){var e,n,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(a);r?i=r[3].match(u):(r=[],i=t.match(u));var s={scheme:(null===(e=r)||void 0===e?void 0:e[1])||"",host:(null===(n=r)||void 0===n?void 0:n[2])||"",path:i&&i[1]||"",search:i&&i[2]||"",hash:i&&i[3]||"",query:{}};return s.query=c(s.search,o.multi),s}s=$.ajax,$.ajax=function(t,e){var n=s(t,e);return n.asPromise=function(){return new Promise((function(e,i){n.then(e,(function(e,n,o){var r;if(!t||"object"==typeof t&&!t.url)(r=new Error("Url is not defined")).sourceType="logic";else{(r=new Error("Cannot load ajax request")).sourceType="abort"===n?"logic":"parsererror"===n?"backend":"network",r.errorName=n,r.errorText=o,e.responseJSON&&(r.json=e.responseJSON);var s=h("object"==typeof t?t.url:t);r.url=s.host+s.path,r.meta={},"error"!==n&&(r.meta[n]=1),e.status&&(r.meta.status=e.status)}r.name="blockerror",i(r)}))}))},n},function(t){var e=!1,n=function(){e||(e=!0,t())};"complete"===document.readyState||"loading"!==document.readyState&&!document.documentElement.doScroll?setTimeout(n,0):(document.addEventListener("DOMContentLoaded",n,!1),document.addEventListener("load",n,!1))}((function(){var e=(0,t.Yu)("yandcache.data");e&&window.setTimeout((function(){var t=document.createElement("script");t.src=e.url,document.getElementsByTagName("head")[0].appendChild(t)}),e.timeout)}));var d,f,p=!1,m=[];f=function(){var n=(0,t.Yu)("referers.data");if(n){var i=location.hash?location.hash.replace(/^#/,""):"",o=i&&i.match(/^[1-578]$/);o&&n.referer&&(0,e.H)({block:"referers-check",sourceType:"clckerror",message:"clck error",url:n.referer,meta:{hash:o}})}},p?setTimeout(f,0):(m.push(f),d||(d=setTimeout((function t(){if(document.body&&home.export){p=!0;for(var e=0;e<m.length;++e)setTimeout(m[e],0)}else setTimeout(t,100)}),100)));var _,v=r(7117);setTimeout((function(){window.performance&&performance.navigation&&1===performance.navigation.type&&(0,v.DF)("tech","refresh")}),0),MBEM.channel("sys").on("visibilitychange",(function(t,e){e.hidden?_=Date.now():_&&((0,v.DF)("tech","return",{customParams:{timems:Date.now()-_}}),_=null)}));var g;r(7922),r(2649);g="Promise"in window&&!Promise._unhandledRejectionFn,MBEM.ready((function(){var e=(0,t.Yu)("tech-counters");if(e){(0,v.DF)("tech","tech.localStorage."+Number(!home.disabledLS));var n=!1;try{n=window.matchMedia("(prefers-color-scheme: dark)").matches}catch(p){}(0,v.DF)("tech","tech.dark."+Number(n)),(0,v.DF)("tech","tech.promise."+Number(g));var i="IntersectionObserver"in window&&!IntersectionObserver.prototype.THROTTLE_TIMEOUT;(0,v.DF)("tech","tech.io."+Number(i));var o="Proxy"in window;(0,v.DF)("tech","tech.es6."+Number(o));var r=Boolean((new Image).loading);(0,v.DF)("tech","tech.loading."+Number(r));try{if(matchMedia("(any-pointer: coarse)").matches&&!e.isTablet&&!e.isTouch){var s,a=navigator.userAgent||"",u=a.indexOf("Mac OS")>-1,c=a.indexOf("iPhone OS")>-1,l=matchMedia("(any-hover: hover)").matches,h=Math.min(screen.width,screen.height);s=l?"touchscreen":u||c?h<700?"iphone":"ipad":h<600?"androidphone":"androidpad",(0,v.DF)("tech","tech.touch."+s)}}catch(p){}var d=Date.now();MBEM.channel("i-scroll-event").on("scroll",(function t(){MBEM.channel("i-scroll-event").un("scroll",t),(0,v.DF)("tech","tech.scroll",{customParams:{timems:Date.now()-d}})}));var f=function(t){!0===t.persisted&&(0,v.DF)("tech","tech.bfcache")};window.addEventListener("pageshow",f),window.addEventListener("spas-unmount-main",(function(){window.removeEventListener("pageshow",f)}))}}));r(4401),r(2289),r(8353),r(997),r(4468),r(8764),r(6493),r(6124),r(1617),r(2974),r(1749),r(5207),r(961),r(1287),r(10),r(6006),r(2456),r(3670),r(9739),r(5689),r(532),r(5050),r(5559),r(8893);BEM.decl("suggest2",{init:function(){this.__base.apply(this,arguments),this._logOnError()},_logOnError:function(){BEM.channel("suggest2").on("response",(function(t,n){var i=n.data.error;i&&"parsererror"===i&&!this._loggedError&&(this._loggedError=!0,(0,e.H)({block:"suggest2",message:"Parser error",method:"_logOnError",sourceType:"network",source:"suggest2"}))}),this)}});r(4403),r(7950),r(7180),r(7630),r(8017),r(6238),r(5682),r(4738),r(5284),r(5318),r(4027),r(8766),r(3006),r(8942),r(8659),r(1800),r(3595),r(206),r(8703),r(3017),r(8006),r(8274),r(6234),r(30),r(3813),r(7302),r(1418),r(6447),r(6871),r(6551),r(5190),r(3674),r(5726),r(1102),r(5918),r(6722),r(9968),r(512),r(5436),r(100),r(8993),r(9692),r(8073),r(3963),r(9253),r(1047);var b=r(1714);function y(){return"<div class='input__ahead'><input class='input__ahead-hint' type='text' disabled='disabled' aria-hidden='true'><span class='input__ahead-filler'></span><div class='input__ahead-hintholder'></div></div>"}BEM.DOM.decl({name:"input",modName:"ahead",modVal:"yes"},{onSetMod:{js:function(){var t=$.browser&&$.browser.opera&&$.browser.version<12.1?"keypress":"keydown";this.__base(),this._leftPadding=parseInt(this.elem("input").css("border-left-width"),10),this._intent=!1,this._preventAhead=!1,this._lastBackspace=0,this.on("change",this._onTextChange).on("blur",(function(){this.delMod("ahead-visible")})).bindTo("click",this._onClickOver).bindTo(t,this._onKeyDown)}},_onClickOver:function(t){var e=this;if(!this._preventAhead&&this._ahead&&this.elem("input").is(t.target))if(this.hasMod("ahead-visible")){var n=t.pageX-this.domElem.offset().left-this._leftPadding,i=this.elem("ahead-filler").width(),o=this.elem("ahead-hintholder").width();n>i&&n<o&&(this.trigger("ahead-click"),setTimeout((function(){e._fill({usage:"mouse"})}),0))}else this.setMod("ahead-visible","yes")},_onKeyDown:function(t){if(this.__base.apply(this,arguments),this._ahead)switch(new Date-this._lastBackspace>this.params.backspaceDelay&&(this._preventAhead=!1),t.which){case 8:if(!this.params.hideOnBackspace)break;this._preventAhead=!0,this._lastBackspace=new Date,this._intent=this._clearAhead();break;case 9:this.hasMod("focused","yes")&&this._intent&&!t.ctrlKey&&!t.altKey&&this._fill({usage:"tab"})&&t.preventDefault();break;case 39:this.val().length===this.getSelectionEnd()&&this._fill({usage:"arrow"})&&t.preventDefault()}},setAhead:function(t){var e;return!this._preventAhead&&(e=this.val(),0!==t.indexOf(e)?this._clearAhead():void(this._intent=this._setAhead(e,t.slice(e.length))))},unsetAhead:function(){this._clearAhead(),this._intent=!1},_onTextChange:function(){this._ahead||this._buildAhead();var t=this.val().length;this.shiftAhead(t),this._intent&&0!==this._intent.indexOf(this.val())?this._clearAhead():this.setMod("ahead-visible","yes")},_fill:function(t){var e=this.val(),n=$.extend(t,{chars:this._intent.length-e.length});if("string"==typeof this._intent&&n.chars>0&&0===this._intent.indexOf(e)){try{var i=document.createEvent("TextEvent");i.initTextEvent("textInput",!0,!0,null,this._intent.slice(this.val().length),9),this._input.selectionEnd=this._input.selectionStart=this._intent.length,this._input.dispatchEvent(i)}catch(s){var o=this.elem("control").get(0);if(this.val(this._intent),o.createTextRange){var r=o.createTextRange();r.moveEnd("character",this._intent.length),r.collapse(!1),r.select()}else try{o.selectionEnd=o.selectionStart=this._intent.length}catch(a){}}this.trigger("ahead-fill",n),(0,v.DF)("tech","suggest.ahead."+t.usage)}return n.chars>0},getSelectionEnd:function(){var t=this.elem("control")[0],e=0;if("number"==typeof t.selectionEnd)e=t.selectionEnd;else{var n=document.selection.createRange();if(n&&n.parentElement()===t){var i=t.value.length,o=t.createTextRange();o.moveToBookmark(n.getBookmark());var r=t.createTextRange();r.collapse(!1),e=o.compareEndPoints("EndToEnd",r)>-1?i:-o.moveEnd("character",-i)}}return e},getDefaultParams:function(){return $.extend(this.__base(),{backspaceDelay:100,hideOnBackspace:!0})},_buildAhead:function(){this._ahead||(this._ahead=$((0,b.M)(y)),BEM.DOM.before(this.elem("control"),this._ahead))},_setAhead:function(t,e){this._ahead||this._buildAhead();var n=this.elem("ahead-filler");return this._preventAhead?(t="",e=""):(t=t||"",e=e||""),n.text(t),this.elem("ahead-hintholder").text(t+e),this.elem("ahead-hint").val(t+e),this.elem("ahead").css("clip","rect(auto auto auto "+(n.width()+this._leftPadding)+"px)"),t+e},_clearAhead:function(){return this._setAhead("",""),!1},shiftAhead:function(t){if(this._intent){var e=this._intent.slice(0,t),n=this._intent.slice(t);this._setAhead(e,n)}}});r(2568),r(4386);function E(){var t={};return window.name.split("&").forEach((function(e){if(e.toString()){var n=e.split("=");t[n[0]]=n[1]}})),t}function M(t){return E()[t]}function w(t,e){var n=E(),i=[];for(var o in n[t]=e,n)n.hasOwnProperty(o)&&i.push(o+"="+n[o]);window.name=i.join("&")}var k=null,T=function(t){var n=k;if(n){var i=Date.now();r.e("keyboard").then(r.bind(r,6964)).catch((function(t){throw(0,e.H)({block:"keyboard-loader",url:t.request},t),t})).then((function(e){e.toggle({lang:M("keyboard_lang")||n.lang||"ru",for:n.for,onShow:function(){w("keyboard_state","open"),MBEM.cls.add(document.documentElement,"document_keyboard")},onHide:function(){w("keyboard_state","close"),MBEM.cls.remove(document.documentElement,"document_keyboard")},onLang:function(t){w("keyboard_lang",t)}},t),(0,v.DF)("tech","keyboard.popup.timing",{customParams:{time:Date.now()-i}})}))}};MBEM.decl("keyboard-loader",{__constructor:function(){var t=(this.domElem.className.match(/keyboard-loader_lang_(\w+)/)||["",""])[1],e=document.querySelector(this.INPUT_SELECTOR);e&&(k={lang:t,for:e},"open"!==M("keyboard_state")&&"#kb"!==window.location.hash||T(),this.bindTo("click",(function(){T()})))},INPUT_SELECTOR:".search2 .mini-suggest__input"});r(4451),r(7475),r(2685);var B=r(150),C=r.n(B),S=r(9735),x=r.n(S);var D={};function P(t){return t.isCached=!0,t}var I=P((function(t){return t.CSP&&t.CSP.nonce?' nonce="'+t.CSP.nonce+'"':""}));function O(t,e,n){return"<style "+C()(Object.assign({_temp:n(I)},t.attrs))+">"+x().oneElem(t.content)+"</style>"}function R(t){return"<img "+C()({class:"dist-popup__image",alt:"",src:t.image})+">"}var F=(0,t.Yu)("i-bannerid.csl"),A=null;function j(t){if(!F)throw new Error("i-bannerid: Cookie set link wasn't passed");if(!t)throw new Error("i-bannerid: Bannerid wasn't passed");var e=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return t.replace(/%s/g,(function(){return n.shift()||""}))}(F,t);A||((A=document.createElement("iframe")).name="i-bannerid",A.style.display="none",document.body.appendChild(A)),A.src!==e&&(A.src=e)}BEM.DOM.decl("dist-popup",{onSetMod:{js:function(){this.__base(),this._initPopup()}},_initPopup:function(){setTimeout(function(){MBEM.blocks["i-mini-message-locker"].acquireLock("dist-popup",this._hide.bind(this)).then(function(){this._onShow()}.bind(this),this.destruct.bind(this))}.bind(this),this.__self.SHOW_TIMEOUT)},_getPopupPosition:function(){return{top:12,left:18}},_bindEvents:function(){this.bindTo("no close","click",this._onNoClick),this.bindKeyTo("close","space enter",this._onNoClick),this.bindTo("yes","click",this._onYesClick)},_onShow:function(){var t=this.params,e=t.counters,n=$("html").hasClass("i-ua_inlinesvg_yes")&&t.icons.icon_svg||t.icons.icon;this.elem("image-wrapper").prepend((0,b.M)(R,{image:n})),this.popup=this.findBlockOn("popup").show(this._getPopupPosition()),this.popup.on({"before-hide":this._onBeforeHide,hide:this._onHide},this),this.popup._unbindFocusEvents(),MBEM.blocks["i-mini-visibilitychange"].waitForVisible(function(){this._sendCounter(e.show)}.bind(this)),this._bindEvents()},_onBeforeHide:function(t,e){e&&["esc-key","close-click"].indexOf(e.source)>-1&&this.afterCurrentEvent(this._countCancel)},_onHide:function(){MBEM.blocks["i-mini-message-locker"].releaseLock("dist-popup"),setTimeout(this.destruct.bind(this),this.__self.DESTRUCT_TIMEOUT)},_onYesClick:function(){this._closeFlag(this.params.close_url),this.params.yaCounterId&&(BEM.blocks["i-metrika"].add({id:this.params.yaCounterId,triggerEvent:!0}),this.params.bannerid&&j(this.params.bannerid))},_onNoClick:function(){return this.popup.hide(),this._countCancel(),!1},_hide:function(){this.popup&&this.popup.hide()},_countCancel:function(){this._closeFlag(this.params.close_url),this.params.quarantineUrl&&this._closeFlag(this.params.quarantineUrl),this._sendCounter(this.params.counters.no),window.home&&window.home.gaCounter&&window.home.gaCounter.trackCancelPopup()},_closeFlag:function(t){t&&((new Image).src=t)},_sendCounter:function(t){t&&t.length&&t.forEach((function(t){"path"===t.type?(0,v.DF)("click",t.content):"image"===t.type?(new Image).src=t.content:"show"===t.type?(0,v.DF)("show",t.content):"i-yabs-sender"===t.type&&BEM.blocks["i-yabs-sender"].sendShow("yabs",t.content)}))},destruct:function(){return this.popup&&(this.popup.destruct(),this.popup=null),this.__base.apply(this,arguments)}},{SHOW_TIMEOUT:1e3,DESTRUCT_TIMEOUT:1e3});var N;r(6895);function L(){return N=new Promise((function(t,e){var n,i,o,r,s;n="//yastatic.net/q/ya-paranja/client.js?build=morda",i=t,o=e,s=document.createElement("script"),r&&(s.nonce=r),s.charset="utf-8",i&&(s.onload=i),o&&(s.onerror=function(){o(new Error("Failed to load script "+n))}),s.src=n,s.crossOrigin="anonymous",document.getElementsByTagName("head")[0].appendChild(s)})).catch((function(t){N=void 0,(0,e.H)({block:"paas",sourceType:"network",method:"_load",message:"Error loading source for paas"},t)}))}function q(t){var e=document.createElement("iframe");e.style.display="none",e.setAttribute("aria-hidden","true"),e.setAttribute("name","install"),e.setAttribute("src",t.url),document.body.appendChild(e),function(t){var e;null!==(e=t.counters)&&void 0!==e&&e.click&&((new Image).src=t.counters.click)}(t)}function H(t){var e;e=t.paas,(N||L()).then((function(){var t;null!==(t=window.Ya)&&void 0!==t&&t.Paranja&&(window.Ya.Paranja.init({from:"morda",product:e,mod:"iframe"}),window.Ya.Paranja.show())})),q(t)}BEM.DOM.decl({block:"dist-popup",modName:"install",modVal:"download"},{_onYesClick:function(){return this.__base.apply(this,arguments),this._sendCounter(this.params.counters.yes),H(this.params),this._hide(),!1}});r(4772),r(4100);MBEM.decl("i-mini-message-locker",{},{blockOrder:["geolocation-setup"],acquireLock:function(t,e){var n=this;return new Promise((function(i,o){var r;if(n._initOrder(),t in n._blockOrderMap)if(n._locked)if(n._locked===t)i();else{var s=new Error("Lock already acquired. Cannot show ".concat(t));s.type="i-mini-message-locker:locked-already",o(s)}else if(r=n._blockOrderMap[t],!n._showPretender||n._showPretender.index>r)n._showPretender?n._showPretender.promises.forEach((function(t){var e=new Error("More important block is shown");e.type="i-mini-message-locker:low-priority",t.reject(e)})):MBEM.ready((function(){setTimeout((function(){if(n._showPretender){var t=n._showPretender.promises;n._locked=n._showPretender.name,n._closeFunc=e||null,n._showPretender=null,t.forEach((function(t){t.resolve()})),MBEM.channel("i-message-locker").trigger("lock",n._locked)}}),0)})),n._showPretender={name:t,promises:[{resolve:i,reject:o}],index:r};else if(n._showPretender&&n._showPretender.name===t)n._showPretender.promises.push({resolve:i,reject:o});else{var a=new Error("More important block is shown");a.type="i-mini-message-locker:low-priority",o(a)}else o(new Error("Unknown block priority in message-locker "+t))}))},releaseLock:function(t){this._locked&&this._locked===t&&(this._locked="",this._closeFunc=null,MBEM.channel("i-message-locker").trigger("unlock",t))},forceClose:function(){this._closeFunc&&this._closeFunc()},_blockOrderMap:void 0,_showPretender:void 0,_locked:"",_initOrder:function(){if(!this._blockOrderMap){this._blockOrderMap={};for(var t=0;t<this.blockOrder.length;++t)this._blockOrderMap[this.blockOrder[t]]=t}}});r(7730),r(6211);var U=r(2e3),z=r(8901);function V(t){var e="#"===t.charAt(0)?t.slice(1):t,n=(6===e.length?[e.slice(0,2),e.slice(2,4),e.slice(4,6)]:[e.slice(0,1)+e.slice(0,1),e.slice(1,2)+e.slice(1,2),e.slice(2,3)+e.slice(2,3)]).map((function(t){return parseInt(t,16)}));return{r:n[0],g:n[1],b:n[2]}}function Y(t){var e,n,i=t.r/255,o=t.g/255,r=t.b/255,s=Math.max(i,o,r),a=Math.min(i,o,r),u=(s+a)/2;if(s===a)e=n=0;else{var c=s-a;switch(n=u>.5?c/(2-s-a):c/(s+a),s){case i:e=(o-r)/c+(o<r?6:0);break;case o:e=(r-i)/c+2;break;case r:e=(i-o)/c+4}e/=6}return{h:e,s:n,l:u}}function K(t){var e,n,i,o=t.h,r=t.s,s=t.l;if(0===r)e=n=i=s;else{var a=function(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t},u=s<.5?s*(1+r):s+r-s*r,c=2*s-u;e=a(c,u,o+1/3),n=a(c,u,o),i=a(c,u,o-1/3)}return{r:Math.round(255*e),g:Math.round(255*n),b:Math.round(255*i)}}function W(t){return 1===t.length&&(t="0"+t),t}function G(t,e){return function(t,e,n){var i=Y(t);return i[e]+="l"===e&&n>0?(1-i.l)*n/100:i[e]*(n/100),K(i)}(t,"l",e)}function X(){return 1===this.opacity?"#"+W(this.rgb.r.toString(16))+W(this.rgb.g.toString(16))+W(this.rgb.b.toString(16)):"rgba("+String(this.rgb.r)+","+String(this.rgb.g)+","+String(this.rgb.b)+","+String(Number(this.opacity.toFixed(2)))+")"}var Q=P((function(e,n){return(0,t.Yu)("common.new-tab-links")}));function Z(t,e,n){var i="a",o=t.attrs||{},r=t.mods||{},s=t.mix||"",a="";return o.class=(0,z.jY)("home-link2",{mix:s,mods:r}),t.href?o.href=t.href:i=t.tag||"span",t.title&&(o.title=t.title),t.role&&(o.role=t.role),t.tabindex&&(o.tabindex=t.tabindex),t.target&&(o.target=t.target),!o.target&&o.href&&n(Q,e)&&(o.target="_blank"),"_blank"===o.target&&void 0===o.rel&&(o.rel="noopener"),a="<"+i,a+=function(t){if(!t)return"";var e,n="";for(e in t)if(t.hasOwnProperty(e)){var i=t[e];if(i||0===i)if(i===D)n+=" "+e;else{var o=String(i);o.indexOf('"')>-1&&(o=o.replace(/"/g,"&quot;")),n+=" "+e+'="'+o+'"'}}return n}(o),t.stat&&(a+=t.stat),t.js&&(a+=' data-bem="'+(0,z.Ms)(t.js)+'"'),a+=">",t.inlineIcon&&(a+=t.inlineIcon),t.content&&(a+=t.content),a+="</"+i+">"}var J=.48;function tt(t){return Boolean(t&&(e=t,{rgb:V(e),get hsl(){return Y(this.rgb)},opacity:1,toString:X,lighter:function(t){return this.rgb=G(this.rgb,t),this},setOpacity:function(t){return this.opacity=t,this},setHsl:function(t){return this.rgb=K(t),this}}).hsl.l>=J);var e}function et(t){var e=tt(t)?.9:.8;return t.replace(/([\da-fA-F]{2})/g,(function(t){return function(t){return t.length<2?"0"+t:t}(Math.floor(parseInt(t,16)*e).toString(16))}))}function nt(t){if(t.color&&!tt(t.color))return"dark"}function it(t,e,n){var i=n(nt,t),o=t.button_color&&!tt(t.button_color)?"dark":"light",r=n(O,{content:(t.color?"html:not(.document_dark_yes) .dist-overlay__content {\n            background-color: ".concat(t.color,";\n        }"):"")+(t.button_color?"html:not(.document_dark_yes) .dist-overlay__link {\n            background-color: ".concat(t.button_color,";\n        }\n        html:not(.document_dark_yes) .dist-overlay__link:hover {\n            background-color: ").concat(et(t.button_color),";\n        }"):"")}),s=t.age_restriction;return x().oneElem(r)+x().oneElem("<div "+C()({class:(0,z.jY)("dist-overlay__content",{mods:{theme:i,"button-theme":o}})})+">"+(x().oneElem("<img "+C()({class:"dist-overlay__icon",src:t.icon,"aria-hidden":"true",alt:""})+">")+x().oneElem("<div id='distOverlayTitle' class='dist-overlay__title'>"+x().oneElem(t.title)+"</div>")+x().oneElem("<div id='distOverlayDesc' class='dist-overlay__description'>"+x().oneElem(t.description)+"</div>")+x().oneElem(s&&"<div id='distOverlayAgeLimit' class='dist-overlay__age-restriction'>"+(x().oneElem("<span class='a11y-hidden'>"+x().oneElem("Возрастное ограничение")+"</span>")+x().oneElem(s))+"</div>")+x().oneElem("<div class='dist-overlay__link-wrapper'>"+x().oneElem(n(Z,{href:t.button_url,mix:"dist-overlay__link",mods:{color:"inherit"},stat:e.stat.getAttr("dist_overlay.link"),content:n(ot,{text:t.button_text,useIcon:"icon"===t.design_type})}))+"</div>"))+"</div>")}function ot(t){return t.text}function rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,o){var r,s,a=h(t),d=new(a.host&&a.host!==location.host&&"XDomainRequest"in window?XDomainRequest:XMLHttpRequest);(!1===e.useCache&&(t=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.replace(u,(function(t,o,r,s){var a=r?c(r,n):{};for(var u in e)if(e.hasOwnProperty(u)){var h=a[u],d=e[u];a[u]=n&&h?[].concat(i(Array.isArray(h)?h:[h]),i(Array.isArray(d)?d:[d])):d}return o+l(a)+(s?"#"+s:"")}))}(t,{rnd:Date.now()})),e.body)&&("urlencoded"===e.processBody?(r=Object.keys(e.body).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e.body[t])})).join("&").replace(/%20/g,"+"),s="application/x-www-form-urlencoded; charset=UTF-8"):(r=JSON.stringify(e.body),s="application/json"),e.requestHeaders=e.requestHeaders||{},e.requestHeaders["Content-Type"]=s);if("any"!==e.responseType&&(e.requestHeaders=e.requestHeaders||{},e.requestHeaders.Accept="application/json, text/javascript, */*; q=0.01"),d.open(e.method||"GET",t,!0),"include"===e.credentials&&(d.withCredentials=!0),e.requestHeaders)for(var f in e.requestHeaders)if(e.requestHeaders.hasOwnProperty(f))try{d.setRequestHeader(f,e.requestHeaders[f])}catch(p){}d.onreadystatechange=function(){var t;if(4===d.readyState)if(d.status>=200&&d.status<400)if("any"===e.responseType)n(d.responseText);else try{n(JSON.parse(d.responseText))}catch(i){(t=new Error("Incorrect JSON")).sourceType="backend",t.meta={parsererror:1},o(t)}else(t=new Error("Cannot load ajax request")).sourceType="network",t.meta={status:d.status},o(t)},d.send(r),e.timeout&&setTimeout((function(){var t=new Error("Timeout");t.sourceType="network",t.meta={timeout:1},o(t),d.abort()}),e.timeout)})).catch((function(e){var n=t.match(/\/\/([^?&]+)($|\?|&)/);throw e.name="blockerror",e.url=n&&n[1]||t,e}))}MBEM.decl("dist-overlay",{__constructor:function(){var n=this,i=(0,t.Yu)("dist-overlay.data");i?MBEM.blocks["i-mini-message-locker"].acquireLock("dist-overlay",this._hide.bind(this)).then((function(){var t=(0,b.M)(nt,i),e=MBEM.construct((0,b.M)(U.w,{mix:"dist-overlay__popup"+(t?" dist-overlay__popup_theme_dark":""),content:(0,b.M)(it,i),mods:{theme:"modal",autoclosable:"yes",overlay:"yes","has-close":"yes","delay-close":"close"===i.design_type?"yes":void 0},attrs:{role:"dialog","aria-modal":"true","aria-describedby":"distOverlayTitle distOverlayDesc distOverlayAgeLimit"}}));document.body.appendChild(e);var o=n._modal=MBEM.getInitedBlock(e,"simple-popup");n._bindEvents();o.on("show",(function t(){setTimeout((function(){var t;null===(t=e.querySelector(".dist-overlay__link"))||void 0===t||t.focus(),MBEM.cls.remove(document.documentElement,"utilityfocus"),MBEM.cls.add(document.documentElement,"pointerfocus")}),50),o.un("show",t)})),n._modal.show({})})):(0,e.H)({block:"dist-overlay",message:"Missing dist-overlay server data"})},_bindEvents:function(){var t,e,n,i=null===(t=this._modal)||void 0===t?void 0:t.domElem.querySelector(".dist-overlay__link");i&&(this.bindTo(i,"click",this._onLinkClick),this.bindTo(i,"keydown",this._onLinkKeydown)),null===(e=this._modal)||void 0===e||e.on("show",this._onShow,this),null===(n=this._modal)||void 0===n||n.on("hide",this._onHide,this)},_hide:function(){this._modal&&this._modal.delMod("visible")},_onShow:function(){var t,e=null===(t=this.params)||void 0===t?void 0:t.linknext;(0,v.DF)("show","dist_overlay.realshow"),e&&this._sendShow(e)},_sendShow:function(t){var e,n;null!==(e=MBEM)&&void 0!==e&&e.blocks["i-mini-yabs-sender"]?MBEM.blocks["i-mini-yabs-sender"].sendShow("yabs",t):null!==(n=BEM)&&void 0!==n&&n.blocks["i-yabs-sender"]&&BEM.blocks["i-yabs-sender"].sendShow("yabs",t)},_onHide:function(){var t,e=null===(t=this.params)||void 0===t?void 0:t.closeUrl;(0,v.DF)("click","dist_overlay.cancel"),e&&((new Image).src=e)},_onLinkClick:function(t){var e,n;t.preventDefault(),null===(e=this._modal)||void 0===e||e.un("hide",this._onHide),this._download(),null===(n=this._modal)||void 0===n||n.unmount()},_onLinkKeydown:function(t){32!==t.which||t.ctrlKey||t.shiftKey||t.metaKey||t.altKey||this._onLinkClick(t)},_download:function(){var t,e,n;(0,v.DF)("click","dist_overlay.ok");var i,o,r=null===(t=this.params)||void 0===t||null===(e=t.install)||void 0===e?void 0:e.url,s=null===(n=this.params)||void 0===n?void 0:n.bannerid;r&&(i=r,(o=window.open("","_blank"))&&(o.opener=null,o.location=i),s&&j(s))}}),MBEM.decl({block:"dist-overlay",modName:"install",modVal:"download"},{_download:function(){var t;(0,v.DF)("show","dist_overlay.ok");var e=null===(t=this.params)||void 0===t?void 0:t.install;null!=e&&e.paas&&e.url&&H(e)}}),MBEM.decl("i-mini-yabs-sender",{},{_init:function(){var e,i;this._pixelBase=(0,t.Yu)("yabs.pixelBase"),this._data=(0,t.Yu)("yabs.proto"),(this._pixelBase||null!==(e=this._data)&&void 0!==e&&null!==(i=e.yabs)&&void 0!==i&&i.pixel_base)&&(this._linksNext="",this._inited=!0,this._sendPixelDebounced=(0,n.D)(this._sendPixel.bind(this),1e3))},sendAdditionalPixelBases:function(){var e=this;this._checkAndInit();var n=(0,t.Yu)("yabs.additionalPixelBases");null==n||n.forEach((function(t){e._sendBk(t,"_sendExtraPixelBases")}))},sendProtoPixels:function(){var t=this;this._checkAndInit(),this._data&&Object.keys(this._data).forEach((function(e){var n,i=null===(n=t._data)||void 0===n?void 0:n[e],o=null==i?void 0:i.displayed,r=(null==i?void 0:i.pixel_base)||"";o&&r&&(o.forEach((function(t){r+=t.link_next})),t._sendBk(r,"sendProtoPixels",e))}))},_sendBk:function(t,n,i){return Promise.race([fetch(t),new Promise((function(t,e){setTimeout((function(){e(new Error("send to bk failed: timeout 15000ms"))}),15e3)}))]).catch((function(o){(0,e.H)({block:"i-mini-yabs-sender",sourceType:"network",meta:{request:i,method:n,url:t}},o)}))},_sendPixel:function(t){var n=this;if(!this._sending){var i=this._linksNext;this._linksNext="",this._sending=!0,rt(t+i,{credentials:"include",responseType:"any",timeout:15e3}).then((function(){n._onRequestEnd(t)})).catch((function(o){n._onRequestEnd(t),n._linksNext+=i,(0,e.H)({block:"i-mini-yabs-sender"},o)}))}},_onRequestEnd:function(t){this._sending=!1,this._linksNext&&this._sendPixelDebounced(t)},_getPixelBase:function(t){var n,i,o=this._pixelBase||(null===(n=this._data)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.pixel_base);if(o)return o;(0,e.H)({block:"i-yabs-sender",message:"pixelBase is not defined"})},_checkAndInit:function(){this._inited||this._init()},sendClose:function(t,e,n){if(t){this._checkAndInit();return n?(null==e||e.preventDefault(),Promise.race([this._sendBk(t,"sendClose"),new Promise((function(t){setTimeout(t,300)}))]).finally((function(){n&&(location.href=n)}))):this._sendBk(t,"sendClose")}},sendShow:function(t,e){this._checkAndInit();var n=this._getPixelBase(t);e&&n&&(this._linksNext+=e,this._sendPixelDebounced(n))}}),MBEM.ready((function(){MBEM.blocks["i-mini-yabs-sender"].sendAdditionalPixelBases(),MBEM.blocks["i-mini-yabs-sender"].sendProtoPixels()}));var st;r(1230),r(3181),r(6878),r(8310);st=function(){var e=(0,t.Yu)("delayed-reporter"),n=function(t){void 0!==t.timeout?setTimeout((function(){i(t)}),1e3*t.timeout):i(t)},i=function(t){t.url?(new Image).src=t.url:t.stat&&t.stat.type&&t.stat.name&&(0,v.DF)(t.stat.type,t.stat.name)},o=function(t){t&&(t="string"==typeof t?{url:t}:t,document.visibilityState&&"visible"!==document.visibilityState?document.addEventListener("visibilitychange",(function e(){"visible"===document.visibilityState&&(document.removeEventListener("visibilitychange",e),n(t))})):n(t))};if(e)for(var r in e)if(e.hasOwnProperty(r)){var s=e[r];Array.isArray(s)||(s=[s]),s.forEach(o)}},window.$?$(st):"addEventListener"in document&&(document.addEventListener("DOMContentLoaded",st,!1),window.addEventListener("spas-unmount-main",(function(){document.removeEventListener("DOMContentLoaded",st,!1)}))),(0,t.Yu)("init.asyncInitExp")||MBEM.ready((function(){var t=document.documentElement;t&&(MBEM.channel("i-mini-bem").trigger("start-init"),MBEM.initAll(t,"i-mini-bem"),MBEM.channel("i-mini-bem").trigger("init"))}))}()}(),window.Ya&&Ya.Rum&&Ya.Rum.timeEnd&&Ya.Rum.timeEnd("2095");
var BEMHTML;!function(t){if("function"==typeof t.I18N&&t.I18N._proto)return t.I18N;"undefined"==typeof i18n&&(i18n={}),BEM=t;var e={},n=[],i=!1,s="undefined"!=typeof console&&"function"==typeof console.log;function o(t,e){if(i&&s){var n="keyset: "+e._keyset+" key: "+e._key+" (lang: "+e._lang+")";console.log(t,n)}}function r(){this._lang="",this._prj="lego",this._keyset="",this._key=""}r.prototype={lang:function(t){return this._lang=t,this},project:function(t){return this._prj=t,this},keyset:function(t,e){var i;return e&&function(t){t&&n.push(t)}(this._keyset),this._keyset="string"==typeof(i=t)?i:i.block+(i.elem?"__"+i.elem:"")+(i.modName?"_"+i.modName+"_"+i.modVal:""),this},key:function(t){return this._key=t,this},decl:function(t){var n=function(t){var e={};return t.split("__").forEach((function(t,n){var i=[n?"elem":"block","mod","val"];t.split("_").forEach((function(t,n){e[i[n]]=t}))})),e}(this._keyset),i="i-tanker"===n.block?"tanker":this._prj,s=n.elem||this._keyset,o=this._key;(s=(i=i18n[i]||(i18n[i]={}))[s]||(i[s]={}))[o]="function"==typeof t?t:function(){return t};var r=e[this._lang]||(e[this._lang]={});(r[this._keyset]||(r[this._keyset]={}))[o]=t},val:function(t,n){var i=e[this._lang]&&e[this._lang][this._keyset];if(!i)return o("[I18N_NO_KEYSET] %s",this),"";var s=typeof(i=i[this._key]);return"undefined"===s?(o("[I18N_NO_VALUE] %s",this),""):"string"===s?i:i.call(n||this,t)},_cache:function(){return e}};var c=function(t,e,n){return c.keyset(t).key(e,n)};c._proto=new r,c.project=function(t){return this._proto.project(t),this},c.keyset=function(t){return this._proto.keyset(t,!0),this},c.key=function(t,e){var i,s,o=this._proto;return o.lang(this._lang).key(t),i=o.val(e,c),(s=n.length&&n.pop())&&o.keyset(s,!1),i},c.decl=function(t,e,n){var i,s=this._proto;for(i in n&&n.lang&&s.lang(n.lang),s.keyset(t),e)e.hasOwnProperty(i)&&s.key(i).decl(e[i]);return this},c.lang=function(t){return void 0!==t&&(this._lang=t),this._lang},c.debug=function(t){i=!!t},c.lang("ru"),t.I18N=c}("undefined"==typeof BEM?{}:BEM),"undefined"!=typeof BEM&&BEM.I18N&&(BEM.I18N.decl("b-keyboard-popup",{close:"закрыть"},{lang:"ru"}),BEM.I18N.decl("popup",{add:"Добавить",cancel:"Отмена",revert:"Вернуть",apply:"Применить"},{lang:"ru"}),BEM.I18N.decl("suggest2",{fact:"Факты",group:"Группа подсказок",nah:"Вы искали",nav:"Сайт",on_other_devices:"На других устройствах",text:"Поиск",traffic:"Пробки",weather:"Погода"},{lang:"ru"}),BEM.I18N.decl("suggest2-item",{"quick-answer":"Быстрый ответ"},{lang:"ru"}),BEM.I18N.lang("ru")),function(t){function e(e){var n={},i=new(function(e,n){return function(i){if("object"==typeof n&&void 0!==e)e.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:this).bemhtml=i()}}((function(){return function t(e,n,i){function s(r,c){if(!n[r]){if(!e[r]){var h="function"==typeof require&&require;if(!c&&h)return h(r,!0);if(o)return o(r,!0);var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}var l=n[r]={exports:{}};e[r][0].call(l.exports,(function(t){var n=e[r][1][t];return s(n||t)}),l,l.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(t,e,n){var i=t("inherits"),s=t("../bemxjst/match").Match,o=t("../bemxjst/entity").Entity;function r(t){this.bemxjst=t,this.jsClass=null,this.tag=new s(this,"tag"),this.attrs=new s(this,"attrs"),this.mod=new s(this),this.js=new s(this,"js"),this.mix=new s(this,"mix"),this.bem=new s(this,"bem"),this.cls=new s(this,"cls"),o.apply(this,arguments)}i(r,o),n.Entity=r,r.prototype.init=function(t,e){this.block=t,this.elem=e,this.jsClass=this.bemxjst.classBuilder.build(this.block,this.elem)},r.prototype._initRest=function(t){"default"===t?this.rest[t]=this.def:"tag"===t||"attrs"===t||"js"===t||"mix"===t||"bem"===t||"cls"===t||"content"===t?this.rest[t]=this[t]:this.rest.hasOwnProperty(t)||(this.rest[t]=new s(this,t))},r.prototype.defaultBody=function(t){var e,n=this.tag.exec(t);!1!==t.ctx.js&&(e=this.js.exec(t));var i=this.bem.exec(t),s=this.cls.exec(t),o=this.mix.exec(t),r=this.attrs.exec(t),c=this.content.exec(t);return this.bemxjst.render(t,this,n,e,i,s,o,r,c)}},{"../bemxjst/entity":5,"../bemxjst/match":8,inherits:11}],2:[function(t,e,n){var i=t("inherits"),s=t("../bemxjst/utils"),o=t("./entity").Entity,r=t("../bemxjst");function c(t){r.apply(this,arguments);var e="undefined"==typeof t.xhtml||t.xhtml;this._shortTagCloser=e?"/>":">",this._elemJsInstances=t.elemJsInstances}i(c,r),e.exports=c,c.prototype.Entity=o,c.prototype.runMany=function(t){var e="",n=this.context,i=n.position,s=n._notNewList;if(s?n._listLength+=t.length-1:(n.position=0,n._listLength=t.length),n._notNewList=!0,this.canFlush)for(var o=0;o<t.length;o++)e+=n._flush(this._run(t[o]));else for(o=0;o<t.length;o++)e+=this._run(t[o]);return s||(n.position=i),e},c.prototype.render=function(t,e,n,i,o,r,c,h,a){var l=t.ctx;if(n===undefined&&(n="div"),!n)return this.renderNoTag(t,i,o,r,c,h,a);var u,p="<"+n,f=l.js;!1!==f&&(!0===i&&(i={}),i&&i!==l.js?!0!==f&&(i=s.extend(f,i)):!0===f&&(i={})),i&&((u={})[e.jsClass]=i);var d=o;d===undefined&&(d=l.bem===undefined?e.block||e.elem:l.bem),d=!!d,r===undefined&&(r=l.cls);var m=u&&(this._elemJsInstances?e.block||e.elem:e.block&&!e.elem);if(!d&&!r)return this.renderClose(p,t,n,h,d,l,a);if(p+=' class="',d){var y=e.elem?t.elemMods:t.mods;if(p+=e.jsClass,p+=this.buildModsClasses(e.block,e.elem,y),l.mix&&c&&c!==l.mix&&(c=[].concat(c,l.mix)),c){var x=this.renderMix(e,c,u,m);p+=x.out,u=x.jsParams,m=x.addJSInitClass}r&&(p+=" "+("string"==typeof r?s.attrEscape(r).trim():r))}else r&&(p+=r.trim?s.attrEscape(r).trim():r);return p+=m?' i-bem"':'"',d&&u&&(p+=" data-bem='"+s.jsAttrEscape(JSON.stringify(u))+"'"),this.renderClose(p,t,n,h,d,l,a)},c.prototype.renderClose=function(t,e,n,i,o,r,c){var h=t,a=function(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t};if(a(i)||a(r.attrs))for(var l in i=s.extend(i,r.attrs)){var u=i[l];u!==undefined&&!1!==u&&null!==u&&(h+=!0===u?" "+l:" "+l+'="'+s.attrEscape(s.isSimple(u)?u:this.context.reapply(u))+'"')}return s.isShortTag(n)?(h+=this._shortTagCloser,this.canFlush&&(h=e._flush(h))):(h+=">",this.canFlush&&(h=e._flush(h)),(c||0===c)&&(h+=this.renderContent(c,o)),h+="</"+n+">"),this.canFlush&&(h=e._flush(h)),h},c.prototype.renderMix=function(t,e,n,i){var o={},r=this.context,c=n,h=i;o[t.jsClass]=!0,s.isArray(e)||(e=[e]);for(var a=this.classBuilder,l="",u=0;u<e.length;u++){var p=e[u];if(p){"string"==typeof p&&(p={block:p,elem:undefined});var f=!1;p.elem?f=p.elem!==t.elem&&p.elem!==r.elem||p.block&&p.block!==t.block:p.block&&(f=!(p.block===t.block&&p.mods)||p.mods&&t.elem);var d=p.block||p._block||r.block,m=p.elem||p._elem||r.elem,y=a.build(d,m),x=p.elem||p._elem||(p.block?undefined:r.elem);if(f&&(l+=" "+a.build(d,x)),l+=this.buildModsClasses(d,x,p.elem||!p.block&&(p._elem||r.elem)?p.elemMods:p.mods),p.js&&(c||(c={}),c[a.build(d,p.elem)]=!0===p.js?{}:p.js,h||(h=d&&!p.elem)),f&&!o[y]){o[y]=!0;var g=this.entities[y];if(g){var b=r.block,v=r.elem,k=g.mix.exec(r);if(r.elem=v,r.block=b,k)for(var _=0;_<k.length;_++){var w=k[_];if(w&&(!w.block&&!w.elem||!o[a.build(w.block,w.elem)])){if(w.block)continue;w._block=d,w._elem=m,e=e.slice(0,u+1).concat(w,e.slice(u+1))}}}}}}return{out:l,jsParams:c,addJSInitClass:h}},c.prototype.buildModsClasses=function(t,e,n){if(!n)return"";var i,s="";for(i in n)if(n.hasOwnProperty(i)&&""!==i){var o=n[i];if(o||0===o){"boolean"!=typeof o&&(o+="");var r=this.classBuilder;s+=" "+(e?r.buildElemClass(t,e,i,o):r.buildBlockClass(t,i,o))}}return s},c.prototype.renderNoTag=function(t,e,n,i,s,o,r){return r||0===r?this._run(r):""}},{"../bemxjst":7,"../bemxjst/utils":10,"./entity":1,inherits:11}],3:[function(t,e,n){function i(t){this.modDelim=t.mod||"_",this.elemDelim=t.elem||"__"}n.ClassBuilder=i,i.prototype.build=function(t,e){return e?t+this.elemDelim+e:t},i.prototype.buildModPostfix=function(t,e){var n=this.modDelim+t;return!0!==e&&(n+=this.modDelim+e),n},i.prototype.buildBlockClass=function(t,e,n){var i=t;return n&&(i+=this.buildModPostfix(e,n)),i},i.prototype.buildElemClass=function(t,e,n,i){var s=this.buildBlockClass(t)+this.elemDelim+e;return i&&(s+=this.buildModPostfix(n,i)),s},i.prototype.split=function(t){return t.split(this.elemDelim,2)}},{}],4:[function(t,e,n){var i=t("./utils");function s(t){this._bemxjst=t,this.ctx=null,this.block="",this._currBlock="",this.elem=null,this.mods={},this.elemMods={},this.position=0,this._listLength=0,this._notNewList=!1,this.escapeContent=!0===t.options.escapeContent,this._onceRef={}}n.Context=s,s.prototype._flush=null,s.prototype.isArray=i.isArray,s.prototype.isSimple=i.isSimple,s.prototype.isShortTag=i.isShortTag,s.prototype.extend=i.extend,s.prototype.identify=i.identify,s.prototype.xmlEscape=i.xmlEscape,s.prototype.attrEscape=i.attrEscape,s.prototype.jsAttrEscape=i.jsAttrEscape,s.prototype.isFirst=function(){return 1===this.position},s.prototype.isLast=function(){return this.position===this._listLength},s.prototype.generateId=function(){return i.identify(this.ctx)},s.prototype.reapply=function(t){return this._bemxjst.run(t)}},{"./utils":10}],5:[function(t,e,n){var i=t("./utils"),s=t("./match").Match,o=t("./tree"),r=o.Template,c=o.PropertyMatch,h=o.CompilerOptions;function a(t,e,n,i){this.bemxjst=t,this.block=null,this.elem=null,this.options={},this.canFlush=!0,this.def=new s(this),this.content=new s(this,"content"),this.rest={},this.init(e,n),this.initModes(i)}function l(){return this.ctx.content}n.Entity=a,a.prototype.init=function(t,e){this.block=t,this.elem=e},a.prototype.initModes=function(t){for(var e=0;e<t.length;e++){for(var n=t[e],s=n.predicates.length-1;s>=0;s--){if((o=n.predicates[s])instanceof c&&"_mode"===o.key){n.predicates.splice(s,1),this._initRest(o.value),this.rest[o.value].push(n);break}}-1===s&&this.def.push(n);for(s=n.predicates.length-1;s>=0;s--){var o;(o=n.predicates[s])instanceof h&&(this.options=i.extend(this.options,o.options))}}},a.prototype.prepend=function(t){for(var e=Object.keys(this.rest),n=0;n<e.length;n++){var i=e[n];t.rest[i]&&this.rest[i].prepend(t.rest[i])}e=Object.keys(t.rest);for(n=0;n<e.length;n++){i=e[n];this.rest[i]||(this._initRest(i),this.rest[i].prepend(t.rest[i]))}},a.prototype.run=function(t){return 0!==this.def.count?this.def.exec(t):this.defaultBody(t)},a.prototype.setDefaults=function(){if(0!==this.content.count&&this.content.push(new r([],l)),0!==this.def.count){this.canFlush=this.options.flush||!1;var t=this;this.def.push(new r([],(function(){return t.defaultBody(this)})))}}},{"./match":8,"./tree":9,"./utils":10}],6:[function(t,e,n){function i(t,e){this.name="BEMXJSTError",this.message=t,Error.captureStackTrace?Error.captureStackTrace(this,e||this.constructor):this.stack=(new Error).stack}i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,n.BEMXJSTError=i},{}],7:[function(t,e,n){var i=t("inherits"),s=t("./tree").Tree,o=t("./tree").PropertyMatch,r=t("./context").Context,c=t("./class-builder").ClassBuilder,h=t("./utils");function a(t){this.options=t||{},this.entities=null,this.defaultEnt=null,this.tree=null,this.match=null,this.contextConstructor=function(t){r.call(this,t)},i(this.contextConstructor,r),this.context=null,this.classBuilder=new c(this.options.naming||{}),this.depth=0,this.canFlush=!1,this.oninit=null,this.defaultEnt=new this.Entity(this,"","",[]),this.defaultElemEnt=new this.Entity(this,"","",[])}e.exports=a,a.prototype.locals=s.methods.concat("local","applyCtx","applyNext","apply"),a.prototype.compile=function(t){var e=this;function n(){return e._run(e.context.ctx)}function i(t,i){return i?e.local(i,(function(){return e.local({ctx:t},n)})):e.local({ctx:t},n)}function o(t){return function(n){return e.local(t,n)}}var r=new s({refs:{applyCtx:i,local:o}}),c=this.recompileInput(t),h=r.build(c,[o,i,function l(t){return t?e.local(t,l):e.applyNext()},function(t,n){return e.applyMode(t,n)}]);this.tree&&(h={templates:h.templates.concat(this.tree.templates),oninit:this.tree.oninit.concat(h.oninit)}),this.tree=h;var a=this.groupEntities(h.templates);a=this.transformEntities(a),this.entities=a,this.oninit=h.oninit},a.prototype.recompileInput=function(t){var e=a.prototype.locals;if("function"==typeof t&&t.length===e.length)return t;var n=t.toString();return n=n.replace(/^function[^{]+{|}$/g,""),n=new Function(e.join(", "),n)},a.prototype.groupEntities=function(e){for(var n={},i=0;i<e.length;i++){var s,r=e[i].clone(),c=null;s=undefined;for(var h=0;h<r.predicates.length;h++){if((l=r.predicates[h])instanceof o){if("block"===l.key)c=l.value;else{if("elem"!==l.key)continue;s=l.value}r.predicates.splice(h,1),h--}}if(null===c){var a="block(…) subpredicate is not found.\n    See template with subpredicates:\n     * ";for(h=0;h<r.predicates.length;h++){var l;0!==h&&(a+="\n     * "),"_mode"===(l=r.predicates[h]).key?a+=l.value+"()":Array.isArray(l.key)?a+=l.key[0].replace("mods","mod").replace("elemMods","elemMod")+"('"+l.key[1]+"', '"+l.value+"')":l.value&&l.key?a+=l.key+"('"+l.value+"')":a+="match(…)"}throw a+="\n    And template body: \n    ("+("function"==typeof r.body?r.body:JSON.stringify(r.body))+")","undefined"==typeof BEMXJSTError&&(BEMXJSTError=t("./error").BEMXJSTError),new BEMXJSTError(a)}var u=this.classBuilder.build(c,s);n[u]||(n[u]=[]),n[u].push(r)}return n},a.prototype.transformEntities=function(t){for(var e=[],n=Object.keys(t),i=0;i<n.length;i++){var s=n[i],o=this.classBuilder.split(s),r=o[0],c=o[1];"*"===c&&e.push(r),t[s]=new this.Entity(this,r,c,t[s])}if(t.hasOwnProperty("*")){var h=t["*"];for(i=0;i<n.length;i++){"*"!==(s=n[i])&&t[s].prepend(h)}this.defaultEnt.prepend(h),this.defaultElemEnt.prepend(h)}for(i=0;i<e.length;i++){r=e[i];var a=this.classBuilder.build(r,"*");for(h=t[a],i=0;i<n.length;i++){if((s=n[i])!==a){var l=t[s];l.block===r&&l.elem!==undefined&&t[s].prepend(h)}}this.defaultElemEnt.prepend(h)}for(i=0;i<n.length;i++){t[s=n[i]].setDefaults(),this.defaultEnt.setDefaults(),this.defaultElemEnt.setDefaults()}return t},a.prototype._run=function(t){return t===undefined||""===t||null===t?this.runEmpty():h.isArray(t)?this.runMany(t):"string"!=typeof t.html||t.tag||"undefined"!=typeof t.block||"undefined"!=typeof t.elem||"undefined"!=typeof t.cls||"undefined"!=typeof t.attrs?h.isSimple(t)?this.runSimple(t):this.runOne(t):this.runUnescaped(t.html)},a.prototype.run=function(t){var e=this.match,n=this.context;this.match=null,this.context=new this.contextConstructor(this),this.canFlush=null!==this.context._flush,this.depth=0;var i=this._run(t);return this.canFlush&&(i=this.context._flush(i)),this.match=e,this.context=n,i},a.prototype.runEmpty=function(){return this.context._listLength--,""},a.prototype.runUnescaped=function(t){return this.context._listLength--,""+t},a.prototype.runSimple=function(t){this.context._listLength--;var e="";return(t&&!0!==t||0===t)&&(e+="string"==typeof t&&this.context.escapeContent?h.xmlEscape(t):t),e},a.prototype.runOne=function(t){var e=this.context,n=e.ctx,i=e.block,s=e._currBlock,o=e.elem,r=e.mods,c=e.elemMods;t.block||t.elem?e._currBlock="":e._currBlock=e.block,e.ctx=t,t.block?(e.block=t.block,t.mods?e.mods=t.mods:t.block===i&&t.elem||(e.mods={})):t.elem?s&&(e.block=s):e.block="",e.elem=t.elem,t.elemMods?e.elemMods=t.elemMods:e.elemMods={};var h=e.block||"",a=e.elem;h||a?e.position++:e._listLength--,this.depth++;var l=this.classBuilder.build(h,a),u=!1,p=this.entities[l];p?this.canFlush&&!p.canFlush&&(u=!0,this.canFlush=!1):(p=this.defaultEnt,a!==undefined&&(p=this.defaultElemEnt),p.init(h,a));var f=!0===this.options.production?this.tryRun(e,p):p.run(e);return e.ctx=n,e.block=i,e.elem=o,e.mods=r,e.elemMods=c,e._currBlock=s,this.depth--,u&&(this.canFlush=!0),f},a.prototype.tryRun=function(t,e){try{return e.run(t)}catch(n){return console.error("BEMXJST ERROR: cannot render "+["block "+t.block,"elem "+t.elem,"mods "+JSON.stringify(t.mods),"elemMods "+JSON.stringify(t.elemMods)].join(", "),n),""}},a.prototype.renderContent=function(t,e){var n=this.context,i=n.position,s=n._listLength,o=n._notNewList;n._notNewList=!1,e&&(n.position=0,n._listLength=1);var r=this._run(t);return n.position=i,n._listLength=s,n._notNewList=o,r},a.prototype.local=function(t,e){for(var n=Object.keys(t),i=[],s=0;s<n.length;s++){for(var o=n[s],r=o.split("."),c=this.context,h=0;h<r.length-1;h++)c=c[r[h]];i.push({parts:r,value:c[r[h]]}),c[r[h]]=t[o]}var a=e.call(this.context);for(s=0;s<i.length;s++){for(r=i[s].parts,c=this.context,h=0;h<r.length-1;h++)c=c[r[h]];c[r[h]]=i[s].value}return a},a.prototype.applyNext=function(){return this.match.exec(this.context)},a.prototype.applyMode=function(t,e){var n=this.match.entity.rest[t];if(!n)return this.context.ctx[t];if(!e)return n.exec(this.context);var i=this;return this.local(e,(function(){return n.exec(i.context)}))},a.prototype.exportApply=function(t){var e=this;t.apply=function(t){return e.run(t)},t.compile=function(t){return e.compile(t)};var n={};t.BEMContext=this.contextConstructor,n.BEMContext=t.BEMContext;for(var i=0;i<this.oninit.length;i++){(0,this.oninit[i])(t,n)}}},{"./class-builder":3,"./context":4,"./error":6,"./tree":9,"./utils":10,inherits:11}],8:[function(t,e,n){var i=t("./utils"),s=t("./tree"),o=s.PropertyMatch,r=s.OnceMatch,c=s.WrapMatch,h=s.PropertyAbsent,a=s.CustomMatch;function l(t,e){this.template=t,this.key=e.key,this.value=e.value}function u(t,e){this.template=t,this.keys=e.key,this.value=e.value}function p(t,e){this.template=t,this.key=e.key}function f(t,e){this.template=t,this.body=e.body}function d(t){this.template=t,this.once=null}function m(t){this.template=t,this.wrap=null}function y(t,e){this.mode=t,this.predicates=new Array(e.predicates.length),this.body=e.body;for(var n=[],s=0,y=0;s<this.predicates.length;s++,y++){var x=e.predicates[s];x instanceof o?i.isArray(x.key)?this.predicates[y]=new u(this,x):this.predicates[y]=new l(this,x):x instanceof h?this.predicates[y]=new p(this,x):x instanceof a?this.predicates[y]=new f(this,x):x instanceof r?(y--,n.push(new d(this))):x instanceof c?(y--,n.push(new m(this))):y--}for(s=0;s<n.length;s++,y++)this.predicates[y]=n[s];this.predicates.length!==y&&(this.predicates.length=y)}function x(t,e){this.entity=t,this.modeName=e,this.bemxjst=this.entity.bemxjst,this.templates=[],this.mask=[0],this.maskSize=0,this.maskOffset=0,this.count=0,this.depth=-1,this.thrownError=null}l.prototype.exec=function(t){return t[this.key]===this.value},u.prototype.exec=function(t){for(var e=t,n=0;n<this.keys.length-1;n++)if(!(e=e[this.keys[n]]))return!1;return e[this.keys[n]]===this.value},p.prototype.exec=function(t){return!t[this.key]},f.prototype.exec=function(t){return this.body.call(t,t,t.ctx)},d.prototype.exec=function(t){var e=this.once!==t._onceRef;return this.once=t._onceRef,e},m.prototype.exec=function(t){var e=this.wrap!==t.ctx;return this.wrap=t.ctx,e},n.MatchTemplate=y,n.Match=x,x.prototype.clone=function(t){var e=new x(t,this.modeName);return e.templates=this.templates.slice(),e.mask=this.mask.slice(),e.maskSize=this.maskSize,e.count=this.count,e},x.prototype.prepend=function(t){for(this.templates=t.templates.concat(this.templates),this.count+=t.count;Math.ceil(this.count/31)>this.mask.length;)this.mask.push(0);this.maskSize=this.mask.length},x.prototype.push=function(t){this.templates.push(new y(this,t)),this.count++,Math.ceil(this.count/31)>this.mask.length&&this.mask.push(0),this.maskSize=this.mask.length},x.prototype.tryCatch=function(t,e){try{return t.call(e,e,e.ctx)}catch(n){this.thrownError=n}},x.prototype.exec=function(t){for(var e,n=this.checkDepth(),i=this.maskOffset,s=this.mask[i],o=1,r=0;r<this.count;r++){if(0==(s&o)){e=this.templates[r];for(var c=0;c<e.predicates.length;c++){if(!e.predicates[c].exec(t))break}if(c===e.predicates.length)break}1073741824===o?(i++,s=this.mask[i],o=1):o<<=1}if(r===this.count)return t.ctx[this.modeName];var h,a=s,l=this.bemxjst.match;this.mask[i]|=o,this.bemxjst.match=this,this.thrownError=null,h="function"==typeof e.body?this.tryCatch(e.body,t):e.body,this.mask[i]=a,this.bemxjst.match=l,this.restoreDepth(n);var u=this.thrownError;if(null!==u)throw this.thrownError=null,u;return h},x.prototype.checkDepth=function(){if(-1===this.depth)return this.depth=this.bemxjst.depth,-1;if(this.bemxjst.depth===this.depth)return this.depth;var t=this.depth;for(this.depth=this.bemxjst.depth,this.maskOffset+=this.maskSize;this.mask.length<this.maskOffset+this.maskSize;)this.mask.push(0);return t},x.prototype.restoreDepth=function(t){-1!==t&&t!==this.depth&&(this.maskOffset-=this.maskSize),this.depth=t}},{"./tree":9,"./utils":10}],9:[function(t,e,n){var i=t("minimalistic-assert"),s=t("inherits");function o(t,e){this.predicates=t,this.body=e}function r(){}function c(t,e){this.conditions=[],this.children=[];for(var n=e.length-1;n>=0;n--){var i=e[n];i instanceof r?this.conditions.push(i):i===t.boundBody?this.children[n]=t.queue.pop():this.children[n]=i}}function h(){r.call(this)}function a(t){r.call(this),this.refs=t}function l(t){r.call(this),this.refs=t}function u(t){r.call(this),this.refs=t}function p(t){r.call(this),this.options=t}function f(t,e){r.call(this),this.key=t,this.value=e}function d(t){r.call(this),this.key=t}function m(t){r.call(this),this.body=t}function y(t){this.options=t,this.refs=this.options.refs,this.boundBody=this.body.bind(this);for(var e=this.methods("body"),n=0;n<e.length;n++){var i=e[n];this.boundBody[y.methods[n]]=i}this.queue=[],this.templates=[],this.initializers=[]}function x(t,e,n){var i=t[n],s=t.boundBody;return"body"!==e?"replace"===n||"extend"===n||"wrap"===n?function(){return i.apply(t,arguments)}:function(){return i.apply(t,arguments),s}:function(){var e=i.apply(t,arguments),o=t.queue.pop(),r=t.queue[t.queue.length-1];return r.conditions=r.conditions.concat(o.conditions),r.children=r.children.concat(o.children),"replace"===n||"extend"===n||"wrap"===n?e:s}}n.Template=o,o.prototype.wrap=function(){for(var t=this.body,e=0;e<this.predicates.length;e++){t=this.predicates[e].wrapBody(t)}this.body=t},o.prototype.clone=function(){return new o(this.predicates.slice(),this.body)},n.MatchBase=r,r.prototype.wrapBody=function(t){return t},s(h,r),n.OnceMatch=h,s(a,r),n.WrapMatch=a,a.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},s(l,r),n.ReplaceMatch=l,l.prototype.wrapBody=function(t){var e=this.refs.applyCtx;return"function"!=typeof t?function(){return e(t)}:function(){return e(t.call(this,this,this.ctx))}},s(u,r),n.ExtendMatch=u,u.prototype.wrapBody=function(t){var e=this.refs.applyCtx,n=this.refs.local;return"function"!=typeof t?function(){for(var i={},s=Object.keys(t),o=0;o<s.length;o++)i["ctx."+s[o]]=t[s[o]];return n(i)((function(){return e(this.ctx)}))}:function(){for(var i={},s=t.call(this),o=Object.keys(s),r=0;r<o.length;r++)i["ctx."+o[r]]=s[o[r]];return n(i)((function(){return e(this.ctx)}))}},s(p,r),n.CompilerOptions=p,s(f,r),n.PropertyMatch=f,s(d,r),n.PropertyAbsent=d,s(m,r),n.CustomMatch=m,n.Tree=y,y.methods=["match","once","wrap","block","elem","mode","mod","elemMod","def","tag","attrs","cls","js","bem","mix","content","replace","extend","oninit","xjstOptions"],y.prototype.build=function(t,e){var n=this.methods("global").concat(e);return n[0]=this.match.bind(this),t.apply({},n),{templates:this.templates.slice().reverse(),oninit:this.initializers}},y.prototype.methods=function(t){for(var e=new Array(y.methods.length),n=0;n<e.length;n++){var i=y.methods[n];e[n]=x(this,t,i)}return e},y.prototype.flush=function(t,e){var n;n=e.conditions?t.concat(e.conditions):e.conditions;for(var i=0;i<e.children.length;i++){var s=e.children[i];if(s instanceof c)this.flush(n,e.children[i]);else{var r=new o(t,s);r.wrap(),this.templates.push(r)}}},y.prototype.body=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++)t[e]=arguments[e];var n=new c(this,t);return this.queue[this.queue.length-1].children.push(n),1===this.queue.length&&this.flush([],this.queue.shift()),this.boundBody},y.prototype.match=function(){for(var t=new Array(arguments.length),e=0;e<arguments.length;e++){var n=arguments[e];"function"==typeof n&&(n=new m(n)),i(n instanceof r,"Wrong .match() argument"),t[e]=n}return this.queue.push(new c(this,t)),this.boundBody},y.prototype.once=function(){if(arguments.length)throw new Error("Predicate once() should not have arguments");return this.match(new h)},y.prototype.applyMode=function(t,e){if(t.length)throw new Error("Predicate should not have arguments but "+JSON.stringify(t)+" passed");return this.mode(e)},y.prototype.wrap=function(){return this.def.apply(this,arguments).match(new a(this.refs))},y.prototype.xjstOptions=function(t){return this.queue.push(new c(this,[new p(t)])),this.boundBody},y.prototype.block=function(t){return this.match(new f("block",t))},y.prototype.elem=function(t){return this.match(new f("elem",t))},y.prototype.mode=function(t){return this.match(new f("_mode",t))},y.prototype.mod=function(t,e){return this.match(new f(["mods",t],e))},y.prototype.elemMod=function(t,e){return this.match(new f(["elemMods",t],e))},y.prototype.def=function(){return this.applyMode(arguments,"default")},y.prototype.tag=function(){return this.applyMode(arguments,"tag")},y.prototype.attrs=function(){return this.applyMode(arguments,"attrs")},y.prototype.cls=function(){return this.applyMode(arguments,"cls")},y.prototype.js=function(){return this.applyMode(arguments,"js")},y.prototype.bem=function(){return this.applyMode(arguments,"bem")},y.prototype.mix=function(){return this.applyMode(arguments,"mix")},y.prototype.content=function(){return this.applyMode(arguments,"content")},y.prototype.replace=function(){return this.def.apply(this,arguments).match(new l(this.refs))},y.prototype.extend=function(){return this.def.apply(this,arguments).match(new u(this.refs))},y.prototype.oninit=function(t){this.initializers.push(t)}},{inherits:11,"minimalistic-assert":12}],10:[function(t,e,n){var i=Object.prototype.toString;n.isArray=Array.isArray,n.isArray||(n.isArray=function(t){return"[object Array]"===i.call(t)}),n.xmlEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},n.attrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/"/g,"&quot;")},n.jsAttrEscape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/'/g,"&#39;")},n.extend=function(t,e){if(!t||!e)return t||e;var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i};var s={area:1,base:1,br:1,col:1,command:1,embed:1,hr:1,img:1,input:1,keygen:1,link:1,meta:1,param:1,source:1,wbr:1};n.isShortTag=function(t){return s.hasOwnProperty(t)},n.isSimple=function l(t){return!t||!0===t||(!(t.block||t.elem||t.tag||t.cls||t.attrs||!t.hasOwnProperty("html")||!l(t.html))||("string"==typeof t||"number"==typeof t))};var o=0,r=+new Date,c="__"+r,h="uniq"+r;function a(){return h+ ++o}n.getUniq=a,n.identify=function(t,e){if(!t)return a();if(e||t[c])return t[c];var n=a();return t[c]=n,n}},{}],11:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],12:[function(t,e,n){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}e.exports=i,i.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},{}]},{},[2])(2)})),e.exports||n.BEMHTML}({},{}))({});return i.compile((function(t,n,i,s,o,r,c,h,a,l,u,p,f,d,m,y,x,g,b,v,k,_,w,E){b((function(t){var e=t.BEMContext.prototype,n=t["i-global"]=e["i-global"]=e.extend({lang:"ru",tld:"ru","content-region":"ru","click-host":"//clck.yandex.ru","passport-host":"https://passport.yandex.ru","pass-host":"https://pass.yandex.ru","social-host":"https://social.yandex.ru","export-host":"https://export.yandex.ru",login:"","lego-static-host":"https://yastatic.net/lego/2.10-142"},e["i-global"]);n._public={id:!0,lang:!0,tld:!0,"content-region":!0,"user-region":!0,login:!0,displayName:!0,index:!0,yandexuid:!0,"passport-host":!0,"pass-host":!0,"passport-msg":!0,"static-host":!0,"lego-static-host":!0,"social-host":!0,clck:!0,"click-host":!0,"export-host":!0,"i-host":!0,"social-retpath":!0,"lego-path":!0,sid:!0,retpath:!0,uid:!0},n.makePublic=function(t,i){"object"!=typeof t?(void 0===i&&(i=!0),n._public[t]=i):n._public=e.extend(n._public,t)},n.isPublic=function(t){return Boolean(n._public[t])},n.setTld=function(t){var e="tr"===t?"yandex.com.tr":"yandex."+t,i=-1!==["ua","by","kz"].indexOf(t)?"yandex.ru":e;n.tld=t,n["content-region"]=t,n["click-host"]="//clck."+i,n["passport-host"]="https://passport."+i,n["pass-host"]="https://pass."+e,n["social-host"]="https://social."+e,n["export-host"]="https://export."+e},e._iGlobalBackup={_backup:null,exists:function(){return Boolean(this._backup)},save:function(){this._backup=e.extend({},n)},restore:function(){var t;for(t in n)delete n[t];for(t in this._backup)n[t]=this._backup[t]}}})),s("i-global")(l()(""),a()((function(){var t=this.ctx.params||{},e=this["i-global"];for(var n in this._iGlobalBackup.exists()?!1!==this.ctx.reset&&this._iGlobalBackup.restore():this._iGlobalBackup.save(),t.tld&&t.tld!==e.tld&&e.setTld(t.tld),t)e[n]=t[n];return""}))),s("input")(l()("span"),r("live")(!1),r("getLive")((function(){var t=E("live"),e=this.ctx.js,n=this.mods,i={autofocus:"yes",width:"content","tap-ahead":"yes"};return e?(e.live!==undefined?Boolean(e.live):t)&&!e.autoFocus&&!Object.keys(i).some((function(t){return n[t]===i[t]})):t})),f()((function(){return{live:this._live}})),a()((function(){var t,e=E("value",{ctx:this.ctx.value}),n=this.ctx.id||this.generateId(),i=this.mods,s=E("getLive",{}),o=this.ctx.placeholder;return i.theme=i.theme||"normal",this.ctx.hasOwnProperty("placeholder")&&(t=this.isSimple(o)?o:this.reapply(o)),w({_inputId:n,_labelId:"label"+n,_hintId:"hint"+n,_name:this.ctx.name||"",_value:e,_inputLink:!0,_iconLeft:this.ctx.icon||this.ctx.iconLeft,_iconRight:this.ctx.iconRight,_disabled:i.disabled,_live:s,_placeholder:t,_hasClear:"no"!==i.clear})})),r("value")("",t((function(){return this.ctx}))((function(){return this.reapply(this.ctx)})),t((function(){return this.isSimple(this.ctx)}))((function(){return this.ctx})))),s("input").elem("box")(l()("span"),y()((function(){return[this._iconLeft&&{elem:"icon",icon:this._iconLeft,elemMods:{side:"left"}},this._iconRight&&{elem:"icon",icon:this._iconRight,elemMods:{side:"right"}},this._hasClear&&{elem:"clear",elemMods:this._value||0===this._value?{visibility:"visible"}:undefined,content:" "},this.ctx.content].filter(Boolean)}))),s("input").elem("control")(l()("input"),u()((function(){var t=this.extend({id:this._inputId,name:this._name,placeholder:this._placeholder},this.ctx.controlAttrs);return(this._value||0===this._value||""===this._value)&&(t.value=this._value),this.mods.disabled&&(t.disabled=!0),this._live&&(t.autocomplete="off"),t["aria-labelledby"]=this._labelId+" "+this._hintId,t})),i()((function(){return{elem:"box",content:this.ctx}}))),s("input").elem("clear")(l()("span"),u()((function(){return{unselectable:"on"}})),y().match((function(){return!this.ctx.content}))("")),s("popup")(a().match((function(){return!this._popupDefaults}))((function(){var t=this.ctx,e=this.mods;if(e.hasOwnProperty("theme")||(e.theme="ffffff"),e.hasOwnProperty("autoclosable")||(e.autoclosable="yes"),e.hasOwnProperty("adaptive")||(e.adaptive="yes"),e.hasOwnProperty("animate")||(e.animate="yes"),t.zIndex){var n=t.attrs||(t.attrs={});n.style=(n.style||"")+";z-index:"+t.zIndex+";"}return E("default",{_popupDefaults:!0})})),y()((function(){return delete this._popupDefaults,[{elem:"under",elemMods:this.ctx.underMods},this.ctx.content]}))),s("i-ua")(d()(!1),l()("script"),u()((function(){return{nonce:this.ctx.nonce||this["i-global"].nonce}})),y()((function(){return[{html:[";(function(d,e,c,r){","e=d.documentElement;",'c="className";','r="replace";','e[c]=e[c][r]("i-ua_js_no","i-ua_js_yes");','if(d.compatMode!="CSS1Compat")','e[c]=e[c][r]("i-ua_css_standart","i-ua_css_quirks")',"})(document);"].join("")}]}))),s("i-ua").content()((function(){var t=[";(function(d,e,c,n,w,v,f){","e=d.documentElement;",'c="className";','n="createElementNS";','f="firstChild";','w="http://www.w3.org/2000/svg";','e[c]+=" i-ua_svg_"+(!!d[n]&&!!d[n](w,"svg").createSVGRect?"yes":"no");','v=d.createElement("div");','v.innerHTML="<svg/>";','e[c]+=" i-ua_inlinesvg_"+((v[f]&&v[f].namespaceURI)==w?"yes":"no");',"})(document);"].join("");return[].concat(w(),{html:t})})),s("suggest2").elem("items").tag()("ul"),s("suggest2-item")(l()("li"),f()(!0),o("text")(l()((function(){return this.ctx.tag||"span"})),y()((function(){return this.ctx.text?Array.isArray(this.ctx.text)?this.ctx.text.map((function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t}),this):this.ctx.text?{html:this.xmlEscape(this.ctx.text)}:"":Array.isArray(this.ctx.content)?this.ctx.content.map((function(t){return"string"==typeof t?t?{html:this.xmlEscape(t)}:"":t}),this):this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:""}))),o("fact").tag()("span")),s("i-bem").elem("i18n").def()((function(){if(!this.ctx)return"";var t=this.ctx,e=t.keyset,n=t.key,i=t.params||{};return e||n?(t.content&&(i.content=this.reapply(t.content)),BEM.I18N(e,n,i)):""})),b((function(){!function(t,e){if(!e.I18N){t.BEM=e;var n=e.I18N=function(t,e){return e};n.keyset=function(){return n},n.key=function(t){return t},n.lang=function(){}}}(this,"undefined"==typeof BEM?{}:BEM)})),s("button2")(a()((function(){return this.mods.view===undefined&&(this.mods.view="classic"),this.mods.progress&&(this.mods.disabled="yes"),this.ctx.tabindex===undefined&&(this.ctx.tabindex="0"),w()})),t((function(){return this.ctx.tag===undefined})).tag()("button"),f()((function(){return{_tabindex:this.mods.disabled?this.ctx.tabindex:undefined}})),u()((function(){var t=this.ctx,e=Boolean(this.mods.disabled);return{type:"button",autocomplete:"off",id:t.id,title:t.title,name:t.name,value:t.val,tabindex:e?undefined:t.tabindex,disabled:e,"aria-disabled":e&&"true"}})),t((function(){return!this.ctx.content})).content()((function(){var t=this.ctx;return[t.icon&&{elem:"icon",icon:t.icon},t.iconLeft&&{elem:"icon",elemMods:{side:"left"},icon:t.iconLeft},t.iconRight&&{elem:"icon",elemMods:{side:"right"},icon:t.iconRight},t.text!==undefined&&(this.isSimple(t.text)?{elem:"text",content:{html:this.xmlEscape(t.text)}}:this.extend(t.text,{elem:"text"}))].filter(Boolean)}))),s("button2").elem("text").tag()("span"),s("suggest2").mod("theme","normal").elem("content").tag()("ul"),s("suggest2-item").elem("highlight")(l()("b"),d()(!1),y()((function(){return this.xmlEscape(this.ctx.content)}))),s("suggest2-item").elem("icon")(a()((function(){var t=BEM.blocks&&BEM.blocks["suggest2-detect"]&&BEM.blocks["suggest2-detect"],e=t&&t.isSupportInlineSVG()?"svg":"png";this.ctx.autoType&&(this.ctx[e]="//yastatic.net/suggest-flag-icons/icon."+this.ctx.autoType+e);var n=this.ctx.png&&this.ctx.svg?this.ctx[e]:this.ctx.svg||this.ctx.png;return n&&(this.ctx.attrs=this.extend(Object(this.ctx.attrs),{style:'background-image:url("'+n+'");'+(Object(this.ctx.attrs).style||"")})),w()})),l()("span")),s("suggest2-item").elem("icon").match((function(){return this.elemMods.traffic})).def()((function(){return w({"ctx.autoType":"traffic."+this.elemMods.traffic+"."})})),s("suggest2-item").elem("icon").match((function(){return this.elemMods.weather})).def()((function(){var t=this.elemMods.weather.replace("-","minus-").replace("+","plus-").replace(/_/g,"-");return w({"ctx.autoType":"weather."+t+".","elemMods.weather":t})})),s("suggest2-item").elem("link")(l()("a"),u()((function(){return{href:this.ctx.url,target:this.ctx.target}}))),s("suggest2-item").elem("link")(l()("a"),u()((function(){var t={href:this.ctx.url,target:this.ctx.target};return t.target&&(t.rel="noopener"),t}))),s("suggest2-item").elem("fact")(t((function(){return this.ctx.color})).def()((function(){return this.ctx.attrs=this.extend(Object(this.ctx.attrs),{style:";color:"+this.ctx.color+";"+(Object(this.ctx.attrs).style||"")}),w()})),y()((function(){return[{block:"suggest2",elem:"a11y",content:BEM.I18N("suggest2-item","quick-answer")+": "},this.ctx.content?{html:this.xmlEscape(this.ctx.content)}:""]}))),s("suggest2").elem("a11y").tag()("span"),s("suggest2-item").elem("bullet")(l()("span"),u()({"aria-hidden":!0})),s("suggest2-item").mod("interact","link")(y()((function(){return{elem:"link",url:this.ctx.url,target:this.ctx.target||"_blank",content:this.ctx.content}})),t((function(){return"nav"===this.mods.type||"icon"===this.mods.type})).elem("text").mix()({elemMods:{type:"url"}})),s("suggest2-item").mod("type","nav").elem("fact").content()((function(){return this.xmlEscape(this.ctx.content)})),b((function(t,n){(t.BEMContext||n.BEMContext).prototype.require=function(t){return e[t]}}))})),i.exportApply(n),n}var n=!0;"object"==typeof module&&"object"==typeof module.exports&&(exports.BEMHTML=e({}),n=!1),"object"==typeof modules&&(modules.define("BEMHTML",[],(function(t){t(e({}))})),n=!1),n&&(BEMHTML=e({}),t.BEMHTML=BEMHTML)}("undefined"!=typeof window?window:"undefined"!=typeof global?global:this);