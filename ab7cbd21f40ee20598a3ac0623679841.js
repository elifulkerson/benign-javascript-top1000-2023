!function e(t,r,n){function o(s,a){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var u=r[s]={exports:{}};t[s][0].call(u.exports,(function(e){return o(t[s][1][e]||e)}),u,u.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){window.Twig=e("rbc-twig-render");const n=e("vendor/twig/filters/main");for(const e in n)window.Twig.extendFilter(e,n[e]);const o=e("vendor/twig/functions/main");for(const e in o)window.Twig.extendFunction(e,o[e]);window.RA.repo.request=e("repo/ra-request/main"),window.RA.repo.cookies=e("repo/cookies/main"),window.RA.repo.dynamic=e("repo/dynamic-require/main"),window.RA.repo.overlay=e("repo/page-overlay/main"),window.RA.repo.ajaxDelay=e("repo/ajax-delay/main"),window.RA.repo.rm=e("repo/rm-api/main"),window.RA.repo.preloader=e("blocks/preloader/main.html"),window.RA.repo.IntersectionObserver=e("repo/intersection-observer/main"),window.RA.fn.IntersectionObserver=window.RA.fn.intersectionObserver=window.RA.repo.IntersectionObserver,window.RA.repo.yandexCounter=e("repo/yandex-metrica-counter/main"),window.RA.repo.pixelLoader=e("repo/pixel-loader/main"),window.RA.repo.gaCounter=e("repo/ga-counter/main"),RA.config.get("visitedPagesEnabled")&&(window.RA.repo.visitedPages=e("repo/visited-pages/main")),window.RA.repo.getProjectViewport=e("repo/ra-get-viewport/main"),e("repo/ip-monitoring/main"),e("repo/ra-detect-devices/main"),e("repo/history-api-events/main")},{"blocks/preloader/main.html":37,"rbc-twig-render":39,"repo/ajax-delay/main":2,"repo/cookies/main":3,"repo/dynamic-require/main":4,"repo/ga-counter/main":5,"repo/history-api-events/main":6,"repo/intersection-observer/main":7,"repo/ip-monitoring/main":8,"repo/page-overlay/main":9,"repo/pixel-loader/main":10,"repo/ra-detect-devices/main":12,"repo/ra-get-viewport/main":13,"repo/ra-request/main":14,"repo/rm-api/main":15,"repo/visited-pages/main":16,"repo/yandex-metrica-counter/main":17,"vendor/twig/filters/main":24,"vendor/twig/functions/main":36}],2:[function(e,t,r){t.exports={init:function(e){const t="x-rbc-increase-delay-ajax";let r,n=1;return e.headers&&e.headers.get?r=e.headers.get(t)||e.headers.get(t.toUpperCase()):e.getResponseHeader&&(r=e.getResponseHeader(t)||e.getResponseHeader(t.toUpperCase())),r&&(r=parseInt(r,10))>1&&r<10&&(n=r),n}}},{}],3:[function(e,t,r){var n;t.exports=(n={get:function(e){for(var t,r,n,o,i={},s=0,a=document.cookie,c=a.length;s<c;)n=a.indexOf("=",s),-1===(o=a.indexOf(";",s))&&(o=c),n>o||-1===n?(t=a.substring(s,o),r=""):(t=a.substring(s,n),r=a.substring(n+1,o)),i[decodeURIComponent(t)]=decodeURIComponent(r),s=o+2;return e?i[e]:i},set:function(e,t,r){if(e){var n=(r=r||{}).expires;if("number"==typeof n){var o=new Date;o.setTime(o.getTime()+864e5*n),n=o}n instanceof Date&&(r.expires=n.toUTCString());var i=encodeURIComponent(e)+"="+encodeURIComponent(t);for(var s in r){i+="; "+s;var a=r[s];!0!==a&&(i+="="+a)}document.cookie=i}},del:function(e,t){t||(t={}),t["max-age"]=-1,n.set(e,"",t)},getIsEnable:function(){var e=window.navigator.cookieEnabled;return void 0===e&&(e=!!(document.cookie||(document.cookie="ce=1")&&document.cookie)),e}},window.$&&!window.$.cookie&&(window.$.cookie=function(e,t,r){return n[arguments.length>1?"set":"get"](e,t,r)}),n)},{}],4:[function(e,t,r){const n=RA.repo.helpers,o=[],i=[],s={};function a(e){const t=a,r=RA.config.get;return e?t.urlCommon||(t.urlCommon=r("urls.common_static")||"/"):t.url||(t.url=r("urls.static")||"/")}function c(){if(i.length)return;if(!o.length)return;let e;for(;e=o.shift();){const t=function(e,t){return function(){e.call(t)}}(e[0],e[1]);setTimeout(t,0)}}const p={require:function(e,t){let r;const o=(r=n.is("string",t)?t:a(t))+e+"/js";if(i.includes(o))return;if(s[o]||window[e])return void c();const u=e.split(".");let l,f;for(l=0,f=RA;l<u.length&&(f=f[u[l]]);l++);if(f)return void c();const d=p.loadJS(e,r);d&&(i.push(o),d.onload=d.onerror=function(){n.removeFromArray(o,i),s[o]=!0,c()})},requireCSS:function(e,t){let r;const o=(r=n.is("string",t)?t:a(t))+e+"/css";if(i.includes(o))return;if(s[o])return void c();const u=p.loadCSS(e,r);u&&(i.push(o),u.onload=u.onerror=function(){n.removeFromArray(o,i),s[o]=!0,c()})},ready:function(e,t){if(t||(t=window),"function"!=typeof e||"object"!=typeof t)throw new Error("RA.repo.dynamic: wrong parameters for ready function");o.push([e,t]),c()},loadJS:function(e,t){const r=p.loadJS;if(!e)return null;r.cache||(r.cache=[]);const n=e.split(".");let o="/",i=0;for(;n[i+1];)o+=n[i++]+"/";if(o=(t||a())+"scripts/build"+o+"_"+n[n.length-1]+".js",r.cache[o])return r.cache[o];const s=document.createElement("script");return s.src=o,document.getElementsByTagName("head")[0].appendChild(s),r.cache[o]=s,s},loadCSS:function(e,t){const r=p.loadCSS;if(!e)return null;r.cache||(r.cache=[]);const n=e.split(".");let o="/",i=0;for(;n[i+1];)o+=n[i++]+"/";if(o=(t||a())+"styles/build"+o+"_"+n[n.length-1]+".css",r.cache[o])return r.cache[o];const s=document.createElement("link");return s.type="text/css",s.rel="stylesheet",s.href=o,document.getElementsByTagName("head")[0].appendChild(s),r.cache[o]=s,s}};t.exports=p},{}],5:[function(e,t,r){t.exports=function(){let e,t,r=!1;function n(e){const t=e.target,r="mouseup"===e.type;if(!t||t===this||e.altKey)return;if(r&&1!==e.button)return;const n=e.target.closest(".js-ga-counter");if(!n)return;const i=n.dataset.gaEvent;i&&i.split("|").forEach((function(e){if(e){const t=e.split("-"),r=n.dataset.gaCounter,i=r?o.getPrefix(r)+"send":"send";t.unshift(i,"event"),o.exec.apply(null,t)}}))}const o={exec:function(){r&&window[e].apply(null,arguments)},getPrefix:function(e){return e?t[e]?t[e]+".":null:""},getFn:function(){return r?window[e]:null}};return t=RA.config.get("counters.ga")||{},e=t.ns||"ga",window[e]&&(t.useHtmlParams&&(document.body.addEventListener("click",n),document.body.addEventListener("mouseup",n)),r=!0),o}()},{}],6:[function(e,t,r){function n(e){var t=window.history[e];return function(){var r=t.apply(this,arguments),n=new CustomEvent(e);return n.arguments=arguments,window.dispatchEvent(n),r}}window.history.pushState=n("pushState"),window.history.replaceState=n("replaceState")},{}],7:[function(e,t,r){"use strict";const n="repo::intersection-observer",o=RA.repo.helpers,i={root:null,threshold:0,rootMargin:null};function s(e,t){const r=this,s=r.params=Object.assign({},i,t);if(void 0===s.root&&(s.root=r.params.root=null),r.cb=e,r.targetList=new window.Set,!o.is("function",r.cb))throw new Error(n+" - undefined callback");if(null!==s.root&&!s.root.nodeName)throw new Error(n+" - wrong type for root");if(s.threshold=parseFloat(s.threshold),s.threshold<0||s.threshold>1)throw new Error(n+" - threshold is invalid");a.call(r)}function a(){const e=this;let t;if("function"==typeof window.IntersectionObserver)null===e.params.rootMargin&&(null===e.params.root?(t=l(),e.params.rootMargin=[-t.top+"px",-t.offsetRight+"px",-t.offsetBottom+"px",-t.left+"px"].join(" ")):e.params.rootMargin="0px"),e.observer=new IntersectionObserver(c.bind(e),{root:e.params.root,rootMargin:e.params.rootMargin,threshold:e.params.threshold});else{const r=e.params.root=e.params.root||window;if(null===e.params.rootMargin)r===window?(t=l(),e.params.rootMargin={top:t.top,right:t.offsetRight,bottom:t.offsetBottom,left:t.left}):e.params.rootMargin={left:0,top:0,right:0,bottom:0};else{const t=e.params.rootMargin.split(" "),r=o.toInt(t[0]),n=void 0===t[1]?r:o.toInt(t[1]),i=void 0===t[2]?r:o.toInt(t[2]),s=void 0===t[3]?n:o.toInt(t[3]);e.params.rootMargin={top:r,right:n,bottom:i,left:s}}if(!e.scrollFunc){const t=p.bind(e);e.scrollFunc=o.debounce?o.debounce(t,300):t}r.addEventListener("resize",e.scrollFunc,!1),r.addEventListener("scroll",e.scrollFunc,!1)}}function c(e){const t=this;e.forEach((function(e){t.cb.call(t,e,t)}))}function p(){const e=this;e.targetList.forEach((function(t){const r=u.call(e,t),n=!!t.isIntersecting,o=!!(r.intersectionRatio&&r.intersectionRatio>=e.params.threshold);r.isIntersecting=o,t.isIntersecting=o;let i=!1;o?!1===n&&(i=!0):!0===n&&(i=!0),i&&(e.cb.call(e,r,e),t.isIntersecting=null)}))}function u(e){const t=this.params.root,r=this.params.rootMargin,n={target:e,isVisible:!1};if("visible"!==document.visibilityState)return n.intersectionRatio=0,n;if(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))return n.intersectionRatio=0,n;const o=e.getBoundingClientRect();n.boundingClientRect=o;const i=t.getBoundingClientRect&&t.getBoundingClientRect()||{top:0,left:0,right:document.documentElement.clientWidth,bottom:document.documentElement.clientHeight};if(i.left-=r.left,i.top-=r.top,i.right+=r.right,i.bottom+=r.bottom,n.rootBounds=i,i.right===i.left||i.bottom===i.top)return n.intersectionRatio=0,n;const s=o.right-o.left,a=o.bottom-o.top,c=o.left>=i.left&&o.left<i.right,p=o.right>i.left&&o.right<i.right,u=o.top>=i.top&&o.top<i.bottom,l=o.bottom>i.top&&o.bottom<i.bottom;if(!c&&!p||!u&&!l)return n.intersectionRatio=0,n;if(c&&p&&u&&l)return n.intersectionRatio=1,n.isVisible=!(!s||!a),n;let f,d;return c&&p?f=s:c?f=i.right-o.left:p&&(f=o.right-i.left),u&&l?d=a:u?d=i.bottom-o.top:l&&(d=o.bottom-i.top),n.intersectionRatio=(f*d/(s*a)).toFixed(2),n.isVisible=!(!s||!a),n}function l(){return RA.repo.getProjectViewport&&RA.repo.getProjectViewport()||{left:0,top:0,right:0,bottom:0,offsetRight:0,offsetBottom:0}}Object.assign(s.prototype,{observe:function(e){const t=this;if(!e||!e.nodeName)throw new Error(n+" - incorrect target for observe");t.observer?t.observer.observe(e):t.scrollFunc&&setTimeout(t.scrollFunc,300),t.targetList.add(e)},unobserve:function(e){const t=this;if(!e||!e.nodeName)throw new Error(n+" - incorrect target for unobserve");t.observer&&t.observer.unobserve(e),t.targetList.delete(e)},disconnect:function(){let e=this;e.observer?(e.observer.disconnect(),e.observer=null):(e.params.root.removeEventListener("resize",e.scrollFunc),e.params.root.removeEventListener("scroll",e.scrollFunc)),e.targetList=null,e=null},getTargetList:function(){return Array.from(this.targetList.values())}}),t.exports=s},{}],8:[function(e,t,r){t.exports=function(){if(document.body.classList.contains("index")){var e=RA.localStorage;if(e){var t=Date.now(),r=parseInt(e.getItem("ipMonitoringTimestamp"),10)||0;r&&r+864e5>t||(e.setItem("ipMonitoringTimestamp",t),RA.repo.dynamic.require("fn.ipMonitoring",!0),RA.repo.dynamic.ready((function(){RA.fn.ipMonitoring.run()})))}}}()},{}],9:[function(e,t,r){t.exports=function(){var e;function t(){return e||(RA.repo.dynamic.requireCSS("fn.page-overlay",!0),e=$(document.getElementById("id_ra_overlay"))),e}return{show:function(){t().css("display","block")},hide:function(){t().css("display","none")}}}()},{}],10:[function(e,t,r){t.exports=function(){let e;const t=(()=>{let e=parseInt(RA.repo.helpers.parseQueryString().pixelLoaderDebug,10);return isNaN(e)?e=parseInt(RA.repo.cookies.get("pixelLoaderDebug"),10):RA.repo.cookies.set("pixelLoaderDebug",e,{path:"/"}),e})(),r=(e,t)=>{if(!e||!t)return;const r=e.dataset[t];if(r)try{const e=JSON.parse(r);n(e)}catch(e){console.log("pixels: json parsing error in pixels")}},n=e=>{o(e).forEach((e=>{const t=new Image,r=e.replace("%rnd%",(new Date).getTime());t.src=r,i(`loading pixel ${r}`)}))},o=e=>e||Array.isArray(e)?e.reduce(((e,t)=>(t.pixel&&e.push(t.pixel),e)),[]):[],i=(e,r="")=>{t&&console.log("pixelLoader:",e,r)};return(()=>{const t=e=>e.classList.contains("js-pixel-loader")&&void 0!==e.dataset.pixelsOnShow&&!e.dataset.pixelsOnShowLoaded;(()=>{const n=(e=document.body)=>e instanceof HTMLElement?Array.from(e.querySelectorAll(".js-pixel-loader")).filter((e=>t(e))):[],o=t=>{RA.repo.dynamic.require("fn.intersectionObserver",!0),RA.repo.dynamic.ready((function(){e||(e=new RA.fn.IntersectionObserver(i,{threshold:.8,rootMargin:["0px"]})),e.observe(t)}))},i=t=>{t.isIntersecting&&(t.target.dataset.pixelsOnShowLoaded="1",e.unobserve(t.target),r(t.target,"pixelsOnShow"))};n().forEach((e=>{o(e)})),new MutationObserver((e=>{e.forEach((e=>{(({addedNodes:e})=>e.map((e=>{if(!(e instanceof HTMLElement))return null;if(t(e))return[e];const r=n(e);return r?[...r]:null})).flat().filter((e=>!!e)))({addedNodes:[...e.addedNodes]}).forEach((e=>{o(e)}))}))})).observe(document.body,{childList:!0,subtree:!0})})(),(()=>{const e=e=>{const t=e.target,n="mouseup"===e.type;if(!t||t===this||e.altKey)return;if(n&&1!==e.button)return;const o=e.target.closest(".js-pixel-loader");o&&void 0!==o.dataset.pixelsOnClick&&r(o,"pixelsOnClick")};document.body.addEventListener("click",e),document.body.addEventListener("mouseup",e)})(),i("inited")})(),{load:r,loadFromArray:n}}()},{}],11:[function(e,t,r){t.exports=function(e,t){return"number"!=typeof e&&(e=parseInt(e,10)),t&&t.length&&!isNaN(e)&&t[function(e){if(e%100>10&&e%100<20)return 2;switch(e%10){case 1:return 0;case 2:case 3:case 4:return 1;default:return 2}}(e)]||""}},{}],12:[function(e,t,r){t.exports=function(){var e=document.querySelector(".g-desktop-detector"),t=document.querySelector(".g-desktop-small-detector"),r=document.querySelector(".g-tablet-detector"),n=RA.config;function o(){var o,s=!1,a=!1,c=n.get("device.type"),p=n.get("device.smallDesktop");i(e)?(o="desktop",s=i(t)):o=i(r)?"tablet":"smartphone",o!==c&&(a=void 0!==c,n.set("device.type",o)),s!==p&&(a=void 0!==p,n.set("device.smallDesktop",s)),a&&RA.eventManager.trigger(RA.eventManager.EVENT_DEVICE_CHANGE,o)}function i(e){return e&&null!==e.offsetParent}r&&e&&t&&(window.addEventListener("resize",o,!1),o())}()},{}],13:[function(e,t,r){var n,o,i,s,a,c;t.exports=(i=RA.config,s=i.get("layout"),a=document.all||"ActiveXObject"in window,c={left:0,top:0,right:document.documentElement.clientWidth,bottom:document.documentElement.clientHeight,offsetRight:0,offsetBottom:0},function(){if(a)return c;var e=i.get("device.type"),t=void 0!==n&&(n===e||"smartphone"===n&&"tablet"===e||"tablet"===n&&"smartphone"===e);if(n=e,t)return c;switch(e){case"desktop":c.top=s.mainMenuHeight;break;case"tablet":o||(o=document.querySelector(".js-search-body")),c.top=o&&o.offsetHeight||s.mainMenuHeight;break;case"smartphone":c.top=s.mainMenuHeight}return c})},{}],14:[function(e,t,r){t.exports=function(){var e,t={method:"GET",mode:"cors",credentials:"same-origin",redirect:"follow",cache:"default"},r=new Set,n=new Set,o=new Set;function i({message:e=null,code:t=0,name:r="RequestError",response:n=null}){this.name=r,this.code=t,this.message="Ошибка выполнения запроса"+(e?": "+e:""),this.response=n,Error.captureStackTrace?Error.captureStackTrace(this,i):this.stack=(new Error).stack}return i.prototype=Object.create(Error.prototype),i.prototype.constructor=i,e=function(){function e(e,r,n){var o=this;o.req=null,o.abortController=new AbortController,o.dataType=n||"json",o.url=e,o.options=Object.assign({},t,r,{signal:o.abortController.signal})}return Object.assign(e.prototype,{send:function(e){var t=this;if(o.add(t),!t.isApplyRequestHooks){t.isApplyRequestHooks=!0;var s=e&&e.requestHook;s&&s(t),n.size&&n.forEach((function(e){e(t)}))}return t.req=fetch(t.url,t.options).then((function(e){if(!e.ok)throw new i({message:t.url+", status code - "+e.status+", text - "+e.statusText,code:e.status,response:e});switch(t.dataType){case"json":return e.json();case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"formData":return e.formData();case"text":return e.text();default:return e}})).then((function(n){var o=e&&e.responseHook;return o&&(n=o(n,t)),r.size&&r.forEach((function(e){n=e(n,t)})),n})).finally((function(){o.delete(t)})),t.req},abort:function(){this.abortController.abort()}}),e}(),{create:function(t,r,n){return new e(t,r,n)},setOptions:function(e){return t=Object.assign(t,e)},addRequestHook:function(e){"function"==typeof e&&n.add(e)},setRequestHooks:function(e){"function"==typeof e&&(e=[e]),Array.isArray(e)&&(n=[],e.forEach((function(e){"function"==typeof e&&n.add(e)})))},addResponseHook:function(e){"function"==typeof e&&r.add(e)},setResponseHooks:function(e){"function"==typeof e&&(e=[e]),Array.isArray(e)&&(r=[],e.forEach((function(e){"function"==typeof e&&n.add(e)})))},abortAll:function(){o.forEach((function(e){e.abort()})),o.clear()},sendBeacon:function(e,t){if(t){var r=window.navigator,n=JSON.stringify(t);if(!r.sendBeacon||!r.sendBeacon(e,n)){var o=new XMLHttpRequest;o.open("POST",e,!1),o.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),o.withCredentials=!0,o.send(n)}}}}}()},{}],15:[function(e,t,r){t.exports={api:function(e){if(e){var t=[].slice.call(arguments,1);window.RM||(window.RM={},window.RM.cmd=[]),window.RM.cmd.push((function(){var r=this.api&&this.api[e];r&&r.apply(this.api,t)}))}}}},{}],16:[function(e,t,r){t.exports=function(){const e=e=>e.classList.contains("js-visited");function t(e){let t=e;return t.replace(/(\?|&)from=[\w-]+/,"$1").replace(/\?$/,"").replace(/\/$/,"").replace(/&&/,"&")}function r(){return localStorage.getItem("visitedUrls")||"[]"}function n(){return JSON.parse(r())}function o(e){try{const r=n();-1===r.indexOf(e)&&r.push(t(e)),localStorage.setItem("visitedUrls",JSON.stringify(r))}catch(e){console.log("Ошибка",e)}}function i(e){const r=n(),i=t(e.href);e.addEventListener("click",(function(){o(this.href),s(this)})),-1!==r.indexOf(i)&&s(e)}function s(e){e.classList.add("visited-link")}return(()=>{r().length>4194304&&(console.log("Visited URLs were cleaned up due to size limit in 5MB."),localStorage.setItem("visitedUrls",JSON.stringify([]))),o(document.location.href);const t=(t=document.body)=>t instanceof HTMLElement?Array.from(t.querySelectorAll(".js-visited")).filter((t=>e(t))):[];t().forEach((e=>{i(e)})),new MutationObserver((r=>{r.forEach((r=>{(({addedNodes:r})=>r.map((r=>{if(!(r instanceof HTMLElement))return null;if(e(r))return[r];const n=t(r);return n?[...n]:null})).flat().filter((e=>!!e)))({addedNodes:[...r.addedNodes]}).forEach((e=>{i(e)}))}))})).observe(document.body,{childList:!0,subtree:!0})})(),null}()},{}],17:[function(e,t,r){t.exports=function(){let e,t,r,n,o=!1;const i=e=>{const{yandexShow:t,yandexShowEvent:r}=e.dataset,n=e.classList.contains("js-yandex-counter"),o=void 0!==t||void 0!==r,i=!e.dataset.yandexSend;return n&&o&&i};function s(e){if(e.isIntersecting){n.unobserve(e.target),e.target.dataset.yandexSend="1",e.target.dataset.yandexShow&&p.initReach(e.target.dataset.yandexShow,e.target.dataset.yandexParams);const t=e.target.dataset.yandexShowEvent;if(t){let r=null;try{r=JSON.parse(e.target.dataset.yandexEventsParams||"")}catch(e){console.log(`yandex metric: %c\`${t}\` data-yandex-events-params parse error`,"color: tomato")}p.initReach(t,r)}}}function a(e){return e?t[e]:t.idCounter}function c(e){const t=e.target,r="mouseup"===e.type;if(!t||t===this||e.altKey)return;if(r&&1!==e.button)return;const n=e.target.closest(".js-yandex-counter");if(!n)return;if(n.dataset.yandexOnce&&n.dataset.yandexSentOnce)return;const o=n.dataset.yandexEvents;o&&o.split("|").forEach((function(e){if(e){let t=null;try{t=JSON.parse(n.dataset.yandexEventsParams||"")}catch(t){console.log(`yandex metric: %c\`${e}\` data-yandex-events-params parse error`,"color: tomato")}p.initReach(e,t,n.dataset.yandexCounter),n.dataset.yandexSentOnce="1"}}));const i=n.dataset.yandexName;i&&i.split("|").forEach((function(e){e&&(p.initReach(e,n.dataset.yandexParams,n.dataset.yandexCounter),n.dataset.yandexSentOnce="1")}))}const p={hit:function(t,r,n){if(!o)return;const i=a(n);i&&t&&(0,window[e])(i,"hit",t,r)},initReach:function(t,r,n){if(!o)return;const i=a(n);if(!i||!t)return;const s=window[e];r&&"function"==typeof r.replace&&(r=r.replace("%location.href%",document.location.href)),s(i,"reachGoal",t,r)},initParams:function(t,r,n){if(!o)return;const i=a(n);i&&t&&(0,window[e])(i,"params",t,r||1)},getFn:function(){return o?window[e]:null},setUserUuid:function(t,r){if(!o)return;const n=a(r);n&&t&&(0,window[e])(n,"setUserID",t)},getCounterId:a,checkVisibleElements:function(e){if(e||(e=document),(r=e.querySelectorAll(".js-yandex-counter[data-yandex-show]:not([data-yandex-send])")).length){n||(n=new RA.fn.IntersectionObserver(s,{threshold:.8,rootMargin:["0px"]}));for(const e of r)n.observe(e)}}};return p.init=p.initReach,t=RA.config.get("counters.ya")||{},e=t.ns||"ym",window[e]&&(document.body.addEventListener("click",c),document.body.addEventListener("mouseup",c),o=!0,(()=>{const e=(e=document.body)=>e instanceof HTMLElement?Array.from(e.querySelectorAll(".js-yandex-counter")).filter((e=>i(e))):[];n||(n=new RA.fn.IntersectionObserver(s,{threshold:.8,rootMargin:["0px"]}));const t=e=>{const{top:t}=e.getBoundingClientRect();t<0?s({target:e,isIntersecting:!0}):n.observe(e)};e().forEach((e=>{t(e)})),new MutationObserver((r=>{r.forEach((r=>{(({addedNodes:t})=>t.map((t=>{if(!(t instanceof HTMLElement))return null;if(i(t))return[t];const r=e(t);return r?[...r]:null})).flat().filter((e=>!!e)))({addedNodes:[...r.addedNodes]}).forEach((e=>{t(e)}))}))})).observe(document.body,{childList:!0,subtree:!0})})()),p}()},{}],18:[function(e,t,r){t.exports=function(e,t){if(!e)return"";if(!t||!t.length)return e;const[r,n]=t;return r&&n&&(e.includes("?")?e+=`&${r}=${n}`:e+=`?${r}=${n}`),e}},{}],19:[function(e,t,r){t.exports=function(e){const t=RA.helpers,r=t&&t.currencyToSymbol;return r?r(e):e}},{}],20:[function(e,t,r){const n=e("./short-month-rus"),o=RA.helpers.getDateMskTimezone;function i(e){return e<10&&(e="0"+e),e}t.exports=function(e,t){const[r=!0,s=!1]=t||[];if(!e)return"";if(e.getTime||(e=new Date(e)),isNaN(e.getTime()))return"";s||(e=o(e));const a=i(e.getDate())+" "+n(e,[!0]),c=e.getDate()+"."+e.getMonth()+"."+e.getFullYear(),p=i(e.getHours())+":"+i(e.getMinutes()),u=new Date;return c===u.getDate()+"."+u.getMonth()+"."+u.getFullYear()&&r?p:e.getFullYear()!==u.getFullYear()?a+" "+e.getFullYear()+", "+p:a+", "+p}},{"./short-month-rus":30}],21:[function(e,t,r){const n=RA.helpers.getDateMskTimezone;function o(e){return e<10&&(e="0"+e),e}t.exports=function(e,t){const r=!(!t||!t[0]);if(!e)return"";if(e.getTime||(e=new Date(e)),isNaN(e.getTime()))return"";r||(e=n(e));const i=o(e.getDate())+"."+["01","02","03","04","05","06","07","08","09","10","11","12"][e.getMonth()],s=o(e.getDate())+"."+e.getMonth()+"."+e.getFullYear(),a=o(e.getHours())+":"+o(e.getMinutes()),c=r?new Date:n(),p=o(c.getDate())+"."+c.getMonth()+"."+c.getFullYear(),u=new Date(c.valueOf()-864e5).getDate()+"."+e.getMonth()+"."+e.getFullYear();return s===p?a:s===u?"Вчера "+a:i+" "+a}},{}],22:[function(e,t,r){const n=RA.helpers,o=n.formatNumber;t.exports=function(e,t){if(!o)return e;let r={};return t&&(void 0!==t[0]&&(r.precision=t[0]),void 0!==t[1]&&(r.isFixedPrecision=t[1]),void 0!==t[2]&&(r.decimal=t[2]),void 0!==t[3]&&(r.thousands=t[3]),void 0!==t[4]&&(r.nan=t[4]),n.isEmpty(r)&&(r=null)),o(e,r)}},{}],23:[function(e,t,r){t.exports=function(e){if(null==e)return!1;try{return JSON.stringify(e)}catch(e){return!1}}},{}],24:[function(e,t,r){t.exports={addGetParameter:e("./add-get-parametr"),picResize:e("./pic-resize"),pluralize:e("./pluralize"),pureCut:e("./pure-cut"),date_online:e("./date-online"),number_format_ra:e("./format-number"),currency_to_symbol:e("./currency-to-symbol"),date_format:e("./date-format"),spell_date:e("./spell-date"),merge:e("./merge"),slice:e("./slice"),sort:e("./sort"),json_encode:e("./json-encode"),metrika_element_creator:e("./metrika-element-creator")}},{"./add-get-parametr":18,"./currency-to-symbol":19,"./date-format":20,"./date-online":21,"./format-number":22,"./json-encode":23,"./merge":25,"./metrika-element-creator":26,"./pic-resize":27,"./pluralize":28,"./pure-cut":29,"./slice":31,"./sort":32,"./spell-date":33}],25:[function(e,t,r){t.exports=function(e,t){let r=[],n=0,o=[];if(Array.isArray(e)?t.forEach((e=>{Array.isArray(e)||(r={})})):r={},Array.isArray(r)||(r._keys=[]),Array.isArray(e)?e.forEach((e=>{r._keys&&r._keys.push(n),r[n]=e,n++})):(o=e._keys||Object.keys(e)).forEach((t=>{r[t]=e[t],r._keys.push(t);const o=parseInt(t,10);!isNaN(o)&&o>=n&&(n=o+1)})),t.forEach((e=>{Array.isArray(e)?e.forEach((e=>{r._keys&&r._keys.push(n),r[n]=e,n++})):(o=e._keys||Object.keys(e)).forEach((t=>{r[t]||r._keys.push(t),r[t]=e[t];const o=parseInt(t,10);!isNaN(o)&&o>=n&&(n=o+1)}))})),0===t.length)throw new Twig.Error("Filter merge expects at least one parameter");return r}},{}],26:[function(e,t,r){t.exports=function(e,t){const[r=null,n=null]=t||[];let o=[];const i=e.item?e.item:e,s="boolean"==typeof r&&r;return(s||r.includes("projectNick"))&&void 0!==i.project_nick&&(o.projectNick=i.project_nick),(s||r.includes("documentType"))&&void 0!==i.type&&(o.documentType=i.type),(s||r.includes("documentId"))&&void 0!==i.id&&(o.documentId=i.id),(s||r.includes("index"))&&void 0!==e.position&&(o.index=Number(e.position)+1),"object"==typeof n&&(o=$.extend(!0,o,n)),JSON.stringify(o)}},{}],27:[function(e,t,r){t.exports=function(e,t){if(!e)return"";if(!t||!t.length)return e;const[r="W",n="H",o=!1]=t;return o?e.includes("emitent_pics")?e.replace("emitent_pics/",`emitent_pics/resized/${r}x${n}_crop/`):e.replace("media/img",`resized/${r}x${n}_crop/media/img`):e.includes("emitent_pics")?e.replace("emitent_pics/",`emitent_pics/resized/${r}x${n}`):e.replace("media/img",`resized/${r}x${n}/media/img`)}},{}],28:[function(e,t,r){const n=e("repo/pluralize/main");t.exports=function(e,t){return n(e,t)}},{"repo/pluralize/main":11}],29:[function(e,t,r){t.exports=function(e,t){const r=Number(t&&t[0]);let n;return"string"!=typeof e&&(e=e.toString()),!r||e.length<=r?e:((n=(e=e.slice(0,r)).lastIndexOf(" "))>0&&(e=e.substr(0,n)),e+"...")}},{}],30:[function(e,t,r){const n=RA.helpers.getDateMskTimezone;t.exports=function(e,t){const r=!(!t||!t[0]);return e?("now"===e?e=new Date:e.getTime||(e=new Date(e)),isNaN(e.getTime())?"":(r||(e=n(e)),["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"][e.getMonth()]||"")):""}},{}],31:[function(e,t,r){t.exports=function(e,t){if(null==e)return;if(void 0===t||0===t.length)throw new Twig.Error("slice filter expects at least 1 argument");const r=t[0]||0,n=t.length>1?t[1]:e.length,o=r>=0?r:Math.max(e.length+r,0);if(Array.isArray(e)){const t=[];for(let r=o;r<o+n&&r<e.length;r++)t.push(e[r]);return t}if("string"==typeof e)return e.slice(o,o+n);throw new Twig.Error("slice filter expects value to be an array or string")}},{}],32:[function(e,t,r){t.exports=function(e){if(Array.isArray(e))return e.sort((function(e,t){const r="string"==typeof e,n="string"==typeof t;return r&&!n?-1:n&&!r||e>t?1:e<t?-1:0}));if(e instanceof Object){delete e._keys;const t=Object.keys(e).sort(((t,r)=>{let n,o;return e[t]>e[r]==!(e[t]<=e[r])?e[t]>e[r]?1:e[t]<e[r]?-1:0:isNaN(n=parseFloat(e[t]))||isNaN(o=parseFloat(e[r]))?"string"==typeof e[t]?e[t]>e[r].toString()?1:e[t]<e[r].toString()?-1:0:"string"==typeof e[r]?e[t].toString()>e[r]?1:e[t].toString()<e[r]?-1:0:null:n>o?1:n<o?-1:0}));return e._keys=t,e}}},{}],33:[function(e,t,r){const n=RA.helpers.getDateMskTimezone;t.exports=function(e,t){const[r=!0,o=!1,i=!1,s=!1,a=!1]=t||[];if(!e)return"";if(e.getTime||(e=new Date(e)),isNaN(e.getTime()))return"";a||(e=n(e));const c=(a?new Date:n()).getFullYear(),p=e.getFullYear(),u=e.getMonth(),l=e.getDate(),f=e.getDay(),d=["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"];let h=l+" "+(o?d[u].substring(0,3):d[u]);return r&&c===p||(h+=" "+p),i&&(h=s?["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"][f]+", "+h:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"][f]+", "+h),h}},{}],34:[function(e,t,r){t.exports=function(e){try{return console.log(e),JSON.stringify(e,null,4)}catch(e){console.log("TwigJs dump function error",e)}}},{}],35:[function(e,t,r){const n={default:"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20{{ width }}%20{{ height }}%22%20width%3D%22{{ width }}%22%20height%3D%22{{ height }}%22%3E%3Crect%20width%3D%22{{ width }}%22%20height%3D%22{{ height }}%22%20fill%3D%22%23e6e6e6%22%3E%3C%2Frect%3E%3C%2Fsvg%3E"},o={decoding:"async"},i=e("./../../../../../../widgets/views/image-make.html"),s=e("vendor/twig/filters/pic-resize"),a=RA.helpers;let c;function p(e){return"object"==typeof e?"string"!=typeof e.url?null:e.resize?function(e,t){return t&&t.w&&t.h?s(e,[t.w,t.h,!!t.needCrop]):e}(e.url,e.resize):e.url:"string"==typeof e?e:null}function u(e){let t=[];if(Array.isArray(e))for(let r of e){let e=p(r),n=[];if(!a.isEmpty(e)){if(r.w){const e=parseInt(r.w,10);e&&n.push(e+"w")}else if(r.x){const e=parseFloat(r.x);e&&n.push(e+"x")}n.length&&(e+=" "+n.join(" ")),t.push(e)}}else"string"==typeof e&&t.push(e);return t}function l(e){let t=[];if("object"==typeof e){const r=e.type||"default",o=e.ratio&&parseFloat(e.ratio);let i=e.width&&parseInt(e.width,10),s=e.height&&parseInt(e.height,10);if(o&&(i&&!s?s=Math.round(i/o):s&&!i&&(i=Math.round(s*o))),i&&s){const e=function(e,t=0,r=0){let o=e&&n[e]||n.default;return o&&(o=o.replaceAll?(o=o.replaceAll("{{ width }}",t)).replaceAll("{{ height }}",r):(o=o.replace(/{{ width }}/g,t)).replace(/{{ height }}/g,r)),o}(r,i,s);e&&t.push(e)}}else"string"==typeof e&&t.push(e);return t}t.exports=function(e){return(c=Object.assign({},o,e)).src=c.src?p(c.src):null,c.srcset=function(){let e;return c.srcset&&(c.srcset.img?e=u(c.srcset.img):c.srcset.placeholder?e=l(c.srcset.placeholder):"string"==typeof c.srcset&&(e=[c.srcset])),e&&e.length?e.join(","):null}(),c.datasrcset=function(){let e;return c["data-srcset"]&&(Array.isArray(c["data-srcset"])?e=u(c["data-srcset"]):"string"==typeof c["data-srcset"]&&(e=[c["data-srcset"]])),e&&e.length?e.join(","):null}(),c.sizes=function(){let e;if(c.sizes)if(Array.isArray(c.sizes)){e=[];for(let t of c.sizes)"string"==typeof t&&e.push(t)}else"string"==typeof c.sizes&&(e=[c.sizes]);return e&&e.length?e.join(","):null}(),function(){let e=c.cssDefaultReset?"":"g-image";c.cssclass?e+=" "+c.cssclass:!1===c.cssclass&&(e=null),c.cssclass=e}(),function(){const e=c.ratio&&parseFloat(c.ratio)||null;let t=c.width&&parseInt(c.width,10)||null,r=c.height&&parseInt(c.height,10)||null;e&&(t&&!r?r=Math.round(t/e):r&&!t&&(t=Math.round(r*e))),c.ratio=e,c.width=t,c.height=r}(),a.isEmpty(c.src)?"":(c.jstemplate&&"function"==typeof c.jstemplate.render?c.jstemplate:i).render(c)}},{"./../../../../../../widgets/views/image-make.html":38,"vendor/twig/filters/pic-resize":27}],36:[function(e,t,r){t.exports={image_make_widget:e("./image-make-widget"),dump:e("./dump")}},{"./dump":34,"./image-make-widget":35}],37:[function(e,t,r){t.exports=Twig.twig({id:"@common/views/public/blocks/preloader/main.html",data:[{type:"raw",value:'<div class="preloader">'},{type:"raw",value:'\n    <div class="preloader__item"></div>\n    <div class="preloader__item"></div>\n    <div class="preloader__item"></div>\n</div>\n'}],precompiled:!0,allowInlineIncludes:!0,autoescape:!1})},{}],38:[function(e,t,r){t.exports=Twig.twig({id:"@common-10.10.87/widgets/views/image-make.html",data:[{type:"raw",value:'<img src="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"src",match:["src"]}]},{type:"raw",value:'"\n    '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"cssclass",match:["cssclass"]}],output:[{type:"raw",value:'class="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"cssclass",match:["cssclass"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"width",match:["width"]}],output:[{type:"raw",value:'width="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"width",match:["width"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"height",match:["height"]}],output:[{type:"raw",value:'height="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"height",match:["height"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"style",match:["style"]}],output:[{type:"raw",value:'style="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"style",match:["style"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"srcset",match:["srcset"]}],output:[{type:"raw",value:'srcset="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"srcset",match:["srcset"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"datasrcset",match:["datasrcset"]}],output:[{type:"raw",value:'data-srcset="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"datasrcset",match:["datasrcset"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"sizes",match:["sizes"]}],output:[{type:"raw",value:'sizes="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"sizes",match:["sizes"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"decoding",match:["decoding"]}],output:[{type:"raw",value:'decoding="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"decoding",match:["decoding"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:'    alt="'},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"alt",match:["alt"]}],output:[{type:"output",stack:[{type:"Twig.expression.type.variable",value:"alt",match:["alt"]}]}]}},{type:"raw",value:'"\n    '},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"lazyload",match:["lazyload"]}],output:[{type:"raw",value:'loading="lazy"'}]}},{type:"raw",value:"    "},{type:"logic",token:{type:"Twig.logic.type.if",stack:[{type:"Twig.expression.type.variable",value:"itemprop",match:["itemprop"]}],output:[{type:"raw",value:'itemprop="'},{type:"output",stack:[{type:"Twig.expression.type.variable",value:"itemprop",match:["itemprop"]}]},{type:"raw",value:'"'}]}},{type:"raw",value:"/>"}],precompiled:!0,allowInlineIncludes:!0,autoescape:!1})},{}],39:[function(e,t,r){var n,o={VERSION:"0.0.16",_getType:function(e){return Object.prototype.toString.call(e).slice(8,-1)},_is:function(e,t){var r=o._getType(t);return"Number"===e&&"Number"===r?!isNaN(t):r===e}};!function(e){"use strict";e.trace=!1,e.debug=!1,e.placeholders={parent:"{{|PARENT|}}"},e.forEach=function(e,t,r){if(Array.prototype.forEach)return e.forEach(t,r);var n,o;if(null==e)throw new TypeError(" this is null or not defined");var i=Object(e),s=i.length>>>0;if("[object Function]"!={}.toString.call(t))throw new TypeError(t+" is not a function");for(r&&(n=r),o=0;o<s;){var a;o in i&&(a=i[o],t.call(n,a,o,i)),o++}},e.merge=function(t,r,n){return e.forEach(Object.keys(r),(function(e){(!n||e in t)&&(t[e]=r[e])})),t},e.Error=function(e){this.message=e,this.name="TwigException",this.type="TwigException"},e.Error.prototype.toString=function(){return this.name+": "+this.message},e.log={trace:function(){e.trace&&console&&console.log(Array.prototype.slice.call(arguments))},debug:function(){e.debug&&console&&console.log(Array.prototype.slice.call(arguments))}},"undefined"!=typeof console?void 0!==console.error?e.log.error=function(){console.error.apply(console,arguments)}:void 0!==console.log&&(e.log.error=function(){console.log.apply(console,arguments)}):e.log.error=function(){},e.ChildContext=function(e){var t=function(){};return t.prototype=e,new t},e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",output_whitespace_pre:"output_whitespace_pre",output_whitespace_post:"output_whitespace_post",output_whitespace_both:"output_whitespace_both",logic_whitespace_pre:"logic_whitespace_pre",logic_whitespace_post:"logic_whitespace_post",logic_whitespace_both:"logic_whitespace_both"},e.token.strings=['"',"'"],e.parse=function(t,r){try{var n=[],o=!0,i=this;return e.forEach(t,(function(t){switch(e.log.debug("Twig.parse: ","Parsing token: ",t),t.type){case e.token.type.raw:n.push(e.filters.raw(t.value));break;case e.token.type.logic:var s=t.token,a=e.logic.parse.call(i,s,r,o);void 0!==a.chain&&(o=a.chain),void 0!==a.context&&(r=a.context),void 0!==a.output&&n.push(a.output);break;case e.token.type.comment:break;case e.token.type.output_whitespace_pre:case e.token.type.output_whitespace_post:case e.token.type.output_whitespace_both:case e.token.type.output:e.log.debug("Twig.parse: ","Output token: ",t.stack),n.push(e.expression.parse.call(i,t.stack,r))}})),e.output.call(this,n)}catch(t){if(this.options.rethrow)throw t;if(e.log.error("Error parsing twig template "+this.id+": "),t.stack?e.log.error(t.stack):e.log.error(t.toString()),e.debug)return t.toString()}},e.output=function(t){if(!this.options.autoescape)return t.join("");var r="html";"string"==typeof this.options.autoescape&&(r=this.options.autoescape);var n=[];return e.forEach(t,(function(t){t&&!0!==t.twig_markup&&t.twig_markup!==r&&(t=e.filters.escape(t,[r])),n.push(t)})),e.Markup(n.join(""))},e.Templates={parsers:{},registry:{}},e.Templates.registerParser=function(t,r,n){if("function"!=typeof r)throw new e.Error("Unable to add parser for "+t+": Invalid function regerence given.");n&&(r=r.bind(n)),this.parsers[t]=r},e.Templates.unRegisterParser=function(e){this.isRegisteredParser(e)&&delete this.parsers[e]},e.Templates.isRegisteredParser=function(e){return this.parsers.hasOwnProperty(e)},e.Templates.save=function(t){if(void 0===t.id)throw new e.Error("Unable to save template with no id");e.Templates.registry[t.id]=t},e.Templates.load=function(t){return e.Templates.registry.hasOwnProperty(t)?e.Templates.registry[t]:null},e.Template=function(t){var r=t.data,n=t.id,o=t.blocks,i=t.path,s=t.name,a=t.options;this.id=n,this.path=i,this.name=s,this.options=a,this.reset(o),e._is("String",r)?this.tokens=e.prepare.call(this,r):this.tokens=r,void 0!==n&&e.Templates.save(this)},e.Template.prototype.reset=function(t){e.log.debug("Twig.Template.reset","Reseting template "+this.id),this.blocks={},this.importedBlocks=[],this.originalBlockTokens={},this.child={blocks:t||{}},this.extend=null},e.Template.prototype.render=function(t,r){r=r||{},this.context=t||{},this.reset(),r.blocks&&(this.blocks=r.blocks);var n=e.parse.call(this,this.tokens,this.context);if(this.extend){var o=e.Templates.load(this.extend);return o&&(o.options=this.options),this.parent=o,this.parent.render(this.context,{blocks:this.blocks})}return"blocks"==r.output?this.blocks:n},e.Template.prototype.importFile=function(t){t=this.path?this.path+"/"+t:t;var r=e.Templates.load(t);if(!r)throw new e.Error("Unable to find the template "+t);return r.options=this.options,r},e.Template.prototype.importBlocks=function(t,r){var n=this.importFile(t),o=this.context,i=this;r=r||!1,n.render(o),e.forEach(Object.keys(n.blocks),(function(e){(r||void 0===i.blocks[e])&&(i.blocks[e]=n.blocks[e],i.importedBlocks.push(e))}))},e.Markup=function(e,t){return void 0===t&&(t=!0),"string"==typeof e&&e.length>0&&((e=new String(e)).twig_markup=t),e}}(o),function(e){"use strict";for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed"},e.logic.definitions=[{type:e.logic.type.if_,parse:function(t,r,n){var o="",i=e.expression.parse.call(this,t.stack,r);return n=!0,e.lib.boolval(i)&&(n=!1,o=e.parse.call(this,t.output,r)),{chain:n,output:o}}},{type:e.logic.type.elseif,parse:function(t,r,n){var o="",i=e.expression.parse.call(this,t.stack,r);return n&&e.lib.boolval(i)&&(n=!1,o=e.parse.call(this,t.output,r)),{chain:n,output:o}}},{type:e.logic.type.else_,parse:function(t,r,n){var o="";return n&&(o=e.parse.call(this,t.output,r)),{chain:n,output:o}}},{type:e.logic.type.endif},{type:e.logic.type.for_,parse:function(t,r,n){var o,i,s=e.expression.parse.call(this,t.expression,r),a=[],c=0,p=this,u=t.conditional,l=function(n,i){var s=e.ChildContext(r);s[t.value_var]=i,t.key_var&&(s[t.key_var]=n),s.loop=function(e,t){var n=void 0!==u;return{index:e+1,index0:e,revindex:n?void 0:t-e,revindex0:n?void 0:t-e-1,first:0===e,last:n?void 0:e===t-1,length:n?void 0:t,parent:r}}(c,o),(void 0===u||e.expression.parse.call(p,u,s))&&(a.push(e.parse.call(p,t.output,s)),c+=1),delete s.loop,delete s[t.value_var],delete s[t.key_var],e.merge(r,s,!0)};return e._is("Array",s)?(o=s.length,e.forEach(s,(function(e){l(c,e)}))):e._is("Object",s)&&(i=void 0!==s._keys?s._keys:Object.keys(s),o=i.length,e.forEach(i,(function(e){"_keys"!==e&&l(e,s[e])}))),{chain:0===a.length,output:e.output.call(this,a)}}},{type:e.logic.type.endfor,open:!1},{type:e.logic.type.set,parse:function(t,r,n){var o=e.expression.parse.call(this,t.expression,r),i=t.key;return o===r&&(o=e.lib.copy(o)),r[i]=o,{chain:n,context:r}}},{type:e.logic.type.setcapture,parse:function(t,r,n){var o=e.parse.call(this,t.output,r),i=t.key;return this.context[i]=o,r[i]=o,{chain:n,context:r}}},{type:e.logic.type.endset},{type:e.logic.type.filter,parse:function(t,r,n){var o=e.parse.call(this,t.output,r),i=[{type:e.expression.type.string,value:o}].concat(t.stack);return{chain:n,output:e.expression.parse.call(this,i,r)}}},{type:e.logic.type.endfilter},{type:e.logic.type.block,parse:function(t,r,n){var o,i=this.importedBlocks.indexOf(t.block)>-1,s=this.blocks[t.block]&&this.blocks[t.block].indexOf(e.placeholders.parent)>-1;return(void 0===this.blocks[t.block]||i||s||r.loop||t.overwrite)&&(o=t.expression?e.expression.parse.call(this,{type:e.expression.type.string,value:e.expression.parse.call(this,t.output,r)},r):e.expression.parse.call(this,{type:e.expression.type.string,value:e.parse.call(this,t.output,r)},r),i&&this.importedBlocks.splice(this.importedBlocks.indexOf(t.block),1),this.blocks[t.block]=s?e.Markup(this.blocks[t.block].replace(e.placeholders.parent,o)):o,this.originalBlockTokens[t.block]={type:t.type,block:t.block,output:t.output,overwrite:!0}),{chain:n,output:this.child.blocks[t.block]?this.child.blocks[t.block]:this.blocks[t.block]}}},{type:e.logic.type.shortblock,parse:function(t,r,n){return e.logic.handler[e.logic.type.block].parse.apply(this,arguments)}},{type:e.logic.type.endblock},{type:e.logic.type.extends_,parse:function(t,r,n){var o=e.ChildContext(r),i=e.expression.parse.call(this,t.stack,r);return this.extend=i,(i instanceof e.Template?i:this.importFile(i)).render(o),e.lib.extend(r,o),{chain:n,output:""}}},{type:e.logic.type.use,parse:function(t,r,n){var o=e.expression.parse.call(this,t.stack,r);return this.importBlocks(o),{chain:n,output:""}}},{type:e.logic.type.include,parse:function(t,r,n){var o,i,s,a={};if(t.only||(a=e.ChildContext(r)),void 0!==t.withStack)for(i in o=e.expression.parse.call(this,t.withStack,r))o.hasOwnProperty(i)&&(a[i]=o[i]);var c=e.expression.parse.call(this,t.stack,r);if(c instanceof e.Template)s=c;else try{s=this.importFile(c)}catch(e){if(t.ignoreMissing)return{chain:n,output:""};throw e}return{chain:n,output:s.render(a)}}},{type:e.logic.type.spaceless,parse:function(t,r,n){var o=e.parse.call(this,t.output,r).replace(/>\s+</g,"><").trim();return{chain:n,output:o=e.Markup(o)}}},{type:e.logic.type.endspaceless},{type:e.logic.type.embed,parse:function(t,r,n){var o,i,s,a={};if(!t.only)for(i in r)r.hasOwnProperty(i)&&(a[i]=r[i]);if(void 0!==t.withStack)for(i in o=e.expression.parse.call(this,t.withStack,r))o.hasOwnProperty(i)&&(a[i]=o[i]);var c=e.expression.parse.call(this,t.stack,a);if(c instanceof e.Template)s=c;else try{s=this.importFile(c)}catch(e){if(t.ignoreMissing)return{chain:n,output:""};throw e}return this.blocks={},e.parse.call(this,t.output,a),{chain:n,output:s.render(a,{blocks:this.blocks})}}},{type:e.logic.type.endembed}],e.logic.handler={},e.logic.extendType=function(t,r){r=r||"Twig.logic.type"+t,e.logic.type[t]=r},e.logic.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.logic.extendType(t.type),e.logic.handler[t.type]=t};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());e.logic.parse=function(t,r,n){var o,i="";return r=r||{},e.log.debug("Twig.logic.parse: ","Parsing logic token ",t),(o=e.logic.handler[t.type]).parse&&(i=o.parse.call(this,t,r,n)),i}}(o),function(e){"use strict";for(e.expression={},function(e){e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};var t=function(e,t){if(null==t)return null;if(void 0!==t.indexOf)return e===t||""!==e&&t.indexOf(e)>-1;var r;for(r in t)if(t.hasOwnProperty(r)&&t[r]===e)return!0;return!1};e.expression.operator.parse=function(r,n){var o,i,s;switch(e.log.trace("Twig.expression.operator.parse: ","Handling ",r),"?"===r&&(s=n.pop()),i=n.pop(),"not"!==r&&(o=n.pop()),"in"!==r&&"not in"!==r&&(o&&Array.isArray(o)&&(o=o.length),i&&Array.isArray(i)&&(i=i.length)),r){case":":break;case"?:":e.lib.boolval(o)?n.push(o):n.push(i);break;case"?":void 0===o&&(o=i,i=s,s=void 0),e.lib.boolval(o)?n.push(i):n.push(s);break;case"+":i=parseFloat(i),o=parseFloat(o),n.push(o+i);break;case"-":i=parseFloat(i),o=parseFloat(o),n.push(o-i);break;case"*":i=parseFloat(i),o=parseFloat(o),n.push(o*i);break;case"/":i=parseFloat(i),o=parseFloat(o),n.push(o/i);break;case"//":i=parseFloat(i),o=parseFloat(o),n.push(Math.floor(o/i));break;case"%":i=parseFloat(i),o=parseFloat(o),n.push(o%i);break;case"~":n.push((null!=o?o.toString():"")+(null!=i?i.toString():""));break;case"not":case"!":n.push(!e.lib.boolval(i));break;case"<":n.push(o<i);break;case"<=":n.push(o<=i);break;case">":n.push(o>i);break;case">=":n.push(o>=i);break;case"===":n.push(o===i);break;case"==":n.push(o==i);break;case"!==":n.push(o!==i);break;case"!=":n.push(o!=i);break;case"or":n.push(o||i);break;case"b-or":n.push(o|i);break;case"b-xor":n.push(o^i);break;case"and":n.push(o&&i);break;case"b-and":n.push(o&i);break;case"**":n.push(Math.pow(o,i));break;case"not in":n.push(!t(o,i));break;case"in":n.push(t(o,i));break;case"..":n.push(e.functions.range(o,i));break;default:throw new e.Error("Failed to parse operator: "+r+" is an unknown operator.")}}}(e),e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.subexpression.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start,e.expression.type.subexpression.start,e.expression.type.operator.unary]},e.expression.set.operations_extended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets,e.expression.type.slice]),e.expression.fn={parse:{push:function(e,t){t.push(e)},push_value:function(e,t){t.push(e.value)}}},e.expression.definitions=[{type:e.expression.type.test,parse:function(t,r,n){var o=r.pop(),i=t.params&&e.expression.parse.call(this,t.params,n),s=e.test(t.filter,o,i);"not"==t.modifier?r.push(!s):r.push(s)}},{type:e.expression.type.comma},{type:e.expression.type.number,parse:e.expression.fn.parse.push_value},{type:e.expression.type.operator.binary,parse:function(t,r,n){t.key?r.push(t):t.params?(t.key=e.expression.parse.call(this,t.params,n),r.push(t),n.loop||delete t.params):e.expression.operator.parse(t.value,r)}},{type:e.expression.type.operator.unary,parse:function(t,r,n){e.expression.operator.parse(t.value,r)}},{type:e.expression.type.string,parse:e.expression.fn.parse.push_value},{type:e.expression.type.subexpression.start,parse:e.expression.fn.parse.push},{type:e.expression.type.subexpression.end,parse:function(t,r,n){var o;if(!t.expression)throw new e.Error("Unexpected subexpression end when token is not marked as an expression");o=e.expression.parse.call(this,t.params,n),r.push(o)}},{type:e.expression.type.parameter.start,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,parse:function(t,r,n){var o=[],i=!1,s=null;if(t.expression)s=e.expression.parse.call(this,t.params,n),r.push(s);else{for(;r.length>0;){if((s=r.pop())&&s.type&&s.type==e.expression.type.parameter.start){i=!0;break}o.unshift(s)}if(!i)throw new e.Error("Expected end of parameter set.");r.push(o)}}},{type:e.expression.type.slice,parse:function(t,r,n){var o=r.pop(),i=t.params;r.push(e.filter.call(this,t.value,o,i))}},{type:e.expression.type.array.start,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,parse:function(t,r,n){for(var o=[],i=!1,s=null;r.length>0;){if((s=r.pop()).type&&s.type==e.expression.type.array.start){i=!0;break}o.unshift(s)}if(!i)throw new e.Error("Expected end of array.");r.push(o)}},{type:e.expression.type.object.start,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,parse:function(t,r,n){for(var o={},i=!1,s=null,a=!1,c=null;r.length>0;){if((s=r.pop())&&s.type&&s.type===e.expression.type.object.start){i=!0;break}if(s&&s.type&&(s.type===e.expression.type.operator.binary||s.type===e.expression.type.operator.unary)&&s.key){if(!a)throw new e.Error("Missing value for key '"+s.key+"' in object definition.");o[s.key]=c,void 0===o._keys&&(o._keys=[]),o._keys.unshift(s.key),c=null,a=!1}else a=!0,c=s}if(!i)throw new e.Error("Unexpected end of object.");r.push(o)}},{type:e.expression.type.filter,parse:function(t,r,n){var o=r.pop(),i=t.params&&e.expression.parse.call(this,t.params,n);r.push(e.filter.call(this,t.value,o,i))}},{type:e.expression.type._function,parse:function(t,r,n){var o,i=t.params&&e.expression.parse.call(this,t.params,n),s=t.fn;if(e.functions[s])o=e.functions[s].apply(this,i);else{if("function"!=typeof n[s])throw new e.Error(s+" function does not exist and is not defined in the context");o=n[s].apply(n,i)}r.push(o)}},{type:e.expression.type.variable,parse:function(t,r,n){var o=e.expression.resolve.call(this,n[t.value],n);r.push(o)}},{type:e.expression.type.key.period,parse:function(t,r,n,o){var i,s=t.params&&e.expression.parse.call(this,t.params,n),a=t.key,c=r.pop();if(null==c){if(this.options.strict_variables)throw new e.Error("Can't access a key "+a+" on an null or undefined object.");i=void 0}else{var p=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)};i="object"==typeof c&&a in c?c[a]:void 0!==c["get"+p(a)]?c["get"+p(a)]:void 0!==c["is"+p(a)]?c["is"+p(a)]:void 0}r.push(e.expression.resolve.call(this,i,n,s,o))}},{type:e.expression.type.key.brackets,parse:function(t,r,n,o){var i,s=t.params&&e.expression.parse.call(this,t.params,n),a=e.expression.parse.call(this,t.stack,n),c=r.pop();if(null==c){if(this.options.strict_variables)throw new e.Error("Can't access a key "+a+" on an null or undefined object.");return null}i="object"==typeof c&&a in c?c[a]:null,r.push(e.expression.resolve.call(this,i,c,s,o))}},{type:e.expression.type._null,parse:e.expression.fn.parse.push_value},{type:e.expression.type.context,parse:function(e,t,r){t.push(r)}},{type:e.expression.type.bool,parse:e.expression.fn.parse.push_value}],e.expression.resolve=function(t,r,n,o){return"function"==typeof t?(o&&o.type===e.expression.type.parameter.end&&(n=o.params&&e.expression.parse.call(this,o.params,r,!0),o.cleanup=!0),t.apply(r,n||[])):t},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());e.expression.parse=function(t,r,n){var o=this;Array.isArray(t)||(t=[t]);var i,s=[],a=null,c=[];if(e.forEach(t,(function(n,p){n.cleanup||(t.length>p+1&&(i=t[p+1]),(a=e.expression.handler[n.type]).parse&&a.parse.call(o,n,s,r,i),r.loop&&n.type===e.expression.type.operator.binary&&c.push(n))})),e.forEach(c,(function(e){e.params&&e.key&&delete e.key})),n){for(var p=[];s.length>0;)p.unshift(s.pop());s.push(p)}return s.pop()}}(o),(n=o).filters={upper:function(e){return"string"!=typeof e?e:e.toUpperCase()},lower:function(e){return"string"!=typeof e?e:e.toLowerCase()},capitalize:function(e){return"string"!=typeof e?e:e.substr(0,1).toUpperCase()+e.toLowerCase().substr(1)},title:function(e){return"string"!=typeof e?e:e.toLowerCase().replace(/(^|\s)([a-z])/g,(function(e,t,r){return t+r.toUpperCase()}))},length:function(e){switch(n._getType(e)){case"Array":case"String":return e.length;case"Object":return void 0===e._keys?Object.keys(e).length:e._keys.length;default:return 0}},reverse:function(e){if(n._is("Array",e))return e.reverse();if(n._is("String",e))return e.split("").reverse().join("");if(n._is("Object",e)){var t=e._keys||Object.keys(e).reverse();return e._keys=t,e}},keys:function(e){if(null!=e){var t=e._keys||Object.keys(e),r=[];return n.forEach(t,(function(t){"_keys"!==t&&e.hasOwnProperty(t)&&r.push(t)})),r}},url_encode:function(e){if(null!=e){var t=encodeURIComponent(e);return t.replace("'","%27")}},join:function(e,t){if(null!=e){var r="",o=[],i=null;return t&&t[0]&&(r=t[0]),n._is("Array",e)?o=e:(i=e._keys||Object.keys(e),n.forEach(i,(function(t){"_keys"!==t&&e.hasOwnProperty(t)&&o.push(e[t])}))),o.join(r)}},default:function(e,t){if(void 0!==t&&t.length>1)throw new n.Error("default filter expects one argument");return null==e||""===e?void 0===t?"":t[0]:e},date:function(e,t){var r=n.functions.date(e),o=t&&t.length?t[0]:"F j, Y H:i",i=!!(t&&t.length&&t[1]);return n.lib.date(o,r,i)},date_modify:function(e,t){if(null!=e){if(void 0===t||1!==t.length)throw new n.Error("date_modify filter expects 1 argument");var r,o=t[0];return n._is("Date",e)&&(r=n.lib.strtotime(o,e.getTime()/1e3)),n._is("String",e)&&(r=n.lib.strtotime(o,n.lib.strtotime(e))),n._is("Number",e)&&(r=n.lib.strtotime(o,e)),new Date(1e3*r)}},replace:function(e,t){if(null!=e){var r=n._getType(e);if("String"===r||"Number"===r){var o,i=t[0];for(o in"Number"===r&&(e=""+e),i)i.hasOwnProperty(o)&&"_keys"!==o&&(e=n.lib.replaceAll(e,o,i[o]));return e}throw new n.Error("replace filter expects value to be a string or number")}},striptags:function(e){if(null!=e)return n.lib.strip_tags(e)},escape:function(e,t){if(null!=e){var r="html";if(t&&t.length&&!0!==t[0]&&(r=t[0]),"html"===r){var o=e.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return n.Markup(o,"html")}if("url"===r){var i=n.filters.url_encode(e);return n.Markup(i,"url")}if("html_attr"===r){o=e.toString(),i="";for(var s=0;s<o.length;s++)o[s].match(/^[a-zA-Z0-9,\.\-_]$/)?i+=o[s]:o[s].match(/^[&<>"]$/)&&(i+=o[s].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"));return n.Markup(i,"html_attr")}throw new n.Error("escape strategy unsupported")}},e:function(e,t){return n.filters.escape(e,t)},number_format:function(e,t){var r=e,n=t&&t[0]?t[0]:void 0,o=t&&void 0!==t[1]?t[1]:".",i=t&&void 0!==t[2]?t[2]:",";r=(r+"").replace(/[^0-9+\-Ee.]/g,"");var s=isFinite(+r)?+r:0,a=isFinite(+n)?Math.abs(n):0,c="";return(c=(a?function(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}(s,a):""+Math.round(s)).split("."))[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(c[1]||"").length<a&&(c[1]=c[1]||"",c[1]+=new Array(a-c[1].length+1).join("0")),c.join(o)},trim:function(e,t){if(null!=e){var r,o=n.filters.escape(""+e);r=t&&t[0]?""+t[0]:" \n\r\t\f\v            ​\u2028\u2029　";for(var i=0;i<o.length;i++)if(-1===r.indexOf(o.charAt(i))){o=o.substring(i);break}for(i=o.length-1;i>=0;i--)if(-1===r.indexOf(o.charAt(i))){o=o.substring(0,i+1);break}return-1===r.indexOf(o.charAt(0))?o:""}},slice:function(e,t){if(null!=e){if(void 0===t||t.length<1)throw new n.Error("slice filter expects at least 1 argument");var r=t[0]||0,o=t.length>1?t[1]:e.length,i=r>=0?r:Math.max(e.length+r,0);if(n._is("Array",e)){for(var s=[],a=i;a<i+o&&a<e.length;a++)s.push(e[a]);return s}if(n._is("String",e))return e.substr(i,o);throw new n.Error("slice filter expects value to be an array or string")}},abs:function(e){if(null!=e)return Math.abs(e)},first:function(e){var t=n._getType(e);return"Array"===t?e[0]:"Object"===t?e[(e._keys||Object.keys(e))[0]]:"String"===t?e.substr(0,1):void 0},last:function(e){switch(n._getType(e)){case"Object":var t=e._keys||Object.keys(e);return e[t[t.length-1]];case"Array":case"String":return e[e.length-1]}},split:function(e,t){if(void 0===t||t.length<1||t.length>2)throw new n.Error("split filter expects 1 or 2 argument");if(null!=e){var r=n._getType(e);if("String"===r||"Number"===r){var o=t[0],i=t[1],s=e.split(o);if("Number"===r&&(e=""+e),void 0===i)return s;if(i<0)return e.split(o,s.length+i);var a=[];if(""==o)for(;s.length>0;){for(var c="",p=0;p<i&&s.length>0;p++)c+=s.shift();a.push(c)}else{for(p=0;p<i-1&&s.length>0;p++)a.push(s.shift());s.length>0&&a.push(s.join(o))}return a}throw new n.Error("split filter expects value to be a string or number")}},raw:function(e){return n.Markup(e)},round:function(e,t){var r=(t=t||[]).length>0?t[0]:0,o=t.length>1?t[1]:"common";if(e=parseFloat(e),r&&!n._is("Number",r))throw new n.Error("round filter expects precision to be a number");if("common"===o)return n.lib.round(e,r);if(!n._is("Function",Math[o]))throw new n.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[o](e*Math.pow(10,r))/Math.pow(10,r)}},n.filter=function(e,t,r){if(!n.filters[e])throw"Unable to find filter "+e;return n.filters[e].call(this,t,r)},n.filter.extend=function(e,t){n.filters[e]=t},function(e){e.functions={range:function(e,t,r){var n,o,i=[],s=r||1,a=!1;if(isNaN(e)||isNaN(t)?isNaN(e)&&isNaN(t)?(a=!0,n=e.charCodeAt(0),o=t.charCodeAt(0)):(n=isNaN(e)?0:e,o=isNaN(t)?0:t):(n=parseInt(e,10),o=parseInt(t,10)),n>o)for(;n>=o;)i.push(a?String.fromCharCode(n):n),n-=s;else for(;n<=o;)i.push(a?String.fromCharCode(n):n),n+=s;return i},date:function(t){var r,n=e.lib,o=e._is;if(null==t||""===t)r=new Date;else if(o("Date",t))r=t;else if(o("String",t))r=t.match(/^[0-9]+$/)?new Date(1e3*t):new Date(1e3*n.strtotime(t));else{if(!o("Number",t))throw new e.Error("Unable to parse date "+t);r=new Date(1e3*t)}return r},random:function(t){var r=2147483648;function n(e){var t=Math.floor(Math.random()*r),n=Math.min.call(null,0,e),o=Math.max.call(null,0,e);return n+Math.floor((o-n+1)*t/r)}if(e._is("Number",t))return n(t);if(e._is("String",t))return t.charAt(n(t.length-1));if(e._is("Array",t))return t[n(t.length-1)];if(e._is("Object",t)){var o=Object.keys(t);return t[o[n(o.length-1)]]}return n(r-1)}},e._function=function(t,r,n){if(!e.functions[t])throw"Unable to find function "+t;return e.functions[t](r,n)},e._function.extend=function(t,r){e.functions[t]=r}}(o),function(e){e.lib={},e.lib.round=function(e,t){var r,n,o,i;return t|=0,o=(e*=r=Math.pow(10,t))%1==.5*(i=e>0|-(e<0)),n=Math.floor(e),o&&(e=n+(i>0)),(o?e:Math.round(e))/r},e.lib.strip_tags=function(e,t){return t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(""),e.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,r){return t.indexOf("<"+r.toLowerCase()+">")>-1?e:""}))},e.lib.boolval=function(e){"use strict";return!(!e||"0"===e||"0.0"===e||Array.isArray(e)&&0===e.length)},e.lib.copy=function(e){var t,r={};for(t in e)r[t]=e[t];return r},e.lib.extend=function(e,t){var r,n=Object.keys(t);for(r=n.length;r--;)e[n[r]]=t[n[r]];return e},e.lib.replaceAll=function(e,t,r){return e&&e.split&&e.split(t).join(r)||""},e.lib.strtotime=function(e,t){var r,n,o,i,s,a,c,p,u;if(e){e=e.replace(/^\s+|\s+$/g,"").replace(/\s{2,}/g," ").replace(/[\t\r\n]/g,"").toLowerCase();var l=new RegExp(["^(\\d{1,4})","([\\-\\.\\/:])","(\\d{1,2})","([\\-\\.\\/:])","(\\d{1,4})","(?:\\s(\\d{1,2}):(\\d{2})?:?(\\d{2})?)?","(?:\\s([A-Z]+)?)?$"].join(""));if((n=e.match(l))&&n[2]===n[4])if(n[1]>1901)switch(n[2]){case"-":return!(n[3]>12||n[5]>31)&&new Date(n[1],parseInt(n[3],10)-1,n[5],n[6]||0,n[7]||0,n[8]||0,n[9]||0)/1e3;case".":return!1;case"/":return!(n[3]>12||n[5]>31)&&new Date(n[1],parseInt(n[3],10)-1,n[5],n[6]||0,n[7]||0,n[8]||0,n[9]||0)/1e3}else if(n[5]>1901)switch(n[2]){case"-":case".":return!(n[3]>12||n[1]>31)&&new Date(n[5],parseInt(n[3],10)-1,n[1],n[6]||0,n[7]||0,n[8]||0,n[9]||0)/1e3;case"/":return!(n[1]>12||n[3]>31)&&new Date(n[5],parseInt(n[1],10)-1,n[3],n[6]||0,n[7]||0,n[8]||0,n[9]||0)/1e3}else switch(n[2]){case"-":return!(n[3]>12||n[5]>31||n[1]<70&&n[1]>38)&&(i=n[1]>=0&&n[1]<=38?+n[1]+2e3:n[1],new Date(i,parseInt(n[3],10)-1,n[5],n[6]||0,n[7]||0,n[8]||0,n[9]||0)/1e3);case".":return n[5]>=70?!(n[3]>12||n[1]>31)&&new Date(n[5],parseInt(n[3],10)-1,n[1],n[6]||0,n[7]||0,n[8]||0,n[9]||0)/1e3:n[5]<60&&!n[6]&&!(n[1]>23||n[3]>59)&&(o=new Date,new Date(o.getFullYear(),o.getMonth(),o.getDate(),n[1]||0,n[3]||0,n[5]||0,n[9]||0)/1e3);case"/":return!(n[1]>12||n[3]>31||n[5]<70&&n[5]>38)&&(i=n[5]>=0&&n[5]<=38?+n[5]+2e3:n[5],new Date(i,parseInt(n[1],10)-1,n[3],n[6]||0,n[7]||0,n[8]||0,n[9]||0)/1e3);case":":return!(n[1]>23||n[3]>59||n[5]>59)&&(o=new Date,new Date(o.getFullYear(),o.getMonth(),o.getDate(),n[1]||0,n[3]||0,n[5]||0)/1e3)}if("now"===e)return null===t||isNaN(t)?(new Date).getTime()/1e3|0:0|t;if(!isNaN(r=Date.parse(e)))return r/1e3|0;if(l=new RegExp(["^([0-9]{4}-[0-9]{2}-[0-9]{2})","[ t]","([0-9]{2}:[0-9]{2}:[0-9]{2}(\\.[0-9]+)?)","([\\+-][0-9]{2}(:[0-9]{2})?|z)"].join("")),(n=e.match(l))&&("z"===n[4]?n[4]="Z":n[4].match(/^([+-][0-9]{2})$/)&&(n[4]=n[4]+":00"),!isNaN(r=Date.parse(n[1]+"T"+n[2]+n[4]))))return r/1e3|0;if(s=t?new Date(1e3*t):new Date,a={sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6},c={yea:"FullYear",mon:"Month",day:"Date",hou:"Hours",min:"Minutes",sec:"Seconds"},"(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)",!(n=e.match(new RegExp("([+-]?\\d+\\s(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?)|(last|next)\\s(years?|months?|weeks?|days?|hours?|minutes?|min|seconds?|sec|sunday|sun\\.?|monday|mon\\.?|tuesday|tue\\.?|wednesday|wed\\.?|thursday|thu\\.?|friday|fri\\.?|saturday|sat\\.?))(\\sago)?","gi"))))return!1;for(u=0,p=n.length;u<p;u++)if(!f(n[u]))return!1;return s.getTime()/1e3}function f(e){var t=e.split(" "),r=t[0],n=t[1].substring(0,3),o=/\d+/.test(r),i=("last"===r?-1:1)*("ago"===t[2]?-1:1);if(o&&(i*=parseInt(r,10)),c.hasOwnProperty(n)&&!t[1].match(/^mon(day|\.)?$/i))return s["set"+c[n]](s["get"+c[n]]()+i);if("wee"===n)return s.setDate(s.getDate()+7*i);if("next"===r||"last"===r)!function(e,t,r){var n,o=a[t];void 0!==o&&(0==(n=o-s.getDay())?n=7*r:n>0&&"last"===e?n-=7:n<0&&"next"===e&&(n+=7),s.setDate(s.getDate()+n))}(r,n,i);else if(!o)return!1;return!0}},e.lib.date=function(e,t,r){var n,o,i=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],s=/\\?(.?)/gi,a=function(e,t){return o[e]?o[e]():t},c=function(e,t){for(e=String(e);e.length<t;)e="0"+e;return e};return o={d:function(){return c(o.j(),2)},D:function(){return o.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return i[o.w()]+"day"},N:function(){return o.w()||7},S:function(){var e=o.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:function(){return n.getDay()},z:function(){var e=new Date(o.Y(),o.n()-1,o.j()),t=new Date(o.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(o.Y(),o.n()-1,o.j()-o.N()+3),t=new Date(e.getFullYear(),0,4);return c(1+Math.round((e-t)/864e5/7),2)},F:function(){return i[6+o.n()]},m:function(){return c(o.n(),2)},M:function(){return o.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(o.Y(),o.n(),0).getDate()},L:function(){var e=o.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=o.n(),t=o.W();return o.Y()+(12===e&&t<9?1:1===e&&t>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return o.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return o.a().toUpperCase()},B:function(){var e=3600*n.getUTCHours(),t=60*n.getUTCMinutes(),r=n.getUTCSeconds();return c(Math.floor((e+t+r+3600)/86.4)%1e3,3)},g:function(){return o.G()%12||12},G:function(){return n.getHours()},h:function(){return c(o.g(),2)},H:function(){return c(o.G(),2)},i:function(){return c(n.getMinutes(),2)},s:function(){return c(n.getSeconds(),2)},u:function(){return c(1e3*n.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(o.Y(),0)-Date.UTC(o.Y(),0)!=new Date(o.Y(),6)-Date.UTC(o.Y(),6)?1:0},O:function(){var e=n.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+c(100*Math.floor(t/60)+t%60,4)},P:function(){var e=o.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(s,a)},r:function(){return"D, d M Y H:i:s O".replace(s,a)},U:function(){return n/1e3|0}},function(e,t,r){return n=void 0===t?new Date:t instanceof Date?new Date(t):new Date(1e3*t),r||(n=function(e){var t,r=10800-60*-(new Date).getTimezoneOffset();if(e&&e.getTime){if(0===r)return e;t=e.getTime()/1e3}else switch(typeof e){case"number":t=e;break;case"string":if((e=new Date(e)).getTime){if(0===r)return e;t=e.getTime()/1e3}else{if(0===r)return new Date;t=Date.now()/1e3}break;default:t=Date.now()/1e3}return new Date(1e3*(t+r))}(n)),e.replace(s,a)}(e,t,r)}}(o),function(e){"use strict";e.Templates.registerParser("source",(function(e){return e.data||""}))}(o),function(e){"use strict";e.Templates.registerParser("twig",(function(t){return new e.Template(t)}))}(o),function(e){"use strict";e.tests={empty:function(e){if(null==e)return!0;if("number"==typeof e)return!1;if(e.length&&e.length>0)return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},odd:function(e){return e%2==1},even:function(e){return e%2==0},divisibleby:function(e,t){return e%t[0]==0},defined:function(e){return void 0!==e},none:function(e){return null===e},null:function(e){return this.none(e)},"same as":function(e,t){return e===t[0]},iterable:function(t){return t&&(e._is("Array",t)||e._is("Object",t))}},e.test=function(t,r,n){if(!e.tests[t])throw"Test "+t+" is not defined.";return e.tests[t](r,n)},e.test.extend=function(t,r){e.tests[t]=r}}(o),function(e){"use strict";e.exports={VERSION:e.VERSION},e.exports.twig=function(t){var r=t.id,n={strict_variables:t.strict_variables||!1,autoescape:null!=t.autoescape&&t.autoescape||!1,rethrow:t.rethrow||!1};return void 0!==t.debug&&(e.debug=t.debug),void 0!==t.trace&&(e.trace=t.trace),e.Templates.parsers.twig({data:t.data,path:t.hasOwnProperty("path")?t.path:void 0,id:r,options:n})},e.exports.extendFilter=function(t,r){e.filter.extend(t,r)},e.exports.extendFunction=function(t,r){e._function.extend(t,r)},e.exports.extendTest=function(t,r){e.test.extend(t,r)},e.exports.extend=function(t){t(e)},e.exports.filters=e.filters,e.exports.lib=e.lib}(o),t.exports=o.exports},{}]},{},[1]);