(()=>{"use strict";var n=function(){return Boolean("figconsent"===window.location.hash.substring(1)||!1)},o=function(o){return function(e){if(n()||"warn"===o||"error"===o){for(var t,c=arguments.length,a=new Array(c>1?c-1:0),i=1;i<c;i++)a[i-1]=arguments[i];(t=console)[o].apply(t,["[FIGCONSENT] ".concat(e)].concat(a))}}};n()&&console.log("[FIGCONSENT] ðŸ�ž enable logger !");const e={showLog:n,log:o("log"),info:o("info"),warn:o("warn"),error:o("error")};function t(n){var o,e,t,c=document.cookie.split(";"),a=null;for(o=0;o<c.length;o+=1)e=c[o].substr(0,c[o].indexOf("=")),t=c[o].substr(c[o].indexOf("=")+1),(e=e.replace(/^\s+|\s+$/g,""))===n&&(a=decodeURIComponent(t));return a}var c="fig_cmp_uuid",a="fig_save_consent";function i(){return window.location.hostname.split(".").slice(-2).join(".")}function r(n){var o=i();document.cookie="".concat(a,"=").concat(n,";path=").concat("/",";domain=").concat(o,";max-age=").concat(31536e3)}var s="[__tcfapi]",d=function(){return void 0===window.__tcfapi?(e.error("".concat(s," missing window.__tcfapi")),function(){return{}}):window.__tcfapi};const u=function(n){var o=encodeURIComponent(window.location.href.split("?")[0]),u=function(){var n,o,e;n=t(c),o=t(a),n&&!o&&(console.log("[FIGCONSENT] renaming cookie to ".concat(a)),r(n),e=i(),document.cookie="".concat(c,"=;path=").concat("/",";domain=").concat(e,";expires=Thu, 01 Jan 1970 00:00:00 UTC;"));var s=t(a);return s||(console.debug("[FIGCONSENT] new UUID generated"),r(s=function(n){for(var o="zyxwvutsrqponmlkjihgfedcbaZYXWVUTSRQPONMLKJIHGFEDCBA9876543210",e="",t=32;t--;)e+=o[Math.random()*o.length|0];return e}())),console.debug("[FIGCONSENT] UUID is ".concat(s)),s}(),l=window.location.hostname.includes("leparticulier"),f={appKey:"86e15e67-fd78-41d3-b341-a1df1d334793",forceGDPRApplies:!0,uuid:u,urlRedirect:{main:{denyAll:"https://".concat("connect.lefigaro.fr","/login")+"?client=".concat(l?"leparticulier_web":"horizon_web")+"&type=main"+"&redirect_uri=".concat(o)+"&ac_cmd=no_show",continueWithoutAccepting:(l?"https://boutique.lefigaro.fr/leparticulier-abonnements-numeriques":"https://".concat("abonnement.lefigaro.fr","/lefigaro"))+"?redirect_uri=".concat(o)+"&ac_cmd=no_show&origine=VWH210016&ga_source=VWH210016_bandeau_cookie_consent"}}};d()("init",2,(function(o,t){e.info("".concat(s," init"),o,t),n&&"function"==typeof n&&n()}),f)},l=function(n){d()("addEventListener",2,(function(o,t){e.info("".concat(s," addEventListener"),o,t),t&&o&&("useractioncomplete"===o.eventStatus||"tcloaded"===o.eventStatus)&&n&&"function"==typeof n&&n(o)}))};var f=function(){return window.dfpNpa},p=function(n){window.dfpNpa=n},w=function(){e.info("[npaGlobalVarPlugin] start"),l((function(n){var o;o=function(n){if(!n||!n.purpose||!n.purpose.consents)return!1;var o=Object.values(n.purpose.consents);return Boolean(o.length>=10&&o.every(Boolean))}(n),p(Number(!o)),e.info("[handleDFPNpaGlobalVar] dfpNpa value after consents",f())}))},g=function(){e.info("[popinByClick] addClickListener");var n=document.querySelectorAll('[data-js="figconsent-handle-consent"]');if(n&&n.length){e.info("[popinByClick] listen click on ",n);for(var o=0;o<n.length;o+=1)n[o].addEventListener("click",(function(){var n;n={jumpAt:"privacy"},d()("show",2,(function(o){e.info("".concat(s," show"),n,o)}),n)}))}},v="[tagManagers]",h=function(){l((function(n){if(e.info("".concat(v," callback addConsentListenerToPushEvents"),n),window.dataLayer){if(n&&n.purpose&&n.purpose.consents){var o=Object.values(n.purpose.consents);for(var t in window.dataLayer.push({BU_isConsentGiven:Boolean(o.length>=10&&o.every(Boolean)||!1===n.gdprApplies)}),n.purpose.consents)n.purpose.consents[t]&&window.dataLayer.push({event:"appconsent_ctrl_".concat(t)})}}else e.error("".concat(v," datalayer not found"))}))};console.log("[FIGCONSENT] was executed"),window.__FIGCONSENT_EXECUTED__||(window.__FIGCONSENT_EXECUTED__=!0,window.__FIGCONSENT_VERSION__="4.1.0",function(n){try{var o=document.createElement("script");o.id="js-appconsent-tcf2",o.src="https://cdn.appconsent.io/loader-clear.js",o.async=!0,o.onload=function(){var n;e.info("appconsent bundle was loaded"),window.figconsent={},u((function(){var n;n={lazy:!0},d()("show",2,(function(o){e.info("".concat(s," show"),n,o)}),n),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(function(){h()})):h()})),w(),e.info("[popinByClick] start"),g(),document.addEventListener("DOMContentLoaded",(function(){g()})),(n=document.createElement("style")).innerHTML="\n    .cookiebarcontainer {\n      display: none !important;\n    }",document.head.appendChild(n)},document.head.appendChild(o)}catch(n){throw new Error("FigConsent-> can't load notice")}}(),(void 0===f()||0!==f()&&1!==f())&&(p(1),e.info("[handleDFPNpaGlobalVar] dfpNpa value is invalid, setting it to its default value",f())))})();