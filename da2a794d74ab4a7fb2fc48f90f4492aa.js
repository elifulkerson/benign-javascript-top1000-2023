!function(){"use strict";const t="undefined"!=typeof window?window:{benji:{},googletag:{cmd:[]},YAHOO:{}};["localhost","aol.com","aol.co.uk","aol.de","autoblog.com","cricket.yahoo.sportz.io","engadget.com","yahoo.com","yahoo.com.hk","yahoo.com.tw"].map((t=>`([\\.\\w\\-]+\\.)?${t.replace(/\./g,"\\.")}`)),["cricket.yahoo.net"].map((t=>t.replace(/\./g,"\\.")));const e="initialize",i="initialize_ack",s="initialize_i13n",n="intersect",o="render",r="resize_ad",a="start_ads",c="tab_focus",d="index",h=!0,l="bucket",g="cobrand",u="hashtag",f="lang",p="0",m="testid",y="https://securepubads.g.doubleclick.net/tag/js/gpt.js",b="https://pagead2.googlesyndication.com/tag/js/gpt.js",_="https://opus.analytics.yahoo.com/tag/opus.js",v="script",E="gpt-tag",C="opus-script",I="text/javascript",R={caasArticle:"caas:article:init",caasSidekick:"caas:sidekick:init",darlaComplete:"darla:complete",waferFetch:"fetch:success",waferReady:"wafer:ready"},S=["enableCtrldSRABatch","headerBidding"],w={impressionViewable:"impressionViewable",slotOnload:"slotOnload",slotRenderEnded:"slotRenderEnded",slotRequested:"slotRequested",slotResponseReceived:"slotResponseReceived",slotVisibilityChanged:"slotVisibilityChanged"},A={limitedAds:!0,restrictDataProcessing:!0},k={nonPersonalizedAds:!0},T="benji:render",B={benjiReady:"benji:ready",tabFocus:"tabFocus",userAction:"userAction"},P=[l,g,f,"pd","lu","site","ver",u,"pct","pt","spaceid","lmsid","pstaid","mchnm","device","region","url"],z={_rid:"yrid",lpstaid:"pstaid",partner:g},x=["att","frontier","rogers"],L=[m,"ncid","fr","frtype"],M={bucket:"bucket",hashtag:"hashtag"},j=["abk","axid",l,"partner","colo","device",f,"lu","region","site","ver"],F={att:"yhp",autos:"yautos",entertainment:"yent",finance:"yfin",fp:"yhp",gma:"ynews",lifestyle:"ylife",money:"yfin",movies:"ymov",music:"yent",news:"ynews",sports:"ysports",style:"ylife",tech:"ynews"},O=[u,"pct","pd","pg_name","pt","spaceid","lmsid","pstaid","lpstaid","mchnm","_rid","ticker","site","sck"],N={fetchMarginPercent:-1,mobileScaling:-1,renderMarginPercent:50},D="RENDER_SUCCEEDED",U="RENDER_FAILED";function $(e){const i=1e3*e,s=new CustomEvent(B.tabFocus);let n=!0,o=null;t.addEventListener("focus",(()=>{!n&&o&&Date.now()-o>i&&t.dispatchEvent(s),n=!0})),t.addEventListener("blur",(()=>{n=!1,o=Date.now()}))}function V(t,e,i){let s,n,o,r,a=-1;if("up"===i)for(s=t.top,n=t.bottom;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(t.left,a),o===e?n=a-1:s=a+1;else if("down"===i)for(s=t.top,n=t.bottom;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(t.left,a),o===e?s=a+1:n=a-1;else if("left"===i)for(s=t.left,n=t.right;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(a,t.top),o===e?n=a-1:s=a+1;else for(s=t.left,n=t.right;s<=n;)a=Math.floor((s+n)/2),o=document.elementFromPoint(a,t.top),o===e?s=a+1:n=a-1;const c="up"===i||"left"===i?s:n;if(r="up"===i||"down"===i?document.elementFromPoint(t.left,c):document.elementFromPoint(c,t.top),r!==e)throw new Error("Element is completely obstructed "+i);return c}const q=t=>{if(!t)return!1;if(!((e=t).offsetWidth||e.offsetHeight||e.getClientRects().length))return!1;var e;const i=t.getBoundingClientRect(),s=window.innerWidth,n=window.innerHeight;if(i.top>n||i.bottom<0||i.right<0||i.left>s)return!1;const o=i.left<0?1:i.left+1,r=i.right>s?s-1:i.right-1,a=i.top>0?i.top+1:1,c=i.bottom>n?n-1:i.bottom-1,d=i.height*i.width;if((c-a)*(r-o)/d<.5)return!1;if(function(t,e){const{left:i,top:s,bottom:n,right:o}=t;let r=document.elementFromPoint(i,s);return r!==e||(r=document.elementFromPoint(o,s),r!==e||(r=document.elementFromPoint(i,n),r!==e||(r=document.elementFromPoint(o,n),r!==e)))}({bottom:c,left:o,right:r,top:a},t))try{const e=function(t,e,i){const{top:s,bottom:n,left:o,right:r}=t;try{const t=V({bottom:n,left:o,right:r,top:s},e,"up"),a=V({bottom:n,left:o,right:r,top:t},e,"down"),c=V({bottom:a,left:o,right:r,top:t},e,"left");return(a-t)*(V({bottom:a,left:c,right:r,top:t},e,"right")-c)/i}catch(t){return 0}}({bottom:c,left:o,right:r,top:a},t,d);return e>=.5}catch(t){return!1}return!0};function H(t){const e=window.document.getElementById(t),i=e?.getElementsByTagName("iframe")[0];return i instanceof HTMLElement&&q(i)}function K(t,e){let i=[];return"string"==typeof e?i=t.store.getRegionAdComponents(e):e?.forEach((e=>{const s=e.split(":"),n=s[0],o=s[1],r=n?.length,a=2===s.length&&r&&o?.length>0;r&&void 0===o?i.push(t.store.getAdComponentById(n)):a&&i.push(t.store.getAdComponent(n,o))})),i}const W=(t,e)=>{if(t&&t.includes("${")){const i="yhp",s=e.region,n=e.site,o=F[n]||i;return t.replace(/\${REGION}/g,s.toLowerCase()).replace(/\${SITE}/g,o)}return t};const G={};const Q="pointerup",J="scroll",Y="pointermove",X="keydown";const Z=function(t,e){let i=0;return(...s)=>{const n=performance.now();if(!(n-i<e))return i=n,t(...s)}}((function(){const e=new CustomEvent(B.userAction);t.dispatchEvent(e)}),200);const tt={},et={},it={},st=[];function nt(){this.gpt.addEventListener(w.impressionViewable,(t=>{const e=t.slot.getSlotElementId(),i=et[e];i&&i()})),this.gpt.addEventListener(w.slotVisibilityChanged,(t=>{const e=t.slot.getSlotElementId(),i=tt[e];i&&i(t.inViewPercentage)}))}function ot(){[Y,Q,J,X].forEach((e=>{t.addEventListener(e,Z)})),t.addEventListener(B.userAction,(()=>{for(;st.length>0;){const t=st.pop();t&&t()}}))}class rt{action;duration;timerId;elapsedTime;constructor(t){const{action:e,duration:i}=t;this.action=e,this.duration=i,this.timerId=void 0,this.elapsedTime=0,this._resetElapsedTime()}getElapsedTime(){return this.elapsedTime}pause(){this._cancelElapse()}resume(){void 0===this.timerId&&0!==this.elapsedTime&&this._elapse()}start(){this._resetElapsedTime(),this._cancelElapse(),this._elapse()}stop(){this._resetElapsedTime(),this._cancelElapse()}_resetElapsedTime(){this.elapsedTime=0}_elapse(){this.timerId=t.setInterval((()=>{this.elapsedTime+=1,this.elapsedTime>=this.duration&&(this.stop(),this.action())}),1e3)}_cancelElapse(){clearInterval(this.timerId),this.timerId=void 0}}function at(){this.timer?.start()}function ct(t){this.viewPercentage=t;!0===this.eligibleForTimedRefresh&&this.isInView()&&this.refresh()}function dt(){this.isInView()&&(this.timer?.start(),this.refresh())}class ht{containerMap;eligibleForTimedRefresh;features;gptComponent;id;isEdgeToEdge;kvs;metrics;refreshConfig;region;slot;store;timer;useSecure;viewPercentage;resizeConfig;disableRefresh;_fetchCount;_failureCount;_isIntersecting;constructor(t){const{containerMap:e,disableRefresh:i,features:s,gptComponent:n,kvs:o,refreshConfig:r,region:a,id:c,path:d,resizeConfig:h,size:l,store:g,useSecure:u}=t;if(this.containerMap=e,this.features=s,this.id=c,this.gptComponent=n,this.metrics={},this.refreshConfig=r,this.region=a,this.store=g,this.useSecure=u,this.viewPercentage=0,this._isIntersecting=!1,this._createSlot({id:c,path:d,size:l}),this._failureCount=0,this._fetchCount=0,o&&(this.kvs=o,this.gptComponent.setTargetingForSlot(this,o)),h&&(this.resizeConfig=h),!i&&this.refreshConfig.duration){this.eligibleForTimedRefresh=!1;const t=()=>{this.isInView()?this.refreshConfig.requireUserAction?st.push((()=>this.refresh())):this.refresh():this.eligibleForTimedRefresh=!0},{duration:e}=this.refreshConfig;this.timer=new rt({action:t.bind(this),duration:e})}this.disableRefresh=i,this.store.add(a,c,this)}destroy(){this._unloadHandler(),this.timer&&(this.timer.stop(),delete this.timer),this.gptComponent.destroy([this.slot]),this.store.delete(this.region,this.id)}increaseFailureCount(){this._failureCount+=1}increaseFetchCount(){this._fetchCount+=1}isInitiallyLoaded(){return 1===this._fetchCount}isInView(){return this.useSecure?this._isIntersecting:H(this.id)&&this.viewPercentage>=50}getRenderCount(){return this._fetchCount-this._failureCount}refresh(){if(this.refreshConfig.limit&&this.refreshConfig.limit<=this.getRenderCount())return;this.viewPercentage=0;this.refreshConfig.sameSizeRefresh&&!function(t){const e=t?.getSizes();if(!e)return!1;for(let t=0;t<e.length;t++)if("fluid"===e[t])return!0;return!1}(this.slot)&&this.slot?.getSizes().length>1&&1===this._fetchCount?function(t){try{const{slot:e,features:i}=t,s=e.getSlotElementId(),n=document.getElementById(s);if(n instanceof HTMLElement){const s=n.children[0],o=s.children[0],r=t.isEdgeToEdge?s:o,a=!isNaN(parseInt(r.height)),c=!isNaN(parseInt(r.width)),d=a?parseInt(r.height):r.offsetHeight,h=c?parseInt(r.width):r.offsetWidth,l=e.getSizes();let g;for(let t=0;t<l.length;t++){const e=l[t];if(e.height===d&&e.width===h){g=[e.width,e.height];break}}if(void 0===g)return void t.gptComponent.refresh([t.slot]);if(t.isEdgeToEdge||(n.style.minHeight=`${d}px`),i?.enableSizeMapping)return t.gptComponent.enableSizeMappingForSlot(t,[0,0],g),void t.gptComponent.refresh([t.slot]);t.gptComponent.destroy([t.slot]);const u={id:t.id,path:t.slot.getAdUnitPath(),size:g};t.gptComponent.create(u,t),t.kvs&&t.gptComponent.setTargetingForSlot(t,t.kvs),t.renderSlot()}}catch(e){t.gptComponent.refresh([t.slot])}}(this):this.gptComponent.refresh([this.slot]),this.eligibleForTimedRefresh=!1}render(){this.disableRefresh||this._loadHandler(),this.renderSlot()}renderSlot(){this.gptComponent.render(this.useSecure&&this.containerMap?.[this.id]?this.containerMap[this.id]:this.id,this)}_createSlot(t){this.gptComponent.create(t,this)}_loadHandler(){this.useSecure||(tt[this.id]=ct.bind(this),et[this.id]=at.bind(this),it[this.id]=dt.bind(this))}_unloadHandler(){delete tt[this.id],delete et[this.id],delete it[this.id]}}function lt(t){const e=[],{duration:i,limit:s,requireUserAction:n,sameSizeRefresh:o}=this.config.setting?.refresh||{},{feature:r}=this.config,a={duration:i,limit:s,requireUserAction:n,sameSizeRefresh:o},c=this.config.setting?.useSecure??!1;return Object.entries(t).forEach((([t,i])=>{const{id:s,size:n,region:o,resizeConfig:d,kvs:h,disableRefresh:l}=i,g=W(i.path,this.i13nStore.currentI13n);if(void 0!==this.store.getAdComponent(o,t))return;const u=i.refresh,f=u?.requireUserAction??i.requireUserAction??a?.requireUserAction,p=u?.sameSizeRefresh??i.sameSizeRefresh??a?.sameSizeRefresh,m={...a,...u,requireUserAction:f,sameSizeRefresh:p},y={enableSizeMapping:r?.enableSizeMapping||!1},b={containerMap:this.containerMap,disableRefresh:l,features:y,gptComponent:this.gpt,id:s,kvs:h,path:g,refreshConfig:m,region:o,resizeConfig:d,size:n,store:this.store,useSecure:c},_=document?.getElementById(s);if(_){const t=new ht(b);e.push(t)}})),e}function gt(t){t?.forEach((t=>{t.render()}))}function ut(t){if(void 0===t){return void gt(this.store.getRegionAdComponents(d))}gt(lt.call(this,t))}function ft(t,e){if(t){const i=t.benjiAd?.slot,s=e&&i.id?function(t){return t+"-"+(new Date).getUTCMilliseconds()+"-benji-ad"}(i.id):i.id,n={id:s,path:i.path,region:i.region,size:i.size};return e&&e.elem&&(e.elem.id=s),n}}function pt(e){const i={};e&&(i[e.id]=e,ut.call(t.benji,i))}const mt={[R.caasArticle]:function(t){const e=ft(t&&t.meta&&t.meta.darlaConfig);e&&pt(e)}};const yt={[R.darlaComplete]:function(t){const e=ft(t&&t.meta&&t.meta.darlaConfig,t);e&&pt(e)}};function bt(){const e=mt[R.caasArticle],i=yt[R.darlaComplete];t.wafer.ready((()=>{t.wafer.on(R.caasArticle,e),t.wafer.on(R.darlaComplete,i)}))}function _t(t,e=!1){const i=e?b:y;(function(t){return!(!t.googletag||!t.googletag.apiReady)})(t)||vt({id:E,tagSrc:i,WIN:t})}function vt({tagSrc:t,id:e,WIN:i}){const s=i.document.createElement(v);s.type=I,s.src=t,s.id=e,i.document.head.append(s)}const Et=/;\s/g,Ct=/([^=]+)=/i,It=t=>((t,e)=>{let i=null;return e=e.trim(),t.document?.cookie.split(Et).some((t=>{let s,n;const o=t.match(Ct);if(Array.isArray(o))try{s=decodeURIComponent(o[1]),n=decodeURIComponent(t.substring(s.length+1))}catch(t){}return!(s!==e||!n||(i=n.trim(),0))})),i})(t,"gam_id")||"";function Rt(t,e){let i=It(e);const s=function(t,e){if(!L.includes(e))return null;const i=new URLSearchParams(t.location?.search);return i.get(e)}(e,m),{allowOnlyNonPersonalizedAds:n,allowOnlyLimitedAds:o}=t.config.setting?.consent||{},r=!n&&!o;(n||o)&&(i="");const{age:a=0,gender:c=""}=r&&t.config.setting?.userInfo||{},d=function(t,{age:e,axid:i,gender:s,i13n:n,testid:o}){const r={};St(j,n,r),St(O,n,r),i&&(r.axid=wt(i)),o&&(r.testid=wt(o)),e&&(r.bka=function(t){const e=[18,21,25,35,45,50,55,65,101].findIndex((e=>t<e));return-1===e?p:`${e}`}(e)),s&&"f"===s&&(r.bkg="1"),s&&"m"===s&&(r.bkg="2"),r.abk&&(r.abk="1"===r.abk?"other":"2"===r.abk?"abp":r.abk),r&&Object.keys(r).length&&t.setTargeting(r);return r}(t.gpt,{age:a,axid:i,gender:c,i13n:t.config.i13n,testid:s});t.i13nStore.updateCurrent(d),t.hbc.activated&&d&&t.gpt.getTargetings(P,(e=>{t.hbc?.sendMnetKvs(e,d)}))}function St(t,e,i){e&&"object"==typeof e&&!Array.isArray(e)&&0!==Object.keys(e).length&&t.forEach((t=>{if(e[t]){let s=t,n=wt(e[t]);z.hasOwnProperty(t)&&(s=z[t]),"site"===t&&e.partner&&x.includes(e.partner)&&(n=`${n}_${e.partner}`),i[s]=n,M.hasOwnProperty(t)&&(i[s]=At(i[s]))}}))}function wt(t){return"number"==typeof t?`${t}`:t}function At(t){return"string"==typeof t?t.split(/[;,]+/):t}const kt={[w.slotRenderEnded]:function(t){if(t&&t.isEmpty){const e=t?.slot?.getSlotElementId(),i=document.getElementById(e);i?.style.setProperty("display","none");const s=i?.parentElement?.id;s&&"string"==typeof s&&s.startsWith("sda-")&&i?.parentElement?.style.setProperty("display","none");const n=this.store.getAdComponentById(e);n&&n.destroy()}}};function Tt(){const t=kt[w.slotRenderEnded];this.gpt.addEventListener(w.slotRenderEnded,t.bind(this)),this.gpt.collapseEmptyDivs(!1)}function Bt(t){const e=t?.slot?.getSlotElementId(),i=document.getElementById(e);if(t?.size&&Array.isArray(t?.size)&&t?.size.length>=2){const e=t?.size[1],s=i?.clientHeight;e!==s&&i?.style.setProperty("min-height",e+"px")}}function Pt(){const t=Bt;this.gpt.addEventListener(w.slotRenderEnded,t.bind(this))}const zt="https://noa.yahoo.com/p",xt="unknown",Lt=(t,e)=>{const{spaceid:i,...s}=e,n=Object.keys(s).map((t=>`${t}=${encodeURIComponent(s[t])}`)).join("&");return`${t}?s=${i}&t=${Date.now()}&_I=&_AO=0&_NOL=0&${n}`};function Mt(t={}){const{colo:e=xt,device:i=xt,lang:s=xt,partner:n=xt,region:o=xt,site:r=xt,src:a=xt,spaceid:c=xt}=t;return{spaceid:c,src:a,site:r,partner:n,lang:s,region:o,device:i,colo:e}}const jt=(t,e)=>{const i={etag:"performance",etrg:"backgroundPost",outcm:"performance",usergenf:p},s={A_utm:JSON.stringify(t)},n=Lt("https://geo.yahoo.com/p",{...i,...e,...s});return navigator.sendBeacon(n)},Ft=(t,e)=>{const i=Lt(zt,{etrg:"backgroundPost",outcm:"gamMetric",...e,...t});return navigator.sendBeacon(i)},Ot=(t,e)=>{const i=Lt(zt,{etrg:"backgroundPost",outcm:"gamDebug",...e,...t});return navigator.sendBeacon(i)};function Nt(e,i){const s=e.slot.getSlotElementId(),n=this.store.getAdComponentById(s),o=n?.kvs?.loc;if(!o)return;if(!n||n.getRenderCount()>1)return;const r=Math.round(t.performance.now());if(void 0===i[s])i[s]=r;else{const t=i[s];delete i[s];const e=r,n=Mt(this.config.i13n);jt({[`GAM_${o.toUpperCase()}_FTIME`]:t,[`GAM_${o.toUpperCase()}_RTIME`]:e},n)}}function Dt(){const e=t.performance?.now;if(!e)return;const i={};this.gpt.addEventListener(w.slotRequested,(t=>{Nt.call(this,t,i)})),this.gpt.addEventListener(w.slotOnload,(t=>{Nt.call(this,t,i)}))}const Ut="INITIAL_RENDER_FAILURE",$t="REFRESH_RENDER_FAILURE",Vt="REFRESH_RENDER",qt="INITIAL_RENDER",Ht={ads_failure_total:0,ads_fetch_total:0,ads_refresh_total:0,ads_slot_right_failure:0,ads_slot_right_total:0,ads_slot_top_failure:0,ads_slot_top_total:0};function Kt(t,e){if(void 0===e.kvs||void 0===e.kvs.loc)return;const i=function(t){switch(t){case"top_right":return"right";case"top_center":return"top";default:return}}(e.kvs.loc);if(void 0===i)return;let s;return s=!0===t.isEmpty?e.isInitiallyLoaded()?Ut:$t:e.isInitiallyLoaded()?qt:Vt,function(t,e){const i={...Ht};switch(i[`ads_slot_${e}_total`]=1,t){case qt:return i.ads_fetch_total=1,i;case Vt:return i.ads_refresh_total=1,i;case Ut:i.ads_failure_total=1,i[`ads_slot_${e}_failure`]=1;case $t:return i[`ads_slot_${e}_failure`]=1,i}}(s,i)}function Wt(){this.gpt.addEventListener(w.slotRenderEnded,(t=>{const e=t.slot.getSlotElementId(),i=this.store.getAdComponentById(e);if(void 0===i)return;const s=Kt(t,i);void 0!==s&&Ft(s,Mt(this.config.i13n))}))}function Gt(){this.gpt.addEventListener(w.slotRenderEnded,(t=>{const e=t.slot.getSlotElementId(),i=this.store.getAdComponentById(e);if(void 0===i)return;const s=function(t,e){const{id:i}=e,s=e.getRenderCount(),n=s>1?"true":"false",o=e.kvs?.loc?e.kvs.loc:"undefined",r=t.isEmpty?"failed":"succeeded";return{id:i,isRefresh:n,loc:Array.isArray(o)?o[0]:o,renderCount:s,status:r}}(t,i);Ot(s,function(t,e){const{setting:{consent:{allowOnlyNonPersonalizedAds:i,allowOnlyLimitedAds:s}={allowOnlyLimitedAds:!1,allowOnlyNonPersonalizedAds:!1}},i13n:n}=t,{currentI13n:{pd:o=xt,pt:r=xt}}=e,{bucket:a=xt,colo:c=xt,device:d=xt,lang:h=xt,partner:l=xt,region:g=xt,site:u=xt,src:f=xt,spaceid:p=xt,_rid:m=xt}=n;return{spaceid:p,src:f,site:u,partner:l,lang:h,region:g,device:d,colo:c,bucket:Array.isArray(a)?a.join(","):a,rid:m,limitedAds:s,NPA:i,pd:o,pt:r}}(this.config,this.i13nStore))}))}function Qt(t,e){const i=document.getElementById(t);if(!i)return;const s=i?.children[0],n=s?.children[0];if(Array.isArray(e)){const t=e.find((t=>!0===t.isEligibleForResize));if(!t)return;e=t}const o=window.innerWidth,r=e.breakpoints;let a,c=!0;for(const t in r)if(n&&t){const e=t.split(","),d=Number(e[0]),h=Number(e[1]);if(o>=d&&o<=h){const e=r[t];a=o*e[1]/e[0],c&&(i.setAttribute("style",`min-height: ${a}px;`),i.setAttribute("class",""),c=!1),s.style.display="block",n.height=a.toString(),n.width=o.toString()}}}function Jt(t){const e=t.slot.getSlotElementId(),i=this.store.getAdComponentById(e),s=i?.resizeConfig;if(void 0===i)return;let n=!1;function o(e){t.size&&e?.size[0]===t.size[0]&&e?.size[1]===t.size[1]?(n=!0,e.isEligibleForResize=!0):e.isEligibleForResize=!1}Array.isArray(s)?s.forEach((t=>{o(t)})):s&&o(s),i.isEdgeToEdge=n,i.isEdgeToEdge&&i.resizeConfig&&(Qt(i.id,i.resizeConfig),1===i.getRenderCount()&&function(t){window.addEventListener("resize",(()=>{t.isEdgeToEdge&&t.resizeConfig&&Qt(t.id,t.resizeConfig)}))}(i))}function Yt(){this.gpt.addEventListener(w.slotRenderEnded,(t=>{Jt.call(this,t)}))}function Xt(){this.gpt.addEventListener(w.slotRequested,(t=>{const e=t.slot.getSlotElementId(),i=this.store.getAdComponentById(e);i?.increaseFetchCount()})),this.gpt.addEventListener(w.slotRenderEnded,(t=>{const e=t.slot.getSlotElementId(),i=this.store.getAdComponentById(e);if(function(t){if(void 0===t)return;const e=`${t.getRenderCount()}`;t.gptComponent.setTargetingForSlot(t,{ri:e})}(i),t.isEmpty){i?.increaseFailureCount();const e=(s=U,{data:{id:t.slot.getSlotElementId()},name:s});G[U]&&G[U].forEach((t=>{t(e)}))}else{const e=function(t,e){const{slot:i,size:s}=e;return{data:{id:i.getSlotElementId(),size:s},name:t}}(D,t);G[D]&&G[D].forEach((t=>{t(e)}))}var s}))}const Zt={gpt:new class{_googletag;features;constructor(){return this.features={},this._googletag={},this._googletag.cmd=[],void 0!==t&&(t.googletag?this._googletag=t.googletag:t.googletag=this._googletag),this}addEventListener(t,e){this._googletag.cmd.push((()=>{this._googletag.pubads().addEventListener(t,e)}))}create(t,e){const{path:i,size:s,id:n}=t;this._googletag.cmd.push((()=>{const t=this._googletag.defineSlot(i,s,n).addService(this._googletag.pubads());e.slot=t}))}clearTargeting(t){this._googletag.cmd.push((()=>{0!==this._googletag.pubads().getTargeting(t).length&&this._googletag.pubads().clearTargeting(t)}))}destroy(t){this._googletag.cmd.push((()=>{this._googletag.destroySlots(t)}))}enableLazyLoad(t){this._googletag.cmd.push((()=>{const e={...N,...t};this._googletag.pubads().enableLazyLoad({fetchMarginPercent:e.fetchMarginPercent,mobileScaling:e.mobileScaling,renderMarginPercent:e.renderMarginPercent})}))}enableSizeMappingForSlot(t,e,i){this._googletag.cmd.push((()=>{const s=this._googletag.sizeMapping().addSize(e,i).build();t.slot?.defineSizeMapping(s)}))}refresh(t){this._googletag.cmd.push((()=>{this._googletag.pubads().refresh(t)}))}render(t,e){this._googletag.cmd.push((()=>{this.features.enableCtrldSRABatch&&this.features.headerBidding&&e&&e.slot?this._googletag.pubads().refresh([e.slot]):this._googletag.display(t)}))}setPrivacySettings(t){this._googletag.cmd.push((()=>{this._googletag.pubads().setPrivacySettings(t)}))}setPublisherProvidedId(t){this._googletag.cmd.push((()=>{this._googletag.pubads().setPublisherProvidedId(t)}))}setupGPTService(t){this.features=t,this._googletag.cmd.push((()=>{this.features.enableCtrldSRABatch&&this.features.headerBidding&&this._googletag.pubads().disableInitialLoad(),this._googletag.pubads().enableSingleRequest(),this._googletag.pubads().setForceSafeFrame(!0),this._googletag.enableServices()}))}setTargeting(t){this._googletag.cmd.push((()=>{Object.keys(t).forEach((e=>{this._googletag.pubads().setTargeting(e,t[e])}))}))}setPageUrl(t){this._googletag.cmd.push((()=>{this._googletag.pubads().get("page_url")!==t&&this._googletag.pubads().set("page_url",t)}))}getTargetings(t,e){this._googletag.cmd.push((()=>{const i={};t.forEach((t=>{i[t]=this._googletag.pubads().getTargeting(t).join(",")})),e&&e(i)}))}setTargetingForSlot(t,e){this._googletag.cmd.push((()=>{Object.keys(e).forEach((i=>{const s=e[i];t.slot.setTargeting(i,s),void 0===t.kvs&&(t.kvs={}),t.kvs[i]=s}))}))}collapseEmptyDivs(t){this._googletag.cmd.push((()=>{this._googletag.pubads().collapseEmptyDivs(t)}))}},hbc:new class{_advBidxc;yhDn="hb.yahoo.net";activated=!1;constructor(){return this._advBidxc={},this._advBidxc.version=11.1,this._advBidxc.execute=[],this}start(e){const{i13n:i,customerId:s,limitedAds:n}=e;this.activated=!0,this._advBidxc.customerId=s;const o={device:i.device??"",lang:i.lang??"",region:this.setRegion(i),section:this.setSection(i),site:i.site??""};return this._advBidxc.mchnm=i.mchnm??"",this._advBidxc.startTime=(new Date).getTime(),this._advBidxc.timeout=1e3,this._advBidxc.limitedAds=n,this._advBidxc.isAdServerLoaded=!1,this._advBidxc.pub=o,void 0!==t&&(this._advBidxc.domain=t.location.hostname,t.advBidxc?this._advBidxc=t.advBidxc:(this._advBidxc.loadGPT=setTimeout((()=>this.loadGPT()),1e3),t.advBidxc=this._advBidxc,this.loadMNETScript())),this}loadGPT(){t.advBidxc&&!t.advBidxc.isAdServerLoaded&&(_t(t,t.advBidxc.limitedAds),t.advBidxc.isAdServerLoaded=!0)}loadMNETScript(){vt({id:"mnet-script",tagSrc:"https://"+this.yhDn+"/bidexchange.js?cid="+this._advBidxc.customerId+"&version="+this._advBidxc.version+"&dn="+this._advBidxc.domain+"&ysection="+encodeURIComponent(this._advBidxc.pub?.section)+"&yregion="+encodeURIComponent(this._advBidxc.pub?.region)+"&ylang="+encodeURIComponent(this._advBidxc.pub?.lang)+"&ysite="+encodeURIComponent(this._advBidxc.pub?.site)+"&ydevice="+encodeURIComponent(this._advBidxc.pub?.device),WIN:t})}setSection(t){const{pt:e}=t;return"home"===e?"main":"utility"===e?"utility":"ros"}setRegion(t){const e=t.region,i=t.lang;if(e)return e;if(i){const t=i.toLocaleLowerCase().split("-");return t[1]??t[0]}return this._advBidxc.pub?.region||""}limitDataProcessing(){this._advBidxc.execute.push((()=>{this._advBidxc.limitDataProcessing(!0)}))}updateMNETKVS(t){const{url:e,...i}=t;this._advBidxc.execute.push((()=>{this._advBidxc.update({pub:{...i},url:e})}))}getMnetKVs(t,e){const i={};return P.forEach((s=>{e.hasOwnProperty(s)?i[s]=wt(e[s]):i[s]=t[s]||""})),""===i.lu&&(i.lu=p),Array.isArray(i.hashtag)&&(i.hashtag=i.hashtag.join(",")),Array.isArray(i.bucket)&&(i.bucket=i.bucket.join(",")),""===i.hashtag&&delete i.hashtag,i}createPublisherBlob(t){const e={lmsid:t.lmsid,lu:t.lu,pct:t.pct,pd:t.pd,pstaid:t.pstaid,pt:t.pt,site:t.site,ver:t.ver};return[Object.entries(e).map((t=>t.join(":"))).join(";"),"",t.spaceid,"","","",t.bucket,""].join("|")}sendMnetKvs(t,e){const i=this.getMnetKVs(t,e),{bucket:s,cobrand:n,hashtag:o}=i,r=i.lang,a=this.createPublisherBlob(i),c=i.hashtag?{k5:{key:u,value:o}}:{},d={k1:{key:"publisherblob",value:a},k2:{key:l,value:wt(s)},k3:{key:g,value:n},k4:{key:f,value:r},...c};this.setCustomMNETKeyValues(d);const h=i.mchnm||this._advBidxc.mchnm,p=this.setSection(i),m=this.setRegion(i),y=i.site||this._advBidxc.pub?.site,b=i.device||this._advBidxc.pub?.device,_=i.url||"";this.updateMNETKVS({device:b,lang:r,mchnm:h,region:m,section:p,site:y,url:_})}setCustomMNETKeyValues(t){this._advBidxc.execute.push((()=>{this._advBidxc.setCustomKeyValues(t)}))}},i13nStore:new class{currentI13n={};regions={};constructor(){return this}updateCurrent(t){this.currentI13n={...this.currentI13n,...t};const e=t.pstaid??t.lpstaid;e&&this.putRegion(e,t)}clearKeysFromCurrent(t){t.forEach((t=>{this.currentI13n[t]&&delete this.currentI13n[t]}))}putRegion(t,e){this.regions[t]?this.regions[t]={...this.regions[t],...e}:this.regions[t]=e}getRegion(t){return this.regions[t]}getKeyDifferences(t){return Object.keys(t).reduce(((e,i)=>{let s=t[i],n=this.currentI13n[i];return M.hasOwnProperty(i)&&(s=At(s).join(","),n=Array.isArray(n)?n.join(","):n),this.currentI13n.hasOwnProperty(i)?s!==n&&(e[i]=t[i]):e[i]=t[i],e}),{})}},secureController:new class{config;_iframe;_iframeReady;_observer;_commandQueue;targetOrigin;constructor(){this.config={},this._iframeReady=!1,this._commandQueue=[],this.targetOrigin="https://s.yimg.com"}handlePostMessage=t=>{if(t.origin!==this.targetOrigin)return;const{type:e}=t.data;switch(e){case i:this._iframeReady=!0;for(let t=0;t<this._commandQueue.length;t++)this.postMessageToIframe({payload:this._commandQueue[t][1],type:this._commandQueue[t][0]});this._commandQueue=[];break;case r:const{id:e,size:s}=t.data.payload;if(s&&Array.isArray(s)){const t=document.getElementById(e);t?.querySelector("iframe")?.setAttribute("style",`width:${s[0]}px;height:${s[1]}px;border:0px;margin:0;`)}}};handleIntersection=t=>{const e=t.map((t=>({id:t.target.id,intersectionRatio:t.intersectionRatio,isIntersecting:t.isIntersecting,isVisible:t.isVisible,time:t.time})));this._iframeReady?this.postMessageToIframe({payload:e,type:n}):this._commandQueue.push([n,e])};handleTabFocus=()=>{this.postMessageToIframe({payload:!0,type:c})};createGPTIframe(){this._iframe=document.createElement("iframe"),this._iframe.setAttribute("src",`https://s.yimg.com/aaq/benji-safe/1.0.51/gpt.html?o=${encodeURIComponent(t.location.origin)}`),this._iframe.onload=()=>{this.initIframe(),this.initPagei13n()},this._iframe.style.display="none",document.body.appendChild(this._iframe)}createIframes(t){const{positions:e}=t;Object.keys(e).forEach((t=>{const e=document.getElementById(t);if(!e?.querySelector("iframe")){this._observer?.observe(e);const i=document.createElement("iframe");i.setAttribute("src",`https://s.yimg.com/aaq/benji-safe/1.0.51/sda.html?p=${t}`),i.setAttribute("scrolling","no"),i.setAttribute("style","border:0px;margin:0px;");document.createElement("div").id=t,e?.appendChild(i)}}))}init(e){if("undefined"!=typeof window){if(this.config=e,!this._iframe){window.addEventListener("message",this.handlePostMessage),this._observer=new IntersectionObserver(this.handleIntersection,{threshold:.5});const{tabFocus:e}=this.config.setting.refresh;if(e){const{outOfFocusDuration:i}=e;t.addEventListener(B.tabFocus,this.handleTabFocus),$(i)}this.createGPTIframe()}this.createIframes(e)}}initIframe(){this.postMessageToIframe({payload:{config:this.config},type:e})}initPagei13n(){this.postMessageToIframe({payload:{},type:s})}render(t){this._iframeReady?this.postMessageToIframe({payload:{config:t},type:o}):this._commandQueue.push([o,{config:t}])}start(t){this.init(t),this._iframeReady?this.postMessageToIframe({type:a}):this._commandQueue.push([a,{config:t}])}postMessageToIframe(t){this._iframe?.contentWindow?.postMessage(t,this.targetOrigin)}},store:new class{constructor(){return this}add(t,e,i){return void 0===this[t]?(this[t]={[e]:i},i):void 0===this[t][e]?(this[t][e]=i,i):void 0}delete(t,e){this[t]&&this[t][e]&&delete this[t][e]}getAdComponent(t,e){if(void 0!==this[t])return this[t][e]}getAdComponentById(t){const e=Object.entries(this);for(let i=0;i<e.length;i++){const[,s]=e[i];if(void 0!==s[t])return s[t]}}getRegionAdComponents(t){return"object"==typeof this[t]?Object.values(this[t]):[]}},on:function(t,e){(function(t){return t===D||t===U})(t)&&(G[t]||(G[t]=[]),G[t].push(e))},start:function(e){this.config={...e,event:e.event||{},feature:e.feature||{},i13n:e.i13n||{},setting:e.setting||{}},void 0===this.config.setting.tracking?.performance&&(this.config.setting.tracking={...this.config.setting.tracking,performance:true}),Xt.call(this),!0===this.config.setting.tracking?.performance&&Dt.call(this),!0===this.config.setting.tracking?.metrics&&Wt.call(this),!0===this.config.setting.tracking?.debug&&Gt.call(this);const{feature:{headerBidding:i},setting:{headerBidder:s}}=this.config,n=((t="")=>("string"==typeof t?Array.from(t).map((t=>t.charCodeAt(0).toString(16))).join(""):"").substring(0,150))(It(t)),{useSecure:o=!1}=this.config.setting,{allowOnlyNonPersonalizedAds:r,allowOnlyLimitedAds:a}=e.setting?.consent||{},c=e.setting?.allowOnlyLimitedAds||a;i&&s?.customerId?this.hbc.start({customerId:s.customerId,i13n:this.config.i13n,limitedAds:!!c}):_t(t,!!c);const d={};if(this.config.feature&&S.forEach((t=>{this.config.feature[t]&&(d[t]=this.config.feature[t])})),this.gpt.setupGPTService(d),!o&&(Rt(this,t),this.config.setting.refresh)){nt.call(this);const{tabFocus:e,requireUserAction:i}=this.config.setting.refresh;if(e){const{outOfFocusDuration:i}=e;$(i),t.addEventListener(B.tabFocus,(()=>{Object.keys(it).forEach((t=>{(0,it[t])()})),st.length=0}))}i&&ot()}!n||r||c||this.gpt.setPublisherProvidedId(n),r?this.gpt.setPrivacySettings(k):c&&(this.gpt.setPrivacySettings(A),this.hbc.activated&&this.hbc.limitDataProcessing()),!0===this.config.setting.lazyLoad?this.gpt?.enableLazyLoad():this.config.setting.lazyLoad&&this.gpt?.enableLazyLoad(this.config.setting.lazyLoad);const{positions:l}=this.config;o?this.secureController.start(this.config):lt.call(this,l);const{setting:{renderOnStart:g=h}}=this.config;!0===g&&t.addEventListener("DOMContentLoaded",(()=>{o?this.secureController.render():ut.call(this)})),t.addEventListener(T,(t=>{const e=t.detail;o?this.secureController.render(e.positions):ut.call(this,e.positions)})),t.wafer?bt():t.addEventListener(R.waferReady,(function(){bt()})),!1!==this.config.feature?.collapseWhenNoFill&&Tt.call(this),!1!==this.config.feature?.adjustMinHeight&&Pt.call(this),this.config.feature?.enableEdgeToEdge&&Yt.call(this),function(t){vt({id:C,tagSrc:_,WIN:t})}(t),(t=>{const e=new CustomEvent(B.benjiReady);t.dispatchEvent(e)})(t),this.isReady=!0}};Zt.render=ut,Zt.refresh=function(t,e){const i=K(this,t);i?.forEach((t=>{(!e?.checkViewport||e?.checkViewport&&H(t?.id))&&t?.refresh()}))},Zt.destroy=function(t){const e=K(this,t);e?.forEach((t=>{t?.destroy()}))},Zt.updateI13N=function(t,e=[]){if(!t||"object"!=typeof t)return;const i=this.i13nStore.getKeyDifferences(t);(Object.keys(i).length||e.length)&&function(t,e,i){const{gpt:s,hbc:n}=t,o={};let r;e&&e.url&&(r=e.url,s.setPageUrl(r)),St(O,e,o),i&&i.length&&"string"!=typeof i&&(i?.forEach((t=>{s.clearTargeting(t)})),t.i13nStore.clearKeysFromCurrent(i)),Object.keys(o).length>0&&(s?.setTargeting(o),t.i13nStore.updateCurrent(o),n.activated&&s.getTargetings(P,(t=>{n.sendMnetKvs(t,{...o,url:r})})))}(this,i,e)},Zt.isReady=!1;const te=Zt;!function(){if(t){const e=t.benji?.config&&Object.assign({},t.benji?.config);t.benji=te,e&&t.benji.start(e)}}()}();
//# sourceMappingURL=benji-1.0.51.js.map
