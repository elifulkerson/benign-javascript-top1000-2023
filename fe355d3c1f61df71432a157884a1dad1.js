!function(n,i){if(n.Ya=n.Ya||{},Ya.Rum)throw new Error("Rum: interface is already defined");var e=n.performance,t=e&&e.timing&&e.timing.navigationStart||Ya.startPageLoad||+new Date,a=n.requestAnimationFrame,r=Ya.Rum={enabled:!!e,vsStart:document.visibilityState,vsChanged:!1,_defTimes:[],_defRes:[],_deltaMarks:{},_markListeners:{},_settings:{},_vars:{},init:function(n,i){r._settings=n,r._vars=i},getTime:e&&e.now?function(){return e.now()}:Date.now?function(){return Date.now()-t}:function(){return new Date-t},time:function(n){r._deltaMarks[n]=[r.getTime()]},timeEnd:function(n,i){var e=r._deltaMarks[n];e&&0!==e.length&&e.push(r.getTime(),i)},sendTimeMark:function(n,i,e,t){void 0===i&&(i=r.getTime()),r._defTimes.push([n,i,t]),r.mark(n,i)},sendDelta:function(n,i,e,t){var a,s=r._deltaMarks;s[n]||void 0===i||(a=t&&t.originalEndTime?t.originalEndTime:r.getTime(),s[n]=[a-i,a,e])},sendResTiming:function(n,i){r._defRes.push([n,i])},sendRaf:function(n){var i=r.getSetting("forcePaintTimeSending");if(a&&(i||!r.isVisibilityChanged())){var e="2616."+n;a(function(){!i&&r.isVisibilityChanged()||(r.getSetting("sendFirstRaf")&&r.sendTimeMark(e+".205"),a(function(){!i&&r.isVisibilityChanged()||r.sendTimeMark(e+".1928")}))})}},isVisibilityChanged:function(){return r.vsStart&&("visible"!==r.vsStart||r.vsChanged)},mark:e&&e.mark?function(n,i){e.mark(n+(i?": "+i:""))}:function(){},getSetting:function(n){var i=r._settings[n];return null===i?null:i||""},on:function(n,i){"function"==typeof i&&(r._markListeners[n]=r._markListeners[n]||[]).push(i)},sendTrafficData:function(){},finalizeLayoutShiftScore:function(){},finalizeLargestContentfulPaint:function(){},getLCPAdditionalParams:function(){}};document.addEventListener&&document.addEventListener("visibilitychange",function s(){Ya.Rum.vsChanged=!0,document.removeEventListener("visibilitychange",s)})}(window);Ya.Rum.observeDOMNode=window.IntersectionObserver?function(e,i,n){var t=this,o=Ya.Rum.getSetting("forcePaintTimeSending");!function r(){if(o||!t.isVisibilityChanged()){var s="string"==typeof i?document.querySelector(i):i;s?new IntersectionObserver(function(i,n){!o&&t.isVisibilityChanged()||(Ya.Rum.sendTimeMark(e),n.unobserve(s))},n).observe(s):setTimeout(r,100)}}()}:function(){};!function(){if(window.PerformanceLongTaskTiming){var e=function(e,n){return(e=e.concat(n)).length>300&&(e=e.slice(e.length-300)),e},n=Ya.Rum._tti={events:[],eventsAfterTTI:[],fired:!1,observer:new PerformanceObserver(function(r){var t=r.getEntries();n.events=e(n.events,t),n.fired&&(n.eventsAfterTTI=e(n.eventsAfterTTI,t))})};n.observer.observe({entryTypes:["longtask"]})}}();!function(){var e,t=[];function n(){var n=Ya.Rum.getSetting("clck"),i=t.join("\r\n");if((t=[],e=null,n)&&!(navigator.sendBeacon&&Ya.Rum.getSetting("beacon")&&navigator.sendBeacon(n,i))){var a=new XMLHttpRequest;a.open("POST",n),a.send(i)}}Ya.Rum.send=function(i,a,o,s,g,u,r){clearTimeout(e);var m=Ya.Rum.getSetting("slots"),c=Ya.Rum.getSetting("experiments"),v=["/reqid="+Ya.Rum.getSetting("reqid"),r?"/"+r.join("/"):"",a?"/path="+a:"",g?"/events="+g:"",m?"/slots="+m.join(";"):"",c?"/experiments="+c.join(";"):"",o?"/vars="+o:"","/cts="+(new Date).getTime(),"/*"];t.push(v.join("")),t.length<42?e=setTimeout(n,15):n()}}();!function(){var e,n,t=-1,r=function(e,n,t){var r,i;return function(a){n.value>=0&&(a||t)&&((i=n.value-(r||0))||r===undefined)&&(r=n.value,n.delta=i,e(n))}},i=function(){return"v3-".concat(Date.now(),"-").concat(Math.floor(Math.random()*(9e12-1))+1e12)},a=function(){return window.__WEB_VITALS_POLYFILL__?window.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,n=performance.navigation.type,t={entryType:"navigation",startTime:0,type:2==n?"back_forward":1===n?"reload":"navigate"};for(var r in e)"navigationStart"!==r&&"toJSON"!==r&&(t[r]=Math.max(e[r]-e.navigationStart,0));return t}()):window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},o=function(e,n){var r=a(),o="navigate";return t>=0?o="back-forward-cache":r&&(o=document.prerendering||function(){var e=a();return e&&e.activationStart||0}()>0?"prerender":document.wasDiscarded?"restore":r.type.replace(/_/g,"-")),{name:e,value:void 0===n?-1:n,rating:"good",delta:0,entries:[],id:i(),navigationType:o}},c=function(e,n,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver(function(e){Promise.resolve().then(function(){n(e.getEntries())})});return r.observe(Object.assign({type:e,buffered:!0},t||{})),r}}catch(i){}},u=0,s=Infinity,d=0,f=function(e){e.forEach(function(e){e.interactionId&&(s=Math.min(s,e.interactionId),d=Math.max(d,e.interactionId),u=d?(d-s)/7+1:0)})},p=function(){return e?u:performance.interactionCount||0},v=function(){"interactionCount"in performance||e||(e=c("event",f,{type:"event",buffered:!0,durationThreshold:0}))},l=0,g=function(){return p()-l},m=[],h={},y=function(e){var n=m[m.length-1],t=h[e.interactionId];if(t||m.length<10||e.duration>n.latency){if(t)t.entries.push(e),t.latency=Math.max(t.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};h[r.id]=r,m.push(r)}m.sort(function(e,n){return n.latency-e.latency}),m.splice(10).forEach(function(e){delete h[e.id]})}},E=function(){m=[],h={},n.value=-1,n.delta=0,n.entries=[],n.id=i()},T=function(e,i){var a,u;return i=i||{},u=function(){v(),n=o("INP");var u,s,d,f=function(e){e.forEach(function(e){(e.interactionId&&y(e),"first-input"===e.entryType)&&(!m.some(function(n){return n.entries.some(function(n){return e.duration===n.duration&&e.startTime===n.startTime})})&&y(e))});var t,r=(t=Math.min(m.length-1,Math.floor(g()/50)),m[t]);r&&r.latency!==n.value&&(n.value=r.latency,n.entries=r.entries,a())},h=c("event",f,{durationThreshold:i.durationThreshold||40});a=r(e,n,i.reportAllChanges),h&&(h.observe({type:"first-input",buffered:!0}),u=function(){f(h.takeRecords()),n.value<0&&g()>0&&(n.value=0,n.entries=[]),a(!0)},d=function T(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||(u(e),s&&(removeEventListener("visibilitychange",T,!0),removeEventListener("pagehide",T,!0)))},addEventListener("visibilitychange",d,!0),addEventListener("pagehide",d,!0),function(e){addEventListener("pageshow",function(n){n.persisted&&(t=n.timeStamp,e(n))},!0)}(function(){E(),l=p(),a=r(e,n,i.reportAllChanges)}))},document.prerendering?addEventListener("prerenderingchange",function(){return u()},!0):u(),function(){return a}};!function(){var e=!1,n=undefined,t=T(function(e){if(n={value:e.value,params:{entriesCount:e.entries.length,interactionsCount:p()},opts:{}},e.entries.length){var t=e.entries.sort(function(e,n){return n.duration-e.duration||n.processingEnd-n.processingStart-(e.processingEnd-e.processingStart)})[0];n.params.name=t.name,n.params.js=e.entries.reduce(function(e,n){return e+n.processingEnd-n.processingStart},0),n.params.processTime=t.processingEnd-t.processingStart,n.opts.originalEndTime=t.startTime+t.duration,t.target&&Ya.Rum.getSelector&&(n.params.target=Ya.Rum.getSelector(t.target))}});function r(){e||(e=!0,t()(!0),n!==undefined&&Ya.Rum.sendDelta("inp",n.value,n.params,n.opts))}function i(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||r()}addEventListener("visibilitychange",i,!0),addEventListener("pagehide",i,!0),Ya.Rum.finalizeINP=r,Ya.Rum.resetINP=function(){E(),n=undefined,e=!1}}()}();Ya.Rum.init({"beacon":true,"reqid":"1697433437912033-16046561403274797807-balancer-l7leveler-kubr-yp-vla-118-BAL-4619","slots":["883662,0,85"],"clck":"https://yandex.kz/clck/click","longTaskMetric":true,"scrollMetric":true,"scrollLatencyMetric":true,"sendAutoResTiming":true},{"143":"28.15.2048.3503.523","287":163,"1961":0,"1964":0,"1965":0,"-project":"morda","-page":"desktop.gramps_lite","-platform":"desktop","-env":"production","-version":"2023-10-12-392","-blocker":"","-additional":"{}"});