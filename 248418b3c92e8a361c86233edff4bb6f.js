(window.AmazonUIPageJS ? AmazonUIPageJS : P).when('afterLoad').execute(function() {
(function(d,h,z){var w=d.ue||{},p=function(){},n=function(d){return function(b,g){g||(g="ERROR");b=b&&b.stack&&b.message?b:JSON.stringify(b);d({logLevel:g,attribution:"MSAVowelsJavascriptAssets",message:b})}}(d.ueLogError||p),t=function(d){return function(b,g){d("MSAVowelsJavascriptAssets:"+b,g)}}(w.count||p),u=function(d){return function(){try{return d.apply(this,arguments)}catch(b){n(b,"FATAL")}}},k=function(){var g=Array.prototype.slice.call(arguments,0);g[0]=u(g[0]);return d.setTimeout.apply(null,
g)},v=function(){t("invoked",1);var g=function(){try{var d=h.createElement("link").relList.supports("preload")}catch(H){d=!1}return function(b){var f=d?h.createElement("link"):new Image;f.onerror=f.onload=u(function(){f&&f.parentElement&&f.parentElement.removeChild(f)});d?(f.rel="preload",f.as="image",f.referrerPolicy="strict-origin-when-cross-origin",f.href=b,h.head.appendChild(f)):(f.style.display="none",f.referrerPolicy="strict-origin-when-cross-origin",f.src=b,h.documentElement.appendChild(f))}}(),
b=function(b){b={events:[{data:b}]};b=JSON.stringify(b);var g=p(d.location.href),f="https://unagi-na.amazon.com";g&&g.toLowerCase().endsWith("amazon.cn")&&(f="https://unagi.amazon.cn");g=f+"/1/events/com.amazon.Vowels.ClientMetrics";navigator&&navigator.sendBeacon?navigator.sendBeacon(g,b):fetch(g,{method:"POST",body:b}).catch(function(b){n(b,"WARN")})},p=function(b){return(b=b.match(/^https?:\/\/([^\/?#]+)(?:[\/?#]|$)/i))&&b[1]};k(g,0,"https://redirect.prod.experiment.routing.cloudfront.aws.a2z.com/x.png");
k(function(){P.when("3p-promise").execute(function(g){function p(){for(var a=new URLSearchParams,c=0;c<arguments.length;c++){var b=arguments[c],l;for(l in b)a.set(l,b[l])}return a.toString()}function f(){for(var a={},c=0;c<arguments.length;c++){var b=arguments[c],l;for(l in b)a[l]=b[l]}return a}function k(a,c){var A=a.name,l=a.startTime||0,e=a.connectEnd||0,x=a.connectStart||0,d=a.domainLookupEnd||0,g=a.domainLookupStart||0,m=a.requestStart||0,k=a.responseEnd||0,h=a.responseStart||0,p=a.secureConnectionStart||
0,t=a.transferSize||0,n=a.duration||0;0>=n&&0<l&&0<k&&(n=k-l);var q={src:A,sy:c+".2023-05-05"};0<=A.indexOf("/images/G/01/msa/vowels/metrics")?q.l=r(n):(0<t&&(q.siz=t),0<h-m&&0<h&&0<m&&(q.ttf=r(h-m)),0<k-h&&0<k&&0<h&&(q.con=r(k-h)),0<n&&(q.dur=r(n)));0<d-g&&0<d&&0<g&&(q.dns=r(d-g));0<e-x&&0<e&&0<x&&(q.tcp=r(e-x));0<e-p&&0<e&&0<p&&(q.tls=r(e-p));"serverTiming"in a&&a.serverTiming.slice(0,15).forEach(function(c){var a="st_"+c.name,e=c.description.substring(0,Math.min(64,c.description.length));q[a]=
encodeURIComponent(c.duration+";"+e)});a=f(B,q);b(a)}function u(a){var c=f(B,{src:a,error:1}),b=m.now();return fetch(a).then(function(l){var e=m.now();var d=l.headers.get("x-cache")||"";d=0<=d.indexOf("cloudfront")?"c":0<=d.indexOf("akamai")?"a":0<=d.indexOf("fastly")?"f":"u";if(!l.ok)throw c.l=r(e-b),c.status=l.status,c.sy=d+".2023-05-05",v(d,c),c;l={name:a,duration:e-b};e=m.getEntriesByName(a);k(1===e.length?e[0]:l,d);return{cdn:d,url:a}},function(a){c.message=a.message;c.sy="u.2023-05-05";v("u",
c);throw a;})}function v(a,c){try{var d=new URL(c.src)}catch(e){throw e;}var l=c.status;"u"===a?w(d,l).then(function(a){a.forEach(function(a){c.sy=a+".2023-05-05";b(c)})}):b(c)}function w(a,c){var b=[];a=[y(a,"f"),y(a,"c"),y(a,"a")];return g.all(a.map(D)).then(function(a){a.forEach(function(a){"fulfilled"===a.status?c&&a.value.statusCode===c&&b.push(a.value.cdn):c===z&&b.push(a.reason)});return 0<b.length?b:["u"]})}function D(a){return a.then(function(a){return{value:a,status:"fulfilled"}},function(a){return{reason:a,
status:"rejected"}})}function y(a,c){a.hostname=E[c];return fetch(a).then(function(a){return{cdn:c,statusCode:a.status}}).catch(function(a){n(a,"WARN");throw c;})}function F(){for(var a=new RegExp("^https://(.*.(images|ssl-images|media)-amazon.(?:com|cn)|"+d.location.hostname+")/images/","i"),c={},b=0,g="",e,f,h=m.getEntriesByType("resource"),k=h.length-1;0<=k;k--)e=h[k],0<e.transferSize&&e.transferSize>=e.encodedBodySize&&(e=a.exec(String(h[k].name)))&&3===e.length&&(e=e[1],f=c[e]=(c[e]||0)+1,f>
b&&(g=e,b=f));return g}var C=navigator.userAgent,r=Math.round,m=d.performance,B={s:h.domain,u:d.location.pathname,tz:C},E={a:"a.media-amazon.com",c:"dk9ps7goqoeef.cloudfront.net",f:"f.media-amazon.com"},G=d.URLSearchParams&&d.fetch;m&&"function"===typeof m.getEntriesByName&&"function"===typeof m.getEntriesByType&&"function"===typeof m.now&&0>C.toLowerCase().indexOf("firefox")&&G?function(){var a=F()||"m.media-amazon.com";u("https://"+a+"/images/G/01/msa/vowels/metrics.jpg?"+p({time:+new Date,rand:r(1E6*
Math.random()).toString()})).then(function(){var c="STID"+r(1E6*Math.random()).toString()+"-"+ +new Date;return u("https://"+a+"/images/G/01/msa/vowels/metrics._"+c+"_.jpg")}).then(function(c){c=c.cdn;t("cdn:"+c,1);var b=m.getEntriesByType("resource");if(b===z||0>=b.length)c=0;else{var d="https://"+a+"/images/",e,g=0;for(e=0;e<b.length&&3>g;e++){var f=b[e];var h=f.name;0<f.transferSize&&f.transferSize>=f.encodedBodySize&&0===h.indexOf(d)&&!(0<h.indexOf("/images/G/01/msa/vowels/metrics"))&&(k(f,c),
g++)}c=g}t("resourceCount",c)},function(a){t("resourceError",1);a instanceof TypeError&&a.message&&a.message.includes("Failed to fetch")?n(a,"WARN"):n(a,"ERROR")})}():t("unsupportedBrowser",1)})},4E3)};"loading"!==h.readyState?k(v,1E3):d.addEventListener&&d.addEventListener("DOMContentLoaded",function(){k(v,1E3)});t("registered",1)})(window,document);
});