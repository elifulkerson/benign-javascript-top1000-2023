"use strict";(self.webpackChunkxhh=self.webpackChunkxhh||[]).push([[30349],{42512:
/*!*****************************************!*\
  !*** ./webapp-static/js/Utils/Dates.js ***!
  \*****************************************/(e,t,a)=>{a.r(t),a.d(t,{IntervalMessages:()=>f,calculateDisabledDates:()=>v,formatSeconds:()=>p,getCurrentSeconds:()=>d});var n=a(/*! date-fns */84125),r=a(/*! date-fns */65882),c=a(/*! date-fns */71331),o=a(/*! date-fns */63715),s=a(/*! date-fns */15843),i=a(/*! date-fns */91474),u=a(/*! HHC/Debug */64619),l=a(/*! Modules/formatDate */16291),p=function(e){var t=new Date(0,0,0,0,0,e),a=t.getHours()>0?"HH:mm:ss":"mm:ss";return(0,l.default)(t,a)},h=function(e){return Math.floor(e/1e3)},d=function(){return h(Date.now())},f=function(e){var t=Object.keys(e).sort((function(e,t){return Math.sign(t-e)}));return{get:function(a){var n=h(a),r=t.findIndex((function(e){return e<n}));try{return e[t[r]].translation}catch(n){u.default.log("error out","messageIndex is wrong",{error:n,humanDatesList:t,messageIndex:r,humanDatesRules:e,timeLeft:a})}return null}}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date;if((0,n.Z)(e,(0,r.Z)(t)))return[];var a=(0,c.Z)([(0,r.Z)(e),(0,o.Z)(t,1)]),u=(0,s.Z)(e);return(0,n.Z)(a,u)?(0,i.Z)({start:a,end:u}).map((function(e){return(0,l.default)(e,"y-MM-dd")})):[]}},85253:
/*!**********************************************************************!*\
  !*** ./webapp-static/lux/components/Hhcaptcha/index.tsx + 2 modules ***!
  \**********************************************************************/(e,t,a)=>{a.d(t,{Z:()=>M});var n=a(10724),r=a(70789),c=a(7139),o=a.n(c),s=a(17390),i=a(89643),u=a(26421),l=a(56535),p=a(61515),h=a.n(p),d=a(22856),f=a.n(d),v=a(53721),m=a.n(v),g=a(74664),x=a(9311),y=a(42343),j=a(71909),b=a(28396),S=a.n(b),Z=a(89196),w=a.n(Z),k=a(52730),C=a.n(k);const N="hhcaptcha-picture--vmsU7Eiq6gnpS3flvN1o",E="hhcaptcha-image-control--e1dZtkH6_q9jieyNXfhQ",R="hhcaptcha-picture-container--KhzxZ7H6lsdZLKudSgaI";var T,F,O=a(16763);!function(e){e.Russian="RU",e.English="EN"}(F||(F={}));var D="hhсaptcha.renew.text",P=(T={},(0,j.Z)(T,F.English,"hhсaptcha.lang.EN"),(0,j.Z)(T,F.Russian,"hhсaptcha.lang.RU"),T),I=function(e){var t=e.trls,a=e.captchaUrl,n=e.getCaptcha,r=e.formLang,c=e.setFormLang,o=function(e){return e===F.Russian?F.English:F.Russian}(r);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("img",{src:a,className:N,"data-qa":"account-captcha-picture",alt:"captcha"}),(0,O.jsx)(m(),{base:2}),(0,O.jsxs)("div",{className:E,children:[(0,O.jsx)(C(),{Element:S(),icon:(0,O.jsx)(w(),{highlighted:Z.IconColor.Blue70,initial:Z.IconColor.Blue50,view:Z.IconView.ArrowPath,kind:Z.IconKind.Default,scale:Z.IconScale.Small}),iconPosition:k.LinkIconPosition.Left,onClick:function(){return n(!1,r)},children:t[D]}),(0,O.jsx)(C(),{Element:S(),onClick:function(){n(!1,o),c(o)},"data-qa":"captcha-language",children:t[P[o]]})]})]})};I.displayName="components/Hhcaptcha/HhcaptchaImage/HhcaptchaImage";const B=(0,g.Z)(I);var H="hhсaptcha.error",L="hhсaptcha.placeholder",K="hhсaptcha.info",_=(0,u.makeSetStoreField)("hhcaptcha"),q=(0,u.makeSetStoreField)("captchaText"),U=function(e){var t=e.trls,a=(0,i.useDispatch)(),c=(0,y.v)((function(e){return e.hhcaptcha})),u=(0,s.useState)(""),d=(0,r.Z)(u,2),v=d[0],g=d[1],j=(0,s.useState)(""),b=(0,r.Z)(j,2),S=b[0],Z=b[1],w=(0,s.useState)(F.Russian),k=(0,r.Z)(w,2),C=k[0],N=k[1],E=(0,s.useCallback)((0,n.Z)(o().mark((function e(){var t,n,r,s,i,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>0&&void 0!==u[0]&&u[0],r=u.length>1?u[1]:void 0,e.next=4,x.Z.post("/captcha",null,{params:{lang:r}});case 4:s=e.sent,i=null==s||null===(t=s.data)||void 0===t?void 0:t.key,a(_({isBot:!0,captchaState:c.captchaState,captchaError:n,captchaKey:i})),g("/captcha/picture?key=".concat(i));case 8:case"end":return e.stop()}}),e)}))),[a,c.captchaState]),T=(0,s.useCallback)((0,n.Z)(o().mark((function e(){var t,a=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:F.Russian,c.isBot){e.next=4;break}return Z(""),e.abrupt("return");case 4:if(c.captchaKey){e.next=8;break}return e.next=7,E(c.captchaError||!1,t);case 7:e.sent;case 8:Z("");case 9:case"end":return e.stop()}}),e)}))),[E,c]);return(0,s.useEffect)((function(){T(C)}),[C,T]),(0,s.useEffect)((function(){a(q(S))}),[S,a]),(0,O.jsxs)("div",{className:c.isBot?"":"g-hidden",children:[(0,O.jsx)(m(),{base:4}),(0,O.jsx)(f(),{Element:"span",children:t[K]}),(0,O.jsx)(m(),{base:3}),(0,O.jsxs)("div",{className:R,children:[(0,O.jsx)(B,{captchaUrl:v,getCaptcha:E,formLang:C,setFormLang:N}),(0,O.jsx)(m(),{base:4}),(0,O.jsx)(h(),{name:"captchaText",value:S,onChange:function(e){Z(e)},type:p.InputType.Text,"data-qa":"account-captcha-input",spellCheck:"false",autoCorrect:"off",autoCapitalize:"off",placeholder:t[L]})]}),(0,O.jsx)(m(),{base:2}),(0,O.jsx)(l.FormError,{show:c.captchaError||!1,"data-qa":"account-captcha-error",children:t[H]})]})};U.displayName="components/Hhcaptcha/index/Hhcaptcha";const M=(0,g.Z)(U)},5504:
/*!*********************************************************!*\
  !*** ./webapp-static/lux/components/OTP/CodeSender.tsx ***!
  \*********************************************************/(e,t,a)=>{a.d(t,{Z:()=>E});var n=a(/*! @babel/runtime/helpers/asyncToGenerator */10724),r=a(/*! @babel/runtime/helpers/slicedToArray */70789),c=a(/*! @babel/runtime/regenerator */7139),o=a.n(c),s=a(/*! react */17390),i=a(/*! react-redux */89643),u=a(/*! @hh.ru/analytics-js */81546),l=a.n(u),p=a(/*! bloko/blocks/form */56535),h=a(/*! bloko/blocks/link */52730),d=a.n(h),f=a(/*! bloko/common/trl */99618),v=a(/*! Utils/Dates */42512),m=a(/*! lux/components/Hhcaptcha */85253),g=a(/*! lux/components/Recaptcha */75007),x=a(/*! lux/components/translation */74664),y=a(/*! lux/hooks/useCaptcha */30110),j=a(/*! lux/hooks/useTimer */80865),b=a(/*! lux/modules/fetcher */9311),S=a(/*! lux/modules/useSelector */42343),Z=a(/*! lux/requests/notifications/showDefaultError */80624),w=a(/*! react/jsx-runtime */16763),k="account.connect.merge_by_code.send",C="account.connect.merge_by_code.wait",N=function(e){var t=e.login,a=e.trls,c=e.isSignupPage,u=e.url,x=e.otpType,N=e.operationType,E=e.recaptchaClassName,R=void 0===E?"":E,T=(0,s.useState)(null),F=(0,r.Z)(T,2),O=F[0],D=F[1],P=(0,S.v)((function(e){return e.otp})).secondsUntilNextSend,I=(0,S.v)((function(e){return e.recaptcha})),B=(0,S.v)((function(e){return e.hhcaptcha})),H=(0,j.Z)(P),L=(0,r.Z)(H,2),K=L[0],_=L[1],q=(0,i.useDispatch)(),U=(0,s.useRef)(null),M=(0,y.Z)(),W=(0,S.v)((function(e){var t,a=e.postponedActions;return null==a||null===(t=a.vacancy)||void 0===t?void 0:t.vacancyId})),A=(0,s.useCallback)((0,n.Z)(o().mark((function e(){var a,n,r,s,i,p,h,d,f,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null===(a=U.current)||void 0===a?void 0:a.querySelector(".g-recaptcha-response"),r={login:t,otpType:x,operationType:N},s=null,M.addCaptchaParams(r),null!=n&&n.value&&O!==n.value&&(r["g-recaptcha-response"]=n.value,(null==n?void 0:n.value)&&D(n.value)),l().sendHHEventButtonClick("resend_code",{isSignupPage:c,vacancyId:W},{login:t}),e.prev=6,e.next=9,b.Z.postFormData(u,r);case 9:s=e.sent,e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(6),null!==e.t0&&void 0!==e.t0&&null!==(i=e.t0.response)&&void 0!==i&&null!==(p=i.data)&&void 0!==p&&p.recaptcha&&null!==e.t0&&void 0!==e.t0&&null!==(h=e.t0.response)&&void 0!==h&&null!==(d=h.data)&&void 0!==d&&d.hhcaptcha){e.next=17;break}return q((0,Z.Z)(e.t0)),e.abrupt("return");case 17:s?(s.data&&M.updateCaptcha(s.data),_((null===(f=s.data)||void 0===f||null===(v=f.otp)||void 0===v?void 0:v.secondsUntilNextSend)||0)):q((0,Z.Z)());case 18:case"end":return e.stop()}}),e,null,[[6,12]])}))),[t,x,N,M,O,c,W,u,q,_]);return(0,w.jsxs)("div",{ref:U,children:[(0,w.jsx)(g.Z,{WrapperField:s.Fragment,className:R}),(0,w.jsx)(m.Z,{}),((null==I?void 0:I.isBot)||(null==B?void 0:B.isBot))&&(0,w.jsx)(p.FormSeparator,{}),K>0?(0,w.jsx)("p",{suppressHydrationWarning:!0,children:(0,f.format)(a[C],{"{0}":(0,v.formatSeconds)(K)})}):(0,w.jsx)(d(),{appearance:h.LinkAppearance.Pseudo,onClick:A,"data-qa":"oauth-merge-by-code__code-resend",children:a[k]})]})};N.displayName="components/OTP/CodeSender/CodeSender";const E=(0,x.Z)(N)},75007:
/*!**********************************************************!*\
  !*** ./webapp-static/lux/components/Recaptcha/index.jsx ***!
  \**********************************************************/(e,t,a)=>{a.d(t,{Z:()=>S});var n=a(/*! @babel/runtime/helpers/defineProperty */71909),r=a(/*! @babel/runtime/helpers/slicedToArray */70789),c=a(/*! react */17390),o=a(/*! prop-types */98344),s=a.n(o),i=a(/*! bloko/blocks/form */56535),u=a(/*! bloko/blocks/vSpacing */53721),l=a.n(u),p=a(/*! bloko/common/hooks/useTranslations */67381),h=a(/*! HHC/Debug */64619),d=a(/*! lux/components/translation */74664),f=a(/*! lux/modules/useSelector */42343),v=a(/*! react/jsx-runtime */16763);function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,n.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=!1,y=function e(t){var a=t.isBot,n=t.siteKey,r=t.error,o=t.className,s=t.trls,u=t.WrapperField,d=(0,c.useRef)(null),f=(0,c.useRef)(null),m=(0,c.useRef)(null),g=(0,c.useContext)(p.TranslationLangContext);(0,c.useEffect)((function(){if(a){var e;!function(e){if(!x){var t=document.createElement("script");t.src="https://recaptcha.net/recaptcha/api.js?render=explicit&hl=".concat(e,"&_=").concat(Date.now()),document.body.appendChild(t),x=!0}}(g);return function t(){var a;clearTimeout(e),null!==(a=window.grecaptcha)&&void 0!==a&&a.render?function(e,t,a,n){requestAnimationFrame((function(){try{if(null!==n.current)return void window.grecaptcha.reset(n.current);n.current=window.grecaptcha.render(e,{sitekey:a}),t.classList.remove("g-hidden")}catch(e){h.default.log("error out",e,{isRecaptcha:!0})}}))}(f.current,d.current,n,m):e=setTimeout(t,300)}(),function(){clearTimeout(e)}}}),[a,g,r,n]);var y=(0,v.jsx)("div",{ref:f,className:o});return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{ref:d,className:a?"":"g-hidden",children:[(0,v.jsx)("input",{type:"hidden",name:"isBot",value:a}),u?(0,v.jsx)(u,{children:y}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(l(),{base:2}),y]})]}),r&&(0,v.jsx)(i.FormSeparator,{}),(0,v.jsx)(i.FormError,{show:r,children:s[e.trls.error]})]})};y.displayName="components/Recaptcha/index/Recaptcha",y.propTypes={isBot:s().bool,siteKey:s().string,className:s().string,error:s().bool,trls:s().object,WrapperField:s().elementType},y.trls={error:"error.signup.captcha.invalid"};var j=(0,d.Z)(y),b=function(e){var t=(0,f.v)((function(e){return e.recaptcha})),a=(0,c.useRef)(!1),n=(0,c.useState)(!1),o=(0,r.Z)(n,2),s=o[0],i=o[1];return(0,c.useEffect)((function(){i((null==t?void 0:t.isBot)&&a.current),a.current=!(null==t||!t.isBot)}),[t]),(0,v.jsx)(j,g(g({error:s},t),e))};b.displayName="components/Recaptcha/index/RecaptchaWrapper";const S=b},76073:
/*!***********************************************************!*\
  !*** ./webapp-static/lux/components/RowContent/index.tsx ***!
  \***********************************************************/(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(/*! react/jsx-runtime */16763),r=function(e){var t=e.children,a=e.isShrinked?"row-content_schrinked":"row-content";return(0,n.jsx)("div",{className:a,children:t})};r.displayName="components/RowContent/index/RowContent";const c=r},30110:
/*!***********************************************!*\
  !*** ./webapp-static/lux/hooks/useCaptcha.ts ***!
  \***********************************************/(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(/*! react */17390),r=a(/*! react-redux */89643),c=a(/*! @hh.ru/redux-create-reducer */26421),o=a(/*! lux/modules/useSelector */42343),s=(0,c.makeSetStoreField)("recaptcha"),i=(0,c.makeSetStoreField)("hhcaptcha"),u={isBot:!1};const l=function(){var e=(0,r.useDispatch)(),t=(0,o.v)((function(e){return e.hhcaptcha.captchaKey})),a=(0,o.v)((function(e){return e.hhcaptcha.captchaState})),c=(0,o.v)((function(e){return e.recaptcha.captchaState})),l=(0,o.v)((function(e){return e.captchaText})),p=a||c;return{addCaptchaParams:(0,n.useCallback)((function(e,a){e instanceof FormData?(p&&e.append("captchaState",p),t&&e.append("captchaKey",t),l&&e.append("captchaText",l)):(e.captchaText=a||l,t&&(e.captchaKey=t),p&&(e.captchaState=p))}),[t,p,l]),resetCaptcha:(0,n.useCallback)((function(){e([s(u),i(u)])}),[e]),updateCaptcha:(0,n.useCallback)((function(t){var a=t.recaptcha,n=t.hhcaptcha;a&&e(s(a)),n&&e(i(n))}),[e])}}},80865:
/*!*********************************************!*\
  !*** ./webapp-static/lux/hooks/useTimer.ts ***!
  \*********************************************/(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(/*! @babel/runtime/helpers/slicedToArray */70789),r=a(/*! react */17390),c=a(/*! Utils/Dates */42512);const o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=(0,r.useState)(Math.max(e,0)),a=(0,n.Z)(t,2),o=a[0],s=a[1],i=(0,r.useRef)(0);return(0,r.useEffect)((function(){var e=(0,c.getCurrentSeconds)();return i.current=window.setTimeout((function(){var t=(0,c.getCurrentSeconds)()-e,a=o-t;a<0||Number.isNaN(a)?(s(0),clearTimeout(i.current)):s(a)}),1e3),function(){return clearTimeout(i.current)}}),[o]),[o,s]}}}]);
//# sourceMappingURL=30349.ad2ba3f05871d23a0c17.js.map