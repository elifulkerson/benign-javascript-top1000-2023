(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9991],{43829:function(e,t,n){"use strict";n.d(t,{qL:function(){return z},vn:function(){return J},sl:function(){return S},Gh:function(){return O},W6:function(){return A},uu:function(){return U}});var r=n(50029),o=n(59499),i=n(16835),a=n(87794),s=n.n(a),l=n(11163),u=n(67294),d=n(99209),c=n(19488),p=n.n(c),_=n(85893),f=function(){return(0,_.jsxs)("div",{className:p().message,children:[(0,_.jsx)("div",{className:p().messageText,children:"Coś poszło nie tak"}),(0,_.jsx)("div",{className:p().messageText,children:"Nie udało się wczytać podglądu, spr\xf3buj ponownie."})]})},m=function(){return(0,_.jsx)("div",{className:p().message,children:(0,_.jsx)("div",{className:p().messageText,children:"Wystąpił błąd, spr\xf3buj p\xf3źniej."})})},b=n(37531),v="/api/post-author/v1/embeds";function k(){return(k=(0,r.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.Z)(String(v),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})},"json");case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}function x(){return(x=(0,r.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.Z)("".concat("/api/post-author/v1/images","/?mediaType=").concat(t),{method:"post"},"json");case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function h(){return(h=(0,r.Z)(s().mark(function e(t,n){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(String(t),{method:"put",body:n});case 3:e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",null);case 8:case"end":return e.stop()}},e,null,[[0,5]])}))).apply(this,arguments)}function g(){return(g=(0,r.Z)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,b.Z)("".concat(v,"/").concat(t));case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,9]])}))).apply(this,arguments)}var w=n(32799),j=n(39896),C=["̀","́","‎","‏","‪","‫","‬","‭","‮","⁪","⁫","⁬","⁭","⁮","⁯","⁦","⁧","⁨","⁩"],D=["“","”","\xab","\xbb","„","“","‟","”","❝","❞","〝","〞","〟","＂","<q>","</q>","'","`",",,"];function E(e,t,n){return t.reduce(function(e,t){var r=RegExp(t,"g");return e.replace(r,n)},e)}var y=n(7665),N=n(10462),P=n(19050);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var M=(0,u.createContext)(),U=function(){return(0,u.useContext)(M)||{}},Z="ERROR",T="image",S="EDIT",A="PREVIEW",O="STATE_POSTING",z=2e4,B=function(e,t){null!=e&&e.current&&null!=t&&t.current&&(t.current.scrollTop=e.current.scrollTop)},R=function(e){var t=(0,y.cZ)(e)||[];return(0,i.default)(t,1)[0]===e},F=function(e,t){var n,r=I({},t);if(null!=t&&null!==(n=t.image)&&void 0!==n&&n.original&&t.image.transforms){var o=e?336:480,i=e?189:270,a=t.image.transforms["".concat(o,"x").concat(i)];r.image={url:a,width:o,height:i}}else delete r.image;return t.fallback&&(r.title=t.fallback.title||r.title,r.subtitle=t.fallback.subtitle||r.subtitle),r},W=function(e,t){var n,r;null===(n=window.dlApi)||void 0===n||null===(r=n.cmd)||void 0===r||r.push(function(n){"function"==typeof n.uaEvent&&n.uaEvent(e,"OnetPosts",null==t?void 0:t.url)})},J=function(e){var t,n,a,c,p=e.children,b=(0,u.useState)(0),v=b[0],y=b[1],L=(0,u.useState)({}),U=L[0],A=L[1],J=(0,u.useState)(""),H=J[0],q=J[1],V=(0,u.useState)(!0),G=V[0],X=V[1],K=(0,u.useState)(null),Y=K[0],Q=K[1],$=(0,u.useState)(!0),ee=$[0],et=$[1],en=(0,u.useState)(!1),er=en[0],eo=en[1],ei=(0,u.useState)(null),ea=ei[0],es=ei[1],el=(0,u.useState)(!1),eu=el[0],ed=el[1],ec=(0,u.useState)(null),ep=ec[0],e_=ec[1],ef=(0,u.useState)(S),em=ef[0],eb=ef[1],ev=(0,u.useState)(!1),ek=ev[0],ex=ev[1],eh=(0,u.useState)(!0),eg=eh[0],ew=eh[1],ej=(0,u.useState)(!1),eC=ej[0],eD=ej[1],eE=(0,u.useState)(!1),ey=eE[0],eN=eE[1],eP=(0,u.useState)(!1),eL=eP[0],eI=eP[1],eM=(0,u.useState)(!1),eU=eM[0],eZ=eM[1],eT=(0,u.useState)(!1),eS=eT[0],eA=eT[1],eO=(0,u.useRef)(null),ez=(0,P.S)(),eB=ez.loading,eR=ez.userData,eF=(0,u.useRef)(),eW=(0,l.useRouter)(),eJ=(0,d.Jp)(),eH=(0,i.default)(eJ,1)[0].deviceType.isMobile;eF.current=eR;var eq=(t=(0,r.Z)(s().mark(function e(){var t,n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return ew(!0),e.next=3,(0,w.A1)();case 3:if(n=e.sent){e.next=8;break}return j.ZP.bottomToast((0,_.jsx)(m,{}),{withoutOffset:!0}),ew(!1),e.abrupt("return");case 8:if(401!==n.statusCode){e.next=12;break}return eN(!0),ew(!1),e.abrupt("return");case 12:if(403!==n.statusCode){e.next=16;break}return eD(!0),ew(!1),e.abrupt("return");case 16:if(null!==(t=n.userData)&&void 0!==t&&t.permissions.includes("can_create_post")){e.next=20;break}return ex(!1),ew(!1),e.abrupt("return");case 20:eF.current.loggedIn&&(ex(!0),eV(n),e_(n)),ew(!1);case 22:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),eV=function(e){var t=e.categories;if(t&&1===t.length){Q(t[0].id),et(!1);return}e.userData.last_post_category&&Q(e.userData.last_post_category)};(0,u.useEffect)(function(){em===O&&(q(""),y(0),es(null),A({}),eb(S),eo(!1))},[em]),(0,u.useEffect)(function(){eB||(eR.loggedIn?(eq(),eN(!1)):(ew(!1),eN(!0),ex(!1),e_(null),q(""),y(0),Q(null),es(null),eb(S),X(!0)))},[eB,eR.loggedIn]),(0,u.useEffect)(function(){if(v&&!er){var e=function(e){return e.returnValue="Zamknięcie karty spowoduje utratę wprowadzonej treści.\nCzy chcesz kontynuować?",e.returnValue};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}},[!!v,er]);var eG=function(e,t){return A(function(n){return I(I({},n),{},(0,o.default)({},e,I(I({},n[e]),t)))})},eX=(n=(0,r.Z)(s().mark(function e(t,n,r){var o,i;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((o=r||0)>=50)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,function(e){return g.apply(this,arguments)}(n);case 6:if(i=e.sent,o++,eF.current.loggedIn){e.next=12;break}return ed(!1),es(null),e.abrupt("return");case 12:if(i){e.next=15;break}return j.ZP.bottomToast((0,_.jsx)(f,{}),{withoutOffset:!0,size:1.5}),e.abrupt("return");case 15:if(!(t!==eO.current)){e.next=17;break}return e.abrupt("return");case 17:e.t0=i.status,e.next="PENDING"===e.t0?20:e.t0===Z?24:"COMPLETE"===e.t0?28:32;break;case 20:return e.next=22,(0,N.X)(200);case 22:return eX(t,n,o),e.abrupt("return");case 24:return ed(!1),i.fallback&&(W("broken_teaser",i),es(F(eH,i))),eG(t,i),e.abrupt("return");case 28:return ed(!1),es(F(eH,i)),eG(t,i),e.abrupt("return");case 32:case"end":return e.stop()}},e)})),function(e,t,r){return n.apply(this,arguments)}),eK=(a=(0,r.Z)(s().mark(function e(){var t,n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(es(null),eO.current){e.next=3;break}return e.abrupt("return");case 3:if(!(t=U[eO.current])){e.next=14;break}if(!(t.status===Z&&!t.fallback)){e.next=7;break}return e.abrupt("return");case 7:if(!t.url){e.next=10;break}return es(F(eH,t)),e.abrupt("return");case 10:return e.next=12,(0,N.X)(200);case 12:return eX(eO.current,t.embedLocation),e.abrupt("return");case 14:return ed(!0),e.next=17,function(e){return k.apply(this,arguments)}(eO.current);case 17:if(n=e.sent,eF.current.loggedIn){e.next=22;break}return ed(!1),es(null),e.abrupt("return");case 22:n?(eG(eO.current,{embedLocation:n.object_id}),eX(eO.current,n.object_id)):j.ZP.bottomToast((0,_.jsx)(f,{}),{withoutOffset:!0,size:1.5});case 23:case"end":return e.stop()}},e)})),function(){return a.apply(this,arguments)}),eY=(c=(0,r.Z)(s().mark(function e(){var t,n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Y){e.next=3;break}return X(!1),e.abrupt("return");case 3:return X(!0),eo(!0),t={text:H,category:Y},t=(null==ea?void 0:ea.type)===T?I(I({},t),{},{image:null==ea?void 0:ea.object_id}):I(I({},t),{},{embed:null==ea?void 0:ea.object_id}),e.next=9,(0,w.N5)(t);case 9:if(n=e.sent,eF.current.loggedIn){e.next=13;break}return eo(!1),e.abrupt("return");case 13:if(null!=ea&&ea.fallback&&W("broken_teaser_publish",ea),!n){e.next=19;break}return eQ(n),eH?window.location.href="/profil/moje-posty":eW.replace("#moje-posty",void 0,{shallow:!0,scroll:!1}),eb(O),e.abrupt("return");case 19:j.ZP.bottomToast((0,_.jsx)(m,{}),{withoutOffset:!0}),eo(!1);case 21:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)}),eQ=function(e){var t,n,r=e.storyId;if("function"==typeof(null===(t=window)||void 0===t?void 0:null===(n=t.dlApi)||void 0===n?void 0:n.uaEvent)){var o={publication_uuid:r,post_category:ep.categories[0].name||"",is_embed:!!ea,embed_url:null==ea?void 0:ea.url,is_repost:!1,repost_publication_uuid:null};window.dlApi.uaEvent("add","OnetPosts",o)}};return(0,_.jsx)(M.Provider,{value:{contentLength:v,setContentLength:y,validateContent:function(e,t){if(!(null!=e&&null!==(r=e.current)&&void 0!==r&&null!==(o=r.value)&&void 0!==o&&o.trim())||!(null!=t&&t.current)){t.current.innerHTML="",q(""),y(0),eA(!1);return}var n,r,o,i=(n=E(e.current.value.replace(/ {2}/g," \xa0"),C,""),E(n,D,'"').replace(/"+/g,'"'));eA(i.length>z);var a=i.split(/\n\r?/).map(function(e){var t=document.createElement("div");return t.textContent=e,t.outerHTML}).join("");y(i.length),q(i),t.current.innerHTML=a},handlePasteAndCheckLink:function(e){var t=e.clipboardData;if(t){var n=t.getData("text");if(n){var r=n.replace(/[\n\r]/g,"");R(r)&&(e.preventDefault(),eO.current=r,eK())}}},syncScrollPosition:B,embed:ea,setEmbed:es,embedLoading:eu,uploadImage:function(e,t){ed(!0);var n=e.target.files[0];if(!(31457279>(null==n?void 0:n.size))&&n){ed(!1),alert("Wgraj zdjęcie o wadze max 30 MB.");return}if(!/^image\/(png|jpeg)$/.test(null==n?void 0:n.type)&&n){ed(!1),alert("Wgraj zdjęcie w formacie jpg lub png.");return}var o=new FileReader;o.onload=(0,r.Z)(s().mark(function e(){var r,i,a;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Blob([o.result],{type:n.type}),e.next=3,function(e){return x.apply(this,arguments)}(n.type);case 3:if(i=e.sent){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,function(e,t){return h.apply(this,arguments)}(i.url_for_put,r);case 8:a={object_id:i.object_id,type:T,image:{width:eH?336:480,height:eH?189:270,url:URL.createObjectURL(r)}},t.current.value="",es(a),ed(!1);case 12:case"end":return e.stop()}},e)})),n?o.readAsArrayBuffer(n):ed(!1)},uploadLink:function(e){R(e)&&(eO.current=e,eK())},sendPost:eY,postPublicationProcess:er,postCategoryId:Y,isPostCategoryValid:function(){return G&&!!Y},setPostCategoryId:Q,editorConfig:ep,editorState:em,setEditorState:eb,authorCanCreatePost:ek,configLoading:eg,statusForbidden:eC,statusUnauthorized:ey,fetchConfig:eq,urlForEmbed:eO,embedUpload:eK,selectCategoryAvailable:ee,isLinkInputOpen:eL,setIsLinkInputOpen:eI,isDisclaimerOpen:eU,setIsDisclaimerOpen:eZ,isCharacterLimitReached:eS,setIsCharacterLimitReached:eA},children:p})}},56120:function(e,t,n){"use strict";n.d(t,{F:function(){return d},Z:function(){return u}});var r=n(86010),o=n(67294),i=n(92631),a=n(56243),s=n(82025),l=n(85893);function u(e){var t=e.rootClassname,n=e.title,u=e.customAction,d=e.customActionTitle,c=e.logErrorToRum,p=void 0===c?{}:c;return(0,o.useEffect)(function(){if(p.errorMessage&&a.A){var e,t;null===(e=window.onetAds)||void 0===e||null===(t=e.cmd)||void 0===t||t.push(function(e){e.errEvent("AppError",p.errorMessage,p.errorSource||"","RenderError")})}},[p.errorMessage,p.errorSource]),(0,o.useEffect)(function(){var e,t;null===(e=window.onetAds)||void 0===e||null===(t=e.cmd)||void 0===t||t.push(function(e){"function"==typeof e.uaEvent&&e.uaEvent("error_layer_show","ReactSG"),"function"==typeof e.destroySlots&&e.destroySlots()})},[]),(0,l.jsxs)("div",{className:(0,r.Z)(s.root,t),children:[(0,l.jsx)("span",{className:s.logoLink,children:(0,l.jsx)(i.Z,{})}),(0,l.jsx)("p",{className:s.message,children:n}),(0,l.jsx)("button",{className:s.btn,onClick:u||function(){var e,t;"function"==typeof(null===(e=window)||void 0===e?void 0:null===(t=e.onetAds)||void 0===t?void 0:t.uaEvent)&&window.onetAds.uaEvent("error_layer_reload","ReactSG"),window.location.reload()},children:d||"Odśwież stronę"})]})}function d(){return(0,l.jsx)(u,{title:"Brak połączenia z siecią"})}},91297:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(86010),o=n(67354),i=n.n(o),a=n(85893);function s(e){var t=e.loading,n=e.text,o=e.classes,s=void 0===o?{}:o;return(0,a.jsxs)("div",{className:(0,r.Z)(i().loaderContainer,s.loaderContainer),children:[void 0===n?"":n,t?(0,a.jsx)("div",{className:(0,r.Z)(i().dotsContainer,s.dotsContainer),children:(0,a.jsx)("div",{className:(0,r.Z)(i().dotpulse,s.dotpulse)})}):null]})}},53104:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(54621),o=n(58727),i=n.n(o),a=n(85893);function s(){return(0,a.jsx)("div",{className:i().LoaderMask,children:(0,a.jsx)(r.Z,{})})}},97693:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(59499),o=n(16835),i=n(86010),a=n(99209),s=n(91297),l=n(84548),u=n(24285),d=n(82893),c=n.n(d),p=n(85893);function _(e){var t,n,l=e.previewData,d=e.removeEmbed,_=void 0===d?null:d,m=e.loading,b=void 0!==m&&m,v=e.type,k=l||{},x=k.title,h=void 0===x?"":x,g=k.subtitle,w=void 0===g?"":g,j=k.image,C=k.url,D=void 0===C?"":C,E=k.storyKind,y=k.authorImage,N=(0,a.Jp)(),P=(0,o.default)(N,1)[0].deviceType.isMobile,L="image"===v,I="post"===E;return(0,p.jsx)("div",{className:c().wrapper,children:(0,p.jsx)("div",{className:(0,i.Z)((t={},(0,r.default)(t,c().containerMobile,P),(0,r.default)(t,c().containerDesktop,!P),(0,r.default)(t,c().loading,b),t)),children:b?(0,p.jsx)(s.Z,{text:"Wczytuję podgląd",classes:{loaderContainer:c().loader,dotsContainer:c().loaderDots,dotpulse:c().dot}}):(0,p.jsxs)(p.Fragment,{children:[_?(0,p.jsx)("div",{className:c().closeButton,onClick:function(){return _(null)},children:(0,p.jsx)(u.Z,{name:"closeembed"})}):null,(0,p.jsxs)("a",{className:(0,i.Z)(c().link,(0,r.default)({},c().linkDesktop,!P)),href:D,target:"_blank",rel:D.includes("onet.pl")?"noopener":"noopener nofollow",children:[I?(0,p.jsx)(f,{authorName:w,authorImage:y,postText:h}):null,j&&!I?(0,p.jsx)("img",{height:j.height,width:j.width,alt:h,src:j.url,className:(0,i.Z)(c().image,(n={},(0,r.default)(n,c().preview,!_),(0,r.default)(n,c().imageEmbed,L),(0,r.default)(n,c().notImageEmbed,!L),n))}):null,L||I?null:(0,p.jsxs)("div",{className:c().infoContainer,children:[(0,p.jsx)("div",{className:c().serviceName,children:w}),(0,p.jsx)("h3",{className:c().title,children:h})]})]})]})})})}function f(e){var t=e.authorName,n=e.authorImage,r=e.postText;return(0,p.jsxs)("div",{className:c().postEmbedContainer,children:[(0,p.jsxs)("div",{className:c().postEmbedAuthorContainer,children:[n?(0,p.jsx)(l.default,{data:{url:null==n?void 0:n.url,useHotSpot:!0,transformations:null==n?void 0:n.transformations},width:24,height:24,isLazy:!0,className:c().postEmbedAuthorImg}):null,(0,p.jsx)("span",{className:c().postEmbedAuthorName,children:t})]}),(0,p.jsx)("div",{className:c().postEmbedText,children:r})]})}},9991:function(e,t,n){"use strict";n.d(t,{Z:function(){return Y}});var r=n(59499),o=n(16835),i=n(86010),a=n(5152),s=n.n(a),l=n(67294),u=n(99209),d=n(43829),c=n(56120),p=n(54621),_=n(64599),f=n(18137),m=n(76422),b=n(45697),v=n.n(b),k=n(2633),x=n.n(k),h=n(85893),g=function(e){var t,n=e.action,a=e.text,s=e.disabled,l=e.preview,d=void 0!==l&&l,c=(0,u.Jp)(),p=(0,o.default)(c,1)[0].deviceType.isMobile;return(0,h.jsx)("div",{className:x().container,children:(0,h.jsx)("div",{className:(0,i.Z)((t={},(0,r.default)(t,x().buttonContainerMobile,!s&&!d&&p),(0,r.default)(t,x().buttonContainerDesktop,!s&&!d&&!p),(0,r.default)(t,x().buttonContainerDisabledMobile,s&&p),(0,r.default)(t,x().buttonContainerDisabledDesktop,s&&!p),(0,r.default)(t,x().buttonContainerPreviewMobile,d&&!s&&p),(0,r.default)(t,x().buttonContainerPreviewDesktop,d&&!s&&!p),t)),onClick:s?null:void 0===n?Function:n,role:"button",children:void 0===a?"":a})})};g.PropTypes={action:v().func.isRequired,text:v().string.isRequired,disabled:v().bool,preview:v().bool};var w=n(53104),j=n(45261),C=n.n(j);function D(){var e,t=(0,d.uu)(),n=t.contentLength,a=t.sendPost,s=t.postPublicationProcess,l=t.editorState,c=t.setEditorState,p=t.isCharacterLimitReached,_=(0,u.Jp)(),f=(0,o.default)(_,1)[0].deviceType.isMobile;return s?(0,h.jsx)(w.Z,{}):l===d.sl?(0,h.jsx)(g,{action:function(){return c(d.W6)},text:"Podgląd",disabled:!n||p}):(0,h.jsxs)("div",{className:(0,i.Z)((e={},(0,r.default)(e,C().buttonContainerMobile,f),(0,r.default)(e,C().buttonContainerDesktop,!f),e)),children:[(0,h.jsx)("div",{className:(0,i.Z)(C().backText,(0,r.default)({},C().backTextDesktop,!f)),onClick:function(){c(d.sl)},children:"Wr\xf3ć do edycji"}),(0,h.jsx)(g,{action:a,text:"Prześlij do sprawdzenia",preview:!0})]})}var E=n(42837),y=n.n(E);function N(e){var t,n,a=e.options,s=void 0===a?[]:a,d=e.onSelect,c=void 0===d?function(){return null}:d,p=e.currentSelectedId,_=void 0===p?null:p,f=e.isValid,m=void 0===f||f,b=(0,l.useState)(!1),v=b[0],k=b[1],x=(0,l.useState)(_),g=x[0],w=x[1],j=(0,l.useRef)(),C=(0,u.Jp)(),D=(0,o.default)(C,1)[0].deviceType.isMobile;return(0,l.useEffect)(function(){if(v){var e=function(e){j.current&&!j.current.contains(e.target)&&k(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}},[v]),(0,l.useLayoutEffect)(function(){if(null!==_&&m){var e=s.find(function(e){return e.id===_});e&&(c(e.id),w(e.displayName))}},[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:(0,i.Z)(y().select,(t={},(0,r.default)(t,y().selectValid,m),(0,r.default)(t,y().selectInvalid,!m),t)),onClick:function(){k(!v)},children:[v?(0,h.jsx)("div",{className:y().dropdown,ref:j,children:s.map(function(e){return(0,h.jsx)("div",{className:y().dropdownOption,onClick:function(t){t.stopPropagation(),k(!1),c(e.id),w(e.displayName)},children:e.displayName})})}):null,(0,h.jsx)("span",{className:y().selected,children:g||"Wybierz serwis"}),(0,h.jsx)("span",{className:v?y().topArrow:y().bottomArrow})]}),m?null:(0,h.jsx)("span",{className:(0,i.Z)((n={},(0,r.default)(n,y().selectHintMobile,D),(0,r.default)(n,y().selectHintDesktop,!D),n)),children:"Wybierz serwis aby opublikować post"})]})}var P=n(97693),L=n(24285),I=n(23382),M=n.n(I);function U(){var e,t=(0,d.uu)().contentLength,n=(0,u.Jp)(),a=(0,o.default)(n,1)[0].deviceType.isMobile,s=t-d.qL;return(0,h.jsxs)("div",{className:(0,i.Z)((e={},(0,r.default)(e,M().containerMobile,a),(0,r.default)(e,M().containerDesktop,!a),e)),children:[(0,h.jsxs)("div",{className:M().counterMessage,children:[(0,h.jsx)(L.Z,{name:"warning"}),"Przekroczono limit 20 000 znak\xf3w."]}),(0,h.jsxs)("span",{children:["-",s]})]})}var Z=n(19315),T=n.n(Z),S=(0,l.memo)(function(e){var t=e.type,n=(0,d.uu)(),r=n.setIsDisclaimerOpen,o=n.setEmbed;return(0,h.jsxs)("div",{className:T().embedDisclaimer,children:[(0,h.jsx)("span",{children:"Niestety możesz dodać tylko jeden typ załącznika."}),(0,h.jsx)("span",{className:T().removeEmbedLink,onClick:function(){o(null),r(!1)},children:t?"Czy na pewno chcesz usunąć zdjęcie?":"Czy chcesz usunąć zamieszczony link?"}),(0,h.jsx)("div",{className:T().closeButton,onClick:function(){return r(!1)},children:(0,h.jsx)(L.Z,{name:"closeembed"})})]})}),A=n(75372),O=n.n(A);function z(e){var t,n,a=e.acceptedFormats,s=e.label,c=e.icon,p=e.hasUnderline,_=void 0!==p&&p,f=e.isDisabled,m=void 0!==f&&f,b=(0,d.uu)(),v=b.embed,k=b.uploadImage,x=b.setIsDisclaimerOpen,g=(0,u.Jp)(),w=(0,o.default)(g,1)[0].deviceType.isMobile,j=(0,l.useRef)(null);return(0,h.jsxs)("div",{className:(0,i.Z)((t={},(0,r.default)(t,O().containerMobile,w),(0,r.default)(t,O().containerDesktop,!w),(0,r.default)(t,O().underline,_),(0,r.default)(t,O().notUnderline,!_),(0,r.default)(t,O().disabled,m),t)),onClick:function(){v&&"image"!==v.type&&x(!0)},children:[(0,h.jsxs)("label",{htmlFor:"fileUploader",className:(0,i.Z)((n={},(0,r.default)(n,O().uploaderIconDisabled,m),(0,r.default)(n,O().uploaderIconDefault,!m),n)),children:[(0,h.jsx)(L.Z,{name:c}),(0,h.jsx)("span",{className:O().iconName,children:s})]}),(0,h.jsx)("input",{id:"fileUploader",type:"file",ref:j,className:O().fileUploader,"aria-label":s,accept:a.join(","),onChange:function(e){return k(e,j)},disabled:m})]})}var B=n(99742),R=n.n(B);function F(e){var t,n=e.label,a=e.icon,s=e.hasUnderline,l=void 0!==s&&s,c=e.isDisabled,p=void 0!==c&&c,_=(0,d.uu)(),f=_.embed,m=_.setIsLinkInputOpen,b=_.isDisclaimerOpen,v=_.setIsDisclaimerOpen,k=(0,u.Jp)(),x=(0,o.default)(k,1)[0].deviceType.isMobile;return(0,h.jsxs)("div",{onClick:function(){return b?null:function(){if(!f||f&&!f.type){m(!0);return}v(!0)}()},className:(0,i.Z)((t={},(0,r.default)(t,R().containerMobile,x),(0,r.default)(t,R().containerDesktop,!x),(0,r.default)(t,R().uploaderIconDisabled,p),(0,r.default)(t,R().uploaderIconDefault,!p),(0,r.default)(t,R().underline,l),(0,r.default)(t,R().notUnderline,!l),t)),children:[(0,h.jsx)(L.Z,{name:a}),(0,h.jsx)("span",{className:R().iconName,children:n})]})}var W=n(82611),J=n.n(W);function H(e){var t,n=e.label,a=e.icon,s=(0,l.useState)(""),c=s[0],p=s[1],_=(0,d.uu)(),f=_.uploadLink,m=_.setIsLinkInputOpen,b=(0,u.Jp)(),v=(0,o.default)(b,1)[0].deviceType.isMobile;return(0,h.jsxs)("div",{className:(0,i.Z)((t={},(0,r.default)(t,J().containerMobile,v),(0,r.default)(t,J().containerDesktop,!v),t)),children:[(0,h.jsxs)("label",{htmlFor:"linkUploader",className:J().uploaderIcon,children:[(0,h.jsx)("div",{className:J().linkuploadicon,children:(0,h.jsx)(L.Z,{name:a})}),(0,h.jsx)("div",{className:(0,i.Z)(J().linkUploaderCloseButton,(0,r.default)({},J().linkUploaderCloseButtonDesktop,!v)),onClick:function(){return m(!1)},children:(0,h.jsx)(L.Z,{name:"closeembed"})}),(0,h.jsx)("span",{className:J().iconName,children:n})]}),(0,h.jsx)("input",{id:"linkUploader",type:"url",className:(0,i.Z)(J().linkUploader,(0,r.default)({},J().linkUploaderDesktop,!v)),"aria-label":n,onChange:function(e){p(e.target.value)}}),(0,h.jsx)("div",{className:(0,i.Z)(J().buttonContainer,(0,r.default)({},J().buttonContainerDesktop,!v)),children:(0,h.jsx)("div",{className:J().continue,onClick:function(){f(c),m(!1)},children:"Kontynuuj"})})]})}var q=n(5315),V=n.n(q);function G(e){var t,n,a=e.embedURL,s=(0,d.uu)(),c=s.contentLength,p=s.validateContent,_=s.handlePasteAndCheckLink,f=s.syncScrollPosition,m=s.embed,b=s.setEmbed,v=s.embedLoading,k=s.setPostCategoryId,x=s.editorConfig,g=s.editorState,w=s.postCategoryId,j=s.isPostCategoryValid,C=s.urlForEmbed,D=s.embedUpload,E=s.selectCategoryAvailable,y=s.isLinkInputOpen,L=s.isDisclaimerOpen,I=s.isCharacterLimitReached,M=(0,u.Jp)(),Z=(0,o.default)(M,1)[0].deviceType.isMobile,T=(0,l.useRef)(null),A=(0,l.useRef)(null),O=(0,l.useRef)(null),B=g===d.sl?b:null;return(0,l.useEffect)(function(){v&&O.current&&(O.current.scrollTop=O.current.scrollHeight)},[v]),(0,l.useEffect)(function(){a&&(C.current=a,D())},[a]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:V().fullViewContainer,ref:O,children:[(0,h.jsxs)("div",{className:(0,i.Z)(V().editorContainer,(t={},(0,r.default)(t,V().editorContainerNoembed,!m&&!v),(0,r.default)(t,V().editorContainerPreview,g===d.W6),t)),children:[(0,h.jsx)("div",{className:(0,i.Z)(V().highLite,(0,r.default)({},V().emptyDisclaimer,!c)),ref:T}),(0,h.jsx)("textarea",{className:V().editable,disabled:g!==d.sl,onDrop:function(e){return e.preventDefault()},ref:A,onInput:function(){return p(A,T)},onPaste:_,onScroll:function(){return f(A,T)}})]}),m||v?(0,h.jsx)(P.Z,{previewData:m,removeEmbed:B,loading:v,type:null==m?void 0:m.type}):null]}),g===d.sl&&I?(0,h.jsx)(U,{}):null,g===d.sl&&m&&L&&!y?(0,h.jsx)(S,{type:null==m?void 0:m.type}):null,(0,h.jsx)("div",{className:(0,i.Z)(V().fixBottom,(0,r.default)({},V().fixBottomPreview,g===d.W6)),children:g===d.sl?(0,h.jsx)("div",{className:(0,i.Z)(V().embedTooltip,(n={},(0,r.default)(n,V().embedTooltipLinkInput,y),(0,r.default)(n,V().openLinkInput,y),(0,r.default)(n,V().closedLinkInputDesktop,!y&&!Z),n)),children:y?(0,h.jsx)(H,{label:"link",icon:"linkupload"}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(F,{label:"link",icon:"linkupload",hasUnderline:(null==m?void 0:m.url)!==void 0,isDisabled:(null==m?void 0:m.type)==="image"}),(0,h.jsx)(z,{acceptedFormats:["image/jpeg","image/jpg","image/png"],label:"zdjęcie",icon:"imageupload",hasUnderline:(null==m?void 0:m.type)!==void 0,isDisabled:(null==m?void 0:m.url)!==void 0})]})}):(0,h.jsxs)(h.Fragment,{children:[E?(0,h.jsx)(N,{options:x.categories,onSelect:k,currentSelectedId:w,isValid:j()}):null,(0,h.jsx)("div",{className:V().disclaimer,children:"Czy wszystko wygląda dobrze? Prześlij Post do sprawdzenia, a my powiadomimy Cię, gdy zostanie opublikowany."})]})})]})}var X=s()(function(){return(0,m.Z)(function(){return n.e(365).then(n.bind(n,90365))})},{loading:function(){return(0,h.jsx)(p.Z,{})},ssr:!1,loadableGenerated:{webpack:function(){return[90365]}}}),K=function(){window.location.href="/"};function Y(e){var t,n=e.embedURL,a=(0,l.useState)(!1),s=a[0],m=a[1],b=(0,d.uu)(),v=b.editorConfig,k=b.authorCanCreatePost,x=b.configLoading,g=b.statusForbidden,w=b.statusUnauthorized,j=b.fetchConfig,E=(0,u.Jp)(),y=(0,o.default)(E,1)[0].deviceType.isMobile;return((0,l.useEffect)(function(){if((0,_.nD)())return(0,_.kA)(),function(){return(0,_.h$)()}},[]),f.z)?(0,h.jsx)(c.Z,{title:"Usługa chwilowo niedostępna.",customAction:K,rootClassname:C().errorPudding,customActionTitle:"Wr\xf3ć na Onet"}):!x&&w?(0,h.jsx)(X,{error:s,setError:m,onSuccess:j,className:C().loginForm}):x||k&&!g?v?(0,h.jsxs)("div",{className:(0,i.Z)((t={},(0,r.default)(t,C().moduleWrapperMobile,y),(0,r.default)(t,C().moduleWrapperDesktop,!y),t)),children:[(0,h.jsx)(G,{embedURL:n}),(0,h.jsx)(D,{})]}):(0,h.jsx)("div",{className:C().loaderContainer,children:(0,h.jsx)(p.Z,{})}):(0,h.jsx)(c.Z,{title:"Brak uprawnień",customAction:K,rootClassname:C().errorPudding,customActionTitle:"Wr\xf3ć na Onet"})}},2633:function(e){e.exports={container:"ActionButton_container__4e00G",buttonContainerBase:"ActionButton_buttonContainerBase__qxhKc",buttonContainerPreviewDesktop:"ActionButton_buttonContainerPreviewDesktop__dNIda",buttonContainerPreviewMobile:"ActionButton_buttonContainerPreviewMobile__bNwl_",buttonContainerDisabledDesktop:"ActionButton_buttonContainerDisabledDesktop__mxSwU",buttonContainerDisabledMobile:"ActionButton_buttonContainerDisabledMobile__zdeMU",buttonContainerDesktop:"ActionButton_buttonContainerDesktop__Wvpop",buttonContainerMobile:"ActionButton_buttonContainerMobile__XCoch"}},82025:function(e){e.exports={root:"CustomError_root__MFOi_",message:"CustomError_message__XPY6v",logoLink:"CustomError_logoLink__dzExT",btn:"CustomError_btn__HJ4on"}},67354:function(e){e.exports={loaderContainer:"DotPulseLoader_loaderContainer__Urpaj",dotsContainer:"DotPulseLoader_dotsContainer__gMF5E",dot:"DotPulseLoader_dot__SZBLc",dotpulse:"DotPulseLoader_dotpulse__IrIQk","dotpulse-before":"DotPulseLoader_dotpulse-before__bclST","dotpulse-after":"DotPulseLoader_dotpulse-after__IqeHT"}},58727:function(e){e.exports={LoaderMask:"LoaderMask_LoaderMask__2kf_c"}},42837:function(e){e.exports={select:"Dropdown_select__jSwjp",selectValid:"Dropdown_selectValid__dEQnO",selectInvalid:"Dropdown_selectInvalid__6lDTm",selectHint:"Dropdown_selectHint__MhXX4",selectHintDesktop:"Dropdown_selectHintDesktop__hPHkN",selectHintMobile:"Dropdown_selectHintMobile__qx0iE",arrow:"Dropdown_arrow__JXkrJ",bottomArrow:"Dropdown_bottomArrow__myBho",topArrow:"Dropdown_topArrow__byN3k",dropdown:"Dropdown_dropdown__YArdm",dropdownOption:"Dropdown_dropdownOption__Vf1lh",selected:"Dropdown_selected__cYtE3"}},82893:function(e){e.exports={container:"EmbedPreview_container___kngY",containerDesktop:"EmbedPreview_containerDesktop__pdu0m",containerMobile:"EmbedPreview_containerMobile__5nCG6",wrapper:"EmbedPreview_wrapper__jwxNs",loading:"EmbedPreview_loading__ttoEt",infoContainer:"EmbedPreview_infoContainer__577la",title:"EmbedPreview_title__uod2J",serviceName:"EmbedPreview_serviceName___MRqp",closeButton:"EmbedPreview_closeButton__q1Mdm",image:"EmbedPreview_image__zDEae",preview:"EmbedPreview_preview__RHz4t",notImageEmbed:"EmbedPreview_notImageEmbed__vbbeO",imageEmbed:"EmbedPreview_imageEmbed__rk2mk",link:"EmbedPreview_link__qyrWy",linkDesktop:"EmbedPreview_linkDesktop__00EJO",loader:"EmbedPreview_loader__0huaE",loaderDots:"EmbedPreview_loaderDots__D2IpA",dot:"EmbedPreview_dot__gG0G8",postEmbedContainer:"EmbedPreview_postEmbedContainer__jG35b",postEmbedAuthorContainer:"EmbedPreview_postEmbedAuthorContainer__Evg49",postEmbedAuthorName:"EmbedPreview_postEmbedAuthorName__57s_i",postEmbedAuthorImg:"EmbedPreview_postEmbedAuthorImg__8xvbL",postEmbedText:"EmbedPreview_postEmbedText__mjbiZ"}},45261:function(e){e.exports={moduleWrapper:"PostModule_moduleWrapper__U7S8R",moduleWrapperDesktop:"PostModule_moduleWrapperDesktop__LC9Je",moduleWrapperMobile:"PostModule_moduleWrapperMobile__FpsnY",loaderContainer:"PostModule_loaderContainer__o0djK",errorPudding:"PostModule_errorPudding__RpeFk",loginForm:"PostModule_loginForm__0YnTj",buttonContainer:"PostModule_buttonContainer__3tk2c",buttonContainerDesktop:"PostModule_buttonContainerDesktop__opIC_",buttonContainerMobile:"PostModule_buttonContainerMobile__ITZP2",backText:"PostModule_backText__Jrx3h",backTextDesktop:"PostModule_backTextDesktop__1zSh5"}},23382:function(e){e.exports={container:"CharacterCounter_container__I1iv3",containerDesktop:"CharacterCounter_containerDesktop__BdsiA",containerMobile:"CharacterCounter_containerMobile__vYpNO",counterMessage:"CharacterCounter_counterMessage__UiUzq"}},5315:function(e){e.exports={fullViewContainer:"Editor_fullViewContainer__KX4y2",editorContainer:"Editor_editorContainer__GOzec",editorContainerNoembed:"Editor_editorContainerNoembed__udg5q",editorContainerPreview:"Editor_editorContainerPreview__Wxz3M",textArea:"Editor_textArea___72QJ",editable:"Editor_editable__mQ8E2",highLite:"Editor_highLite__AFrg7",emptyDisclaimer:"Editor_emptyDisclaimer__wpIt9",disclaimer:"Editor_disclaimer__zAfGZ",errorCount:"Editor_errorCount__q_n3G",fixBottom:"Editor_fixBottom___x2KL",fixBottomPreview:"Editor_fixBottomPreview__Vw5Xq",embedTooltip:"Editor_embedTooltip__kDfJZ",embedTooltipLinkInput:"Editor_embedTooltipLinkInput__RTK_u",openLinkInput:"Editor_openLinkInput__Ei4Xc",closedLinkInputDesktop:"Editor_closedLinkInputDesktop__p7g_9"}},19488:function(e){e.exports={message:"EmbedMessage_message__CPs4H",messageText:"EmbedMessage_messageText__TUBeC"}},19315:function(e){e.exports={embedDisclaimer:"EmbedDisclaimer_embedDisclaimer__m7ABj",closeButton:"EmbedDisclaimer_closeButton__WWtHK",removeEmbedLink:"EmbedDisclaimer_removeEmbedLink__Dh5zK"}},75372:function(e){e.exports={uploaderIcon:"FileUpload_uploaderIcon__5g5N_",uploaderIconDisabled:"FileUpload_uploaderIconDisabled__Ox_eu",uploaderIconDefault:"FileUpload_uploaderIconDefault__rML_F",fileUploader:"FileUpload_fileUploader__kvDwz",iconName:"FileUpload_iconName__1i4ON",container:"FileUpload_container__E_2va",containerDesktop:"FileUpload_containerDesktop__ZxqnV",containerMobile:"FileUpload_containerMobile__HEhbH",underline:"FileUpload_underline__2pGCi",notUnderline:"FileUpload_notUnderline__3c1OJ",disabled:"FileUpload_disabled__mH2DR"}},99742:function(e){e.exports={uploaderIcon:"LinkUpload_uploaderIcon__735C8",uploaderIconDisabled:"LinkUpload_uploaderIconDisabled__Vr_RH",uploaderIconDefault:"LinkUpload_uploaderIconDefault__Y77JS",iconName:"LinkUpload_iconName__dQiWD",linkUploader:"LinkUpload_linkUploader__VY5kM",container:"LinkUpload_container__51GNL",containerDesktop:"LinkUpload_containerDesktop__N485m",containerMobile:"LinkUpload_containerMobile___CLyg",underline:"LinkUpload_underline__NGqfZ",notUnderline:"LinkUpload_notUnderline__IqBxV"}},82611:function(e){e.exports={container:"LinkUploader_container__esWZA",containerDesktop:"LinkUploader_containerDesktop__qWW1u",containerMobile:"LinkUploader_containerMobile__Nw82O",uploaderIcon:"LinkUploader_uploaderIcon__pon9g",linkuploadicon:"LinkUploader_linkuploadicon__JH5ZR",iconName:"LinkUploader_iconName__AsSWj",linkUploader:"LinkUploader_linkUploader__nmic1",linkUploaderDesktop:"LinkUploader_linkUploaderDesktop__4kQk5",continue:"LinkUploader_continue__p6juL",buttonContainer:"LinkUploader_buttonContainer__TML4p",buttonContainerDesktop:"LinkUploader_buttonContainerDesktop__4kD9_",linkUploaderCloseButton:"LinkUploader_linkUploaderCloseButton__nRn8k",linkUploaderCloseButtonDesktop:"LinkUploader_linkUploaderCloseButtonDesktop__bJsrm"}}}]);