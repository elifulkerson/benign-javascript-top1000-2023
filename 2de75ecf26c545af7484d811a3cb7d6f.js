var firebaseScript = [ 'https://www.gstatic.com/firebasejs/7.22.0/firebase-app.js', 'https://www.gstatic.com/firebasejs/7.22.0/firebase-analytics.js' ]; var firebaseJS = []; for(var i =0; i < firebaseScript.length; i++) { firebaseJS[i] = document.createElement('script'); firebaseJS[i].type = 'text/javascript'; firebaseJS[i].async = true; firebaseJS[i].src = firebaseScript[i]; var stag = document.getElementsByTagName('script')[0]; stag.parentNode.insertBefore(firebaseJS[i], stag); } function initializeFirebaseJS(){ var firebaseConfig = { apiKey: "AIzaSyCTfMJJ_bLdOnp_OKuxi9ce8vmnzgqUHiM", authDomain: "cricbuzz-desktop.firebaseapp.com", databaseURL: "https://cricbuzz-desktop.firebaseio.com", projectId: "cricbuzz-desktop", storageBucket: "cricbuzz-desktop.appspot.com", messagingSenderId: "820819117977", appId: "1:820819117977:web:eabf3544ac136b1a643508", measurementId: "G-4H06J8XXQH" }; if(typeof(firebase) != undefined) { var cbPlusState = (localStorage.getItem('UserState') != null) ? localStorage.getItem('UserState') : 'NOTSET'; var cbPlusUId = (localStorage.getItem('UserId') != null) ? localStorage.getItem('UserId') : 'NOTSET'; var cbSubscriptionPlan	= (localStorage.getItem('PlanId') != null) ? 'PLAN'+localStorage.getItem('PlanId') : 'PLAN0'; cbSubscriptionPlan	= (localStorage.getItem('TermId') != null) ? cbSubscriptionPlan+'-TERM'+localStorage.getItem('TermId') : cbSubscriptionPlan; var is_premium_page = false; firebase.initializeApp(firebaseConfig); firebase.analytics().setUserProperties({ cb_user: cbPlusUId, cb_subscription_plan: cbSubscriptionPlan, cb_sub_user_state: cbPlusState }); firebase.analytics().logEvent('cb_screen_name', { cb_premium_screen: is_premium_page}); } else { setTimeout(initializeFirebaseJS, 3000); } } firebaseJS[1].onload = function() { initializeFirebaseJS(); }