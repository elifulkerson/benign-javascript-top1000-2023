"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7256],{13882:function(e,r,t){t.d(r,{Z:function(){return a}});function a(e,r){if(r.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+r.length+" present")}},83946:function(e,r,t){t.d(r,{Z:function(){return a}});function a(e){if(null===e||!0===e||!1===e)return NaN;var r=Number(e);return isNaN(r)?r:r<0?Math.ceil(r):Math.floor(r)}},51820:function(e,r,t){t.d(r,{Z:function(){return o}});var a=t(83946),n=t(19013),s=t(13882);function o(e,r){(0,s.Z)(2,arguments);var t=(0,n.Z)(e).getTime(),o=(0,a.Z)(r);return new Date(t+o)}},58545:function(e,r,t){t.d(r,{Z:function(){return o}});var a=t(83946),n=t(51820),s=t(13882);function o(e,r){(0,s.Z)(2,arguments);var t=(0,a.Z)(r);return(0,n.Z)(e,6e4*t)}},19013:function(e,r,t){t.d(r,{Z:function(){return s}});var a=t(71002),n=t(13882);function s(e){(0,n.Z)(1,arguments);var r=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,a.Z)(e)&&"[object Date]"===r?new Date(e.getTime()):"number"==typeof e||"[object Number]"===r?new Date(e):(("string"==typeof e||"[object String]"===r)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},37256:function(e,r,t){t.d(r,{Z:function(){return ef}});var a=t(85893),n=t(67294),s=t(80564),o=t(46879),i=t(1941),l=t(48914),p=t(67105),c=t(36982),d=t(44350),u=t(25682),h=t(47269),m=t(23451);let{useQuery:f}=(0,u.J)({name:"@web/domain-guest/profile-shipt-memberships/get-shoppers",queryFn:async()=>{let{baseUrl:e,apiKey:r,apis:{guestProfileShiptMembershipsV1:t}}=(0,d.config)().services.apiPlatform,a=h.Z.buildURLWithParams(`${e}/${t.endpointPaths.shoppers}`,{}),{data:n,ok:s,statusText:o}=await (0,m.U2)(a,{credentials:"include",headers:{Accept:"application/json","x-api-key":r},errorTag:"get_preferred_shoppers_v1_api_error",timerTag:"get_preferred_shoppers_v1_api_call"});if(s)return null!=n?n:null;throw Error(`${o}`)}});var y=t(39788),g=t(99093),b=t(46594);let v=({closeDrawer:e})=>{let r=(0,n.useCallback)(()=>e(),[e]);return(0,a.jsxs)("div",{className:"h-text-center","data-test":"tip-drawer-error",children:[(0,a.jsx)(b.N,{showDefaultImage:!0,showThankYouDefault:!0,size:"medium"}),(0,a.jsx)(y.w,{className:"h-margin-a-wide",level:3,children:"Thanks for the feedback"}),(0,a.jsx)("span",{children:"Your feedback helps us improve our Same Day Delivery service."}),(0,a.jsx)(g.D,{className:"h-margin-t-wide",isFullWidth:!0,onClick:r,children:"Done"})]})};v.displayName="ThankYouScreen";var S=t(5152),T=t.n(S);let w=T()(()=>t.e(5965).then(t.bind(t,89e3)).then(e=>e.LandingScreen),{loadableGenerated:{webpack:()=>[89e3]}});var P=t(22235);let x=()=>{let[e,{close:r,closeAll:t,open:o,isShown:i}]=(0,s.I)({type:"drawer",shouldStack:!1});e.displayName="DuplicateTipDrawerOverlay";let l=({order:t})=>{var n,s,o;return(0,a.jsx)(e,{headingText:"You're all set",children:(0,a.jsx)("div",{className:"h-text-center","data-test":"tip-drawer-duplicate",children:(0,a.jsxs)("div",{className:"h-padding-b-jumbo",children:[(0,a.jsx)(b.N,{shopperName:null!==(n=null==t?void 0:null===(s=t.shopper)||void 0===s?void 0:s.name)&&void 0!==n?n:"your shopper",shopperPicture:null==t?void 0:null===(o=t.shopper)||void 0===o?void 0:o.photo,size:"medium"}),(0,a.jsx)(y.w,{className:"h-margin-a-wide",level:3,children:"This shopper has already been tipped"}),(0,a.jsx)("div",{children:"Only one tip is allowed per order."}),(0,a.jsx)(P.P,{className:"h-margin-t-default","data-test":"done-btn",id:"done-btn",isFullWidth:!0,onClick:r,children:"Close"})]})})})};l.displayName="DuplicateTipDrawer";let p=(0,n.useCallback)(l,[e,r]);return(0,n.useMemo)(()=>[p,{close:r,closeAll:t,open:o,isShown:i}],[p,r,t,o,i])};var j=t(59499),O=t(35216);let{useMutation:_}=(0,O.F)({name:"@web/domain-guest/profile-shipt-memberships/post-shoppers",mutationFn:async({shopper_id:e})=>{let{baseUrl:r,apiKey:t,apis:{guestProfileShiptMembershipsV1:a}}=(0,d.config)().services.apiPlatform,n=h.Z.buildURLWithParams(`${r}/${a.endpointPaths.shoppers}`,{}),{data:s,ok:o,statusText:i}=await (0,m.v_)(n,{body:JSON.stringify({shopper_id:e}),credentials:"include",headers:{Accept:"application/json","x-api-key":t},errorTag:"post_preferred_shoppers_v1_api_error",timerTag:"post_preferred_shoppers_v1_api_call"});if(o)return s;throw Error(`${i}`)}});var k=t(91560),N=t(63197),C=t(56947),D=t(19521);let E=D.ZP.p.withConfig({displayName:"styles__GrayAreaTextBox",componentId:"sc-2x09cs-0"})(["border-radius:",";background-color:",";font-size:",";color:",";padding:",";margin-bottom:",";text-align:left;vertical-align:middle;"],C.border.radius.x1,C.colors.background.lightest,C.font.size.text.medium,C.colors.text.onLight.secondary,C.space.generic.x4,C.space.generic.x4),A=D.ZP.div.withConfig({displayName:"styles__ShopperImageAndIconContainer",componentId:"sc-2x09cs-1"})(["width:215px;height:215px;margin:0 auto;position:relative;"]),I=D.ZP.img.withConfig({displayName:"styles__AbsolutePlacementGreenCheckmark",componentId:"sc-2x09cs-2"})(["position:absolute;top:85%;left:69%;"]),Z=({shopperName:e,shopperPhoto:r,tipAmount:t})=>(0,a.jsxs)(a.Fragment,{children:[t?(0,a.jsxs)(E,{children:[(0,N.HR)(t)," has been charged to your card"]}):null,(0,a.jsxs)("div",{className:"h-text-center",children:[(0,a.jsx)(b.N,{isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(y.w,{className:"h-margin-t-default",level:3,stackSpacing:"x1",children:["Do you want to add ",e," as a Preferred Shopper?"]}),(0,a.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"We'll match you with your Preferred Shoppers based on availability"})]})]})]});Z.displayName="PreferredShopperAddScreen";var U=t(56823);let R="SHOULD_OPEN_MANAGE_PREFERRED_SHOPPER_DRAWER",G=()=>{let{0:e,1:r}=(0,n.useState)(!1),t=(0,n.useCallback)(()=>{U.y7.remove(R),r(!1)},[]),a=(0,n.useCallback)(async()=>{var e;let r=null!==(e=await U.y7.get(R))&&void 0!==e&&e;return!!r},[]),s=(0,n.useCallback)(e=>(t(),U.y7.set(R,null==e||e)),[t]);return(0,n.useEffect)(()=>{let t=async()=>{if(e)return;let t=await a();r(t)};t()},[a,r,e]),(0,n.useMemo)(()=>[e,{clearShouldOpenFromStorage:t,setShouldOpenFromStorage:s}],[t,e,s])};var L=t(4730),$=t(79167),B=t(14785);let M=["displayText","showSpinner","spinnerDataTest"],F=["displayText"];function z(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function Y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?z(Object(t),!0).forEach(function(r){(0,j.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let H=({buttonPrimaryProps:e={},buttonSecondaryProps:r={}})=>{let{displayText:t,showSpinner:n,spinnerDataTest:s}=e,o=(0,L.Z)(e,M),{displayText:i}=r,l=(0,L.Z)(r,F);return(0,a.jsxs)($.h,{isStacked:!0,children:[t?(0,a.jsx)(g.D,Y(Y({"aria-label":t,className:"h-padding-h-default"},o),{},{children:n?(0,a.jsx)(B.$,{className:"h-margin-h-default","data-test":null!=s?s:"@web/DrawerButtonGroupPrimarySpinner",size:"small",spinnerColor:"white"}):t})):null,i?(0,a.jsx)(P.P,Y(Y({"aria-label":i,className:"h-margin-v-none h-padding-h-default"},l),{},{children:i})):null]})};H.displayName="DrawerButtonGroup";var W=t(51480);let q=({shopperName:e,shopperPhoto:r})=>(0,a.jsxs)("div",{className:"h-text-center",children:[(0,a.jsxs)(A,{children:[(0,a.jsx)(b.N,{isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,a.jsx)(I,{alt:"Green Checkmark",className:"successCheckmark",src:W.ks})]}),(0,a.jsxs)(y.w,{className:"h-margin-t-default",level:3,children:["Great! ",e," is a Preferred Shopper."]}),(0,a.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"View and edit your Preferred Shoppers any time under Account > Memberships."})]});function J(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function Q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?J(Object(t),!0).forEach(function(r){(0,j.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}q.displayName="PreferredShopperSuccessScreen";let V=(e={})=>{let[r,{close:t,closeAll:o,open:i,isShown:l}]=(0,s.I)(Q(Q({shouldStack:!1},e),{},{type:"drawer"}));r.displayName="PreferredShopperSuccessDrawerOverlay";let p=({shopper:e,onAfterClose:s})=>{let[o,{setShouldOpenFromStorage:i}]=G(),l=null==e?void 0:e.name,p=null==e?void 0:e.photo,c=(0,n.useCallback)(()=>{i(),window.location.assign("/account/memberships")},[i]);return(0,a.jsx)(r,{hasCloseButton:!0,headingText:"Shopper added!",onAfterClose:s,renderCellButton:(0,a.jsx)(H,{buttonPrimaryProps:{className:"h-padding-h-default",onClick:t,displayText:"Done"},buttonSecondaryProps:{onClick:c,className:"h-margin-v-none h-padding-h-default",displayText:"View Preferred Shoppers"}}),scroll:"content",children:(0,a.jsx)(q,{shopperName:null!=l?l:"Your shopper",shopperPhoto:p})})};p.displayName="PreferredShopperSuccessDrawer";let c=(0,n.useCallback)(p,[r,t]);return(0,n.useMemo)(()=>[c,{close:t,closeAll:o,open:i,isShown:l}],[c,t,o,i,l])},K=({shopperName:e,shopperPhoto:r})=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"h-text-center",children:[(0,a.jsx)(b.N,{isGrayscale:!0,isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(y.w,{className:"h-margin-t-default",level:3,stackSpacing:"x1",children:`Sorry, we couldn't add ${e}.`}),(0,a.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"Please try again. You can also add this shopper the next time you're matched."})]})]})});function X(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function ee(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?X(Object(t),!0).forEach(function(r){(0,j.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}K.displayName="PreferredShopperErrorScreen";let er=(e={})=>{let[r,{close:t,closeAll:o,open:i,isShown:l}]=(0,s.I)(ee(ee({shouldStack:!1},e),{},{type:"drawer"}));r.displayName="PreferredShopperErrorDrawerOverlay";let p=({shopper:e,onAfterClose:s,openSuccessDrawer:o})=>{let{id:i,name:l,photo:p}=null!=e?e:{},{0:c,1:d}=(0,n.useState)(!1),[u,{isLoading:h}]=_(),m=(0,n.useCallback)(async()=>{await u({shopper_id:i},{onSuccess:()=>{d(!0),o()}})},[u,i,o]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r,{headingText:"Shopper not added",onAfterClose:c?void 0:s,renderCellButton:(0,a.jsx)(H,{buttonPrimaryProps:{onClick:h?void 0:m,displayText:"Try again",showSpinner:h,spinnerDataTest:"add-to-preferred-shoppers-spinner"},buttonSecondaryProps:{onClick:t,displayText:"Not this time"}}),scroll:"content",children:(0,a.jsx)(K,{shopperName:l||"your shopper",shopperPhoto:p})})})};p.displayName="PreferredShoppeErrorDrawer";let c=(0,n.useCallback)(p,[r,t]);return(0,n.useMemo)(()=>[c,{close:t,closeAll:o,open:i,isShown:l}],[c,t,o,i,l])};var et=t(698);function ea(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function en(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ea(Object(t),!0).forEach(function(r){(0,j.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ea(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}let es=(e={})=>{let[r,{close:t,closeAll:o,open:i,isShown:l}]=(0,s.I)(en(en({shouldStack:!1},e),{},{type:"drawer"})),[p,{open:c}]=V(),[d,{open:u}]=er(),{trackPreferredShopperPageload:h,trackPreferredShopperAdditionClick:m}=(0,et.W)();r.displayName="PreferredShopperDrawerOverlay";let y=({onAfterClose:e=()=>{},orderId:s,shopper:o,tipAmount:i})=>{let[y,{isLoading:g}]=_(),{id:b,name:v,photo:S}=null!=o?o:{};(0,n.useEffect)(()=>{s&&l&&h({orderId:s})},[s]);let T=(0,n.useCallback)(async()=>{await y({shopper_id:b},{onSuccess:()=>{c(),m({shopperId:b,orderId:s}),(0,k.Dm)(f)},onError:()=>{u()}})},[y,b,s]),w=v?` ${v}`:"",P=(0,n.useCallback)(()=>{t(),e()},[e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r,{headingText:`You ${i&&i>0?"tipped":"rated"}${w}!`,onCloseClick:e,onRequestClose:e,renderCellButton:(0,a.jsx)(H,{buttonPrimaryProps:{onClick:g?void 0:T,displayText:"Add to Preferred Shoppers",showSpinner:g,spinnerDataTest:"add-to-preferred-shoppers-spinner"},buttonSecondaryProps:{onClick:P,displayText:"Not this time"}}),scroll:"content",children:(0,a.jsx)(Z,{shopperName:v||"your shopper",shopperPhoto:S,tipAmount:i})}),(0,a.jsx)(p,{onAfterClose:e,shopper:o}),(0,a.jsx)(d,{onAfterClose:e,openSuccessDrawer:c,shopper:o})]})};y.displayName="PreferredShopperDrawer";let g=(0,n.useCallback)(y,[r,t,l,u,c,d,p,h,m]);return(0,n.useMemo)(()=>[g,{close:t,closeAll:o,isShown:l,open:i}],[g,t,o,l,i])};var eo=t(74149),ei=t(20025),el=t(45057),ep=t(30738);let{useQuery:ec}=(0,u.J)({name:ep.I_,disableOnServer:!0,defaultOptions:{staleTime:ep.Ow},queryFn:async()=>{let{apiKey:e,apis:{orders:{endpointPaths:{shiptPendingOrders:r}}},baseUrl:t}=(0,d.config)().services.apiPlatform,a=h.Z.buildURLWithParams(new URL(r,t),{}),{data:n,ok:s,statusText:o}=await (0,m.U2)(a,{headers:{"x-api-key":e},credentials:"include",timerTag:"shipt_fetch_pending_tippable_orders_api_call",errorTag:"shipt_fetch_pending_tippable_orders_api_error"});if(s)return null!=n?n:null;throw Error(`${o}`)}}),ed=(0,ei.H)(ec,{minimumAssuranceLevel:el.Y3}),{useQuery:eu}=(0,u.J)({name:ep.kI,disableOnServer:!0,defaultOptions:{staleTime:ep.Ow},queryFn:async({orderNumber:e})=>{let{apiKey:r,apis:{orders:{endpointPaths:{shiptOrder:t}}},baseUrl:a}=(0,d.config)().services.apiPlatform,n=h.Z.buildURLWithParams(new URL(t,a),{}),{data:s,ok:o,statusText:i}=await (0,m.U2)(`${n}/${e}`,{headers:{"x-api-key":r},credentials:"include",timerTag:"shipt_fetch_feedback_api_call",errorTag:"shipt_fetch_feedback_api_error"});if(o)return null!=s?s:null;throw Error(`${i}`)}}),eh=(0,ei.H)(eu,{minimumAssuranceLevel:el.Jr}),em=({orderNumber:e,enabled:r=!0}={})=>{let[t]=(0,p.fo)(void 0,{enabled:r}),a=!!t(c.QA),[s]=ed(void 0,{enabled:a&&r}),o=s(e?r=>{var t;return null==r?void 0:null===(t=r.orders)||void 0===t?void 0:t.find(r=>(null==r?void 0:r.id)===e)}:e=>{var r;return null==e?void 0:null===(r=e.orders)||void 0===r?void 0:r[0]}),i=o&&!(null!=o&&o.feedback),l=(0,n.useCallback)(()=>{(0,k.Lh)(ed.queryName),(0,k.Lh)(eh.queryName),(0,k.Dm)(ed),(0,k.Dm)(eh)},[]);return{order:i?o:void 0,invalidateQueries:l}},ef=()=>{let[e,r]=(0,s.I)({type:"drawer",shouldStack:!1}),[t,{open:u,close:h}]=(0,s.I)({type:"drawer",shouldStack:!1}),{trackRateAndTipPageload:m}=(0,et.W)(),[y,{open:g}]=es(),[b,{open:S}]=x(),{0:T,1:P}=(0,n.useState)(),{0:j,1:O}=(0,n.useState)(null),_=(0,o.zy)(),k=(0,d.flags)("GLOBAL_TRBUY_PREFERRED_SHOPPER_ENABLED"),[N,{suppressDrawerTemporarily:C}]=(0,eo.zA)(),D=(0,n.useCallback)(()=>{N||C()},[N,C]),E=({orderNumber:s}={})=>{var o;let{order:d,invalidateQueries:x}=em({orderNumber:s});(0,n.useEffect)(()=>{!d||T||N||(r.open(),P(!0),m({orderId:null==d?void 0:d.id}))},[d]),(0,n.useEffect)(()=>{N&&T&&(r.close(),P(!1))},[]);let E=(0,n.useCallback)(()=>{_?x():C(),P(!1)},[x]),[A]=(0,p.fo)({responseGroup:["shipt"]},{enabled:r.isShown&&k}),I=A(c.hs),[Z,{status:U}]=f(void 0,{enabled:r.isShown&&I&&k&&_}),R=null==d?void 0:null===(o=d.shopper)||void 0===o?void 0:o.id,G=Z(),L=G?G.filter(e=>{var r;return(null==e?void 0:null===(r=e.shopper)||void 0===r?void 0:r.id)===R}):[],$=U!==l.o.Error&&(null==d?void 0:d.shopper)&&0===L.length&&k&&I,B=(0,n.useCallback)((e,r)=>{$&&5===r?(O(e),g()):u()},[$]),M=(0,n.useCallback)(()=>S(),[]);return(0,a.jsxs)(i.h,{action:"error_boundary_shipt_tip_drawer",watchtowerTag:"error_boundary_shipt_tip_drawer",children:[(0,a.jsx)(e,{hasCloseButton:!_,hasDisabledCloseOptions:_,headingText:"Your order was delivered!",children:(0,a.jsx)(w,{closeAndSuppressDrawer:D,handleDuplicateTip:M,onTipFormSuccess:B,order:d})}),(0,a.jsx)(t,{headingText:"Thank you",onAfterClose:E,children:(0,a.jsx)(v,{closeDrawer:h})}),(0,a.jsx)(y,{onAfterClose:E,orderId:null==d?void 0:d.id,shopper:null==d?void 0:d.shopper,tipAmount:j}),(0,a.jsx)(b,{order:d})]})};E.displayName="RateAndTipDrawer";let A=(0,n.useCallback)(E,[D,h,e,b,_,N,k,T,S,g,u,r,y,C,t,j,m]);return[A,r]}},46594:function(e,r,t){t.d(r,{N:function(){return c}});var a=t(85893),n=t(51480),s=t(19521),o=t(56947);let i=({size:e})=>"small"===e?`
        width: 88px;
        height: 88px;
    `:`
    width: 215px;
    height: 215px;
    `,l=({isPreferredShopper:e})=>e?`
        margin-top:0px;
    `:`
  margin-top: ${o.space.generic.x7};
    `,p=s.ZP.div.withConfig({displayName:"styles__ShopperProfilePic",componentId:"sc-1jmlzh2-0"})(["display:inline-block;overflow:hidden;position:relative;transition:width 1s;transition:margin-top 1s;"," img,svg{",";",";object-fit:cover;border-radius:50%;}"],({isPreferredShopper:e})=>l({isPreferredShopper:e}),({isGrayscale:e})=>!0===e?"filter: grayscale(1)":null,({size:e})=>i({size:e})),c=({isGrayscale:e,isPreferredShopper:r,size:t,shopperName:s,shopperPicture:o,showDefaultImage:i=!1,showThankYouDefault:l=!1})=>{let c;return c=l?(0,a.jsx)("img",{alt:"Thank You",src:n.er}):!i&&o?(0,a.jsx)("img",{alt:s,src:o}):e?(0,a.jsx)("img",{alt:"Shipt Shopper",src:n.YH}):(0,a.jsx)("img",{alt:"Shipt Shopper",src:n.G_}),(0,a.jsx)(p,{isGrayscale:e,isPreferredShopper:r,size:t,children:c})};c.displayName="ShopperProfilePicture"},74149:function(e,r,t){t.d(r,{zA:function(){return l}});var a=t(67294),n=t(56823),s=t(58545);let o="SDRAT_SUPRESS",i="SDRAT_SUPRESS_COUNT",l=()=>{let{0:e,1:r}=(0,a.useState)(!1),t=(0,a.useCallback)(()=>n.ZP.remove(o),[]),l=(0,a.useCallback)(()=>n.ZP.remove(i),[]),p=(0,a.useCallback)(async()=>{var e;return null!==(e=await n.ZP.get(i))&&void 0!==e?e:0},[]),c=(0,a.useCallback)(async()=>{var e,r;let t=null!==(e=await n.ZP.get(o))&&void 0!==e&&e,a=null===(r=await n.ZP.isExpired(o))||void 0===r||r;return!!(t&&!a)},[]),d=(0,a.useCallback)(e=>{l(),t();let r=(0,s.Z)(new Date,30);return n.ZP.set(o,e,{expiry:r.getTime()})},[l,t]);(0,a.useEffect)(()=>{let t=async()=>{if(e)return;let t=await c();r(t)};t()},[c,r,e]);let u=(0,a.useCallback)(()=>{let r=async()=>{if(e)return;let r=await p();r<1?n.ZP.set(i,r+1):await d(!0)};r()},[e,p,d]),h=(0,a.useCallback)(()=>{e||r(!0)},[e]);return(0,a.useMemo)(()=>[e,{suppressDrawer:u,suppressDrawerTemporarily:h,clearDrawerSuppressionCount:l,clearShouldSuppress:t}],[e,u,h,l,t])}},698:function(e,r,t){t.d(r,{W:function(){return s}});var a=t(67294),n=t(43430);let s=()=>{let e=(0,n.rS)(),r=(0,a.useCallback)(({orderId:r,rating:t,tip:a,tipPercentage:n})=>{e.trackEvent({guest:{eventType:"click"},appState:{pageName:"rate and tip",pageType:"rate and tip",cmsPageId:"/rateAndTip/",cmsPageType:"/rateAndTip/"},lnk:{contentClick:{componentType:`rate and tip: star rating : ${t}`,contentType:r,componentSubType:a,linkName:n}}})},[e]),t=(0,a.useCallback)(({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip: order details",pageType:"rate and tip: order details",cmsPageId:"/rateAndTip/orderDetails/",cmsPageType:"/rateAndTip/orderDetails/",previousPageName:"rate and tip"},components:[{componentType:"rate and tip",contentType:r}]})},[e]),s=(0,a.useCallback)(({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip/favoriteshopper",pageType:"rate and tip",cmsPageId:"/rateAndTip/favoriteshopper",cmsPageType:"/rateAndTip"},components:[{componentType:"rate and tip: Favorite shopper",contentType:r}]})},[e]),o=(0,a.useCallback)(({shopperId:r,orderId:t})=>{e.trackEvent({guest:{eventType:"click"},appState:{pageName:"rate and tip/favoriteshopper",pageType:"rate and tip",cmsPageId:"/rateAndTip/favoriteshopper",cmsPageType:"/rateAndTip"},lnk:{contentClick:{component:`Shopper id: ${r}`,contentType:t,componentType:"rate and tip: Favorite shopper added"}}})},[e]),i=(0,a.useCallback)(({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip",pageType:"rate and tip",cmsPageId:"/rateAndTip/",cmsPageType:"/rateAndTip/"},components:[{componentType:"rate and tip",contentType:r}]})},[e]);return{trackRatingAndTipSubmissionClick:r,trackOrderDetailsLitePageload:t,trackPreferredShopperPageload:s,trackPreferredShopperAdditionClick:o,trackRateAndTipPageload:i}}},51480:function(e,r){var t,a,n,s="87373691";r.Lr=void 0,(n=r.Lr||(r.Lr={})).CONTACT_CUSTOMER="CONTACT_CUSTOMER",n.BEST_JUDGEMENT="BEST_JUDGEMENT",n.NO_SUBSTITUTION="NO_SUBSTITUTION",(t={})[r.Lr.CONTACT_CUSTOMER]="Text me",t[r.Lr.BEST_JUDGEMENT]="Get similar item",t[r.Lr.NO_SUBSTITUTION]="Donâ€™t substitute",(a={})[r.Lr.CONTACT_CUSTOMER]="Let me help choose a substitute.",a[r.Lr.BEST_JUDGEMENT]="Shopper can use their best judgment.",a[r.Lr.NO_SUBSTITUTION]="Get only the items I selected.",r.r2={cart_item:{item_type:"SHIPT_MEMBERSHIP",quantity:1,tcin:s},fulfillment:{type:"EMAIL"},cart_type:"REGULAR",channel_id:"10"},r.kH=s,r.Gm="$35",r.tT="$9.99",r.SP="https://help.target.com/help/subcategoryarticle?childcat=Same+Day+Delivery+%28shopped+by+Shipt%29&parentcat=Delivery+%26+Pickup&searchQuery=search+help",r.G_="https://target.scene7.com/is/image/Target/GUEST_bab38ca0-c750-488f-b10c-c20a40871861",r.YH="https://target.scene7.com/is/content/Target/GUEST_b77289f9-78a0-4799-aece-c231b1c5bc32",r.ks="https://target.scene7.com/is/content/Target/GUEST_189c0c4d-a730-4459-b564-96ae5f29f6cd",r.er="https://target.scene7.com/is/image/Target/GUEST_291b667d-1dee-450d-980e-fe4463d51538",r.pj="$99",r.o2="$99.00",r.E1=99},30738:function(e,r,t){t.d(r,{I_:function(){return n},Ow:function(){return a},S3:function(){return i},kI:function(){return s},ud:function(){return o}});let a=3e5,n="@web/domain-orders/get-pending-shipt-orders",s="@web/domain-orders/get-shipt-order",o="@web/domain-orders/post-shopper-rating-and-tip",i={pending_order:!0,shipt_status:!0}},79167:function(e,r,t){t.d(r,{h:function(){return p}});var a=t(85893),n=t(19521),s=t(56947),o=t(10410);let i=e=>e?`0 0 ${s.space.generic.x4} 0;`:`0 ${s.space.generic.x4} 0 0`,l=(0,n.ZP)(o.q).withConfig({displayName:"styles__StyledCell",componentId:"sc-og024m-0"})(["padding:",";box-sizing:border-box;"," > button{margin:",";}"],s.space.generic.x4,({isStacked:e})=>e&&"flex-direction: column;",({isStacked:e})=>i(e)),p=({children:e,"data-test":r,isStacked:t=!1})=>(0,a.jsx)(l,{"data-test":r,divider:"topOnlySmallScreen",isStacked:t,children:e});p.displayName="ButtonGroup"},71002:function(e,r,t){t.d(r,{Z:function(){return a}});function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}}}]);