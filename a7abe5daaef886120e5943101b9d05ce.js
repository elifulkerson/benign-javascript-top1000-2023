"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4398,1119],{35593:function(e,t,n){n.r(t),n.d(t,{AddToCartButtonForProductContext:function(){return p}});var o=n(59499),r=n(85893),l=n(67294),i=n(60217),a=n(81982),d=n(93041),c=n(89175);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let p=e=>{let t=(0,i.Ao)(e=>e),n=(0,i.ct)(e=>e),{customGiftCardAmount:o}=(0,c.S)(),s="Custom value"===o?a.TX.DISABLE_WITH_CORRECT_BUTTON_TYPE:e.overrideBehavior,p=(0,i.MN)(),m=null!=p?p:null==t?void 0:t.tcin,h=(0,l.useMemo)(()=>u(u({},n),{},{children:void 0,parent:void 0}),[n]),v=(0,l.useMemo)(()=>u(u({},t),{},{parent:h,tcin:m}),[t,h,m]);return m?(0,r.jsx)(d.a,u(u({childOrStandaloneProduct:v,tcin:m},e),{},{overrideBehavior:s})):null};p.displayName="AddToCartButtonForProductContext"},85393:function(e,t,n){n.d(t,{Dm:function(){return d},VB:function(){return l},Wk:function(){return c},YE:function(){return a},fr:function(){return r},k2:function(){return i},t_:function(){return o}});let o=e=>null==e?void 0:e.recommended_products,r=e=>null==e?void 0:e.recommended_products,l=e=>null==e?void 0:e.products,i=e=>null==e?void 0:e.strategy_description,a=e=>null==e?void 0:e.strategy_name,d=e=>null==e?void 0:e.strategy_id,c=e=>{var t,n;let o=null!==(t=null==e?void 0:e.products)&&void 0!==t?t:[],r=null==o?void 0:o.map(e=>{var t;return{placementType:"recommendations",tcin:null!==(t=null==e?void 0:e.tcin)&&void 0!==t?t:""}}),l={guest:{eventType:"recommendations"},products:r,recommendations:{docType:null!==(n=null==e?void 0:e.doctype)&&void 0!==n?n:"",placementId:null==e?void 0:e.strategy_id,strategyDescription:null==e?void 0:e.strategy_description,strategyId:null==e?void 0:e.strategy_id,strategyName:null==e?void 0:e.strategy_name,type:"product"}};return l}},69390:function(e,t,n){n.d(t,{Ql:function(){return v}});var o=n(59499),r=n(44350),l=n(25682),i=n(61464),a=n(47269),d=n(27139),c=n(11637),s=n(56276);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}let p="@web/domain-promotions/get-recommended-promotions-v1",m=["page","placement_id","pricing_store_id","visitor_id"],{useQuery:h}=(0,l.J)({name:p,keyFn:e=>(m.forEach(t=>{if(!e[t])throw Error(`Required \`${t}\` was missing from query: \`${p}\``)}),[p,e]),queryFn:async(e,t)=>{var n;let l=await (0,d.W)(),{apiKey:c,apis:{promotions:s},baseUrl:p}=(0,r.config)().services.redskyAggregations,{barcode_id:m,category_id:h,channel:v="WEB",fulfillment_types:g,loyalty_id:f,member_id:y,offer_id:b,page:_,placement_id:j,plan_id:x,pricing_store_id:P,purchasable_store_ids:O,slingshot_component_id:k,tcins:w,visitor_id:T,page_token:C}=null!=e?e:{},N=a.Z.buildURLWithParams(new URL(s.endpointPaths.getRecommendedPromotionsV1,p),{barcode_id:m,category_id:h,channel:v,effective_date:l,fulfillment_types:g,loyalty_id:f,member_id:y,offer_id:b,page:_,placement_id:j,plan_id:x,pricing_store_id:P,purchasable_store_ids:O,slingshot_component_id:k,tcins:w,visitor_id:T,page_token:C,key:c}),{data:I,ok:E,statusText:D}=await (0,i.G)(N,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({partialErrorTag:"get_recommended_promotions_v1_error_partial",errorTag:"get_recommended_promotions_v1_error",timerTag:"get_recommended_promotions_v1_call"},t));if(E)return null!==(n=null==I?void 0:I.data)&&void 0!==n?n:null;throw Error(`${D}`)},defaultOptions:{staleTime:s.e}}),v=(0,c.p)(h)},39271:function(e,t,n){n.d(t,{F5:function(){return o},hc:function(){return r}});let o=e=>null==e?void 0:e.promotion_id,r=e=>null==e?void 0:e.image_url},83047:function(e,t,n){n.d(t,{B6:function(){return l},CV:function(){return d},LA:function(){return a},NT:function(){return c},cF:function(){return i},pA:function(){return r},yl:function(){return o}});let o=e=>null==e?void 0:e.recommended_promotions,r=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.strategy_description},l=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.placement_id},i=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.doctype},a=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.strategy_id},d=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.strategy_name},c=e=>{var t;return null==e?void 0:null===(t=e.recommended_promotions)||void 0===t?void 0:t.promotions}},54398:function(e,t,n){n.r(t),n.d(t,{PersonalizationCarousel:function(){return e9}});var o=n(59499),r=n(85893),l=n(238),i=n(96026),a=n.n(i),d=n(41609),c=n.n(d),s=n(67294),u=n(53463),p=n(96722),m=n(39788),h=n(35214),v=n(43430),g=n(46879),f=n(40424),y=n(85393),b=n(60217),_=n(18617),j=n(42850),x=n(32657),P=n(11163),O=n(80367),k=n(35281),w=n(27041);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}let C=(e,t)=>{if(!e)return{};let{category_id:n,doctype:o,placement_id:r,strategy_description:l,strategy_id:i,strategy_name:a,products:d=[]}=e;return{recommendations:{categoryId:n,docType:o,placementId:r,strategyDescription:l,strategyId:i,strategyName:a,type:"product"},components:[{component:t,type:"components"}],products:d.map(({tcin:e})=>({placementType:"recommendations",tcin:e}))}},N=(e,t)=>(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e})({guest:{eventType:"recommendations"}},C(e,t)),I=(e,t)=>{if(null!=t)return e[t]},E=(e,t)=>{let n=t.currentTarget?t.currentTarget.dataset.index:"",o=I(e,Number(n));if(null!=o&&o.sponsoredTrackingData){let{ad_source:e,click_id:t,click_token:n}=o.sponsoredTrackingData;return{customInteraction:{value:`${t}|${n}`},products:[{tcin:o.tcin,sponsor:{name:e}}],guest:{eventType:"customInteraction"}}}return{}},D=e=>{var t;let n=null==e?void 0:null===(t=e.products)||void 0===t?void 0:t.filter(e=>"sponsored_ad"in e);return n.length<=0?{}:{guest:{eventType:"adimp"},adImpressions:null==n?void 0:n.map(e=>({creativeId:e.sponsored_ad?e.sponsored_ad.impression_id:"",lineItemId:e.tcin,orderId:"",slotSize:"",xApiId:"",sponsor:{name:e.sponsored_ad?e.sponsored_ad.ad_source:""}}))}},S=(e,t)=>{var n,o,r;let l=null!==(n=null==e?void 0:null===(o=e.components)||void 0===o?void 0:o[0])&&void 0!==n?n:{};return{name:null!==(r=null==l?void 0:l.title)&&void 0!==r?r:null==l?void 0:l.id,position:String(t),component:null!=l&&l.title?`${null==l?void 0:l.id} || ${null==l?void 0:l.title}`:null==l?void 0:l.id,componentType:null==l?void 0:l.type_name,contentType:null==l?void 0:l.content_type}};var A=n(8668);let R=(e=[])=>e.map(e=>{let t=(0,A.hg)(e),n=(0,_.TV)(e);return{tcin:t,sponsoredTrackingData:n,id:t}});var B=n(90945),z=n(37586),F=n(48496),$=n(35593),Z=n(81982),L=n(72604),M=n(44350),W=n(77041),Y=n(36786),H=n(30497),U=n(30560),G=n(40801),V=n(33460),K=n(75203),q=n(85702),X=n(66069);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ee=({callToAction:e,handleAddToCartClick:t,handleAddToRegistryClick:n,handleItemClick:o,index:l,product:i,slotMetadata:a,trackingPayload:d,useBorder:c})=>{let{tcin:u,sponsored_ad:p}=i,m=(0,M.flags)("GLOBAL_PRICE_STRIKETHROUGH_ENABLED"),h="add_to_cart"===e&&(0,M.flags)("PRZ_ITEM_CAROUSEL_ADD_TO_CART_ENABLED"),v=(0,b.ct)(z.Mw),g=(0,b.ct)(z.jz),f=(0,F.T)(),y=(0,W.u)(),_=(0,s.useMemo)(()=>({recClick:Q({position:l,productId:u,type:"product"},d)}),[l,u,d]),j=(0,s.useCallback)(e=>Q(Q({},e),{},{lnk:Q(Q({},e.lnk),{},{recClick:Q(Q({},d),{},{position:l,productId:u})})}),[l,u,d]);return(0,r.jsx)(K.Y,Q(Q({creativeId:null==p?void 0:p.impression_id,id:u,index:l,sponsorName:null==p?void 0:p.ad_source},a),{},{children:(0,r.jsxs)(q.a4,{"data-test":`item-card-${u}`,useBorder:c,children:[(0,r.jsxs)(X.Fg,{"data-index":u,"data-test":"item-link",href:v,onClick:o,style:{color:"#333",flex:"1 0 auto",width:"100%"},underline:"invert",children:[(0,r.jsx)(q.Vt,{alt:f,src:g}),(0,r.jsxs)(q.Mv,{children:[(0,r.jsx)(G.S,{isStrikethroughPriceEnabled:m,showPdpPromoMessage:!0,textAlignment:"left"}),(0,r.jsx)(B.k,{className:"h-text-md h-hidden-md-up h-margin-t-tiny","data-test":"product-title-sm",lines:3,children:f}),(0,r.jsx)(B.k,{className:"h-text-md h-hidden-sm-down h-margin-t-tiny","data-test":"product-title-md-lg",lines:2,children:f})]})]}),"add_to_registry"===e?(0,r.jsx)(q.W4,{onClick:n,children:(0,r.jsx)(V.E,{buttonSize:"sm",isInPrzCarousel:!0,lnkData:_,showPlpVersionButton:!0})}):h?(0,r.jsx)(q.W4,{onClick:t,children:(0,r.jsx)($.AddToCartButtonForProductContext,{"aria-label":`Add ${f} to Cart`,handleOverridingOrAddingTrackingFieldsToAddToCartSuccess:j,isFullWidth:!0,overrideBehavior:Z.TX.ENABLE_CHOOSE_OPTIONS_ONLY_MODE,placementType:L.bo.SlingshotCarousel,size:"sm"})}):y?(0,r.jsx)(q.W4,{children:(0,r.jsx)(Y.M,{placement:H.d7.PLP_PRZ})}):null]})}))};ee.displayName="ProductsTile";var et=(0,U.m)({action:"error_boundary_prz_carousel_products_tile",watchtowerTag:"error_boundary_prz_carousel_products_tile"})(ee),en=n(56947);let eo="@web/SlingshotComponents/ProductsCarousel";en.colors.palette.gray.darkest,en.colors.palette.white;var er=n(58979),el=n(19521);let ei=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__PlaceholderWrapper",componentId:"sc-f6s8vj-0"})(["margin:",";width:calc(100% - ",");min-width:110px;"],en.space.generic.x1,en.space.generic.x2),ea=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__ImagePlaceholderWrapper",componentId:"sc-f6s8vj-1"})(["width:100%;min-width:117px;"]),ed=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__ImagePlaceholder",componentId:"sc-f6s8vj-2"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:100%;padding-bottom:100%;background:#c4c4c4;}"]),ec=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__TitlePlaceholder",componentId:"sc-f6s8vj-3"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:50%;height:1em;background:",";margin-top:0.25em;margin-bottom:0.4em;}"],en.colors.palette.gray.darkest),es=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__TextPlaceholder",componentId:"sc-f6s8vj-4"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:90%;height:1em;background:#c4c4c4;margin-bottom:0.25em;}&::after{content:' ';display:block;width:80%;height:1em;background:#c4c4c4;margin-bottom:0.4em;}"]),eu=el.ZP.div.withConfig({displayName:"ProductsTilePlaceholder__BottomTextPlaceholder",componentId:"sc-f6s8vj-5"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:70%;height:1em;background:#c4c4c4;margin-bottom:0.4em;}"]);function ep({useBorder:e}){return(0,r.jsxs)(q.a4,{"data-test":"@web/SiteTopOfFunnel/ProductsTilePlaceholder",useBorder:e,children:[(0,r.jsx)(ea,{children:(0,r.jsx)(ed,{})}),(0,r.jsxs)(ei,{children:[(0,r.jsx)(ec,{}),(0,r.jsx)(es,{}),(0,r.jsx)(eu,{})]})]})}ep.displayName="ProductsTilePlaceholder";var em=n(81316),eh=n(69686),ev=n(17367),eg=n(13347),ef=n(2181),ey=n(99093);let eb={ERROR_BOUNDARY_DPLP_PICKED_FOR_YOU_SIGN_IN:"error_boundary_deals_hub_top_items_sign_in"},e_=()=>{let{trackEvent:e}=(0,v.rS)(),t=()=>e({guest:{eventType:"click"},lnk:{contentClick:{component:"DPLP SignInButton",componentType:"Button",linkName:"SignInButton"}}}),n=()=>e({guest:{eventType:"click"},lnk:{contentClick:{component:"DPLP CircleOptinButton",componentType:"Button",linkName:"CircleOptinButton"}}});return{trackSignInClick:t,trackCircleOptinClick:n}},ej=()=>{let{trackSignInClick:e}=e_(),t=(0,s.useCallback)(t=>{null==t||t.preventDefault(),e(),(0,eg.zB)()},[e]),{screenMd:n}=(0,p.l)(),o=!n;return(0,r.jsxs)(q.l1,{"data-test":"deals-top-items-sign-in",children:[(0,r.jsxs)(q.Bp,{children:[(0,r.jsx)(ef.t,{alt:"",className:o?"":"h-margin-h-x2",height:"118px",src:"https://target.scene7.com/is/content/Target/GUEST_b35e1251-ed27-4fdb-b18b-66cef3463e86"}),(0,r.jsxs)("span",{className:o?"h-text-bold h-text-md":"h-text-bold h-text-md h-margin-t-tight",children:["Save on your popular items",(0,r.jsx)("span",{className:"h-display-block",children:" from this deal"})]}),(0,r.jsx)("span",{className:"h-text-sm h-padding-v-tiny",children:"Add items to cart with a tap. Plus discover even more items we think youâ€™ll love!"})]}),(0,r.jsx)(ey.D,{isFullWidth:!0,onClick:t,size:"sm",type:"button",children:"Sign in"})]})};ej.displayName="SignInTile";let ex=(0,U.m)({action:eb.ERROR_BOUNDARY_DPLP_PICKED_FOR_YOU_SIGN_IN,watchtowerTag:eb.ERROR_BOUNDARY_DPLP_PICKED_FOR_YOU_SIGN_IN})(ej);function eP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function eO(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eP(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let ek=e=>"standard"===e?"default":e;function ew({content:e,metadata:t,slotMetadata:n,options:o,order:l}){var i,d,T,C,I,A,B;let z=(0,g.xd)(),{isBot:F}=(0,s.useContext)(u.I.Context),{background_color:$,endcap:Z,margin_bottom:L,text_color:M,custom_headline:W}=null!=e?e:{},{fullWidth:Y=!1,isDPLPCarousel:H=!1}=null!=o?o:{},U=null!==(i=null!==(d=null==Z?void 0:Z.background_color)&&void 0!==d?d:$)&&void 0!==i?i:"",G=null!==(T=null!=M?M:null==Z?void 0:Z.text_color)&&void 0!==T?T:"",V=(0,v.rS)(),{asPath:K}=(0,P.useRouter)(),q=(0,x.ew)(K),J=!$||"white"===$||"#FFFFFF"===$,{screenMd:Q}=(0,p.l)(),ee=(0,O.X)(),en=(0,k.Y)(K),el=(0,w.Y)(),ei=el(e=>{var t;return null==e?void 0:null===(t=e.metadata)||void 0===t?void 0:t["x-api-id"]}),[ea,ed]=(0,f.q)({placement_id:null==e?void 0:e.placement_id,category_id:null==e?void 0:e.category_id,brand_ids:null==e?void 0:e.brand_ids,offer_id:null==e?void 0:e.offer_id,fulfillment_types:null==e?void 0:e.fulfillment_types,slingshot_component_id:null==t?void 0:null===(C=t.components)||void 0===C?void 0:null===(I=C[0])||void 0===I?void 0:I.id,resolve_to_first_variation_child:"/c/0cb2f"===q,facet_ids:null==e?void 0:e.facet_ids}),ec=ed.isIdle||ed.isFetching||ed.isLoading,es=null==t?void 0:null===(A=t.components)||void 0===A?void 0:null===(B=A[0])||void 0===B?void 0:B.id,eu=ea(y.fr),eg=en?null!=W?W:"Headline placeholder":ec?(0,r.jsx)("span",{children:"\xa0"}):null!=W?W:"Headline placeholder";(0,s.useEffect)(()=>{eu&&(V&&V.trackEvent(N(eu,es)),V&&V.trackEvent(D(eu)))},[eu,V,es]);let ef=(0,y.VB)(eu),ey=(0,y.k2)(eu),eb=(0,y.Dm)(eu),e_=(0,y.YE)(eu),ej=R(ef),eP={strategyId:eb,strategyName:e_},ew=(0,b.Ao)(_.$y),eT=(0,s.useCallback)((n,o)=>r=>{let i=S(t,l);ew?(V.trackEvent(E(ej,r)),V.trackEvent({event:{name:"openNewPage",source:`product ad | ${null==e?void 0:e.placement_id} | ${n}`,type:"click"},guest:{eventType:"click"},products:[{tcin:o}]})):(0,v.OK)({recClick:{position:n,productId:o,strategyId:eb,strategyName:e_,type:"product"},contentClick:i})},[null==e?void 0:e.placement_id,ew,eb,e_,V,ej,t,l]),eC=(0,s.useCallback)(e=>{var n,o;let r=e.target===e.currentTarget,l=e.currentTarget.contains(e.target);(r||l)&&V.trackEvent((0,ev.P)({name:"addToRegistry",source:null==t?void 0:null===(n=t.components)||void 0===n?void 0:null===(o=n[0])||void 0===o?void 0:o.id,type:"click"},{eventType:"click"},{xApiId:ei,relationship:"components"}))},[t,V,ei]),eN=(0,s.useCallback)(e=>{var n,o;let r=e.target===e.currentTarget,l=e.currentTarget.contains(e.target);(r||l)&&V.trackEvent((0,ev.P)({name:"addToCart",source:null==t?void 0:null===(n=t.components)||void 0===n?void 0:null===(o=n[0])||void 0===o?void 0:o.id,type:"click"},{eventType:"click"},{xApiId:ei,relationship:"components"}))},[t,V,ei]),eI=!!(null!=e&&e.placement_id)&&!!(null!=ef&&ef.length),eE=c()(Z)?null:(0,r.jsx)(er.e,eO(eO({},Z),{},{background_color:U,headline:ey&&eI?ey:ee?en?null!=W?W:"Headline placeholder":ec?void 0:null!=W?W:"Headline placeholder":"",text_color:G})),eD=Q?eE:null,eS=Q?null:eE,eA=a()(10).map(e=>(0,r.jsx)(eh.P,{},e)),eR=a()(10).map(e=>(0,r.jsx)(ep,{useBorder:J},e)),eB=Z?null:(0,r.jsx)(X.JU,{background_color:U||$,className:"l-container l-container-standard h-padding-a-x2",text_color:G,children:(0,r.jsx)(m.w,{className:"h-margin-b-none h-margin-t-x2",level:2,size:1,style:{color:"inherit"},children:ey&&eI?ey:ee?eg:ec?(0,r.jsx)("span",{children:"\xa0"}):""})});return F&&!eI?null:ee?(0,r.jsxs)("div",{"aria-label":"Carousel",className:`l-container ${Y?"":"l-container-standard"}`,"data-test":eo,role:"region",children:[eB,(0,r.jsxs)(X.TZ,{backgroundColor:null==e?void 0:e.background_color,className:`${L?`h-margin-b-${ek(L)}`:""}`,"data-test":"filmstrip-products-carousel",extraPadding:!!(null!=e&&e.background_color)&&!eD&&Q,children:[eS,(0,r.jsxs)(h.T,{children:[eD,H&&!z&&!ec&&(0,r.jsx)(ex,{}),c()(ef)?ec?en?eR:eA:eR:null==ef?void 0:ef.map((t,o)=>{var l;return(0,r.jsx)(j.d,{debugName:"PersonalizationCarouselWithProducts",queryResult:ed,value:eO({},t),children:(0,r.jsx)(et,{callToAction:null==e?void 0:null===(l=e.container)||void 0===l?void 0:l.callToAction,handleAddToCartClick:eN,handleAddToRegistryClick:eC,handleItemClick:eT(o,null==t?void 0:t.tcin),index:o,product:t,slotMetadata:n,trackingPayload:eP,useBorder:J})},`product-${o}`)})]})]})]}):(0,r.jsx)(em.p,{controlled:!0,noAnimation:ec||eI,open:ec||eI,variant:"bare",children:(0,r.jsxs)("div",{"aria-label":"Carousel",className:`l-container ${Y?"":"l-container-standard"}`,"data-test":eo,role:"region",children:[eB,(0,r.jsxs)(X.TZ,{backgroundColor:null==e?void 0:e.background_color,className:`${L?`h-margin-b-${ek(L)}`:""}`,"data-test":"filmstrip-products-carousel",extraPadding:!!(null!=e&&e.background_color)&&!eD&&Q,children:[eS,(0,r.jsxs)(h.T,{children:[eD,H&&!z&&!ec&&(0,r.jsx)(ex,{}),eI?ef.map((t,o)=>{var l;return(0,r.jsx)(j.d,{debugName:"PersonalizationCarouselWithProducts",queryResult:ed,value:eO({},t),children:(0,r.jsx)(et,{callToAction:null==e?void 0:null===(l=e.container)||void 0===l?void 0:l.callToAction,handleAddToCartClick:eN,handleAddToRegistryClick:eC,handleItemClick:eT(o,null==t?void 0:t.tcin),index:o,product:t,slotMetadata:n,trackingPayload:eP,useBorder:J})},`product-${o}`)}):eA]})]})]})})}ew.displayName="ProductsCarousel";var eT=n(23258),eC=n(69390),eN=n(39271),eI=n(83047);let eE="@web/SlingshotComponents/PromotionsCarousel",eD=(e,t)=>({guest:{eventType:"click"},offerInfo:{offers:[{offerId:(0,eN.F5)(t[Number.parseInt(e,10)]),offerPosition:e,offerSelected:!0,offerType:"promo"}]}}),eS=(e,t,n)=>{if(!e.length)return{};let o=e.map((e,t)=>({offerId:e.promotion_id,offerPosition:String(t),offerType:"promo"}));return{offers:o,strategyId:t,strategyName:n}},eA=(e,t)=>{if(!e)return{};let{doctype:n,placement_id:o,strategy_description:r,strategy_id:l,strategy_name:i,promotions:a=[]}=e;return{guest:{eventType:"recommendations"},recommendations:{docType:n,placementId:o,strategyDescription:r,strategyId:l,strategyName:i,type:"promo"},components:[{component:t,type:"components"}],products:a.map(({promotion_id:e})=>({placementType:"recommendations",tcin:e})),offerInfo:eS(a,l,i)}},eR=(e,t)=>{var n,o,r;let l=null!==(n=null==e?void 0:null===(o=e.components)||void 0===o?void 0:o[0])&&void 0!==n?n:{};return{name:null!==(r=null==l?void 0:l.title)&&void 0!==r?r:null==l?void 0:l.id,position:String(t),component:null!=l&&l.title?`${null==l?void 0:l.id} || ${null==l?void 0:l.title}`:null==l?void 0:l.id,componentType:null==l?void 0:l.type_name,contentType:null==l?void 0:l.content_type}};var eB=n(22235);function ez(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function eF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ez(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ez(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let e$=({item:e,index:t,handleRecItemClick:n,useBorder:o,slotMetadata:l})=>{let{pdp_message:i,messaging:a}=null!=e?e:{},{short_description:d,title:c,subtitle:s}=null!=a?a:{},u=(0,eN.F5)(e),p=null!=i?i:`${null!=d?d:""} ${null!=c?c:""} ${null!=s?s:""}`;return(0,r.jsx)(K.Y,eF(eF({id:u,index:t},l),{},{children:(0,r.jsxs)(q.a4,{"data-test":`item-card-${t}`,useBorder:o,children:[(0,r.jsxs)(X.Fg,{"aria-label":p,"data-index":t,"data-test":"deal-link",href:`/pl/${u}?link=prz_top_deals_`,onClick:n,style:{flex:"1 0 auto",color:"#333"},underline:"invert",children:[(0,r.jsx)(q.Vt,{alt:"",src:(0,eN.hc)(e)}),(0,r.jsxs)(q.Mv,{children:[!!a&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.k,{className:"h-text-red h-text-bold h-text-md","data-test":"pbo-short-desc",lines:1,children:d}),(0,r.jsx)(B.k,{className:"h-text-bold h-text-md","data-test":"pbo-title",lines:2,children:c}),(0,r.jsx)(B.k,{className:"h-text-md h-hidden-md-up","data-test":"pbo-sub-sm",lines:3,children:s}),(0,r.jsx)(B.k,{className:"h-text-md h-hidden-sm-down","data-test":"pbo-sub-md-lg",lines:2,children:s})]}),!!i&&(0,r.jsx)(B.k,{className:"h-text-red h-text-bold h-text-md","data-test":"basket-offers-message",lines:3,children:i})]})]}),(0,r.jsx)(q.W4,{children:(0,r.jsx)(eB.P,{"aria-label":`Shop offer ${p}`,"data-index":t,"data-test":"deals-item-link",href:`/pl/${u}?link=prz_top_deals_`,isFullWidth:!0,onClick:n,role:"button",size:"sm",children:"Shop offer"})})]})}))};e$.displayName="PromotionTile";var eZ=(0,U.m)({action:"error_boundary_prz_carousel_promotion_tile",watchtowerTag:"error_boundary_prz_carousel_promotion_tile"})(e$),eL=n(86820),eM=n(50411);let eW=el.ZP.div.attrs({className:"h-padding-h-tight"}).withConfig({displayName:"styles__StyledTextContainer",componentId:"sc-s1bnkt-0"})(["width:100%;h3{line-height:",";font-size:15px;@media (min-width:","){font-size:13px;}@media (min-width:","){font-size:15px;}}"],en.font.lineHeight.heading,en.breakpoints.lg,en.breakpoints.xl),eY=el.ZP.div.withConfig({displayName:"styles__StyledGlobalLinkWrapper",componentId:"sc-s1bnkt-1"})(["display:flex;position:relative;background:",";max-width:175px;padding:",";margin:",";text-align:center;width:100%;align-items:center;&::before{content:'';display:block;}"],en.colors.palette.white,en.space.generic.x3,en.space.generic.x2),eH=(0,el.ZP)(eM.F).withConfig({displayName:"styles__StyledGlobalLink",componentId:"sc-s1bnkt-2"})(["width:100%;display:flex;align-items:center;min-height:66px;"]),eU=({global_link:e})=>{if(!e)return null;let{link_name:t="",link_tag:n,link_url:o}=e;return(0,r.jsx)(eY,{children:(0,r.jsx)(eH,{"data-lnk":n,href:o,children:(0,r.jsx)(eW,{children:(0,r.jsx)(m.w,{className:"h-margin-b-none",innerHTML:t,level:3,size:3})})})})};eU.displayName="GlobalLink";let eG=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__PlaceholderWrapper",componentId:"sc-1hj3rw-0"})(["margin:",";width:calc(100% - ",");min-width:110px;"],en.space.generic.x1,en.space.generic.x2),eV=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__ImagePlaceholderWrapper",componentId:"sc-1hj3rw-1"})(["width:100%;min-width:117px;"]),eK=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__ImagePlaceholder",componentId:"sc-1hj3rw-2"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:100%;padding-bottom:100%;background:#c4c4c4;}"]),eq=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__TitlePlaceholder",componentId:"sc-1hj3rw-3"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:50%;height:1em;background:",";margin-top:0.25em;margin-bottom:0.4em;}"],en.colors.palette.red.default),eX=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__TextPlaceholder",componentId:"sc-1hj3rw-4"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:90%;height:1em;background:#c4c4c4;margin-bottom:0.25em;}&::after{content:' ';display:block;width:80%;height:1em;background:#c4c4c4;margin-bottom:0.4em;}"]),eJ=el.ZP.div.withConfig({displayName:"PromotionTilePlaceholder__BottomTextPlaceholder",componentId:"sc-1hj3rw-5"})(["position:relative;font-size:14px;&::before{content:' ';display:block;width:70%;height:1em;background:#c4c4c4;margin-bottom:0.4em;}"]);function eQ({useBorder:e}){return(0,r.jsxs)(q.a4,{"data-test":"@web/SiteTopOfFunnel/PromotionTilePlaceholder",useBorder:e,children:[(0,r.jsx)(eV,{children:(0,r.jsx)(eK,{})}),(0,r.jsxs)(eG,{children:[(0,r.jsx)(eq,{}),(0,r.jsx)(eX,{}),(0,r.jsx)(eJ,{})]})]})}function e0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function e1(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e0(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e0(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}eQ.displayName="PromotionTilePlaceholder";let e4=e=>"standard"===e?"default":e,e3=({content:e,options:t,order:n,metadata:o,slotMetadata:l})=>{var i,d,g,f,y;let{placement_id:b,offer_id:_,endcap:j,global_link:x,background_color:w,margin_bottom:T,category_id:C,text_color:N,fulfillment_types:I,slingshot_component_id:E,custom_headline:D}=null!=e?e:{},{fullWidth:S=!1}=null!=t?t:{},{background_color:A,headline:R,image:B}=null!=j?j:{},z=!w||"white"===w||"#FFFFFF"===w,{trackEvent:F}=(0,v.rS)(),{screenMd:$}=(0,p.l)(),{isBot:Z}=(0,s.useContext)(u.I.Context),[L,M]=(0,eC.Ql)({category_id:C,offer_id:_,placement_id:null!=b?b:"promotions_component_tester",fulfillment_types:I,slingshot_component_id:E}),W=M.isIdle||M.isFetching||M.isLoading,Y=L(eI.yl),H=(0,s.useMemo)(()=>{var e;return null!==(e=L(eI.NT))&&void 0!==e?e:[]},[L]),U=L(eI.LA),G=L(eI.CV),V=L(eI.pA),K=null!=V?V:R,q=(null!==(i=null==H?void 0:H.length)&&void 0!==i?i:0)>0,J=(null==o?void 0:null===(d=o.components)||void 0===d?void 0:null===(g=d[0])||void 0===g?void 0:null===(f=g.type_name)||void 0===f?void 0:f.toLocaleLowerCase())==="item or promotion carousel",Q=(0,O.X)(),{asPath:ee}=(0,P.useRouter)(),et=(0,k.Y)(ee),en=et?null!=D?D:"Headline placeholder":W?(0,r.jsx)("span",{children:"\xa0"}):null!=D?D:"Headline placeholder";(0,s.useEffect)(()=>{q&&F(eA(Y,E))},[F,q,Y,E]);let eo=(0,s.useCallback)(e=>{var t;let r=null==e?void 0:null===(t=e.currentTarget)||void 0===t?void 0:t.getAttribute("data-index"),l=eR(o,n);H&&r&&(F(eD(r,H)),(0,v.OK)({recClick:{position:+r,productId:(0,eN.F5)(H[Number.parseInt(r,10)]),strategyId:U,strategyName:G,type:"promo"},contentClick:l}))},[F,H,U,G,o,n]),el=(0,r.jsx)(eL.T,{backgroundColor:A,backgroundImages:B,headline:null!=K?K:"Top promotions",textColor:N}),ei=c()(j)?null:(0,r.jsx)(er.e,e1(e1({},j),{},{background_color:null!==(y=null!=A?A:w)&&void 0!==y?y:"",headline:K&&q?K:Q?et?null!=D?D:"Headline placeholder":W?void 0:null!=D?D:"Headline placeholder":"",text_color:N})),ea=$?J?ei:el:null,ed=$?null:J?ei:el,ec=j?null:(0,r.jsx)(X.JU,{background_color:w,className:"l-container l-container-standard h-padding-a-x2",text_color:N,children:(0,r.jsx)(m.w,{className:"h-margin-b-none",level:2,size:1,style:{color:"inherit"},children:V&&q?V:Q?en:W?(0,r.jsx)("span",{children:"\xa0"}):""})}),es=a()(10).map(e=>(0,r.jsx)(eh.P,{},e)),eu=a()(10).map(e=>(0,r.jsx)(eQ,{useBorder:z},e));return Z&&!q?null:Q?(0,r.jsxs)("div",{"aria-label":"Carousel",className:`l-container ${S?"":"l-container-standard"}`,"data-test":eE,role:"region",children:[ec,(0,r.jsxs)(X.TZ,{backgroundColor:w,className:`${T?`h-margin-b-${e4(T)}`:""}`,"data-test":"filmstrip-deals-carousel",extraPadding:!!w&&!ea&&$,children:[ed,(0,r.jsxs)(h.T,{children:[ea,q?H.map((e,t)=>(0,r.jsx)(eZ,{handleRecItemClick:eo,index:t,item:e,slotMetadata:l,useBorder:z},e.promotion_id)):W?et?eu:es:eu,(0,r.jsx)(eU,{global_link:x})]})]})]}):(0,r.jsx)(em.p,{controlled:!0,noAnimation:W||q,open:W||q,variant:"bare",children:(0,r.jsxs)("div",{"aria-label":"Carousel",className:`l-container ${S?"":"l-container-standard"}`,"data-test":eE,role:"region",children:[ec,(0,r.jsxs)(X.TZ,{backgroundColor:w,className:`${T?`h-margin-b-${e4(T)}`:""}`,"data-test":"filmstrip-deals-carousel",extraPadding:!!w&&!ea&&$,children:[ed,(0,r.jsxs)(h.T,{children:[ea,q?H.map((e,t)=>(0,r.jsx)(eZ,{handleRecItemClick:eo,index:t,item:e,slotMetadata:l,useBorder:z},e.promotion_id)):es,(0,r.jsx)(eU,{global_link:x})]})]})]})})};function e2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,o)}return n}function e6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e2(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e3.displayName="PromotionsCarousel";let e9=e=>{var t,n,o,i,a;let{content:d,options:c,metadata:s,slotMetadata:u,order:p,componentId:m}=e,h=(0,l.g)(null==d?void 0:null===(t=d.container)||void 0===t?void 0:null===(n=t.keyValuePairs)||void 0===n?void 0:n.context),v=e6(e6({},d),{},{brand_ids:null==h?void 0:h.brandId,category_id:null==h?void 0:h.categoryId,fulfillment_types:null==h?void 0:h.fulfillmentId,offer_id:null==h?void 0:h.offerId,placement_id:null==h?void 0:h.placementId,slingshot_component_id:m,facet_ids:null==h?void 0:h.facetId});return(null==d?void 0:null===(o=d.container)||void 0===o?void 0:o.type)==="personalizedProducts"?(0,r.jsx)(ew,{content:v,metadata:s,options:c,order:p,slotMetadata:u}):(null==d?void 0:null===(i=d.container)||void 0===i?void 0:i.type)==="personalizedPromotions"?(0,r.jsx)(e3,{content:v,metadata:s,options:c,order:p,slotMetadata:u}):(null==d?void 0:null===(a=d.container)||void 0===a?void 0:a.type)==="personalizedOffers"?(0,r.jsx)(eT.Zo,{content:v,metadata:s,options:c,order:p,slotMetadata:u}):null};e9.displayName="PersonalizationCarousel"},17367:function(e,t,n){n.d(t,{P:function(){return l},s:function(){return i}});var o=n(44350);let r=(0,o.flags)("CONTENT_TRACKING_INTERACTIONS_ON_FIREFLY_NORTH_STAR_ENABLED"),l=(e,t,n)=>({url:"https://api.target.com/consumers/v1/ingest/web/eventstream",apiKey:"9f36aeafbe60771e321a7cc95a78140772ab3e96",event:e,links:r?{array:[{rel:{string:null==n?void 0:n.relationship},href:null!=n&&n.xApiId?{string:`/event/${n.xApiId}`}:void 0}]}:void 0,lnk:{contentClick:null,listClick:null,navClick:null,recClick:null},guest:t}),i=e=>null!=e&&e.prz_placement_id?{placementId:null==e?void 0:e.prz_placement_id,strategyDescription:null==e?void 0:e.prz_strategy_description,strategyId:null==e?void 0:e.prz_strategy_id,strategyName:null==e?void 0:e.prz_strategy_name,type:null==e?void 0:e.type_name}:void 0}}]);