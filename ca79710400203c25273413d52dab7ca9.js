function setCookie(e,t,n,r,i){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var s="expires="+o.toUTCString(),a=r?"SameSite="+r:"",c=i?"domain="+i:"";document.cookie=[`${e}=${t}`,s,a,c,"Secure","path=/"].filter(Boolean).join(";")}function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var i=n[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null}function includingSubdomainsScope(){return window.location.hostname}function hcaptchaCallback(){document.querySelector("[data-form='support']").submit()}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Stimulus={})}(this,function(e){"use strict";function t(e){if("immediatePropagationStopped"in e)return e;var t=e.stopImmediatePropagation;return Object.assign(e,{immediatePropagationStopped:!1,stopImmediatePropagation:function(){this.immediatePropagationStopped=!0,t.call(this)}})}function n(e){var t=e.trim().match(A)||[];return{eventTarget:r(t[4]),eventName:t[2],identifier:t[5],methodName:t[7]}}function r(e){return"window"==e?window:"document"==e?document:void 0}function i(e){return e==window?"window":e==document?"document":void 0}function o(e){var t=e.tagName.toLowerCase();if(t in B)return B[t](e)}function s(e){throw new Error(e)}function a(e,t,n){u(e,t).add(n)}function c(e,t,n){u(e,t)["delete"](n),l(e,t)}function u(e,t){var n=e.get(t);return n||(n=new Set,e.set(t,n)),n}function l(e,t){var n=e.get(t);null!=n&&0==n.size&&e["delete"](t)}function d(e,t,n){return e.trim().split(/\s+/).filter(function(e){return e.length}).map(function(e,r){return{element:t,attributeName:n,content:e,index:r}})}function h(e,t){var n=Math.max(e.length,t.length);return Array.from({length:n},function(n,r){return[e[r],t[r]]})}function p(e,t){return e&&t&&e.index==t.index&&e.content==t.content}function f(e){return{identifier:e.identifier,controllerConstructor:m(e.controllerConstructor)}}function m(e){var t=R(e);return t.bless(),t}function g(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()})}function y(e,t){return"["+e+'~="'+t+'"]'}function b(){return new Promise(function(e){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",e):e()})}function v(e){var t=e.prototype;k(e).forEach(function(e){var n;return C(t,((n={})[e+"Target"]={get:function(){var t=this.targets.find(e);if(t)return t;throw new Error('Missing target element "'+this.identifier+"."+e+'"')}},n[e+"Targets"]={get:function(){return this.targets.findAll(e)}},n["has"+P(e)+"Target"]={get:function(){return this.targets.has(e)}},n))})}function k(e){var t=w(e);return Array.from(t.reduce(function(e,t){return E(t).forEach(function(t){return e.add(t)}),e},new Set))}function w(e){for(var t=[];e;)t.push(e),e=Object.getPrototypeOf(e);return t}function E(e){var t=e.targets;return Array.isArray(t)?t:[]}function C(e,t){Object.keys(t).forEach(function(n){if(!(n in e)){var r=t[n];Object.defineProperty(e,n,r)}})}function P(e){return e.charAt(0).toUpperCase()+e.slice(1)}var O,T=function(){function e(e,t){this.eventTarget=e,this.eventName=t,this.unorderedBindings=new Set}return e.prototype.connect=function(){this.eventTarget.addEventListener(this.eventName,this,!1)},e.prototype.disconnect=function(){this.eventTarget.removeEventListener(this.eventName,this,!1)},e.prototype.bindingConnected=function(e){this.unorderedBindings.add(e)},e.prototype.bindingDisconnected=function(e){this.unorderedBindings["delete"](e)},e.prototype.handleEvent=function(e){for(var n=t(e),r=0,i=this.bindings;r<i.length;r++){var o=i[r];if(n.immediatePropagationStopped)break;o.handleEvent(n)}},Object.defineProperty(e.prototype,"bindings",{get:function(){return Array.from(this.unorderedBindings).sort(function(e,t){var n=e.index,r=t.index;return n<r?-1:n>r?1:0})},enumerable:!0,configurable:!0}),e}(),S=function(){function e(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}return e.prototype.start=function(){this.started||(this.started=!0,this.eventListeners.forEach(function(e){return e.connect()}))},e.prototype.stop=function(){this.started&&(this.started=!1,this.eventListeners.forEach(function(e){return e.disconnect()}))},Object.defineProperty(e.prototype,"eventListeners",{get:function(){return Array.from(this.eventListenerMaps.values()).reduce(function(e,t){return e.concat(Array.from(t.values()))},[])},enumerable:!0,configurable:!0}),e.prototype.bindingConnected=function(e){this.fetchEventListenerForBinding(e).bindingConnected(e)},e.prototype.bindingDisconnected=function(e){this.fetchEventListenerForBinding(e).bindingDisconnected(e)},e.prototype.handleError=function(e,t,n){void 0===n&&(n={}),this.application.handleError(e,"Error "+t,n)},e.prototype.fetchEventListenerForBinding=function(e){var t=e.eventTarget,n=e.eventName;return this.fetchEventListener(t,n)},e.prototype.fetchEventListener=function(e,t){var n=this.fetchEventListenerMapForEventTarget(e),r=n.get(t);return r||(r=this.createEventListener(e,t),n.set(t,r)),r},e.prototype.createEventListener=function(e,t){var n=new T(e,t);return this.started&&n.connect(),n},e.prototype.fetchEventListenerMapForEventTarget=function(e){var t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t},e}(),A=/^((.+?)(@(window|document))?->)?(.+?)(#(.+))?$/,_=function(){function e(e,t,n){this.element=e,this.index=t,this.eventTarget=n.eventTarget||e,this.eventName=n.eventName||o(e)||s("missing event name"),this.identifier=n.identifier||s("missing identifier"),this.methodName=n.methodName||s("missing method name")}return e.forToken=function(e){return new this(e.element,e.index,n(e.content))},e.prototype.toString=function(){var e=this.eventTargetName?"@"+this.eventTargetName:"";return""+this.eventName+e+"->"+this.identifier+"#"+this.methodName},Object.defineProperty(e.prototype,"eventTargetName",{get:function(){return i(this.eventTarget)},enumerable:!0,configurable:!0}),e}(),B={a:function(){return"click"},button:function(){return"click"},form:function(){return"submit"},input:function(e){return"submit"==e.getAttribute("type")?"click":"change"},select:function(){return"change"},textarea:function(){return"change"}},x=function(){function e(e,t){this.context=e,this.action=t}return Object.defineProperty(e.prototype,"index",{get:function(){return this.action.index},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventTarget",{get:function(){return this.action.eventTarget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),e.prototype.handleEvent=function(e){this.willBeInvokedByEvent(e)&&this.invokeWithEvent(e)},Object.defineProperty(e.prototype,"eventName",{get:function(){return this.action.eventName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"method",{get:function(){var e=this.controller[this.methodName];if("function"==typeof e)return e;throw new Error('Action "'+this.action+'" references undefined method "'+this.methodName+'"')},enumerable:!0,configurable:!0}),e.prototype.invokeWithEvent=function(e){try{this.method.call(this.controller,e)}catch(s){var t=this,n={identifier:t.identifier,controller:t.controller,element:t.element,index:t.index,event:e};this.context.handleError(s,'invoking action "'+this.action+'"',n)}},e.prototype.willBeInvokedByEvent=function(e){var t=e.target;return this.element===t||(!(t instanceof Element&&this.element.contains(t))||this.scope.containsElement(t))},Object.defineProperty(e.prototype,"controller",{get:function(){return this.context.controller},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"methodName",{get:function(){return this.action.methodName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),e}(),L=function(){function e(e,t){var n=this;this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(function(e){return n.processMutations(e)})}return e.prototype.start=function(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,subtree:!0}),this.refresh())},e.prototype.stop=function(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)},e.prototype.refresh=function(){if(this.started){for(var e=new Set(this.matchElementsInTree()),t=0,n=Array.from(this.elements);t<n.length;t++){var r=n[t];e.has(r)||this.removeElement(r)}for(var i=0,o=Array.from(e);i<o.length;i++){r=o[i];this.addElement(r)}}},e.prototype.processMutations=function(e){if(this.started)for(var t=0,n=e;t<n.length;t++){var r=n[t];this.processMutation(r)}},e.prototype.processMutation=function(e){"attributes"==e.type?this.processAttributeChange(e.target,e.attributeName):"childList"==e.type&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))},e.prototype.processAttributeChange=function(e,t){var n=e;this.elements.has(n)?this.delegate.elementAttributeChanged&&this.matchElement(n)?this.delegate.elementAttributeChanged(n,t):this.removeElement(n):this.matchElement(n)&&this.addElement(n)},e.prototype.processRemovedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t],i=this.elementFromNode(r);i&&this.processTree(i,this.removeElement)}},e.prototype.processAddedNodes=function(e){for(var t=0,n=Array.from(e);t<n.length;t++){var r=n[t],i=this.elementFromNode(r);i&&this.elementIsActive(i)&&this.processTree(i,this.addElement)}},e.prototype.matchElement=function(e){return this.delegate.matchElement(e)},e.prototype.matchElementsInTree=function(e){return void 0===e&&(e=this.element),this.delegate.matchElementsInTree(e)},e.prototype.processTree=function(e,t){for(var n=0,r=this.matchElementsInTree(e);n<r.length;n++){var i=r[n];t.call(this,i)}},e.prototype.elementFromNode=function(e){if(e.nodeType==Node.ELEMENT_NODE)return e},e.prototype.elementIsActive=function(e){return e.isConnected==this.element.isConnected&&this.element.contains(e)},e.prototype.addElement=function(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))},e.prototype.removeElement=function(e){this.elements.has(e)&&(this.elements["delete"](e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))},e}(),j=function(){function e(e,t,n){this.attributeName=t,this.delegate=n,this.elementObserver=new L(e,this)}return Object.defineProperty(e.prototype,"element",{get:function(){return this.elementObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selector",{get:function(){return"["+this.attributeName+"]"},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.elementObserver.start()},e.prototype.stop=function(){this.elementObserver.stop()},e.prototype.refresh=function(){this.elementObserver.refresh()},Object.defineProperty(e.prototype,"started",{get:function(){return this.elementObserver.started},enumerable:!0,configurable:!0}),e.prototype.matchElement=function(e){return e.hasAttribute(this.attributeName)},e.prototype.matchElementsInTree=function(e){var t=this.matchElement(e)?[e]:[],n=Array.from(e.querySelectorAll(this.selector));return t.concat(n)},e.prototype.elementMatched=function(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)},e.prototype.elementUnmatched=function(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)},e.prototype.elementAttributeChanged=function(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)},e}(),N=function(){function e(){this.valuesByKey=new Map}return Object.defineProperty(e.prototype,"values",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(e,t){return e.concat(Array.from(t))},[])},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return Array.from(this.valuesByKey.values()).reduce(function(e,t){return e+t.size},0)},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){a(this.valuesByKey,e,t)},e.prototype["delete"]=function(e,t){c(this.valuesByKey,e,t)},e.prototype.has=function(e,t){var n=this.valuesByKey.get(e);return null!=n&&n.has(t)},e.prototype.hasKey=function(e){return this.valuesByKey.has(e)},e.prototype.hasValue=function(e){return Array.from(this.valuesByKey.values()).some(function(t){return t.has(e)})},e.prototype.getValuesForKey=function(e){var t=this.valuesByKey.get(e);return t?Array.from(t):[]},e.prototype.getKeysForValue=function(e){return Array.from(this.valuesByKey).filter(function(t){t[0];return t[1].has(e)}).map(function(e){var t=e[0];e[1];return t})},e}(),M=undefined&&undefined.__extends||(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}O(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),I=(function(e){function t(){var t=e.call(this)||this;return t.keysByValue=new Map,t}M(t,e),Object.defineProperty(t.prototype,"values",{get:function(){return Array.from(this.keysByValue.keys())},enumerable:!0,configurable:!0}),t.prototype.add=function(t,n){e.prototype.add.call(this,t,n),a(this.keysByValue,n,t)},t.prototype["delete"]=function(t,n){e.prototype["delete"].call(this,t,n),c(this.keysByValue,n,t)},t.prototype.hasValue=function(e){return this.keysByValue.has(e)},t.prototype.getKeysForValue=function(e){var t=this.keysByValue.get(e);return t?Array.from(t):[]}}(N),function(){function e(e,t,n){this.attributeObserver=new j(e,t,this),this.delegate=n,this.tokensByElement=new N}return Object.defineProperty(e.prototype,"started",{get:function(){return this.attributeObserver.started},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.attributeObserver.start()},e.prototype.stop=function(){this.attributeObserver.stop()},e.prototype.refresh=function(){this.attributeObserver.refresh()},Object.defineProperty(e.prototype,"element",{get:function(){return this.attributeObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this.attributeObserver.attributeName},enumerable:!0,configurable:!0}),e.prototype.elementMatchedAttribute=function(e){this.tokensMatched(this.readTokensForElement(e))},e.prototype.elementAttributeValueChanged=function(e){var t=this.refreshTokensForElement(e),n=t[0],r=t[1];this.tokensUnmatched(n),this.tokensMatched(r)},e.prototype.elementUnmatchedAttribute=function(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))},e.prototype.tokensMatched=function(e){var t=this;e.forEach(function(e){return t.tokenMatched(e)})},e.prototype.tokensUnmatched=function(e){var t=this;e.forEach(function(e){return t.tokenUnmatched(e)})},e.prototype.tokenMatched=function(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)},e.prototype.tokenUnmatched=function(e){this.delegate.tokenUnmatched(e),this.tokensByElement["delete"](e.element,e)},e.prototype.refreshTokensForElement=function(e){var t=this.tokensByElement.getValuesForKey(e),n=this.readTokensForElement(e),r=h(t,n).findIndex(function(e){return!p(e[0],e[1])});return-1==r?[[],[]]:[t.slice(r),n.slice(r)]},e.prototype.readTokensForElement=function(e){var t=this.attributeName;return d(e.getAttribute(t)||"",e,t)},e}()),F=function(){function e(e,t,n){this.tokenListObserver=new I(e,t,this),this.delegate=n,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}return Object.defineProperty(e.prototype,"started",{get:function(){return this.tokenListObserver.started},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.tokenListObserver.start()},e.prototype.stop=function(){this.tokenListObserver.stop()},e.prototype.refresh=function(){this.tokenListObserver.refresh()},Object.defineProperty(e.prototype,"element",{get:function(){return this.tokenListObserver.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"attributeName",{get:function(){return this.tokenListObserver.attributeName},enumerable:!0,configurable:!0}),e.prototype.tokenMatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t).set(e,n),this.delegate.elementMatchedValue(t,n))},e.prototype.tokenUnmatched=function(e){var t=e.element,n=this.fetchParseResultForToken(e).value;n&&(this.fetchValuesByTokenForElement(t)["delete"](e),this.delegate.elementUnmatchedValue(t,n))},e.prototype.fetchParseResultForToken=function(e){var t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t},e.prototype.fetchValuesByTokenForElement=function(e){var t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t},e.prototype.parseToken=function(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(s){return{error:s}}},e}(),D=function(){function e(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}return e.prototype.start=function(){this.valueListObserver||(this.valueListObserver=new F(this.element,this.actionAttribute,this),this.valueListObserver.start())},e.prototype.stop=function(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())},Object.defineProperty(e.prototype,"element",{get:function(){return this.context.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.context.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"actionAttribute",{get:function(){return this.schema.actionAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.context.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bindings",{get:function(){return Array.from(this.bindingsByAction.values())},enumerable:!0,configurable:!0}),e.prototype.connectAction=function(e){var t=new x(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)},e.prototype.disconnectAction=function(e){var t=this.bindingsByAction.get(e);t&&(this.bindingsByAction["delete"](e),this.delegate.bindingDisconnected(t))},e.prototype.disconnectAllActions=function(){var e=this;this.bindings.forEach(function(t){return e.delegate.bindingDisconnected(t)}),this.bindingsByAction.clear()},e.prototype.parseValueForToken=function(e){var t=_.forToken(e);if(t.identifier==this.identifier)return t},e.prototype.elementMatchedValue=function(e,t){this.connectAction(t)},e.prototype.elementUnmatchedValue=function(e,t){this.disconnectAction(t)},e}(),W=function(){function e(e,t){this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new D(this,this.dispatcher);try{this.controller.initialize()}catch(s){this.handleError(s,"initializing controller")}}return e.prototype.connect=function(){this.bindingObserver.start();try{this.controller.connect()}catch(s){this.handleError(s,"connecting controller")}},e.prototype.disconnect=function(){try{this.controller.disconnect()}catch(s){this.handleError(s,"disconnecting controller")}this.bindingObserver.stop()},Object.defineProperty(e.prototype,"application",{get:function(){return this.module.application},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.module.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dispatcher",{get:function(){return this.application.dispatcher},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentElement",{get:function(){return this.element.parentElement},enumerable:!0,configurable:!0}),e.prototype.handleError=function(e,t,n){void 0===n&&(n={});var r=this,i=r.identifier,o=r.controller,s=r.element;n=Object.assign({identifier:i,controller:o,element:s},n),this.application.handleError(e,"Error "+t,n)},e}(),q=undefined&&undefined.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),R=function(){function e(e){function t(){var n=this&&this instanceof t?this.constructor:void 0;return Reflect.construct(e,arguments,n)}return t.prototype=Object.create(e.prototype,{constructor:{value:t}}),Reflect.setPrototypeOf(t,e),t}function t(){var t=e(function(){this.a.call(this)});return t.prototype.a=function(){},new t}try{return t(),e}catch(s){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return q(t,e),t}(e)}}}(),V=function(){function e(e,t){this.application=e,this.definition=f(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}return Object.defineProperty(e.prototype,"identifier",{get:function(){return this.definition.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controllerConstructor",{get:function(){return this.definition.controllerConstructor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contexts",{get:function(){return Array.from(this.connectedContexts)},enumerable:!0,configurable:!0}),e.prototype.connectContextForScope=function(e){var t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()},e.prototype.disconnectContextForScope=function(e){var t=this.contextsByScope.get(e);t&&(this.connectedContexts["delete"](t),t.disconnect())},e.prototype.fetchContextForScope=function(e){var t=this.contextsByScope.get(e);return t||(t=new W(this,e),this.contextsByScope.set(e,t)),t},e}(),U=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return e=this.getFormattedKey(e),this.element.getAttribute(e)},e.prototype.set=function(e,t){return e=this.getFormattedKey(e),this.element.setAttribute(e,t),this.get(e)},e.prototype.has=function(e){return e=this.getFormattedKey(e),this.element.hasAttribute(e)},e.prototype["delete"]=function(e){return!!this.has(e)&&(e=this.getFormattedKey(e),this.element.removeAttribute(e),!0)},e.prototype.getFormattedKey=function(e){return"data-"+this.identifier+"-"+g(e)},e}(),z=function(){function e(e){this.scope=e}return Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.scope.schema},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return null!=this.find(e)},e.prototype.find=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findElement(n)},e.prototype.findAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getSelectorForTargetNames(e);return this.scope.findAllElements(n)},e.prototype.getSelectorForTargetNames=function(e){var t=this;return e.map(function(e){return t.getSelectorForTargetName(e)}).join(", ")},e.prototype.getSelectorForTargetName=function(e){var t=this.identifier+"."+e;return y(this.schema.targetAttribute,t)},e}(),K=function(){function e(e,t,n){this.schema=e,this.identifier=t,this.element=n,this.targets=new z(this),this.data=new U(this)}return e.prototype.findElement=function(e){return this.findAllElements(e)[0]},e.prototype.findAllElements=function(e){var t=this.element.matches(e)?[this.element]:[],n=this.filterElements(Array.from(this.element.querySelectorAll(e)));return t.concat(n)},e.prototype.filterElements=function(e){var t=this;return e.filter(function(e){return t.containsElement(e)})},e.prototype.containsElement=function(e){return e.closest(this.controllerSelector)===this.element},Object.defineProperty(e.prototype,"controllerSelector",{get:function(){return y(this.schema.controllerAttribute,this.identifier)},enumerable:!0,configurable:!0}),e}(),G=function(){function e(e,t,n){this.element=e,this.schema=t,this.delegate=n,this.valueListObserver=new F(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}return e.prototype.start=function(){this.valueListObserver.start()},e.prototype.stop=function(){this.valueListObserver.stop()},Object.defineProperty(e.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),e.prototype.parseValueForToken=function(e){var t=e.element,n=e.content,r=this.fetchScopesByIdentifierForElement(t),i=r.get(n);return i||(i=new K(this.schema,n,t),r.set(n,i)),i},e.prototype.elementMatchedValue=function(e,t){var n=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,n),1==n&&this.delegate.scopeConnected(t)},e.prototype.elementUnmatchedValue=function(e,t){var n=this.scopeReferenceCounts.get(t);n&&(this.scopeReferenceCounts.set(t,n-1),1==n&&this.delegate.scopeDisconnected(t))},e.prototype.fetchScopesByIdentifierForElement=function(e){var t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t},e}(),H=function(){function e(e){this.application=e,this.scopeObserver=new G(this.element,this.schema,this),this.scopesByIdentifier=new N,this.modulesByIdentifier=new Map}return Object.defineProperty(e.prototype,"element",{get:function(){return this.application.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this.application.schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controllerAttribute",{get:function(){return this.schema.controllerAttribute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"modules",{get:function(){return Array.from(this.modulesByIdentifier.values())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contexts",{get:function(){return this.modules.reduce(function(e,t){return e.concat(t.contexts)},[])},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.scopeObserver.start()},e.prototype.stop=function(){this.scopeObserver.stop()},e.prototype.loadDefinition=function(e){this.unloadIdentifier(e.identifier);var t=new V(this.application,e);this.connectModule(t)},e.prototype.unloadIdentifier=function(e){var t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)},e.prototype.getContextForElementAndIdentifier=function(e,t){var n=this.modulesByIdentifier.get(t);if(n)return n.contexts.find(function(t){return t.element==e})},e.prototype.handleError=function(e,t,n){this.application.handleError(e,t,n)},e.prototype.scopeConnected=function(e){this.scopesByIdentifier.add(e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)},e.prototype.scopeDisconnected=function(e){this.scopesByIdentifier["delete"](e.identifier,e);var t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)},e.prototype.connectModule=function(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(function(t){return e.connectContextForScope(t)})},e.prototype.disconnectModule=function(e){this.modulesByIdentifier["delete"](e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(function(t){return e.disconnectContextForScope(t)})},e}(),J={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target"},$=undefined&&undefined.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r["throw"](e))}catch(t){o(t)}}function c(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}c((r=r.apply(e,t||[])).next())})},Q=undefined&&undefined.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;c;)try{if(i=1,o&&(s=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(s=s.call(o,n[1])).done)return s;switch(o=0,s&&(n=[0,s.value]),n[0]){case 0:case 1:s=n;break;case 4:return c.label++,{value:n[1],done:!1};case 5:c.label++,o=n[1],n=[0];continue;case 7:n=c.ops.pop(),c.trys.pop();continue;default:if(!(s=(s=c.trys).length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){c=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){c.label=n[1];break}if(6===n[0]&&c.label<s[1]){c.label=s[1],s=n;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(n);break}s[2]&&c.ops.pop(),c.trys.pop();continue}n=t.call(e,c)}catch(r){n=[6,r],o=0}finally{i=s=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:n(0),"throw":n(1),"return":n(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a},Z=function(){function e(e,t){void 0===e&&(e=document.documentElement),void 0===t&&(t=J),this.element=e,this.schema=t,this.dispatcher=new S(this),this.router=new H(this)}return e.start=function(t,n){var r=new e(t,n);return r.start(),r},e.prototype.start=function(){return $(this,void 0,void 0,function(){return Q(this,function(e){switch(e.label){case 0:return[4,b()];case 1:return e.sent(),this.router.start(),this.dispatcher.start(),[2]}})})},e.prototype.stop=function(){this.router.stop(),this.dispatcher.stop()},e.prototype.register=function(e,t){this.load({identifier:e,controllerConstructor:t})},e.prototype.load=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(Array.isArray(e)?e:[e].concat(n)).forEach(function(e){return t.router.loadDefinition(e)})},e.prototype.unload=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];(Array.isArray(e)?e:[e].concat(n)).forEach(function(e){return t.router.unloadIdentifier(e)})},Object.defineProperty(e.prototype,"controllers",{get:function(){return this.router.contexts.map(function(e){return e.controller})},enumerable:!0,configurable:!0}),e.prototype.getControllerForElementAndIdentifier=function(e,t){var n=this.router.getContextForElementAndIdentifier(e,t);return n?n.controller:null},e.prototype.handleError=function(e,t,n){console.error("%s\n\n%o\n\n%o",t,e,n)},e}(),Y=function(){function e(e){this.context=e}return e.bless=function(){v(this)},Object.defineProperty(e.prototype,"application",{get:function(){return this.context.application},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scope",{get:function(){return this.context.scope},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this.scope.element},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"identifier",{get:function(){return this.scope.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"targets",{get:function(){return this.scope.targets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.scope.data},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){},e.prototype.connect=function(){},e.prototype.disconnect=function(){},e.targets=[],e}();e.Application=Z,e.Context=W,e.Controller=Y,e.defaultSchema=J,Object.defineProperty(e,"__esModule",{value:!0})});class EngagedSessionController extends Stimulus.Controller{connect(){this.loadEngagedSessionTracker()}loadEngagedSessionTracker(){this.timer=setInterval(()=>this.checkEngagedSessionStatus(),1e3)}checkEngagedSessionStatus(){
if(this.sessionHasEngaged())return clearInterval(this.timer);this.sessionTimeIsOverThreshold()&&(this.trackEngagedSessionWithPlausible(),this.markSessionAsEngaged())}setSessionParam(e,t){let n=this.getSessionParams(),r=30/1440;n[e]=t,setCookie("session_details",JSON.stringify(n),r)}getSessionParams(e){const t=getCookie("session_details"),n=t?JSON.parse(t):{};return e?n[e]:n}trackEngagedSessionWithPlausible(){window.plausible&&plausible("EngagedSession")}sessionHasEngaged(){return Boolean(this.getSessionParams("already_engaged"))}markSessionAsEngaged(){this.setSessionParam("already_engaged",!0)}sessionTimeIsOverThreshold(){const e=60;return new Date-this.getEngagedSessionStartTime()>=1e3*e}getEngagedSessionStartTime(){const e=this.getSessionParams("entry_time");if(e)return new Date(e);const t=new Date;return this.setSessionParam("entry_time",t),t}}class NewsletterController extends Stimulus.Controller{connect(){this.mc_form=document.querySelector("#mc-embedded-subscribe-form"),this.mc_button=this.mc_form.querySelector("#mc-embedded-subscribe"),this.mc_email=this.mc_form.querySelector("#mce-EMAIL"),this.mc_tags=[],this.handleInteractionNotices(),this.handleFormSubmission(),this.handleAutomaticOptIn()}handleInteractionNotices(){["focus","input","click"].forEach(e=>{this.mc_email.addEventListener(e,()=>{this.hideErrorNotice()})})}handleFormSubmission(){this.mc_form.addEventListener("submit",e=>{e.preventDefault(),this.prepareAndSendForm()})}handleAutomaticOptIn(){let e=22945,t=new URL(window.location.href),n=t.searchParams.get("email"),r="true"===t.searchParams.get("confirm-opt-in");n&&(this.mc_email.value=n,r&&(this.mc_tags.push(e),this.prepareAndSendForm()))}prepareAndSendForm(){this.mc_formdata=new FormData(this.mc_form),this.emailIsInvalid()?this.showErrorNotice():(this.appendTags(),this.mc_button.disabled=!0,this.sendFormToMailchimp())}sendFormToMailchimp(){fetch(this.mc_form.action,{body:this.mc_formdata,method:this.mc_form.method,mode:"no-cors"}).then(()=>{this.mc_form.reset(),location.assign("/newsletter/thanks")})}appendTags(){this.mc_formdata.append("tags",this.mc_tags.join(","))}emailIsInvalid(){return!this.emailIsValid()}emailIsValid(){return!!this.mc_email.value&&/^[\w\.\+]+@([\w-]+\.)+[\w-]{2,}$/.test(this.mc_email.value)}showErrorNotice(){this.mc_form.classList.add("newsletter-form--error")}hideErrorNotice(){this.mc_form.classList.remove("newsletter-form--error")}}class SignupController extends Stimulus.Controller{track(){this.appendTrackedParams(),this.trackConversion()}trackLogin(){this.trackLoginWithGoogle(),this.trackLoginWithMicrosoft()}appendTrackedParams(){this.element.href=this.urlWithTrackedParams}trackConversion(){this.trackConversionWithGoogle(),this.trackConversionWithReddit(),this.trackConversionWithLinkedIn(),this.trackConversionWithPlausible(),this.trackConversionWithChoozle(),this.trackConversionWithMicrosoft()}trackConversionWithGoogle(){window.gtag&&gtag("event","conversion",{send_to:"AW-882027520/tONxCJ_Zi44DEIDYyqQD"})}trackLoginWithGoogle(){window.gtag&&gtag("event","conversion",{send_to:"AW-882027520/isWhCK_PxfUDEIDYyqQD",aw_remarketing_only:!0})}trackConversionWithReddit(){window.rdt&&rdt("track","SignUp")}trackConversionWithLinkedIn(){window.lintrk&&window.lintrk("track",{conversion_id:8533540})}trackConversionWithPlausible(){window.plausible&&plausible("TrialButtonClick")}trackConversionWithChoozle(){if(window.Bootstrapper){let e=document.createElement("iframe");e.src="//insight.adsrvr.org/tags/39xjf87/z9ha8px/iframe",e.width=e.height="1px",e.style.display="none",document.getElementsByTagName("body")[0].appendChild(e)}}trackConversionWithMicrosoft(){window.uetq&&(window.uetq=window.uetq||[],window.uetq.push("event","submit_lead_form",{}))}trackLoginWithMicrosoft(){window.uetq&&(window.uetq=window.uetq||[],window.uetq.push("event","login",{}))}get urlWithTrackedParams(){const e=new URL(this.element.href);for(const[t,n]of Object.entries(this.trackedParams))e.searchParams.set(t,n);return e}get trackingPermissionGranted(){return"granted"===getCookie("tracking_permission")}get trackedParams(){const e=getCookie("tracking_params");return e?JSON.parse(e):{}}}class SignupIframeController extends Stimulus.Controller{connect(){this.appendTrackedParams()}appendTrackedParams(){this.element.src=this.urlWithTrackedParams}get urlWithTrackedParams(){const e=new URL(this.element.dataset.sourceValue);for(const[t,n]of Object.entries(this.trackedParams))e.searchParams.set(t,n);return e.searchParams.set("iframe_host",window.location.href),e}get trackedParams(){const e=getCookie("tracking_params");return e?JSON.parse(e):{}}}class TrackingController extends Stimulus.Controller{static get targets(){return["permissionDialog"]}connect(){this.rememberTrackedParams(),this.hasTrackedParams&&(this.skipPermissionsCheck?this.permissionGranted():this.permissionRequired())}grant(e){e.preventDefault(),this.permission="granted",this.permissionGranted()}deny(e){e.preventDefault(),this.permission="denied",this.permissionDenied()}rememberTrackedParams(){Object.keys(this.trackedParamsFromRequest).length&&setCookie("tracking_params",JSON.stringify(this.trackedParams),30,null,includingSubdomainsScope())}forgetTrackedParams(){setCookie("tracking_params","",-1,null,includingSubdomainsScope())}get trackedParams(){return{...this.trackedParamsFromCookie,...this.trackedParamsFromRequest}}get trackedParamsFromCookie(){const e=getCookie("tracking_params");return e?JSON.parse(e):{}}get trackedParamsFromRequest(){const e={};for(const[t,n]of this.params)(t.startsWith("utm_")||"network"===t)&&(e[t]=n);return e}get params(){return new URL(document.location).searchParams}permissionRequired(){switch(this.permission){case"granted":this.permissionGranted();break;case"denied":this.permissionDenied();break;default:this.requestPermission()}}requestPermission(){this.showPermissionDialog()}permissionGranted(){this.hidePermissionDialog(),this.loadAdTracker()}permissionDenied(){this.forgetTrackedParams(),this.hidePermissionDialog()}showPermissionDialog(){this.permissionDialogTarget.classList.remove(this.permissionDialogHiddenClass),this.permissionDialogTarget.removeAttribute("aria-hidden")}hidePermissionDialog(){this.permissionDialogTarget.classList.add(this.permissionDialogHiddenClass),this.permissionDialogTarget.setAttribute("aria-hidden",!0)}get permissionDialogHiddenClass(){return this.permissionDialogTarget.dataset.hiddenClass}get hasTrackedParams(){return 0!==Object.keys(this.trackedParams).length}get skipPermissionsCheck(){return!0}get permission(){return getCookie("tracking_permission")}set permission(e){setCookie("tracking_permission",e,30)}loadAdTracker(){"google"===this.trackedParams.network?this.loadGoogleTagManager():"choozle"===this.trackedParams.network?this.loadChoozleTracker():"microsoft"===this.trackedParams.network?this.loadMicrosoftTracker():"linkedin"===this.trackedParams.network?this.loadLinkedInTracker():"reddit"===this.trackedParams.network?this.loadRedditTracker():"zencastr"===this.trackedParams.network&&this.loadZencastrTracker()}loadChoozleTracker(){if(this.choozleTrackerLoaded)return;const e=document.createElement("script");e.async=!0,e.src="//nexus.ensighten.com/choozle/16916/Bootstrap.js",document.head.appendChild(e),this.choozleTrackerLoaded=!0}loadGoogleTagManager(){if(this.googleTagManagerLoaded)return;const e="AW-882027520",t=document.createElement("script");t.async=!0,t.src=`https://www.googletagmanager.com/gtag/js?id=${e}`,document.head.appendChild(t),window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config",e),gtag("config",e,{transport_type:"beacon"}),this.googleTagManagerLoaded=!0}loadLinkedInTracker(){if(this.linkedInTrackerLoaded)return;window._linkedin_partner_id="4021556",window._linkedin_data_partner_ids=window._linkedin_data_partner_ids||[],window._linkedin_data_partner_ids.push(_linkedin_partner_id),window.lintrk=function(e,t){window.lintrk.q.push([e,t])},window.lintrk.q=[];const e=document.createElement("script");e.async=!0,e.src="https://snap.licdn.com/li.lms-analytics/insight.min.js",document.head.appendChild(e),this.linkedInTrackerLoaded=!0}loadMicrosoftTracker(){if(this.microsoftTrackerLoaded)return;const e=document.createElement("script");e.innerHTML="(function(w,d,t,r,u){var f,n,i;w[u]=w[u]||[],f=function(){var o={ti:'343003711'};o.q=w[u],w[u]=new UET(o),w[u].push('pageLoad')},n=d.createElement(t),n.src=r,n.async=1,n.onload=n.onreadystatechange=function(){var s=this.readyState;s&&s!=='loaded'&&s!=='complete'||(f(),n.onload=n.onreadystatechange=null)},i=d.getElementsByTagName(t)[0],i.parentNode.insertBefore(n,i)})(window,document,'script','//bat.bing.com/bat.js','uetq');",document.head.appendChild(e),this.microsoftTrackerLoaded=!0}loadRedditTracker(){if(this.redditTrackerLoaded)return;const e=document.createElement("script");e.innerHTML='!function(w,d){if(!w.rdt){var p=w.rdt=function(){p.sendEvent?p.sendEvent.apply(p,arguments):p.callQueue.push(arguments)};p.callQueue=[];var t=d.createElement("script");t.src="https://www.redditstatic.com/ads/pixel.js",t.async=!0;var s=d.getElementsByTagName("script")[0];s.parentNode.insertBefore(t,s)}}(window,document);rdt(\'init\',\'t2_55g6ue5f\', {"optOut":false,"useDecimalCurrencyValues":true});rdt(\'track\', \'PageVisit\');',document.head.appendChild(e),this.redditTrackerLoaded=!0}loadZencastrTracker(){if(this.zencastrTrackerLoaded)return;const e=document.createElement("script");e.innerHTML='!function (e, t, n, a, i, p, s) {e[a] || ((i = e[a] = function () {i.process ? i.process.apply(i, arguments) : i.queue.push(arguments)}).queue = [], i.t = +new Date, (p = t.createElement(n)).async = 1, p.src = "https://media.zencastr.com/zpix.min.js?t=" + 864e5 * Math.ceil(new Date / 864e5), (s = t.getElementsByTagName(n)[0]).parentNode.insertBefore(p, s))}(window, document, "script", "zpix"), zpix("init", "62d0541f8bda552da9545443"), zpix("event", "pageload");',document.head.appendChild(e),this.zencastrTrackerLoaded=!0}}const application=Stimulus.Application.start();application.register("signup",SignupController),application.register("signup-iframe",SignupIframeController),application.register("tracking",TrackingController),application.register("engagement",EngagedSessionController),application.register("newsletter",NewsletterController),function(){var e,t,n,r,i;e={bc3:{name:"Basecamp",survey:!0},bcx:{name:"Basecamp",survey:!0},basecamp:{name:"Basecamp",survey:!0},campfire:{name:"Campfire"},backpack:{name:"Backpack"},highrise:{name:"Highrise"},skybox:{name:"the 37signals Suite"}},t="https://37signals.typeform.com/to/M4eDXjbW#id=:accountId:",r=function(e){return document.querySelector("[data-behavior='cancel_product']").textContent=e},i=function(e){var n;return(n=document.querySelector("[data-behavior='cancel_survey']")).querySelector("a").href=t.replace(/:accountId:/,e),n.style.display=""},n=function(e){return new URL(document.location).searchParams.get(e)},window.addEventListener("DOMContentLoaded",function(){var t;if((t=e[n("product")])&&(r(t.name),t.survey))return i(n("id"))})}.call(this),function(){var e,t,n;"/"===window.location.pathname&&null!==(t=getCookie("_bc3_last_access"))&&(sessionStorage.getItem("hasBeenWelcomed")||(sessionStorage.setItem("hasBeenWelcomed","true"),e=new Date,n=new Date(t),Math.abs(e-n)/36e5,window.location.replace("/welcome-back")))}.call(this);class ConvertCookies{static get visitor(){return new ConvertVisitorCookie}static get session(){return new ConvertSessionCookie}static get referral(){return new ConvertReferralCookie}}class ConvertCookie{get value(){const e=document.cookie.split(";").find(e=>e.trim().startsWith(`${this.constructor.name}=`));return e?decodeURIComponent(e.split("=")[1]):null}get data(){return this.value?new Map(this.value.split("*").map(e=>e.split(":"))):null}get(e){return this.data?this.data.get(e):null}}class ConvertVisitorCookie extends ConvertCookie{static get name(){return"_conv_v"}get visitorId(){return this.get("vi")}get pageviewCount(){return this.get("pv")}get sessionCount(){return this.get("sc")}get currentSessionStart(){return this.get("cs")}get previousSessionStart(){return this.get("ps")}get firstSessionStart(){return this.get("fs")}get projectSegmentIds(){return this.get("seg")}get experiments(){const e=this.get("exp");return e?new Map(Object.entries(JSON.parse(e.replace(/-/g,",").replace(/\./g,":").replace(/([a-z0-9]+):/g,'"$1":')))):null}}class ConvertSessionCookie extends ConvertCookie{static get name(){return"_conv_s"}get sessionId(){return this.get("si")}get pageviewCount(){return this.get("pv")}get sessionHash(){return this.get("sh")}}class ConvertReferralCookie extends ConvertCookie{static get name(){return"_conv_r"}get source(){return this.get("s")}get medium(){return this.get("m")}get term(){return this.get("t")}}class marketingRedirect{static ready(){function e(e){let t;switch(e){case"hell":t="https://sendyourbosstohell.com/";break;default:t="/"}return window.location.replace(t)}const t=new URLSearchParams(window.location.search).get("page");setTimeout(()=>e(t),500)}}class Plausible{static triggerAbExperimentVariationEvent(){if(window.plausible){const e="ab_experiment_variation",t=ConvertCookies.visitor;if(t.value){const n=t.experiments;if(n)for(const[t,r]of n){const n=r.v||"unknown";window.plausible(e,{props:{experiment_id:t,variation_id:n}})}else window.plausible(e)}}}}(function(){window.addEventListener("DOMContentLoaded",function(){var e,t,n,r,i,o,s,a,c;if(document.querySelectorAll("[data-form='support']").length>0){if(null!==(n=getCookie("help")))for(r in o=JSON.parse(n))for(c=o[r],t=0,i=(e=document.querySelectorAll("[data-support*='"+r+"']")).length;t<i;t++)e[t].value=c;if(s=document.querySelectorAll("[data-support='source']"),a=getParameterByName("source"))return s[0].value=a}})}).call(this),function(){window.addEventListener("DOMContentLoaded",function(){var e,t,n,r,i,o,s;if(t=document.querySelector("form#new_ticket_form")){for(validate.validators.maxFileSize=function(){var e,t,n,r;for(e=0,t=0,n=(r=document.querySelector("#ticket_file").files).length;t<n;t++)e+=r[t].size/1024/1024;return e>20?"Attachments must be 20MB or less":null},e={"ticket[issue_type]":{presence:{message:"Tell us what you need help with"}},"ticket[details]":{presence:{message:"Tell us what your question, comment, or issue is"}},"ticket[email_address]":{presence:{message:"We need a working email address to reply back to you"},email:{message:"We need a working email address to reply back to you"}},"ticket[files][]":{maxFileSize:{}}},t.addEventListener("submit",function(n){var r;if(n.preventDefault(),r=validate(t,e,{fullMessages:!1}),showErrors(t,r||{}),!r)return t.submit()}),s=[],n=0,o=(i=document.querySelectorAll("input, textarea, select")).length;n<o;n++)r=i[n],s.push(r.addEventListener("change",function(){var n;return n=validate(t,e,{fullMessages:!1})||{},showErrorsForInput(this,n[this.name])}));return s}})}.call(this),function(){window.addEventListener("DOMContentLoaded",function(){var e;if(e=document.getElementsByTagName("body")[0],/Basecamp iOS/i.test(navigator.userAgent)&&!/replace-sheet/.test(navigator.userAgent)&&(e.className+=" ios"),/BC3 Android/i.test(navigator.userAgent))return e.className+=" android"})}.call(this);
//# sourceMappingURL=/assets/source-maps/main.coffee.map
//# sourceURL=_assets/javascripts/main.coffee
