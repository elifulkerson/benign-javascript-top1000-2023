"use strict";function _slicedToArray(t,n){return _arrayWithHoles(t)||_iterableToArrayLimit(t,n)||_unsupportedIterableToArray(t,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,n){var e;if(t)return"string"==typeof t?_arrayLikeToArray(t,n):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_arrayLikeToArray(t,n):void 0}function _arrayLikeToArray(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,a=new Array(n);e<n;e++)a[e]=t[e];return a}function _iterableToArrayLimit(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var a,o,i,r,c=[],s=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;s=!1}else for(;!(s=(a=i.call(e)).done)&&(c.push(a.value),c.length!==n);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=e.return&&(r=e.return(),Object(r)!==r))return}finally{if(l)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _regeneratorRuntime(){_regeneratorRuntime=function(){return r};var r={},t=Object.prototype,s=t.hasOwnProperty,l=Object.defineProperty||function(t,n,e){t[n]=e.value},n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",e=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function i(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{i({},"")}catch(t){i=function(t,n,e){return t[n]=e}}function c(t,n,e,a){var o,i,r,c,n=n&&n.prototype instanceof p?n:p,n=Object.create(n.prototype),a=new b(a||[]);return l(n,"_invoke",{value:(o=t,i=e,r=a,c="suspendedStart",function(t,n){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===t)throw n;return P()}for(r.method=t,r.arg=n;;){var e=r.delegate;if(e){e=function t(n,e){var a=e.method,o=n.iterator[a];if(void 0===o)return e.delegate=null,"throw"===a&&n.iterator.return&&(e.method="return",e.arg=void 0,t(n,e),"throw"===e.method)||"return"!==a&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+a+"' method")),g;a=d(o,n.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,g;o=a.arg;return o?o.done?(e[n.resultName]=o.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,g):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}(e,r);if(e){if(e===g)continue;return e}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===c)throw c="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);c="executing";e=d(o,i,r);if("normal"===e.type){if(c=r.done?"completed":"suspendedYield",e.arg===g)continue;return{value:e.arg,done:r.done}}"throw"===e.type&&(c="completed",r.method="throw",r.arg=e.arg)}})}),n}function d(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}r.wrap=c;var g={};function p(){}function u(){}function f(){}var n={},h=(i(n,a,function(){return this}),Object.getPrototypeOf),h=h&&h(h(k([]))),_=(h&&h!==t&&s.call(h,a)&&(n=h),f.prototype=p.prototype=Object.create(n));function m(t){["next","throw","return"].forEach(function(n){i(t,n,function(t){return this._invoke(n,t)})})}function v(r,c){var n;l(this,"_invoke",{value:function(e,a){function t(){return new c(function(t,n){!function n(t,e,a,o){var i,t=d(r[t],r,e);if("throw"!==t.type)return(e=(i=t.arg).value)&&"object"==_typeof(e)&&s.call(e,"__await")?c.resolve(e.__await).then(function(t){n("next",t,a,o)},function(t){n("throw",t,a,o)}):c.resolve(e).then(function(t){i.value=t,a(i)},function(t){return n("throw",t,a,o)});o(t.arg)}(e,a,t,n)})}return n=n?n.then(t,t):t()}})}function w(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function y(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function k(n){if(n){var e,t=n[a];if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return e=-1,(t=function t(){for(;++e<n.length;)if(s.call(n,e))return t.value=n[e],t.done=!1,t;return t.value=void 0,t.done=!0,t}).next=t}return{next:P}}function P(){return{value:void 0,done:!0}}return l(_,"constructor",{value:u.prototype=f,configurable:!0}),l(f,"constructor",{value:u,configurable:!0}),u.displayName=i(f,o,"GeneratorFunction"),r.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,i(t,o,"GeneratorFunction")),t.prototype=Object.create(_),t},r.awrap=function(t){return{__await:t}},m(v.prototype),i(v.prototype,e,function(){return this}),r.AsyncIterator=v,r.async=function(t,n,e,a,o){void 0===o&&(o=Promise);var i=new v(c(t,n,e,a),o);return r.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},m(_),i(_,o,"Generator"),i(_,a,function(){return this}),i(_,"toString",function(){return"[object Generator]"}),r.keys=function(t){var n,e=Object(t),a=[];for(n in e)a.push(n);return a.reverse(),function t(){for(;a.length;){var n=a.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},r.values=k,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(y),!t)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function t(t,n){return i.type="throw",i.arg=e,a.next=t,n&&(a.method="next",a.arg=void 0),!!n}for(var n=this.tryEntries.length-1;0<=n;--n){var o=this.tryEntries[n],i=o.completion;if("root"===o.tryLoc)return t("end");if(o.tryLoc<=this.prev){var r=s.call(o,"catchLoc"),c=s.call(o,"finallyLoc");if(r&&c){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(r){if(this.prev<o.catchLoc)return t(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e];if(a.tryLoc<=this.prev&&s.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}var i=(o=o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc?null:o)?o.completion:{};return i.type=t,i.arg=n,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),y(e),g}},catch:function(t){for(var n=this.tryEntries.length-1;0<=n;--n){var e,a,o=this.tryEntries[n];if(o.tryLoc===t)return"throw"===(e=o.completion).type&&(a=e.arg,y(o)),a}throw new Error("illegal catch attempt")},delegateYield:function(t,n,e){return this.delegate={iterator:k(t),resultName:n,nextLoc:e},"next"===this.method&&(this.arg=void 0),g}},r}function asyncGeneratorStep(t,n,e,a,o,i,r){try{var c=t[i](r),s=c.value}catch(t){return void e(t)}c.done?n(s):Promise.resolve(s).then(a,o)}function _asyncToGenerator(c){return function(){var t=this,r=arguments;return new Promise(function(n,e){var a=c.apply(t,r);function o(t){asyncGeneratorStep(a,n,e,o,i,"next",t)}function i(t){asyncGeneratorStep(a,n,e,o,i,"throw",t)}o(void 0)})}}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,n){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),a=1;a<arguments.length;a++){var o=arguments[a];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},writable:!0,configurable:!0}),function(){var t="undefined"!=typeof exports?exports:"undefined"!=typeof self?self:$.global,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function s(t){this.message=t}(s.prototype=new Error).name="InvalidCharacterError",t.btoa||(t.btoa=function(t){for(var n,e,a=String(t),o=0,i=c,r="";a.charAt(0|o)||(i="=",o%1);r+=i.charAt(63&n>>8-o%1*8)){if(255<(e=a.charCodeAt(o+=.75)))throw new s("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|e}return r}),t.atob||(t.atob=function(t){var n=String(t).replace(/[=]+$/,"");if(n.length%4==1)throw new s("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,a,o=0,i=0,r="";a=n.charAt(i++);~a&&(e=o%4?64*e+a:a,o++%4)&&(r+=String.fromCharCode(255&e>>(-2*o&6))))a=c.indexOf(a);return r})}(),function(t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).localforage=t()}(function(){return function a(o,i,r){function c(n,t){if(!i[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(s)return s(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}e=i[n]={exports:{}};o[n][0].call(e.exports,function(t){return c(o[n][1][t]||t)},e,e.exports,a,o,i,r)}return i[n].exports}for(var s="function"==typeof require&&require,t=0;t<r.length;t++)c(r[t]);return c}({1:[function(t,l,n){!function(n){function e(){i=!0;for(var t,n,e=s.length;e;){for(n=s,s=[],t=-1;++t<e;)n[t]();e=s.length}i=!1}var t,a,o,i,r=n.MutationObserver||n.WebKitMutationObserver,c=r?(t=0,r=new r(e),a=n.document.createTextNode(""),r.observe(a,{characterData:!0}),function(){a.data=t=++t%2}):n.setImmediate||void 0===n.MessageChannel?"document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var t=n.document.createElement("script");t.onreadystatechange=function(){e(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},n.document.documentElement.appendChild(t)}:function(){setTimeout(e,0)}:((o=new n.MessageChannel).port1.onmessage=e,function(){o.port2.postMessage(0)}),s=[];l.exports=function(t){1!==s.push(t)||i||c()}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,n,e){function l(){}function a(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,t!==l&&c(this,t)}function o(t,n,e){this.promise=t,"function"==typeof n&&(this.onFulfilled=n,this.callFulfilled=this.otherCallFulfilled),"function"==typeof e&&(this.onRejected=e,this.callRejected=this.otherCallRejected)}function i(n,e,a){d(function(){var t;try{t=e(a)}catch(t){return g.reject(n,t)}t===n?g.reject(n,new TypeError("Cannot resolve promise with itself")):g.resolve(n,t)})}function r(t){var n=t&&t.then;if(t&&("object"==_typeof(t)||"function"==typeof t)&&"function"==typeof n)return function(){n.apply(t,arguments)}}function c(n,t){function e(t){o||(o=!0,g.reject(n,t))}function a(t){o||(o=!0,g.resolve(n,t))}var o=!1,i=s(function(){t(a,e)});"error"===i.status&&e(i.value)}function s(t,n){var e={};try{e.value=t(n),e.status="success"}catch(t){e.status="error",e.value=t}return e}var d=t(1),g={},p=["REJECTED"],u=["FULFILLED"],f=["PENDING"];(n.exports=a).prototype.catch=function(t){return this.then(null,t)},a.prototype.then=function(t,n){var e;return"function"!=typeof t&&this.state===u||"function"!=typeof n&&this.state===p?this:(e=new this.constructor(l),this.state!==f?i(e,this.state===u?t:n,this.outcome):this.queue.push(new o(e,t,n)),e)},o.prototype.callFulfilled=function(t){g.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){i(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){g.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){i(this.promise,this.onRejected,t)},g.resolve=function(t,n){var e=s(r,n);if("error"===e.status)return g.reject(t,e.value);e=e.value;if(e)c(t,e);else{t.state=u,t.outcome=n;for(var a=-1,o=t.queue.length;++a<o;)t.queue[a].callFulfilled(n)}return t},g.reject=function(t,n){t.state=p,t.outcome=n;for(var e=-1,a=t.queue.length;++e<a;)t.queue[e].callRejected(n);return t},a.resolve=function(t){return t instanceof this?t:g.resolve(new this(l),t)},a.reject=function(t){var n=new this(l);return g.reject(n,t)},a.all=function(t){function n(t,n){e.resolve(t).then(function(t){i[n]=t,++r!==a||o||(o=!0,g.resolve(s,i))},function(t){o||(o=!0,g.reject(s,t))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var a=t.length,o=!1;if(!a)return this.resolve([]);for(var i=new Array(a),r=0,c=-1,s=new this(l);++c<a;)n(t[c],c);return s},a.race=function(t){var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var e=t.length,a=!1;if(!e)return this.resolve([]);for(var o,i=-1,r=new this(l);++i<e;)o=t[i],n.resolve(o).then(function(t){a||(a=!0,g.resolve(r,t))},function(t){a||(a=!0,g.reject(r,t))});return r}},{1:1}],3:[function(n,t,e){!function(t){"function"!=typeof t.Promise&&(t.Promise=n(2))}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,G,O){function i(n,e){n=n||[],e=e||{};try{return new Blob(n,e)}catch(t){if("TypeError"!==t.name)throw t;for(var a=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),o=0;o<n.length;o+=1)a.append(n[o]);return a.getBlob(e.type)}}function u(t,n){n&&t.then(function(t){n(null,t)},function(t){n(t)})}function s(t,n,e){"function"==typeof n&&t.then(n),"function"==typeof e&&t.catch(e)}function d(t){return"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t)),t}function c(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function N(t){return"boolean"==typeof e?y.resolve(e):(a=t,new y(function(e){var t=a.transaction(b,x),n=i([""]);t.objectStore(b).put(n,"key"),t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},t.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||43<=parseInt(t[1],10))}}).catch(function(){return!1}).then(function(t){return e=t}));var a}function l(t){var t=k[t.name],e={};e.promise=new y(function(t,n){e.resolve=t,e.reject=n}),t.deferredOperations.push(e),t.dbReady?t.dbReady=t.dbReady.then(function(){return e.promise}):t.dbReady=e.promise}function g(t){t=k[t.name].deferredOperations.pop();t&&(t.resolve(),t.promise)}function p(t,n){t=k[t.name].deferredOperations.pop();if(t)return t.reject(n),t.promise}function n(o,i){return new y(function(n,e){if(k[o.name]=k[o.name]||z(),o.db){if(!i)return n(o.db);l(o),o.db.close()}var t=[o.name],a=(i&&t.push(o.version),w.open.apply(w,t));i&&(a.onupgradeneeded=function(t){var n=a.result;try{n.createObjectStore(o.storeName),t.oldVersion<=1&&n.createObjectStore(b)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+o.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+o.storeName+'" already exists.')}}),a.onerror=function(t){t.preventDefault(),e(a.error)},a.onsuccess=function(){var t=a.result;t.onversionchange=function(t){t.target.close()},n(t),g(o)}})}function f(t){return n(t,!1)}function h(t){return n(t,!0)}function _(t,n){var e,a,o;return!t.db||(e=!t.db.objectStoreNames.contains(t.storeName),o=t.version<t.db.version,a=t.version>t.db.version,o&&(t.version!==n&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),(a||e)&&(e&&(o=t.db.version+1)>t.version&&(t.version=o),1))}function D(t){return i([function(t){for(var n=t.length,e=new ArrayBuffer(n),a=new Uint8Array(e),o=0;o<n;o++)a[o]=t.charCodeAt(o);return e}(atob(t.data))],{type:t.type})}function R(t){return t&&t.__local_forage_encoded_blob}function F(t){var n=this,e=n._initReady().then(function(){var t=k[n._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return s(e,t,t),e}function m(t,n,e,a){void 0===a&&(a=1);try{var o=t.db.transaction(t.storeName,n);e(null,o)}catch(o){if(0<a&&(!t.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return y.resolve().then(function(){if(!t.db||"NotFoundError"===o.name&&!t.db.objectStoreNames.contains(t.storeName)&&t.version<=t.db.version)return t.db&&(t.version=t.db.version+1),h(t)}).then(function(){return function(e){l(e);for(var a=k[e.name],o=a.forages,t=0;t<o.length;t++){var n=o[t];n._dbInfo.db&&(n._dbInfo.db.close(),n._dbInfo.db=null)}return e.db=null,f(e).then(function(t){return e.db=t,_(e)?h(e):t}).then(function(t){e.db=a.db=t;for(var n=0;n<o.length;n++)o[n]._dbInfo.db=t}).catch(function(t){throw p(e,t),t})}(t).then(function(){m(t,n,e,a-1)})}).catch(e);e(o)}}function z(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function M(t){for(var n,e,a,o,i=.75*t.length,r=t.length,c=0,i=("="===t[t.length-1]&&(i--,"="===t[t.length-2])&&i--,new ArrayBuffer(i)),s=new Uint8Array(i),l=0;l<r;l+=4)n=$.indexOf(t[l]),e=$.indexOf(t[l+1]),a=$.indexOf(t[l+2]),o=$.indexOf(t[l+3]),s[c++]=n<<2|e>>4,s[c++]=(15&e)<<4|a>>2,s[c++]=(3&a)<<6|63&o;return i}function r(t){for(var n=new Uint8Array(t),e="",a=0;a<n.length;a+=3)e=(e=(e=(e+=$[n[a]>>2])+$[(3&n[a])<<4|n[a+1]>>4])+$[(15&n[a+1])<<2|n[a+2]>>6])+$[63&n[a+2]];return n.length%3==2?e=e.substring(0,e.length-1)+"=":n.length%3==1&&(e=e.substring(0,e.length-2)+"=="),e}function H(t,n,e,a){t.executeSql("CREATE TABLE IF NOT EXISTS "+n.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],e,a)}function v(t,a,o,i,r,c){t.executeSql(o,i,r,function(t,e){e.code===e.SYNTAX_ERR?t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[a.storeName],function(t,n){n.rows.length?c(t,e):H(t,a,function(){t.executeSql(o,i,r,c)},c)},c):c(t,e)},c)}function W(r,t,c,s){var l=this,n=(r=d(r),new y(function(o,i){l.ready().then(function(){var e=t=void 0===t?null:t,a=l._dbInfo;a.serializer.serialize(t,function(n,t){t?i(t):a.db.transaction(function(t){v(t,a,"INSERT OR REPLACE INTO "+a.storeName+" (key, value) VALUES (?, ?)",[r,n],function(){o(e)},function(t,n){i(n)})},function(t){t.code===t.QUOTA_ERR&&(0<s?o(W.apply(l,[r,e,c,s-1])):i(t))})})}).catch(i)}));return u(n,c),n}function V(t,n){var e=t.name+"/";return t.storeName!==n.storeName&&(e+=t.storeName+"/"),e}function q(){return!function(){var t="_localforage_support_test";try{return localStorage.setItem(t,!0),localStorage.removeItem(t),0}catch(t){return 1}}()||0<localStorage.length}function o(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];if(e)for(var a in e)e.hasOwnProperty(a)&&(nt(e[a])?t[a]=e[a].slice():t[a]=e[a])}return t}function Z(t,n){for(var e,a,o=t.length,i=0;i<o;){if((e=t[i])===(a=n)||"number"==typeof e&&"number"==typeof a&&isNaN(e)&&isNaN(a))return 1;i++}}var K="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)},w=function(){try{return"undefined"!=typeof indexedDB?indexedDB:"undefined"!=typeof webkitIndexedDB?webkitIndexedDB:"undefined"!=typeof mozIndexedDB?mozIndexedDB:"undefined"!=typeof OIndexedDB?OIndexedDB:"undefined"!=typeof msIndexedDB?msIndexedDB:void 0}catch(t){}}(),y=("undefined"==typeof Promise&&t(3),Promise),b="local-forage-detect-blob-support",e=void 0,k={},Y=Object.prototype.toString,P="readonly",x="readwrite",t={_driver:"asyncStorage",_initStorage:function(t){function n(){return y.resolve()}var a=this,o={db:null};if(t)for(var e in t)o[e]=t[e];var i=k[o.name];i||(i=z(),k[o.name]=i),i.forages.push(a),a._initReady||(a._initReady=a.ready,a.ready=F);for(var r=[],c=0;c<i.forages.length;c++){var s=i.forages[c];s!==a&&r.push(s._initReady().catch(n))}var l=i.forages.slice(0);return y.all(r).then(function(){return o.db=i.db,f(o)}).then(function(t){return o.db=t,_(o,a._defaultConfig.version)?h(o):t}).then(function(t){o.db=i.db=t,a._dbInfo=o;for(var n=0;n<l.length;n++){var e=l[n];e!==a&&(e._dbInfo.db=o.db,e._dbInfo.version=o.version)}})},_support:function(){try{var t,n;return w&&w.open?(t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),n="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code"),(!t||n)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange):!1}catch(t){return!1}}(),iterate:function(r,t){var c=this,n=new y(function(o,i){c.ready().then(function(){m(c._dbInfo,P,function(t,n){if(t)return i(t);try{var e=n.objectStore(c._dbInfo.storeName).openCursor(),a=1;e.onsuccess=function(){var t,n=e.result;n?(R(t=n.value)&&(t=D(t)),void 0!==(t=r(t,n.key,a++))?o(t):n.continue()):o()},e.onerror=function(){i(e.error)}}catch(t){i(t)}})}).catch(i)});return u(n,t),n},getItem:function(i,t){var r=this,n=(i=d(i),new y(function(a,o){r.ready().then(function(){m(r._dbInfo,P,function(t,n){if(t)return o(t);try{var e=n.objectStore(r._dbInfo.storeName).get(i);e.onsuccess=function(){var t=e.result;R(t=void 0===t?null:t)&&(t=D(t)),a(t)},e.onerror=function(){o(e.error)}}catch(t){o(t)}})}).catch(o)}));return u(n,t),n},setItem:function(c,n,t){var s=this,e=(c=d(c),new y(function(i,r){var t;s.ready().then(function(){return t=s._dbInfo,"[object Blob]"===Y.call(n)?N(t.db).then(function(t){return t?n:(a=n,new y(function(n,t){var e=new FileReader;e.onerror=t,e.onloadend=function(t){t=btoa(t.target.result||"");n({__local_forage_encoded_blob:!0,data:t,type:a.type})},e.readAsBinaryString(a)}));var a}):n}).then(function(o){m(s._dbInfo,x,function(t,n){if(t)return r(t);try{var e=n.objectStore(s._dbInfo.storeName),a=(null===o&&(o=void 0),e.put(o,c));n.oncomplete=function(){i(o=void 0===o?null:o)},n.onabort=n.onerror=function(){var t=a.error||a.transaction.error;r(t)}}catch(t){r(t)}})}).catch(r)}));return u(e,t),e},removeItem:function(i,t){var r=this,n=(i=d(i),new y(function(a,o){r.ready().then(function(){m(r._dbInfo,x,function(t,n){if(t)return o(t);try{var e=n.objectStore(r._dbInfo.storeName).delete(i);n.oncomplete=function(){a()},n.onerror=function(){o(e.error)},n.onabort=function(){var t=e.error||e.transaction.error;o(t)}}catch(t){o(t)}})}).catch(o)}));return u(n,t),n},clear:function(t){var i=this,n=new y(function(a,o){i.ready().then(function(){m(i._dbInfo,x,function(t,n){if(t)return o(t);try{var e=n.objectStore(i._dbInfo.storeName).clear();n.oncomplete=function(){a()},n.onabort=n.onerror=function(){var t=e.error||e.transaction.error;o(t)}}catch(t){o(t)}})}).catch(o)});return u(n,t),n},length:function(t){var i=this,n=new y(function(a,o){i.ready().then(function(){m(i._dbInfo,P,function(t,n){if(t)return o(t);try{var e=n.objectStore(i._dbInfo.storeName).count();e.onsuccess=function(){a(e.result)},e.onerror=function(){o(e.error)}}catch(t){o(t)}})}).catch(o)});return u(n,t),n},key:function(c,t){var s=this,n=new y(function(i,r){c<0?i(null):s.ready().then(function(){m(s._dbInfo,P,function(t,n){if(t)return r(t);try{var e=n.objectStore(s._dbInfo.storeName),a=!1,o=e.openKeyCursor();o.onsuccess=function(){var t=o.result;t?0===c||a?i(t.key):(a=!0,t.advance(c)):i(null)},o.onerror=function(){r(o.error)}}catch(t){r(t)}})}).catch(r)});return u(n,t),n},keys:function(t){var r=this,n=new y(function(o,i){r.ready().then(function(){m(r._dbInfo,P,function(t,n){if(t)return i(t);try{var e=n.objectStore(r._dbInfo.storeName).openKeyCursor(),a=[];e.onsuccess=function(){var t=e.result;t?(a.push(t.key),t.continue()):o(a)},e.onerror=function(){i(e.error)}}catch(t){i(t)}})}).catch(i)});return u(n,t),n},dropInstance:function(r,t){t=c.apply(this,arguments);var n=this.config();return(r="function"!=typeof r&&r||{}).name||(r.name=r.name||n.name,r.storeName=r.storeName||n.storeName),u(n=r.name?(n=r.name===n.name&&this._dbInfo.db?y.resolve(this._dbInfo.db):f(r).then(function(t){var n=k[r.name],e=n.forages;n.db=t;for(var a=0;a<e.length;a++)e[a]._dbInfo.db=t;return t}),r.storeName?n.then(function(t){if(t.objectStoreNames.contains(r.storeName)){var o=t.version+1,a=(l(r),k[r.name]),i=a.forages;t.close();for(var n=0;n<i.length;n++){var e=i[n];e._dbInfo.db=null,e._dbInfo.version=o}return new y(function(n,e){var a=w.open(r.name,o);a.onerror=function(t){a.result.close(),e(t)},a.onupgradeneeded=function(){a.result.deleteObjectStore(r.storeName)},a.onsuccess=function(){var t=a.result;t.close(),n(t)}}).then(function(t){a.db=t;for(var n=0;n<i.length;n++){var e=i[n];e._dbInfo.db=t,g(e._dbInfo)}}).catch(function(t){throw(p(r,t)||y.resolve()).catch(function(){}),t})}}):n.then(function(t){l(r);var e=k[r.name],a=e.forages;t.close();for(var n=0;n<a.length;n++)a[n]._dbInfo.db=null;return new y(function(n,e){var a=w.deleteDatabase(r.name);a.onerror=function(){var t=a.result;t&&t.close(),e(a.error)},a.onblocked=function(){console.warn('dropInstance blocked for database "'+r.name+'" until all open connections are closed')},a.onsuccess=function(){var t=a.result;t&&t.close(),n(t)}}).then(function(t){e.db=t;for(var n=0;n<a.length;n++)g(a[n]._dbInfo)}).catch(function(t){throw(p(r,t)||y.resolve()).catch(function(){}),t})})):y.reject("Invalid arguments"),t),n}},$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Q=/^~~local_forage_type~([^~]+)~/,L="__lfsc__:",S=L.length,I="arbf",C="blob",J=S+I.length,X=Object.prototype.toString,j={serialize:function(n,e){var t="";if(n&&(t=X.call(n)),n&&("[object ArrayBuffer]"===t||n.buffer&&"[object ArrayBuffer]"===X.call(n.buffer))){var a,o=L;n instanceof ArrayBuffer?(a=n,o+=I):(a=n.buffer,"[object Int8Array]"===t?o+="si08":"[object Uint8Array]"===t?o+="ui08":"[object Uint8ClampedArray]"===t?o+="uic8":"[object Int16Array]"===t?o+="si16":"[object Uint16Array]"===t?o+="ur16":"[object Int32Array]"===t?o+="si32":"[object Uint32Array]"===t?o+="ui32":"[object Float32Array]"===t?o+="fl32":"[object Float64Array]"===t?o+="fl64":e(new Error("Failed to get type for BinaryArray"))),e(o+r(a))}else if("[object Blob]"===t){o=new FileReader;o.onload=function(){var t="~~local_forage_type~"+n.type+"~"+r(this.result);e(L+C+t)},o.readAsArrayBuffer(n)}else try{e(JSON.stringify(n))}catch(t){console.error("Couldn't convert value into a JSON string: ",n),e(null,t)}},deserialize:function(t){if(t.substring(0,S)!==L)return JSON.parse(t);var n,e=t.substring(J),a=t.substring(S,J),o=(a===C&&Q.test(e)&&(n=(t=e.match(Q))[1],e=e.substring(t[0].length)),M(e));switch(a){case I:return o;case C:return i([o],{type:n});case"si08":return new Int8Array(o);case"ui08":return new Uint8Array(o);case"uic8":return new Uint8ClampedArray(o);case"si16":return new Int16Array(o);case"ur16":return new Uint16Array(o);case"si32":return new Int32Array(o);case"ui32":return new Uint32Array(o);case"fl32":return new Float32Array(o);case"fl64":return new Float64Array(o);default:throw new Error("Unkown type: "+a)}},stringToBuffer:M,bufferToString:r},a={_driver:"webSQLStorage",_initStorage:function(t){var a=this,o={db:null};if(t)for(var n in t)o[n]="string"!=typeof t[n]?t[n].toString():t[n];var e=new y(function(n,e){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(n){return e(n)}o.db.transaction(function(t){H(t,o,function(){a._dbInfo=o,n()},function(t,n){e(n)})},e)});return o.serializer=j,e},_support:"function"==typeof openDatabase,iterate:function(l,t){var n=this,e=new y(function(s,e){n.ready().then(function(){var c=n._dbInfo;c.db.transaction(function(t){v(t,c,"SELECT * FROM "+c.storeName,[],function(t,n){for(var e=n.rows,a=e.length,o=0;o<a;o++){var i=e.item(o),r=(r=i.value)&&c.serializer.deserialize(r);if(void 0!==(r=l(r,i.key,o+1)))return void s(r)}s()},function(t,n){e(n)})})}).catch(e)});return u(e,t),e},getItem:function(n,t){var i=this,e=(n=d(n),new y(function(a,o){i.ready().then(function(){var e=i._dbInfo;e.db.transaction(function(t){v(t,e,"SELECT * FROM "+e.storeName+" WHERE key = ? LIMIT 1",[n],function(t,n){n=(n=n.rows.length?n.rows.item(0).value:null)&&e.serializer.deserialize(n);a(n)},function(t,n){o(n)})})}).catch(o)}));return u(e,t),e},setItem:function(t,n,e){return W.apply(this,[t,n,e,1])},removeItem:function(o,t){var i=this,n=(o=d(o),new y(function(e,a){i.ready().then(function(){var n=i._dbInfo;n.db.transaction(function(t){v(t,n,"DELETE FROM "+n.storeName+" WHERE key = ?",[o],function(){e()},function(t,n){a(n)})})}).catch(a)}));return u(n,t),n},clear:function(t){var o=this,n=new y(function(e,a){o.ready().then(function(){var n=o._dbInfo;n.db.transaction(function(t){v(t,n,"DELETE FROM "+n.storeName,[],function(){e()},function(t,n){a(n)})})}).catch(a)});return u(n,t),n},length:function(t){var o=this,n=new y(function(e,a){o.ready().then(function(){var n=o._dbInfo;n.db.transaction(function(t){v(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(t,n){n=n.rows.item(0).c;e(n)},function(t,n){a(n)})})}).catch(a)});return u(n,t),n},key:function(o,t){var i=this,n=new y(function(e,a){i.ready().then(function(){var n=i._dbInfo;n.db.transaction(function(t){v(t,n,"SELECT key FROM "+n.storeName+" WHERE id = ? LIMIT 1",[o+1],function(t,n){n=n.rows.length?n.rows.item(0).key:null;e(n)},function(t,n){a(n)})})}).catch(a)});return u(n,t),n},keys:function(t){var a=this,n=new y(function(o,e){a.ready().then(function(){var n=a._dbInfo;n.db.transaction(function(t){v(t,n,"SELECT key FROM "+n.storeName,[],function(t,n){for(var e=[],a=0;a<n.rows.length;a++)e.push(n.rows.item(a).key);o(e)},function(t,n){e(n)})})}).catch(e)});return u(n,t),n},dropInstance:function(e,t){t=c.apply(this,arguments);var a=this.config(),o=((e="function"!=typeof e&&e||{}).name||(e.name=e.name||a.name,e.storeName=e.storeName||a.storeName),this),n=e.name?new y(function(t){var i,n=e.name===a.name?o._dbInfo.db:openDatabase(e.name,"","",0);t(e.storeName?{db:n,storeNames:[e.storeName]}:(i=n,new y(function(o,e){i.transaction(function(t){t.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(t,n){for(var e=[],a=0;a<n.rows.length;a++)e.push(n.rows.item(a).name);o({db:i,storeNames:e})},function(t,n){e(n)})},function(t){e(t)})})))}).then(function(r){return new y(function(o,i){r.db.transaction(function(a){for(var t=[],n=0,e=r.storeNames.length;n<e;n++)t.push(function(n){return new y(function(t,e){a.executeSql("DROP TABLE IF EXISTS "+n,[],function(){t()},function(t,n){e(n)})})}(r.storeNames[n]));y.all(t).then(function(){o()}).catch(function(t){i(t)})},function(t){i(t)})})}):y.reject("Invalid arguments");return u(n,t),n}},tt={_driver:"localStorageWrapper",_initStorage:function(t){var n={};if(t)for(var e in t)n[e]=t[e];return n.keyPrefix=V(t,this._defaultConfig),q()?((this._dbInfo=n).serializer=j,y.resolve()):y.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(t){return!1}}(),iterate:function(s,t){var l=this,n=l.ready().then(function(){for(var t=l._dbInfo,n=t.keyPrefix,e=n.length,a=localStorage.length,o=1,i=0;i<a;i++){var r=localStorage.key(i);if(0===r.indexOf(n)){var c=(c=localStorage.getItem(r))&&t.serializer.deserialize(c);if(void 0!==(c=s(c,r.substring(e),o++)))return c}}});return u(n,t),n},getItem:function(e,t){var a=this,n=(e=d(e),a.ready().then(function(){var t=a._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n=n&&t.serializer.deserialize(n)}));return u(n,t),n},setItem:function(r,t,n){var c=this,e=(r=d(r),c.ready().then(function(){var i=t=void 0===t?null:t;return new y(function(e,a){var o=c._dbInfo;o.serializer.serialize(t,function(t,n){if(n)a(n);else try{localStorage.setItem(o.keyPrefix+r,t),e(i)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||a(t),a(t)}})})}));return u(e,n),e},removeItem:function(n,t){var e=this,a=(n=d(n),e.ready().then(function(){var t=e._dbInfo;localStorage.removeItem(t.keyPrefix+n)}));return u(a,t),a},clear:function(t){var a=this,n=a.ready().then(function(){for(var t=a._dbInfo.keyPrefix,n=localStorage.length-1;0<=n;n--){var e=localStorage.key(n);0===e.indexOf(t)&&localStorage.removeItem(e)}});return u(n,t),n},length:function(t){var n=this.keys().then(function(t){return t.length});return u(n,t),n},key:function(e,t){var a=this,n=a.ready().then(function(){var n,t=a._dbInfo;try{n=localStorage.key(e)}catch(t){n=null}return n=n&&n.substring(t.keyPrefix.length)});return u(n,t),n},keys:function(t){var i=this,n=i.ready().then(function(){for(var t=i._dbInfo,n=localStorage.length,e=[],a=0;a<n;a++){var o=localStorage.key(a);0===o.indexOf(t.keyPrefix)&&e.push(o.substring(t.keyPrefix.length))}return e});return u(n,t),n},dropInstance:function(n,t){t=c.apply(this,arguments),(n="function"!=typeof n&&n||{}).name||(a=this.config(),n.name=n.name||a.name,n.storeName=n.storeName||a.storeName);var e=this,a=n.name?new y(function(t){t(n.storeName?V(n,e._defaultConfig):n.name+"/")}).then(function(t){for(var n=localStorage.length-1;0<=n;n--){var e=localStorage.key(n);0===e.indexOf(t)&&localStorage.removeItem(e)}}):y.reject("Invalid arguments");return u(a,t),a}},nt=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},T={},et={},B={INDEXEDDB:t,WEBSQL:a,LOCALSTORAGE:tt},t=[B.INDEXEDDB._driver,B.WEBSQL._driver,B.LOCALSTORAGE._driver],A=["dropInstance"],E=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(A),at={description:"",driver:t.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};U.prototype.config=function(t){if("object"!==(void 0===t?"undefined":K(t)))return"string"==typeof t?this._config[t]:this._config;if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var n in t){if("storeName"===n&&(t[n]=t[n].replace(/\W/g,"_")),"version"===n&&"number"!=typeof t[n])return new Error("Database version must be a number.");this._config[n]=t[n]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)},U.prototype.defineDriver=function(p,t,n){var e=new y(function(n,e){try{var a=p._driver,t=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(p._driver){for(var o=E.concat("_initStorage"),i=0,r=o.length;i<r;i++){var c=o[i];if((!Z(A,c)||p[c])&&"function"!=typeof p[c])return void e(t)}for(var s=0,l=A.length;s<l;s++){var d=A[s];p[d]||(p[d]=function(n){return function(){var t=new Error("Method "+n+" is not implemented by the current driver"),t=y.reject(t);return u(t,arguments[arguments.length-1]),t}}(d))}var g=function(t){T[a]&&console.info("Redefining LocalForage driver: "+a),T[a]=p,et[a]=t,n()};"_support"in p?p._support&&"function"==typeof p._support?p._support().then(g,e):g(!!p._support):g(!0)}else e(t)}catch(t){e(t)}});return s(e,t,n),e},U.prototype.driver=function(){return this._driver||null},U.prototype.getDriver=function(t,n,e){t=T[t]?y.resolve(T[t]):y.reject(new Error("Driver not found."));return s(t,n,e),t},U.prototype.getSerializer=function(t){var n=y.resolve(j);return s(n,t),n},U.prototype.ready=function(t){var n=this,e=n._driverSet.then(function(){return null===n._ready&&(n._ready=n._initDriver()),n._ready});return s(e,t,t),e},U.prototype.setDriver=function(t,n,e){function i(){c._config.driver=c.driver()}function r(t){return c._extend(t),i(),c._ready=c._initStorage(c._config),c._ready}function a(o){return function(){var a=0;return function t(){for(;a<o.length;){var n=o[a];return a++,c._dbInfo=null,c._ready=null,c.getDriver(n).then(r).catch(t)}i();var e=new Error("No available storage method found.");return c._driverSet=y.reject(e),c._driverSet}()}}var c=this,o=(nt(t)||(t=[t]),this._getSupportedDrivers(t)),t=null!==this._driverSet?this._driverSet.catch(function(){return y.resolve()}):y.resolve();return this._driverSet=t.then(function(){var t=o[0];return c._dbInfo=null,c._ready=null,c.getDriver(t).then(function(t){c._driver=t._driver,i(),c._wrapLibraryMethodsWithReady(),c._initDriver=a(o)})}).catch(function(){i();var t=new Error("No available storage method found.");return c._driverSet=y.reject(t),c._driverSet}),s(this._driverSet,n,e),this._driverSet},U.prototype.supports=function(t){return!!et[t]},U.prototype._extend=function(t){o(this,t)},U.prototype._getSupportedDrivers=function(t){for(var n=[],e=0,a=t.length;e<a;e++){var o=t[e];this.supports(o)&&n.push(o)}return n},U.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0,n=E.length;t<n;t++)!function(n,e){n[e]=function(){var t=arguments;return n.ready().then(function(){return n[e].apply(n,t)})}}(this,E[t])},U.prototype.createInstance=function(t){return new U(t)};a=new U;function U(t){var n,e,a;if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");for(n in B)B.hasOwnProperty(n)&&(a=(e=B[n])._driver,this[n]=a,T[a]||this.defineDriver(e));this._defaultConfig=o({},at),this._config=o({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}G.exports=a},{3:3}]},{},[4])(4)}),jQuery.cookie=function(t,n,e){var a,o;return 1<arguments.length&&"[object Object]"!==String(n)?(e=jQuery.extend({},e),null==n&&(e.expires=-1),"number"==typeof e.expires&&(a=e.expires,(o=e.expires=new Date).setDate(o.getDate()+a)),n=String(n),document.cookie=[encodeURIComponent(t),"=",e.raw?n:encodeURIComponent(n),e.expires?"; expires="+e.expires.toUTCString():"",e.path?"; path="+e.path:"",e.domain?"; domain="+e.domain:"",e.secure?"; secure":""].join("")):(o=(e=n||{}).raw?function(t){return t}:decodeURIComponent,(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(a[1]):null)};var integrationUrls={domain:"gtarcade.com",trd_login:"https://profile.gtarcade.com",passport_url:"https://profile.gtarcade.com",payment_url:"//pay.gtarcade.com",resource_url:"https://static.gtarcade.com"};function integrationPrompt(t){var e=this;this.win=t||window,this.init=function(t,n){if(!t)throw new Error("Argument is invaild");this.callback=n;n=this.win.document.body||this.win.documentElement,t=("string"==typeof t?$(t):(t instanceof jQuery?t:$(t)).clone(!0)).hide().appendTo(n);if(t.length)return this.container=t,this;throw new Error("Empty object")},this.layout=function(t){if(this.container)return"function"==typeof t&&t(this),this;throw new Error("Must be init")},this.show=function(){var t=this.getOffset();this.container.css({position:"absolute",left:t.left,top:t.top,display:"block",zIndex:1e6}),this.backgroundObj=integrationBackground({opacity:.5}).show(),"function"==typeof this.callback&&this.callback(this)},this.hide=function(){this.container.hide(),integrationBackground().hide()},this.remove=function(){this.container&&this.container.remove(),this.container=null},this.getOffset=function(){var t={},n=$(e.win);t.docWidth=$(e.win.document.body).width(),t.docHeight=$(e.win).height(),t.winHeight=n.height(),t.winWidth=n.width(),t.conWidth=$(e.container).width(),t.conHeight=$(e.container).height(),t.left=Math.max(0,n.scrollLeft()+(t.winWidth-t.conWidth)/2),t.top=Math.max(0,n.scrollTop()+(t.winHeight-t.conHeight)/2),Math.min(t.docHeight-t.conHeight-10,t.top);return t},$(this.win).resize(function(){var t=e.getOffset();$(e.backgroundObj).css({width:t.docWidth+"px",height:t.docHeight+"px"}),$(e.container).css({left:t.left+"px",top:t.top+"px"})}).scroll(function(){var t=e.getOffset();$(e.container).css({top:t.top+"px"})})}function integrationBackground(t){var n=(t=t||{}).zindex||999999,e=Math.max(document.body.clientWidth||document.documentElement.clientWidth)+"px",a=Math.max(document.body.clientHeight,document.documentElement.clientHeight)+"px";return $("#backgroundBoardId").length?$("#backgroundBoardId").css({width:e,height:a}):$('<iframe id="backgroundBoardId" scrolling="no" frameborder="0"                     style="overflow:hidden;                         position:fixed;                         background:#000;                         z-index:'+n+";                         width:"+e+";                         left:0;                         top:0;                         height:"+a+';                         display:none" src="'+integrationUrls.resource_url+'/gta_common/js/bck.htm"></iframe>').appendTo(document.body||document.documentElement).css("opacity",t.opacity||.7)}window.gtCaptcha=function(){var r="",n={1:"eng",2:"zho-hk",3:"zho",4:"tur",5:"deu",6:"fra",7:"rus",8:"spa",9:"pon",10:"pol",11:"ind",12:"isl",13:"tha",14:"ara",15:"kor",16:"jpn",17:"vie",18:"him"},c=0,s="profile.gtarcade.com",l="jsonp",d=0,e=!0;function g(t){c=0,t.onClose&&t.onClose(),gtCaptcha.instance.destroy&&gtCaptcha.instance.destroy(),gtCaptcha.instance=null}return{init:function(t){var n;t&&("string"==typeof t?r=t:(t.env&&(r=t.env),t.apiHost&&-1!=(s=t.apiHost).indexOf("uzgames")&&(d=1),t.apiType&&(l=t.apiType))),"undefined"==typeof initGeetest4&&(t=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("script")).type="text/javascript",n.src="//static.geetest.com/v4/gt4.js","onload"in n||(n.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null)}),n.onload=function(){this.onload=null},t.appendChild(n))},pop:function(i){var t;e&&(i=$.extend({},{element:"body",product:"bind"},i||{}),"undefined"!=typeof initGeetest4)&&(e=!1,t=window.integrationPop&&window.integrationPop.nowLangId||window.langId&&window.langId[$.cookie("lang")]||window.nowLangId||1,initGeetest4({captchaId:i.captchaId,product:i.product||"bind",language:n[t]||"eng"},function(o){gtCaptcha.instance=o,"bind"!==i.product&&(i.element?captchaObj.appendTo(i.element):(console.log("图形验证码缺少参数"),i.onFail&&i.onFail(c,{status:"-1",msg:"图形验证码缺少参数"}))),o.onReady(function(){i.onReady&&i.onReady(),e=!0}).onSuccess(function(t){var n=o.getValidate(),e=(n.captcha_id=i.captchaId,function(t){i.onSuccess&&i.onSuccess(t)}),a=function(t){c++,i.onFail&&i.onFail(c,t)};n={url:"https://"+r+s+"/site/captcha-validate",data:{captcha_type:"GT",captcha_params:n},success:function(t){var n;+t.status===d?(n=t.data)&&n.verify_token&&e&&e(n.verify_token):a&&a(t)},error:function(t){a&&a(t)}},"jsonp"==l?(n.dataType="jsonp",n.jsonp="callback"):n.type=l,$.ajax(n),g(i)}).onFail(function(t){c++,i.onFail&&i.onFail(c,t),c>=i.failLimit&&(g(i),i.onLimitFail)&&i.onLimitFail()}).onClose(function(){g(i)})}))},instance:null}}();var envPrefix=String($(document.currentScript||document.getElementById("integration-js")).attr("data-env-prefix")||location.hostname.match(/qa|prv/i)||"").toLowerCase(),restoreToken=(localforage&&localforage.config({name:"integration",storeName:"cache",description:"integration cache"}),""),restDay="",integrationIsSupport=-1<document.domain.indexOf("support.gtarcade.com"),integrationUrls={domain:"gtarcade.com",trd_login:"https://".concat(envPrefix,"profile.gtarcade.com"),passport_url:"https://".concat(envPrefix,"profile.gtarcade.com"),payment_url:"https://".concat(envPrefix,"pay.gtarcade.com"),resource_url:"https://".concat(envPrefix,"static.gtarcade.com"),appendFile:"https://".concat(envPrefix,"static.gtarcade.com/gta_common/integration/"),globalapi:"https://".concat(envPrefix,"globalapi.gtarcade.com/api/"),version:"?v=20230610.03"},scriptSrc=$(document.currentScript||document.getElementById("integration-js")||'script[src*="gta_common/integration/index.js"]').attr("src")||"";function getCacheVersion(){var t;return(((null==(t=scriptSrc.split("?"))?void 0:t[1])||"").match(/\d+/g)||[]).join("")||(new Date).toISOString().slice(0,10).replace(/-/g,"")}var integrationPop={envPrefix:envPrefix,initData:$(document.currentScript||document.getElementById("integration-js")).data()||{},cacheVersion:getCacheVersion(),picProp:new integrationPrompt,langList:[],nowLangName:"",nowLangId:"",nowLangSymbol:"",menuList:[],isLetterShow:!1,letterUrl:"",gameList:[],checkIsLogin:function(){var t;$.cookie("uuzu_UNICKNAME")?($("#integration_header-login,#integration_game_header-login,#integration_switchLogin,#integration_signUpF").hide(),$("#integration_header-out,#integration_game_header-out").show(),$("#integration_header-out").find(".integration_header-username").html(t),10<(t=$.cookie("uuzu_UNICKNAME")).length&&(t=t.substring(0,12)+".."),$("#integration_header-out").find(".integration_header-username").html(t),$("#integration_game_header-out").find(".integration_game_header-username").html(t)):($("#integration_header-out,#integration_game_header-out").hide(),$("#integration_header-login,#integration_game_header-login,.integration_switchLogin,.integration_signUpF").show()),$(".integration_now_Lang,.integration_game_now_Lang").html(integrationPop.nowLangName)},showLogin:function(t,n){var e='<div class="integration_popUp_sign integration_pop_sign" from='+t+' id="integration_loginG" style="position:absolute; left:200px; top:60px;">                        <div class="allBoxG">                            <div class="popUp_head">                                <a href="javascript:;" class="btn_close" id="integration_loginCloseBtn" title="Close">x</a>                                <div class="title integration_title_loginG"><p>'+langPack["Log In"]+'</p></div>                                <div class="title integration_title_SignUpG"><p>'+langPack["Sign up"]+'</p></div>                            </div>                            <div class="integration_popUp_main clearfix">                                <div class="integration_box_loginG" id="integration_loginArea">                                    <form class="form_login">                                        <p class="integration_Glogo"></p>                                        <h3 class="integration_existingH" style="display:none;">'+langPack["existing User"]+'</h3>                                        <div class="dd"><input name="email" id="email" type="text" placeholder="'+langPack.Email+'" class="input_login integration_login_email" '+(integrationIsSupport?"":'maxlength="50"')+' /><div class="integration_wrong_tip username_warn" id="integration_error_email"><span class="tip_sj">▲</span>'+langPack["Please enter a valid email address!"]+'</div></div>                                        <div class="dd"><input name="password" id="password" type="password" placeholder="'+langPack.Password+'" class="input_login" '+(integrationIsSupport?"":'maxlength="32"')+' /><div class="integration_wrong_tip password_warn" id="integration_error_pwd"><span class="tip_sj">▲</span>'+langPack["Password must be at least 6 characters!"]+'</div></div>                                        <div class="dd clearfix integration_show_login_verify_code" style="display:none;">                                            <input type="text" class="input_login fl" placeholder="'+langPack["Verification Code"]+'" style="width:230px;" id="integration_login_code" name="integration_login_code" '+(integrationIsSupport?"":'maxlength="10"')+' />                                            <div class="integration_wrong_tip code_warn" id="error_code"><span class="tip_sj">▲</span>'+langPack["Verification Code don't match"]+'</div>                                            <span class="yzm fr"><img onclick="integrationPop.changeVerifyCode(1);" id="logVerifyCode" align="middle" src="" valign="absmiddle" style="cursor:pointer"></span>                                        </div>                                        <div class="dd">                                            <label class="label_checkbox" ><input name="" id="integration_rememberMe" type="checkbox" checked="false" value=""/>'+langPack["Remember me"]+'</label>                                            <div class="btn_forgotPasw"><a href="'+integrationUrls.passport_url+'/password/recovery" class="integration_fpoint" fpoint="page_platform@@login@@官网顶通_登录面板_密码找回">'+langPack["Forgot Password?"]+'</a></div>                                        </div>                                        <div class="btn_sign"><a href="javascript:;" id="integration_loginBtn" class="integration_login_btn integration_fpoint" fpoint="page_platform@@login@@官网登录_登录账号">'+langPack["Log In"]+'</a></div>                                        <div class="noAccount">'+langPack["Don't have a GTarcade account?"]+' <a href="javascript:;" id="integration_btnGoSign" class="integration_fpoint" fpoint="page_platform@@login@@官网登录面板_注册面板">'+langPack["Sign up now!"]+' </a></div>                                        <div class="forgotAccount">'+langPack["Forgot your login email?"]+' <a href="'+integrationUrls.passport_url+'/user/recovery" class="integration_fpoint" fpoint="page_platform@@login@@官网顶通_登录面板_账号找回">'+langPack["Recover account"]+' </a></div>                                    </form>                                </div>                                <div class="integration_box_SignUpG" id="integration_signUpArea">                                    <form class="form_login" action="/site/proxy" method="get">                                        <p class="integration_Glogo"></p>                                         <h3 class="integration_existingH" style="display:none;">'+langPack["existing User"]+'</h3>                                        <div class="dd"><input name="integration_reg_email" id="integration_reg_email" type="text" placeholder="'+langPack.Email+'" class="input_login" '+(integrationIsSupport?"":'maxlength="50"')+' /><div class="integration_wrong_tip" id="integration_email_error"><span class="tip_sj">▲</span>'+langPack["Please enter a valid email address!"]+'</div></div>                                        <div class="dd"><input name="integration_reg_password" id="integration_reg_password" type="password" placeholder="'+langPack.Password+'" class="input_login" '+(integrationIsSupport?"":'maxlength="32"')+' /><div class="integration_wrong_tip" id="integration_password_error"><span class="tip_sj">▲</span>'+langPack["Password must be at least 6 characters!"]+'</div></div>                                        <div class="dd"><input name="integration_reg_password_re" id="integration_reg_password_re" type="password" placeholder="'+langPack["Confirm Password"]+'" class="input_login" '+(integrationIsSupport?"":'maxlength="32"')+' /><div class="integration_wrong_tip" id="integration_password_re_error"><span class="tip_sj">▲</span>'+langPack["Passwords don't match"]+'</div></div>                                        <div class="dd clearfix integration_show_reg_verify_code" style="display:none;">                                            <input type="text" id="integration_reg_code" class="input_login fl" placeholder="'+langPack["Verification Code"]+'" style="width:230px;" name="integration_reg_code" '+(integrationIsSupport?"":'maxlength="10"')+' />                                            <div class="integration_wrong_tip code_warn" id="integration_code_error"><span class="tip_sj">▲</span>'+langPack["Verification Code don't match"]+'</div>                                            <span class="yzm fr"><img onclick="integrationPop.changeVerifyCode(2);" id="regVerifyCode" align="middle" src="" valign="absmiddle" style="cursor:pointer"></span>                                        </div>                                        <div class="dd">                                            <label class="label_checkbox" ><input name="policy0" type="checkbox" value=""/>'+langPack["I have read and agree to the"]+' <a href="javascript:void(0);" onclick="integrationPop.gdprDiagShow(1)">'+langPack["Terms of Service"]+"</a> "+(langPack.and||"&")+' <a href="javascript:void(0);" onclick="integrationPop.gdprDiagShow(2)">'+langPack["Privacy Policy"]+'.</a></label>                                            <label class="label_checkbox" style="display:none;"><input name="policy1" type="checkbox" value=""/>'+langPack["I would like GTarcade to keep me informed of their newest games and promotions."]+'</label>                                        </div>                                        <div class="btn_sign"><a href="javascript:;" id="integration_signBtn" class="btn_lg_a integration_fpoint" fpoint="page_platform@@signup@@官网注册_注册账号" style="background: rgb(199, 199, 199);">'+langPack["Sign up"]+'</a></div>                                        <div class="noAccount">'+langPack["Allready have an account"]+'? <a href="javascript:;" id="integration_btnGoLogin" class="integration_fpoint" fpoint="page_platform@@signup@@官网注册面板_登录面板">'+langPack["Log in here"]+'! </a></div>                                    </form>                                </div>                                <div class="integration_other_account">                                    <a href="javascript:;" class="integration_btn_fbLogin" onclick="integrationPop.connect(\'facebook\',\''+t+"')\">"+langPack["Log in with Facebook"]+'</a>                                    <a href="javascript:;" class="integration_btn_gLogin" onclick="integrationPop.connect(\'google\',\''+t+"')\">"+langPack["Log in with Google"]+'</a>                                    <ul class="list clearfix">                                        <li><a href="javascript:;" onclick="integrationPop.connect(\'twitter\',\''+t+'\')"><h3 class="Twitter"></h3>'+langPack.Twitter+"</a></li>                                        <li><a href=\"javascript:;\" onclick=\"integrationPop.connect('yahoo','"+t+'\')"><h3 class="Yahoo"></h3>'+langPack.Yahoo+"!</a></li>                                        <li><a href=\"javascript:;\" onclick=\"integrationPop.connect('livespace','"+t+'\')"><h3 class="Windows"></h3>'+langPack.Windows+'</a></li>                                        <li class="show_vk"><a href="javascript:;" onclick="integrationPop.connect(\'vk\',\''+t+'\')"><h3 class="VK_ru"></h3>VK</a></li>                                    </ul>                                    <div class="other">                                        <span>'+langPack["Or login with"]+'</span>                                        <ul class="list clearfix">                                            <li><a href="javascript:;" onclick="integrationPop.connect(\'kakao\',\''+t+'\')" title="'+langPack.Kakao+'"><h3 class="Kakao"></h3></a></li>                                            <li><a href="javascript:;" onclick="integrationPop.connect(\'naver\',\''+t+'\')" title="'+langPack.Naver+'"><h3 class="Naver"></h3></a></li>                                            \x3c!--<li><a href="javascript:;" onclick="integrationPop.connect(\'huawei\',\''+t+'\')" title="'+langPack.Huawei+'"><h3 class="Huawei"></h3></a></li>--\x3e                                            <li><a href="javascript:;" onclick="integrationPop.connect(\'apple\',\''+t+'\')" title="'+langPack.Apple+'"><h3 class="Apple"></h3></a></li>                                        </ul>                                    </div>                                </div>                                <div class="integration_other_account integration_existingL" style=" padding-top:36px;display:none;">                                    <p class="title">Connect a Windows Live Account</p>                                <ul class="list clearfix" style=" padding-top:14px;">                                <li><a href="#"><h3 class="Windows"></h3>Windows</a></li>                                </ul>                                <p class="tip_singS"><em>'+langPack.hello+", "+(void 0!==n?n.account:"")+"</em>"+langPack["The address of this mail had been registered!"]+'</p>                                </div>                                <div class="line"><p>Or</p></div>                            </div>                        </div>                    </div>';this.picProp.init(e).show(),$(document).on("click","#integration_loginCloseBtn",function(){$("#integration_loginG").remove(),integrationBackground().hide()}),integrationPop.checkInputValueIsNeeded(),"login"===t?$(".integration_box_loginG").addClass("change_z-index"):"showThirdSignUpBinded"===t?($(".integration_box_loginG").addClass("change_z-index"),$(".integration_other_account,.integration_Glogo").hide(),$(".integration_existingL,.integration_existingH").show(),$("#integration_loginArea input[name='email']").val(n?n.email:"")):($(".integration_box_SignUpG").addClass("change_z-index"),$(".integration_title_SignUpG").show(),$(".integration_title_loginG").hide(),integrationPop.getCaptchaConfig()),"ru-ru"===$.cookie("lang")&&-1==="roopllodeocdarkorbitseafight".indexOf(document.domain.split(".")[0])?($(".integration_pop_sign .integration_other_account .list").addClass("change_for_vk"),$(".show_vk").show()):($(".integration_pop_sign .integration_other_account .list").removeClass("change_for_vk"),$(".show_vk").hide()),$(document).on("click","input[name='policy0']",function(){$(this).prop("checked")?$("#integration_signBtn").css({background:"#fe9500"}):$("#integration_signBtn").css({background:"#c7c7c7"})})},checkInputValueIsNeeded:function(){var t=$.cookie("integration_login_email");t&&$("#integration_loginArea input[name='email'],#integration_game_login_email").val(t)},showSignUpSuccess:function(){var t='<div class="integration_popWrap"><h2 class="popUp_head"><a href="javascript:;" id="integration_signUpSuccessColseBtn" class="btn_close p_close" title="Close">x</a></h2><div class="pop-newsBox"><p class="succes-icon">'+langPack["Successful registration"]+'</p><p class="tt3">'+langPack["Go to"]+' <a href="'+integrationUrls.passport_url+'">'+langPack["My Account"]+"</a>, "+langPack["to change account information"]+"</p></div></div>";this.picProp.init(t).show(),$(document).on("click","#integration_signUpSuccessColseBtn",function(){$(".integration_popWrap").remove(),integrationBackground().hide()}),setTimeout(function(){window.location.reload()},5e3)},showThirdSignUpBinded:function(t,n){$("#integration_loginG").remove(),integrationBackground().hide(),this.showLogin("showThirdSignUpBinded",{account:t,email:n})},connect:function(t,n){document.domain=integrationUrls.domain;var e,a=(window.screen.availHeight-10-500)/2,o=(window.screen.availWidth-30-700)/2,a=("livespace"===t&&(t="win"),window.open(integrationUrls.trd_login+"/social/connect?plat=pt_en&name="+t+"&callbackUrl="+integrationUrls.domain,"_blank","height=500,width=700,top="+a+",left="+o)),i=setInterval((e=a,function(){e.closed&&($.cookie("loginsucceed")?(integrationPop.showSignUpSuccess(),$.cookie("loginsucceed",null,{path:"/",domain:"."+integrationUrls.domain})):$.cookie("emailRegisted")?(integrationPop.showThirdSignUpBinded($.cookie("emailRegisted"),$.cookie(t+"email")),$.cookie("emailRegisted",null,{path:"/",domain:"."+integrationUrls.domain})):$.cookie("connecterror")?(integrationPop.showWarningInfo(t),$.cookie("connecterror",null,{path:"/",domain:"."+integrationUrls.domain})):$.cookie("hasRegisted")?(integrationPop.showWarningInfo(t),$.cookie("hasRegisted",null,{path:"/",domain:"."+integrationUrls.domain})):($.cookie("uuzu_getGdprInfo",!0,{path:"/",domain:".gtarcade.com"}),window.location.reload()),clearInterval(i))}),500);integrationPop.addDot({key_module:"pop_ups",key_function:n,value:t})},showWarningInfo:function(t){"win"===t&&(t="livespace");t='<div class="integration_popWrap" id="integration_connect_social_media"><h2 class="integration_popUp_head"><a href="javascript:;" class="btn_close p_close" title="Close" id="integration_signUpSuccessColseBtn">x</a></h2><div class="pop-newsBox "><p class="error-icon" style="font-size: 1em;line-height: 24px">'+langPack["This {plat} account is already bound to a Gta account, please switch {plat} account."].replace(/{plat}/g,t)+'</p></div><div style="text-align: center"><a style="font-size: 1em;background-position: 14px 0;color:#d21034;display: inline-block;" href="'+{google:"https://www.google.com",facebook:"https://www.facebook.com",twitter:"https://www.twitter.com",yahoo:"https://www.yahoo.com",livespace:"https://login.live.com"}[t]+'" target="_blank"> '+langPack["Switch {plat} account"].replace(/{plat}/g,t)+"</a></div></div>";this.picProp.init(t).show(),$(document).on("click","#integration_signUpSuccessColseBtn",function(){$("#integration_connect_social_media").remove(),integrationBackground().hide()})},check_email:function(t){return!t.match(/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/)&&langPack["Please enter a valid email address!"]},changeVerifyCode:function(t,n){var e="",a="login",o="登录";switch(t){case 1:e=$("#logVerifyCode");break;case 2:e=$("#regVerifyCode"),a="signup",o="注册";break;case 3:e=$("#hearderLogVerifyCode");break;case 4:e=$("#gameHearderLogVerifyCode")}integrationPop.addDot({key_module:"page_platform",key_function:a,value:"官网"+o+"_"+o+"图形验证"}),$.ajax({type:"GET",url:integrationUrls.passport_url+"/site/captcha?refresh=1",dataType:"jsonp",cache:!1,jsonp:"callback",success:function(t){e.attr("src",integrationUrls.passport_url+t.url),$("body").data(integrationUrls.passport_url+"/site/captcha.hash",[t.hash1,t.hash2]),n&&n()}})},show_verify_code:function(t){var n="";if(""===(n=("game"===t?$("#integration_game_login_email"):$(".integration_login_email")).val().trim()))return $(".integration_show_login_verify_code").hide(),$(".integration_game_game_header_verify_code").hide(),!1;$.ajax({type:"GET",url:integrationUrls.passport_url+"/site/showcode",data:"username="+n,dataType:"jsonp",async:!0,cache:!1,jsonp:"callback",success:function(t){1===Number(t.status)?($(".integration_show_login_verify_code").show(),$(".integration_game_game_header_verify_code").show()):($(".integration_show_login_verify_code").hide(),$(".integration_game_game_header_verify_code").hide())}})},show_reg_verify_code:function(){$.ajax({type:"GET",url:integrationUrls.passport_url+"/site/showip",dataType:"jsonp",async:!0,cache:!1,jsonp:"callback",success:function(t){1===Number(t.status)?$(".integration_show_reg_verify_code").show():$(".integration_show_reg_verify_code").hide()}})},login:function(i,r,c,s,t){i&&"undefined"!==i&&r&&"undefined"!==r&&$.ajax({url:integrationUrls.passport_url+"/passport-gta/login",type:"GET",data:{username:i,password:r,code:t,keep_login:c,from:s,busFrom:1,deviceId:integrationPop.getBrowerInfo(),deviceType:1,os:integrationPop.getOsInfo()},dataType:"jsonp",success:function(t){if($(".integration_login_btn").removeClass("loading"),1==t.status){if("UZ"===$(".integration_login_btn").attr("data-captcha-type")&&integrationPop.addDot({key_module:"page_platform",key_function:"login",value:"官网登录_登录图形验证成功"}),0<t.setcookie.length)for(var n=0;n<t.setcookie.length;n++)$.cookie(t.setcookie[n].name,t.setcookie[n].value,{expires:t.setcookie[n].expires,path:t.setcookie[n].path,domain:t.setcookie[n].domain});$.cookie("uuzu_getGdprInfo",!0,{path:"/",domain:".gtarcade.com"}),$.cookie("account","",{expires:-1,path:"/"}),$.cookie("kurl","",{expires:-1,path:"/"}),1===c?$.cookie("integration_login_email",i,{expires:30,domain:".gtarcade.com",path:"/"}):$.cookie("integration_login_email",null,{domain:".gtarcade.com",path:"/"});var e=integrationPop.getUrlParam("rurl");e?window.location.href=decodeURIComponent(e):window.location.reload()}else if(299==t.status)integrationPop.getDelAccountDetail(),restoreToken=t.data.restore_token,restDay=t.data.end_time,integrationPop.showDelAccountPop(),1<=restDay?(console.log(restDay,"s"),$(".del-pop-content .rest-day").text(restDay),$(".del-pop-content .long-time").show(),$(".del-pop-content .no-time").hide()):($(".del-pop-content .long-time").hide(),$(".del-pop-content .no-time").show());else{e=1;if("game"===s){for(var a in t.errors)$(".integration_game_"+a+"_warnTB").html('<span class="tip_sj">▲</span>'+t.errors[a][0]).show();"The operation is too frequent, please try again later."===t.message&&$(".integration_game_password_warnTB").html(t.message).show(),e=4}else for(var a in $(".integration_wrong_tip").hide(),t.errors)$("."+a+"_warn").html('<span class="tip_sj">▲</span>'+t.errors[a][0]).show();var o=t.captcha_type;o&&($(".integration_login_btn").attr("data-captcha-type",o),"GT"==o?($(".integration_show_login_verify_code").hide(),integrationPop.popLoginGtCaptcha(function(t){integrationPop.login(i,r,c,s,t)})):"UZ"==o&&($(".integration_show_login_verify_code").show(),integrationPop.changeVerifyCode(e),integrationPop.addDot({key_module:"page_platform",key_function:"login",value:"官网登录_登录图形验证失败"})))}},error:function(){$(".integration_login_btn").removeClass("loading")}})},getUrlParam:function(t){t=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),t=window.location.search.substr(1).match(t);return null!=t?unescape(t[2]):null},signUp:function(a,o,i,r,c,s,l,d,t,n){$.trim(a)&&$.trim(o)&&$.trim(i)&&($("#integration_signBtn").addClass("disabled"),$.ajax({url:integrationUrls.passport_url+"/passport-gta/reg",type:"GET",data:{email:a,password:o,password_re:i,birthYear:r,birthMonth:c,birthDay:s,subscription:l,from:d,code:t},dataType:"jsonp",success:function(t){if($("#integration_signBtn").removeClass("disabled"),$("#integration_signBtn").removeClass("loading"),1===Number(t.status)){"UZ"===$("#integration_signBtn").attr("data-captcha-type")&&integrationPop.addDot({key_module:"page_platform",key_function:"signup",value:"官网注册_注册图形验证成功"}),localStorage.setItem("username",a);var n=integrationPop.getUrlParam("rurl");n?window.location.href=decodeURIComponent(n):window.location.reload()}else{for(var e in t.errors)$("#"+("integration_"+e+"_error")).html('<span class="tip_sj">▲</span>'+t.errors[e][0]).show();n=t.captcha_type;n&&($("#integration_signBtn").attr("data-captcha-type",n),"GT"==n?($(".integration_show_reg_verify_code").hide(),integrationPop.popSignupGtCaptcha(function(t){integrationPop.signUp(a,o,i,r,c,s,l,d,t)})):"UZ"==n&&($(".integration_show_reg_verify_code").show(),integrationPop.changeVerifyCode(2),integrationPop.addDot({key_module:"page_platform",key_function:"signup",value:"官网注册_注册图形验证失败"})))}},error:function(){$("#integration_signBtn").removeClass("loading")}}))},logout:function(){$.ajax({url:integrationUrls.passport_url+"/site/logout?callback=?",type:"GET",dataType:"jsonp",success:function(){setTimeout(function(){$.cookie("uuzu_UAUTH",null,{domain:".gtarcade.com",path:"/"}),$.cookie("uuzu_UNICKNAME",null,{domain:".gtarcade.com",path:"/"}),$.cookie("uuzu_getGdprInfo",null,{path:"/",domain:".gtarcade.com"}),$.cookie("gdpr_version",null,{path:"/",domain:".gtarcade.com"}),window.location.reload()},1e3)}})},login_show:function(t){if(integrationPop.addDot({key_module:"pop_ups",key_function:"login",value:"login_button"}),"integration_loginBtn"===t){var n=$("#integration_loginArea input[name='email']").val(),e=$("#integration_loginArea input[name='password']").val(),a=$("#integration_login_code").val(),o=$("#integration_rememberMe").is(":checked")?1:0,i="";if("undefined"===n||""===$.trim(n))return void $("#integration_error_email").show();if($("#integration_error_email").hide(),"undefined"===e||""===$.trim(e))return void $("#integration_error_pwd").show();if($("#integration_error_pwd").hide(),this.check_email(n))return $("#integration_loginArea").find("#integration_error_email").html(this.check_email(n)).show(),!1}$(".integration_login_btn").addClass("loading"),"GT"==$(".integration_login_btn").attr("data-captcha-type")?integrationPop.popLoginGtCaptcha(function(t){integrationPop.login(n,e,o,i,t)}):integrationPop.login(n,e,o,i,a)},check_password_strength:function(t,n){var e=!1,n=new RegExp("qwerty|123456|password|admin|"+n,"ig");return e=null!==t.match(n)||t.length<6?"Pick a stronger password except your email address, simple number":e},addDot:function(t){window.yoozoo?yoozoo.customDot({event_type:1,key_module:t.key_module,key_function:t.key_function,value:t.value}):$.getScript("https://".concat(envPrefix,"static.gtarcade.com/gta_common/dot/yoozooDot.js").concat(integrationUrls.version),function(){yoozoo.customDot({event_type:1,key_module:t.key_module,key_function:t.key_function,value:t.value})})},drawPlatformFooterHtml:function(){var t='\n        <footer class="plate_footer">\n        <section class="main">\n            <div class="gta-logo"></div>\n            <p class="site-link">\n                <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-bottom-menu,GTarcade-abouts,//www.gtarcade.com/abouts.html" rel="nofollow" href="//www.gtarcade.com/abouts.html">'.concat(langPack["About Us"],'</a>\n                <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-bottom-menu,GTarcade-contact,//www.gtarcade.com/contact.html" rel="nofollow" href="//www.gtarcade.com/contact.html">').concat(langPack.Contact,'</a>\n                <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-bottom-menu,GTarcade-privacy,//www.gtarcade.com/privacy.html" rel="nofollow" target="_self" href="//www.gtarcade.com/privacy.html">').concat(langPack["Privacy Policy"],'</a>\n                <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-bottom-menu,GTarcade-terms,//www.gtarcade.com/terms.html" rel="nofollow" target="_self" href="//www.gtarcade.com/terms.html">').concat(langPack["Terms of Service"],'</a>\n                <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-bottom-menu,Update-Password," rel="nofollow" id="go_update_password" href="javascript:;">').concat(langPack["Update Password"],'</a>\n                <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-bottom-menu,Payment-History," rel="nofollow" id="go_pay_history" href="javascript:;">').concat(langPack["Payment History"],'</a>\n            </p>\n            <p class="social-link">\n                <a integration_data_gtarcade_plat_frontpoint="www-bottom-menu,Social-Networking-Twitter,https://twitter.com/GTarcade" rel="nofollow" class="icon-twitter integration_gtarcade_plat_frontpoint" target="_blank" href="https://twitter.com/GTarcade">Twitter</a>\n                <a integration_data_gtarcade_plat_frontpoint="www-bottom-menu,Social-Networking-youtubeFollow,https://www.youtube.com/channel/UCBTbBAH48bnkbFf7FE7Wg3A" rel="nofollow" class="icon-YouTube integration_gtarcade_plat_frontpoint" target="_blank" href="https://www.youtube.com/channel/UCBTbBAH48bnkbFf7FE7Wg3A">YouTube</a>\n                <a integration_data_gtarcade_plat_frontpoint="www-bottom-menu,Social-Networking-Instagram,https://www.instagram.com/gtarcadeofficial" rel="nofollow" class="icon-Instagram integration_gtarcade_plat_frontpoint" target="_blank" href="https://www.instagram.com/gtarcadeofficial">Instagram</a>\n                <a integration_data_gtarcade_plat_frontpoint="www-bottom-menu,Social-Networking-Facebook,https://www.facebook.com/gtarcade" rel="nofollow" class="icon-facebook integration_gtarcade_plat_frontpoint" target="_blank" href="https://www.facebook.com/gtarcade">Facebook</a>\n                <a integration_data_gtarcade_plat_frontpoint="www-bottom-menu,Social-Networking-LinkedIn,https://www.linkedin.com/company/2186534" rel="nofollow" class="icon-LinkedIn integration_gtarcade_plat_frontpoint" target="_blank" href="https://www.linkedin.com/company/2186534">LinkedIn</a>\n            </p>\n        </section>\n        </footer>\n        ');$("body").append(t),integrationPop.checkIsLogin(),$.cookie("lang")&&$.cookie("lang");(navigator.language||navigator.userLanguage).includes("zh")&&integrationPop.addBeian(),"jp"===integrationPop.nowLangSymbol&&integrationPop.addJPTerms()},addBeian:function(){$(".plate_footer .main").append('\n        <p class="ft_beian">\n            <img style="top: 3px;width: 14px;height: 16px;display: unset;" src="//pic.youzu.com/youzu/web/website_header/img/beian_icon.png?uz1210" border="0">\n            <a  target="_blank" rel="nofollow" href="https://www.beian.gov.cn/portal/registerSystemInfo?recordcode=31010402010014">沪公网安备31010402010014号</a>\n            <img style=";top: 3px;width: 14px;height: 16px;display: unset;" src="//pic.youzu.com/youzu/web/website_header/img/beian_icon2.png?uz1210" border="0">\n            <a style="margin-left: 4px;" rel="nofollow" href="https://beian.miit.gov.cn/" target="_blank">沪ICP备09058784号-21</a>\n        </p>\n        ')},addJPTerms:function(){$(".plate_footer .site-link").append('\n        <br>\n        <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-bottom-menu,https://uterms.gtarcade.com/index.html?id=7017186" rel="nofollow" href="https://uterms.gtarcade.com/index.html?id=7017186">資金決済法に基づく表示</a>\n        <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-bottom-menu,https://uterms.gtarcade.com/index.html?id=7017185" rel="nofollow" href="https://uterms.gtarcade.com/index.html?id=7017185">特定商取引法に基づく表示</a>\n        ')},drawPlatformHeaderHtml:function(){var t='<div class="secretMailboxCheck close"><div class="icon-box"><i class="icon"></i></div><div class="info"><a class="un_link" href="//'.concat(envPrefix,'acct.gtarcade.com/profile/index">').concat(langPack["Bind your recovery email to increase your account security level."],"</a></div></div>")+'<header class="integration_topBar"><section class="topBar_main clearfix" style="margin: 0px 40px;"><h1 class="topBar_logo"><a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-top-menu,topBar-logo,//www.gtarcade.com" href="//www.gtarcade.com" title="Play the best online games on GTarcade.com"></a></h1><div class="integration_topBar_nav"><ul></ul></div><div class="integration_Select_Language fr"><p class="integration_now_Lang"></p><ul class="integration_Lang_box" id="lang_change"></ul></div><div class="integration_topBar_login" id="integration_header-login"><div id="signUp" class="integration_btn_signT fr"><a integration_data_gtarcade_plat_frontpoint="www-top-menu,Sign-up," href="javascript:;" class="btn integration_gtarcade_plat_frontpoint integration_fpoint" fpoint="page_platform@@signup@@官网顶通_注册面板">'+langPack["Sign up"]+'</a></div><div class="integration_btn_logT fr"><a integration_data_gtarcade_plat_frontpoint="www-top-menu,Log-In," href="javascript:;" class="btn integration_gtarcade_plat_frontpoint integration_fpoint" fpoint="page_platform@@login@@官网顶通_登录面板">'+langPack["Log in"]+'</a></div></div><div class="integration_topBar_login" id="integration_header-out" style="display: none;">'+'\n                <div class="userAvatar_log fl">\n                    <a href="https://'.concat(envPrefix,'profile.gtarcade.com/profile/index" class="avatar-link">\n                        <div class="avatar-border"></div>\n                        <img class="avatar" src="').concat(integrationUrls.appendFile,'images/layout/default-avatar.png"/>\n                    </a>\n                    <span class="station_letter_count" id="stationLetterCount" style="display: none;">0</span>\n                    <div class="user-info-card">\n                        <div class="user-info-wrap">\n                            <div class="user-info">\n                                <div class="avatar-box">\n                                    <a href="https://').concat(envPrefix,'profile.gtarcade.com/profile/index" class="avatar-link">\n                                        <div class="avatar-border"></div>\n                                        <img class="avatar" src="').concat(integrationUrls.appendFile,'images/layout/default-avatar.png"/>\n                                    </a>\n                                </div>\n                                <div class="name">\n                                    <a href="https://').concat(envPrefix,'profile.gtarcade.com/profile/index" class="name-link integration_header-username"></a>\n                                    <a class="more" href="https://').concat(envPrefix,'profile.gtarcade.com/profile/index"></a>\n                                </div>\n                            </div>\n                            <div class="btn-group">\n                                <a class="btn1 line" href="#task">').concat(langPack["Task Center"],'</a>\n                                <a class="btn1 fill" href="#mall">').concat(langPack["Welfare Mall"],'</a>\n                            </div>\n                            <div class="credit-group">\n                                <a class="item gcoin" href="https://').concat(envPrefix,'profile.gtarcade.com/profile/wallet">\n                                    <div class="num">0</div>\n                                </a>\n                                <a class="item credit" href="https://').concat(envPrefix,'profile.gtarcade.com/profile/point">\n                                    <div class="num">0</div>\n                                </a>\n                            </div>\n                        </div>\n                        <div class="message" id="userInfoCardMsgWrap"></div>\n                        <a integration_data_gtarcade_plat_frontpoint="www-top-menu,Log-out," class="integration_btn_logoutT fr integration_gtarcade_plat_frontpoint" id="integration_logoutBtn" href="javascript:void(0);">').concat(langPack["Log out"],"</a>\n                    </div>\n                </div>\n            ")+'<p class="userName_log fl"><em>'+'<a href="https://'.concat(envPrefix,'profile.gtarcade.com/profile/index" class="integration_header-username"></a>')+"</em></p></span></div></section></header>",n="",e="",a="";if($("#init_header_html").hide(),$("body").prepend(t),integrationPop.langList&&0!==integrationPop.langList.length&&"{}"!==JSON.stringify(integrationPop.gameList)){$.cookie("uuzu_UNICKNAME")&&integrationPop.isLetterShow&&$.getScript(integrationUrls.appendFile+"integration-js/zmsg.addon.js"+integrationUrls.version,function(){zmsg.init("#stationLetterCount",1,envPrefix),$(".station_letter").css({display:"inline-block"})});for(var o=0;o<integrationPop.langList.length;o++){var i=$.cookie("lang")?$.cookie("lang"):"en-us";integrationPop.langList[o].code!==i&&(n+='<li><a integration_data_gtarcade_plat_frontpoint="www-top-menu,'+integrationPop.langList[o].title+'" class="btn integration_gtarcade_plat_frontpoint" href="javascript:void(0);" urlLang="'+integrationPop.langList[o].symbol+'" lang="'+integrationPop.langList[o].code+'">'+integrationPop.langList[o].title+"</a></li>")}$(".integration_Lang_box").html(n),integrationPop.langList.length<=1&&$(".integration_Select_Language").addClass("less");for(o=0;o<integrationPop.menuList.length;o++)-1!==integrationPop.menuList[o].url.indexOf("community.gtarcade.com")?e+='\n                    <li class="forum">\n                        <a class="integration_gtarcade_plat_frontpoint" href="javascript:void(0);">'.concat(langPack.Forum||"Forum",'</a>\n                        <div class="dropdown">\n                            <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-top-menu,topBar-Forum,https://community.gtarcade.com" href="').concat("https://community.gtarcade.com".replace(/^((https?:)?\/\/)/,"$1".concat(envPrefix)),'" target="_blank">').concat(langPack.Forum||"Forum",'</a>\n                            <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-top-menu,topBar-Forum (Beta),https://forum.gtarcade.com" href="').concat("https://forum.gtarcade.com".replace(/^((https?:)?\/\/)/,"$1".concat(envPrefix)),'" target="_blank">').concat(langPack["Forum (Beta)"]||"Forum (Beta)","</a>\n                        </div>\n                    </li>\n                    "):-1!=integrationPop.menuList[o].title.indexOf(langPack["Desktop App"]||"Desktop App")?e+='\n                    <li class="app">\n                        <a class="integration_gtarcade_plat_frontpoint" href="javascript:void(0);">'.concat(langPack.APP||"APP",'</a>\n                        <div class="dropdown">\n                            <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-top-menu,topBar-DesktopApp,').concat(integrationPop.menuList[o].url,'" href="').concat(integrationPop.menuList[o].url.replace(/^((https?:)?\/\/)/,"$1".concat(envPrefix)),'" target="_blank">').concat(langPack["Desktop App"]||"Desktop App",'</a>\n                            <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-top-menu,topBar-GTAAPP,https://osact.gtarcade.com/platform/apps/download/index.html" href="https://osact.gtarcade.com/platform/apps/download/index.html" target="_blank">').concat(langPack["Mobile App"]||"Mobile App","</a>\n                        </div>\n                    </li>\n                    "):e+='<li class="'+(1===Number(integrationPop.menuList[o].ad_addition.top_menu.content)?"integration_nav_juegos":"")+'"><a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-top-menu,topBar-'+integrationPop.menuList[o].title+","+integrationPop.menuList[o].url.replace(/^((https?:)?\/\/)/,"$1".concat(envPrefix))+'" href="'+integrationPop.menuList[o].url.replace(/^((https?:)?\/\/)/,"$1".concat(envPrefix))+'" '+(1===Number(integrationPop.menuList[o].is_window)?'target="_blank"':"")+">"+integrationPop.menuList[o].title+"</a></li>";$(".integration_topBar_nav").html(e),$(".integration_nav_juegos").append('<div class="integration_gameBox_nav clearfix css3_bounceIn"><div class="gamelist-content"></div></div>'),a=(a=(a+=r("mobile_games",integrationPop.gameList.mobile_games))+r("browser_games",integrationPop.gameList.browser_games))+r("pc_games",integrationPop.gameList.pc_games),$(".integration_gameBox_nav .gamelist-content").html(a),integrationPop._setGameListPos(),$(window).resize(integrationPop._setGameListPos),integrationPop.checkIsLogin(),integrationPop.renderGotCookie(),integrationPop._initUserInfoCardInfo(),integrationPop.secretMailboxCheck()}else console.log("数据配置失败，请查看cms配置");function r(t,n){if(!n||0===n.length)return"";for(var e="",a=0;a<n.length;a++)e+='\n                <li class="'.concat(n[a].remark,'">\n                    <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-top-menu,topBar-').concat(a,",").concat(n[a].url,'" href="').concat(n[a].url.replace(/^((https?:)?\/\/)/,"$1".concat(envPrefix?"prv":"")),'" target="_blank">\n                    <img src="').concat(n[a].thumb[0]||"",'" alt="').concat(n[a].title,'" />\n                    <span>').concat(n[a].title,"</span>\n                    </a>\n                </li>\n                ");return'\n            <div class="list_gameBoxNav">\n                <h4 class="gamelist-title">'.concat(langPack[t],'</h4>\n                <ul class="gamelist-list">\n                ').concat(e,"\n                </ul>\n            </div>\n            ")}},drawGameHeaderHtml:function(){var t='<header class="integration_game_topBar"><section class="topBar_main clearfix" style="margin: 0px 40px;"><h1 class="topBar_logo"><a href="//www.gtarcade.com" title="Play the best online games on GTarcade.com"></a></h1><div class="integration_game_topBar_nav"></div><div class="integration_game_Select_Language fr"><p class="integration_game_now_Lang">简体中文</p><ul class="integration_game_Lang_box" id="lang_change_back"></ul></div><div class="integration_game_topBar_login" id="integration_game_header-login"><ul class="integration_game_QLoginT fr"><li><a href="javascript:;" onclick="integrationPop.connect(\'facebook\',\'login\')" class="FacebookT" title="Facebook"></a></li><li><a href="javascript:;" onclick="integrationPop.connect(\'google\',\'login\')" class="GoogleT" title="Google"></a></li><li><a href="javascript:;" onclick="integrationPop.connect(\'twitter\',\'login\')" class="TwitterT" title="Twitter"></a></li><li><a href="javascript:;" onclick="integrationPop.connect(\'yahoo\',\'login\')" class="YahooT" title="Yahoo"></a></li><li><a href="javascript:;" onclick="integrationPop.connect(\'win\',\'login\')" class="WindowsT" title="Windows"></a></li></ul><div id="integration_game_signUp" class="integration_game_btn_signT fr"><a href="javascript:;" class="btn integration_fpoint" fpoint="page_platform@@signup@@游戏注册_注册账号">'+langPack["Sign up"]+'</a></div><div class="integration_game_btn_logT fr"><a href="javascript:;" class="btn integration_login_btn integration_fpoint" fpoint="page_platform@@signup@@游戏登录_登录账号" id="integration_game_login_header">'+langPack["Log in"]+'</a></div><div class="integration_game_Tsign_box_B fr"><div class="Thang"><input name="integration_game_login_email" id="integration_game_login_email" type="text" placeholder="'+langPack.Email+'" class="input_Tlogin"><div class="wrong_tipTB integration_game_username_warnTB" id="integration_game_login_email_error"><span class="tip_sj">▲</span>Please enter a valid email address!                </div></div><div class="Thang"><input name="password" id="integration_game_login_password" type="password" placeholder="'+langPack.Password+'" class="input_Tlogin"><div class="wrong_tipTB integration_game_password_warnTB" id="integration_game_login_password_error"><span class="tip_sj">▲</span>Password must be at least 6 characters!'+'<a class="forgotPaswT" href="https://'.concat(envPrefix,'profile.gtarcade.com/password/recovery" class="integration_fpoint" fpoint="page_platform@@login@@官网顶通_登录面板_密码找回">Forgot Password?</a>')+'</div></div><div class="Thang integration_game_game_header_verify_code" style="display: none;"><input type="text" id="integration_game_login_code" name="email" class="input_Tlogin fl" placeholder="'+langPack["Verification Code"]+'" style="width:80px; margin-right:10px;"><div class="Tyzm f1" style="float:left;"><img onclick="integrationPop.changeVerifyCode(4);" id="gameHearderLogVerifyCode" align="middle" src="" valign="absmiddle" style="cursor:pointer"></div><div class="wrong_tipTB integration_game_code_warnTB" id="integration_game_login_code_error"><span class="tip_sj">▲</span></div></div></div></div><div class="integration_game_topBar_login" id="integration_game_header-out" style="display: none;">'+'\n                <div class="userAvatar_log fl">\n                    <a href="https://'.concat(envPrefix,'profile.gtarcade.com/profile/index" class="avatar-link">\n                        <img class="avatar" src="').concat(integrationUrls.appendFile,'images/layout/default-avatar.png"/>\n                    </a>\n                    <span class="station_letter_count" id="stationLetterCount" style="display: none;">0</span>\n                    <div class="user-info-card">\n                        <div class="user-info-wrap">\n                            <div class="user-info">\n                                <div class="avatar-box">\n                                    <a href="https://').concat(envPrefix,'profile.gtarcade.com/profile/index" class="avatar-link">\n                                        <img class="avatar" src="').concat(integrationUrls.appendFile,'images/layout/default-avatar.png"/>\n                                    </a>\n                                </div>\n                                <div class="name">\n                                    <a href="https://').concat(envPrefix,'profile.gtarcade.com/profile/index" class="name-link integration_game_header-username"></a>\n                                    <a class="more" href="https://').concat(envPrefix,'profile.gtarcade.com/profile/index"></a>\n                                </div>\n                            </div>\n                            <div class="btn-group">\n                                <a class="btn1 line" href="#task">').concat(langPack["Task Center"],'</a>\n                                <a class="btn1 fill" href="#mall">').concat(langPack["Welfare Mall"],'</a>\n                            </div>\n                            <div class="credit-group">\n                                <a class="item gcoin" href="https://').concat(envPrefix,'profile.gtarcade.com/profile/wallet">\n                                    <div class="num"></div>\n                                </a>\n                                <a class="item credit" href="https://').concat(envPrefix,'profile.gtarcade.com/profile/point">\n                                    <div class="num"></div>\n                                </a>\n                            </div>\n                        </div>\n                        <div class="message" id="userInfoCardMsgWrap"></div>\n                        <a integration_data_gtarcade_plat_frontpoint="www-top-menu,Log-out," class="integration_btn_logoutT fr integration_gtarcade_plat_frontpoint" id="integration_logoutBtn" href="javascript:void(0);">').concat(langPack["Log out"],"</a>\n                    </div>\n                </div>\n            ")+'<p class="integration_game_userName_log fl"><em><a href="https://'.concat(envPrefix,'profile.gtarcade.com/profile/index" class="integration_game_header-username"></a></em></p>')+"</span></div></section></header>",n="",e="",a="";if($("#init_header_html").hide(),$("body").prepend(t),integrationPop.langList&&0!==integrationPop.langList.length&&"{}"!==JSON.stringify(integrationPop.gameList)){for(var o=0;o<integrationPop.langList.length;o++){var i=$.cookie("lang")?$.cookie("lang"):"en-us";integrationPop.langList[o].code!==i&&(n+='<li><a integration_data_gtarcade_plat_frontpoint="www-top-menu,'+integrationPop.langList[o].title+'" class="btn integration_gtarcade_plat_frontpoint" href="javascript:void(0);" urlLang="'+integrationPop.langList[o].symbol+'" lang="'+integrationPop.langList[o].code+'">'+integrationPop.langList[o].title+"</a></li>")}$(".integration_game_Lang_box").html(n),integrationPop.langList.length<=1&&$(".integration_game_Select_Language").addClass("less");for(o=0;o<integrationPop.menuList.length;o++)e+='<li class="'+(1===Number(integrationPop.menuList[o].ad_addition.top_menu.content)?"integration_game_nav_juegos":"")+'"><a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-top-menu,topBar-'+integrationPop.menuList[o].title+","+integrationPop.menuList[o].url+'" href="'+integrationPop.menuList[o].url+'" '+(1===Number(integrationPop.menuList[o].is_window)?'target="_blank"':"")+">"+integrationPop.menuList[o].title+"</a></li>";$(".integration_game_topBar_nav").html(e),$(".integration_game_nav_juegos").append('<div class="integration_game_gameBox_nav integration_game_gameBox_nav clearfix css3_bounceIn"><div class="gamelist-content"></div></div>'),a=(a=(a+=r("mobile_games",integrationPop.gameList.mobile_games))+r("browser_games",integrationPop.gameList.browser_games))+r("pc_games",integrationPop.gameList.pc_games),$(".integration_game_gameBox_nav .gamelist-content").html(a),$.cookie("uuzu_UNICKNAME")&&integrationPop.isLetterShow&&$.getScript(integrationUrls.appendFile+"integration-js/zmsg.addon.js"+integrationUrls.version,function(){zmsg.init("#stationLetterCount",1,envPrefix),$(".station_letter").css({display:"inline-block"})}),integrationPop._setGameListPos(),$(window).resize(integrationPop._setGameListPos),integrationPop.checkIsLogin(),integrationPop.renderGotCookie(),integrationPop._initUserInfoCardInfo()}else console.log("数据配置失败，请查看cms配置");function r(t,n){if(!n||0===n.length)return"";for(var e="",a=0;a<n.length;a++)e+='\n                <li class="'.concat(n[a].remark,'">\n                    <a class="integration_gtarcade_plat_frontpoint" integration_data_gtarcade_plat_frontpoint="www-top-menu,topBar-').concat(a,",").concat(n[a].url,'" href="').concat(n[a].url.replace(/^((https?:)?\/\/)/,"$1".concat(envPrefix?"prv":"")),'" target="_blank">\n                    <img src="').concat(n[a].thumb[0]||"",'" alt="').concat(n[a].title,'" />\n                    <span>').concat(n[a].title,"</span>\n                    </a>\n                </li>\n                ");return'\n            <div class="list_gameBoxNav">\n                <h4 class="gamelist-title">'.concat(langPack[t],'</h4>\n                <ul class="gamelist-list">\n                ').concat(e,"\n                </ul>\n            </div>\n            ")}},drawFooter:function(){window.langPack?this.drawPlatformFooterHtml():this.checkWitchLangNeeded(this.drawPlatformFooterHtml)},drawPlatformHeader:function(){window.langPack?this.drawPlatformHeaderHtml():this.checkWitchLangNeeded(this.drawPlatformHeaderHtml)},drawGameHeader:function(){window.langPack?this.drawGameHeaderHtml():this.checkWitchLangNeeded(this.drawGameHeaderHtml)},drawLoginDialog:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var i,r,n,e,a,o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function t(n){var e,a,o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(integrationPop.langList=n.data.language,integrationPop.isLetterShow=n.data.msg.msg_display,integrationPop.letterUrl=n.data.msg.msg_link,integrationPop.langList&&0!==integrationPop.langList.length||(integrationPop.renderDefaultLang(),console.log("初始化语言列表失败，请检查cms配置")),e=0;e<integrationPop.langList.length;e++)integrationPop.langList[e].code===i&&(integrationPop.nowLangName=integrationPop.langList[e].title,integrationPop.nowLangId=integrationPop.langList[e].id,integrationPop.nowLangSymbol=integrationPop.langList[e].symbol,r=!0);return r||(i=integrationPop.langList[0].code,$.cookie("lang",i,{expires:90,path:"/",domain:".gtarcade.com"})),a="cache_langpack_"+integrationPop.nowLangSymbol,t.next=9,integrationPop.cacheGet(a);case 9:(o=t.sent)?(window.langPack=o.data,integrationPop.showLogin("login")):($.ajaxSetup({cache:!0}),$.getScript(integrationUrls.appendFile+"lang/"+i+"/index.js"+integrationUrls.version,function(){integrationPop.showLogin("login"),window.langPack&&integrationPop.cacheSet(a,Object.assign({},window.langPack))}));case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)},a=function(t){return o.apply(this,arguments)},i=$.cookie("lang")?$.cookie("lang"):"en-us",r=!1,n="cache_top_index",t.next=6,integrationPop.cacheGet(n);case 6:(e=t.sent)?a(e):$.ajax({type:"GET",url:integrationUrls.globalapi+"unify-top/index",data:{domain:window.location.hostname.replace(/^(prv)/i,"")},dataType:"jsonp",success:function(t){a(t),integrationPop.cacheSet(n,t.data)}});case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),checkWitchLangNeeded:function(){var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var c,s,n,e,a,o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(){return(o=_asyncToGenerator(_regeneratorRuntime().mark(function t(n){var e,a,o,i,r;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=function(){return(r=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var n,e,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(t){integrationPop.menuList=t.data.menu,integrationPop.gameList=t.data.games,1===Number(integrationPop.langList[0].web_type)?(integrationPop.drawPlatformHeaderHtml(),integrationPop.drawPlatformFooterHtml()):integrationPop.drawGameHeaderHtml()},n="cache_top_menu_"+integrationPop.nowLangSymbol,t.next=4,integrationPop.cacheGet(n);case 4:(e=t.sent)?a(e):$.ajax({type:"GET",url:integrationUrls.globalapi+"unify-top/menu",data:{web_type:integrationPop.langList[0].web_type,lang_id:integrationPop.nowLangId,domain:window.location.hostname.replace(/^(prv)/i,"")},dataType:"jsonp",success:function(t){a(t),integrationPop.cacheSet(n,t.data)},error:function(){integrationPop.drawPlatformHeaderHtml(),integrationPop.drawPlatformFooterHtml()}});case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)},i=function(){return r.apply(this,arguments)},integrationPop.langList=n.data.language,integrationPop.isLetterShow=n.data.msg.msg_display,integrationPop.letterUrl=n.data.msg.msg_link,integrationPop.langList&&0!==integrationPop.langList.length||(integrationPop.renderDefaultLang(),console.log("初始化语言列表失败，请检查cms配置")),e=0;e<integrationPop.langList.length;e++)integrationPop.langList[e].code===c&&(integrationPop.nowLangName=integrationPop.langList[e].title,integrationPop.nowLangId=integrationPop.langList[e].id,integrationPop.nowLangSymbol=integrationPop.langList[e].symbol,s=!0);return s||(c=integrationPop.langList[0].code,integrationPop.nowLangName=integrationPop.langList[0].title,integrationPop.nowLangId=integrationPop.langList[0].id,integrationPop.nowLangSymbol=integrationPop.langList[0].symbol,$.cookie("lang",c,{expires:90,path:"/",domain:".gtarcade.com"})),a="cache_langpack_"+integrationPop.nowLangSymbol,t.next=11,integrationPop.cacheGet(a);case 11:(o=t.sent)?(window.langPack=o.data,i()):($.ajaxSetup({cache:!0}),$.getScript(integrationUrls.appendFile+"lang/"+c+"/index.js"+integrationUrls.version,function(){i(),window.langPack&&integrationPop.cacheSet(a,Object.assign({},window.langPack))}));case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)},a=function(t){return o.apply(this,arguments)},c=$.cookie("lang")?$.cookie("lang"):"en-us",s=!1,n="cache_top_index",t.next=6,integrationPop.cacheGet(n);case 6:(e=t.sent)?a(e):$.ajax({type:"GET",url:integrationUrls.globalapi+"unify-top/index",data:{domain:window.location.hostname.replace(/^(prv)/i,"")},dataType:"jsonp",success:function(t){a(t),integrationPop.cacheSet(n,t.data)},error:function(){integrationPop.renderDefaultLang(),$.getScript(integrationUrls.appendFile+"lang/en-us/index.js"+integrationUrls.version,function(){integrationPop.drawPlatformHeaderHtml(),integrationPop.drawPlatformFooterHtml()})}});case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),prependCSSFile:function(){$("head").append("<link>"),$("head").children(":last").attr({rel:"stylesheet",type:"text/css",href:integrationUrls.appendFile+"integration-css/integration.css"+integrationUrls.version})},gameHeaderLoginShow:function(){var n=$("#integration_game_login_email").val().trim(),e=$("#integration_game_login_password").val().trim(),t=$("#integration_game_login_code").val().trim(),a=!0;this.check_email(n)?($("#integration_game_login_header").removeClass("disabled"),$("#integration_game_login_email_error").html('<span class="tip_sj">▲</span>'+langPack["Please enter a valid email address!"]).show(),a=!1):($("#integration_game_login_header").removeClass("disabled"),$("#integration_game_login_email_error").hide()),e.trim().length<6?($("#integration_game_login_header").removeClass("disabled"),$("#integration_game_login_password_error").html('<span class="tip_sj">▲</span>'+langPack["Password must be at least 6 characters!"]).show(),a=!1):($("#integration_game_login_header").removeClass("disabled"),$("#integration_game_login_password_error").hide()),a&&$(".integration_login_btn").addClass("loading"),"GT"==$(".integration_login_btn").attr("data-captcha-type")?integrationPop.popLoginGtCaptcha(function(t){integrationPop.login(n,e,$.cookie("integration_login_email")?1:0,"game",t)}):integrationPop.login(n,e,$.cookie("integration_login_email")?1:0,"game",t)},getAjax:function(t,n,e,a,o){$.ajax({type:t,url:n,data:e,dataType:"json","Content-Type":"application/json; charset=UTF-8",xhrFields:{withCredentials:!0},success:function(t){a(t)},error:function(t){o&&o(t)}})},asyncAjax:function(t,a,o){return new Promise(function(n,e){integrationPop.getAjax(t,a,o,function(t){n(t)},function(t){e(t)})})},fetchGdprList:function(){return _asyncToGenerator(_regeneratorRuntime().mark(function t(){var n,e,a,o,i,r,c,s;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log(1111,integrationPop),integrationPop.nowLangId){t.next=4;break}return t.next=4,new Promise(function(t){setTimeout(t,50)});case 4:return t.next=6,Promise.all([integrationPop.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/list",{site_id:1179,cid:"_gta_header_privacy",lang_id:integrationPop.nowLangId}),integrationPop.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/list",{site_id:1179,cid:"_gta_header_terms",lang_id:integrationPop.nowLangId}),integrationPop.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/list",{site_id:1179,cid:"_gta_header_privacy",lang_id:1}),integrationPop.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/list",{site_id:1179,cid:"_gta_header_terms",lang_id:1})]);case 6:if(c=t.sent,c=_slicedToArray(c,4),s=c[0],n=s.data,s=s.status,a=c[1],e=a.data,a=a.status,i=c[2],o=i.data,i=i.status,c=c[3],r=c.data,c=c.status,200==s&&200==a&&200==i&&200==c)return s={privacy:n,terms:e,defaultPrivacy:o,defaultTerms:r},t.abrupt("return",s);t.next=25;break;case 25:return t.abrupt("return",{privacy:[],terms:[],defaultPrivacy:o,defaultTerms:r});case 26:case"end":return t.stop()}},t)}))()},getGdprCms:function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function t(n){var e,o,i,r,c,s,l,d,g,p,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e='<div class="integration_policy-diag-box_new" id="integration_policyDiagBox_new">                            <div class="integration_policy-diag">                            <div class="policy-hd"><a href="javascript:;" class="gdpr_close" title="Close">x</a></div>                                <div class="policy-bd">                                    <div class="bd-content" data-type="terms">                                        <div class="policy terms"></div>                                        <div class="policy privacy"></div>                                    </div>                                </div>                                <div class="policy-buttons">                                    <a href="javascript:void(0);" class="policy-disagree">disagree</a>                                    <a href="javascript:void(0);" class="policy-agree">agree</a>                                </div>                            </div>                        </div>',0<$("#integration_policyDiagBox_new").length)return t.abrupt("return");t.next=3;break;case 3:return $("body").append(e),c=r=i=o="",s=this,t.next=8,this.fetchGdprList();case 8:return a=t.sent,l=a.privacy,d=a.terms,g=a.defaultPrivacy,p=a.defaultTerms,(a=[]).push(_asyncToGenerator(_regeneratorRuntime().mark(function t(){var n,e,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(e=l.length?l[0].id:0))return t.next=4,s.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/info",{site_id:1179,id:e});t.next=17;break;case 4:if(200!=(n=t.sent).status){t.next=15;break}if(n.data.content){t.next=13;break}return t.next=9,s.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/info",{site_id:1179,id:g[0].id});case 9:200==(e=t.sent).status&&(o=e.data.content,r=e.data.summary),t.next=15;break;case 13:o=n.data.content,r=n.data.summary;case 15:t.next=21;break;case 17:return t.next=19,s.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/info",{site_id:1179,id:g[0].id});case 19:200==(a=t.sent).status&&(o=a.data.content,r=a.data.summary);case 21:case"end":return t.stop()}},t)}))()),a.push(_asyncToGenerator(_regeneratorRuntime().mark(function t(){var n,e,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=(e=d.length?d[0].id:0))return t.next=4,s.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/info",{site_id:1179,id:e});t.next=17;break;case 4:if(200!=(n=t.sent).status){t.next=15;break}if(n.data.content){t.next=13;break}return t.next=9,s.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/info",{site_id:1179,id:p[0].id});case 9:200==(e=t.sent).status&&(i=e.data.content,c=e.data.summary),t.next=15;break;case 13:i=n.data.content,c=n.data.summary;case 15:t.next=21;break;case 17:return t.next=19,s.asyncAjax("GET","//ucms-api.gtarcade.com/api/article/info",{site_id:1179,id:p[0].id});case 19:200==(a=t.sent).status&&(i=a.data.content,c=a.data.summary);case 21:case"end":return t.stop()}},t)}))()),t.next=18,Promise.all(a);case 18:n({privacyContent:o,termsContent:i,version:r+"|"+c});case 19:case"end":return t.stop()}},t,this)}));return function(t){return n.apply(this,arguments)}}(),getGdprInfo:function(n){var e=this;e.getAjax("GET","https://".concat(envPrefix,"globalapi.gtarcade.com/api/new-gdpr/user-info"),"",function(t){0===t.code&&(t=t.data.gdpr_version,n!=t)&&(integrationPop.gdprDiagShow(),$(document).on("click","#integration_policyDiagBox_new .policy-disagree",function(){0===$("#integration_policyConfirmBox").length&&$("body").append('<div class="integration_policy-confirm-box" id="integration_policyConfirmBox">                                <div class="integration_policy-confirm">                                    <div class="confirm-hd"></div>                                    <div class="confirm-bd">If you do not agree to the above agreement, you can only access the page as a                                        visitor and cannot enjoy game experiences and other platform services.</div>                                    <div class="confirm-buttons"> <a href="javascript:void(0);" class="confirm-disagree">Continue to exit</a> <a                                            href="javascript:void(0);" class="confirm-agree">Go back</a> </div>                                </div>                            </div>'),$("#integration_policyConfirmBox").show(),integrationPop.gdprDiagShow(),$(document).on("click","#integration_policyConfirmBox .confirm-disagree",function(){return integrationPop.logout(),!1}),$(document).on("click","#integration_policyConfirmBox .confirm-agree",function(){return $("#integration_policyConfirmBox").hide(),!1})}),$(document).on("click","#integration_policyDiagBox_new .policy-agree",function(){return e.updateGdpr(n,function(t){0===t.code?(integrationPop.gdprDiagHide(),$.cookie("uuzu_getGdprInfo",null,{path:"/",domain:".gtarcade.com"}),$.cookie("gdpr_version",null,{path:"/",domain:".gtarcade.com"})):(alert("update gdpr failed,please try again"),integrationPop.gdprDiagShow())}),integrationPop.gdprDiagShow(),!1}))})},updateGdpr:function(t,n){this.getAjax("GET","https://".concat(envPrefix,"globalapi.gtarcade.com/api/new-gdpr/update-gdpr"),{account:"",gdprVersion:t},function(t){n(t)})},gdprDiagShow:function(){1==(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1)?$(".integration_policy-diag-box_new .bd-content").attr("data-type","terms"):$(".integration_policy-diag-box_new .bd-content").attr("data-type","privacy"),$("#integration_policyDiagBox_new").show()},gdprDiagHide:function(){$("#integration_policyDiagBox_new").hide()},gdprCommonAction:function(){$(document).on("click","#integration_policyDiagBox_new .policy-hd span",function(){var t=$(this),n=t.index();t.addClass("active").siblings().removeClass("active"),$("#integration_policyDiagBox_new .bd-content").eq(n).addClass("active").siblings().removeClass("active")}),$(document).on("click","#integration_policyDiagBox_new .policy-disagree",function(){return $("input[name='policy0']").prop("checked",!1),$("#integration_signBtn").css({background:"#c7c7c7"}),integrationPop.gdprDiagHide(),!1}),$(document).on("click","#integration_policyDiagBox_new .policy-agree",function(){return $("input[name='policy0']").prop("checked",!0),$("#integration_signBtn").css({background:"#fe9500"}),integrationPop.gdprDiagHide(),!1}),$(document).on("click","#integration_policyDiagBox_new .gdpr_close",function(){$("#integration_policyDiagBox_new .policy-disagree").trigger("click")})},renderDefaultLang:function(){integrationPop.langList=[{id:1,code:"en-us",symbol:"en",title:"English",intro:"英语",status:1,web_type:1}]},renderGotCookie:function(){window.integrationLoadCookie&&"function"==typeof window.integrationLoadCookie&&window.integrationLoadCookie()},getOsInfo:function(){var t=navigator.userAgent.toLowerCase();return-1<t.indexOf("win")?-1<t.indexOf("windows nt 5.0")?"Windows2000":-1<t.indexOf("windows nt 5.1")||-1<t.indexOf("windows nt 5.2")?"WindowsXP":-1<t.indexOf("windows nt 6.0")?"WindowsVista":-1<t.indexOf("windows nt 6.1")||-1<t.indexOf("windows 7")?"Windows7":-1<t.indexOf("windows nt 6.2")||-1<t.indexOf("windows 8")?"Windows8":-1<t.indexOf("windows nt 6.3")?"Windows8.1":-1<t.indexOf("windows nt 6.2")||-1<t.indexOf("windows nt 10.0")?"Windows10":"Windows":-1<t.indexOf("iphone")?"Iphone":-1<t.indexOf("mac")?"Mac":-1<t.indexOf("x11")||-1<t.indexOf("unix")||-1<t.indexOf("sunname")||-1<t.indexOf("bsd")?"Unix":-1<t.indexOf("linux")?-1<t.indexOf("android")?"Android":"Linux":"Unknown"},getBrowerInfo:function(){var t=function(e){var t=e.document,a=e.navigator.userAgent.toLowerCase(),n=t.documentMode,o=e.chrome||!1,i={agent:a,isIE:/trident/.test(a),isGecko:0<a.indexOf("gecko")&&a.indexOf("like gecko")<0,isWebkit:0<a.indexOf("webkit"),isStrict:"CSS1Compat"===t.compatMode,supportSubTitle:function(){return"track"in t.createElement("track")},supportScope:function(){return"scoped"in t.createElement("style")},ieVersion:function(){var t=e.navigator.userAgent.toLowerCase(),t=/(msie\s|trident.*rv:)([\w.]+)/.exec(t);try{return t[2]}catch(t){return n}},operaVersion:function(){try{return e.opera?a.match(/opera.([\d.]+)/)[1]:0<a.indexOf("opr")?a.match(/opr\/([\d.]+)/)[1]:void 0}catch(t){return 0}}};try{i.type=i.isIE?"IE":e.opera||0<a.indexOf("opr")?"Opera":0<a.indexOf("chrome")?"Chrome":e.openDatabase?"Safari":0<a.indexOf("firefox")?"Firefox":"unknow",i.version="IE"===i.type?i.ieVersion():"Firefox"===i.type?a.match(/firefox\/([\d.]+)/)[1]:"Chrome"===i.type?a.match(/chrome\/([\d.]+)/)[1]:"Opera"===i.type?i.operaVersion():"Safari"===i.type?a.match(/version\/([\d.]+)/)[1]:"0",i.shell=function(){var t,n;return 0<a.indexOf("edge")?(i.version=a.match(/edge\/([\d.]+)/)[1]||i.version,"edge浏览器"):0<a.indexOf("maxthon")?(i.version=a.match(/maxthon\/([\d.]+)/)[1]||i.version,"傲游浏览器"):0<a.indexOf("qqbrowser")?(i.version=a.match(/qqbrowser\/([\d.]+)/)[1]||i.version,"QQ浏览器"):0<a.indexOf("se 2.x")?"搜狗浏览器":o&&"Opera"!==i.type?(n=e.external,t=e.clientInformation.languages,n&&"LiebaoGetVersion"in n?"猎豹浏览器":0<a.indexOf("bidubrowser")?(i.version=a.match(/bidubrowser\/([\d.]+)/)[1]||a.match(/chrome\/([\d.]+)/)[1],"百度浏览器"):i.supportSubTitle()&&void 0===t?(n=Object.keys(o.webstore).length,0 in e,1<n?"360极速浏览器":"360安全浏览器"):"Chrome"):i.type},i.name=i.shell()}catch(t){}return i}(window);return null==t.name||""==t.name?(t.name="Unknown",t.version=""):null==t.version&&(t.version=""),t.name+t.version},_setGameListPos:function(){var t=-1*$(".integration_nav_juegos,.integration_game_nav_juegos").offset().left,n=$(".integration_topBar,.integration_game_topBar").width(),e=$(document).height();$(".integration_gameBox_nav,.integration_game_gameBox_nav").css({marginLeft:t,width:n,maxHeight:.85*e})},_initUserInfoCardInfo:function(){$.cookie("uuzu_UNICKNAME")&&(this.getAjax("GET","https://".concat(envPrefix,"profile.gtarcade.com/api/user/safe-info"),"",function(t){var n,e,a;0===t.status&&(n=window.atob(t.data.head_host),e=window.atob(t.data.head),a="",t=t.data.avatar_box,a=n&&e?"".concat(n).concat(e):"".concat(integrationUrls.appendFile,"images/layout/default-avatar.png"),$(".userAvatar_log img.avatar").attr("src",a),t)&&$(".userAvatar_log .avatar-border").css("background-image","url(".concat(t,")"))}),$.ajax({type:"GET",url:"https://".concat(envPrefix,"integral.gtarcade.com/api/getUserPoint"),dataType:"jsonp",cache:!1,jsonp:"callback",success:function(t){0===t.code&&$(".user-info-card .credit-group .credit .num").html(t.data.point||0)}}),this.getAjax("POST","https://".concat(envPrefix,"pay.gtarcade.com/gta/web/coins-info"),"",function(t){0===t.status&&$(".user-info-card .credit-group .gcoin .num").html(t.data.totalCoins||0)}))},secretMailboxCheck:function(){this.getAjax("POST","//".concat(envPrefix,"profile.gtarcade.com/api/email/popup"),{type:2},function(t){var n;0==t.status?1==t.data.popup&&($(".secretMailboxCheck").removeClass("close").addClass("show"),n=!0,$(".secretMailboxCheck").mouseenter(function(){n=!1,$(".secretMailboxCheck").addClass("show")}),$(".secretMailboxCheck").mouseleave(function(){n=!0,$(".secretMailboxCheck").removeClass("show").addClass("close")}),setTimeout(function(){n&&$(".secretMailboxCheck").removeClass("show").addClass("close")},3e3)):(console.log(t.msg),$(".secretMailboxCheck").removeClass("show").addClass("close"))})},showDelAccountPop:function(){var t;0<$(".del-pop-content").length?$(".pop-mask,.del-pop-content").fadeIn(200):(t='<div class="pop-mask"></div>            <div class="del-pop del-pop-content ">                <div class="title"><span class="icon-del"></span>'+langPack["Account deletion in progress"]+'<span class="icon tips" id="tips"></span>                </div>                <div class="del-content">                    <p class="inline-box long-time">'+langPack["Your account will be deleted in <span class='rest-day'></span> days."]+'</p>                    <p class="inline-box no-time">'+langPack["Your account will be deleted soon."]+'</p>                    <p class="inline-box">'+langPack["After account deletion, all information will be cleared."]+"</p>                    <p>"+langPack["You can cancel your account deletion by signing in."]+'</p>                </div>                <div class="btn-box">                    <div class="btn cancel" id="cancel">'+langPack["Cancel Sign in"]+'</div>                    <div class="btn login" id="login">'+langPack["Sign in"]+'</div>                </div>            </div>            <div class="del-pop del-pop-detail">            <div class="title"><span class="icon-del"></span>'+langPack["Account deletion description"]+'</div>            <span class="icon close" id="close"></span>            <div class="del-detail" id="delAccountDetail">            </div>        </div>',$("body").append(t))},cancelDelAccount:function(t){$(".del-pop-content .login").addClass("disabled");this.getAjax("POST","//".concat(envPrefix,"profile.gtarcade.com/api/passport/account-restore"),{restore_token:t},function(t){if($(".del-pop-content .login").removeClass("disabled"),0==t.status){var n=t.data.login_data.setcookie;if(0<n.length)for(var e=0;e<n.length;e++)$.cookie(n[e].name,n[e].value,{expires:n[e].expires,path:n[e].path,domain:n[e].domain});$.cookie("uuzu_getGdprInfo",!0,{path:"/",domain:".gtarcade.com"}),$.cookie("account","",{expires:-1,path:"/"}),$.cookie("kurl","",{expires:-1,path:"/"});var t=$("#integration_rememberMe").is(":checked")?1:0,a=$("#integration_loginArea input[name='email']").val(),t=(1==t?$.cookie("integration_login_email",a,{expires:30,domain:".gtarcade.com",path:"/"}):$.cookie("integration_login_email",null,{domain:".gtarcade.com",path:"/"}),integrationPop.getUrlParam("rurl"));t?window.location.href=decodeURIComponent(t):window.location.reload()}})},getDelAccountDetail:function(){this.getAjax("GET","https://ucms-api.gtarcade.com/api/article/list",{site_id:1116,lang_id:integrationPop.nowLangId,cid:"delAccount",offset:0,show:1},function(t){t.data.length&&$("#delAccountDetail").html(t.data[0].content)})},getCaptchaConfig:function(){$.ajax({type:"GET",url:"https://".concat(envPrefix,"profile.gtarcade.com/site/config"),dataType:"jsonp",async:!0,cache:!1,jsonp:"callback",success:function(t){var n;0==+t.status&&t.data&&(n=t.data.registerCaptchaType,t=+t.data.registerCaptchaStatus,$("#integration_signBtn").attr("data-captcha-type",n),$("#integration_signBtn").attr("data-captcha-status",t),1==t)&&"UZ"==n&&integrationPop.changeVerifyCode(2,function(){$(".integration_show_reg_verify_code").show()})}})},popSignupGtCaptcha:function(n){$("#integration_signBtn").addClass("loading"),integrationPop.addDot({key_module:"page_platform",key_function:"signup",value:"官网注册_注册行为验证"}),gtCaptcha.pop({captchaId:"78642ca0b4c668f3a0ea26384ce6816c",failLimit:5,onReady:function(){gtCaptcha&&gtCaptcha.instance&&gtCaptcha.instance.showBox()},onSuccess:function(t){n&&n(t),integrationPop.addDot({key_module:"page_platform",key_function:"signup",value:"官网注册_注册行为验证成功"})},onFail:function(t,n){n.msg&&alert(langPack[n.msg]||n.msg),integrationPop.addDot({key_module:"page_platform",key_function:"signup",value:"官网注册_注册行为验证失败"})},onLimitFail:function(){alert(langPack["Too many attempts, please wait a bit and try again"])},onClose:function(){$("#integration_signBtn").removeClass("loading")}})},popLoginGtCaptcha:function(n){$(".integration_login_btn").addClass("loading"),integrationPop.addDot({key_module:"page_platform",key_function:"login",value:"官网登录_登录行为验证"}),gtCaptcha.pop({captchaId:"baa490b6c73f9ca48e7020342703fd7d",failLimit:5,onReady:function(){gtCaptcha&&gtCaptcha.instance&&gtCaptcha.instance.showBox()},onSuccess:function(t){n&&n(t),integrationPop.addDot({key_module:"page_platform",key_function:"login",value:"官网登录_登录行为验证成功"})},onFail:function(t,n){n.msg&&alert(langPack[n.msg]||n.msg),integrationPop.addDot({key_module:"page_platform",key_function:"login",value:"官网登录_登录行为验证失败"})},onLimitFail:function(){alert(langPack["Too many attempts, please wait a bit and try again"])},onClose:function(){$(".integration_login_btn").removeClass("loading")}})},cacheSet:function(t,n){var e=integrationPop.cacheVersion;console.log("cacheSet",t,n,e),localforage.setItem(t,{version:e,data:n})},cacheGet:function(){var n=_asyncToGenerator(_regeneratorRuntime().mark(function t(n){var e,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=integrationPop.cacheVersion,t.next=3,localforage.getItem(n);case 3:if(a=t.sent){if(a.version===e)return console.log("cacheGet",n,a.data,e),t.abrupt("return",{data:a.data});t.next=10}else t.next=11;break;case 10:localforage.removeItem(n);case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}},t)}));return function(t){return n.apply(this,arguments)}}()};$(document).ready(function(){if(navigator.userAgent.match(/(gtarcade|gta_sdk\/1\.0|phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i))return $("#init_header_html").hide(),!1;function t(t,n){$(document).on("mouseenter",t,function(){$(this).find(n).show().addClass("css3_bounceIn"),clearTimeout(window.integrationPopTimer[n]),delete window.integrationPopTimer[n]}),$(document).on("mouseleave",t,function(){var t=$(this);window.integrationPopTimer[n]=setTimeout(function(){delete window.integrationPopTimer[n],t.find(n).hide().removeClass("css3_bounceIn")},120)})}integrationPop.prependCSSFile(),integrationPop.checkWitchLangNeeded(),integrationPop.checkInputValueIsNeeded(),integrationPop.checkIsLogin(),window.gtCaptcha&&gtCaptcha.init(envPrefix),$(document).on("click",".integration_Lang_box li a,.integration_game_Lang_box li a",function(){return $.cookie("lang",$(this).attr("lang"),{expires:90,path:"/",domain:".gtarcade.com"}),-1!==location.hostname.indexOf("support.gtarcade.com")||integrationPop.initData&&integrationPop.initData.noChangeUrl?window.location.reload():window.location.href=window.location.protocol+"//"+document.domain+"/"+$(this).attr("urlLang")+"/",!1}),window.integrationPopTimer={},t(".integration_nav_juegos,.integration_Select_Language",".integration_gameBox_nav,.integration_Lang_box"),t(".integration_game_nav_juegos,.integration_game_Select_Language",".integration_game_gameBox_nav,.integration_game_Lang_box"),t(".integration_topBar_login,.integration_game_topBar_login",".user-info-card"),$(document).on("click",".integration_btn_logT,#integration_switchLogin",function(){integrationPop.showLogin("login")}),$(document).on("click",".integration_btn_signT,#integration_signUpF,#integration_game_signUp",function(){integrationPop.showLogin("sign")}),$(document).on("click","#integration_btnGoSign",function(){integrationPop.getCaptchaConfig(),$(".integration_box_SignUpG").stop().removeClass("pageRotate").css({display:"block",opacity:1}),$(".integration_box_loginG").addClass("pageRotate").fadeOut(1e3,function(){$(this).removeClass("pageRotate")}),$(".integration_title_SignUpG").show(),$(".integration_title_loginG").hide(),"showThirdSignUpBinded"===$("#integration_loginG").attr("from")&&$(".integration_existingL").hide()}),$(document).on("click","#integration_btnGoLogin",function(){$(".integration_box_loginG").stop().removeClass("pageRotate").css({display:"block",opacity:1}),$(".integration_box_SignUpG").addClass("pageRotate").fadeOut(1e3,function(){$(this).removeClass("pageRotate")}),$(".integration_title_SignUpG").hide(),$(".integration_title_loginG").show(),"showThirdSignUpBinded"===$("#integration_loginG").attr("from")&&$(".integration_existingL").show()}),$(document).on("click","#integration_loginBtn",function(){$(this).hasClass("loading")||integrationPop.login_show("integration_loginBtn")}),$(document).on("focus","#integration_reg_email, #integration_reg_password, #integration_reg_password_re",function(){switch($(this).attr("id")){case"integration_reg_email":$("#integration_email_error").hide();break;case"integration_reg_password":$("#integration_password_error").hide();break;case"integration_reg_password_re":$("#integration_password_re_error").hide();break;default:$(".integration_wrong_tip").hide()}}),$(document).on("click","#integration_signBtn",function(){var t,n,e,a,o,i,r,c,s,l,d;$(this).hasClass("loading")||($.cookie("uuzu_UAUTH",null,{domain:".gtarcade.com",path:"/"}),$.cookie("uuzu_UNICKNAME",null,{domain:".gtarcade.com",path:"/"}),"integration_signBtn"===(o=$(this).attr("id"))?t="integration_signUpArea":"fbloginBtn"===o&&(t="fbloginID"),n=$("#"+t).find("#integration_reg_email").val().trim(),e=$("#"+t).find("#integration_reg_password").val().trim(),a=$("#"+t).find("#integration_reg_password_re").val().trim(),o=$("#"+t).find("#integration_reg_code").val().trim(),i=$("#regBox select[name=year]").val()?$("#regBox select[name=year]").val():"0000",r=$("#regBox select[name=month]").val()?$("#regBox select[name=month]").val():"00",c=$("#regBox select[name=day]").val()?$("#regBox select[name=day]").val():"00",s=$("#signUpFrom").val(),d=!0,$(".integration_wrong_tip").hide(),l=integrationPop.check_password_strength(e,n),n&&n.match(/^[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$/)||($("#"+t).find("#integration_email_error").show(),d=!1),(!e||e.length<6||l)&&($("#"+t).find("#integration_password_error").html(l).show(),d=!1),(!a||e.pr<6)&&($("#"+t).find("#integration_password_re_error").show(),d=!1),e!==a&&($("#"+t).find("#integration_password_re_error").html('<span class="tip_sj">▲</span>'+langPack["Passwords don't match"]).show(),d=!1),(d=d&&$("input[name='policy0']").prop("checked"))?($(this).addClass("loading"),l=$(this).attr("data-captcha-type"),1==+(d=$(this).attr("data-captcha-status"))&&"GT"==l?integrationPop.popSignupGtCaptcha(function(t){integrationPop.signUp(n,e,a,i,r,c,0,s,t)}):integrationPop.signUp(n,e,a,i,r,c,0,s,o)):integrationPop.changeVerifyCode(2))}),$(document).on("click","#integration_logoutBtn,#integration_game_logoutBtn",function(){integrationPop.logout()}),$(document).on("click","#integration_game_login_header",function(){$(this).hasClass("loading")||($(this).addClass("disabled"),integrationPop.gameHeaderLoginShow())}),$(document).on("click",".integration_gtarcade_plat_frontpoint",function(){var t=$(this).attr("integration_data_gtarcade_plat_frontpoint");integrationPop.addDot({key_module:t.split(",")[0]?t.split(",")[0]:"",key_function:t.split(",")[0]?t.split(",")[0]:"",value:t.split(",")[0]?t.split(",")[0]:""})}),$(document).on("click",".integration_fpoint",function(){var t=$(this).attr("fpoint").split("@@");integrationPop.addDot({key_module:t[0],key_function:t[1],value:t[2]})}),$(document).on("click","#go_update_password,#go_pay_history",function(){$.cookie("uuzu_UNICKNAME")?"go_update_password"==$(this).attr("id")?$(this).attr("href","https://profile.gtarcade.com/password/security?tab=pass"):$(this).attr("href","https://pay.gtarcade.com/charge/history"):integrationPop.showLogin("login")});-1==="pay.gtarcade.com".indexOf(window.location.host)&&integrationPop.getGdprCms(function(t){var n,e;t&&(n=t.privacyContent,e=t.termsContent,t=t.version,$.cookie("gdpr_version",t,{path:"/",domain:".gtarcade.com"}),$("#integration_policyDiagBox_new .bd-content .terms").eq(0).html(e),$("#integration_policyDiagBox_new .bd-content .privacy").eq(0).html(n),$.cookie("uuzu_UNICKNAME"))&&$.cookie("uuzu_UAUTH")&&$.cookie("uuzu_getGdprInfo")&&integrationPop.getGdprInfo(t)}),$(document).on("click",".del-pop-content .tips",function(){$(".del-pop-detail").fadeIn(200)}),$(document).on("click",".del-pop-detail .close",function(){$(".del-pop-detail").fadeOut(200)}),$(document).on("click",".del-pop-content .cancel",function(){$(".pop-mask,.del-pop-content").fadeOut(200)}),$(document).on("click",".del-pop-content .login",function(){integrationPop.cancelDelAccount(restoreToken)}),integrationPop.gdprCommonAction();try{$.ajax({url:"https://ucms-api.youzu.com/api/da/info?site_id=116&position=4k",success:function(t){var t=t.data.remark&&JSON.parse(t.data.remark),n=window.location.href.split("?")[0],e=window.location.host.split(".")[0];if(!t[e])return!1;var a=!1;t[e]&&t[e].forEach(function(t){(-1<n.indexOf(t)||"*"===t)&&(a=!0)}),a&&(document.documentElement.style.zoom=Math.max(1,document.documentElement.clientWidth/1920))}})}catch(t){console.error(t)}});