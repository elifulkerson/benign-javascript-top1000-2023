!function(e){function t(t){for(var n,o,i=t[0],a=t[1],c=0,u=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&u.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);for(s&&s(t);u.length;)u.shift()()}var n={},o={7:0},r={7:0};function i(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.e=function(e){var t=[];o[e]?t.push(o[e]):0!==o[e]&&{0:1}[e]&&t.push(o[e]=new Promise((function(t,n){for(var r=({0:"assets/css/header/noticeDialog.scss",1:"assets/js/header/noticeDialog.js",2:"assets/js/header/push.js",3:"assets/template/head/noticeDialog.tmpl"}[e]||e)+"_"+{0:"2dd9b",1:"31d6c",2:"31d6c",3:"31d6c"}[e]+".css",a=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=(f=c[u]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===r||s===a))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var f;if((s=(f=l[u]).getAttribute("data-href"))===r||s===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||a,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete o[e],d.parentNode.removeChild(d),n(i)},d.href=a,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){o[e]=0})));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=function(e){return i.p+""+({0:"assets/css/header/noticeDialog.scss",1:"assets/js/header/noticeDialog.js",2:"assets/js/header/push.js",3:"assets/template/head/noticeDialog.tmpl"}[e]||e)+"_"+{0:"29299",1:"1b27f",2:"6a09e",3:"e421c"}[e]+".js"}(e);var s=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}r[e]=void 0}};var l=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(n,o,function(t){return e[t]}.bind(null,o));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="https://a.msstatic.com/huya/main3/common/",i.oe=function(e){throw console.error(e),e};var a=window.HUYA_MAIN_BASE_WEBPACK_JSONP=window.HUYA_MAIN_BASE_WEBPACK_JSONP||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var s=c;i(i.s=335)}({324:function(e,t){window.TT_CFG_CUSTOM=window.TT_CFG_CUSTOM||{},window.TT_CFG_CUSTOM.login=window.TT_CFG_CUSTOM.login||{},window.TT_CFG_CUSTOM.login.sdkConf=window.TT_CFG_CUSTOM.login.sdkConf||{},window.TT_CFG_CUSTOM.login.sdkConf.appKey="bfd434f70d40433c6b57a781dbcee91a"},325:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="https://diy-front.cdn.huya.com/zt/frontpage/d5/lib_registry.html",r="JSONP_CALLBACK_LIB_GEGISTRY",i="LIB_GEGISTRY",a=86400,c=5e3;function u(e,t){return void 0===t&&(t=5e3),e&&"string"==typeof e?new Promise((function(n,o){var r=document,i=r.head||r.getElementsByTagName("head")[0]||r.documentElement,a=r.createElement("script"),c=setTimeout((function(){u(),o(new Error("Timeout"))}),t);function u(){a.onload=a.onerror=null}a.onload=function(){clearTimeout(c),u(),n(a)},a.onerror=function(){clearTimeout(c),u(),o(new Error("Error"))},a.type="text/javascript",a.async=!0,a.src=e,i.appendChild(a)})):Promise.reject(new Error('Invalid url: "'+e+'"'))}function s(){return Math.floor((new Date).getTime()/1e3)}var l=function(){function e(e,t){void 0===e&&(e=""),this.data=null,this.localStorageKey=e,this.normalize=t;var n=null;if(e)try{n=JSON.parse(""+localStorage.getItem(e))}catch(e){}n&&n.content&&"number"==typeof n.time&&(this.data={time:n.time,content:t(n.content)})}return e.prototype.save=function(e){if(e&&(this.data={time:s(),content:this.normalize(e)},this.localStorageKey))try{localStorage.setItem(this.localStorageKey,JSON.stringify(this.data))}catch(e){}},e.prototype.get=function(){if(this.data)return this.data.content},e.prototype.expired=function(e){return!(this.data&&s()-this.data.time<=e)},e}(),f=function(){function e(t){this.libMemo={},this.manifestRequst=null;var n=Object.assign({},t),r=n.loader,a=n.registryLoader,u=n.storageKey,s=n.storage,f=n.timeout;if(this.timeout="number"==typeof f?f:c,this.loader=r||e.scriptLoader,this.registryLoader=a||e.huyaDiyApiRegistryLoader,s)this.storage=s;else{var d=u&&"string"==typeof u?u:this.registryLoader===e.huyaDiyApiRegistryLoader?o:"";this.storage=new l(d&&i+"@"+d,e.manifestNormalize)}}return e.prototype.load=function(t,n){var o=this;if(!t||"string"!=typeof t)return Promise.reject(new Error("Invalid libName: '"+t+"'"));var r=Object.assign({},n),i=r.force,a=void 0!==i&&i,c=r.timeout,u=void 0===c?this.timeout:c,s=r.loader,l=void 0===s?this.loader:s;return this.loadManifest({force:a,timeout:u,cachingChecker:function(e){return!(!e[t]||o.storage.expired(e[t].maxAge))}}).then((function(n){var r=n[t];if(!r)throw new Error("cannot find the lib '"+t+"'");var i=r.url;return o.libMemo[i]||(o.libMemo[i]=e.getLib(l,r,u).then((function(e){return{lib:r,result:e}}))),o.libMemo[i]}))},e.prototype.loadManifest=function(e){var t,n=Object.assign({},e),o=n.force,r=void 0!==o&&o,i=n.timeout,a=void 0===i?this.timeout:i,c=n.cachingChecker,u=void 0===c?function(){}:c;if(r)t=this.ensureGetManifest(a);else{var s=this.storage.get();s?(t=Promise.resolve(s),!1===u(s)&&this.ensureGetManifest(a)):t=this.ensureGetManifest(a)}return t},e.prototype.ensureGetManifest=function(t){var n=this;return this.manifestRequst||(this.manifestRequst=e.getManifest(this.registryLoader,t).then((function(e){n.manifestRequst=null;try{n.storage.save(e)}catch(e){}return e})).catch((function(e){n.manifestRequst=null;var t=n.storage.get();if(t)return t;throw e}))),this.manifestRequst},e.getManifest=function(t,n){return new Promise((function(o,r){var i=setTimeout((function(){r(new Error("RegistryLoader timeout"))}),n);Promise.resolve("function"==typeof t?t({timeout:n}):t).then((function(t){clearTimeout(i);var n=e.manifestNormalize(t);if(!(Object.keys(n).length>0))throw new Error("manifest is not valid json");o(n)})).catch((function(e){clearTimeout(i),r(new Error("RegistryLoader error: "+(e&&e.message||"unknown")))}))}))},e.manifestNormalize=function(e){var t={};if(e&&"[object Object]"===Object.prototype.toString.call(e)){var n=e;Object.keys(n).forEach((function(e){var o=n[e];o&&("string"==typeof o?t[e]={url:o,maxAge:a}:o.url&&"string"==typeof o.url&&(t[e]=Object.assign({maxAge:a},o)))}))}return t},e.getLib=function(e,t,n){return new Promise((function(o,r){var i=setTimeout((function(){r(new Error("Loader timeout"))}),n);e({lib:t,timeout:n}).then((function(e){clearTimeout(i),o(e)})).catch((function(e){clearTimeout(i),r(new Error("Loader error: "+(e&&e.message||"unknown")))}))}))},e.scriptLoader=function(e){var t=e.lib,n=e.timeout;return u(t.url,n)},e.huyaDiyApiRegistryLoader=function(e){var t=e.timeout;return function(e,t,n){return void 0===n&&(n=5e3),new Promise((function(o,r){var i,a,c,s=window,l=s[t],f=(i=function(){s[t]=l},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c||(c=!0,a=i.apply(void 0,e)),a}),d=setTimeout((function(){r(new Error("Timeout"))}),n);s[t]=function(e){clearTimeout(d),f(),o(e)},u(e,n).catch((function(e){clearTimeout(d),f(),r(new Error('getScript error "'+e.message+'"'))}))}))}(o,r,t)},e}();t.LibLoader=f,t.default=f},335:function(e,t,n){"use strict";n.r(t);n(324);var o=n(48),r=n(98),i=n.n(r);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="https://diy-front.cdn.huya.com/zt/frontpage/68/header_lib_registry.html";var l=new i.a({timeout:8e3,registryLoader:function(e){var t=e.timeout;return new Promise((function(e,n){$.ajax({type:"get",url:s,dataType:"jsonp",jsonpCallback:"JSONP_CALLBACK_HEADER_LIB_GEGISTRY",cache:!0,timeout:t}).done((function(t){e(t)})).fail((function(e,t){n(new Error("network error: ".concat(t)))}))}))},storageKey:s});window.TT_HD_CFG=$.extend(!0,{style:"normal"},window.TT_HD_CFG_CUSTOM);var f;Object(o.a)(),window.TTHD=((f={}).style=new TT.Event,f.style.val=window.TT_HD_CFG.style,f.style.set=function(e){e!=f.style.val&&(f.style.val=e,f.style.emit("change",e))},f),l.load("header20230413",{loader:function(e){var t=e.lib,n=e.timeout,o=t.beta||{},r=o.tag,a=o.enabled&&r?localStorage.getItem(r):"";return i.a.scriptLoader({lib:c(c({},t),{},{url:a||t.url}),timeout:n})}}).catch((function(e){return new Promise((function(e,t){$.ajax({url:"https://a.msstatic.com/huya/hd/h5/header/app.fe3747fd9ef114fe7fa3.bundle.js",dataType:"script",cache:!0,noApiReport:!0,timeout:8e3}).done(e).fail((function(e,n){t(new Error("network error: ".concat(n)))}))}))})).then((function(){return window.TTWebHeaderComponent})).then((function(e){$((function(){new e({view:document.getElementById("duya-header"),themeModel:window.TTHD.style,finderDisable:"search"===window.PAGE_TAG}).on("mount",(function(){TT.emit("huyaHeaderDomReady")}))}))})),function(e){var t=HUYA_UTIL.once((function(){return new $.Deferred((function(t){Promise.all([n.e(0),n.e(1),n.e(3)]).then(n.bind(null,340)).then((function(){t.resolve(e.TT_NOTICE_DIALOG)}))}))}));e.HUYA_HEAD_liveNotice=function(e){t().done((function(t){new t({data:e,afterRender:function(t){DUYA_SUB.publish("INDEX_LIVE_NOTICE",e.eventId)}})}))},e.HUYA_SUBSCRIBE_PUSH=function(e){if(!$.isEmptyObject(e))for(var n in e)!function(e){var n,o={title:"你订阅的主播: ",content:(e.introduction?'在播"'+HUYA_UTIL.xssFilter(HUYA_UTIL.unescape(e.introduction))+'"':"正在开播啦，")+"快抢个板凳坐好",action:TT.app.main+e.privateHost,eventId:e.aid,nick:HUYA_UTIL.xssFilter(HUYA_UTIL.unescape(e.nick)),gameFullName:HUYA_UTIL.xssFilter(HUYA_UTIL.unescape(e.gameFullName))};$.when(t(),(n=e.uid,new $.Deferred((function(e){$.ajax({type:"get",dataType:"jsonp",url:"//user.huya.com/user/getUserInfo",data:{uid:n}}).done((function(t){e.resolve(t&&200==t.code&&t.data?t.data.avatar:"//a.msstatic.com/huya/main/assets/img/default_avatar.jpg")})).fail((function(){e.resolve("//a.msstatic.com/huya/main/assets/img/default_avatar.jpg")}))})))).done((function(t,n){TT.event.emit("TT_ROOM_ENTRANCE_EXPOSURE",e.uid),o.image=n,new t({data:o,afterRender:function(e){e.addClass("subscribe-notice"),e.find(".notice-close").addClass("clickstat").attr({eid:"click/dytc/close",eid_desc:"点击/订阅弹窗/关闭"}),e.find(".notice-btn").addClass("clickstat").attr({eid:"click/dytc/in",eid_desc:"点击/订阅弹窗/进入直播间"})}})}))}(e[n])},e.HUYA_NOTICE_PUSH=function(e){t().done((function(t){new t({data:e,afterRender:function(e){e.addClass("normal-notice")}})}))}}(window),window.DUYA_PUSH={mapSubscribeList:function(){},refreshPush:function(){}},TT.onload((function(){TT.sudo((function(){n.e(2).then(n.t.bind(null,339,7))}),!1)})),function(){function e(){var e=this;TT.on("huyaHeaderDomReady",(function(){e.init()}))}e.prototype.init=function(){TT.getUserInfo((function(t){var n=e.prototype;1==t.isChanged&&(window.performanceInfo&&window.performanceInfo._hmt&&window.performanceInfo._hmt.push(["reportApiMess","autoLogoutLog",JSON.stringify(t),+new Date]),function(){TT.login.logout(!0);var e=$("body"),t='<div id="offline-notice"><div class="login-closure-tit">温馨提示<span id="offline-notice-close"></span></div><div class="login-closure-cnt"><h2 style="text-align: center;font-size: 18px;font-weight: 800;margin-bottom: 5px;">下线通知</h2><p style="text-align: center;">您的账号'+HUYA_UTIL.getCookieVal("username")+'，状态发生变更，请重新登录</p></div><span id="offline-notice-sure">重新登录</span></div><div id="offline-notice-mask"></div>';e.append(t),$("#offline-notice-sure,#offline-notice-close").one("click",(function(){$("#offline-notice-mask").remove(),$("#offline-notice").remove()})),$("#offline-notice-sure").one("click",(function(){TT.login.login()}))}()),n.islogin=t.isLogined,n.userName=t.userName,n.userNick=t.userNick,n.userLogo=t.userLogo,n.userId=t.uid,"function"==typeof window.checkLoginCallback&&window.checkLoginCallback()}))},e.prototype.myMessageShow=function(){TT.event.emit("TT_HD_USER_MSG_NOTICE")},e.prototype.myMessageHide=function(){},window.DUYA_INS=new e}(),$((function(){var e=document.documentElement?document.documentElement:document.body,t=function(){return e.clientWidth>=1480?1:0},n=t();function o(e){1===e?document.body.classList.remove("w-1000"):document.body.classList.add("w-1000")}o(n);var r=null;$(window).on("resize",(function(){clearTimeout(r),r=setTimeout((function(){var r=t();r!==n&&o(n=r),DUYA_SUB.publish("resizeWide",e.clientWidth)}),60)}))})),$((function(){var e=document.documentElement?document.documentElement:document.body,t=o();r(t);var n=null;function o(){var t=e.clientWidth;return t>=1720?"l":t>=1440?"m":"s"}function r(e){$(document.body).removeClass("hy-hd-vp-"+["l","m","s"].join(" hy-hd-vp-")).addClass("hy-hd-vp-"+e)}$(window).on("resize",(function(){clearTimeout(n),n=setTimeout((function(){var e=o();e!==t&&r(t=e)}),60)}))})),$((function(){"login"==HUYA_UTIL.getLocationSearchParam().evt_fe&&TT.login.check().done((function(e){!e&&TT.login.login()}))}))},48:function(e,t,n){"use strict";n(90),n(91),n(92),n(93),n(94),n(95),n(96);!function(e,t){var n;TT.login=new function(n){var o=this,r=t.once((function(){return new e.Deferred((function(e){e.resolve(1)}))})),i=t.once((function(){return r().pipe((function(t){return new e.Deferred((function(e){t?(HUYA_UTIL.writeCookie("udb_passdata",3,TT.domainForWriteCookie,"/"),e.resolve(3)):e.reject()}))}))})),a="",c=new e.Deferred;c.done((function(e){a=e}));var u=t.once((function(){i().done((function(e){c.resolve("embed"==n.type?"TT1":3==e?"TT2":"TT")})).fail((function(){c.resolve("YY")}))})),s=new e.Deferred;n.sdkConf.initSuccess=function(){s.resolve()};var l={TT:{getDeps:t.once((function(){return t.loadScript(TT_LOGIN_HUYA.deps)})),create:t.once((function(){return new TT_LOGIN_HUYA(n)}))},TT1:{getDeps:t.once((function(){return t.loadScript(TT_LOGIN_HUYA.deps1)})),create:t.once((function(){return new TT_LOGIN_HUYA(n)}))},TT2:{getDeps:t.once((function(){return t.loadScript(TT_LOGIN_HUYA.deps2)})),create:t.once((function(){return new TT_LOGIN_HUYA(n)}))}},f=function(e){u(),c.done((function(){var t=a;l[t].getDeps().done((function(){var n=l[t].create();"function"==typeof e&&e(n,t)}))}))};setTimeout(f,3e3),e.each(["login","logout","register","on","off"],(function(e,t){o[t]=function(){var e=arguments;f((function(n){"function"==typeof n[t]&&n[t].apply(n,e)}))}})),o.by=function(e){f((function(t,n){"YY"==n?("WX"==e&&t.loginByWX(),"WB"==e&&t.loginByWB(),"QQ"==e&&t.loginByQQ()):e&&t.third({type:e.toLowerCase()})}))},o.anonymous=function(e){f((function(){s.done((function(){try{HwUDBWebSDK.Login.anonymous(e)}catch(e){}}))}))},TT.lazyload((function(){u(),c.done((function(){l[a].getDeps()}))})),o.getSwitchState=r,o.getBypass=i,o.use=function(e){c.resolve(a=e)}}(TT_CFG.login),TT.login.check=(n=t.once((function(){var t=new e.Deferred;return TT.login.getSwitchState().pipe(TT_CFG.req.userInfo).done((function(e){t.resolve(e.isLogined,e)})).fail((function(){var e=HUYA_UTIL.getCookieVal("udb_uid")||0,n=HUYA_UTIL.getCookieVal("username")||"",o=!!e;t.resolve(o,{isLogined:o,uid:e,userName:n,userNick:n,userLogo:"//a.msstatic.com/huya/main/assets/img/default_avatar.jpg"})})),t.promise()})),function(e){var t=n();return t.done(e),t})}(jQuery,{once:function(e){var t,n;return function(){return n||(n=!0,t=e.apply(this,arguments)),t}},loadScript:function(e){var t=[].concat(e),n=[];return $.each(t,(function(e,t){n.push($.ajax({url:t,dataType:"script",cache:!0}))})),$.when.apply($,n)}});var o,r,i,a;n(97);TT.getUserInfo=(o=function(){var e=new $.Deferred;return TT.login.check((function(t,n){if(t){var o={},r={},i=n.userNick?(new $.Deferred).resolve([{}]):TT.login.getSwitchState().pipe(TT_CFG.req.userNick);$.when(TT_CFG.req.userAvatar(n.uid),i).done((function(e,t){o=e[0]&&200==e[0].code&&e[0].data?e[0].data:{},r=t[0]||{}})).fail((function(){try{console.log("公共头：获取用户信息失败！")}catch(e){}})).always((function(){var t=$.extend(!0,{},n);t.userNick=r.userNick||n.userNick||n.userName,t.userLogo=o.avatar||r.userLogo||n.userLogo||"//a.msstatic.com/huya/main/assets/img/default_avatar.jpg",e.resolve(t)}))}else e.resolve(n)})),e.done((function(e){window.a_userIsLogin=e.isLogined,window.a_userName=e.userName})),e.promise()},a=function(){return i||(i=!0,r=o.apply(this,arguments)),r},function(e){var t=a();return t.done(e),t}),TT.sudo=function(e,t){TT.login.check((function(n){n?TT.getUserInfo(e):!1!==t&&TT.login.login()}))};window.TT_RSC_EXPS=function(e){TT.event.emit("TT_RSC_EXPS",e)};t.a=function(){window.performanceInfo={_hmt:[],whiteScreenTime:+new Date,firstScreenTime:0,apiTimeOut:1e4,samplingRate:1,pageview:1===window.HUYA_SSR_TYPE?"huya-main-ssr":"huya-main"},setTimeout((function(){var e=document.createElement("script"),t="https://a.msstatic.com/huya/hd/cdn_libs/performance_report-min.js?v="+(new Date).toLocaleDateString().replace(/-|\//g,"");e.src=localStorage.getItem("performance_report_sdk_url")||t;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)}),500),function(){TT.isForeign=!1;var e=localStorage.getItem("FOREIGN_TAG");if(null==e){0;try{$.ajax({url:"//liveapi.huya.com/ip/getIpLocation",type:"GET",dataType:"json",cache:!1,xhrFields:{withCredentials:!0},__forceTrace:!0}).done((function(e){try{200==e.status&&(1!=e.data.mainland?(TT.isForeign,localStorage.setItem("FOREIGN_TAG",1)):localStorage.setItem("FOREIGN_TAG",0))}catch(e){}}))}catch(e){}}else 1===parseInt(e)&&(TT.isForeign=!0)}(),window.zhReport=window.parseQueryString=function(){}}},90:function(e,t,n){var o={},r=location.protocol+"//l.huya.com/";o.login={TT:{loginCallback:r+"udb_web/udbport2.php?m=HuyaLogin&do=huyaCallback",logoutCallback:r+"udb_web/udbport2.php?m=HuyaLogin&do=huyaLogout",loginAuthCallback:r+"udb_web/udbport2.php?m=HuyaLogin&do=thirdCallback",regUrl:r+"udb_web/udbport2.php?do=registerEmbedURL&registerUrl=https://zc.yy.com/reg/udb/reg4udb.do&type=Mobile"},type:"normal",logoutNavTo:"",sdkConf:{}},o.req={userInfo:function(e){return $.ajax({url:r+"udb_web/udbport2.php?m=HuyaLogin&do=checkLogin",type:"GET",dataType:"jsonp",timeout:6666})},userNick:function(e){return $.ajax({url:r+"udb_web/udbport2.php?m=HuyaOutside&do=checkUserNick",type:"GET",dataType:"jsonp",timeout:5e3})},userAvatar:function(e){return $.ajax({url:"//user.huya.com/user/getUserInfo",data:{uid:e},dataType:"jsonp",timeout:5e3,cache:!0})}},window.TT_CFG=$.extend(!0,o,window.TT_CFG_CUSTOM)},91:function(e,t){var n=window.HUYA_UTIL={trim:function(e){return(e||"").replace(/^(\s|\u00A0)+|(\s|\u00A0)+$/g,"")},xssFilter:function(e){return"string"!=typeof e?e:e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\'/g,"&#39;").replace(/\"/g,"&quot;")},unescape:function(e){return"string"!=typeof e?e:e=e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#39;/g,"'").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},createStyleSheet:function(e){var t;return document.createStyleSheet?(t=document.createStyleSheet()).cssText=e:((t=document.createElement("style")).appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)),t},deleteCookie:function(e,t,n){if(this.hasCookie(e)){var o=new Date;o.setTime(o.getTime()-864e5),document.cookie=e+"=_; expires="+o.toGMTString()+"; domain="+t+"; path="+n}},writeCookie:function(e,t,n,o,r){var i=e+"="+t+"; domain="+n+"; path="+o;r>0&&(i=i+"; expires="+r.toGMTString()),document.cookie=i},hasCookie:function(e){return!!n.getCookieVal(e)},getCookieVal:function(e){for(var t=document.cookie.split("; "),n=0;n<t.length;n+=1){var o=t[n].split("=");if(o[0]==e){var r=o[1];try{r=decodeURIComponent(o[1])}catch(e){}return r}}return""},getScript:function(e,t){var n=document,o=n.head||n.getElementsByTagName("head")[0]||n.documentElement,r=n.createElement("script");function i(){r.onload=r.onreadystatechange=null,r=null,"function"==typeof t&&t()}"onload"in r?r.onload=i:r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&i()},r.charset="utf-8",r.type="text/javascript",r.async=!0,r.src=e,o.appendChild(r)},throttle:function(e,t){var n=!0,o=null,r=null,i=null;function a(){r=arguments,i=this,o||(o=setTimeout((function(){o=null,e.apply(i,r),i=r=null}),n?0:t),n&&(n=!1))}return a.cancel=function(){clearTimeout(o),o=i=r=null},a},debounce:function(e,t,n){var o=null,r=function(){o&&clearTimeout(o);var r=this,i=arguments;return n?(o||e.apply(r,i),o=setTimeout((function(){o=null}),t)):o=setTimeout((function(){o=null,e.apply(r,i)}),t),r};return r.cancel=function(){clearTimeout(o),o=null},r},isMobile:!!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),extend:function(e,t){for(var n in t)void 0!==t[n]&&t.hasOwnProperty(n)&&(e[n]=t[n]);return e},getLocationSearchParam:function(){var e={},t=location.search;if(-1!=t.indexOf("?"))for(var n=t.substr(1).split("&"),o=0,r=n.length;o<r;o++){var i=n[o].split("=");if(i[0]){var a=i[0],c=i[1];try{a=decodeURIComponent(i[0])}catch(e){}try{c=decodeURIComponent(i[1])}catch(e){}e[a]=c}}return e},once:function(e){var t,n;return function(){return n||(n=!0,t=e.apply(this,arguments)),t}}}},92:function(e,t,n){var o,r=HUYA_UTIL.getCookieVal,i={};i.env=i.type="0",location.search.replace(/TT_ENV=(.)/,(function(e,t){var n=parseInt(t,10);return isNaN(n)||(i.env=n),e})),i.isProd=0==i.env,i.debug=!i.isProd,i.log=function(){var e=!1;try{e=!!localStorage.getItem("TT_DEBUG")}catch(e){}if(i.debug||e)try{console.log.apply(console,arguments)}catch(e){}},i.ll=function(e,t,n){i.log("%c ".concat(e),"".concat(n||"color: #1ABBFF; font-size: 30px;"),t)},i.domain={main:"www.huya.com",i:"i.huya.com",hd:"hd.huya.com"},i.app={main:location.protocol+"//"+i.domain.main+"/",act:location.protocol+"//"+i.domain.main+"/act/",i:location.protocol+"//"+i.domain.i+"/",hd:location.protocol+"//"+i.domain.hd+"/"},i.domainForWriteCookie="huya.duowan.com"==location.host?"duowan.com":"huya.com",i.trimUrl=function(e){return $.trim(e).replace(/^http\:/,"")},i.createRoomHost=function(e,t,n){return e&&/[^0-9]/.test(e)?e:t&&"0"!=t?t:"yy/"+(e||n)},i.isSupportWebp=HUYA_UTIL.once((function(){var e=!1;try{e=0==document.createElement("canvas").toDataURL("image/webp").indexOf("data:image/webp")}catch(t){e=!1}return e})),i.createScreenshot=function(e,t){if("string"!=typeof e)return"";t=t||{};var n=e;if(new RegExp(["live-cover.msstatic.com","v-huya-img2.msstatic.com","image.myqcloud.com"].join("|").replace(/\./g,"\\.")).test(e)){if(-1==e.indexOf("x-oss-process=")){var o=e.split("?");n=o[0]+"?x-oss-process=image"+(t.w||t.h?"/resize,limit_0,m_fill":"")+(t.w?",w_"+t.w:"")+(t.h?",h_"+t.h:"")+(t.r?"/rotate,"+t.r:"")+"/sharpen,80"+(i.isSupportWebp()?"/format,webp":"/format,jpg/interlace,1")+"/quality,q_90"+(o[1]?"&"+o[1]:"")}}else-1==e.indexOf("?imageview/")&&-1==e.indexOf("&imageview/")&&(n=e+(-1==e.indexOf("?")?"?":"&")+"imageview/4/0"+(t.w?"/w/"+t.w:"")+(t.h?"/h/"+t.h:"")+(t.r?"/rotate/"+t.r:"")+"/blur/1"+(i.isSupportWebp()&&/\/yysnapshot\//.test(e)?"/format/webp":""));return n},i.userType=function(){var e=0,t=r("udb_status"),n=parseInt(t,10);return n&&1&n?(e=10,r("udb_openid")&&(e=11)):r("yyuid")&&(e=20,r("thirdCookie")&&(e=21)),e},i.onload=(o=new $.Deferred((function(e){$(window).on("load",(function(){e.resolve()})),setTimeout((function(){e.resolve()}),5e3)})),function(e){return o.done(e)}),i.lazyload=function(){var e=$.when(new $.Deferred((function(e){setTimeout((function(){e.resolve()}),3500)})),new $.Deferred((function(e){i.onload((function(){e.resolve()}))})));return function(t){return e.done(t)}}(),i.promoter=HUYA_UTIL.getLocationSearchParam().promoter,i.promoter&&HUYA_UTIL.writeCookie("promoter",i.promoter,i.domainForWriteCookie,"/"),r("promoter")&&$((function(){$("body").addClass("promoter")})),window.TT=i},93:function(e,t){TT.Event=function(){var e=[].slice,t=function(e){return"function"==typeof e},n=function(e){return"string"==typeof e};function o(){return{fired:!1,data:[],callbacks:new $.Callbacks}}return function(){var r={};function i(e,i,a){if(!n(e)||!t(i))return this;var c=r[e]||(r[e]=new o);return c.callbacks.add(i),a&&c.fired&&i.apply(this,c.data),this}function a(e,o){var i=arguments.length;if(0===i)for(var a in r)r.hasOwnProperty(a)&&r[a].callbacks.empty();else if(n(e)){var c=r[e];c&&(1===i?c.callbacks.empty():t(o)&&c.callbacks.remove(o))}return this}return{on:i,one:function(e,o,r){if(!n(e)||!t(o))return this;i(e,(function t(){o.apply(this,arguments),a(e,t)}),r)},off:a,emit:function t(i){if(!n(i))return this;var a=r[i]||(r[i]=new o);return a.fired=!0,a.data=e.call(arguments,1),a.callbacks.fireWith(this,a.data),"ALL"!==i&&t.apply(this,["ALL"].concat(e.call(arguments))),this}}}}()},94:function(e,t){var n,o,r;TT.event=new TT.Event,o={},r=-1,(n={}).publish=function(e){var t=arguments;o[e]||(o[e]={published:!1,data:null,subscribers:[]});var n=o[e];n.published=!0,n.data=Array.prototype.slice.call(t);for(var r=n.subscribers.length,i=null;r--;)(i=n.subscribers[r]).func.apply(i,t);return!0},n.subscribe=function(e,t,n){if("function"!=typeof t)return-1;o[e]||(o[e]={published:!1,data:null,subscribers:[]});var i=(++r).toString(),a={token:i,func:t};return o[e].subscribers.push(a),n&&o[e].published&&t.apply(a,o[e].data),i},n.unsubscribe=function(e){for(var t in o)if(o.hasOwnProperty(t))for(var n=o[t].subscribers,r=0,i=n.length;r<i;r++)if(n[r].token===e)return n.splice(r,1),e;return!1},TT.on=function(){n.subscribe.apply(n,arguments)},TT.off=function(){n.unsubscribe.apply(n,arguments)},TT.emit=function(){n.publish.apply(n,arguments)},window.DUYA_SUB=n},95:function(e,t){var n=0,o={};TT.call=function(e,t){return function(e,t,n){return new $.Deferred((function(r){o["callId_"+e]=r,TT.event.emit("TT_CALL",{id:e,reqName:t,opt:n}),setTimeout((function(){"resolved"!=r.state()&&r.reject(),o["callId_"+e]=null,delete o["callId_"+e]}),5e3)}))}(++n,e,t)},TT.onCall=function(e){o["callId_"+e.id]&&o["callId_"+e.id].resolve(e.data)}},96:function(e,t,n){var o=new Date,r=""+o.getFullYear()+(o.getMonth()+1)+o.getDate()+o.getHours()+10*Math.floor(o.getMinutes()/10);a.deps=["https://udbres.huya.com/js/HyUDBWebSDK-w1.0.js?v="+r];a.deps1=["https://udbres.huya.com/js/HyUDBWebSDK-e1.0.js?v="+r];function i(e,t){$.ajax({url:e,type:"GET",dataType:"jsonp"}).done((function(e){200==e.status&&0==e.data.suc?void 0!==t?window.location.href=t:window.location.reload():(window.performanceInfo&&window.performanceInfo._hmt&&window.performanceInfo._hmt.push(["reportApiMess","huyaLoginCallback",JSON.stringify(e),+new Date]),window.location.reload())}))}function a(e){var t=new HyLogin(e.sdkConf);return t.on("loginSuccess",(function(t){i(e.TT.loginCallback)})),t.on("loginFail",(function(e){window.location.reload()})),t.on("loginAuthSuccess",(function(t){i(e.TT.loginAuthCallback+"&type="+t.type)})),t.on("loginAuthFail",(function(e){window.location.reload()})),t.on("logoutSuccess",(function(t){e.logoutNavTo||-1!=TT.app.i.indexOf(location.hostname)&&(e.logoutNavTo=TT.app.main),e.logoutNavTo?i(e.TT.logoutCallback,e.logoutNavTo):i(e.TT.logoutCallback)})),t.on("logoutFail",(function(e){window.location.reload()})),t}a.deps2=["https://a.msstatic.com/huya/hd/web/udb_login/lib/udb.sdk.web.js?v="+r],window.TT_LOGIN_HUYA=a},97:function(e,t){var n=window.HUYA_UTIL;window.NAV_UTIL=window.NAV_UTIL?window.NAV_UTIL:window.NAV_UTIL={},NAV_UTIL.login=function(){TT.login.login()},NAV_UTIL.logout=function(){TT.login.logout()},NAV_UTIL.getStatus=function(e){TT.getUserInfo((function(t){"function"==typeof e&&e()}))},NAV_UTIL.isLogin=function(){return n.hasCookie("udb_uid")},NAV_UTIL.getUserInfo=function(){return NAV_UTIL.isLogin()?{uName:n.getCookieVal("username"),yyID:n.getCookieVal("udb_uid")}:null},NAV_UTIL.checkLogin=function(e){TT.sudo((function(t){"function"==typeof e&&e(t.uid,t.userName)}))},NAV_UTIL.check=TT.getUserInfo},98:function(e,t,n){"use strict";e.exports=n(325)}});