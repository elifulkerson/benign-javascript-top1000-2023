(()=>{var t,e={20835:t=>{const e="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,n="function"==typeof AbortController?AbortController:class{constructor(){this.signal=new r}abort(){this.signal.dispatchEvent("abort")}},o="function"==typeof AbortSignal,i="function"==typeof n.AbortSignal,r=o?AbortSignal:i?n.AbortController:class{constructor(){this.aborted=!1,this._listeners=[]}dispatchEvent(t){if("abort"===t){this.aborted=!0;const e={type:t,target:this};this.onabort(e),this._listeners.forEach((t=>t(e)),this)}}onabort(){}addEventListener(t,e){"abort"===t&&this._listeners.push(e)}removeEventListener(t,e){"abort"===t&&(this._listeners=this._listeners.filter((t=>t!==e)))}},s=new Set,a=(t,e)=>{const n=`LRU_CACHE_OPTION_${t}`;u(n)&&d(n,`${t} option`,`options.${e}`,g)},c=(t,e)=>{const n=`LRU_CACHE_METHOD_${t}`;if(u(n)){const{prototype:o}=g,{get:i}=Object.getOwnPropertyDescriptor(o,t);d(n,`${t} method`,`cache.${e}()`,i)}},l=(...t)=>{"object"==typeof process&&process&&"function"==typeof process.emitWarning?process.emitWarning(...t):console.error(...t)},u=t=>!s.has(t),d=(t,e,n,o)=>{s.add(t);l(`The ${e} is deprecated. Please use ${n} instead.`,"DeprecationWarning",t,o)},h=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),f=t=>h(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?p:null:null;class p extends Array{constructor(t){super(t),this.fill(0)}}class m{constructor(t){if(0===t)return[];const e=f(t);this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class g{constructor(t={}){const{max:e=0,ttl:n,ttlResolution:o=1,ttlAutopurge:i,updateAgeOnGet:r,updateAgeOnHas:c,allowStale:d,dispose:p,disposeAfter:v,noDisposeOnSet:y,noUpdateTTL:w,maxSize:b=0,maxEntrySize:x=0,sizeCalculation:k,fetchMethod:S,fetchContext:E,noDeleteOnFetchRejection:$,noDeleteOnStaleGet:_}=t,{length:T,maxAge:C,stale:L}=t instanceof g?{}:t;if(0!==e&&!h(e))throw new TypeError("max option must be a nonnegative integer");const A=e?f(e):Array;if(!A)throw new Error("invalid max value: "+e);if(this.max=e,this.maxSize=b,this.maxEntrySize=x||this.maxSize,this.sizeCalculation=k||T,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=S||null,this.fetchMethod&&"function"!=typeof this.fetchMethod)throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=E,!this.fetchMethod&&void 0!==E)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(e).fill(null),this.valList=new Array(e).fill(null),this.next=new A(e),this.prev=new A(e),this.head=0,this.tail=0,this.free=new m(e),this.initialFill=1,this.size=0,"function"==typeof p&&(this.dispose=p),"function"==typeof v?(this.disposeAfter=v,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!y,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!$,0!==this.maxEntrySize){if(0!==this.maxSize&&!h(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!h(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!d||!!L,this.noDeleteOnStaleGet=!!_,this.updateAgeOnGet=!!r,this.updateAgeOnHas=!!c,this.ttlResolution=h(o)||0===o?o:1,this.ttlAutopurge=!!i,this.ttl=n||C||0,this.ttl){if(!h(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(0===this.max&&0===this.ttl&&0===this.maxSize)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const t="LRU_CACHE_UNBOUNDED";if(u(t)){s.add(t);l("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,g)}}L&&a("stale","allowStale"),C&&a("maxAge","ttl"),T&&a("length","sizeCalculation")}getRemainingTTL(t){return this.has(t,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new p(this.max),this.starts=new p(this.max),this.setItemTTL=(t,n,o=e.now())=>{if(this.starts[t]=0!==n?o:0,this.ttls[t]=n,0!==n&&this.ttlAutopurge){const e=setTimeout((()=>{this.isStale(t)&&this.delete(this.keyList[t])}),n+1);e.unref&&e.unref()}},this.updateItemAge=t=>{this.starts[t]=0!==this.ttls[t]?e.now():0};let t=0;const n=()=>{const n=e.now();if(this.ttlResolution>0){t=n;const e=setTimeout((()=>t=0),this.ttlResolution);e.unref&&e.unref()}return n};this.getRemainingTTL=e=>{const o=this.keyMap.get(e);return void 0===o?0:0===this.ttls[o]||0===this.starts[o]?1/0:this.starts[o]+this.ttls[o]-(t||n())},this.isStale=e=>0!==this.ttls[e]&&0!==this.starts[e]&&(t||n())-this.starts[e]>this.ttls[e]}updateItemAge(t){}setItemTTL(t,e,n){}isStale(t){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new p(this.max),this.removeItemSize=t=>{this.calculatedSize-=this.sizes[t],this.sizes[t]=0},this.requireSize=(t,e,n,o)=>{if(!h(n)){if(!o)throw new TypeError("invalid size value (must be positive integer)");if("function"!=typeof o)throw new TypeError("sizeCalculation must be a function");if(n=o(e,t),!h(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n},this.addItemSize=(t,e)=>{this.sizes[t]=e;const n=this.maxSize-this.sizes[t];for(;this.calculatedSize>n;)this.evict(!0);this.calculatedSize+=this.sizes[t]}}removeItemSize(t){}addItemSize(t,e){}requireSize(t,e,n,o){if(n||o)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.tail;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.head);)e=this.prev[e]}*rindexes({allowStale:t=this.allowStale}={}){if(this.size)for(let e=this.head;this.isValidIndex(e)&&(!t&&this.isStale(e)||(yield e),e!==this.tail);)e=this.next[e]}isValidIndex(t){return this.keyMap.get(this.keyList[t])===t}*entries(){for(const t of this.indexes())yield[this.keyList[t],this.valList[t]]}*rentries(){for(const t of this.rindexes())yield[this.keyList[t],this.valList[t]]}*keys(){for(const t of this.indexes())yield this.keyList[t]}*rkeys(){for(const t of this.rindexes())yield this.keyList[t]}*values(){for(const t of this.indexes())yield this.valList[t]}*rvalues(){for(const t of this.rindexes())yield this.valList[t]}[Symbol.iterator](){return this.entries()}find(t,e={}){for(const n of this.indexes())if(t(this.valList[n],this.keyList[n],this))return this.get(this.keyList[n],e)}forEach(t,e=this){for(const n of this.indexes())t.call(e,this.valList[n],this.keyList[n],this)}rforEach(t,e=this){for(const n of this.rindexes())t.call(e,this.valList[n],this.keyList[n],this)}get prune(){return c("prune","purgeStale"),this.purgeStale}purgeStale(){let t=!1;for(const e of this.rindexes({allowStale:!0}))this.isStale(e)&&(this.delete(this.keyList[e]),t=!0);return t}dump(){const t=[];for(const n of this.indexes({allowStale:!0})){const o=this.keyList[n],i=this.valList[n],r={value:this.isBackgroundFetch(i)?i.__staleWhileFetching:i};if(this.ttls){r.ttl=this.ttls[n];const t=e.now()-this.starts[n];r.start=Math.floor(Date.now()-t)}this.sizes&&(r.size=this.sizes[n]),t.unshift([o,r])}return t}load(t){this.clear();for(const[n,o]of t){if(o.start){const t=Date.now()-o.start;o.start=e.now()-t}this.set(n,o.value,o)}}dispose(t,e,n){}set(t,e,{ttl:n=this.ttl,start:o,noDisposeOnSet:i=this.noDisposeOnSet,size:r=0,sizeCalculation:s=this.sizeCalculation,noUpdateTTL:a=this.noUpdateTTL}={}){if(r=this.requireSize(t,e,r,s),this.maxEntrySize&&r>this.maxEntrySize)return this;let c=0===this.size?void 0:this.keyMap.get(t);if(void 0===c)c=this.newIndex(),this.keyList[c]=t,this.valList[c]=e,this.keyMap.set(t,c),this.next[this.tail]=c,this.prev[c]=this.tail,this.tail=c,this.size++,this.addItemSize(c,r),a=!1;else{const n=this.valList[c];e!==n&&(this.isBackgroundFetch(n)?n.__abortController.abort():i||(this.dispose(n,t,"set"),this.disposeAfter&&this.disposed.push([n,t,"set"])),this.removeItemSize(c),this.valList[c]=e,this.addItemSize(c,r)),this.moveToTail(c)}if(0===n||0!==this.ttl||this.ttls||this.initializeTTLTracking(),a||this.setItemTTL(c,n,o),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return 0===this.size?this.tail:this.size===this.max&&0!==this.max?this.evict(!1):0!==this.free.length?this.free.pop():this.initialFill++}pop(){if(this.size){const t=this.valList[this.head];return this.evict(!0),t}}evict(t){const e=this.head,n=this.keyList[e],o=this.valList[e];return this.isBackgroundFetch(o)?o.__abortController.abort():(this.dispose(o,n,"evict"),this.disposeAfter&&this.disposed.push([o,n,"evict"])),this.removeItemSize(e),t&&(this.keyList[e]=null,this.valList[e]=null,this.free.push(e)),this.head=this.next[e],this.keyMap.delete(n),this.size--,e}has(t,{updateAgeOnHas:e=this.updateAgeOnHas}={}){const n=this.keyMap.get(t);return void 0!==n&&!this.isStale(n)&&(e&&this.updateItemAge(n),!0)}peek(t,{allowStale:e=this.allowStale}={}){const n=this.keyMap.get(t);if(void 0!==n&&(e||!this.isStale(n))){const t=this.valList[n];return this.isBackgroundFetch(t)?t.__staleWhileFetching:t}}backgroundFetch(t,e,o,i){const r=void 0===e?void 0:this.valList[e];if(this.isBackgroundFetch(r))return r;const s=new n,a={signal:s.signal,options:o,context:i},c=new Promise((e=>e(this.fetchMethod(t,r,a)))).then((e=>(s.signal.aborted||this.set(t,e,a.options),e)),(n=>{if(this.valList[e]===c){!o.noDeleteOnFetchRejection||void 0===c.__staleWhileFetching?this.delete(t):this.valList[e]=c.__staleWhileFetching}if(c.__returned===c)throw n}));return c.__abortController=s,c.__staleWhileFetching=r,c.__returned=null,void 0===e?(this.set(t,c,a.options),e=this.keyMap.get(t)):this.valList[e]=c,c}isBackgroundFetch(t){return t&&"object"==typeof t&&"function"==typeof t.then&&Object.prototype.hasOwnProperty.call(t,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call(t,"__returned")&&(t.__returned===t||null===t.__returned)}async fetch(t,{allowStale:e=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet,ttl:i=this.ttl,noDisposeOnSet:r=this.noDisposeOnSet,size:s=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:c=this.noUpdateTTL,noDeleteOnFetchRejection:l=this.noDeleteOnFetchRejection,fetchContext:u=this.fetchContext,forceRefresh:d=!1}={}){if(!this.fetchMethod)return this.get(t,{allowStale:e,updateAgeOnGet:n,noDeleteOnStaleGet:o});const h={allowStale:e,updateAgeOnGet:n,noDeleteOnStaleGet:o,ttl:i,noDisposeOnSet:r,size:s,sizeCalculation:a,noUpdateTTL:c,noDeleteOnFetchRejection:l};let f=this.keyMap.get(t);if(void 0===f){const e=this.backgroundFetch(t,f,h,u);return e.__returned=e}{const o=this.valList[f];if(this.isBackgroundFetch(o))return e&&void 0!==o.__staleWhileFetching?o.__staleWhileFetching:o.__returned=o;if(!d&&!this.isStale(f))return this.moveToTail(f),n&&this.updateItemAge(f),o;const i=this.backgroundFetch(t,f,h,u);return e&&void 0!==i.__staleWhileFetching?i.__staleWhileFetching:i.__returned=i}}get(t,{allowStale:e=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:o=this.noDeleteOnStaleGet}={}){const i=this.keyMap.get(t);if(void 0!==i){const r=this.valList[i],s=this.isBackgroundFetch(r);if(this.isStale(i))return s?e?r.__staleWhileFetching:void 0:(o||this.delete(t),e?r:void 0);if(s)return;return this.moveToTail(i),n&&this.updateItemAge(i),r}}connect(t,e){this.prev[e]=t,this.next[t]=e}moveToTail(t){t!==this.tail&&(t===this.head?this.head=this.next[t]:this.connect(this.prev[t],this.next[t]),this.connect(this.tail,t),this.tail=t)}get del(){return c("del","delete"),this.delete}delete(t){let e=!1;if(0!==this.size){const n=this.keyMap.get(t);if(void 0!==n)if(e=!0,1===this.size)this.clear();else{this.removeItemSize(n);const e=this.valList[n];this.isBackgroundFetch(e)?e.__abortController.abort():(this.dispose(e,t,"delete"),this.disposeAfter&&this.disposed.push([e,t,"delete"])),this.keyMap.delete(t),this.keyList[n]=null,this.valList[n]=null,n===this.tail?this.tail=this.prev[n]:n===this.head?this.head=this.next[n]:(this.next[this.prev[n]]=this.next[n],this.prev[this.next[n]]=this.prev[n]),this.size--,this.free.push(n)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return e}clear(){for(const t of this.rindexes({allowStale:!0})){const e=this.valList[t];if(this.isBackgroundFetch(e))e.__abortController.abort();else{const n=this.keyList[t];this.dispose(e,n,"delete"),this.disposeAfter&&this.disposed.push([e,n,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return c("reset","clear"),this.clear}get length(){return((t,e)=>{const n=`LRU_CACHE_PROPERTY_${t}`;if(u(n)){const{prototype:o}=g,{get:i}=Object.getOwnPropertyDescriptor(o,t);d(n,`${t} property`,`cache.${e}`,i)}})("length","size"),this.size}static get AbortController(){return n}static get AbortSignal(){return r}}t.exports=g},51068:t=>{var e=1;function n(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}t.exports=function(t){return new Promise((function(o,i){var r=document.createElement("script"),s=t.url;if(t.params){var a=n(t.params);a&&(s+=(s.indexOf("?")>=0?"&":"?")+a)}function c(){r&&(r.onload=r.onreadystatechange=r.onerror=null,r.parentNode&&r.parentNode.removeChild(r),r=null)}r.async=!0;var l="axiosJsonpCallback"+e++,u=window[l],d=!1;window[l]=function(t){(window[l]=u,d)||o({data:t,status:200})};var h={_:(new Date).getTime()};h[t.callbackParamName||"callback"]=l,s+=(s.indexOf("?")>=0?"&":"?")+n(h),r.onload=r.onreadystatechange=function(){r.readyState&&!/loaded|complete/.test(r.readyState)||c()},r.onerror=function(){c(),i(new Error("Network Error"))},t.cancelToken&&t.cancelToken.promise.then((function(t){r&&(d=!0,i(t))})),r.src=s,document.head.appendChild(r)}))}},70879:(t,e,n)=>{"use strict";n.d(e,{qR:()=>c,sY:()=>a});var o=n(64487),i=n(57942),r=n(59662);let s;try{s=JSON.parse(window.localStorage?.getItem("Hatena.Diary.isVerbose")||"false")}catch{s=!1}const a=s?console.log:()=>{},c=function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{reportToSentry:!0};r.Z.isObsolete||(0,i.Z)("sentry-dsn")&&n.reportToSentry&&(t instanceof Error?o.Tb(t):o.Tb(new Error(String(t))))}},55992:(t,e,n)=>{"use strict";n.d(e,{Cr:()=>i,HA:()=>r,Y4:()=>c,e1:()=>a,vA:()=>s});var o=n(57942);const i=()=>{const t=(0,o.Z)("version");return t?`version=${t}`:""},r=t=>(0,o.Z)("blogs-uri-base")+t,s=t=>{const e=(0,o.Z)("static-domain");let n;return n=t.indexOf("?")>=0?"&":"?",e+t+n+i()},a=t=>`${(0,o.Z)("admin-domain")}${t}`,c=t=>`${(0,o.Z)("parts-domain")}${t}`},36414:(t,e,n)=>{"use strict";n.d(e,{$w:()=>c,AN:()=>g,DY:()=>v,Jf:()=>p,MG:()=>r,ND:()=>u,_4:()=>w,ew:()=>m,l7:()=>f,lW:()=>a,pE:()=>b,yT:()=>y});var o=n(77446),i=n(57942);const r={Admin:"admin",Blogs:"blogs",Global:"global",Unknown:"unknown"},s=o.jb(r),a=()=>{const t=o.As(s,(0,i.Z)("router-type"));return t.success?t.data:r.Unknown},c={Dev:"dev",Local:"local",Staging:"staging",Productrion:"production",Unknown:"unknown"},l=o.jb(c),u=()=>{const t=o.As(l,(0,i.Z)("sentry-environment"));return t.success?t.data:c.Unknown},d={PC:"pc",Touch:"touch",Unknown:"unknown"},h=o.jb(d),f=()=>{const t=o.As(h,(0,i.Z)("device"));return t.success?t.data:d.Unknown},p="unknown",m=()=>{const t=o.As(o.Z_(),(0,i.Z)("page"));return t.success?t.data:p},g=()=>{const t=o.As(o.Z_(),(0,i.Z)("blog-uuid"));return t.success?t.data:"unknown"},v=()=>Boolean((0,i.Z)("blog-show-sleeping-ads")),y=()=>Boolean((0,i.Z)("blog-show-ads")),w=()=>{const t=o.As(o.Z_(),(0,i.Z)("userconfig"));return t.success?t.data:null},b=()=>{const t=o.As(o.Z_(),(0,i.Z)("visitor-attribute"));return t.success?t.data:null}},37213:(t,e,n)=>{"use strict";n.d(e,{D:()=>r});var o=n(55992),i=n(347);function r(){const t=(0,o.e1)("/api/recent_subscribing");return i.ZP.get(t,{responseType:"json",params:{_:Date.now()},validateStatus:t=>t<500}).then((t=>t&&t.data&&t.data.count?+t.data.count:0))}},74926:(t,e,n)=>{"use strict";var o={};n.r(o),n.d(o,{init:()=>Y});var i={};n.r(i),n.d(i,{init:()=>K});var r={};n.r(r),n.d(r,{init:()=>J});var s={};n.r(s),n.d(s,{init:()=>X});var a={};n.r(a),n.d(a,{init:()=>tt});var c={};n.r(c),n.d(c,{init:()=>Yt});var l={};n.r(l),n.d(l,{default:()=>Vt});var u={};n.r(u),n.d(u,{init:()=>Je});var d={};n.r(d),n.d(d,{init:()=>sn});var h={};n.r(h),n.d(h,{init:()=>cn});var f={};n.r(f),n.d(f,{init:()=>ln});var p={};n.r(p),n.d(p,{init:()=>un});var m=n(70879);class g{constructor(t,e){this.slotId=t,this.insertElementClassName=e}insertAd(){return this.insertAdOnHeading()||this.insertAdOnPre()||this.insertAdOnTable()||this.insertAdOnP()}insertAdOnHeading(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=document.querySelectorAll(".hatenablog-entry > h1,\n       .hatenablog-entry > h2,\n       .hatenablog-entry > h3,\n       .hatenablog-entry > h4,\n       .hatenablog-entry > h5,\n       .hatenablog-entry > h6");for(let n=t;n<e.length;n++){const t=e[n];if(this.isOutsideFirstView(t))return this.insertCustomPosition(t,"before")}return!1}insertAdOnP(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=document.querySelectorAll(".hatenablog-entry > p:not(.footnote)");for(let n=t;n<e.length;n++){const t=e[n];if(this.isOutsideFirstView(t)&&this.canInsertAdOnP(t))return this.insertCustomPosition(t,"before")}return!1}insertAdOnPre(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=document.querySelectorAll(".hatenablog-entry > pre");for(let n=t;n<e.length;n++){const t=e[n];if(this.isOutsideFirstView(t))return this.insertCustomPosition(t,"before")}return!1}insertAdOnTable(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const e=document.querySelectorAll(".hatenablog-entry > table");for(let n=t;n<e.length;n++){const t=e[n];if(this.isOutsideFirstView(t))return this.insertCustomPosition(t,"before")}return!1}canInsertAdOnP(t){const e=t.textContent??"";if("Â "===e)return this.testAdjacentPElement(t);const n=e.length,o=window.getComputedStyle(t),i=t.clientHeight-parseFloat(o.paddingTop)-parseFloat(o.paddingBottom);return n>=30&&i>=40&&this.testAdjacentPElement(t)}testAdjacentPElement(t){const e=t.nextElementSibling,n=t.previousElementSibling;return!(!e||!n)&&("P"===e.tagName&&"P"===n.tagName&&!n.querySelector("img"))}isOutsideFirstView(t){return t.getBoundingClientRect().top+window.pageYOffset>1.1*window.innerHeight}insertCustomPosition(t,e){(0,m.sY)(`added ad ${e} ${t.nodeName} element`);const n=this.addAdElement();switch(e){case"before":return t.before(n),!0;case"after":return t.after(n),!0;case"append":return t.appendChild(n),!0;default:return!1}}addAdElement(){const t=document.createElement("div");return t.id=this.slotId,t.classList.add(this.insertElementClassName),t}displayAd(){(0,m.sY)(`Display ad. slot id: ${this.slotId} `),void 0===window.valve&&(window.valve=[]),window.valve.push((t=>{t.displaySlot(this.slotId)}))}}var v=n(36414),y=n(59662);function w(){if(!y.Z.isTouch)return;if("entry"!==(0,v.ew)())return;if(!(0,v.yT)())return;if((0,v.DY)())return;const t=new g("ad-in-entry","variable-rectangle-ad");let e=t.insertAd();if(!e){const n=document.querySelector("div.social-buttons");null!==n&&(e=t.insertCustomPosition(n,"after"))}e&&t.displayAd()}function b(){if("entry"!==(0,v.ew)())return;if(!(0,v.DY)())return;const t=new g("sleeping-ad-in-entry","sleeping-ad-in-entry");t.insertAd()&&t.displayAd()}var x=n(65311),k=n.n(x),S=n(98860),E=(n(84581),n(52390),n(57942)),$=n(55992),T=n(67301);const C={ping(){if(!(0,E.Z)("blogs-uri-base"))return;const t=(0,$.e1)("/api/log"),e={uri:location.href,referer:document.referrer};k().ajax({url:t,type:"get",cache:!1,data:e,xhrFields:{withCredentials:!0}}).fail((()=>{const n=T.Z.stringify({...e,_:(new Date).getTime()});(new Image).src=`${t}?${n}`}))}};var L=n(36843),A=n(78899),j=n(37914),B=n(56412),O=n(36500),I=n(26410);const q=function(){k()(".open-pro-modal").css("visibility","visible"),k()(document.body).on("click",".open-pro-modal",(function(){return function(t){var e=k()('<div class="hatena-iframe-container pro-modal-container">').appendTo(document.body),n=k()('<iframe frameborder="0"></iframe>').appendTo(e),o=O.Z.createForFrame(n[0],t);o.addEventListener("close",(()=>{I.Z.hide(e)})),I.Z.show(e,{destroy:function(){n.remove(),o.destroy()},fixScroll:!0,center:!0,showBackground:!0})}(k()(this).attr("data-guide-pro-modal-ad-url")),!1}))},P=k().Deferred(),Z=t=>{window.dataLayer||(window.dataLayer=[]),window.dataLayer.push(t)};function F(){window.addEventListener("message",(t=>{var e;t.origin===(0,$.Y4)("")&&((e=t.data)&&"blogcardTracking"===e.kind)&&Z(t.data.data)}))}var M=n(10912),z=function(t,e){this.init(t,e)};z.prototype={init:function(t,e){e||(e={});var n=this;n.moveInProgress=!1,n.$containerElem=t,n.$goBackElem=k()(k().parseHTML('<a class="module-entries-carousel-button back"><span>Back</span<</a>')),n.$goForwardElem=k()(k().parseHTML('<a class="module-entries-carousel-button forward"><span>Forward</span></a>')),n.isAutoScroll=e.isAutoScroll||!1,n.autoScrollInterval=e.autoScrollInterval||5e3,n.displayEntrySizeAtOnce=e.displayEntrySizeAtOnce||2,n.isAutoScroll&&(n.autoScrollIntervalId=window.setInterval((t=>{t.goForwardWithLoop()}),n.autoScrollInterval,n)),n.$containerElem.on("click",".module-entries-carousel-button.back.active",(()=>{n.isAutoScroll&&window.clearInterval(n.autoScrollIntervalId),n.goBack()})),n.$containerElem.on("click",".module-entries-carousel-button.forward.active",(()=>{n.isAutoScroll&&window.clearInterval(n.autoScrollIntervalId),n.goForward()})),n.currentPosition=0;var o=n.getCarouselBodyElem();n.carouselList=o.find(".urllist-item"),n.carouselElementsSize=n.carouselList.length,n.carouselSize=n.carouselElementsSize-(n.displayEntrySizeAtOnce-1),n.$directNavigationListElem=k()(k().parseHTML('<ol class="module-entries-carousel-navigation">'));for(var i=0;i<n.carouselSize;)n.$directNavigationListElem.append(k()(k().parseHTML(`<li><a data-carousel-index="${i}"><span>${i}</span></a></li>`))),i++;n.$containerElem.on("click",".module-entries-carousel-navigation a.active",(function(t){n.isAutoScroll&&window.clearInterval(n.autoScrollIntervalId),n.goToIndex(Number(k()(this).attr("data-carousel-index")))})),n.updateNavigationElementsClass(),n.$containerElem.append(n.$goBackElem),n.$containerElem.append(n.$goForwardElem),n.$containerElem.append(n.$directNavigationListElem)},canGoBack:function(){return this.currentPosition>0},canGoForward:function(){var t=this;return t.currentPosition<t.carouselSize-(t.displayEntrySizeAtOnce-1)},updateNavigationElementsClass:function(){var t=this;t.$goBackElem.toggleClass("active",t.canGoBack()),t.$goForwardElem.toggleClass("active",t.canGoForward()),t.$directNavigationListElem.find("a").removeClass("current"),t.$directNavigationListElem.find(`a[data-carousel-index="${t.currentPosition}"]`).addClass("current"),t.$directNavigationListElem.find("a").addClass("active"),t.$directNavigationListElem.find("a.current").removeClass("active")},getUnitWidth:function(){var t=this.getCarouselBodyElem().find(".urllist-item");return 0===t.length?((0,m.qR)("Can't get unit width"),200):1===t.length?t.width():k()(t[1]).offset().left-k()(t[0]).offset().left},getCarouselBodyElem:function(){return k()(this.$containerElem).find(".urllist-with-thumbnails")},goToIndex:function(t){var e=this;if(!(t<0||t>=e.carouselSize||e.moveInProgress)){e.moveInProgress=!0;var n=e.getCarouselBodyElem(),o=(n.offset(),`-=${e.getUnitWidth()*(t-e.currentPosition)}px`);n.animate({left:o},300,(()=>{e.currentPosition=t,e.updateNavigationElementsClass(),e.moveInProgress=!1}))}},goBack:function(){this.goToIndex(this.currentPosition-1)},goForward:function(){this.goToIndex(this.currentPosition+1)},goForwardWithLoop:function(){this.canGoForward()?this.goForward():this.goToIndex(0)}};const N=z;var R=n(77446),D=n(347);const U=R.IX(R.Ry({year:R.Rx(),count:R.Rx(),months:R.IX(R.Ry({year:R.Rx(),month:R.Rx(),count:R.Rx()}))})),H=()=>{if("archive"===(0,E.Z)("page")){const t=document.querySelector("section.archive-entry");if(!t)return;const e=t.querySelector("div.date > a > time")?.getAttribute("datetime"),n=e?.match(/^(\d{4})-(\d{2})-\d{2}/);if(!n)return;return{year:n[1],month:n[2]}}const t=document.querySelector("article.entry");if(!t)return;const e=t.querySelector("header time > span.date-year")?.textContent,n=t.querySelector("header time > span.date-month")?.textContent;return e&&n?{year:e,month:n}:void 0},W=t=>{let e=null;const n=H();n&&n.year&&(e=t.querySelector(`li.archive-module-year[data-year="${n.year}"]`)),e=e??t.querySelector("li.archive-module-year"),e?.classList.remove("archive-module-year-hidden"),t.addEventListener("click",(t=>{if(!t.target)return;const e=t.target.closest(".archive-module-button");if(!e)return;const n=e?.closest(".archive-module-year");n&&n.classList.toggle("archive-module-year-hidden")}))},G=(t,e)=>{const n=t.selectedOptions;if(1===n.length){const t=n[0].dataset.year,o=n[0].dataset.month;t&&o&&D.ZP.get($.HA("/archive_module_calendar"),{params:{month:o,year:t}}).then((t=>{if(200===t.status){const n=e.querySelector(".js-archive-module-calendar-container");n&&(n.innerHTML=t.data)}})).catch((t=>(0,m.qR)(t)))}},Q=(t,e)=>{for(const n of e){const e=t.querySelector(`.archive-module-year-${n.year}`);e&&e.appendChild(document.createTextNode(` (${n.count})`));for(const e of n.months){const o=t.querySelector(`.archive-module-month-${n.year}-${e.month}`);o&&o.appendChild(document.createTextNode(` (${e.count})`))}}},Y=()=>{const t=document.querySelectorAll(".hatena-module-archive");t&&t.forEach((t=>{const e=t.getAttribute("data-archive-type");if(e)return"default"===e&&t.querySelector(".archive-module-year")?(t=>{W(t),D.ZP.get($.HA("/api/number_of_entries_per_month")).then((e=>{const n=R.As(U,e.data);if(!n.success)return(0,m.qR)(n.error);Q(t,n.data)})).catch((t=>(0,m.qR)(t)))})(t):void(t.querySelector(".no-entry-text")||D.ZP.get($.HA("/archive_module"),{params:{archive_type:e}}).then((n=>{if(200===n.status){const o=t.querySelector(".hatena-module-body");if(!o)return;o.innerHTML=n.data,"calendar"===e?(t=>{const e=t.querySelector(".js-archive-module-calendar-selector");if(!e)return;const n=H();n?e.value=`${n.year} ${n.month}`:e.selectedIndex=0,G(e,t),e.addEventListener("change",(()=>{G(e,t)}))})(t):W(t)}})).catch((t=>(0,m.qR)(t))))}))},V=R.Ry({circles:R.IM(R.Ry({html:R.jt(R.AG(R.Z_()))}))}),K=function(){const t=k()(".hatena-module-circles");if(0===t.length)return;const e=[],n={};let o=0;t.find("[data-circle-id][data-circle-mtime]").each(((t,i)=>{const r=k()(i),s=r.attr("data-circle-id");e.push(s),n[s]=r;const a=Number(r.attr("data-circle-mtime"));a>o&&(o=a)})),0!==e.length&&k().ajax({type:"GET",url:(0,$.HA)("/api/module/circles"),data:{mtime:o,circle_id:e},traditional:!0,dataType:"json"}).done((t=>{const e=R.As(V,t);if(!e.success)return void(0,m.qR)(e.error);const{data:{circles:o}}=e;Object.entries(o).forEach((t=>{let[e,o]=t;n[e].replaceWith(k().parseHTML(o.html||" "))}))}))},J=()=>{const t=k()(".hatena-module-entries-access-ranking");0!==t.length&&t.each(((t,e)=>{const n=k()(e),o={};S.ZP.each(n[0].attributes,(t=>{t.name.match(/^data-/)&&(o[t.name.replace(/^data-/,"")]=t.value)})),k().ajax({type:"GET",url:$.HA("/entries_access_ranking_module"),data:o,dataType:"html"}).done((t=>{n.find(".hatena-module-body").append(t)}))}))},X=()=>{const t=k()(".profile-running-duration"),e=Math.floor(Date.now()/1e3);t.each(((t,n)=>{const o=k()(n),i=parseInt(o.attr("data-show-until"))||e;e<i&&o.removeClass("is-hidden")}))},tt=()=>{const t=k()(".hatena-module-recent-comments");if(0===t.length)return;const e=S.ZP.template(k()(".recent-comments-template").html());let n=0;t.each(((t,e)=>{const o=k()(e).find(".hatena-module-body"),i=Number(o.attr("data-count"));n=Math.max(n,i)})),0!==n&&k().ajax({url:$.HA("/api/recent_comments"),dataType:"json",data:{count:n}}).done((n=>{t.each(((t,o)=>{const i=k()(o),r=i.find(".hatena-module-body"),s=parseInt(r.attr("data-count"));let a="";for(let t=0;t<s&&n[t];t++)a+=e({comment:n[t]});i.find(".recent-comments").html(a),(0,A.d)(i)}))}))},et=()=>{[o,i,r,a,s].forEach((t=>{t.init()}))};var nt=function(){this.init()};nt.prototype={init:function(){this.quote={body:"",url:"",title:""};const t=k()("#js-requote-button-template");t[0]&&(this.$reQuoteButton=k()(t.html().trim()),this.bindEvents())},getSelectedText:function(){return window.getSelection?`${window.getSelection()||""}`:document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:""},selectedTextExists:function(){return this.getSelectedText().length>0},bindEvents:function(){var t=this;k()(document).on("mouseenter","blockquote",(e=>{if(!1===t.selectedTextExists()){var n=k()(e.target).closest("blockquote");if(n.find("blockquote").length>0)return;t.focusOnBlockquote(n),t.showButton()}})),k()(document).on("mouseleave","blockquote",(e=>{!1===k()(e.toElement).hasClass("js-select_quote_panel")&&t.hideButton()})),k()(document).on("mouseup","blockquote",(()=>{t.selectedTextExists()?t.hideButton():t.showButton()})),t.$reQuoteButton.on("click",(()=>(O.Z.send("requote-edit-entry",{quote:t.quote}),!1)))},focusOnBlockquote:function(t){this.$blockquote=t,this.setButtonData(t),this.$blockquote.append(this.$reQuoteButton)},setButtonData:function(t){this.setQuoteBody(t),this.setQuoteMeta(t),""===this.quote.body&&(this.quote.body=this.quote.title,this.quote.title=this.quote.url)},setQuoteBody:function(t){var e=t.children(":not(cite, .js-requote-button)");e.length<=0?this.quote.body=t.contents().get(0).nodeValue||"":this.quote.body=e.text()},setQuoteMeta:function(t){var e=t.find("cite"),n=e.find("a"),o=t.attr("cite")||n.attr("href");void 0===o&&(o=t.closest("article").find(".entry-title .entry-title-link").attr("href"));var i=n.text()||e.text()||o;this.quote.url=o,this.quote.title=i},showButton:function(){this.$reQuoteButton.addClass("is-visible")},hideButton:function(){this.$reQuoteButton.removeClass("is-visible")}};const ot=nt;var it=n(92901);const rt={init:function(t,e){const n=(0,E.Z)("blog-uri"),o=(0,E.Z)("blog-host"),i={isSubscribing:t,isGuest:!((0,E.Z)("rkm")&&(0,E.Z)("rkc"))},r={subscribersCount:e,blogUrl:n,blogName:(0,E.Z)("blog-name"),requestUrl:[(0,E.Z)("admin-domain"),(0,E.Z)("author"),o,"subscribe"].join("/")},s=O.Z.createForCurrentWindow();k()(".hatena-follow-button-box").map((function(){return new it.Z.Blogs(k()(this),i,r,s,"hatena-follow-button-box")})).toArray();O.Z.addEventListener("subscription",(t=>{s.send("subscription",t)})),s.addEventListener("subscription",(t=>{O.Z.send("subscription",t)}));const a=k()("#hidden-subscribe-button > .hatena-follow-button-box");this.subscribeButtonForMessage=new it.Z.Blogs(a,i,r,s,"globalheader");const c=this;O.Z.addEventListener("subscribe",(t=>{const e={left:t.left+5};c.subscribeButtonForMessage.openSubscribeWindow(e,!0)})),s.addEventListener("subscription",(t=>{!0===t[n]&&O.Z.send("subscribed-current-blog")})),k()(document).on("subscribe",((t,e)=>{const n={left:e.left+5};c.subscribeButtonForMessage.openSubscribeWindow(n,!0)}))}},st={init:function(t){k()(t||document.body).on("click","a[data-hatenablog-tumblr-share-button]",(t=>{const e=k()(t.currentTarget),n=`${window.getSelection?window.getSelection():document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:0}`,o=`http://www.tumblr.com/share?${k().param({v:3,u:e.attr("data-share-url")||location.href,t:e.attr("data-share-title")||document.title,s:n})}`,i=()=>{window.open(o,"t","toolbar=0,resizable=0,status=1,width=450,height=430")||(location.href=o)};return/Firefox/.test(navigator.userAgent)?setTimeout(i,0):i(),!1}))}};function at(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ct=/^https:\/\/www.youtube.com\/embed\//;class lt{static async init(){return this.cachedInitPromise||(this.cachedInitPromise=new Promise((t=>{window.onYouTubeIframeAPIReady=()=>{this.updatePlayers(),t()};const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";const n=document.querySelector("script");n&&n.parentNode&&n.parentNode.insertBefore(e,n)}))),this.cachedInitPromise}static async updatePlayers(){this.init().then((()=>{this.collectYouTubeEmbeddedIframes().forEach((t=>{this.registeredIframes.has(t)||this.createPlayer(t)}))}))}static collectYouTubeEmbeddedIframes(){const t=document.querySelectorAll("iframe"),e=document.querySelector("#body_ifr")?.contentWindow?.document.querySelectorAll("iframe")||[];return Array.from(t).concat(Array.from(e)).filter((t=>ct.test(t.src||"")))}static createPlayer(t){this.registeredIframes.add(t);const e=new YT.Player(t,{events:{onStateChange:t=>{t.data===YT.PlayerState.PLAYING&&this.pauseAllExcept(t.target)}}});this.players.push(e)}static pauseAllExcept(t){for(const e of this.players)e!==t&&e.getPlayerState()===YT.PlayerState.PLAYING&&e.pauseVideo()}}at(lt,"cachedInitPromise",null),at(lt,"players",[]),at(lt,"registeredIframes",new WeakSet);var ut=n(20996),dt=n(17187);function ht(){return window.getSelection?window.getSelection():document.getSelection?document.getSelection():{}}function ft(){return window.getSelection?`${window.getSelection()||""}`:document.getSelection?document.getSelection():document.selection?document.selection.createRange().text:""}var pt=n(76804);const mt={init:function(t,e){this.quote=e,this.state={},this.$tweetContainer=this.quote.$el.find(".js-tooltip-quote-tweet"),this.$tweetButton=this.quote.$el.find(".js-tweet-quote"),this.$tweetButton.on("click touchend",(()=>this.tweet())),this.quote.on("selectionChanged",(()=>{this.update(),this.render()}))},update:function(){const t=`https://twitter.com/share?${k().param({url:this.quote.targetArticle.uri,text:`â${this.quote.selectedText}â`})}`;this.state={href:t}},render:function(){this.$tweetButton.attr("href",this.state.href),this.$tweetContainer.addClass("available").show()},tweet:function(){const t={width:550,height:420};t.left=Math.floor((screen.width-t.width)/2),t.top=Math.floor((screen.height-t.height)/2);const e=(0,pt.Z)(t);return window.open(this.state.href,"Quote.Tweet",e),!1}};var gt=60,vt=10,yt=function(t,e,n){t.on("mouseover",(()=>{var o={top:t.offset().top,left:t.offset().left+40};e.css(o),n.show()})),t.on("mouseout",(()=>{n.hide()}))},wt={targetArticle:{$el:null,title:"",uri:"",uuid:""},selectedText:"",quoteInfoLoaded:function(t){t.supported&&(wt.init(t),wt.Stock.init(t),t.stockable?mt.init(t,this):bt.init(this))},init:function(){var t,e,n=this;n.eventEmitter=new dt.EventEmitter,n.$el=k()(".quote-box"),k()(document).on("mousedown","body",(e=>{var o=k()(e.target),i=n.getClosestArticle(o);t=n.getArticleURI(i)})),k()(document).on("mouseup","body",(o=>{var i=k()(o.target),r=n.getClosestArticle(i);if(e=n.getArticleURI(r),i.closest(k()(".hatena-star-add-button")).length>0)return o.preventDefault(),void n.hideQuoteBox();S.ZP.defer((()=>{var s=ft();if(!(i.closest(n.$el).length>0||i.closest(k()(".quote-stock-panel")).length>0)){if(!t||t!==e||!n.isValidSelected(i,s))return n.selectedText="",n.setTargetArticle(null),void n.hideQuoteBox();n.selectedText=s,n.setTargetArticle(r),n.showQuoteBox(r,o.pageY),n.emit("selectionChanged")}}))}))},isValidSelected:function(t,e){var n=e.match(/^\s*$/);return!(t.closest(".comment").length>0)&&!n},showQuoteBox:function(t,e){var n=this.$el,o=t.offset().left-gt;o=Math.max(o,vt),n.css({top:e,left:o}),n.show()},hideQuoteBox:function(){this.$el.hide()},on:function(){this.eventEmitter.on.apply(this.eventEmitter,arguments)},emit:function(){this.eventEmitter.emit.apply(this.eventEmitter,arguments)},getClosestArticle:function(t){var e=t.closest("article");if(e.length<=0){var n=ht();void 0!==n.focusNode&&(e=k()(n.focusNode).closest("article"))}return e},getArticleURI:function(t){return t.find(".entry-title .entry-title-link").attr("href")},getArticleTitle:function(t){return t.find(".entry-title .entry-title-link").text()},getArticleUUID:function(t){return t.attr("data-uuid")},setTargetArticle:function(t){var e=this;e.targetArticle=t?{$el:t,uri:e.getArticleURI(t),title:e.getArticleTitle(t),uuid:e.getArticleUUID(t)}:{$el:null,uri:"",title:"",uuid:""}}};wt.Stock={init:function(t){var e=this;return e.$stockButton=k()(".tooltip-quote-stock"),e.$stockMessageBox=k()("#quote-stock-message-box"),e.$stockSuccessMessage=k()("#quote-stock-succeeded-message"),e.$stockFailMessage=k()("#quote-stock-failed-message"),e.$stockCloseMessageButton=k()(".quote-stock-close-message-button"),e.$stockShowEditorButton=k()("#quote-stock-show-editor-button"),e.$unstockableMessageBox=k()("#unstockable-quote-message-box"),e.$quoteLoginRequiredMessageBox=k()("#quote-login-required-message"),e.$quoteLoginButton=k()("#quote-login-button"),e.$stockButton.show(),t.should_navigate_to_login?(e.$stockButton.on("click",(()=>{var t={top:e.$stockButton.offset().top,left:e.$stockButton.offset().left+40};e.$stockMessageBox.css(t),e.$quoteLoginRequiredMessageBox.show()})),e.$quoteLoginButton.on("click",(()=>{var t,e;t=`${(0,E.Z)("admin-domain")}/go?blog=${encodeURIComponent(wt.targetArticle.uri)}`,e=`https://www.hatena.ne.jp/login?location=${encodeURIComponent(t)}`,location.href=e})),e.$stockCloseMessageButton.on("click",(()=>{e.$quoteLoginRequiredMessageBox.hide()})),!1):t.stockable?void e.setupQuoteStockButton():(yt(e.$stockButton,e.$stockMessageBox,e.$unstockableMessageBox),!1)},setupQuoteStockButton:function(){var t=this;t.$stockButton.on("click",(()=>{var e={top:t.$stockButton.offset().top,left:t.$stockButton.offset().left+40};t.$stockMessageBox.css(e),O.Z.send("stockQuote",{uri:wt.targetArticle.uri,title:wt.targetArticle.title,selected_text:wt.selectedText})})),O.Z.addEventListener("successStockQuote",(()=>{t.$stockSuccessMessage.show()})),O.Z.addEventListener("failStockQuote",(()=>{t.$stockFailMessage.show()})),t.$stockShowEditorButton.on("click",(()=>{t.$stockSuccessMessage.hide(),O.Z.send("quote-edit-entry",{})})),t.$stockCloseMessageButton.on("click",(()=>{t.$stockSuccessMessage.hide(),t.$stockFailMessage.hide()}))}};var bt={init:function(t){this.quote=t,this.$tweetButton=this.quote.$el.find(".js-tooltip-quote-tweet"),this.$tweetAnchor=this.quote.$el.find(".js-tooltip-quote-tweet"),this.$stockMessageBox=k()("#quote-stock-message-box"),this.$unstockableErrorBox=k()("#unstockable-quote-message-box"),this.$tweetButton.show(),yt(this.$tweetButton,this.$stockMessageBox,this.$unstockableErrorBox)}};const xt=wt;const kt=function(t){var e=k()(`<div class="hatena-globalheader-window message"><div class="message">${S.ZP.escape(t)}</div></div>`).css({width:200,height:"auto",right:"auto",left:(k()(window).width()-200)/2}).appendTo(document.body);I.Z.show(e,{destroy:function(){e.remove()}})};var St={hasInfoLoaded:!1,init:function(){window.parent===window&&C.ping(),B.Z.infoLoaded.then((t=>{St.infoLoaded(t),t.quote&&xt.quoteInfoLoaded(t.quote)})),(0,A.d)(k()(document)),k()(document).on("click","img.hatena-fotolife, img.magnifiable, img.http-image",(t=>{const e=t.currentTarget,n=k()(e);if(n.data("colorbox"))return;const o=n.closest("a").get(0);return o&&o.href!==e.src?void 0:(n.colorbox({maxWidth:"95%",maxHeight:"95%",transition:"none",photo:!0,href:n.attr("src"),title:" ",open:!0,opacity:.85}),k()("#cboxContent").on("click",(()=>{k().colorbox.close()})),!1)})),et(),L.v.init(),St.setupOndemandCommentDeleteButton(),St.highlightKeyword(),st.init(),lt.init(),F(),b(),w()},highlightKeyword:function(){const t=j.Z.params();if(!t||!t.q)return;const e=k()(".search-result").data("searchQueries");e&&(k()(".entry-title").highlight(e,{caseSensitive:!1}),k()(".entry-description").highlight(e,{caseSensitive:!1}))},infoLoaded:function(t){if(St.hasInfoLoaded)return;St.hasInfoLoaded=!0;const e=j.Z.param("via");if(e&&O.Z.send("inheritVia",e),t.message&&kt(t.message),P.resolve(!t.cookie_received),k()("article.entry:not(.no-entry)").each(((t,e)=>{M.Z.initEntry(k()(e))})),t.editable){let t,e;const n=k()("<div>").addClass("entry-header-menu"),o=t=>{const e=t.attr("data-uuid"),n=(0,E.Z)("author"),o=(0,E.Z)("blog"),i=$.e1(`/${n}/${o}/edit?entry=${e}`);return k()(`<a href="${i}">${ut.Z.text("edit")}</a>`)},i='article.entry[data-publication-type="entry"]';k()(document).on("mouseenter",i,(i=>{const r=k()(i.currentTarget);r.is(t)?clearTimeout(e):(t=r,t.attr("data-uuid")&&n.empty().append(o(t)).appendTo(t.find(".entry-header")).show())})),k()(document).on("mouseleave",i,(()=>{clearTimeout(e),e=setTimeout((()=>{t=null,n.fadeOut("fast")}),2e3)})),"index"===(0,E.Z)("page")&&!j.Z.param("preview")&&k()("#globalheader").is(":visible")&&St.setupFirstEntry(),q();const r=k()(".sleeping-ads-notice");r.length>0&&r.show(),k()(".js-no-entry").length&&(k()(".js-no-entry-message").hide(),k()(".js-welcome-message").show())}if(t.should_show_invitation_pc_link){const t=k()(".js-guide-register");t.attr("style","display: block !important;"),t.find(".js-inherit-ga").each(((t,e)=>{const n=k()(e),o=n.attr("href"),i=((t,e)=>{const n=document.createElement("a");if(n.href=t,!n.search)return e;const o=T.Z.parse(n.search.substring(1))._ga;if(!o)return e;const i=document.createElement("a");i.href=e;const r=T.Z.parse(i.search.substring(1));return r._ga=o,i.search=T.Z.stringify(r),i.href})(location.href,o);n.attr("href",i)}))}St.setupHatenaBookmarkComment(k()("#container")),St.setupEntryModuleCarousel(),rt.init(t.subscribe,t.subscribes),t.is_public&&new ot},setupFirstEntry:function(){k()(".entry-content").show();const t=k()(".welcome-tooltip-newentry");t.on("click",(()=>M.Z.newEntry({openedFrom:"welcome-tooltip"}))),O.Z.send("newEntryGeometry"),O.Z.addEventListener("newEntryGeometry",(e=>{t.offset({left:e.left+e.width/2-t.outerWidth()/2}),t.show()}))},elementDidAppear:function(t){const e=k().Deferred(),n=k()(window);return n.scrollTop()>k()(t).offset().top-n.height()?e.resolve():n.on("scroll",S.ZP.throttle((()=>{n.scrollTop()>k()(t).offset().top-n.height()&&e.resolve()}),200)),e.promise()},setupHatenaBookmarkComment:function(t){const e=t.find(".hatena-bookmark-comment-iframe");0!==e.size()&&S.ZP.each(e,(t=>{const e=k()(t);O.Z.createForFrame(t,e.attr("data-src")).addEventListener("resize",(t=>{e.css("height",t)}))}))},setupOndemandCommentDeleteButton:function(){k()(document).on("mouseenter",".entry-comment",(t=>{const e=k()(t.currentTarget);if(e.find(".comment-delete-button img").size()>0)return;const n=`${(0,E.Z)("admin-domain")}/api/comment.delete.image?${k().param({comment:e.attr("data-comment-uuid"),blog:e.attr("data-blog-uuid")})}`,o=k()(`<img src="${n}" />`);o.on("load error",(()=>o.attr("alt","delete"))),e.find(".comment-delete-button").append(o)}))},setupEntryModuleCarousel:function(){const t=k()(document).find('script[type="text/x-hatenablog-carousel"]');S.ZP.each(t,(t=>{const e=k()(t),n=e.attr("data-carousel-display-entry-size-at-once"),o={isAutoScroll:!!e.attr("data-carousel-autoscroll"),displayEntrySizeAtOnce:+n||void 0};if(o.isAutoScroll){const t=e.attr("data-carousel-autoscroll-interval");o.autoScrollInterval=+t||void 0}new N(k()(document).find(e.html()),o)}))}};const Et=St;var $t=n(67294),_t=n(73380);function Tt(t,e,n,o,i,r,s){try{var a=t[r](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(o,i)}function Ct(t){return function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function s(t){Tt(r,o,i,s,a,"next",t)}function a(t){Tt(r,o,i,s,a,"throw",t)}s(void 0)}))}}function Lt(){return Lt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Lt.apply(this,arguments)}var At=n(5478),jt=n.n(At),Bt=n(9669),Ot=n.n(Bt),It=n(20835),qt=n.n(It),Pt=Object.prototype.hasOwnProperty;function Zt(t,e){var n,o;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((o=t.length)===e.length)for(;o--&&Zt(t[o],e[o]););return-1===o}if(!n||"object"==typeof t){for(n in o=0,t){if(Pt.call(t,n)&&++o&&!Pt.call(e,n))return!1;if(!(n in e)||!Zt(t[n],e[n]))return!1}return Object.keys(e).length===o}}return t!=t&&e!=e}var Ft="REQUEST_START",Mt="REQUEST_END",zt={manual:!1,useCache:!0,ssr:!0,autoCancel:!0},Nt=Ut();Nt.__ssrPromises,Nt.resetConfigure,Nt.configure,Nt.loadCache,Nt.serializeCache,Nt.clearCache;function Rt(t){var e=Lt({},t);return delete e.cancelToken,JSON.stringify(e)}function Dt(t){return"string"==typeof t?{url:t}:Object.assign({},t)}function Ut(t){var e,n,o,i=[];function r(){e=new(qt())({max:500}),n=Ot(),o=zt}function s(t){void 0===t&&(t={}),void 0!==t.axios&&(n=t.axios),void 0!==t.cache&&(e=t.cache),void 0!==t.defaultOptions&&(o=Lt({},zt,t.defaultOptions))}function a(){return(a=Ct(jt().mark((function t(){var n;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=[].concat(i),i.length=0,t.next=4,Promise.all(n);case 4:return t.abrupt("return",e.dump());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r(),s(t),Object.assign((function t(e,i){var r=$t.useMemo((function(){return Dt(e)}),Ht(e)),s=$t.useMemo((function(){return Lt({},o,i)}),Ht(i)),a=$t.useRef(),c=$t.useReducer(l,function(t,e){var n=!e.manual&&u(t,e);return Lt({loading:!e.manual&&!n,error:null},n?{data:n.data,response:n}:null)}(r,s)),d=c[0],h=c[1];"undefined"==typeof window&&s.ssr&&!s.manual&&t.__ssrPromises.push(n(r));var p=$t.useCallback((function(){a.current&&a.current.cancel()}),[]),m=$t.useCallback((function(t){return s.autoCancel&&p(),a.current=Ot().CancelToken.source(),t.cancelToken=a.current.token,t}),[p,s.autoCancel]);$t.useEffect((function(){return s.manual||f(m(r),s,h).catch((function(){})),function(){s.autoCancel&&p()}}),[r,s,m,p]);var g=$t.useCallback((function(t,e){return t=Dt(t),f(m(Lt({},r,(n=t)&&n.nativeEvent&&n.nativeEvent instanceof Event?null:t)),Lt({useCache:!1},e),h);var n}),[r,m]);return[d,g,p]}),{__ssrPromises:i,resetConfigure:r,configure:s,loadCache:function(t){e.load(t)},serializeCache:function(){return a.apply(this,arguments)},clearCache:function(){e.clear()}});function c(t,n){if(e){var o=Rt(t),i=Lt({},n);delete i.config,delete i.request,e.set(o,i)}}function l(t,e){var n;switch(e.type){case Ft:return Lt({},t,{loading:!0,error:null});case Mt:return Lt({},t,{loading:!1},e.error?{}:{data:e.payload.data,error:null},((n={})[e.error?"error":"response"]=e.payload,n))}}function u(t,n,o){if(e&&n.useCache){var i=Rt(t),r=e.get(i);return r&&o&&o({type:Mt,payload:r}),r}}function d(t,e){return h.apply(this,arguments)}function h(){return(h=Ct(jt().mark((function t(e,o){var i;return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,o({type:Ft}),t.next=4,n(e);case 4:return i=t.sent,c(e,i),o({type:Mt,payload:i}),t.abrupt("return",i);case 10:throw t.prev=10,t.t0=t.catch(0),Ot().isCancel(t.t0)||o({type:Mt,payload:t.t0,error:!0}),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function f(t,e,n){return p.apply(this,arguments)}function p(){return(p=Ct(jt().mark((function t(e,n,o){return jt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",u(e,n,o)||d(e,o));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}}function Ht(t){var e=$t.useRef(),n=$t.useRef(0);return Zt(t,e.current)||(e.current=t,n.current+=1),[n.current]}const Wt=Ut({axios:D.ZP,cache:!1}),Gt=t=>{let{subscribers:e,subscribeCount:n,hasMoreSubscribers:o}=t;return $t.createElement("div",null,$t.createElement("span",{className:"about-subscription-count"},ut.Z.textN("unit_person",n,n)),e.map(((t,e)=>$t.createElement($t.Fragment,null," ",$t.createElement("a",{href:t.blog_url,className:"subscriber",rel:"nofollow",key:e},$t.createElement("img",{src:t.profile_image_url,width:"16",height:"16",alt:t.name,title:t.name,className:"profile-icon"}))))),o&&$t.createElement("span",null,ut.Z.text("hidden_subscribes")))},Qt=()=>{const[{data:t,loading:e,error:n}]=Wt((0,$.HA)("/api/about_subscribers"));if(e)return $t.createElement($t.Fragment,null);if(n)return null;if(!t)throw new TypeError("'data' doesn't exist");const o=t.subscribers,i=t.subscribe_count,r=t.has_more_subscribers;return $t.createElement(Gt,{subscribers:o,subscribeCount:i,hasMoreSubscribers:r})},Yt=()=>{const t=document.querySelector(".js-about-subscriber");t&&(0,_t.w)($t.createElement(Qt,null),t)},Vt={init:function(){try{if(!window.sessionStorage)return;var t=k()("#content").attr("data-editor-id");if(!t)return;var e=k()(document),n=sessionStorage.previewed_scroll_position?JSON.parse(sessionStorage.previewed_scroll_position):null;n&&n.editor_id===t&&(e.scrollTop(n.top),e.scrollLeft(n.left)),e.scroll(_.throttle((()=>{sessionStorage.previewed_scroll_position=JSON.stringify({editor_id:t,top:e.scrollTop(),left:e.scrollLeft()})}),100))}catch(t){}}},Kt={init:function(){k()((()=>{var t=k()(".js-preview-draft-modal");t.find(".js-preview-draft-modal-btn").focus().on("click",(()=>{t.addClass("is-hidden")}))}))}},Jt={__domain__:Et,index:{init:function(){j.Z.setup();const t=()=>{"#edit"===location.hash&&B.Z.infoLoaded.then((t=>{t.editable&&M.Z.newEntry({openedFrom:"hashchange"})})).catch((t=>(0,m.qR)(t)))};window.addEventListener("hashchange",(()=>t())),t()}},realtime_preview:{init:function(){try{if(!window.sessionStorage)return;var t=k()("#realtime-preview-content").attr("data-editor-id");if(!t)return;var e=k()("#realtime-preview-wrapper"),n=sessionStorage.realtime_previewed_scroll_position?JSON.parse(sessionStorage.realtime_previewed_scroll_position):null;k()(window).on("load",(()=>{n&&n.editor_id===t&&(e.scrollTop(n.top),e.scrollLeft(n.left))})),e.scroll(S.ZP.throttle((()=>{sessionStorage.realtime_previewed_scroll_position=JSON.stringify({editor_id:t,top:e.scrollTop(),left:e.scrollLeft()})}),100))}catch(t){}}},preview:Vt,"preview-static_page":l,"preview-draft":Kt,"preview-static_page-draft":Kt,preview_url_embed:{init:function(){var t=O.Z.createForParent(),e=null,n=function(){var n=k()("html").height();n!==e&&(t.send("resize",n),e=n)};!!k()(".js-embed-preview")[0]?(n(),setInterval((()=>{n()}),1e3)):t.send("close")}},"hatena-bookmark-comment":{init:function(){var t=O.Z.createForParent(),e=0,n=function(){var n=k()("body").height()+30;n!==e&&(t.send("resize",n),e=n)};k()(document).on("click",".hatena-bookmark-span-button",(()=>{n()})),setInterval((()=>{n()}),1e3)}},"blog-count-limit-exceeded":{init:function(){B.Z.infoLoaded.then((t=>{var e=t.editable?".js-message-author":".js-message-guest";k()("#container").append(k()(e).html())}))}},about:c};function Xt(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const te=new class{constructor(t,e){Xt(this,"originalText",""),this.options={symbol:"...",reduce:1,...e},this.$el=t,this.$el.css({overflow:"hidden"})}init(t){this.originalText=t}execute(){const t=this.originalText,e=this.$el,n=e.clone();n.attr("id","").css({display:"none",position:"absolute",overflow:"visible",width:e.css("width"),height:"auto"}).text(t),e.after(n);let o=t,i=t;if(n.height()>e.height())for(;o.length>0&&n.height()>e.height();)[o,i]=this.shorten(o),n.text(i);e.text(i),n.remove()}shorten(t){const e=this.options,n=[t.slice(0,Math.floor((t.length-e.reduce)/2)),e.symbol,t.slice(Math.floor((t.length-e.reduce)/2)+e.reduce,t.length)];return[n[0]+n[2],n[0]+n[1]+n[2]]}}(k()("#quote-text"),{}),ee=S.ZP.throttle((()=>{te.execute()}),800),ne=function(t){t.stop().show().css("opacity",1).delay(1e3).fadeOut(1e3)},oe={targetArticle:{$el:null,uri:"",title:"",uuid:""},selectedText:"",init:function(t){if(!t.supported)return;const e=this,n=ht();e.eventEmitter=new dt.EventEmitter,e.$el=k()("#quote-base"),e.$box=k()("#quote-box"),e.$quoteText=k()("#quote-text"),e.$loginRequiredLink=k()(".quote-login-link"),e.$loginRequiredMessage=k()("#quote-login-required");const o=k()("article").first();let i,r;e.targetArticle={$el:o,uri:o.find(".entry-title a").attr("href"),title:o.find(".entry-title a").text(),uuid:o.attr("data-uuid")},e.$el.on("touchend",(t=>{t.preventDefault()})),k()(window).on("resize",(t=>{ee()})),k()("#container").on("click",(t=>{e.hideQuoteBox(t)})),k()(document).on("selectionchange",(()=>{if(n.rangeCount<1)return;const t=k()(n.anchorNode).parents("article").length>0,o=k()(n.anchorNode).parents(".comment").length>0;t&&!o&&(e.selectedText=ft().replace(/(^\s+)|(\s+$)/g,""),0!==e.selectedText.length&&(e.showQuoteBox(),e.emit("selectionChanged")))})),t.should_navigate_to_login&&(i=`${(0,E.Z)("admin-domain")}/go?blog=${encodeURIComponent(e.targetArticle.uri)}`,r=`https://www.hatena.ne.jp/login?location=${encodeURIComponent(i)}`,e.$loginRequiredLink.attr("href",r),e.$loginRequiredLink.on("touchend",(()=>{location.href=r})),e.$loginRequiredMessage.show()),ie.init(t),t.stockable?mt.init(t,this):re.init(this)},showQuoteBox:function(){this.$el.show(),te.init(this.selectedText),ee()},hideQuoteBox:function(t){const e=this;e.isBoxTouched(t.target)||(e.$el.hide(),e.$quoteText.text(""),e.selectedText="")},on:function(){this.eventEmitter.on.apply(this.eventEmitter,arguments)},emit:function(){this.eventEmitter.emit.apply(this.eventEmitter,arguments)},isBoxTouched:function(t){return k()(t).closest(this.$box).length>0}},ie={init:function(t){const e=this;return!t.should_navigate_to_login&&(e.$stockButton=k()("#quote-stock-button"),e.$successMessageBox=k()("#quote-stock-result"),e.$unstockableErrorBox=k()("#quote-unstockable-error"),e.$errorBox=k()("#quote-stock-error"),t.stockable?(e.$stockButton.addClass("available"),void e.setupQuoteStockButtonEvents()):(e.$stockButton.on("touchend",(()=>ne(e.$unstockableErrorBox))),!1))},setupQuoteStockButtonEvents:function(){const t=this;t.$stockButton.on("touchend",(()=>{O.Z.send("stockQuote",{uri:oe.targetArticle.uri,title:oe.targetArticle.title,selected_text:oe.selectedText})})),O.Z.addEventListener("successStockQuote",(()=>{t.closeAllMessageBoxes(),ne(t.$successMessageBox)})),O.Z.addEventListener("failStockQuote",(()=>{t.closeAllMessageBoxes(),ne(t.$errorBox)}))},closeAllMessageBoxes:function(){this.$successMessageBox.hide()}},re={init:function(t){this.quote=t,this.$unstockableErrorBox=this.quote.$el.find("#quote-unstockable-error"),this.$tweetButton=this.quote.$el.find(".js-tweet-quote"),this.$tweetButton.on("touchend",(()=>ne(this.$unstockableErrorBox)))}},se=oe,ae={init:function(){window.parent===window&&C.ping(),O.Z.messenger&&(0,L.Q)(),B.Z.infoLoaded.then((t=>{ae.loadInfo(t),"entry"===(0,E.Z)("page")&&t.quote&&se.init(t.quote)})),(0,A.d)(k()(document)),ut.Z.setupTimestampUpdater(),ae.initFooterAction(),ae.setupOndemandCommentDeleteButton(),et(),F(),b(),w()},loadInfo:function(t){P.resolve(!t.cookie_received);const e=j.Z.param("via");e&&O.Z.send("inheritVia",e),rt.init(t.subscribe,t.subscribes),t.editable&&k()(".js-no-entry").length&&(k()(".js-no-entry-message").hide(),k()(".js-welcome-message").show())},setupOndemandCommentDeleteButton:function(){k()(document).on("mouseenter",".js-entry-comment",(t=>{const e=k()(t.currentTarget);if(e.find(".js-comment-delete-button .js-comment-delete-image").size()>0)return;const n=`${(0,E.Z)("admin-domain")}/api/comment.delete.image?${k().param({comment:e.attr("data-comment-uuid"),blog:e.attr("data-blog-uuid")})}`,o=k()("<img>");o.addClass("js-comment-delete-image"),o.attr("src",n);const i=()=>o.attr("alt","delete");o.load(i),o.error(i),e.find(".js-comment-delete-button").append(o)}))},initFooterAction:function(){const t=k()("iframe.js-footer-action");if(t.length)try{O.Z.createForFrame(t.get(0),t.attr("data-src")).addEventListener("resize",(e=>{e&&t.css(e)}))}catch(t){}}},ce=ae;var le=n(31955);const ue=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};const de="object"==typeof global&&global&&global.Object===Object&&global;var he="object"==typeof self&&self&&self.Object===Object&&self;const fe=de||he||Function("return this")();const pe=function(){return fe.Date.now()};var me=/\s/;const ge=function(t){for(var e=t.length;e--&&me.test(t.charAt(e)););return e};var ve=/^\s+/;const ye=function(t){return t?t.slice(0,ge(t)+1).replace(ve,""):t};const we=fe.Symbol;var be=Object.prototype,xe=be.hasOwnProperty,ke=be.toString,Se=we?we.toStringTag:void 0;const Ee=function(t){var e=xe.call(t,Se),n=t[Se];try{t[Se]=void 0;var o=!0}catch(t){}var i=ke.call(t);return o&&(e?t[Se]=n:delete t[Se]),i};var $e=Object.prototype.toString;const _e=function(t){return $e.call(t)};var Te=we?we.toStringTag:void 0;const Ce=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Te&&Te in Object(t)?Ee(t):_e(t)};const Le=function(t){return null!=t&&"object"==typeof t};const Ae=function(t){return"symbol"==typeof t||Le(t)&&"[object Symbol]"==Ce(t)};var je=/^[-+]0x[0-9a-f]+$/i,Be=/^0b[01]+$/i,Oe=/^0o[0-7]+$/i,Ie=parseInt;const qe=function(t){if("number"==typeof t)return t;if(Ae(t))return NaN;if(ue(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ue(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=ye(t);var n=Be.test(t);return n||Oe.test(t)?Ie(t.slice(2),n?2:8):je.test(t)?NaN:+t};var Pe=Math.max,Ze=Math.min;const Fe=function(t,e,n){var o,i,r,s,a,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function f(e){var n=o,r=i;return o=i=void 0,l=e,s=t.apply(r,n)}function p(t){var n=t-c;return void 0===c||n>=e||n<0||d&&t-l>=r}function m(){var t=pe();if(p(t))return g(t);a=setTimeout(m,function(t){var n=e-(t-c);return d?Ze(n,r-(t-l)):n}(t))}function g(t){return a=void 0,h&&o?f(t):(o=i=void 0,s)}function v(){var t=pe(),n=p(t);if(o=arguments,i=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(m,e),u?f(t):s}(c);if(d)return clearTimeout(a),a=setTimeout(m,e),f(c)}return void 0===a&&(a=setTimeout(m,e)),s}return e=qe(e)||0,ue(n)&&(u=!!n.leading,r=(d="maxWait"in n)?Pe(qe(n.maxWait)||0,e):r,h="trailing"in n?!!n.trailing:h),v.cancel=function(){void 0!==a&&clearTimeout(a),l=0,o=c=i=a=void 0},v.flush=function(){return void 0===a?s:g(pe())},v};const Me=function(t,e,n){var o=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return ue(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Fe(t,e,{leading:o,maxWait:e,trailing:i})};var ze=n(54948),Ne=n(82667);class Re{constructor(t,e){this.url=e,this.$container=k()(Re.TEMPLATE({image:$.vA("/images/loading.gif"),text:ut.Z.text("loading")})).css({position:"relative"}).appendTo(t),this.$loading=this.$container.find(".js-loading"),this.eventListeners={}}show(){this.$iframe=k()('<iframe frameborder="0"></iframe>'),this.$container.append(this.$iframe),this.messenger=O.Z.createForFrame(this.$iframe[0],this.url),this.messenger.addEventListener("close",(()=>{this.$container.fadeOut(),this.$iframe.remove(),this.messenger.destroy()})),this.messenger.addEventListener("resize",(t=>{t&&this.$container.css(t)})),Object.keys(this.eventListeners).forEach((t=>{this.eventListeners[t].forEach((e=>{this.messenger.addEventListener(t,e)}))})),this.$container.fadeIn()}on(t,e){this.eventListeners[t]=this.eventListeners[t]||[],this.eventListeners[t].push(e)}}Re.TEMPLATE=S.ZP.template('<div class="hatena-iframe-container" style="display: none;">  <div class="loading js-loading" style="display: none;">    <img src="<%- image %>" alt="loading" class="loading-spinner" />    <%- text %>  </div></div>');const De=Re;const Ue=class{constructor(t){this.$element=t,this.uuid=t.attr("id"),this.initDeleteButton()}initDeleteButton(){this.deleteBox=new De(this.$element,this.getDeleteUrl()),this.deleteBox.on("delete",(()=>this.delete())),this.$element.on("click",".js-comment-delete-button",(()=>(this.deleteBox.show(),!1)))}getDeleteUrl(){return`${(0,E.Z)("admin-origin")}/${(0,E.Z)("author")}/${(0,E.Z)("blog")}/comment/delete?comment=${encodeURIComponent(this.uuid.slice(8))}`}delete(){this.$element.fadeOut()}getElement(){return this.$element}};class He{constructor(t){(0,Ne.j)(t),this.$element=t,this.$commentBox=t.find(".js-comment-box"),this.$commentList=t.find(".js-comment-box .js-comment"),this.$showCommentInputButton=t.find(".js-leave-comment-title"),this.$readMoreBox=t.find(".js-read-more-comments"),this.$readMoreButton=t.find(".js-read-more-comments-button"),this.uuid=this.$element.attr("data-uuid"),this.comments=[],this.hasMoreComments=!1,this.summaryCommentCount=3,this.initArticleBar(),this.$commentBox.length&&(this.initComments(),this.initCommentInputBox()),this.initEditButton()}initArticleBar(){const t=document.querySelector(".js-entry-header"),e=document.querySelector(".js-article-bar");if(!t||!e)return;const n=t.getBoundingClientRect().top+window.pageYOffset;window.addEventListener("scroll",Me((()=>{n<window.pageYOffset?e.classList.add("is-visible"):e.classList.remove("is-visible")}),100))}initComments(){return this.uuid?(0,ze.P)(this.uuid,this.summaryCommentCount).then((t=>{t&&t.comments&&(this.comments=t.comments.map((t=>new Ue(k()(t)))),this.hasMoreComments=t.has_more,this.renderComments(this.comments),this.initCommentsExpansion())})):null}initCommentsExpansion(){this.hasMoreComments&&(this.$readMoreBox.show(),this.$readMoreButton.on("click",(()=>((0,ze.P)(this.uuid).then((t=>{t.comments&&(this.comments=t.comments.map((t=>new Ue(k()(t)))),this.$readMoreBox.hide(),this.$commentList.empty(),this.renderComments(this.comments))})),!1))))}initCommentInputBox(){this.$showCommentInputButton.on("click",(t=>{t.preventDefault(),this.renderCommentInputBox()}))}renderCommentInputBox(){y.Z.isHatenaBlogNativeApp?this._renderCommentInputIframe():this._renderCommentInputWindow()}_renderCommentInputWindow(){const t=this.getCommentInputUrl(),e=window.open("","comment"),n=O.Z.createForWindow(e,t);n.addEventListener("close",(()=>{n.destroy(),e.close()})),n.addEventListener("update",(t=>{this.addComment(new Ue(k()(t.comment))),this.renderComments(this.comments)}))}_renderCommentInputIframe(){const t=this.getCommentInputUrl();this.inputBox=new De(this.$commentBox,t),this.inputBox.on("update",(t=>{this.addComment(new Ue(k()(t.comment))),this.renderComments(this.comments)})),this.inputBox.show()}initEditButton(){const t=this.$element.find(".js-entry-edit-button-container"),e=t.find(".js-entry-edit-button");B.Z.infoLoaded.then((n=>{n.editable&&(t.show(),e.attr("href",this.getEditorUrl()))}))}getCommentInputUrl(){return`${(0,E.Z)("admin-origin")}/touch/${(0,E.Z)("author")}/${(0,E.Z)("blog")}/comment?${k().param({entry:this.uuid,token:le.Z.get("bk")})}`}getEditorUrl(){return`${(0,E.Z)("admin-domain")}/${(0,E.Z)("author")}/${(0,E.Z)("blog")}/edit?entry=${this.uuid}`}addComment(t){(0,E.Z)("blog-comments-top-is-new")?this.comments.unshift(t):this.comments.push(t)}renderComments(t){t.forEach((t=>{this.$commentList.append(t.getElement())})),(0,A.d)(this.$commentList)}}const We={init(){k()(".js-entry-article").toArray().forEach((t=>new He(k()(t))))}},Ge={__domain__:ce,entry:We,about:c},Qe={init(){k()(".manage-membership-button").click((function(t){const e=t.currentTarget,{circleManagePopupSelector:n}=e.dataset;if(!n)return;const o=k()(document.querySelector(n));var i,r,s;return i=`${k()("html").attr("data-admin-domain")}/-/group/${k()("html").attr("data-circle-id")}/membership`,r="manage-membership",s=o,P.pipe((t=>{var e;if(t){var n={width:300,height:400};n.left=Math.floor((screen.width-n.width)/2),n.top=Math.floor((screen.height-n.height)/2);var o=window.open("",r,(0,pt.Z)(n));(e=O.Z.createForWindow(o,i)).addEventListener("close",(()=>{e.destroy(),o.close()}))}else{var a=k()("<iframe frameborder=0>").appendTo(s);(e=O.Z.createForFrame(a[0],i)).addEventListener("close",(()=>{I.Z.hide(s)})),e.addEventListener("resize",(t=>{t&&a.css(t)})),I.Z.show(s,{destroy:function(){a.remove(),e.destroy()}})}return e})),!1}))}},Ye={init:function(){Qe.init()}};var Ve=n(9694);const Ke={init:function(){L.v.init(),(0,A.d)(k()(document)),document.body.classList.contains("page-is-responsive")&&(this.responsiveFooter=new Ve.Z),O.Z.addEventListener("visitorAttribute",(t=>{const e=t.visitorAttribute,n=t.daysSinceRegister;Z({visitorAttribute:e,daysSinceRegister:n}),Z({event:"gotVisitorAttribute"})})),B.Z.infoLoaded.then((t=>{P.resolve(!t.cookie_received),O.Z.send("visitorAttribute")}))}};function Je(){!function(){try{const t=new URL(window.location.href);if(!t.searchParams.has("created"))return;t.searchParams.delete("created"),history.replaceState(null,"",t.href)}catch(t){(0,m.qR)(t)}}(),B.Z.infoLoaded.then((t=>{t.is_admin?k()(".admin-control").addClass("admin-control-available"):k()(".admin-control").addClass("admin-control-unavailable"),t.is_member?k()(".circle-member-control").addClass("circle-member-control-available"):k()(".circle-member-control").addClass("circle-member-control-unavailable"),t.has_blogs?k()(".blog-user-control").addClass("blog-user-control-available"):k()(".blog-user-control").addClass("blog-user-control-unavailable"),!1===t.cookie_received&&k()("[data-user-unknown-overrides]").removeClass("admin-control-unavailable circle-member-control-unavailable blog-user-control-unavailable").addClass("admin-control-available circle-member-control-available blog-user-control-available")})),Qe.init()}const Xe={init:function(){k()(document).on("click",".js-read-old-entries",(function(){var t=k()(this);t.closest(".js-category-container").find(".js-old-entry").show(),t.remove()}))}};var tn=n(33671),en=n(51068),nn=n.n(en);const on=t=>{if(t.length>50)throw new Error("you can only specify up to 50 urls");if(0===t.length)return Promise.resolve({data:{},status:200});const e=new URL("https://bookmark.hatenaapis.com/count/entries");return t.forEach((t=>{e.searchParams.append("url",t)})),D.ZP.get(e.href,{adapter:nn()})},rn=async()=>{const t=document.querySelectorAll(".js-bookmark-count"),e=Array.from(t,(t=>t.getAttribute("data-entry-url")||"")),{data:n}=await on(e);t.forEach((t=>{const e=t.getAttribute("data-entry-url")||"",o=n[e];o&&(t.textContent=String(o))}))},sn=()=>{const t=j.Z.param("via");t&&(0,tn.d)(t);const e=window.location.search;!!new URLSearchParams(e).get("showBookmarkCounts")&&rn()};const an=function(t,e){var n=k()(t.children()[0]);if(0!==n.length){var o=k()(document),i=k()("#container"),r=function(){var r=t.offset(),s=o.scrollTop(),a=n.height(),c=i.offset().top,l=i.height();s+c<r.top?n.css({position:"static"}):!e||s<l-a?n.css({position:"fixed",top:c,left:r.left}):n.css({position:"absolute",top:c+l-a,left:r.left})};k()(window).scroll(r).resize((function(){var e=t.offset();n.css({left:e.left})})),r()}else(0,m.qR)(`ad element not found: ${t.html()}`,"followedAd")},cn=()=>{(()=>{const t=document.documentElement;t.style.scrollBehavior="smooth",t.style.scrollPaddingTop="60px"})(),(()=>{if(!("IntersectionObserver"in window))return;const t=document.querySelector("#js-company-navigation");if(!t)return;const e=document.querySelectorAll(".js-cannot-coexist-with-navigation"),n=new IntersectionObserver((e=>{const n=e.some((t=>t.isIntersecting));t.classList.toggle("off-screen",n)}));e.forEach((t=>{n.observe(t)}))})()},ln=()=>{const t=(()=>{const t=document.querySelector(".js-tab-pc"),e=document.querySelector(".js-tab-touch"),n=document.querySelector(".js-howto-step-list-pc"),o=document.querySelector(".js-howto-step-list-touch");return t&&e&&n&&o?i=>{i.target===t?(t.classList.add("is-active"),e.classList.remove("is-active"),n.classList.add("is-show"),o.classList.remove("is-show")):(t.classList.remove("is-active"),e.classList.add("is-active"),n.classList.remove("is-show"),o.classList.add("is-show"))}:()=>{}})();document.querySelectorAll(".js-tabbutton").forEach((e=>{e.addEventListener("click",t)}))},un=()=>{const t=window.location.search;!!new URLSearchParams(t).get("showBookmarkCounts")&&rn()},dn={Blogs:Jt,Global:{__domain__:Ke,"global-top":d,"mixed-topic":p,"famous-blogs-top":Xe,circle:u,"circle-blogs":Ye,"group-category":{init:function(){an(k()(".js-followed-ad-container"),!0)}},"recent-groups":{init:function(){an(k()(".js-followed-ad-container"),!0)}},"guide-pro-modal-ad":{init:function(){O.Z.listenToParent(),k()(".close-window").on("click",(t=>(O.Z.send("close",{name:window.name}),!1)))}},"guide-corporation":h,"guide-selling":f},BlogsTouch:Ge};var hn=n(41960),fn=(n(75116),n(39769)),pn=n(75225),mn=n(11229),gn=n(34157);window._=S.ZP,window.Messenger=O.Z,window.keyString=hn.a,window.Hatena=window.Hatena||{},n.p=`${(0,E.Z)("static-domain")}/js/`,window.Hatena.Diary=S.ZP.extend(window.Hatena.Diary||{},{AppAPI:fn.Z,GlobalHeader:pn.Z,GlobalHeaderPage:mn.Z}),B.Z.setControllers(dn),(0,gn.Z)()},84581:()=>{
/*!
	Colorbox 1.6.4
	license: MIT
	http://www.jacklmoore.com/colorbox
*/
!function(t,e,n){var o,i,r,s,a,c,l,u,d,h,f,p,m,g,v,y,w,b,x,k,S,E,$,_,T,C,L,A,j,B,O,I,q,P={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:void 0,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return t(this).attr("href")},title:function(){return this.title},createImg:function(){var e=new Image,n=t(this).data("cbox-img-attrs");return"object"==typeof n&&t.each(n,(function(t,n){e[t]=n})),e},createIframe:function(){var n=e.createElement("iframe"),o=t(this).data("cbox-iframe-attrs");return"object"==typeof o&&t.each(o,(function(t,e){n[t]=e})),"frameBorder"in n&&(n.frameBorder=0),"allowTransparency"in n&&(n.allowTransparency="true"),n.name=(new Date).getTime(),n.allowFullscreen=!0,n}},Z="colorbox",F="cbox",M=F+"Element",z=F+"_open",N=F+"_load",R=F+"_complete",D=F+"_cleanup",U=F+"_closed",H=F+"_purge",W=t("<a/>"),G="div",Q=0,Y={};function V(n,o,i){var r=e.createElement(n);return o&&(r.id=F+o),i&&(r.style.cssText=i),t(r)}function K(){return n.innerHeight?n.innerHeight:t(n).height()}function J(e,n){n!==Object(n)&&(n={}),this.cache={},this.el=e,this.value=function(e){var o;return void 0===this.cache[e]&&(void 0!==(o=t(this.el).attr("data-cbox-"+e))?this.cache[e]=o:void 0!==n[e]?this.cache[e]=n[e]:void 0!==P[e]&&(this.cache[e]=P[e])),this.cache[e]},this.get=function(e){var n=this.value(e);return t.isFunction(n)?n.call(this.el,this):n}}function X(t){var e=d.length,n=(C+t)%e;return n<0?e+n:n}function tt(t,e){return Math.round((/%/.test(t)?("x"===e?h.width():K())/100:1)*parseInt(t,10))}function et(t,e){return t.get("photo")||t.get("photoRegex").test(e)}function nt(t,e){return t.get("retinaUrl")&&n.devicePixelRatio>1?e.replace(t.get("photoRegex"),t.get("retinaSuffix")):e}function ot(t){"contains"in i[0]&&!i[0].contains(t.target)&&t.target!==o[0]&&(t.stopPropagation(),i.focus())}function it(t){it.str!==t&&(i.add(o).removeClass(it.str).addClass(t),it.str=t)}function rt(n){t(e).trigger(n),W.triggerHandler(n)}var st=function(){var t,e,n=F+"Slideshow_",o="click."+F;function r(){clearTimeout(e)}function s(){(S.get("loop")||d[C+1])&&(r(),e=setTimeout(I.next,S.get("slideshowSpeed")))}function a(){y.html(S.get("slideshowStop")).unbind(o).one(o,c),W.bind(R,s).bind(N,r),i.removeClass(n+"off").addClass(n+"on")}function c(){r(),W.unbind(R,s).unbind(N,r),y.html(S.get("slideshowStart")).unbind(o).one(o,(function(){I.next(),a()})),i.removeClass(n+"on").addClass(n+"off")}function l(){t=!1,y.hide(),r(),W.unbind(R,s).unbind(N,r),i.removeClass(n+"off "+n+"on")}return function(){t?S.get("slideshow")||(W.unbind(D,l),l()):S.get("slideshow")&&d[1]&&(t=!0,W.one(D,l),S.get("slideshowAuto")?a():c(),y.show())}}();function at(r){var h,v;if(!B){if(h=t(r).data(Z),S=new J(r,h),v=S.get("rel"),C=0,v&&!1!==v&&"nofollow"!==v?(d=t("."+M).filter((function(){return new J(this,t.data(this,Z)).get("rel")===v})),-1===(C=d.index(S.el))&&(d=d.add(S.el),C=d.length-1)):d=t(S.el),!A){A=j=!0,it(S.get("className")),i.css({visibility:"hidden",display:"block",opacity:""}),f=V(G,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),s.css({width:"",height:""}).append(f),E=a.height()+u.height()+s.outerHeight(!0)-s.height(),$=c.width()+l.width()+s.outerWidth(!0)-s.width(),_=f.outerHeight(!0),T=f.outerWidth(!0);var y=tt(S.get("initialWidth"),"x"),w=tt(S.get("initialHeight"),"y"),b=S.get("maxWidth"),q=S.get("maxHeight");S.w=Math.max((!1!==b?Math.min(y,tt(b,"x")):y)-T-$,0),S.h=Math.max((!1!==q?Math.min(w,tt(q,"y")):w)-_-E,0),f.css({width:"",height:S.h}),I.position(),rt(z),S.get("onOpen"),k.add(g).hide(),i.focus(),S.get("trapFocus")&&e.addEventListener&&(e.addEventListener("focus",ot,!0),W.one(U,(function(){e.removeEventListener("focus",ot,!0)}))),S.get("returnFocus")&&W.one(U,(function(){t(S.el).focus()}))}var P=parseFloat(S.get("opacity"));o.css({opacity:P==P?P:"",cursor:S.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),S.get("closeButton")?x.html(S.get("close")).appendTo(s):x.appendTo("<div/>"),function(){var e,o,i,r=I.prep,s=++Q;j=!0,L=!1,rt(H),rt(N),S.get("onLoad"),S.h=S.get("height")?tt(S.get("height"),"y")-_-E:S.get("innerHeight")&&tt(S.get("innerHeight"),"y"),S.w=S.get("width")?tt(S.get("width"),"x")-T-$:S.get("innerWidth")&&tt(S.get("innerWidth"),"x"),S.mw=S.w,S.mh=S.h,S.get("maxWidth")&&(S.mw=tt(S.get("maxWidth"),"x")-T-$,S.mw=S.w&&S.w<S.mw?S.w:S.mw);S.get("maxHeight")&&(S.mh=tt(S.get("maxHeight"),"y")-_-E,S.mh=S.h&&S.h<S.mh?S.h:S.mh);if(e=S.get("href"),O=setTimeout((function(){m.show()}),100),S.get("inline")){var a=t(e).eq(0);i=t("<div>").hide().insertBefore(a),W.one(H,(function(){i.replaceWith(a)})),r(a)}else S.get("iframe")?r(" "):S.get("html")?r(S.get("html")):et(S,e)?(e=nt(S,e),L=S.get("createImg"),t(L).addClass(F+"Photo").bind("error."+F,(function(){r(V(G,"Error").html(S.get("imgError")))})).one("load",(function(){s===Q&&setTimeout((function(){var e;S.get("retinaImage")&&n.devicePixelRatio>1&&(L.height=L.height/n.devicePixelRatio,L.width=L.width/n.devicePixelRatio),S.get("scalePhotos")&&(o=function(){L.height-=L.height*e,L.width-=L.width*e},S.mw&&L.width>S.mw&&(e=(L.width-S.mw)/L.width,o()),S.mh&&L.height>S.mh&&(e=(L.height-S.mh)/L.height,o())),S.h&&(L.style.marginTop=Math.max(S.mh-L.height,0)/2+"px"),d[1]&&(S.get("loop")||d[C+1])&&(L.style.cursor="pointer",t(L).bind("click."+F,(function(){I.next()}))),L.style.width=L.width+"px",L.style.height=L.height+"px",r(L)}),1)})),L.src=e):e&&p.load(e,S.get("data"),(function(e,n){s===Q&&r("error"===n?V(G,"Error").html(S.get("xhrError")):t(this).contents())}))}()}}function ct(){i||(q=!1,h=t(n),i=V(G).attr({id:Z,class:!1===t.support.opacity?F+"IE":"",role:"dialog",tabindex:"-1"}).hide(),o=V(G,"Overlay").hide(),m=t([V(G,"LoadingOverlay")[0],V(G,"LoadingGraphic")[0]]),r=V(G,"Wrapper"),s=V(G,"Content").append(g=V(G,"Title"),v=V(G,"Current"),b=t('<button type="button"/>').attr({id:F+"Previous"}),w=t('<button type="button"/>').attr({id:F+"Next"}),y=t('<button type="button"/>').attr({id:F+"Slideshow"}),m),x=t('<button type="button"/>').attr({id:F+"Close"}),r.append(V(G).append(V(G,"TopLeft"),a=V(G,"TopCenter"),V(G,"TopRight")),V(G,!1,"clear:left").append(c=V(G,"MiddleLeft"),s,l=V(G,"MiddleRight")),V(G,!1,"clear:left").append(V(G,"BottomLeft"),u=V(G,"BottomCenter"),V(G,"BottomRight"))).find("div div").css({float:"left"}),p=V(G,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),k=w.add(b).add(v).add(y)),e.body&&!i.parent().length&&t(e.body).append(o,i.append(r,p))}function lt(){function n(t){t.which>1||t.shiftKey||t.altKey||t.metaKey||t.ctrlKey||(t.preventDefault(),at(this))}return!!i&&(q||(q=!0,w.click((function(){I.next()})),b.click((function(){I.prev()})),x.click((function(){I.close()})),o.click((function(){S.get("overlayClose")&&I.close()})),t(e).bind("keydown."+F,(function(t){var e=t.keyCode;A&&S.get("escKey")&&27===e&&(t.preventDefault(),I.close()),A&&S.get("arrowKey")&&d[1]&&!t.altKey&&(37===e?(t.preventDefault(),b.click()):39===e&&(t.preventDefault(),w.click()))})),t.isFunction(t.fn.on)?t(e).on("click."+F,"."+M,n):t("."+M).live("click."+F,n)),!0)}t[Z]||(t(ct),(I=t.fn[Z]=t[Z]=function(e,n){var o=this;return e=e||{},t.isFunction(o)&&(o=t("<a/>"),e.open=!0),o[0]?(ct(),lt()&&(n&&(e.onComplete=n),o.each((function(){var n=t.data(this,Z)||{};t.data(this,Z,t.extend(n,e))})).addClass(M),new J(o[0],e).get("open")&&at(o[0])),o):o}).position=function(e,n){var o,d,f,p=0,m=0,g=i.offset();function v(){a[0].style.width=u[0].style.width=s[0].style.width=parseInt(i[0].style.width,10)-$+"px",s[0].style.height=c[0].style.height=l[0].style.height=parseInt(i[0].style.height,10)-E+"px"}if(h.unbind("resize."+F),i.css({top:-9e4,left:-9e4}),d=h.scrollTop(),f=h.scrollLeft(),S.get("fixed")?(g.top-=d,g.left-=f,i.css({position:"fixed"})):(p=d,m=f,i.css({position:"absolute"})),!1!==S.get("right")?m+=Math.max(h.width()-S.w-T-$-tt(S.get("right"),"x"),0):!1!==S.get("left")?m+=tt(S.get("left"),"x"):m+=Math.round(Math.max(h.width()-S.w-T-$,0)/2),!1!==S.get("bottom")?p+=Math.max(K()-S.h-_-E-tt(S.get("bottom"),"y"),0):!1!==S.get("top")?p+=tt(S.get("top"),"y"):p+=Math.round(Math.max(K()-S.h-_-E,0)/2),i.css({top:g.top,left:g.left,visibility:"visible"}),r[0].style.width=r[0].style.height="9999px",o={width:S.w+T+$,height:S.h+_+E,top:p,left:m},e){var y=0;t.each(o,(function(t){o[t]===Y[t]||(y=e)})),e=y}Y=o,e||i.css(o),i.dequeue().animate(o,{duration:e||0,complete:function(){v(),j=!1,r[0].style.width=S.w+T+$+"px",r[0].style.height=S.h+_+E+"px",S.get("reposition")&&setTimeout((function(){h.bind("resize."+F,I.position)}),1),t.isFunction(n)&&n()},step:v})},I.resize=function(t){var e;A&&((t=t||{}).width&&(S.w=tt(t.width,"x")-T-$),t.innerWidth&&(S.w=tt(t.innerWidth,"x")),f.css({width:S.w}),t.height&&(S.h=tt(t.height,"y")-_-E),t.innerHeight&&(S.h=tt(t.innerHeight,"y")),t.innerHeight||t.height||(e=f.scrollTop(),f.css({height:"auto"}),S.h=f.height()),f.css({height:S.h}),e&&f.scrollTop(e),I.position("none"===S.get("transition")?0:S.get("speed")))},I.prep=function(n){if(A){var o,r="none"===S.get("transition")?0:S.get("speed");f.remove(),(f=V(G,"LoadedContent").append(n)).hide().appendTo(p.show()).css({width:(S.w=S.w||f.width(),S.w=S.mw&&S.mw<S.w?S.mw:S.w,S.w),overflow:S.get("scrolling")?"auto":"hidden"}).css({height:(S.h=S.h||f.height(),S.h=S.mh&&S.mh<S.h?S.mh:S.h,S.h)}).prependTo(s),p.hide(),t(L).css({float:"none"}),it(S.get("className")),o=function(){var n,o,s=d.length;function a(){!1===t.support.opacity&&i[0].style.removeAttribute("filter")}A&&(o=function(){clearTimeout(O),m.hide(),rt(R),S.get("onComplete")},g.html(S.get("title")).show(),f.show(),s>1?("string"==typeof S.get("current")&&v.html(S.get("current").replace("{current}",C+1).replace("{total}",s)).show(),w[S.get("loop")||C<s-1?"show":"hide"]().html(S.get("next")),b[S.get("loop")||C?"show":"hide"]().html(S.get("previous")),st(),S.get("preloading")&&t.each([X(-1),X(1)],(function(){var n=d[this],o=new J(n,t.data(n,Z)),i=o.get("href");i&&et(o,i)&&(i=nt(o,i),e.createElement("img").src=i)}))):k.hide(),S.get("iframe")?(n=S.get("createIframe"),S.get("scrolling")||(n.scrolling="no"),t(n).attr({src:S.get("href"),class:F+"Iframe"}).one("load",o).appendTo(f),W.one(H,(function(){n.src="//about:blank"})),S.get("fastIframe")&&t(n).trigger("load")):o(),"fade"===S.get("transition")?i.fadeTo(r,1,a):a())},"fade"===S.get("transition")?i.fadeTo(r,0,(function(){I.position(0,o)})):I.position(r,o)}},I.next=function(){!j&&d[1]&&(S.get("loop")||d[C+1])&&(C=X(1),at(d[C]))},I.prev=function(){!j&&d[1]&&(S.get("loop")||C)&&(C=X(-1),at(d[C]))},I.close=function(){A&&!B&&(B=!0,A=!1,rt(D),S.get("onCleanup"),h.unbind("."+F),o.fadeTo(S.get("fadeOut")||0,0),i.stop().fadeTo(S.get("fadeOut")||0,0,(function(){i.hide(),o.hide(),rt(H),f.remove(),setTimeout((function(){B=!1,rt(U),S.get("onClosed")}),1)})))},I.remove=function(){i&&(i.stop(),t[Z].close(),i.stop(!1,!0).remove(),o.remove(),B=!1,i=null,t("."+M).removeData(Z).removeClass(M),t(e).unbind("click."+F).unbind("keydown."+F))},I.element=function(){return t(S.el)},I.settings=P)}(jQuery,document,window)},52390:(t,e,n)=>{var o,i,r;
/*
 * jQuery Highlight plugin
 *
 * Based on highlight v3 by Johann Burkard
 * http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html
 *
 * Code a little bit refactored and cleaned (in my humble opinion).
 * Most important changes:
 *  - has an option to highlight only entire words (wordsOnly - false by default),
 *  - has an option to be case sensitive (caseSensitive - false by default)
 *  - highlight element tag and class names can be specified in options
 *
 * Usage:
 *   // wrap every occurrence of text 'lorem' in content
 *   // with <span class='highlight'> (default options)
 *   $('#content').highlight('lorem');
 *
 *   // search for and highlight more terms at once
 *   // so you can save some time on traversing DOM
 *   $('#content').highlight(['lorem', 'ipsum']);
 *   $('#content').highlight('lorem ipsum');
 *
 *   // search only for entire word 'lorem'
 *   $('#content').highlight('lorem', { wordsOnly: true });
 *
 *   // search only for the entire word 'C#'
 *   // and make sure that the word boundary can also
 *   // be a 'non-word' character, as well as a regex latin1 only boundary:
 *   $('#content').highlight('C#', { wordsOnly: true , wordsBoundary: '[\\b\\W]' });
 *
 *   // don't ignore case during search of term 'lorem'
 *   $('#content').highlight('lorem', { caseSensitive: true });
 *
 *   // wrap every occurrence of term 'ipsum' in content
 *   // with <em class='important'>
 *   $('#content').highlight('ipsum', { element: 'em', className: 'important' });
 *
 *   // remove default highlight
 *   $('#content').unhighlight();
 *
 *   // remove custom highlight
 *   $('#content').unhighlight({ element: 'em', className: 'important' });
 *
 *
 * Copyright (c) 2009 Bartek Szopka
 *
 * Licensed under MIT license.
 *
 */i=[n(65311)],void 0===(r="function"==typeof(o=function(t){t.extend({highlight:function(e,n,o,i,r,s){if(3===e.nodeType){var a=(s?t.removeDiacritcs(e.data):e.data).match(n);if(a){var c=document.createElement(o||"span");c.className=i||"highlight";var l=e.data.indexOf(a[1],a.index),u=e.splitText(l);u.splitText(a[1].length);var d=u.cloneNode(!0);return c.appendChild(d),u.parentNode.replaceChild(c,u),"function"==typeof r&&r(c),1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&(e.tagName!==o.toUpperCase()||e.className!==i))for(var h=0;h<e.childNodes.length;h++)h+=t.highlight(e.childNodes[h],n,o,i,r,s);return 0},removeDiacritcs:function(t){return t.replace(/[\u00c0-\u00c6]/g,"A").replace(/[\u00e0-\u00e6]/g,"a").replace(/[\u00c7]/g,"C").replace(/[\u00e7]/g,"c").replace(/[\u00c8-\u00cb]/g,"E").replace(/[\u00e8-\u00eb]/g,"e").replace(/[\u00cc-\u00cf]/g,"I").replace(/[\u00ec-\u00ef]/g,"i").replace(/[\u00d1|\u0147]/g,"N").replace(/[\u00f1|\u0148]/g,"n").replace(/[\u00d2-\u00d8|\u0150]/g,"O").replace(/[\u00f2-\u00f8|\u0151]/g,"o").replace(/[\u0160]/g,"S").replace(/[\u0161]/g,"s").replace(/[\u00d9-\u00dc]/g,"U").replace(/[\u00f9-\u00fc]/g,"u").replace(/[\u00dd]/g,"Y").replace(/[\u00fd]/g,"y")}}),t.fn.unhighlight=function(e){var n={className:"highlight",element:"span"};return t.extend(n,e),this.find(n.element+"."+n.className).each((function(){var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()})).end()},t.fn.highlight=function(e,n,o){var i={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1,wordsBoundary:"\\b",ignoreDiacritics:!1};if(t.extend(i,n),"string"==typeof e&&(e=[e]),e=t.grep(e,(function(t){return""!=t})),0===(e=t.map(e,(function(e){return i.ignoreDiacritics&&(e=t.removeDiacritcs(e)),e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}))).length)return this;var r=i.caseSensitive?"":"i",s="("+e.join("|")+")";i.wordsOnly&&(s=(i.wordsBoundaryStart||i.wordsBoundary)+s+(i.wordsBoundaryEnd||i.wordsBoundary));var a=new RegExp(s,r);return this.each((function(){t.highlight(this,a,i.element,i.className,o,i.ignoreDiacritics)}))}})?o.apply(e,i):o)||(t.exports=r)},67294:(t,e,n)=>{"use strict";t.exports=n(72408)},39305:t=>{"use strict";t.exports=__hatena_locale_texts__},65311:t=>{"use strict";t.exports=jQuery},93399:(t,e,n)=>{var o=n(78833).default;function i(){"use strict";
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t.exports=i=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,r=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function d(t,e,n,o){var i=e&&e.prototype instanceof p?e:p,r=Object.create(i.prototype),s=new _(o||[]);return r._invoke=function(t,e,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return C()}for(n.method=i,n.arg=r;;){var s=n.delegate;if(s){var a=S(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=h(t,e,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}(t,n,s),r}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=d;var f={};function p(){}function m(){}function g(){}var v={};u(v,a,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(T([])));w&&w!==n&&r.call(w,a)&&(v=w);var b=g.prototype=p.prototype=Object.create(v);function x(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(i,s,a,c){var l=h(t[i],t,s);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==o(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,a,c)}),(function(t){n("throw",t,a,c)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,c)}))}c(l.arg)}var i;this._invoke=function(t,o){function r(){return new e((function(e,i){n(t,o,e,i)}))}return i=i?i.then(r,r):r()}}function S(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var o=h(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,f;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function $(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return m.prototype=g,u(b,"constructor",g),u(g,"constructor",m),m.displayName=u(g,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,l,"GeneratorFunction")),t.prototype=Object.create(b),t},e.awrap=function(t){return{__await:t}},x(k.prototype),u(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var s=new k(d(t,n,o,i),r);return e.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},x(b),u(b,l,"Generator"),u(b,a,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var o=e.pop();if(o in t)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=T,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach($),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,o){return s.type="throw",s.arg=t,e.next=n,o&&(e.method="next",e.arg=void 0),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var a=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),$(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;$(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},78833:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},5478:(t,e,n)=>{var o=n(93399)();t.exports=o;try{regeneratorRuntime=o}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}},93696:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});const o="%[a-f0-9]{2}",i=new RegExp("("+o+")|([^%]+?)","gi"),r=new RegExp("("+o+")+","gi");function s(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(1===t.length)return t;e=e||1;const n=t.slice(0,e),o=t.slice(e);return Array.prototype.concat.call([],s(n),s(o))}function a(t){try{return decodeURIComponent(t)}catch{let e=t.match(i)||[];for(let n=1;n<e.length;n++)e=(t=s(e,n).join("")).match(i)||[];return t}}function c(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return function(t){const e={"%FE%FF":"ï¿½ï¿½","%FF%FE":"ï¿½ï¿½"};let n=r.exec(t);for(;n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{const t=a(n[0]);t!==n[0]&&(e[n[0]]=t)}n=r.exec(t)}e["%C2"]="ï¿½";const o=Object.keys(e);for(const n of o)t=t.replace(new RegExp(n,"g"),e[n]);return t}(t)}}},41032:(t,e,n)=>{"use strict";n.r(e),n.d(e,{exclude:()=>x,extract:()=>m,parse:()=>g,parseUrl:()=>y,pick:()=>b,stringify:()=>v,stringifyUrl:()=>w});var o=n(93696),i=n(33920),r=n(85252);const s=t=>null==t,a=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)),c=Symbol("encodeFragmentIdentifier");function l(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?a(t):encodeURIComponent(t):t}function d(t,e){return e.decode?(0,o.Z)(t):t}function h(t){return Array.isArray(t)?t.sort():"object"==typeof t?h(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function f(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function m(t){const e=(t=f(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function g(t,e){l((e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e}).arrayFormatSeparator);const n=function(t){let e;switch(t.arrayFormat){case"index":return(t,n,o)=>{e=/\[(\d*)]$/.exec(t),t=t.replace(/\[\d*]$/,""),e?(void 0===o[t]&&(o[t]={}),o[t][e[1]]=n):o[t]=n};case"bracket":return(t,n,o)=>{e=/(\[])$/.exec(t),t=t.replace(/\[]$/,""),e?void 0!==o[t]?o[t]=[...o[t],n]:o[t]=[n]:o[t]=n};case"colon-list-separator":return(t,n,o)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==o[t]?o[t]=[...o[t],n]:o[t]=[n]:o[t]=n};case"comma":case"separator":return(e,n,o)=>{const i="string"==typeof n&&n.includes(t.arrayFormatSeparator),r="string"==typeof n&&!i&&d(n,t).includes(t.arrayFormatSeparator);n=r?d(n,t):n;const s=i||r?n.split(t.arrayFormatSeparator).map((e=>d(e,t))):null===n?n:d(n,t);o[e]=s};case"bracket-separator":return(e,n,o)=>{const i=/(\[])$/.test(e);if(e=e.replace(/\[]$/,""),!i)return void(o[e]=n?d(n,t):n);const r=null===n?[]:n.split(t.arrayFormatSeparator).map((e=>d(e,t)));void 0!==o[e]?o[e]=[...o[e],...r]:o[e]=r};default:return(t,e,n)=>{void 0!==n[t]?n[t]=[...[n[t]].flat(),e]:n[t]=e}}}(e),o=Object.create(null);if("string"!=typeof t)return o;if(!(t=t.trim().replace(/^[?#&]/,"")))return o;for(const r of t.split("&")){if(""===r)continue;const t=e.decode?r.replace(/\+/g," "):r;let[s,a]=(0,i.Z)(t,"=");void 0===s&&(s=t),a=void 0===a?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:d(a,e),n(d(s,e),a,o)}for(const[t,n]of Object.entries(o))if("object"==typeof n&&null!==n)for(const[t,o]of Object.entries(n))n[t]=p(o,e);else o[t]=p(n,e);return!1===e.sort?o:(!0===e.sort?Object.keys(o).sort():Object.keys(o).sort(e.sort)).reduce(((t,e)=>{const n=o[e];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?t[e]=h(n):t[e]=n,t}),Object.create(null))}function v(t,e){if(!t)return"";l((e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e}).arrayFormatSeparator);const n=n=>e.skipNull&&s(t[n])||e.skipEmptyString&&""===t[n],o=function(t){switch(t.arrayFormat){case"index":return e=>(n,o)=>{const i=n.length;return void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?n:null===o?[...n,[u(e,t),"[",i,"]"].join("")]:[...n,[u(e,t),"[",u(i,t),"]=",u(o,t)].join("")]};case"bracket":return e=>(n,o)=>void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?n:null===o?[...n,[u(e,t),"[]"].join("")]:[...n,[u(e,t),"[]=",u(o,t)].join("")];case"colon-list-separator":return e=>(n,o)=>void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?n:null===o?[...n,[u(e,t),":list="].join("")]:[...n,[u(e,t),":list=",u(o,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return n=>(o,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?o:(i=null===i?"":i,0===o.length?[[u(n,t),e,u(i,t)].join("")]:[[o,u(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,o)=>void 0===o||t.skipNull&&null===o||t.skipEmptyString&&""===o?n:null===o?[...n,u(e,t)]:[...n,[u(e,t),"=",u(o,t)].join("")]}}(e),i={};for(const[e,o]of Object.entries(t))n(e)||(i[e]=o);const r=Object.keys(i);return!1!==e.sort&&r.sort(e.sort),r.map((n=>{const i=t[n];return void 0===i?"":null===i?u(n,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?u(n,e)+"[]":i.reduce(o(n),[]).join("&"):u(n,e)+"="+u(i,e)})).filter((t=>t.length>0)).join("&")}function y(t,e){e={decode:!0,...e};let[n,o]=(0,i.Z)(t,"#");return void 0===n&&(n=t),{url:n?.split("?")?.[0]??"",query:g(m(t),e),...e&&e.parseFragmentIdentifier&&o?{fragmentIdentifier:d(o,e)}:{}}}function w(t,e){e={encode:!0,strict:!0,[c]:!0,...e};const n=f(t.url).split("?")[0]||"";let o=v({...g(m(t.url),{sort:!1}),...t.query},e);o&&(o=`?${o}`);let i=function(t){let e="";const n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);if(t.fragmentIdentifier){const o=new URL(n);o.hash=t.fragmentIdentifier,i=e[c]?o.hash:`#${t.fragmentIdentifier}`}return`${n}${o}${i}`}function b(t,e,n){n={parseFragmentIdentifier:!0,[c]:!1,...n};const{url:o,query:i,fragmentIdentifier:s}=y(t,n);return w({url:o,query:(0,r.T)(i,e),fragmentIdentifier:s},n)}function x(t,e,n){return b(t,Array.isArray(e)?t=>!e.includes(t):(t,n)=>!e(t,n),n)}},77446:(t,e,n)=>{"use strict";n.d(e,{AG:()=>p,As:()=>S,IM:()=>x,IX:()=>h,Qc:()=>k,Rx:()=>m,Ry:()=>g,Z_:()=>y,jb:()=>f,jt:()=>v});var o=class extends Error{issues;constructor(t){super(t[0].message),this.name="ValiError",this.issues=t}};Symbol("brand");function i(t){return{issues:t}}function r(t){return{output:t}}function s(t,e){return{reason:t?.reason,validation:e.validation,origin:t?.origin||"value",message:e.message,input:e.input,path:e.path,abortEarly:t?.abortEarly,abortPipeEarly:t?.abortPipeEarly,skipPipe:t?.skipPipe}}function a(t,e){return{reason:e,origin:t?.origin,abortEarly:t?.abortEarly,abortPipeEarly:t?.abortPipeEarly,skipPipe:t?.skipPipe}}function c(t,e,n,o){if(!e||!e.length||n?.skipPipe)return r(t);let c,l,u=t;for(const t of e){const e=t(u);if(e.issues){c=c||a(n,o);for(const t of e.issues){const e=s(c,t);l?l.push(e):l=[e]}if(c.abortEarly||c.abortPipeEarly)break}else u=e.output}return l?i(l):r(u)}function l(t,e){return Array.isArray(t)?[void 0,t]:[t,e]}function u(t){return"function"==typeof t?t():t}function d(t,e,n,o,i,r){return{issues:[{reason:e,validation:n,origin:t?.origin||"value",message:u(o),input:i,issues:r,abortEarly:t?.abortEarly,abortPipeEarly:t?.abortPipeEarly,skipPipe:t?.skipPipe}]}}function h(t,e,n){const[o,r]=l(e,n);return{schema:"array",array:{item:t},async:!1,_parse(e,n){if(!Array.isArray(e))return d(n,"type","array",o||"Invalid type",e);let s;const a=[];for(let o=0;o<e.length;o++){const i=e[o],r=t._parse(i,n);if(r.issues){const t={schema:"array",input:e,key:o,value:i};for(const e of r.issues)e.path?e.path.unshift(t):e.path=[t],s?.push(e);if(s||(s=r.issues),n?.abortEarly)break}else a.push(r.output)}return s?i(s):c(a,r,n,"array")}}}function f(t,e){return{schema:"native_enum",nativeEnum:t,async:!1,_parse:(n,o)=>Object.values(t).includes(n)?r(n):d(o,"type","native_enum",e||"Invalid type",n)}}function p(t,e){return{schema:"nullable",wrapped:t,get default(){return"function"==typeof e?e():e},async:!1,_parse(e,n){let o;const i=null===e&&(o=this.default)&&void 0!==o?o:e;return null===i?r(i):t._parse(i,n)}}}function m(t,e){const[n,o]=l(t,e);return{schema:"number",async:!1,_parse:(t,e)=>"number"!=typeof t||Number.isNaN(t)?d(e,"type","number",n||"Invalid type",t):c(t,o,e,"number")}}function g(t,e,n){const[o,r]=l(e,n);let s;return{schema:"object",object:t,async:!1,_parse(e,n){if(!e||"object"!=typeof e)return d(n,"type","object",o||"Invalid type",e);let a;s=s||Object.entries(t);const l={};for(const[t,o]of s){const i=e[t],r=o._parse(i,n);if(r.issues){const o={schema:"object",input:e,key:t,value:i};for(const t of r.issues)t.path?t.path.unshift(o):t.path=[o],a?.push(t);if(a||(a=r.issues),n?.abortEarly)break}else l[t]=r.output}return a?i(a):c(l,r,n,"object")}}}function v(t,e){return{schema:"optional",wrapped:t,get default(){return"function"==typeof e?e():e},async:!1,_parse(e,n){const o=void 0===e?this.default:e;return void 0===o?r(o):t._parse(o,n)}}}function y(t,e){const[n,o]=l(t,e);return{schema:"string",async:!1,_parse:(t,e)=>"string"!=typeof t?d(e,"type","string",n||"Invalid type",t):c(t,o,e,"string")}}function w(t,e,n,o){if("object"==typeof e&&!Array.isArray(e)){const[i,r]=l(n,o);return[t,e,i,r]}const[i,r]=l(e,n);return[y(),t,i,r]}var b=["__proto__","prototype","constructor"];function x(t,e,n,o){const[r,s,a,l]=w(t,e,n,o);return{schema:"record",record:{key:r,value:s},async:!1,_parse(t,e){if(!t||"object"!=typeof t)return d(e,"type","record",a||"Invalid type",t);let n;const o={};for(const[i,a]of Object.entries(t))if(!b.includes(i)){let c;const l=r._parse(i,{origin:"key",abortEarly:e?.abortEarly,abortPipeEarly:e?.abortPipeEarly,skipPipe:e?.skipPipe});if(l.issues){c={schema:"record",input:t,key:i,value:a};for(const t of l.issues)t.path=[c],n?.push(t);if(n||(n=l.issues),e?.abortEarly)break}const u=s._parse(a,e);if(u.issues){c=c||{schema:"record",input:t,key:i,value:a};for(const t of u.issues)t.path?t.path.unshift(c):t.path=[c],n?.push(t);if(n||(n=u.issues),e?.abortEarly)break}l.issues||u.issues||(o[l.output]=u.output)}return n?i(n):c(o,l,e,"record")}}}function k(t,e,n){const i=t._parse(e,n);if(i.issues)throw new o(i.issues);return i.output}function S(t,e,n){const i=t._parse(e,n);return i.issues?{success:!1,error:new o(i.issues),issues:i.issues}:{success:!0,data:i.output,output:i.output}}}},n={};function o(t){var i=n[t];if(void 0!==i)return i.exports;var r=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.loaded=!0,r.exports}o.m=e,t=[],o.O=(e,n,i,r)=>{if(!n){var s=1/0;for(u=0;u<t.length;u++){for(var[n,i,r]=t[u],a=!0,c=0;c<n.length;c++)(!1&r||s>=r)&&Object.keys(o.O).every((t=>o.O[t](n[c])))?n.splice(c--,1):(a=!1,r<s&&(s=r));if(a){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}r=r||0;for(var u=t.length;u>0&&t[u-1][2]>r;u--)t[u]=t[u-1];t[u]=[n,i,r]},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),o.hmd=t=>((t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t),o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),o.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t;o.g.importScripts&&(t=o.g.location+"");var e=o.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&!t;)t=n[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=t})(),(()=>{var t={hatenablog:0};o.O.j=e=>0===t[e];var e=(e,n)=>{var i,r,[s,a,c]=n,l=0;if(s.some((e=>0!==t[e]))){for(i in a)o.o(a,i)&&(o.m[i]=a[i]);if(c)var u=c(o)}for(e&&e(n);l<s.length;l++)r=s[l],o.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return o.O(u)},n=globalThis.webpackChunkHatena_Epic=globalThis.webpackChunkHatena_Epic||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var i=o.O(void 0,["vendors","commons"],(()=>o(74926)));i=o.O(i)})();