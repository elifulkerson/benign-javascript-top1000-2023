"use strict";(self.webpackChunk_multimediallc_cb_react=self.webpackChunk_multimediallc_cb_react||[]).push([[911],{72773:function(e,t,r){r.d(t,{q5:function(){return Y},ZP:function(){return re}});var n=r(27791),o=r(65809),i=r(50824),c=r.n(i),a=r(27378),s=r(1892),l=r.n(s),u=r(95760),d=r.n(u),p=r(38311),f=r.n(p),m=r(58192),h=r.n(m),g=r(38060),x=r.n(g),b=r(54865),v=r.n(b),y=r(17349),w={};w.styleTagTransform=v(),w.setAttributes=h(),w.insert=f().bind(null,"head"),w.domAPI=d(),w.insertStyleElement=x(),l()(y.Z,w),y.Z&&y.Z.locals&&y.Z.locals;var _=r(18026),k=r(18203),j=r(82609),O=r(86839),C=r(59322),P=r(56664),Z=r(28088),S=r(89998),N=r(48559),T={};T.styleTagTransform=v(),T.setAttributes=h(),T.insert=f().bind(null,"head"),T.domAPI=d(),T.insertStyleElement=x(),l()(N.Z,T),N.Z&&N.Z.locals&&N.Z.locals;var A=r(24246),E=function(e){var t=e.fallbackUrl,r={purchaseError:(0,Z.ih)("Purchase error"),errorProcessing:(0,Z.ih)("There was an error while processing your payment"),redirecting:(0,Z.sX)((0,Z.ih)("Go to the <a href='%(fallbackUrl)s' target='_blank'>purchase page</a> for more info."),{fallbackUrl:t},!0)};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(S.Z,{className:"one-click-flow__scene-title",size:"xlpx",weight:"bold",color:"defaultTooltipColor",children:r.purchaseError}),(0,A.jsxs)("div",{className:"one-click-flow__error-page",children:[(0,A.jsx)(S.Z,{className:"md-error-text",size:"mdpx",children:r.errorProcessing}),(0,A.jsx)(S.Z,{className:"sm-error-text",style:{marginTop:"15px"},size:"smpx",dangerouslySetInnerHTML:{__html:r.redirecting}})]})]})},z=r(32058),D=r(55908),R={};R.styleTagTransform=v(),R.setAttributes=h(),R.insert=f().bind(null,"head"),R.domAPI=d(),R.insertStyleElement=x(),l()(D.Z,R),D.Z&&D.Z.locals&&D.Z.locals;var I={purchaseTokens:(0,Z.ih)("Purchase Tokens"),tokenAmount:(0,Z.ih)("Token Amount"),payWith:(0,Z.ih)("Pay with"),changeText:(0,Z.ih)("Change"),total:(0,Z.ih)("Total"),leavePrivateShowWarningText:(0,Z.ih)("To avoid ending the private show, a new tab will open. Click OK to continue.")},B=function(e){var t=e.setPage,r=e.product,n=e.payMethod,o=e.url,i=e.roomType,c=(e.source,e.handleCvvChange),a=e.closeModal,s=(0,k.V)(),l=null==n?void 0:n.method,u=null==n?void 0:n.payload,d=u.card_type,p=u.last4;return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(S.Z,{className:"one-click-flow__scene-title",size:"md",weight:"bold",color:"defaultTooltipColor",children:I.purchaseTokens}),(0,A.jsxs)("div",{className:"one-click-flow__pay-info",children:[(0,A.jsxs)("div",{className:"one-click-flow__pay-info__row",children:[(0,A.jsxs)("div",{children:[I.tokenAmount,":"]}),(0,A.jsx)("a",{className:"one-click-flow__link",onClick:function(e){e.preventDefault(),e.stopPropagation(),t(Y.PRODUCTS)},children:"".concat(r.tokens," tokens ").concat(null!=r&&r.percent_bonus_tokens?"(".concat(null==r?void 0:r.percent_bonus_tokens,"% Bonus)"):"")})]}),(0,A.jsxs)("div",{className:"one-click-flow__pay-info__row",children:[(0,A.jsx)("div",{children:"Pay With:"}),(0,A.jsx)("div",{className:"one-click-flow__pay-info__text",children:l===ee.SAVED_CARD?"".concat(d," *").concat(p):"*Epoch Information on File*"}),(0,A.jsx)("a",{onClick:function(){"private"!==i?(window.open(o,"_blank"),a()):s({type:z.N.confirm,title:"",contents:I.leavePrivateShowWarningText,yesCallback:function(){window.open(o,"_blank"),a()}})},target:"_blank",rel:"noreferrer",children:"(".concat(I.changeText,")")}),c&&(0,A.jsx)("input",{onChange:function(e){return c(e.target.value)},onKeyPress:function(e){/[0-9]/.test(e.key)||e.preventDefault()},placeholder:"CVV2",className:"cvv-input",type:"tel",inputMode:"numeric",maxLength:4})]}),(0,A.jsxs)("div",{className:"one-click-flow__pay-info__row",children:[(0,A.jsxs)("div",{children:[I.total,":"]}),(0,A.jsx)("div",{className:"one-click-flow__pay-info__text",children:"$".concat(r.cost)})]})]})]})},U=r(15838),F=r(97818),M=r(90159),L={};L.styleTagTransform=v(),L.setAttributes=h(),L.insert=f().bind(null,"head"),L.domAPI=d(),L.insertStyleElement=x(),l()(M.Z,L),M.Z&&M.Z.locals&&M.Z.locals;var q=r(89878),H={};H.styleTagTransform=v(),H.setAttributes=h(),H.insert=f().bind(null,"head"),H.domAPI=d(),H.insertStyleElement=x(),l()(q.Z,H),q.Z&&q.Z.locals&&q.Z.locals;var K=function(e){var t=e.isSelected,r=e.onSelect,n=e.product,o=n.product_id,i=n.percent_bonus_tokens,c=void 0===i?null:i,a=n.cost,s=n.tokens,l="".concat(s," tokens for $").concat(a," ").concat(c?"(".concat(c,"% Bonus)"):"");return(0,A.jsxs)("div",{className:"one-click-flow__product",children:[(0,A.jsx)("div",{className:"one-click-flow__product__status",children:t?(0,A.jsx)("span",{children:"✓"}):""}),(0,A.jsx)(U.ZP,{color:F.rp.Clear,size:F.qE.Medium,onClick:function(e){e.stopPropagation(),e.preventDefault(),r(o)},className:"product-button",text:l})]})},W=function(e){var t=e.setPage,r=e.setSelected,n=e.selectedProduct,o=e.products,i={tokenAmount:(0,Z.ih)("Token Amount")},c=function(e){r(e),t(Y.MAIN)};return(0,A.jsxs)("div",{className:"one-click-flow__products",children:[(0,A.jsxs)("div",{className:"one-click-flow__products__title",children:[(0,A.jsx)(U.ZP,{color:F.rp.Clear,text:"‹",onClick:function(){return t(Y.MAIN)},className:"one-click-flow__products__back-button"}),(0,A.jsx)(S.Z,{className:"one-click-flow__scene-title",size:"md",weight:"bold",color:"defaultTooltipColor",children:i.tokenAmount})]}),(0,A.jsx)("div",{className:"one-click-flow__products__container",children:o.map((function(e){return(0,A.jsx)(K,{isSelected:e.product_id===n,onSelect:c,product:e},e.product_id)}))})]})},G=r(43037),$={};$.styleTagTransform=v(),$.setAttributes=h(),$.insert=f().bind(null,"head"),$.domAPI=d(),$.insertStyleElement=x(),l()(G.Z,$),G.Z&&G.Z.locals&&G.Z.locals;var V=function(e){var t=e.tokenAmount,r={purchaseSuccessful:(0,Z.ih)("Purchase successful"),serveBetter:(0,Z.ih)('In order to serve you better, please take a minute to give us your <a href="https://www.surveymonkey.com/r/6WLZYGV" target="_blank">billing feedback</a>.'),tenMinutes:(0,Z.ih)("It may take up to 10 minutes to show up in your account."),addedToTheAccount:(0,Z.ih)("have been added to your account")};return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(S.Z,{className:"one-click-flow__scene-title",size:"xlpx",weight:"bold",color:"defaultTooltipColor",children:r.purchaseSuccessful}),(0,A.jsxs)("div",{className:"one-click-flow__success-page",children:[(0,A.jsx)(S.Z,{size:"xlpx",weight:"bold",className:"one-click-flow__success-page__tokens",children:"".concat(t," tokens")}),(0,A.jsx)(S.Z,{size:"mdpx",className:"one-click-flow__success-page__text",children:r.addedToTheAccount}),(0,A.jsx)(S.Z,{size:"smpx",className:"one-click-flow__success-page__middle secondary-text",children:r.tenMinutes}),(0,A.jsx)(S.Z,{size:"smpx",className:"one-click-flow__success-page__footer secondary-text",dangerouslySetInnerHTML:{__html:r.serveBetter}})]})]})},X=r(58689),J={};J.styleTagTransform=v(),J.setAttributes=h(),J.insert=f().bind(null,"head"),J.domAPI=d(),J.insertStyleElement=x(),l()(X.Z,J),X.Z&&X.Z.locals&&X.Z.locals;var Q=function(e){var t,r,n=e.onSuccess,o=e.disabled,i=a.useRef(null),c=a.useRef(null),s=a.useRef(null),l=a.useRef(null),u=a.useRef(null),d=a.useRef(0),p=a.useRef(0),f=a.useRef(0),m=a.useRef(!1);function h(e){var t,r;e.target!==i.current||m.current||(m.current=!0),"dragstart"===e.type&&(null==e||null===(t=e.dataTransfer)||void 0===t||t.setDragImage(((r=new Image).src="fake.gif",r),0,0)),"touchstart"===e.type?p.current=e.touches[0].clientX:p.current=e.clientX}function g(){var e;d.current<f.current-5?c.current&&u.current&&l.current&&s.current&&(null===(e=i.current)||void 0===e||null===(e=e.classList)||void 0===e||e.toggle("animate"),c.current.classList.toggle("animate"),s.current.classList.toggle("animate"),l.current.classList.toggle("animate"),b(0,i.current),setTimeout((function(){c.current&&i.current&&l.current&&s.current&&(i.current.classList.toggle("animate"),c.current.classList.toggle("animate"),s.current.classList.toggle("animate"),l.current.classList.toggle("animate"))}),1)):v(),m.current=!1}function x(e){m.current&&(e.cancellable&&e.preventDefault(),"touchmove"===e.type?d.current=e.touches[0].clientX-p.current:d.current=e.clientX-p.current,d.current>=f.current-5&&(v(),n(),m.current=!1),d.current>0&&d.current<f.current&&b(d.current,i.current))}function b(e,t){t&&(t.style.transform="translate3d(".concat(e,"px, ",0,"px, 0)")),u.current&&l.current&&s.current&&(u.current.style.opacity="0",e>f.current/2?(l.current.style.opacity="1",s.current.style.opacity="0"):(l.current.style.opacity="0",s.current.style.opacity="1"))}function v(){b(f.current,i.current),u.current&&l.current&&s.current&&(u.current.style.opacity="1",l.current.style.opacity="0",s.current.style.opacity="0")}return a.useEffect((function(){var e,t;null!=c&&c.current&&i.current&&(f.current=(null==c||null===(e=c.current)||void 0===e?void 0:e.clientWidth)-(null===(t=i.current)||void 0===t?void 0:t.clientWidth))}),[null===(t=c.current)||void 0===t?void 0:t.clientWidth,null==i||null===(r=i.current)||void 0===r?void 0:r.clientWidth]),(0,A.jsxs)("div",{ref:c,onDragStart:h,onDragEnd:g,onDrag:x,onTouchStart:h,onTouchEnd:g,onTouchMove:x,className:"track_drag animate".concat(o?" disabled":""),children:[(0,A.jsx)("div",{draggable:!0,ref:i,className:"oneclick-item"}),(0,A.jsx)("p",{ref:u,className:"track_text track_text--after animate",children:"Confirmed..."}),(0,A.jsx)("p",{ref:l,className:"track_text track_text--after animate",children:"Confirming..."}),(0,A.jsx)("p",{ref:s,className:"track_text track_text--before animate",children:o?"Enter CVV2/CVC code":"Swipe to Confirm"})]})},Y=function(e){return e.MAIN="main",e.PRODUCTS="products",e.ERROR="error",e.SUCCESS="success",e}({}),ee=function(e){return e.SAVED_CARD="savedcard",e.EPOCH_ONECLICK="epochoneclick",e}({}),te=function(e){return e.main="main",e.photo_videos="TokenSourcePurchaseMedia",e}({}),re=function(e){var t,r=e.source,i=e.roomType,s=e.closeModal,l=(0,_.bp)().context.language_code,u=a.useState(!1),d=(0,o.Z)(u,2),p=d[0],f=d[1],m=a.useState(!1),h=(0,o.Z)(m,2),g=h[0],x=h[1],b=a.useState(Y.MAIN),v=(0,o.Z)(b,2),y=v[0],w=v[1],Z=a.useState(),S=(0,o.Z)(Z,2),N=S[0],T=S[1],z=a.useState(""),D=(0,o.Z)(z,2),R=D[0],I=D[1],U=a.useState(),F=(0,o.Z)(U,2),M=F[0],L=F[1],q=!(null==N||null===(t=N.paymethod)||void 0===t||null===(t=t.payload)||void 0===t||!t.cvv2_required),H=(0,j.B)(l,"/tipping/purchase_tokens/".concat(r?"?source=".concat(r):"")),K="".concat((0,j.H)(l,"tipping","oneclick_plans")).concat(r?"?source=".concat(r):""),G=function(){var e=(0,n.Z)(c().mark((function e(){var t,r,n,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(q&&(null==R?void 0:R.length)<3)){e.next=2;break}return e.abrupt("return");case 2:return f(!0),e.prev=3,r=null==N||null===(t=N.paymethod)||void 0===t||null===(t=t.payload)||void 0===t?void 0:t.sub_id,n={payMethod:"savedcard",cvv2:R,savedcard_sub_id:r,productID:M},e.next=8,(0,C.SD)((0,j.H)(l,"tipping","ajax-oneclick-purchase/"),n);case 8:o=e.sent,null!=(i=o.jsonData)&&i.success?w(Y.SUCCESS):w(Y.ERROR),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),w(Y.ERROR);case 16:return e.prev=16,f(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,13,16,19]])})));return function(){return e.apply(this,arguments)}}();if(a.useEffect((function(){f(!0),(0,C.Be)(K).then((function(e){var t=e.jsonData;null!=t&&t.success||x(!0);var r,n=t.eligible_plans.find((function(e){return e.is_default}));L(n?null==n?void 0:n.product_id:null===(r=t.eligible_plans[t.eligible_plans.length-1])||void 0===r?void 0:r.product_id),T(t)})).catch((function(e){(0,O.vU)(e)})).finally((function(){f(!1)}))}),[K]),!N||!M)return g?(0,A.jsx)("div",{className:"one-click-flow__container ".concat(r&&r===te.photo_videos?"token-source-purchase-media":""),children:(0,A.jsx)(E,{fallbackUrl:H})}):(0,A.jsx)("div",{className:"one-click-flow__loading",children:(0,A.jsx)(P.$,{})});var $=null==N?void 0:N.eligible_plans,X=null==$?void 0:$.find((function(e){return e.product_id===M})),J=null==X?void 0:X.tokens,ee=N.paymethod;return(0,A.jsx)(k.u,{children:(0,A.jsxs)("div",{className:"one-click-flow__container ".concat(r&&r===te.photo_videos?"token-source-purchase-media":""),onTouchStart:function(e){return e.stopPropagation()},onTouchEnd:function(e){return e.stopPropagation()},onTouchMove:function(e){return e.stopPropagation()},onDrag:function(e){return e.stopPropagation()},onDragStart:function(e){return e.stopPropagation()},onDragEnd:function(e){return e.stopPropagation()},onClick:function(e){return e.stopPropagation()},children:[p&&(0,A.jsx)("div",{className:"one-click-flow__loading",children:(0,A.jsx)(P.$,{})}),y===Y.MAIN&&X&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(B,{setPage:w,url:H,payMethod:ee,roomType:i,product:X,handleCvvChange:q?function(e){return I(e)}:void 0,closeModal:s,source:r}),(0,A.jsx)(Q,{disabled:q&&R.length<3,onSuccess:G})]}),y===Y.PRODUCTS&&(0,A.jsx)(W,{setPage:w,setSelected:L,selectedProduct:M,products:$}),y===Y.SUCCESS&&J&&(0,A.jsx)(V,{tokenAmount:J}),y===Y.ERROR&&(0,A.jsx)(E,{fallbackUrl:H})]})})}},97818:function(e,t,r){r.d(t,{zx:function(){return Z},rp:function(){return C},qE:function(){return O}});var n=r(64649),o=r(18808),i=r(27378),c=r(60196),a=r(1892),s=r.n(a),l=r(95760),u=r.n(l),d=r(38311),p=r.n(d),f=r(58192),m=r.n(f),h=r(38060),g=r.n(h),x=r(54865),b=r.n(x),v=r(30827),y={};y.styleTagTransform=b(),y.setAttributes=m(),y.insert=p().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=g(),s()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var w=r(24246),_=["onClick","text","className","size","color"];function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){return e.Small="ButtonSize-small",e.Medium="ButtonSize-medium",e}({}),C=function(e){return e.Orange="ButtonColor-orange",e.Blue="ButtonColor-blue",e.Green="ButtonColor-green",e.Red="ButtonColor-red",e.Text="ButtonColor-text",e.Clear="ButtonColor-clear",e}({}),P={size:O.Small,color:C.Orange},Z=i.forwardRef((function(e,t){var r=e.onClick,n=e.text,i=e.className,a=e.size,s=void 0===a?P.size:a,l=e.color,u=void 0===l?P.color:l,d=(0,o.Z)(e,_),p=["Button",s,u];return(0,w.jsx)("button",j(j({type:"button",onClick:r,className:(0,c.z)(p,i),ref:t},d),{},{children:n}))}))},15838:function(e,t,r){var n=r(97818);t.ZP=n.zx},10697:function(e,t,r){r.d(t,{k:function(){return O}});var n=r(64649),o=r(18808),i=r(27378),c=r(60196),a=r(1892),s=r.n(a),l=r(95760),u=r.n(l),d=r(38311),p=r.n(d),f=r(58192),m=r.n(f),h=r(38060),g=r.n(h),x=r(54865),b=r.n(x),v=r(86847),y={};y.styleTagTransform=b(),y.setAttributes=m(),y.insert=p().bind(null,"head"),y.domAPI=u(),y.insertStyleElement=g(),s()(v.Z,y),v.Z&&v.Z.locals&&v.Z.locals;var w=r(24246),_=["children","component","className","direction","align","justify","wrap"];function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=i.forwardRef((function(e,t){var r=e.children,n=e.component,i=void 0===n?"div":n,a=e.className,s=e.direction,l=void 0===s?"row":s,u=e.align,d=void 0===u?"start":u,p=e.justify,f=void 0===p?"start":p,m=e.wrap,h=void 0===m||m,g=(0,o.Z)(e,_),x=i,b=["Flex","Flex--".concat(l),"Flex-align--".concat(d),"Flex-justify--".concat(f),"Flex--".concat(h?"wrap":"nowrap")];return(0,w.jsx)(x,j(j({className:(0,c.z)(b,a),ref:t},g),{},{children:r}))}))},53968:function(e,t,r){r.d(t,{r:function(){return S}});var n=r(64649),o=r(18808),i=r(27378),c=r(18026),a=r(82609),s=r(60196),l=r(97818),u=r(1892),d=r.n(u),p=r(95760),f=r.n(p),m=r(38311),h=r.n(m),g=r(58192),x=r.n(g),b=r(38060),v=r.n(b),y=r(54865),w=r.n(y),_=r(58499),k={};k.styleTagTransform=w(),k.setAttributes=x(),k.insert=h().bind(null,"head"),k.domAPI=f(),k.insertStyleElement=v(),d()(_.Z,k),_.Z&&_.Z.locals&&_.Z.locals;var j=r(24246),O=["color","size","colorClass","variant","children","className","href"];function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Z(e,t){var r=e.color,n=e.size,i=e.colorClass,u=e.variant,d=e.children,p=e.className,f=e.href,m=(0,o.Z)(e,O),h=[];"button"===u?h.push("Button",null!=r?r:l.rp.Orange,null!=n?n:l.qE.Small):h.push("link",null!=i?i:s.q.hrefColor);var g=(0,c.bp)().context.language_code;return(0,j.jsx)("a",P(P({className:(0,s.z)(h,p),href:(0,a.B)(g,f)},m),{},{ref:t,children:d}))}var S=i.forwardRef(Z)},56664:function(e,t,r){r.d(t,{$:function(){return O}});var n=r(64649),o=r(18808),i=(r(27378),r(1892)),c=r.n(i),a=r(95760),s=r.n(a),l=r(38311),u=r.n(l),d=r(58192),p=r.n(d),f=r(38060),m=r.n(f),h=r(54865),g=r.n(h),x=r(95167),b={};b.styleTagTransform=g(),b.setAttributes=p(),b.insert=u().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=m(),c()(x.Z,b),x.Z&&x.Z.locals&&x.Z.locals;var v=r(60196),y=r.p+"e1658f1b84de3a1fe498.gif",w=r(24246),_=["className","size"];function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){var t=e.className,r=e.size,n=void 0===r?"md":r,i=(0,o.Z)(e,_),c="cbr-spinner cbr-spinner--".concat(n);return(0,w.jsx)("div",j(j({className:(0,v.z)(c,t)},i),{},{children:(0,w.jsx)("img",{src:y,alt:"Loading..."})}))}},89998:function(e,t,r){r.d(t,{Z:function(){return C}});var n=r(64649),o=r(18808),i=r(27378),c=r(1892),a=r.n(c),s=r(95760),l=r.n(s),u=r(38311),d=r.n(u),p=r(58192),f=r.n(p),m=r(38060),h=r.n(m),g=r(54865),x=r.n(g),b=r(92980),v={};v.styleTagTransform=x(),v.setAttributes=f(),v.insert=d().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=h(),a()(b.Z,v),b.Z&&b.Z.locals&&b.Z.locals;var y=r(2341),w=r(60196),_=r(24246),k=["size","weight","component","color","children","className"];function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var C=i.forwardRef((function(e,t){var r=e.size,n=void 0===r?y.u.md:r,i=e.weight,c=void 0===i?y.a.normal:i,a=e.component,s=void 0===a?"div":a,l=e.color,u=void 0===l?w.q.textColor:l,d=e.children,p=e.className,f=(0,o.Z)(e,k),m=s,h=["type--".concat(n),"type--".concat(c),"".concat(u)];return(0,_.jsx)(m,O(O({className:(0,w.z)(h,p)},f),{},{ref:t,children:d}))}))},32058:function(e,t,r){r.d(t,{b:function(){return C},N:function(){return O}});var n=r(27378),o=r(31542),i=r(58048),c=r(28088),a=r(15838),s=r(97818),l=r(1892),u=r.n(l),d=r(95760),p=r.n(d),f=r(38311),m=r.n(f),h=r(58192),g=r.n(h),x=r(38060),b=r.n(x),v=r(54865),y=r.n(v),w=r(55475),_={};_.styleTagTransform=y(),_.setAttributes=g(),_.insert=m().bind(null,"head"),_.domAPI=p(),_.insertStyleElement=b(),u()(w.Z,_),w.Z&&w.Z.locals&&w.Z.locals;var k=r(24246),j={confirmOK:(0,c.ih)("OK"),cancelText:(0,c.ih)("Cancel")},O=function(e){return e.alert="alert",e.confirm="confirm",e}({});function C(e){(0,n.useEffect)((function(){return document.addEventListener("keydown",r),function(){document.removeEventListener("keydown",r)}}),[]);var t=new i.a;t.addHandler({keyCode:13,requiresCtrlOrMeta:!1,handle:function(){var t;null===(t=e.yesCallback)||void 0===t||t.call(e),e.closeModal()}}),t.addHandler({keyCode:27,requiresCtrlOrMeta:!1,handle:function(){var t;void 0!==e.noCallback?e.noCallback():null===(t=e.yesCallback)||void 0===t||t.call(e),e.closeModal()}});var r=function(e){e.stopPropagation(),e.preventDefault(),t.execute(e)};return o.createPortal((0,k.jsx)("div",{className:"modalAlert Alert",onClick:function(e){e.stopPropagation()},"data-testid":"Alert-modal",children:(0,k.jsxs)("div",{className:"dialog",children:[(0,k.jsx)("div",{className:"title",style:{display:""===e.title?"none":"block"},children:e.title}),(0,k.jsx)("div",{className:"text","data-testid":"Alert-text",children:e.contents}),(0,k.jsxs)("div",{className:"dialogForm",children:[(0,k.jsx)(a.ZP,{className:"AcceptButton",onClick:function(t){t.stopPropagation(),void 0!==e.yesCallback&&e.yesCallback(),e.closeModal()},text:j.confirmOK,color:s.rp.Blue}),e.type===O.confirm&&(0,k.jsx)(a.ZP,{className:"DeclineButton",onClick:function(t){t.stopPropagation(),void 0!==e.noCallback&&e.noCallback(),e.closeModal()},text:j.cancelText,color:s.rp.Clear})]})]})}),document.body)}},21626:function(e,t,r){r.d(t,{a:function(){return J}});var n,o=r(65809),i=r(27378),c=r(56253),a=r(18203),s=r(2341),l=r(65505),u=l.I0,d=l.v9,p=r(9306),f=r(86839),m=window.newrelic;var h=r(28088),g=r(32058),x=r(89998),b=r(64649),v=r(18808),y=r(60196),w=r(1892),_=r.n(w),k=r(95760),j=r.n(k),O=r(38311),C=r.n(O),P=r(58192),Z=r.n(P),S=r(38060),N=r.n(S),T=r(54865),A=r.n(T),E=r(62039),z={};z.styleTagTransform=A(),z.setAttributes=Z(),z.insert=C().bind(null,"head"),z.domAPI=j(),z.insertStyleElement=N(),_()(E.Z,z),E.Z&&E.Z.locals&&E.Z.locals;var D=r(24246),R=["fontSize","className"];function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var B=(0,i.forwardRef)((function(e,t){var r=e.fontSize,n=void 0===r?s.u.sm:r,o=e.className,i=(0,v.Z)(e,R);return(0,D.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({className:(0,y.z)("Textarea","Textarea--".concat(n),o),ref:t},i))})),U=r(53968),F=r(15838),M=r(97818),L=r(24024),q={};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){(0,b.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}q.styleTagTransform=A(),q.setAttributes=Z(),q.insert=C().bind(null,"head"),q.domAPI=j(),q.insertStyleElement=N(),_()(L.Z,q),L.Z&&L.Z.locals&&L.Z.locals;var W=function(e,t){return(0,D.jsxs)("svg",K(K({height:"1em",width:"1em",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,className:"NotesLight"},e),{},{children:[(0,D.jsx)("path",{d:"M5.5 2H2a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1V6.5",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),(0,D.jsx)("path",{d:"M9.25 1.25a1.06 1.06 0 0 1 1.5 1.5L6 7.5 4 8l.5-2 4.75-4.75Z",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})]}))},G=(0,i.forwardRef)(W),$=(0,i.memo)(G),V=r(11899),X={};function J(e){var t=e.username,r=e.handleInputFocus,l=e.badgeManager,b=e.isNotLoggedIn,v=e.removeMenu,y=d((function(e){var t;return null===(t=e.user.loggedInUser)||void 0===t?void 0:t.username})),w=(0,p.FN)({username:t},{skip:void 0===y}),_=w.data,k=w.isLoading,j=w.isError;(0,i.useEffect)((function(){""===(null!=_?_:"").trim()?l.removeUser(t):l.addUser(t)}),[l,_,t]);var O=(0,a.V)(),C=(0,p.wb)(),P=(0,o.Z)(C,1)[0],Z=u(),S=d((function(e){var r;return null!==(r=e.notes.notesCache[t])&&void 0!==r?r:""})),N=S.trim()!==(null!=_?_:"").trim();(0,i.useEffect)((function(){Z((0,p.qJ)({username:t}))}),[Z,t]);var T=function(){if(!b('You must be logged in to add a Note. Click "OK" to login.')){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var r=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r={};for(var o in t)r["attributes.".concat(o)]=t[o];return void 0===r["attributes.room_user"]&&(r["attributes.room_user"]=null!==(e=n)&&void 0!==e?e:""),void 0!==r["attributes.room_user"]&&"string"==typeof r["attributes.room_user"]&&(r["attributes.room_user"]=r["attributes.room_user"].replace(/[^a-zA-Z0-9]+/,"")),r}(t);if(void 0===m)return void(0,f.fF)("New Relic is disabled, not sending metric: ".concat(e));0===Object.keys(r).length?m.addPageAction(e):m.addPageAction(e,r)}catch(e){(0,f.vU)("New Relic Error in addPageAction: ".concat(e))}}("NoteSaved",{username:y,to_user:t});var e=S.trim();P({username:t,note:e}).unwrap().then((function(){""===e?l.removeUser(t):l.addUser(t),Z((0,p.qJ)({username:t})),v()})).catch((function(e){(0,f.vU)("Error saving note",e),O({type:g.N.alert,title:"",contents:"Error saving note"})}))}};return(0,D.jsxs)("div",{className:"userNote",onKeyDown:function(e){e.ctrlKey||e.metaKey||"Escape"===e.key||e.stopPropagation()},onClick:function(e){e.stopPropagation()},children:[(0,D.jsxs)("div",{className:"userNoteTitle",children:[(0,D.jsx)($,{}),(0,D.jsxs)(x.Z,{size:s.u.xs,className:"userNoteTitleText",children:[(0,h.ih)("Note"),N&&" ".concat((0,h.ih)("(unsaved)"))]})]}),(0,D.jsx)(B,{onPointerDown:r,className:"userNoteText","data-testid":"user-note-text",placeholder:k||j?(0,h.ih)("Loading..."):(0,h.ih)("Enter notes about this user (only seen by you)"),tabIndex:1,value:S,fontSize:s.u.xs,onChange:function(e){Z((0,p.uU)({username:t,note:e.target.value}))},onKeyDown:function(e){e.shiftKey&&"Enter"===e.key&&!c.gn&&(e.preventDefault(),T())},maxLength:300}),N&&(0,D.jsxs)("div",{className:"noteCancelSubmit",children:[(0,D.jsx)(U.r,{href:"#",tabIndex:3,className:"cancelLink",onClick:function(e){e.preventDefault(),Z((0,p.uU)({username:t,note:_}))},children:(0,h.ih)("Cancel")}),(0,D.jsx)(F.ZP,{size:M.qE.Medium,className:"noteSubmit",tabIndex:2,text:(0,h.ih)("Save"),onClick:function(){T()}})]}),(0,D.jsx)("div",{className:"userNoteBottomSpace"})]})}X.styleTagTransform=A(),X.setAttributes=Z(),X.insert=C().bind(null,"head"),X.domAPI=j(),X.insertStyleElement=N(),_()(V.Z,X),V.Z&&V.Z.locals&&V.Z.locals},18026:function(e,t,r){r.d(t,{iz:function(){return a},bp:function(){return s}});var n=r(27378);function o(e){return{active:e?new Set(e.split(",")):new Set}}var i=r(24246),c=(0,n.createContext)(void 0);function a(e){var t=e.children,r=e.context,a=(0,n.useMemo)((function(){return{context:r.$reactAppContext,experiments:(e=r.experiments,{active:e?new Set(e.active.split(",")):new Set,eligible:e?new Set(e.eligible.split(",")):new Set}),flags:o(r.active_feature_flags)};var e}),[r.$reactAppContext,r.experiments,r.active_feature_flags]);return(0,i.jsx)(c.Provider,{value:a,children:t})}function s(){var e=(0,n.useContext)(c);if(!e)throw new Error("useAppContext must be used under AppContextProvider");return e}},18203:function(e,t,r){r.d(t,{V:function(){return p},u:function(){return f}});var n=r(64649),o=r(30126),i=r(65809),c=r(27378),a=r(32058),s=r(24246);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=(0,c.createContext)(void 0);function p(){var e=(0,c.useContext)(d);if(!e)throw new Error("useAlert must be used under AlertProvider");return e}function f(e){var t=e.children,r=(0,c.useState)([]),n=(0,i.Z)(r,2),l=n[0],p=n[1],f=l[0];return(0,s.jsxs)(d.Provider,{value:function(e){p((function(t){return[e].concat((0,o.Z)(t))}))},children:[t,f&&(0,s.jsx)(a.b,u(u({},f),{},{closeModal:function(){p((function(e){return e.slice(1)}))}}))]})}},2341:function(e,t,r){r.d(t,{a:function(){return o},u:function(){return n}});var n=function(e){return e.xspx="xspx",e.smpx="smpx",e.mdpx="mdpx",e.lgpx="lgpx",e.xlpx="xlpx",e.xs="xs",e.sm="sm",e.md="md",e.lg="lg",e.xl="xl",e}({}),o=function(e){return e.normal="normal",e.bold="bold",e.medium="medium",e}({})},82609:function(e,t,r){r.d(t,{B:function(){return i},H:function(){return o}});var n=r(46403);function o(e,t,r,o){var c=r.endsWith("/"),a=i(0,"/api/ts/".concat(t,"/").concat((0,n.Gn)(r,o)));return c&&!a.endsWith("/")?"".concat(a,"/"):a}function i(e,t){return t}},9306:function(e,t,r){r.d(t,{FN:function(){return m},gr:function(){return l},qJ:function(){return f},uU:function(){return p},wb:function(){return h}});var n=r(27791),o=r(50824),i=r.n(o),c=r(89631),a=r(71169),s=r(59322),l=(0,a.LC)({baseQuery:(0,s.Iy)({baseUrl:"/api/notes/"}),tagTypes:["Note"],refetchOnMountOrArgChange:30,refetchOnFocus:!0,endpoints:function(e){return{getNotesUsernames:e.query({query:function(){return{url:"usernames/",method:"GET"}}}),getNoteForUser:e.query({query:function(e){var t=e.username;return{url:"for_user/".concat(t,"/"),method:"GET"}},transformResponse:function(e){var t;return null!==(t=e.text)&&void 0!==t?t:""},providesTags:["Note"]}),saveNoteForUser:e.mutation({query:function(e){var t;return{url:"for_user/".concat(e.username,"/"),method:"POST",data:{text:null!==(t=e.note)&&void 0!==t?t:""}}},onQueryStarted:function(e,t){return(0,n.Z)(i().mark((function r(){var n,o,c,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.username,o=e.note,c=t.dispatch,a=t.queryFulfilled,r.prev=2,r.next=5,a;case 5:r.sent.data.success&&c(l.util.updateQueryData("getNoteForUser",{username:n},(function(){return null!=o?o:""}))),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(2);case 12:case"end":return r.stop()}}),r,null,[[2,10]])})))()}})}}}),u=(0,c.createSlice)({name:"notes",initialState:{notesCache:{},notesEdited:{}},reducers:{setNoteCache:function(e,t){var r;e.notesCache[t.payload.username]=null!==(r=t.payload.note)&&void 0!==r?r:"",e.notesEdited[t.payload.username]=!0},trimNoteCache:function(e,t){var r;e.notesCache[t.payload.username]=null===(r=e.notesCache[t.payload.username])||void 0===r?void 0:r.trim()}},extraReducers:function(e){e.addMatcher(l.endpoints.getNoteForUser.matchFulfilled,(function(e,t){var r;e.notesEdited[t.meta.arg.originalArgs.username]||(e.notesCache[t.meta.arg.originalArgs.username]=null!==(r=t.payload)&&void 0!==r?r:"")})),e.addMatcher(l.endpoints.saveNoteForUser.matchPending,(function(e,t){e.notesEdited[t.meta.arg.originalArgs.username]=!1}))}}),d=u.actions,p=d.setNoteCache,f=d.trimNoteCache,m=l.useGetNoteForUserQuery,h=l.useSaveNoteForUserMutation;t.ZP=u.reducer},60196:function(e,t,r){r.d(t,{q:function(){return i},z:function(){return o}});var n=r(30126);function o(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.from(new Set(t.reduce((function(e,t){return void 0===t?e:"string"==typeof t?e.concat.apply(e,(0,n.Z)(t.split(" "))):e.concat.apply(e,(0,n.Z)(t.reduce((function(e,t){return e.concat.apply(e,(0,n.Z)(t.split(" ")))}),[])))}),[]))).join(" ").trim()}var i={textColor:"textColor",bgColor:"bgColor",tabSectionBorder:"tabSectionBorder",tabBorder:"tabBorder",tabActiveBorder:"tabActiveBorder",tabInactiveBgColor:"tabInactiveBgColor",tabInactiveColor:"tabInactiveColor",tabActiveBgColor:"tabActiveBgColor",tabActiveColor:"tabActiveColor",chatAreaTabColor:"chatAreaTabColor",defaultColor:"defaultColor",defaultTooltipColor:"defaultTooltipColor",disabledTooltipColor:"disabledTooltipColor",roomSubjectToolTipColor:"roomSubjectToolTipColor",hrefColor:"hrefColor",tagFontColor:"tagFontColor",tagExhibColor:"tagExhibColor",tagNewColor:"tagNewColor",tagLineColor:"tagLineColor",tagOfflineColor:"tagOfflineColor",tagPrivateGroupColor:"tagPrivateGroupColor",tagGamingColor:"tagGamingColor",camBgColor:"camBgColor",camBorderColor:"camBorderColor",camSubjectColor:"camSubjectColor",camSubjectTagColor:"camSubjectTagColor",camAltTextColor:"camAltTextColor",camHrefColor:"camHrefColor",nextCamBgColor:"nextCamBgColor",navigationAlt2BgImage:"navigationAlt2BgImage",navigationAlt2BgColor:"navigationAlt2BgColor",dismissibleMessageColor:"dismissibleMessageColor",userInfoDropdownBgColor:"userInfoDropdownBgColor",userInfoDropdownHighlightColor:"userInfoDropdownHighlightColor",userInfoDropdownTextColor:"userInfoDropdownTextColor"}},86839:function(e,t,r){r.d(t,{fF:function(){return s},vU:function(){return l},ZK:function(){return u}});let n;try{n=!0}catch(e){console.error("@multimediallc/logging failed to initialize, probably due to undefined process.env.NODE_ENV.",e),n=!0}const o=window.newrelic;function i(){n||void 0!==window.console&&void 0!==console.trace&&console.trace()}function c(e,t,r={}){try{if(void 0===o)return;const n={};if(n["attributes.level"]=e,"object"==typeof r)for(const e in r)"xhrErrorAttributes"!==e?n[`attributes.${e}`]=r[e]:(n["attributes.xhrError"]=!0,n["attributes.xhrState"]=r[e].readyState,n["attributes.xhrStatus"]=r[e].status,n["attributes.xhrReason"]=r[e].reason);else n["attributes.extra"]=r;o.noticeError(t,n)}catch(e){console.error(`New Relic Error in reportError: ${e.toString()}`)}}function a(e){return void 0===e?"":e}var s=function(e,t){n||void 0!==window.console&&(void 0!==console.debug||n?console.debug(e,a(t)):console.log("DEBUG ",e,a(t)))},l=function(e,t,r=""){let o;void 0!==window.console&&(void 0!==console.error||n?console.error(r.concat("ERROR "),e,a(t)):console.log(r.concat("ERROR "),e,a(t)),i());try{o="object"==typeof e?JSON.stringify(e):e.toString()}catch(t){o=`${e}`}c(r.concat("ERROR"),new Error(o),t)},u=function(e,t,r=""){let o;void 0!==window.console&&(void 0!==console.warn||n?console.warn(r.concat("WARN "),e,a(t)):console.log(r.concat("WARN "),e,a(t)),i());try{o="object"==typeof e?JSON.stringify(e):e.toString()}catch(t){o=`${e}`}c(r.concat("WARN"),new Error(o),t)}},58048:function(e,t,r){r.d(t,{a:function(){return a}});var n=r(22951),o=r(91976),i=r(64649);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var a=function(){function e(){(0,n.Z)(this,e),(0,i.Z)(this,"handlers",[])}return(0,o.Z)(e,[{key:"addHandler",value:function(e){this.handlers.push(e)}},{key:"execute",value:function(e){var t,r=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}(this.handlers);try{for(r.s();!(t=r.n()).done;){var n=t.value;if(e.which===n.keyCode&&(!n.requiresCtrlOrMeta||e.ctrlKey||e.metaKey))return n.handle(e),!0}}catch(e){r.e(e)}finally{r.f()}return!1}}]),e}()},59322:function(e,t,r){r.d(t,{Iy:function(){return m},Be:function(){return h},SD:function(){return g}});var n=r(64649),o=r(27791),i=r(50824),c=r.n(i),a=r(82609);function s(e){var t=e.length+1;return document.cookie.split(";").map((function(e){return e.trim()})).filter((function(r){return r.substring(0,t)==="".concat(e,"=")})).map((function(e){return decodeURIComponent(e.substring(t))}))[0]}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e){var t=new FormData;if(void 0!==e)for(var r=0,n=Object.keys(e);r<n.length;r++){var o=n[r];t.append(o,e[o])}return t}function p(e,t,r,n){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(c().mark((function e(t,r,n,o){var i,a,l,p,f,m;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i={method:t,mode:"same-origin",credentials:"same-origin"},"GET"===t){e.next=6;break}if(a=s("csrftoken")){e.next=5;break}throw new Error("CSRF Token missing for non-GET Fetch");case 5:i.headers=u(u({},i.headers),{},{"X-CSRFToken":a,"X-Requested-With":"XMLHttpRequest"});case 6:return l=n&&(n instanceof FormData?n:d(n)),e.next=9,fetch(r,u(u(u({},i),o),{},{body:l,headers:u(u({},i.headers),o&&o.headers)}));case 9:if(401!==(p=e.sent).status){e.next=12;break}throw new Error("Unauthorized");case 12:if(500!==p.status){e.next=14;break}throw new Error("Internal server error.");case 14:if(403!==p.status){e.next=25;break}return e.next=17,p.text();case 17:if(!(f=e.sent).includes("CSRF verification failed")){e.next=22;break}throw new Error("CSRF verification failed. Request aborted.");case 22:if(!f.includes("<!DOCTYPE")){e.next=24;break}throw new Error("Forbidden (403)");case 24:throw new Error(f);case 25:return e.prev=25,e.next=28,p.json();case 28:if(m=e.sent,p.ok){e.next=31;break}throw new Error(JSON.stringify(m));case 31:if(!m.error){e.next=35;break}throw new Error(m.error);case 35:return e.abrupt("return",u(u({},p),{},{jsonData:m}));case 36:e.next=41;break;case 38:return e.prev=38,e.t0=e.catch(25),e.abrupt("return",u(u({},p),{},{jsonData:{}}));case 41:case"end":return e.stop()}}),e,null,[[25,38]])})))).apply(this,arguments)}var m=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{baseUrl:""}).baseUrl;return function(){var t=(0,o.Z)(c().mark((function t(r,n){var o,i,s,l,u,d;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.url,i=r.method,s=r.data,l=r.params,e=(0,a.B)(n.getState().user.languageCode,e),t.prev=2,t.next=5,p(i,e+o,s,l);case 5:return u=t.sent,t.abrupt("return",{data:u.jsonData});case 9:return t.prev=9,t.t0=t.catch(2),d=t.t0,t.abrupt("return",{error:{message:d.message}});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,r){return t.apply(this,arguments)}}()},h=p.bind(null,"GET"),g=p.bind(null,"POST");p.bind(null,"PUT"),p.bind(null,"DELETE")},91072:function(e,t,r){r.d(t,{g:function(){return i},w:function(){return C}});var n=r(65809),o=r(86839);function i(e){var t=window;void 0!==t.ReactAPIRegistry&&(0,o.vU)("ReactAPIRegistry error:  Attempted to makeAPIRegistry when registry already exists."),t.ReactAPIRegistry={},Object.entries(e).forEach((function(e){var r=(0,n.Z)(e,2),o=r[0],i=r[1];t.ReactAPIRegistry[o]=i}))}var c,a,s=r(22951),l=r(91976),u=r(64649),d=r(27378),p=r(37634),f=r(65505),m=r(18026),h=r(18203),g=r(56396),x=r(89631),b=r(61279),v=r(9306),y=(0,x.createSlice)({name:"user",initialState:{languageCode:"en"},reducers:{}}).reducer,w=(0,g.UY)((c={},(0,u.Z)(c,v.gr.reducerPath,v.gr.reducer),(0,u.Z)(c,"user",y),(0,u.Z)(c,"notes",v.ZP),c)),_=(a=window.$reactAppContext?{user:{languageCode:window.$reactAppContext.language_code,loggedInUser:window.$reactAppContext.logged_in_user}}:void 0,(0,x.configureStore)({reducer:w,preloadedState:a,middleware:function(e){return e().concat(v.gr.middleware)}}));(0,b.setupListeners)(_.dispatch);var k=r(24246);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=window;void 0!==t.ReactComponentRegistry&&(0,o.vU)("ReactComponentRegistry error:  Attempted to makeRegistry when registry already exists."),t.ReactComponentRegistry={},Object.entries(e).forEach((function(e){var r=(0,n.Z)(e,2),o=r[0],i=r[1];t.ReactComponentRegistry[o]=P(i)}))}var P=function(e){return function(){function t(e,r){(0,s.Z)(this,t),(0,u.Z)(this,"root",void 0),(0,u.Z)(this,"props",void 0),this.root=(0,p.s)(r),this.props=e,this.render()}return(0,l.Z)(t,[{key:"render",value:function(){this.root.render((0,k.jsx)(d.StrictMode,{children:(0,k.jsx)(f.zt,{store:_,children:(0,k.jsx)(m.iz,{context:window,children:(0,k.jsx)(h.u,{children:(0,k.jsx)(e,O({},this.props))})})})}))}},{key:"update",value:function(e){this.props=O(O({},this.props),e),this.render()}},{key:"dispose",value:function(){this.root.unmount()}}]),t}()}},28088:function(e,t,r){r.d(t,{ih:function(){return o},sX:function(){return c}});var n=r(86839),o=window.gettext;void 0===o&&((0,n.ZK)("gettext is undefined."),o=function(e){return e});var i=window.ngettext;void 0===i&&((0,n.ZK)("ngettext is undefined."),i=function(e,t,r){return r>1?t:e});var c=window.interpolate;void 0===c&&((0,n.ZK)("interpolate is undefined."),c=function(e,t,r){return r?e.replace(/%\(\w+\)s/g,(function(e){var r=e.slice(2,-2);return String(t[r])})):e.replace(/%s/g,(function(){return String(t.shift())}))})},17349:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".one-click-flow{background-color:#f8f9fa;min-height:250px;position:fixed;width:100%;bottom:-400px;left:0;border:1px solid gray;border-radius:8px 8px 0px 0px;transition:bottom 500ms;overflow-y:auto}.one-click-flow.open{bottom:0;transition:bottom 500ms;z-index:1005}.one-click-flow__container{padding:16px}.one-click-flow__loading{position:absolute;background:#000;top:0;left:0;right:0;bottom:0;z-index:9999;opacity:.5;display:flex;align-items:center;justify-content:center}.token-source-purchase-media.one-click-flow__container{padding:36px}.token-source-purchase-media .one-click-flow__scene-title{font-size:36px}@media screen and (orientation: landscape){.token-source-purchase-media.one-click-flow__container{padding:16px}.token-source-purchase-media .one-click-flow__scene-title{font-size:18px}}",""]),t.Z=c},48559:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".one-click-flow__error-page{margin-top:32px}.token-source-purchase-media .one-click-flow__error-page{margin-bottom:140px;margin-top:40px}.token-source-purchase-media .one-click-flow__error-page .md-error-text{font-size:22px}.token-source-purchase-media .one-click-flow__error-page .sm-error-text{font-size:16px}@media screen and (orientation: landscape){.token-source-purchase-media .one-click-flow__error-page{margin-bottom:0px;margin-top:10px}.token-source-purchase-media .one-click-flow__error-page .md-error-text{font-size:16px}.token-source-purchase-media .one-click-flow__error-page .sm-error-text{font-size:14px}.token-source-purchase-media .one-click-flow__error-page .sm-error-text a{font-size:14px}}",""]),t.Z=c},55908:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".one-click-flow__pay-info{display:flex;margin-top:16px;margin-bottom:26px;flex-direction:column}.one-click-flow__pay-info a{text-decoration:none;color:#0a5a83}.one-click-flow__pay-info__row{display:flex;align-items:center;font-size:14px}.one-click-flow__pay-info__row>div:first-child{flex-basis:100px;color:#222;margin-right:20px}.one-click-flow__pay-info__row:not(:last-child){margin-bottom:20px}.one-click-flow__pay-info__text{color:#525252;margin-right:3px;text-transform:lowercase}.one-click-flow__pay-info__text::first-letter{text-transform:uppercase}.one-click-flow__pay-info .cvv-input{width:45px;margin-left:10px;height:20px;font-size:16px}.token-source-purchase-media .one-click-flow__pay-info{margin-top:28px;margin-bottom:32px}.token-source-purchase-media .one-click-flow__pay-info__row{font-size:20px}.token-source-purchase-media .one-click-flow__pay-info__row>div:first-child{flex-basis:140px}.token-source-purchase-media .one-click-flow__pay-info__row:not(:last-child){margin-bottom:26px}@media screen and (orientation: landscape){.token-source-purchase-media .one-click-flow__pay-info{margin-top:10px;margin-bottom:16px}.token-source-purchase-media .one-click-flow__pay-info__row{font-size:11px}.token-source-purchase-media .one-click-flow__pay-info__row>div:first-child{flex-basis:180px}.token-source-purchase-media .one-click-flow__pay-info__row:not(:last-child){margin-bottom:14px}}",""]),t.Z=c},89878:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,'.one-click-flow__product{display:flex;gap:8px;line-height:22px;align-items:center}.one-click-flow__product button.product-button{font-family:"UbuntuRegular";font-size:14px;color:#306a91;border:none}.one-click-flow__product__status{min-width:15px}.token-source-purchase-media *.one-click-flow__product .one-click-flow__product__status{min-width:24px;font-size:24px}.token-source-purchase-media *.one-click-flow__product button.product-button{font-size:20px;height:36px;line-height:36px}@media screen and (orientation: landscape){.token-source-purchase-media *.one-click-flow__product .one-click-flow__product__status{min-width:12px;font-size:12px}.token-source-purchase-media *.one-click-flow__product button.product-button{font-size:10px;height:12px;line-height:12px}}',""]),t.Z=c},90159:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".one-click-flow__products{display:flex;flex-direction:column}.one-click-flow__products__title{display:flex;align-items:center}.one-click-flow__products button.one-click-flow__products__back-button{color:#222;font-size:40px;margin-right:5px;margin-bottom:5px;border:none}.one-click-flow__products__container{display:flex;flex-direction:column;gap:8px;margin-top:16px;max-height:60vh;overflow-y:auto}.token-source-purchase-media .one-click-flow__products .one-click-flow__products__title .one-click-flow__scene-title{font-size:36px}.token-source-purchase-media .one-click-flow__products .one-click-flow__products__title button.one-click-flow__products__back-button{font-size:50px}@media screen and (orientation: landscape){.token-source-purchase-media .one-click-flow__products .one-click-flow__products__title .one-click-flow__scene-title{font-size:18px}.token-source-purchase-media .one-click-flow__products .one-click-flow__products__title button.one-click-flow__products__back-button{font-size:30px}.token-source-purchase-media .one-click-flow__products__container{margin-top:8px}}",""]),t.Z=c},43037:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".one-click-flow__success-page{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:32px}.one-click-flow__success-page__text{text-align:center;width:100%;color:#a7a7a7}.one-click-flow__success-page__tokens{color:#288a09}.one-click-flow__success-page__middle{margin-top:8px}.one-click-flow__success-page__footer{text-align:center;margin-top:32px}.one-click-flow__success-page .secondary-text{color:#a7a7a7}@media screen and (orientation: landscape){.token-source-purchase-media .one-click-flow__success-page{margin-top:0px}.token-source-purchase-media .one-click-flow__success-page__text{font-size:14px}.token-source-purchase-media .one-click-flow__success-page__tokens{font-size:16px}.token-source-purchase-media .one-click-flow__success-page__middle{font-size:12px}.token-source-purchase-media .one-click-flow__success-page__footer{margin-top:0px;font-size:10px}}",""]),t.Z=c},58689:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,'.track_drag{height:46px;display:flex;align-items:center;position:relative;overflow:hidden;touch-action:none;background-color:#f47321;border:1px solid #cd5d26;border-radius:4px;margin-top:20px}.track_drag.disabled{pointer-events:none}.oneclick-item{width:48px;height:48px;justify-self:flex-start;touch-action:none;user-select:none;z-index:999;background:#cd5d26;border-radius:4px 0px 0px 4px;position:relative}.oneclick-item::before{content:"˃";position:absolute;font-size:22px;color:#fff;left:50%;top:50%;transform:translate(-50%, -50%)}.oneclick-item:hover{cursor:move}.track_text{height:100%;width:100%;position:absolute;top:0;left:0;margin:0;display:flex;justify-content:center;align-items:center;font-size:16px;line-height:24px;color:#fff}.track_text--before{opacity:1}.track_text--after{opacity:0}.animate{transition:transform .5s cubic-bezier(0.175, 0.885, 0.32, 1.275),opacity .5s ease-in,background-color .5s ease-in}.token-source-purchase-media .track_drag{height:64px;margin-top:36px}.token-source-purchase-media .oneclick-item{width:64px;height:64px}.token-source-purchase-media .oneclick-item::before{font-size:48px}.token-source-purchase-media .track_text{font-size:20px}@media screen and (orientation: landscape){.token-source-purchase-media .track_drag{height:32px;margin-top:16px}.token-source-purchase-media .oneclick-item{width:32px;height:32px}.token-source-purchase-media .oneclick-item::before{font-size:20px}.token-source-purchase-media .track_text{font-size:13px}}',""]),t.Z=c},30827:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".Button{border-radius:4px;box-sizing:border-box;cursor:pointer;display:inline-block;text-align:center;font-family:UbuntuMedium,Arial,Helvetica,sans-serif}.Button.ButtonSize-small{font-size:12px;padding:0px 8px;height:24px;line-height:24px}.Button.ButtonSize-medium{font-size:16px;padding:0px 15px;height:28px;line-height:28px}",""]),t.Z=c},86847:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".Flex{display:flex;box-sizing:border-box}.Flex-align--start{align-items:flex-start}.Flex-justify--start{justify-content:flex-start}.Flex-align--center{align-items:center}.Flex-justify--center{justify-content:center}.Flex-align--end{align-items:flex-end}.Flex-justify--end{justify-content:flex-end}.Flex--row{flex-direction:row}.Flex--row-reverse{flex-direction:row-reverse}.Flex--column{flex-direction:column}.Flex--column-reverse{flex-direction:column-reverse}.Flex--wrap{flex-wrap:wrap}.Flex--nowrap{flex-wrap:nowrap}",""]),t.Z=c},24024:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".NotesLight path{stroke:#48484e}.darkmode .NotesLight path{stroke:#b3b3b3}",""]),t.Z=c},58499:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".link{text-decoration:none;font-size:1em;line-height:inherit;cursor:pointer}.link:hover{text-decoration:underline}",""]),t.Z=c},95167:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".cbr-spinner--xspx{width:24px;height:24px}.cbr-spinner--smpx{width:28px;height:28px}.cbr-spinner--mdpx{width:32px;height:32px}.cbr-spinner--lgpx{width:40px;height:40px}.cbr-spinner--xlpx{width:48px;height:48px}.cbr-spinner--sm{width:2.8rem;height:2.8rem}.cbr-spinner--md{width:3.2rem;height:3.2rem}.cbr-spinner--lg{width:4rem;height:4rem}.cbr-spinner--xl{width:4.8rem;height:4.8rem}.cbr-spinner img{width:100%;height:auto;object-fit:cover}",""]),t.Z=c},62039:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,':root{--cbr-input-color: #525252;--cbr-input-border: #acacac;--cbr-input-background: white}.darkmode{--cbr-input-color: #525252;--cbr-input-border: #2d3e50;--cbr-input-background: white}.Textarea--xspx{font-size:12px;line-height:20px}.Textarea--smpx{font-size:14px;line-height:22px}.Textarea--mdpx{font-size:16px;line-height:24px}.Textarea--lgpx{font-size:20px;line-height:28px}.Textarea--xlpx{font-size:24px;line-height:32px}.Textarea--sm{font-size:1.4rem;line-height:2.2rem}.Textarea--md{font-size:1.6rem;line-height:2.4rem}.Textarea--lg{font-size:2rem;line-height:2.8rem}.Textarea--xl{font-size:2.4rem;line-height:3.2rem}.Textarea{font-family:"UbuntuRegular",Arial,Helvetica,sans-serif;box-sizing:border-box;border-radius:4px;border:1px solid var(--cbr-input-border);background-color:var(--cbr-input-background);color:var(--cbr-input-color);margin:.4rem 0;padding:.4rem .8rem}.Textarea::placeholder{opacity:.6;user-select:none}',""]),t.Z=c},92980:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,'.type--xspx{font-size:12px;line-height:20px}.type--smpx{font-size:14px;line-height:22px}.type--mdpx{font-size:16px;line-height:24px}.type--lgpx{font-size:20px;line-height:28px}.type--xlpx{font-size:24px;line-height:32px}.type--sm{font-size:1.4rem;line-height:2.2rem}.type--md{font-size:1.6rem;line-height:2.4rem}.type--lg{font-size:2rem;line-height:2.8rem}.type--xl{font-size:2.4rem;line-height:3.2rem}.type--normal{font-family:"UbuntuRegular",Arial,Helvetica,sans-serif;font-weight:400}.type--bold{font-family:"UbuntuBold",Arial,Helvetica,sans-serif;font-weight:400}.type--medium{font-family:"UbuntuMedium",Arial,Helvetica,sans-serif;font-weight:400}',""]),t.Z=c},55475:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,".modalAlert.Alert{display:block;position:fixed;overflow:auto;top:0;left:0;width:100%;height:100%;z-index:2000;-webkit-transform:translate3d(0, 0, 100px)}.modalAlert.Alert .dialog{width:440px;position:relative;display:inline-block;border-radius:10px;text-align:left;overflow:hidden;z-index:2001;font-family:UbuntuRegular,Helvetica,Arial,sans-serif;top:50%;left:50%;transform:translate(-50%, -50%)}.modalAlert.Alert .dialog .title{display:block;font-size:20px;padding:20px 20px 0px 20px;white-space:nowrap;font-weight:bold;overflow:hidden;text-overflow:ellipsis}.modalAlert.Alert .dialog .text{display:inline-block;word-wrap:break-word;padding:20px;text-align:left;font-size:15px}.modalAlert.Alert .dialog .dialogForm{border-top-width:1px;border-top-style:solid;text-align:center;height:40px;font-size:15px}.modalAlert.Alert .dialog .dialogForm .AcceptButton{min-width:70px;float:right;position:relative;top:7px;right:10px}.modalAlert.Alert .dialog .dialogForm .DeclineButton{min-width:70px;float:right;position:relative;top:7px;right:25px}@media(max-width: 600px){.modalAlert.Alert .dialog{width:auto}}",""]),t.Z=c},11899:function(e,t,r){var n=r(54933),o=r.n(n),i=r(93476),c=r.n(i)()(o());c.push([e.id,'.userNote{border-top-color:#f0f0f0;padding-top:8px;border-top-width:1px;border-top-style:solid}.darkmode .userNote{border-top-color:#17202a}.userNoteText{width:calc(100% - 20px);height:72px;line-height:14px;border-color:#acacac;resize:none;display:block;padding:7px 8px;margin:0px auto;overflow:auto;color:#000}.userNoteText::placeholder{opacity:1;user-select:auto}.darkmode .userNoteText{background-color:rgba(0,0,0,0);color:#fff;border-color:#2d3e50}.darkmode .userNoteText:focus{outline:none;box-shadow:0 0 0 2px #68b5f0}.noteCancelSubmit{margin:10px 10px 0 0;text-align:right}.notesIcon{height:12px;width:12px}.userNoteTitle{margin:0px 10px 8px 11px;height:15px}.userNoteTitleText{line-height:12px;margin-left:5px;vertical-align:top;display:inline-block}.cancelLink{margin-right:8px;vertical-align:middle}.cancelLink:hover{text-decoration:none}.userNoteBottomSpace{height:10px}.Button.noteSubmit{line-height:unset;vertical-align:middle}.userNoteIcon{padding:0px 4px 0 0;vertical-align:bottom;width:14px;height:14px;display:inline-block;margin-right:2px}.pmUcmContainer .userNoteText{height:50px}.pmUcmContainer:has(.pmUcmDescription):has([style*="display: flex"]>.pmUcmReportIcon):has(.noteCancelSubmit) .userNoteText{height:30px}',""]),t.Z=c}}]);