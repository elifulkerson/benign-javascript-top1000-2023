!function(){var e;(e=function(e){return e&&e.__esModule?e:{default:e}}).default=e,e.__esModule=!0;var t;(t=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}).default=t,t.__esModule=!0;var r;(r=function(e){if(Array.isArray(e))return t(e)}).default=r,r.__esModule=!0;var n;(n=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}).default=n,n.__esModule=!0;var a;(a=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}).default=a,a.__esModule=!0;var o;(o=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}).default=o,o.__esModule=!0;var i;(i=function(e){return r(e)||n(e)||a(e)||o()}).default=i,i.__esModule=!0;var c=e(i);!function(e){document.w_perf=document.w_perf||{id:{},timeout:!1,error:!1,timing:{},userAgentString:"na",qualDuration:0,maskDuration:0,docURL:"na",mds_cookie:"na",timeout_msg:"na"};var t,r=!1,n=!1;function a(){return navigator.userAgent}function o(){return document.URL.split("?")[0]}function i(t){performance.mark("w_qualEnd"),performance.mark("w_renderStart");try{var r=JSON.parse(t);if(r.profile&&(v=r,e.ixp.profile=v.profile),r.cookie){var n=p("mds_3rdparty_experience_store");n?-1===n.indexOf(r.cookie)?(f("mds_3rdparty_experience_store",r.cookie+","+n,7776e6),u(r.cookie+","+n)):f("mds_3rdparty_experience_store",n,7776e6):(f("mds_3rdparty_experience_store",r.cookie,7776e6),u(r.cookie))}r.ixp_xt&&f("ixp_xt",r.ixp_xt);var a=r.data;for(var o in a)if(void 0!==a[o].customCSS&&m(a[o].customCSS),void 0!==a[o].customJS&&l(a[o].customJS),void 0!==a[o].payload&&0!==a[o].payload.length)for(var i=0;i<a[o].payload.length;i++)if(void 0!==a[o].payload[i]){var c=g(a[o].payload[i].xpath);if(null!=c){var d=c.iterateNext();null!=d&&("string"!=typeof a[o].payload[i].content?(d.innerHTML=a[o].payload[i].content.value,void 0!==a[o].payload[i].content.attributes.className&&(d.className=a[o].payload[i].content.attributes.className)):d.innerHTML=a[o].payload[i].content)}}}catch(_){performance.mark("w_renderEnd"),w(!1)}var v;performance.mark("w_renderEnd"),w(!1),s()}function d(){return e.ixp=e.ixp||{},e.ixp}function u(t){d(),e.ixp.assignments=t}function s(){d();var t=p("ixp_xt");t&&-1!==t.indexOf(":")&&(e.ixp.xt=t,"ixp_xt",document.cookie=v("ixp_xt","",_(o()),"/","Thu, 01 Jan 1970 00:00:01 GMT"))}function m(e,t){var r=document.createElement("style");r.type="text/css",r.id=t||"WasabiCSS",r.appendChild(document.createTextNode(e)),document.head.appendChild(r)}function l(e,t){var r=document.createElement("script");r.type="text/javascript",r.id=t||"WasabiJS",r.appendChild(document.createTextNode(e)),document.head.appendChild(r)}function p(e){for(var t=document.cookie?document.cookie.split("; "):[],r={},n=t.length-1;n>=0;n--){var a=t[n].split("=");r[a[0]]=a[1]}return r[e]}function f(e,t,r){if(r){var n=new Date;n.setTime(n.getTime()+r);var a=n.toGMTString()}document.cookie=v(e,t,_(o()),"/",a)}function v(e,t,r,n,o,i){var c="";return c=(c=(c=(c=c+e+"=")+t+";")+"domain=."+r+";")+"path="+n+";",o&&(c=c+"expires="+o+";"),function(e){for(var t=[/\(iP.+; CPU .*OS 12[_\d]*.*\) AppleWebKit\//,/^.*Macintosh;.*Mac OS X 10_14.*Version.*Safari.*$/,/(Chromium|Chrome)\/(5[1-9]|6[0-6])\.(\d+)(?:\.(\d+)|)(?:\.(\d+)|)/,/UCBrowser\/[0-9][0-1]?.(\d+)\.(\d+)[\.\d]*!/,/UCBrowser\/12.[0-9][0-2]?.(\d+)[\.\d]*!/,/UCBrowser\/12.13.[0-2][\.\d]*/,/(?:\b(MS)?IE\s+|\bTrident\/7\.0;.*\s+rv:)(\d+)/,/\bMSIE\s+7\.0;.*\bTrident\/(\d+)\.0/],r=0;r<t.length;r++){var n=t[r];if(null!==e.match(n))return!1}return!0}(a())&&(c+="SameSite=None; Secure"),c}function _(e){var t=function(e){return(e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0]).split(":")[0].split("?")[0]}(e),r=t.split("."),n=r.length;return n>2&&(t=r[n-2]+"."+r[n-1],2==r[n-2].length&&2==r[n-1].length&&(t=r[n-3]+"."+t)),t}function g(e){try{return document.evaluate(e,document,null,XPathResult.ANY_TYPE,null)}catch(t){return}}function w(o){var i,c=document.documentElement;!1===o?(e.performance.mark("w_docMaskEnd"),c.className=c.className.replace(RegExp(" ?mask-document"),""),!0===r&&function(){!function(){try{performance.measure("w_masking","w_docMaskStart","w_docMaskEnd"),performance.measure("w_qualification","w_qualStart","w_qualEnd"),performance.measure("w_renderAllFrags","w_renderStart","w_renderEnd"),document.w_perf.maskDuration=performance.getEntriesByName("w_masking")[0].duration,document.w_perf.qualDuration=performance.getEntriesByName("w_qualification")[0].duration,document.w_perf.rendDuration=performance.getEntriesByName("w_renderAllFrags")[0].duration}catch(e){}}();var r=a();""!==r&&(document.w_perf.userAgentString=r),e.performance&&e.performance.timing&&(document.w_perf.timing=e.performance.timing);var o=[];o=document.w_perf;var i="//experimentation-preprod.us.api.intuit.com/track";t&&(i=t+"/track"),!1===n&&(document.w_perf.mds_cookie=p("mds_3rdparty_experience_store"),h(i,JSON.stringify(o),(function(){n=!0}),{url:i,timeout:0}))}(),i={siteName:e.wa.siteName||"",siteGroup:e.wa.siteGroup||"",siteHost:e.wa.siteHost||""},e.wa&&e.wa.trackPage&&e.wa.trackPage(i)):(e.performance.mark("w_docMaskStart"),m('html.mask-document:before { content: ""; background-color: #fff; height: 100%; position: fixed !important; width: 100%; z-index: 999999999; }',"maskOverlay"),c.className+=" mask-document")}function h(t,r,n,a){var o={url:(a=a||{}).url||t,method:a.method||"POST",success:a.success||void 0,fail:a.fail||void 0,other:a.other||void 0,withCredentials:a.withCredentials||!1,timeout:a.timeout||0};try{var i;(i=e.XMLHttpRequest?new e.XMLHttpRequest:new e.ActiveXObject("Microsoft.XMLHTTP")).onreadystatechange=function(){4===i.readyState&&(/^2/.test(i.status)&&n?n(i.response):/^5/.test(i.status)&&o.fail?(performance.mark("w_docMaskEnd"),performance.mark("w_qualEnd"),performance.mark("w_renderEnd"),performance.mark("w_qualError"),document.w_perf.error=!0,w(!1),s(),o.fail(i.response)):o.other&&o.other(i.response))},i.open(o.method,t,!0),i.setRequestHeader("Content-Type","application/json; charset=utf-8"),i.onerror=function(){e.performance.mark("w_qualError"),document.w_perf.error=!0,w(!1),s()},i.timeout=o.timeout,i.ontimeout=function(t){e.performance.mark("w_qualTimeout"),document.w_perf.timeout=!0,document.w_perf.timeout_msg=t,w(!1),s()},i.withCredentials=a.withCredentials,i.send(r)}catch(c){w(!1)}}function y(){var t=self!==top,r=function(e){if(""!==e.id)return"//*[@id='".concat(e.id,"']");if(e===document.body)return e.tagName.toLowerCase();for(var t=[];e&&e.nodeType===Node.ELEMENT_NODE;e=e.parentNode){for(var r=0,n=!1,a=e.previousSibling;a;a=a.previousSibling)a.nodeType!==Node.DOCUMENT_TYPE_NODE&&a.nodeName===e.nodeName&&++r;for(var o=e.nextSibling;o&&!n;o=o.nextSibling)o.nodeName===e.nodeName&&(n=!0);var i=(e.prefix?"".concat(e.prefix,":"):"")+e.localName,c=r||n?"[".concat(r+1,"]"):"";t.splice(0,0,i+c)}return t.length?"/".concat(t.join("/")):null},n=function(e){e.target!==document.body&&e.target.classList.add("ixp-wre-hover")},a=function(e){e.target!==document.body&&e.target.classList.remove("ixp-wre-hover")},o=function(t){if(t.target!==document.body){var n=document.getElementsByClassName("ixp-wre-clicked");(0,c.default)(n).forEach((function(e){return e.classList.remove("ixp-wre-clicked")})),t.target.classList.add("ixp-wre-clicked");var a={id:t.target.id,type:t.target.nodeName,xpath:r(t.target),className:t.target.className.replace("ixp-wre-clicked","").replace("ixp-wre-hover",""),innerHTML:t.target.innerHTML,src:t.target.src,backgroundImage:t.target.style.backgroundImage,width:t.target.width,height:t.target.height,alt:t.target.alt};t.preventDefault(),t.stopImmediatePropagation(),e.top.postMessage({type:"ixp_wce_elementClicked",data:a},"*")}},i=function(e){var t=e.xpath,r=e.isHighlighted;g(t).iterateNext().style.outline=r?"none":" dashed green 3px "};t&&(e.top.postMessage("ixp_wce_init","*"),e.addEventListener("message",(function(t){var r,c,d;"ixp_wce_continueInit"===t.data.type?(t.data,(d=document.createElement("style")).type="text/css",d.innerHTML=".ixp-wre-clicked { outline: solid red 2px; } .ixp-wre-hover { outline: solid blue 2px }",document.getElementsByTagName("head")[0].appendChild(d),document.addEventListener("mouseover",n,!1),document.addEventListener("mouseout",a,!1),document.addEventListener("click",o,!1)):"ixp_wce_setAllChanges"===t.data.type?(function(e){if(e)for(var t=e,r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];if(void 0!==t[a]){var o=g(a);if(null!=o){var i=o.iterateNext();null!=i&&("string"!=typeof t[a]?(t[a].value&&(i.innerHTML=t[a].value),t[a].attributes&&void 0!==t[a].attributes.className&&(i.className=t[a].attributes.className)):i.innerHTML=t[a])}}}}(t.data.changeList),m(t.data.customCSS),l(t.data.customJS)):"ixp_wce_changeDeleted"===t.data.type?e.location=e.location:"ixp_wce_highlightElement"===t.data.type?t.data.elements.forEach(i):"ixp_wce_applyElementChange"===t.data.type?null!=(c=g((r=t.data.data).xPath).iterateNext())&&("string"!=typeof r.content?(r.content.value&&(c.innerHTML=r.content.value),r.content.attributes&&void 0!==r.content.attributes.className&&(c.className=r.content.attributes.className)):r.content&&(c.innerHTML=r.content)):"ixp_wce_applyCustomCSS"===t.data.type?m(t.data.customCSS):"ixp_wce_applyCustomJS"===t.data.type&&l(t.data.customJS)}),!1))}void 0===e.performance?e.performance={mark:function(){},measure:function(){}}:void 0!==e.performance.mark&&void 0!==e.performance.measure?r=!0:(void 0===e.performance.mark&&(e.performance.mark=function(){}),void 0===e.performance.measure&&(e.performance.measure=function(){})),e.wasabi={init:function(r){y(),d(),t=r.srvcEndPoint,void 0===e.wa?e.wa={preventPageCall:"true"}:e.wa.preventPageCall="true",document.addEventListener("readystatechange",(function(n){if(n.target.readyState===r.executionEvent){var a=o(),c=p("ivid");if(""!==c&&void 0!==c&&void 0!==c){document.w_perf.id=c,document.w_perf.docURL=a;var d="//experimentation-preprod.us.api.intuit.com/track";t&&(d=t+"/track"),h(d,JSON.stringify({id:c,docURL:a,initTS:(new Date).getTime(),type:"customTrack"}),(function(){}),{url:d,timeout:0}),function(t,r,n){performance.mark("w_qualStart");var a=p("mds_3rdparty_experience_store"),o=p("ixp_xt");if(void 0===t||""===t)return performance.mark("w_qualEnd"),w(!1),s(),!1;var c,d={version:r.version,ivid:t,business_unit:r.business_unit,application_name:r.application_name,country:r.country,url:n,queryParams:e.location.search.length>0?e.location.search.substring(1):null,queryStringMap:(c={},e.location.search.length>0?e.location.search.substring(1).split("&").forEach((function(e){e=e.split("="),c[e[0]]=decodeURIComponent(e[1]||"")})):c=null,c)};""!==a&&(d.cookie=a),o&&""!==o&&-1!==o.indexOf(":")&&3===o.split(":").length&&(d.ixp_xt=o);var u=r.cookies;if(u&&Array.isArray(u)&&u.length>0)for(var m in u){var l=u[m];if(l&&"string"==typeof l&&l.trim().length>0&&void 0===d[l]){d[l]="NA";var f=p(l);f&&l.trim().length>0&&(d[l]=f)}}try{h(r.srvcEndPoint,JSON.stringify(d),i,{timeout:15e3})}catch(v){performance.mark("w_qualEnd")}}(c,r,a)}else console.log("Unable to detect ivid, ixp will not run"),w(!1)}})),w()},setListenersForWebContentEditor:y}}(window)}();