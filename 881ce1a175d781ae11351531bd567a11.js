"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521,3482,1435],{73482:function(t,e,n){n.r(e);n(67294);var o=n(94184),a=n.n(o),i=n(88851),r=n(35944);e.default=function(t){return t.texts.map((function(t,e){if(t.type_notrans){var n=t.type_notrans;return(0,r.tZ)(n,{className:a()(t.class_notrans),children:(0,r.tZ)(i.ZP,{html:t.text})},e)}}))}},80521:function(t,e,n){n.r(e),n.d(e,{default:function(){return I}});var o=n(59499),a=n(17674),i=n(55319),r=n(67294),s=n(13507),l=n(80754),c=n(88851),u=n(94184),p=n.n(u),m=n(56987),g=n(94158),d=n(86065),f=n(66744),b=n(11400),_=n(15649),h=n(35944),w="user_signup_email_from_login_app";function x(t){var e=(0,r.useRef)(null),n=(0,r.useRef)(null),o=(0,r.useContext)(f.Z).is_auto_signup,a=(0,d.Z)(w).cookieValue,i=(0,_.Z)(),s=i.isInRemoveGatedTrialCtaForNonTrialers,u=i.isInRemoveGatedTrialCtaForNonTrialersExperiment;function x(n){null===n||void 0===n||n.preventDefault(),e.current&&("modal-signup"!==t.context&&window.AsanaAnalytics.trackGTM("start_free_trial_button"),"modal-signup"===t.context&&window.AsanaHelpers.enterFreeSignupFlow(),t.supports_pin_verification?window.AsanaHelpers.signupWithEmail(e.current,{isAutoSignup:o,supportsPinVerification:t.supports_pin_verification}):window.AsanaHelpers.signupWithEmail(e.current,{isAutoSignup:o}))}var y=(0,c.Tc)(t.ctaCompleteSignup);switch(t.context){case"modal-try":case"modal-trial":t.ctaSignupTrial;break;case"get-started":t.ctaSignupWithoutFree;break;case"modal-signup":case"modal-buy-premium":case"modal-buy-business":t.ctaCompleteSignup;break;default:t.ctaSignupEmail}function Z(){if(AsanaHelpers){var e=(0,m.stringsToFunction)(t.click_notrans);e&&e()}}function k(){if(a)n.current.value=a,AsanaStorage.setCookie(w,"",AsanaStorage.CATEGORY.FUNCTIONAL,-1,!0,window.location.pathname),Z(),x();else{var t=window.AsanaHelpers.asanaDotComUrl("/create-account"),e=new URL(t,window.location.origin);e.search=window.location.search,window.location.href=e.toString()}}return(0,r.useEffect)((function(){n.current.focus(),o&&k()}),[]),(0,h.BX)(h.HY,{children:[(0,h.BX)("form",{noValidate:!0,className:p()("signupForm",t.context&&"-".concat(t.context),"hidden-logged-in",t.class_notrans),onSubmit:x,ref:e,children:[(0,h.tZ)("div",{className:p()("signupForm-container",{"-center":t.center}),children:(0,h.BX)("div",{className:"signupForm-row",children:[(0,h.BX)("div",{className:"signupForm-email",children:[(0,h.tZ)("input",{type:"hidden",name:"name",value:""}),(0,h.tZ)("input",{className:p()("input","input--email","signup-email",t.context&&"signup-email-".concat(t.context)),placeholder:t.emailPlaceholder,name:"email",type:"email",autoFocus:!!t.autofocus_notrans,ref:n}),(0,h.tZ)("span",{id:"signup-email__invalid-domain",className:"input-message input-message--error",children:t.ctaSignupDomainInvalid}),(0,h.tZ)("span",{id:"signup-email__bad_format",className:"input-message input-message--error",children:(0,h.tZ)(c.ZP,{html:t.ctaSignupBadFormat})}),t.ctaSignupDomainClose&&(0,h.tZ)("span",{id:"signup-email__close-domain",className:"input-message input-message--error",children:(0,h.tZ)(c.ZP,{html:t.ctaSignupDomainClose})})]}),(0,h.BX)(v,{className:p()("signupForm-submit","submit","-large",t.context&&"signup-submit-".concat(t.context),t.button_classname),onClick:Z,children:[(0,h.BX)("span",{className:"signupForm-submit-text js-signupForm-submit--try",children:[(0,h.tZ)("span",{children:"modal-try"===t.context||"modal-trial"===t.context?t.ctaSignupTrial:"get-started"===t.context?t.ctaSignupWithoutFree:"modal-signup"===t.context||"modal-buy-premium"===t.context||"modal-buy-business"===t.context||"buy-page"===t.context?y:t.ctaSignupEmail}),(0,h.tZ)("span",{children:t.ctaSignupProgress})]}),(0,h.BX)("span",{className:"signupForm-submit-text js-signupForm-submit--buy",children:[(0,h.tZ)("span",{children:t.ctaCompleteSignup}),(0,h.tZ)("span",{children:t.ctaSignupProgress})]})]})]})}),!0===t.premium_link&&(0,h.BX)("p",{children:["Learn more about ",(0,h.tZ)(l.default,{href:"/premium",children:"Asana Premium"})]})]}),"modal-try"!==t.context&&"modal-signup"!==t.context&&"modal-trial"!==t.context&&"modal-buy"!==t.context&&"modal-get-started"!==t.context&&"modal-buy-premium"!==t.context&&"modal-buy-business"!==t.context&&(0,h.tZ)("a",{href:s?(0,g.B)():(0,g.T)("/-/upgrade?trial=true"),className:"button -large invisible-logged-out -mobile-full",onClick:function(e){(0,b.sW)({action:"Click",page:"PrimaryCTA"},t.ctaSignupEmail),u&&(0,_.g)()},children:t.ctaSignupEmail})]})}function v(t){var e=t.onClick,n=t.className,o=t.children,a=(0,r.useState)(!1),i=a[0],s=a[1];return(0,r.useEffect)((function(){var t=function(){return s(!0)},e=function(t){t.persisted&&s(!1)};return window.addEventListener("pagehide",t),window.addEventListener("pageshow",e),function(){window.removeEventListener("pagehide",t),window.removeEventListener("pageshow",e)}}),[]),(0,h.BX)("button",{className:p()(n,{"-request":i}),onClick:e,children:[(0,h.tZ)("span",{className:"signupForm-submit-icon",children:(0,h.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",children:(0,h.tZ)("circle",{cx:"8",cy:"8",r:"7.5"})})}),o]})}var y=n(21435),Z=function(t){var e=t.buttonText,n=t.buttonClassName,o=t.buttonTextClassName,a=function(){window.AsanaAnalytics.trackGTM("login_google_auth"),window.AsanaAnalytics.trackGTM("signup_google_auth"),(0,y.ZP)({oauth_action_url:window.AsanaHelpers.appUrl("/-/oauth2callback"),target_url:window.AsanaHelpers.appUrl(),is_create:!0,xsrf_token:window.AsanaHelpers.getOrCreateXsrfToken(),window:window})};return(0,h.BX)("a",{className:p()("gmail-button-continue exp-gmail-button-continue",n),title:e,tabIndex:0,onClick:function(){a()},onKeyDown:function(t){"Enter"===t.key&&a()},children:[(0,h.tZ)("div",{className:"google-sso-verification-button-background",children:(0,h.tZ)("img",{className:"gmail-button-icon-continue",srcSet:"https://luna1.co/020de6.png 1x, https://luna1.co/328201.png 2x",src:"https://luna1.co/020de6.png",alt:"Google logo"})}),(0,h.tZ)("div",{className:"gmail-button-text-wrapper-continue",children:(0,h.tZ)("span",{className:p()("gmail-button-text-continue",o),children:e})})]})},k=n(66045),N=n(71487);var C=(0,i.Z)("div",{target:"e1a20g1y1"})("margin:20px 0 0 0;max-width:432px;.form-option{margin:0;padding:",N.N.SPACING_16," 0;font-size:12px;color:",k.D.NEUTRAL_4,";&::before,&::after{width:43%;border-color:",k.D.NEUTRAL_4,";}}a.gmail-button-continue{margin:0;border-color:",k.D.NEUTRAL_5,";background-color:transparent;transition:0.25s border-color;&:hover{background-color:transparent;border-color:",k.D.NEUTRAL_9,";transition:0.25s border-color;}&.-bg-blue{background-color:#4285f4;}}span.gmail-button-text-continue{&.-white{color:#fff;padding-left:",N.N.SPACING_8,";}}"),S=(0,i.Z)("span",{target:"e1a20g1y0"})({name:"50zrmy",styles:"text-transform:uppercase"});function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var E=function(t){var e=(0,r.useContext)(s.Z).global_or;return(0,h.BX)(C,{id:"signupFormWithGoogleButton",children:[(0,h.tZ)(Z,{buttonText:t.google_button_text,buttonTextClassName:t.google_button_text_class_notrans,buttonClassName:t.google_button_class_notrans}),(0,h.tZ)("div",{className:"form-option",children:(0,h.tZ)(S,{children:e})}),(0,h.tZ)(x,O({},t))]})},A=n(16744),P=n(14844),j=n(73482),F=n(27949),D=n(13247);function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t){var e,n=(0,r.useContext)(s.Z),o={ctaSignupEmail:n.global_CTAcompleteSignup,ctaSignupTrial:n.global_CTAsignupTrial,ctaSignupWithoutFree:n.global_CTAsignupWithoutFree,ctaCompleteSignup:n.global_CTAcompleteSignup,emailPlaceholder:n.global_placeholderEmail,ctaSignupDomainInvalid:n.global_CTAsignupDomainInvalid,ctaSignupBadFormat:n.global_CTAsignupBadFormat,ctaSignupProgress:n.global_CTAsignupProgress,ctaSignupDomainClose:n.global_CTAsignupDomainClose,emailLabel:n.global_labelEmail,emailPasswordLabel:n.global_labelPassword,emailPasswordPlaceholder:n.global_placeholderPassword,ctaLoginEmail:n.global_CTAloginEmail,forgotPassword:n.global_forgotPassword},i=(0,A.ZP)(),l=!(0,a.Z)(i,1)[0]&&t.show_signup_google_button_notrans,c=t.should_wrap_container_notrans?X:r.Fragment,u=(0,P.Z)(),p=!(null===(e=t.multiline_notrans)||void 0===e||!e.includes(u));return l?(0,h.BX)(c,{multiline:p,children:[(0,h.tZ)(E,L(L({},o),t)),Array.isArray(t.texts)?(0,h.tZ)(j.default,{texts:t.texts}):null]}):(0,h.tZ)(x,L(L({},o),t))}var X=(0,i.Z)("div",{target:"e15qgsnz0"})("display:grid;grid-template-columns:425px;justify-content:center;",(0,D.mq)(D.Uo.MOBILE_480,!0),"{grid-template-columns:auto;.gmail-button-text-continue{font-size:14px!important;line-height:1.25;}}",(0,D.mq)(D.Uo.MOBILE_375,!0),"{.signup-email-create-account,.signupForm-submit{font-size:14px;}}.form-option{padding:4px 0!important;span{color:",F.fV.TEXT.TEXT_WEAK,";font-weight:500!important;}}.signupForm-tos{font-size:12px;line-height:20px;a{font-weight:normal;text-decoration:underline;color:",F.fV.TEXT.TEXT,";border:0;:hover{text-decoration-color:",F.fV.INLINE_LINKS.INLINE_LINK_HOVER,";}}}.signupForm-row{padding:0;}#signupFormWithGoogleButton{display:flex;flex-direction:column;margin-bottom:16px;}.signupForm-email{flex:2;}.signupForm-submit{flex:1;",(function(t){return t.multiline?"padding: 16px":""}),";}.gmail-button-text-continue{",(function(t){return t.multiline?"line-height: 120%":""}),";}")},21435:function(t,e,n){n.d(e,{Hq:function(){return a},ZP:function(){return i},qb:function(){return r},wL:function(){return o}});var o="1032199425885-oq9scukspijc682n7k2erv386nc58que.apps.googleusercontent.com",a="/-/oauth2callback";function i(t){var e=[t.target_url,t.is_create?"create":"","https://asana.com",t.xsrf_token,t.opt_share_link_domain_id?t.opt_share_link_domain_id:"",t.opt_share_link_key?t.opt_share_link_key:""].join(" ");t.window.location.href=function(t,e,n){var o={redirect_uri:t,response_type:"code",client_id:"1032199425885-oq9scukspijc682n7k2erv386nc58que.apps.googleusercontent.com",scope:"profile email",state:e,prompt:"select_account",login_hint:n},a=[];return Object.keys(o).forEach((function(t){o[t]&&a.push(t+"="+encodeURIComponent(o[t]))})),"https://accounts.google.com/o/oauth2/auth?"+a.join("&")}(t.oauth_action_url,e,t.opt_google_email)}var r=function(t,e){var n=e.target_url,o=e.is_create,a=e.xsrf_token,i=e.id,r={state:[n,o?"create":"",n,a].join(" "),id:i,xsrf_token:a},s=Object.keys(r).map((function(t){if(r[t])return t+"="+encodeURIComponent(r[t])})).join("&");return"".concat(t,"?").concat(s)}}}]);