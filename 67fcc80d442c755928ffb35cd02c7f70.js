(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4103],{53308:function(e,t,a){"use strict";var s=a(11527),r=a(84875),n=a.n(r),l=a(32472),i=a.n(l),o=a(66283),c=a(80309),d=a(25505),m=a(97735),h=a(72739),u=a(97087),x=a(23937),p=a(77078),v=a(54194);let f=e=>{let{id:t,title:a,content:r,thumbnail:l,threadType:f,imageResolution:_,hotThreadDescription:b,hotThreadUrl:y,hotThreadPromotionData:g,isFixedRatio:j,push:w,utm:N}=e,k=new URLSearchParams(N),C=Object.fromEntries(k),Z={pathname:o.Cut,query:{ids:[t,(0,u.Z)(a)],...C}},{selectedThread:T}=(0,d.q)(),I=T.includes(t),{cardDisplayType:S}=(0,c.O)(),P=r.text,D=b||P,R=f===m.Th.VIDEO?r.video_url:y,U=f===m.Th.IMAGE?r.images:void 0,E=f!==m.Th.IMAGE||j?{ratio_width:16,ratio_height:9}:r.aspect_ratio,O=S==m.z9.COMPACT,L=!!parseInt((0,h.ej)(o.I7K)),F=()=>(0,s.jsx)("p",{className:"line-clamp-3 text-sm text-secondary dark:text-secondary-night",children:D});return S&&O?l||f===m.Th.VIDEO?L?(0,s.jsx)("div",{className:"relative ml-2 flex h-20 w-20 flex-none items-center overflow-hidden rounded-md rounded-bl-none bg-grey-2 dark:bg-grey-6"}):(0,s.jsx)(i(),{href:Z,title:a,onClick:()=>w(),className:"relative ml-2 flex h-20 w-20 flex-none items-center overflow-hidden rounded-md rounded-bl-none",children:(0,s.jsx)(p.Z,{width:160,height:160,alt:a,src:(null==l?void 0:l.url)||x.OB,threadType:f,isCensored:!!(null==l?void 0:l.is_censored),displayType:S,imagesCount:U&&U.length,className:"aspect-square object-cover"})}):null:U?U?(0,s.jsx)(v.Z,{imageList:U,aspectRatio:E,targetUrl:"".concat(o.PIw.replace(o.PC7.ID,t).replace(o.PC7.SLUG,(0,u.Z)(a)),"?").concat(N),resolution:_}):(0,s.jsx)(s.Fragment,{}):R?(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsx)("div",{className:"mb-2",children:F()}),(0,s.jsx)("div",{className:"overflow-hiddenrounded-bl-none relative block h-0 pb-thumbnail",children:(0,s.jsx)("iframe",{className:"absolute left-0 top-0 h-full w-full",src:R,allowFullScreen:!0})})]}):!L&&(l||j)?(0,s.jsxs)(s.Fragment,{children:[g&&(0,s.jsx)("div",{className:"mb-2",children:F()}),(0,s.jsx)(i(),{href:Z,title:a,onClick:()=>w(),className:"relative block h-0 overflow-hidden rounded-md rounded-bl-none pb-thumbnail",children:(0,s.jsx)(p.Z,{width:368,height:190,alt:a,src:(null==l?void 0:l.url)||x.OB,threadType:f,isCensored:!!(null==l?void 0:l.is_censored),displayType:S,className:"aspect-video object-cover"})})]}):(0,s.jsxs)(i(),{href:Z,title:a,onClick:()=>w(),className:"relative block max-h-48 overflow-hidden hover:no-underline",children:[F(),(0,s.jsx)("span",{className:n()("absolute bottom-0 h-12 w-full",I?"bg-gradient-to-t from-blue-selected to-transparent dark:from-blue-selected-night":"bg-gradient-to-t from-white to-transparent dark:from-grey-7")})]})};t.Z=f},75368:function(e,t,a){"use strict";a.d(t,{Z:function(){return E}});var s=a(11527),r=a(84875),n=a.n(r),l=a(32472),i=a.n(l),o=a(66283),c=a(82674),d=a(8227),m=a(10328),h=a(99739),u=a(80309),x=a(94460),p=a(47639),v=a(19987),f=a(97735),_=a(27264),b=a(72739),y=a(76955),g=a(97087),j=a(23003),w=a(21498);function N(e){var t,a,r;let{id:l,slug:d,community:m,dateline:N,thread_starter:k,hot_thread_data:C,utm:Z,className:T}=e,{cardDisplayType:I}=(0,u.O)(),{channelId:S}=(0,c.v)(),P=new URLSearchParams(Z),D=Object.fromEntries(P),R="".concat(o.gUP.replace(o.PC7.ID,k.id.toString()),"?").concat(Z),U=null===(t=C.promotion_data)||void 0===t?void 0:t.promoted_username,E=null===(a=C.promotion_data)||void 0===a?void 0:a.entitlement,O=!!U,L=!!parseInt((0,b.ej)(o.I7K)),{isLogin:F,showLoginModal:W}=(0,x.s)(),{mutate:M}=(0,v.G3)({channelId:S}),{joinCommunity:z}=(0,p.Z)(),{t:A}=(0,h.$G)(),V=async()=>{if(!F){W();return}m.membership_status===f.iL.NOT_JOINED&&z(m,{label:_.__.thread.hot},M)};return(0,s.jsxs)("div",{className:n()("flex py-2 md:mb-1 md:pt-0",T),children:[(0,s.jsx)("div",{className:"flex flex-none",children:L?(0,s.jsx)("div",{className:"relative flex h-9 w-9 overflow-hidden rounded-md bg-grey-2 dark:bg-grey-6"}):(0,s.jsx)("img",{className:"h-9 w-9",src:null===(r=m.icon)||void 0===r?void 0:r.url,alt:m.name})}),(0,s.jsxs)("div",{className:"ml-2 flex-auto text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center font-bold",children:[(0,s.jsx)(i(),{className:"text-primary dark:text-primary-night",href:{pathname:o.yuL,query:{ids:[String(m.id),(0,g.Z)(m.name)],...D}},title:m.name,onClick:()=>(0,_.ZP)({category:_.WD.community.interaction,action:_.aU.community.open,label:S===o.OyQ?_.__.thread.popular:_.__.thread.hot,extra:{forumID:m.id,forumName:m.name,cardStyle:I,communityRead:"1"}}).push(),children:(0,s.jsx)(w.Z,{community:m})}),O?(0,s.jsx)(i(),{className:"ml-2 text-blue dark:text-blue-night",href:{pathname:o.Cut,query:{ids:[l,(0,g.Z)(d)]}},title:A("detail_label")||"Detail",children:A("detail_label")}):m.membership_status===f.iL.NOT_JOINED?(0,s.jsx)("div",{className:"ml-2 cursor-pointer text-blue dark:text-blue-night",onClick:()=>V(),children:A("join_community_label")}):null]}),(0,s.jsxs)("div",{className:"flex text-xs md:text-sm",children:[O?(0,s.jsx)("div",{className:"text-secondary dark:text-secondary-night",children:U}):(0,s.jsx)("a",{href:R,title:k.display_name,onClick:()=>(0,_.ZP)({category:S===o.OyQ?_.WD.thread.popular:_.WD.thread.hot,action:_.aU.profile.open,label:String(k.id)}).push(),className:"text-secondary dark:text-secondary-night",children:(0,s.jsx)(j.Z,{html:k.display_name_html})}),(0,s.jsx)("div",{className:"ml-1 text-primary dark:text-primary-night",children:"â€¢"}),(0,s.jsx)("div",{className:"ml-1 text-tertiary dark:text-tertiary-night",children:O?E||"Sponsored":(0,y.sG)(N)})]})]})]})}var k=a(53308);let C=e=>{let{id:t,slug:a,title:r,content:n,thumbnail:l,thread_type:d,hot_thread_data:m,isFixedRatio:h,utm:x,commerce_type:p}=e,{cardDisplayType:v}=(0,u.O)(),{channelId:b}=(0,c.v)(),y=new URLSearchParams(x),g=Object.fromEntries(y),j=(0,_.ZP)({category:_.WD.GA4,action:_.aU.thread.open,label:b===o.OyQ?_.__.thread.popular:_.__.thread.hot,extra:{threadID:t,threadTitle:r,cardStyle:v,threadRead:"1",threadCategory:p||f.FF.NONE}});return v&&v==f.z9.THUMBNAIL?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(),{href:{pathname:o.Cut,query:{ids:[t,a],...g}},title:r,onClick:()=>j.push(),className:"mb-2 block flex-1 text-lg font-medium visited:text-tertiary dark:visited:text-tertiary-night",children:r}),(0,s.jsx)(k.Z,{id:t,content:n,title:r,threadType:d,thumbnail:l,hotThreadDescription:m.description,hotThreadUrl:m.url,hotThreadPromotionData:m.promotion_data,isFixedRatio:h,utm:x,...j})]}):(0,s.jsxs)("div",{className:"flex text-primary dark:text-primary-night",children:[(0,s.jsx)(i(),{href:{pathname:o.Cut,query:{ids:[t,a],...g}},title:r,onClick:()=>j.push(),className:"block flex-auto text-lg font-medium visited:text-tertiary dark:visited:text-tertiary-night",children:r}),(0,s.jsx)(k.Z,{id:t,content:n,title:r,threadType:d,thumbnail:l,hotThreadDescription:m.description,hotThreadUrl:m.url,hotThreadPromotionData:m.promotion_data,isFixedRatio:h,utm:x,...j})]})};var Z=a(50959),T=a(27036),I=a(84832),S=a(75923),P=a(34462),D=a(59399);let R=e=>{let{id:t,title:a,meta:r,community:l,first_post_id:i,thread_starter:d,short_url:m}=e,{user:h,isLogin:u,showLoginModal:p}=(0,x.s)(),{vote:v,userVote:b,voteAction:y,getLayerVoteType:g,getDataLayerActionType:j,getAdditionalLayerVoteType:w}=(0,D.Z)(r.rating,r.vote_status),[N,k]=(0,Z.useState)(!1),{channelId:C}=(0,c.v)(),R=r.total_views,U=r.reply_count,E=()=>{k(!0)},O=async e=>{if(!u){p();return}y(e,i,l).then(s=>{var r;let n=e===f.dz.UPVOTE,c=C===o.OyQ;(0,_.ZP)({action:j(n,s),category:c?_.WD.thread.popular:_.WD.thread.hot,label:"[".concat(t," | ").concat(i,"]"),extra:{postID:i,threadID:t,threadTitle:a,forumID:l.id,forumName:l.name,userIDHit:(null==h?void 0:null===(r=h.data)||void 0===r?void 0:r.id)||"",...g(n,s),...w(n)}}).push()})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex justify-between pt-3 text-secondary dark:text-secondary-night",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"mr-2 cursor-pointer",onClick:()=>O(f.dz.UPVOTE),children:(0,s.jsx)(I.Z,{className:n()(" !text-base ",{"fa-beat animate-beat text-green-reputation":b>0}),variant:"arrow-alt-up",light:b<=0,hover:!0})}),(0,s.jsx)("div",{className:"text-sm",children:v}),(0,s.jsx)("div",{className:"ml-2 cursor-pointer",onClick:()=>O(f.dz.DOWNVOTE),children:(0,s.jsx)(I.Z,{className:n()(" !text-base ",{"fa-beat animate-beat text-red-reputation":b<0}),variant:"arrow-alt-down",light:b>=0,hover:!0})})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("div",{className:"mr-4 flex items-center",children:[(0,s.jsx)(I.Z,{className:"text-base",variant:"chart-simple",light:!0}),(0,s.jsx)("div",{className:"ml-2 text-xs",children:(0,T.F)(R)})]}),(0,s.jsxs)("div",{className:"mr-2 flex cursor-pointer items-center",onClick:E,children:[(0,s.jsx)(I.Z,{className:"text-base",variant:"comment",light:!0,hover:!0}),(0,s.jsx)("div",{className:"ml-2 text-xs",children:(0,T.F)(U)})]}),(0,s.jsx)(S.Z,{title:a,customURL:m,description:a,direction:"left",onShared:e=>{(0,_.ZP)({category:_.WD.card.thread,action:_.aU.thread.share,label:e,extra:{threadID:t,threadTitle:a,forumID:l.id,forumName:l.name}}).push()}})]})]}),N&&(0,s.jsx)(P.Z,{userId:d.id,threadId:t,onClose:()=>k(!1)})]})},U=e=>{var t;let{item:a,displayType:r,className:l,isFixedRatio:h}=e,{channelId:u}=(0,c.v)(),x="".concat((0,d.ZP)(d.OL.getChannelLanding(u),d.VY.hot_thread),"&style=").concat(r),p=new URLSearchParams(x),v=Object.fromEntries(p);return(0,s.jsxs)("div",{className:n()("flex w-full flex-col justify-between bg-white p-4 dark:bg-grey-7",l),children:[(0,s.jsx)(N,{...a,utm:x}),(0,s.jsx)(C,{...a,isFixedRatio:h,utm:x}),(null===(t=a.hot_thread_data.promotion_data)||void 0===t?void 0:t.cta_button)?(0,s.jsx)(i(),{href:{pathname:o.Cut,query:{ids:[a.id,a.slug],...v}},title:a.hot_thread_data.promotion_data.cta_button,className:"block no-underline hover:no-underline",children:(0,s.jsx)(m.Z,{type:"secondary",className:"mt-2 w-full",children:a.hot_thread_data.promotion_data.cta_button})}):(0,s.jsx)(R,{...a})]})};var E=U},66046:function(e,t,a){"use strict";var s=a(11527),r=a(84875),n=a.n(r),l=a(97735);let i=e=>{let{className:t,displayType:a}=e,r=a===l.z9.THUMBNAIL;return(0,s.jsx)("div",{className:n()("block w-full bg-white p-4 dark:bg-grey-7 lg:mb-4 lg:border-b-0",t),children:(0,s.jsxs)("div",{className:"flex flex-col py-2 md:mb-1 md:pt-0",children:[(0,s.jsxs)("div",{className:"flex w-full",children:[(0,s.jsx)("div",{className:"h-9 w-9 shrink-0 animate-pulse rounded-full bg-grey-3"}),(0,s.jsxs)("div",{className:"flex w-full flex-col opacity-70",children:[(0,s.jsx)("div",{className:"ml-2 h-4 w-1/2 animate-pulse bg-grey-3"}),(0,s.jsx)("div",{className:"ml-2 mt-1 h-4 w-3/4 animate-pulse bg-grey-3"})]})]}),r&&(0,s.jsxs)("div",{className:"mt-4 flex w-full flex-col",children:[(0,s.jsx)("div",{className:"mt-1 flex h-4 w-3/4 animate-pulse bg-grey-3"}),(0,s.jsx)("div",{className:"mt-1 flex h-4 w-full animate-pulse bg-grey-3"}),(0,s.jsx)("div",{className:"mt-1 flex h-4 w-1/4 animate-pulse bg-grey-3"})]}),!r&&(0,s.jsxs)("div",{className:"mt-2 flex w-full",children:[(0,s.jsxs)("div",{className:"flex w-full flex-col",children:[(0,s.jsx)("div",{className:"mt-1 flex h-4 w-3/4 animate-pulse bg-grey-3"}),(0,s.jsx)("div",{className:"mt-1 flex h-4 w-full animate-pulse bg-grey-3"}),(0,s.jsx)("div",{className:"mt-1 flex h-4 w-1/4 animate-pulse bg-grey-3"})]}),(0,s.jsx)("div",{className:"relative ml-4 flex h-20 w-20 flex-none animate-pulse items-center overflow-hidden rounded-md rounded-bl-none bg-grey-2 dark:bg-grey-6"})]}),r&&(0,s.jsx)("div",{className:"mt-4 flex w-full",children:(0,s.jsx)("div",{className:n()("mt-1 flex h-48 w-full animate-pulse rounded-md bg-grey-3")})}),(0,s.jsxs)("div",{className:"mt-4 flex w-full justify-between opacity-70",children:[(0,s.jsx)("div",{className:"flex h-4 w-1/6 animate-pulse bg-grey-3"}),(0,s.jsx)("div",{className:"flex h-4 w-1/2 animate-pulse bg-grey-3"})]})]})})};t.Z=i},3431:function(e,t,a){"use strict";var s=a(11527),r=a(50959),n=a(84875),l=a.n(n),i=a(16864),o=a(34510);let c=e=>{let{title:t,content:a,okButton:n,cancelButton:i,proceed:c}=e,[d,m]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{m(!0)},[]),(0,s.jsx)(o.Z,{onClose:()=>c&&c(!1),children:(0,s.jsxs)("div",{className:l()("relative top-1/2 left-1/2 w-300p -translate-x-1/2 -translate-y-1/2 rounded-lg bg-white p-5 shadow-lg transition-all dark:bg-grey-8 lg:w-80 ",d?"scale-100":"scale-50"),children:[!!t&&(0,s.jsx)("div",{className:"mb-2 w-full text-center text-base font-semibold text-primary dark:text-primary-night",children:t}),!!a&&(0,s.jsx)("div",{className:"flex w-full justify-center text-center text-sm text-secondary dark:text-secondary-night",children:a}),(0,s.jsxs)("div",{className:"mx-auto mt-5 flex w-full max-w-lg justify-center",children:[!!i&&(0,s.jsx)("div",{className:"mr-3 flex w-full",onClick:()=>c&&c(!1),children:i}),!!n&&(0,s.jsx)("div",{className:"flex w-full",onClick:()=>c&&c(!0),children:n})]})]})})},d=e=>(0,i.L)((0,i.m)(c))({...e});t.Z=d},94414:function(e,t,a){"use strict";var s=a(11527),r=a(84875),n=a.n(r),l=a(84832),i=a(64395),o=a.n(i);let c=e=>{let{className:t,icon:a,iconClassName:r,title:i}=e;return(0,s.jsxs)("div",{className:n()(t,"flex items-center"),children:[(0,s.jsx)("div",{className:n()(r,o().sectionHeaderIcon,"h-5 w-5 flex-none lg:h-7 lg:w-7"),children:(0,s.jsx)(l.Z,{variant:a,className:"h-3 w-3 !text-xs lg:h-5 lg:w-5 lg:!text-base"})}),(0,s.jsx)("div",{className:n()(o().sectionHeaderTitle,"dark:text-primary-night"),children:i})]})};t.Z=c},64104:function(e,t,a){"use strict";var s=a(11527),r=a(84875),n=a.n(r),l=a(80238),i=a(94460),o=a(84832),c=a(38285),d=a(1714),m=a.n(d);let h=e=>{let{title:t,customURL:a,isRestricted:r,shareItems:d,classname:h,iconClassName:u,onShared:x}=e,{user:p}=(0,i.s)(),v=(0,l.pm)(),f=e=>{x&&x(e)};return(0,s.jsx)("ul",{className:n()("flex h-full max-w-max list-none p-0",r&&"items-center",h),children:(null!=d?d:[{socialMedia:"facebook",iconVariant:"facebook-f",iconText:"facebook"},{socialMedia:"facebookMessenger",iconVariant:"facebook-messenger",iconText:"messenger"},{socialMedia:"whatsapp",iconVariant:"whatsapp",iconText:"whatsapp"},{socialMedia:"twitter",iconVariant:"twitter",iconText:"twitter"},{socialMedia:"email",iconVariant:"envelope",iconText:"email"},{socialMedia:"copyLink",iconVariant:"link",iconText:"copy link",onShared:()=>v("URL Copied")}]).map((e,l)=>(0,s.jsxs)("li",{className:n()(m()["share-item"],u),onClick:()=>{var s;(0,c.xg)({socialMedia:e.socialMedia,text:t,customURL:a,userId:null==p?void 0:null===(s=p.data)||void 0===s?void 0:s.id}),f(e.socialMedia),e.onShared&&e.onShared()},children:[(0,s.jsx)(o.Z,{title:e.iconText,variant:e.iconVariant,className:"pointer-events-none h-4 w-4 !text-sm"}),!r&&(0,s.jsx)("span",{className:"ml-2 font-primary text-sm font-normal",children:e.iconText})]},"".concat(e.socialMedia,"-").concat(l)))})};t.Z=h},38285:function(e,t,a){"use strict";a.d(t,{xg:function(){return r}});let s="https://www.facebook.com/dialog/send?app_id=".concat("356445735231","&amp;link=%s&amp;redirect_uri=%s"),r=async e=>{let{socialMedia:t,text:a,customURL:r,userId:n}=e,l=encodeURIComponent(a),i="?utm_source=".concat(t,"&utm_medium=social").concat(n?"&utm_content=".concat(n):"","&utm_campaign=organic-share"),o=r||window.location.origin+window.location.pathname+i;switch(t){case"facebook":window.open("https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(o),"targetWindow","toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=480");break;case"twitter":window.open("".concat("https://twitter.com/share?url="+encodeURIComponent(o),"&text=").concat(l),"targetWindow","toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=480");break;case"whatsapp":window.open("".concat("https://api.whatsapp.com/send?text="+encodeURIComponent(o)," ").concat(l),"targetWindow","toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=480");break;case"facebookMessenger":window.open("".concat(s+encodeURIComponent(o)," ").concat(l),"targetWindow","toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=480");break;case"email":window.open("mailto:?subject=".concat(l,"&amp;body=").concat(l," - ").concat(o),"targetWindow","toolbar=no,location=0,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600,height=480");break;case"copyLink":await navigator.clipboard.writeText(o)}}},75923:function(e,t,a){"use strict";var s=a(11527),r=a(84875),n=a.n(r),l=a(50959),i=a(80238),o=a(94460),c=a(84832),d=a(64104),m=a(63418),h=a.n(m);let u=e=>{var t;let{title:a,description:r,label:m,direction:u="left",customURL:x,className:p,onShared:v}=e,f=(0,l.useRef)(null),[_,b]=(0,l.useState)(!1),{user:y}=(0,o.s)();(0,i.pm)();let g=e=>{e.stopPropagation();let t=e.composedPath().includes(f.current);t||(b(!1),window.removeEventListener("mousedown",e=>g(e)))},j=()=>{var e;let t="?utm_source=native&utm_medium=social".concat((null==y?void 0:null===(e=y.data)||void 0===e?void 0:e.id)?"&utm_content=".concat(y.data.id):"","&utm_campaign=organic-share");return window.location.origin+window.location.pathname+t},w=e=>{v&&v(e)},N=()=>{window&&navigator.share?(navigator.share({title:a||document.title,text:r||document.title,url:x||j()}),w("native")):(b(!_),window.addEventListener("mousedown",e=>g(e)))},k=()=>(0,s.jsx)(c.Z,{variant:"times",onClick:()=>N(),className:n()("box-border !h-full !w-9 !text-xs",h()["sharer-icon"],h()["share-item"])});return(0,s.jsx)("div",{ref:f,className:n()("relative",p),children:(t=(()=>{let e=_&&"down"!==u&&"up"!==u;return(0,s.jsx)(s.Fragment,{children:_&&(0,s.jsxs)("div",{className:n()("absolute z-50 flex rounded-sm bg-white shadow-md dark:bg-grey-8",h()["sharer-container"],h()[u],e&&"h-9"),children:[e&&k(),(0,s.jsx)(d.Z,{title:a,customURL:x,isRestricted:e,onShared:v})]})})})(),(0,s.jsxs)("div",{className:n()("flex h-full cursor-pointer items-center justify-center rounded hover:bg-grey-2 dark:hover:bg-grey-8"),onClick:()=>N(),children:[(0,s.jsxs)("div",{className:"flex h-full items-center",children:[(0,s.jsx)(c.Z,{variant:"share-nodes",className:n()("box-border !h-full !text-base",h()["sharer-icon"]),light:!0}),!!m&&(0,s.jsx)("div",{className:n()("ml-2 hidden text-xs text-secondary dark:text-secondary-night",h()["sharer-label"]),children:m})]}),t]}))})};t.Z=u},25505:function(e,t,a){"use strict";a.d(t,{Z:function(){return w},q:function(){return j}});var s=a(11527),r=a(50959),n=a(61512),l=a(80834),i=a(84875),o=a.n(i),c=a(99739),d=a(79126),m=a(91436),h=a(19987),u=a(27264);let x=e=>{let{revalidateFunc:t}=e,{communityId:a}=(0,d.Z)(),{data:s}=(0,h.R)(a),{selectedThread:r,clear:n}=j(),l=e=>{var t,a;(0,u.ZP)({category:u.WD.community.moderation,action:e,label:u.__.community.detail,extra:{forumID:(null==s?void 0:null===(t=s.data)||void 0===t?void 0:t.id)||"",forumName:(null==s?void 0:null===(a=s.data)||void 0===a?void 0:a.name)||""}}).push()},i=async()=>{t&&await t().then(()=>n())},{deleteThread:o,unDeleteThread:c,approveThread:x,unApproveThread:p,stickyThread:v,unStickyThread:f,closeThread:_,openThread:b}=(0,m.Z)({threadIds:r,analyticsCallback:l,actionCallback:i});return{deleteThread:o,unDeleteThread:c,approveThread:x,unApproveThread:p,stickyThread:v,unStickyThread:f,closeThread:_,openThread:b}};var p=a(84832),v=a(80182),f=a(68603);let _=e=>{let{permissions:t,revalidateFunc:a}=e,{t:r}=(0,c.$G)(),{unDeleteThread:n,openThread:l,unApproveThread:i,unStickyThread:o}=x({revalidateFunc:a}),d=[{hasPermission:t.canDeleteThread,label:r("moderation_undelete_thread"),action:()=>{n()}},{hasPermission:t.canCloseThread,label:r("moderation_open_thread"),action:()=>{l()}},{hasPermission:t.canApproveThread,label:r("moderation_unapprove_thread"),action:()=>{i()}},{hasPermission:t.canStickThread,label:r("moderation_unsticky_thread"),action:()=>{o()}}],m=(e,t)=>(0,s.jsx)("div",{className:"w-full cursor-pointer whitespace-nowrap p-4 text-sm text-secondary hover:bg-grey-3 dark:text-secondary-night dark:hover:text-secondary",onClick:t,children:r(e)});return(0,s.jsx)("div",{className:"flex flex-wrap",children:d.map(e=>{if(e.hasPermission)return m(e.label,e.action)})})},b=e=>{let{permissions:t,isSelectedAll:a,className:n,revalidateFunc:l}=e,{t:i}=(0,c.$G)(),[d,m]=(0,r.useState)(!1),{selectedThread:h,selectAllThread:u,clear:b}=j(),{deleteThread:y,approveThread:g,stickyThread:w,closeThread:N}=x({revalidateFunc:l});if(!h.length)return null;let k=(e,t,a)=>(0,s.jsx)(v.Z,{classnames:"w-max",tooltipPosition:"below",text:i(e),children:(0,s.jsx)(p.Z,{variant:t,className:"ml-4 cursor-pointer !text-sm text-secondary dark:text-secondary-night",onClick:a})});return(0,s.jsx)("div",{className:o()("sticky top-[52px] z-40 w-full",n),children:(0,s.jsxs)("div",{className:"absolute flex w-full items-center justify-between bg-grey-1 px-3 py-3 shadow-strong dark:bg-grey-7 lg:py-4",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(v.Z,{classnames:"w-max",tooltipPosition:"below",text:i("moderation_total"),children:(0,s.jsx)("div",{className:"cursor-default rounded-sm bg-grey-4 py-0 px-2 text-xs leading-5 text-white dark:bg-secondary dark:text-secondary-night",children:h.length})}),t.canDeleteThread&&k("moderation_delete_thread","trash",()=>{y()}),t.canApproveThread&&k("moderation_approve_thread","file-check",()=>{g()}),t.canStickThread&&k("moderation_sticky_thread","thumbtack",()=>{w()}),t.canCloseThread&&k("moderation_close_thread","lock",()=>{N()}),(0,s.jsxs)("div",{className:"relative w-max",title:i("more")||"Lainnya",children:[(0,s.jsx)(p.Z,{className:"ml-4 cursor-pointer !text-sm text-secondary dark:text-secondary-night",variant:"ellipsis-vertical",onClick:()=>m(!d)}),d&&(0,s.jsx)(f.Z,{className:"absolute left-4 z-10",onClose:()=>m(!1),children:(0,s.jsx)(_,{permissions:t,revalidateFunc:l})})]})]}),(0,s.jsxs)("div",{className:"flex",children:[!a&&(0,s.jsx)("div",{className:"mr-4 cursor-pointer text-sm text-secondary dark:text-secondary-night",onClick:()=>u(),children:i("moderation_select_all")}),(0,s.jsx)(p.Z,{className:"cursor-pointer text-secondary dark:text-secondary-night",variant:"times",onClick:()=>b()})]})]})})},y=(0,r.createContext)({selectedThread:[],selectThread:()=>{},selectAllThread:()=>{},clear:()=>{}}),g=e=>{let{children:t,threads:a,permissions:i,revalidateFunc:o}=e,c=a?a.map(e=>e.id):[],[d,m]=(0,r.useState)([]),h=(0,n.c)(d,c),{canModerateThread:u}=i,x=e=>{let t=d.includes(e);t?m([...d].filter(t=>t!==e)):m([...d,e])},p=()=>{let e=Array.from(new Set([...c,...d]));m(e)},v=()=>{m([])};return u?(0,s.jsxs)(y.Provider,{value:{selectedThread:d,selectThread:x,selectAllThread:p,clear:v},children:[(0,s.jsx)(b,{permissions:i,revalidateFunc:o,isSelectedAll:h}),(0,s.jsx)(l.Z,{isChecked:h,onCheck:e=>{e?p():v()}}),t]}):(0,s.jsx)(s.Fragment,{children:t})},j=()=>(0,r.useContext)(y);var w=g},47639:function(e,t,a){"use strict";var s=a(11527),r=a(99739),n=a(80238),l=a(19987),i=a(97735),o=a(27264),c=a(10328),d=a(3431);let m=()=>{let{t:e}=(0,r.$G)(),t=(0,n.pm)(),a=(e,t,a,s)=>{var r;let n=void 0!==a.channelId&&{channelID:a.channelId,channelName:null!==(r=a.channelName)&&void 0!==r?r:""},l=1===s?o.aU.community.join:o.aU.community.leave;(0,o.ZP)({category:o.WD.community.interaction,action:l,label:a.label,extra:{forumID:e,forumName:t,forumSubscriber:s,...n}}).push()},m=async(r,o,m,h)=>{let u=!h||await (0,d.Z)({title:e("modal_title_join_community"),okButton:(0,s.jsx)(c.Z,{className:"w-full",type:"primary",children:e("button_label_join")}),cancelButton:(0,s.jsx)(c.Z,{className:"w-full",type:"secondary",children:e("button_label_cancel")}),content:(0,s.jsx)(s.Fragment,{children:e("modal_description_join_community",{value:r.name})})});u&&await (0,l.Lm)(r.id).then(async()=>{o&&a(r.id,r.name,o,1),m&&await m(),r.community_type&&r.community_type===i.BZ.RESTRICTED?t(e("toast_join_result_succeed_restricted"),n.m4.SUCCESS):t(e("toast_join_result_succeed"),n.m4.SUCCESS)}).catch(async a=>((null==a?void 0:a.error.type)=="permission_insufficient_join"?t(e("toast_join_result_cant_join"),n.m4.WARNING):t(e("toast_join_result_failed"),n.m4.ERROR),Promise.reject()))},h=async(r,i,o)=>{let m=await (0,d.Z)({title:e("modal_title_leave_community"),okButton:(0,s.jsx)(c.Z,{className:"w-full",type:"secondary",children:e("button_label_leave")}),cancelButton:(0,s.jsx)(c.Z,{className:"w-full",type:"primary",children:e("button_label_cancel")}),content:(0,s.jsx)(s.Fragment,{children:e("modal_description_leave_community",{value:r.name})})});if(m)return(0,l.Wr)(r.id).then(async()=>{i&&a(r.id,r.name,i,-1),o&&await o(),t(e("toast_leave_result_succeed"),n.m4.SUCCESS)}).catch(()=>(t(e("toast_leave_result_failed"),n.m4.ERROR),Promise.reject()))},u=async(r,i,o)=>{let m=await (0,d.Z)({title:e("modal_title_cancel_join_community"),okButton:(0,s.jsx)(c.Z,{className:"w-full",type:"secondary",children:e("button_label_cancel_join")}),cancelButton:(0,s.jsx)(c.Z,{className:"w-full",type:"primary",children:e("button_label_back")}),content:(0,s.jsx)(s.Fragment,{children:e("modal_description_cancel_join_community",{value:r.name})})});if(m)return(0,l.vo)(r.id).then(async()=>{i&&a(r.id,r.name,i,-1),o&&await o(),t(e("toast_cancel_join_result_succeed"),n.m4.SUCCESS)}).catch(a=>((null==a?void 0:a.error.type)=="invalid_membership_action"?t(e("toast_cancel_join_result_failed_invalid_status"),n.m4.WARNING):t(e("toast_cancel_join_result_failed"),n.m4.ERROR),Promise.reject()))};return{joinCommunity:m,leaveCommunity:h,cancelJoinCommunity:u}};t.Z=m},64395:function(e){e.exports={sectionHeaderTitle:"sectionHeader_sectionHeaderTitle__m4xsf",sectionHeaderIcon:"sectionHeader_sectionHeaderIcon__o6hib"}},1714:function(e){e.exports={"share-item":"Icons_share-item__BQ0ai",dark:"dark"}},63418:function(e){e.exports={"sharer-icon":"share_sharer-icon__GofxP","sharer-container":"share_sharer-container__QVbd1",right:"share_right__kq0Qx",left:"share_left__FB8Qr",up:"share_up__QrmQy",down:"share_down__2ew7T","share-item":"share_share-item__jccC8",dark:"dark","sharer-label":"share_sharer-label__EnTip"}}}]);