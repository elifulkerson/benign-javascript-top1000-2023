var SSPjs;SSPjs=function(){var e,t,n,r,i={6451:function(e,t,n){!function(e,t){for(var n in t)e[n]=t[n]}(t,function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports=n(1176)},function(e,t){e.exports={"https://prime.rambler.ru":{key1:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwTHGbo/ZwQVpkql42H/5tbOYgEVnS1w66lN4vql6TWtYi+TpeTuy9WaRJptIHhO1fKYNRV6QaRw6QJ/lHf5cl9Y8klOU02A5Mnwdq7UKo3z+SB4/cPZWyk0vGHcIE9iDLjUkOAF0bdArYEgujl1ysYMQOdb93VSCPyM2GSZJx7itnHG6melJThTe7TO63rzQHPSkn/z1tLCGcQBF/UoSSbOHDpU+ntBdX7ord/9Q2Lwid0Oy4ISBqzQSxS54SyZHXefYz+e8pD9eCtmiadPd8IU60AYJul/pDqIf4utD+kHeQPWut+abBYt5LMV5Wy4ZoAmdrRuhguNzx9r6G4xxCwIDAQAB",key2:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAzGXeSOMjF1jaD8n3JD5lZpls0f0keRuYFqOmGgvrx9xvq0Man2Eg60TCVihZ3AhWotA0LW0pl3ZSrc1TpuObYBDT3qHB+YXdef4TBU1cI7TzK+GCp5Za+B/N1DOP9dBP71lFXNzYH1KaqQlCHSJPq5yq35QZhdAH780eaPZP0wKsbU1j6ucAu0vYndTgpxx2WmlSdY8yDfD7JZdRyzOqwyTut//LtakzzBS/guN+tTsdUds2hlAb2i/iGOiQlsrioX35x7D0pEyj/7NPY4ABgWTQAFV65OJnbiWG+fqQ6M9XwQrT/UbgeXVslYUkz5NmtGp2FlLl1fOPtLOwXhFswwIDAQAB"},"https://prime-stage01.rambler.ru":{key1:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA2U2M51P4BnHxpH59slie4xLIzxP4xNn7jPk1t4PHmLnaVsC3ytcHEcEF/lK+lBBbtCmrfVxuoXWI64KMyeonrNPscDpFlDhctbwXqsTEXx7KAxX9EUTbqY2JOMgJMgt44IhmUbrkiWdynCAsCKKrCwAIbh5vBorHEjm2eWxDRG8qAzlu0HAAK6Mn8+5cCk3nJKR0lLWj71n44aE4h7QvnG7TT3RYWjFjOLPpeF8/IlHZigecECPox5Ss2ylPDh2u8Gt4BW01T3M09FwamCeh/uzYjqneRZT3o6K7Rp92iXimxjnnw+4QWP9iACIuDQqZLpIQLhMi02E9N+j9+bhCeQIDAQAB",key2:"MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEApGPr0ZzcEEJ7/eRK1/neCvduJeicYXsF17vRc8JIS+YWXVScOA6yzML3pnyN+ubnlOGBdpB8n4tb4yiNe8fxzVo+/aWOOcvcrxc5b1L1MvKP/sUIS6L7hi4p6hQGMF+cfVGqYh+iFzpwAZ9qKXVe3XBKc5ym0Pm2fKCIJ7RNMZY6pMZP8HQjpL+rFXrMgPIkkazqUqUMaudKZGmfBBbuSWUfhOyRJIkTakfExn7Thklk7f68n3sde5c1t1ttuWFhi7UcThQ3aoN4BLhuQhT0s2rNvhIdNZd6IoA+DZMIXxKjNLAXeYkcQVtUB47zVhOiAxjD2UkyhfB1o44IvOsY5wIDAQAB"}}},,function(e,t,n){"use strict";n.r(t),n.d(t,"primeHelper",(function(){return z}));var r,i,o,a,s=n(1),c=n.n(s),u=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(t){var n,r,i=e.call(this)||this;return i.name="ApiError",i.message=t.message,i.code=null!==(n=t.code)&&void 0!==n?n:"unknow",i.method=t.method,i.requestId=t.requestId,i.sendToSentry=null===(r=t.sendToSentry)||void 0===r||r,i}return u(t,e),t}(Error),p=function(){return(Date.now().toString(36)+Math.random().toString(36).slice(2)).slice(0,17)},d=1===function(e){var t,n=null;try{n=JSON.parse(null!==(t=window.localStorage.getItem(e))&&void 0!==t?t:"")}catch(e){}return n}("primeStageApi")?"https://prime-stage01.rambler.ru":"https://prime.rambler.ru",h=function(e,t,n,r){var i=new XMLHttpRequest,o=d+"/api/v3/prime/"+t,a=p();(n.id=a,"get"===e)&&(o+="?"+Object.keys(n).reduce((function(e,t){return e.concat(t+"="+encodeURIComponent(n[t]&&"object"==typeof n[t]?JSON.stringify(n[t]):n[t]))}),[]).join("&"));i.open(e,o,!0),i.setRequestHeader("Content-Type","application/json"),i.onreadystatechange=function(){if(4===i.readyState&&200===i.status){var e=JSON.parse(i.responseText),n=e.success,o=e.error,s=e.result;if(n&&null==o){var c=i.getResponseHeader("x-server-response-signature");return c&&s&&(s.signature=c),void r(null,s)}var u=null==o?"UNKNOW_ERROR":o.type+"_"+o.subtype;r(new l({message:"api failed",code:u,requestId:a,method:t}))}},i.onerror=function(){r(new l({message:"api does not respond",code:"UNKNOW_ERROR",requestId:a,method:t}))},i.send("get"===e?null:JSON.stringify(n))},f=h.bind(null,"post"),v=h.bind(null,"get","getActiveAdblockInfo"),g=h.bind(null,"post","createAdblockOrder"),m=n(0),b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},b.apply(this,arguments)},y="rchainid",w={domain:"."+window.location.hostname.split(".").slice(-2).join("."),path:"/"},_=function(e){if(e){var t=e;e instanceof Error&&(t={message:e.message},"code"in e&&(t.code=e.code,t.method=e.method,t.requestId=e.requestId));var n=e instanceof Error&&"need session"!==e.message?1/24/30:1/24/12;!function(e,t,n){try{m.set(e,JSON.stringify(t),n)}catch(e){}}(y,t,b(b({},w),{expires:n}))}},S="requestStorageAccess"in document&&"function"==typeof document.requestStorageAccess,E=["id.rambler.ru","id.championat.com","idrambler.afisha.ru","rid.eda.ru","id.gazeta.ru","id.lenta.ru","id.moslenta.ru","id.secretmag.ru","id.motor.ru","id.passion.ru","id.autorambler.ru","id.wmj.ru","id.letidor.ru","id.ferra.ru","id.quto.ru","id.indicator.ru","id.eagleplatform.com"],k=function(e){return e.split(".").slice(-2).join(".")},O=(i=window.location.hostname,(o=(S?E.filter((function(e){return k(e)===k(i)})):[])[0])?"https://"+o:"https://id.rambler.ru"),T=function(e){!function(e,t,n){var r=new XMLHttpRequest,i=O+"/api/v3"+e,o="rid"+p();t.id=o,r.open("post",i,!0),r.setRequestHeader("Content-Type","application/json"),r.withCredentials=!0,r.onreadystatechange=function(){var t,i;if(4===r.readyState&&200===r.status){var a=JSON.parse(r.responseText),s=a.success,c=a.error,u=a.result,p=null===(t=null==c?void 0:c.extra)||void 0===t?void 0:t.legacy_error;s&&null==p?n(null,u):n(new l(null!=p?{message:null===(i=p.strerror)||void 0===i?void 0:i.toLowerCase(),code:p.errno,method:e,requestId:o}:{message:"api failed",code:0,method:e,requestId:o}))}},r.onerror=function(){n(new l({message:"api does not respond",code:0,method:e,requestId:o}))},r.send(JSON.stringify(t))}("/session/getRsidx",{},(function(t,n){t?e(t):(_(null!=t?t:null==n?void 0:n.result.rccid),e(t,n))}))},x=function(e,t,n){window.RamblerPayment=window.RamblerPayment||[],window.RamblerPayment.push((function(){var r=window.RamblerPayment.buildWidget("PaymentPopup",e);void 0!==r&&r.then((function(e){return e.show(),e.initializeOrder(t).then((function(){var t,r=null;e.on("close",(function(){e.destroy(),n(r,t)})),e.on("fail",(function(){r=new Error("payment failed")})),e.on("success",(function(e){t=e}))}))})).catch((function(e){n(e)}))})),function(e,t){var n=document.createElement("script");n.src=e,n.onload=function(){t(null),document.body&&document.body.removeChild(n)},n.onerror=function(){t(new l({message:"script does not loaded"}))},document.body&&document.body.appendChild(n)}("https://payment.rambler.ru/widget/sdk.js",(function(e){e&&n(e)}))};window.primeStorage=null!==(a=window.primeStorage)&&void 0!==a?a:{};var C,P,I,R=window.primeStorage;R.timing=null!==(C=R.timing)&&void 0!==C?C:[],R.viewId=null!==(P=R.viewId)&&void 0!==P?P:p(),R.serialId=null!==(I=R.serialId)&&void 0!==I?I:1;var A=function(e){clearTimeout(R.timeout),R.timing.push(e),R.timeout=window.setTimeout((function(){!function(e){if("complete"===document.readyState)e();else{var t=function(){e(),window.removeEventListener("load",t)};window.addEventListener("load",t)}}((function(){var e,t=R.timing;if(R.timing=[],Array.isArray(t)&&t.length>0)try{var n=encodeURIComponent(t.sort((function(e,t){return e.start-t.start})).map((function(e){return Object.keys(e).map((function(t){return t+"-"+e[t]})).join("_")})).join("!")),r=null!==(e=R.viewId)&&void 0!==e?e:"",i=R.serialId?R.serialId++:"";(new Image).src=d+"/phtimes?view_id="+r+"&serial="+i+"&data="+n}catch(e){}}))}),2e3)},D=window.crypto||window.msCrypto,j=(null==D?void 0:D.subtle)||(null==D?void 0:D.webkitSubtle),B=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return t},L=new(function(){function e(){}return Object.defineProperty(e.prototype,"hasMsCrypto",{get:function(){return"msCrypto"in window},enumerable:!1,configurable:!0}),e.prototype.importKey=function(e,t,n,r,i){var o=j.importKey(e,t,n,r,i);return this.hasMsCrypto?new Promise((function(e,t){var n=o;n.addEventListener("complete",(function(t){e(t.target.result)})),n.addEventListener("error",(function(){t(new Error("importing a key failed"))}))})):o},e.prototype.verify=function(e,t,n,r){var i=j.verify(e,t,n,r);return this.hasMsCrypto?new Promise((function(e,t){var n=i;n.addEventListener("complete",(function(t){e(t.target.result)})),n.addEventListener("error",(function(){t(new Error("verification a key failed"))}))})):i},e}()),N=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("illegal base64url string")}return JSON.parse(decodeURIComponent(escape(window.atob(t))))},F=function(e){var t=e.split("."),n=t[0],r=t[1],i=t[2];return{header:N(n),payload:N(r),signature:i}},M={RS256:{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}}},V=function(e,t,n){if("string"==typeof e)if("string"==typeof t){var r=e.split("."),i=r[0],o=r[1],a=r[2];if("string"!=typeof a)return n(new Error("illegal token"));var s=F(e),c=M[s.header.alg];if(c){var u=B(window.atob(t));L.importKey("spki",u,c,!1,["verify"]).then((function(e){var t,n=i+"."+o;return L.verify(c,e,B((t=a,window.atob(t.replace(/-/g,"+").replace(/_/g,"/").replace(/\n/g,"")))),B(n))})).then((function(e){e?n(null,s):n(new Error("invalid signature"))}),(function(e){n(e)}))}else n(new Error("algorithm not found"))}else n(new Error("secret must be a string"));else n(new Error("token must be a string"))},q=function(){return q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},q.apply(this,arguments)},H=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},U=c.a[d],W=function(){},z=new(function(){function e(){}return e.prototype.push=function(e){void 0===e&&(e=W),e()},e.prototype.api=function(e,t,n,r){void 0===n&&(n=W),!1!==(null==r?void 0:r.needSessionId)?T((function(r,i){var o;if(null===(o=null==i?void 0:i.result)||void 0===o?void 0:o.token){var a={params:t,sessionId:i.result.token};f(e,a,n)}else n(r)})):f(e,{params:t},n)},e.prototype.getSubscription=function(e,t){var n,r;void 0===t&&(t=W);var i=Date.now(),o=null===(r=null===(n=window.performance)||void 0===n?void 0:n.timing)||void 0===r?void 0:r.navigationStart,a={start:o?i-o:0},s=!1,c=function(e,n){a.overall=Date.now()-i,A(a),t(e,n)};if(!0===window.PRIME_SSR_STATUS)return a.ssr=0,void c(null,s);var u=function(e,t){var n;if(e)c(e,s);else if(null==t?void 0:t.signature){var r=Date.now();try{var i=F(t.signature),o=1e3*parseInt(i.payload.ctime,10);if(Date.now()-o>6e5)throw new Error("signature has expired");var u=U[null===(n=i.header)||void 0===n?void 0:n.kid];V(null==t?void 0:t.signature,u,(function(e,n){s=!!t.adblockInfoList&&t.adblockInfoList.length>0&&i.signature===(null==n?void 0:n.signature),a.verify=Date.now()-r,c(e,s)}))}catch(e){a.verify=Date.now()-r,c(e,s)}}else c(new Error("empty signature"),s)},l=R.cache;if((null==l?void 0:l.referrer)===e.referrer&&Date.now()-(null==l?void 0:l.currentTime)<3e5)return a.cache=0,void u(null,l);var p=Date.now();if(Array.isArray(R.queue)){R.queue.push((function(e,t){a.wait=Date.now()-p,u(e,t)}))}else R.queue=[u],T((function(t,n){var r;if(a.id=Date.now()-p,!(null===(r=null==n?void 0:n.result)||void 0===r?void 0:r.token))return Array.isArray(R.queue)&&R.queue.forEach((function(e){e(t,void 0)})),void delete R.queue;var i={params:e,sessionId:n.result.token},o=Date.now();v(i,(function(t,n){a.prime=Date.now()-o,n&&(n.currentTime=Date.now(),n.referrer=e.referrer,R.cache=n),Array.isArray(R.queue)&&R.queue.forEach((function(e){e(t,n)})),delete R.queue}))}))},e.prototype.createSubscriptionOrder=function(e,t){void 0===t&&(t=W);var n=e.code,r=e.project,i=e.cpsEmail,o=e.cpsPhone,a=e.useForSubscription,s=void 0!==a&&a,c=e.trial,u=void 0===c||c,l=H(e,["code","project","cpsEmail","cpsPhone","useForSubscription","trial"]);n?i?T((function(e,a){var c;if(null===(c=null==a?void 0:a.result)||void 0===c?void 0:c.token){var p={params:{code:n,useForSubscription:s,trial:u,paymentCpsEmail:i},sessionId:a.result.token};g(p,(function(e,a){if(e)t(e);else{var s=a.shopId,c=a.scId,u=a.orderNumber,p=a.requestSign,d=a.orderAmount,h=a.discountPrice,f=a.tax,v=a.publicName,g=a.publicDescription,m=a.publicPicture,b=a.useForSubscription,y=["AC","ST"];parseFloat(d)&&!b||y.pop();var w=q({lang:"ru",tabs:y.map((function(e){return{tab:e}}))},l),_={order:{shopId:s,scId:c,orderNumber:u,requestSign:p,cpsEmail:i,orderAmount:d,productName:n,addData:{project:r}},products:[{offer:{name:v,description:g,picture:m,price:h,tax:f,taxValue:0},count:1,total:{price:h,currencyId:"RUB"}}]};o&&(_.order.cpsPhone=o),b&&(_.order.paymentAddParams={rebillingOn:1}),x(w,_,(function(e,n){n?t(null,{orderNumber:u}):t(e)}))}}))}else t(e)})):t(new Error("missing `cpsEmail` in params")):t(new Error("missing `code` of product in params"))},e}())}]))},7690:function(e,t){"use strict";var n=function(){function e(e){this.regValidKey=new RegExp("([a-zA-Z0-9_-]{0,})","i"),this.hash=e||location.hostname}return e.prototype.isSupported=function(){return"object"==typeof document&&"string"==typeof document.cookie},e.prototype.setItem=function(e,t,n,r,i,o,a,s){void 0===e&&(e=!0),void 0===r&&(r=30),void 0===i&&(i="/"),void 0===o&&(o=location.hostname.split(".").slice(-2).join(".")),void 0===a&&(a="https:"===location.protocol),void 0===s&&(s=!0);try{if("boolean"==typeof e&&"string"==typeof t&&this.regValidKey.test(t)&&"string"==typeof n&&(""===n||this.regValidKey.test(n))&&"number"==typeof r&&"string"==typeof i&&"string"==typeof o&&-1!==location.hostname.indexOf(o)&&"boolean"==typeof a&&a===("https:"===location.protocol)){var c=document.createElement("a");if(c.href="http://"+o+i,c.hostname===o||c.pathname===i){if(!e||this.isSupported()){var u="";u+=s?this.hash+"_"+t:t;var l=new Date;l.setTime(l.getTime()+24*r*60*60*1e3);var p=l.toUTCString();return n=encodeURIComponent(n),document.cookie=u+"="+n+(p?"; expires="+p:"")+(i?"; path="+i:"")+(o?"; domain="+o:"")+(a?"; secure":""),this.getItem(e,t,s)===decodeURIComponent(n)}return!1}return!1}return!1}catch(e){return!1}},e.prototype.getItem=function(e,t,n){void 0===e&&(e=!0),void 0===n&&(n=!0);try{if("boolean"!=typeof e||"string"!=typeof t||!this.regValidKey.test(t))return!1;if(e&&!this.isSupported())return!1;n&&(t=this.hash+"_"+t);for(var r=document.cookie.split(";"),i=[],o=0;o<r.length;o++){var a=r[o],s=this._getCookieParts(a),c=s.left,u=s.right;c===t&&i.push(decodeURIComponent(u))}if(0===i.length)return!1;if(1===i.length)return i[0];try{var l=1/0,p=void 0;for(o=0;o<i.length;o++){var d=i[o].split(":")[1].split(".").length;d<l&&(l=d,p=i[o])}return p||!1}catch(e){return!1}}catch(e){return!1}},e.prototype.removeItem=function(e,t){void 0===e&&(e=!0);try{return!("boolean"!=typeof e||"string"!=typeof t||!this.regValidKey.test(t))&&(!(e&&!this.isSupported())&&(this.setItem(e,t,"",-86400),!1===this.getItem(e,t)))}catch(e){return!1}},e.prototype.getKeys=function(e){void 0===e&&(e=!0);try{if("boolean"==typeof e){if(!e||this.isSupported()){for(var t=[],n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r],o=this._getCookieParts(i).left;0===o.indexOf(this.hash)&&t.push(o.substr(this.hash.length+1))}return t}return[]}return[]}catch(e){return[]}},e.prototype.clear=function(e){void 0===e&&(e=!0);try{if("boolean"==typeof e){if(!e||this.isSupported()){var t=this.getKeys(e);if(t)for(var n=0;n<t.length;n++){var r=t[n];this.removeItem(e,r)}return 0===this.getKeys(e).length}return!0}return!1}catch(e){return!1}},e.prototype._getCookieParts=function(e){var t=e.indexOf("=");return t<0?{left:"",right:""}:{left:e.slice(0,t).trim(),right:e.slice(t+1,e.length).trim()}},e}();t.Z=n},861:function(e){"use strict";e.exports.s=function(e,t){var n=!1,r=2,i=!1,o=!1;if("function"==typeof t){e+="?ch=*&rn=*";var a=11*Math.random(),s=new Image;s.onload=u,s.onerror=function(){i=!0,u()},s.src=e.replace(/\*/,1..toString()).replace(/\*/,a.toString());var c=new Image;c.onload=u,c.onerror=function(){o=!0,u()},c.src=e.replace(/\*/,2..toString()).replace(/\*/,a.toString()),function e(t,i){0==r||i>1e3?t(0==r&&n):setTimeout((function(){e(t,2*i)}),2*i)}(t,250)}function u(){--r||(n=!i&&o)}}},9293:function(e){"use strict";var t=function(){var e=new Error("Delay aborted");return e.name="AbortError",e},n=function(e){var n=e.clearTimeout,r=e.setTimeout,i=e.willResolve;return function(e,o){var a,s,c,u=void 0===o?{}:o,l=u.value,p=u.signal;if(p&&p.aborted)return Promise.reject(t());var d=n||clearTimeout,h=function(){d(a),c(t())},f=new Promise((function(t,n){s=function(){p&&p.removeEventListener("abort",h),i?t(l):n(l)},c=n,a=(r||setTimeout)(s,e)}));return p&&p.addEventListener("abort",h,{once:!0}),f.clear=function(){d(a),a=null,s()},f}},r=n({willResolve:!0});r.reject=n({willResolve:!1}),r.range=function(e,t,n){return r(function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}(e,t),n)},r.createWithTimers=function(e){var t=e.clearTimeout,r=e.setTimeout,i=n({clearTimeout:t,setTimeout:r,willResolve:!0});return i.reject=n({clearTimeout:t,setTimeout:r,willResolve:!1}),i},e.exports=r,e.exports.default=r},5280:function(e,t,n){"use strict";!function(e){for(var t=0,n=["ms","moz","webkit","o"],r=0;r<n.length&&!e.requestAnimationFrame;++r)e.requestAnimationFrame=e["".concat(n[r],"RequestAnimationFrame")],e.cancelAnimationFrame=e["".concat(n[r],"CancelAnimationFrame")]||e["".concat(n[r],"CancelRequestAnimationFrame")];e.requestAnimationFrame||(e.requestAnimationFrame=function(n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=e.setTimeout((function(){n(r+i)}),i);return t=r+i,o}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){clearTimeout(e)})}(window||n.g)},5041:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,{graph_banner_html:function(){return yd},graph_banner_img:function(){return Sd},graph_banner_js:function(){return Ed},graph_banner_xhtml:function(){return wd},graph_banner_xiframe:function(){return _d}});n(6337),n(6702),n(3241),n(3654),n(5280);"undefined"!=typeof window?window:void 0!==n.g&&n.g;var i,o=function(){var e=window.QW50aS1BZEJsb2Nr;if(null==e?void 0:e.getDebugInfo)return e.getDebugInfo()},a=function(){return window.begun_urls&&window.begun_urls.base_scripts_url?window.begun_urls.base_scripts_url:l},s="38.42.0",c=s.replace(/\./g,"_"),u=parseInt(void 0,10),l="//ssp.rambler.ru/";!function(e){e.PDSP="ssp_blockstat_p",e.MDSP="ssp_blockstat_m"}(i||(i={}));var p,d="//ssp.rambler.ru/blockstat_post",h=["432345474","448516617","461192368","460428556","437708104","432185890","437707940","433058372","458201932","429663120"],f="[id*='begun_block']",v=/\[\d{2,},(\s|\S)\d{2,}\]/g,g=[429804626,432335590,429804618],m={css:{block_prefix:"begun_block_"},urls:{base_scripts_url:a(),daemon:"".concat(a(),"context.jsp?wl=rambler&"),styles:"".concat(a(),"css?")}},b={json:1},y="\x3c!-- google_rambler_adtech_callbacks --\x3e";!function(e){e.base64="base64",e.url="url"}(p||(p={}));var w;!function(e){e.SSP="ssp_debug=2",e.ADFOX="adfox_debug=2",e.NO_TOOLBAR="ssp_no_debug=1",e.METRICS="metrics_debug=1"}(w||(w={}));var _=function(){var e=new Error;return e&&e.stack&&e.stack.split("\n").slice(5).map((function(e){if(!e)return{};var t=/^(.*)@(.*)\.js:([0-9]+):([0-9]+)$/gi.exec(e);return t?(t[1]&&(t[1]=/([^\/<]+)/gi.exec(t[1]),t[1]&&(t[1]=t[1][0])),{column:t[4]||"",file:t[2]||"",line:t[3]||"",method:t[1]||""}):(t=/^(.*)@(http|https):([^:]+):([0-9]+):([0-9]+)$/gi.exec(e))?{column:t[5]||"",file:t[3]||"",line:t[4]||"",method:t[1]+":"+t[2]||""}:(t=/^(.*)@(.*):([0-9]+):([0-9]+)$/gi.exec(e))||(t=/^\s+at\s([^(]+)\s\((.*):([0-9]+):([0-9]+)\)$/gi.exec(e))?{column:t[4]||"",file:t[2]||"",line:t[3]||"",method:t[1]||""}:(t=/^\s+at\s(.*):([0-9]+):([0-9]+)$/gi.exec(e))?{column:t[3]||"",file:t[1]||"",line:t[2]||"",method:""}:e}))||[]},S=function(){return-1!==navigator.userAgent.indexOf("Opera")},E=function(){return-1!==navigator.userAgent.indexOf("OPR")},k=function(){return-1!==navigator.userAgent.indexOf("Edg")},O=function(){return-1!==navigator.userAgent.indexOf("Edge")},T=function(){return-1!==navigator.userAgent.indexOf("Chrome")},x=function(){return-1!==navigator.userAgent.indexOf("Firefox")},C=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")},P=function(){return navigator.userAgent.lastIndexOf(" ")+1<navigator.userAgent.lastIndexOf("/")},I=function(){var e;return S()||E()?e="Opera":k()||O()?e="Edge":T()?e="Chrome":x()?e="Firefox":C()?e="Safari":P()&&(e=function(){var e=navigator.userAgent.lastIndexOf(" ")+1,t=navigator.userAgent.lastIndexOf("/"),n=navigator.userAgent.substring(e,t);return n.toLowerCase()===n.toUpperCase()&&(n=navigator.appName),n}()),e||""},R=function(e){if("string"==typeof e){for(var t=[";"," ",")"],n=0;n<t.length;n++){var r=t[n],i=e.indexOf(r);-1!==i&&(e=e.substring(0,i))}return e}return""},A=function(){var e;return S()?e=function(){var e=navigator.userAgent.indexOf("Opera"),t=navigator.userAgent.substring(e+6);return-1!==(e=navigator.userAgent.indexOf("Version"))&&(t=navigator.userAgent.substring(e+8)),R(t)}():E()?e=function(){var e=navigator.userAgent.indexOf("OPR"),t=navigator.userAgent.substring(e+4);return R(t)}():O()?e=function(){var e=navigator.userAgent.indexOf("Edge"),t=navigator.userAgent.substring(e+5);return R(t)}():k()?e=function(){var e=navigator.userAgent.indexOf("Edg"),t=navigator.userAgent.substring(e+4);return R(t)}():T()?e=function(){var e=navigator.userAgent.indexOf("Chrome"),t=navigator.userAgent.substring(e+7);return R(t)}():x()?e=function(){var e=navigator.userAgent.indexOf("Firefox"),t=navigator.userAgent.substring(e+8);return R(t)}():C()?e=function(){var e=navigator.userAgent.indexOf("Safari"),t=navigator.userAgent.substring(e+7);return-1!==(e=navigator.userAgent.indexOf("Version"))&&(t=navigator.userAgent.substring(e+8)),R(t)}():P()&&(e=function(){var e=navigator.userAgent.lastIndexOf("/"),t=navigator.userAgent.substring(e+1);return R(t)}()),e||""},D=function(){for(var e="",t=[{r:/(Windows 10.0|Windows NT 10.0)/,s:"Windows 10"},{r:/(Windows 8.1|Windows NT 6.3)/,s:"Windows 8.1"},{r:/(Windows 8|Windows NT 6.2)/,s:"Windows 8"},{r:/(Windows 7|Windows NT 6.1)/,s:"Windows 7"},{r:/Windows NT 6.0/,s:"Windows Vista"},{r:/Windows NT 5.2/,s:"Windows Server 2003"},{r:/(Windows NT 5.1|Windows XP)/,s:"Windows XP"},{r:/(Windows NT 5.0|Windows 2000)/,s:"Windows 2000"},{r:/(Win 9x 4.90|Windows ME)/,s:"Windows ME"},{r:/(Windows 98|Win98)/,s:"Windows 98"},{r:/(Windows 95|Win95|Windows_95)/,s:"Windows 95"},{r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,s:"Windows NT 4.0"},{r:/Windows CE/,s:"Windows CE"},{r:/Win16/,s:"Windows 3.11"},{r:/Android/,s:"Android"},{r:/OpenBSD/,s:"Open BSD"},{r:/SunOS/,s:"Sun OS"},{r:/(Linux|X11)/,s:"Linux"},{r:/(iPhone|iPad|iPod)/,s:"iOS"},{r:/Mac OS X/,s:"Mac OS X"},{r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/,s:"Mac OS"},{r:/QNX/,s:"QNX"},{r:/UNIX/,s:"UNIX"},{r:/BeOS/,s:"BeOS"},{r:/OS\/2/,s:"OS/2"},{r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/,s:"Search Bot"}],n=0;n<t.length;n++){var r=t[n];if(r.r.test(navigator.userAgent)){e=r.s;break}}return e},j=function(){var e=D(),t="";switch(/Windows/.test(e)&&(t=/Windows (.*)/.exec(e))&&(t=t[1],e="Windows"),e){case"Mac OS X":(t=/Mac OS X (10[._\d]+)/.exec(navigator.userAgent))&&(t=t[1]);break;case"Android":(t=/Android ([._\d]+)/.exec(navigator.userAgent))&&(t=t[1]);break;case"iOS":var n=/OS (\d+)_(\d+)_?(\d+)?/.exec(navigator.appVersion);n&&(t=n[1]+"."+n[2]+"."+(n[3]||0))}return t||""},B=function(){return{browser:{browser:I(),mobile:/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion),version:A()},screen:{availableSize:{height:window.screen.availHeight,width:window.screen.availWidth},colorDepth:window.screen.colorDepth,pixelRatio:(e=0,void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?e=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(e=window.devicePixelRatio),e),size:{height:window.screen.height,width:window.screen.width}},system:{name:D(),version:j()}};var e},L=window||n.g,N=function(){function e(e){void 0===e&&(e=200);var t=this;this.watch=function(){try{try{t.parallelWatch()}catch(e){t._errorHandler(e)}try{t.serialWatch()}catch(e){t._errorHandler(e)}setTimeout(t.watch,t._delay)}catch(e){t._errorHandler(e)}},this._delay=e,this._serialStackPointer=0,this._parallelStack={},this._serialStack={},this.errorHandler=null,this.watch()}return e.prototype.subscribe=function(e){var t=void 0===e?{}:e,n=t.callback,r=void 0===n?function(){return null}:n,i=t.context,o=void 0===i?L:i,a=t.ID,s=void 0===a?this._generateID():a,c=t.params,u=void 0===c?[]:c;return this.parallelSubscribe({ID:s,callback:r,context:o,params:u})},e.prototype.parallelSubscribe=function(e){var t=e.callback,n=void 0===t?function(){return null}:t,r=e.context,i=void 0===r?L:r,o=e.ID,a=void 0===o?this._generateID():o,s=e.params,c=void 0===s?[]:s;return this._parallelStack[a]={callback:n,context:i,params:c},a},e.prototype.serialSubscribe=function(e){var t=e.callback,n=void 0===t?function(){return null}:t,r=e.context,i=void 0===r?L:r,o=e.ID,a=void 0===o?this._generateID():o,s=e.params,c=void 0===s?[]:s;return this._serialStack[a]={callback:n,context:i,params:c},a},e.prototype.unsubscribe=function(e){return this.parallelUnsubscribe(e)},e.prototype.parallelUnsubscribe=function(e){return!("string"!=typeof e||!this._parallelStack[e])&&(this._parallelStack[e]=null,delete this._parallelStack[e],!0)},e.prototype.serialUnsubscribe=function(e){return!("string"!=typeof e||!this._serialStack[e])&&(this._serialStack[e]=null,delete this._serialStack[e],!0)},e.prototype.parallelWatch=function(){try{if(this._parallelStack&&"object"==typeof this._parallelStack&&Object.keys(this._parallelStack).length>0)for(var e in this._parallelStack)if(this._parallelStack.hasOwnProperty(e))try{if(e&&"string"==typeof e){var t=this._parallelStack[e];t&&"object"==typeof t&&t.context&&t.callback&&t.params&&"object"==typeof t.context&&"function"==typeof t.callback&&Array.isArray(t.params)&&t.callback.apply(t.context,t.params)}}catch(e){this._errorHandler(e)}}catch(e){this._errorHandler(e)}},e.prototype.serialWatch=function(){try{if(this._serialStack&&"object"==typeof this._serialStack){var e=Object.keys(this._serialStack);if(e&&e.length>0){this._serialStackPointer>=e.length&&(this._serialStackPointer=0);var t=e[this._serialStackPointer];if(this._serialStackPointer++,this._serialStack.hasOwnProperty(t)&&t&&"string"==typeof t){var n=this._serialStack[t];n&&"object"==typeof n&&n.context&&n.callback&&n.params&&"object"==typeof n.context&&"function"==typeof n.callback&&Array.isArray(n.params)&&n.callback.apply(n.context,n.params)}}}}catch(e){this._errorHandler(e)}},e.prototype._errorHandler=function(e){this.errorHandler&&this.errorHandler(e)},e.prototype._generateID=function(){return"x-"+(new Date).getTime()+"-"+Math.round(1e6*Math.random())},e}(),F=N,M=function(){function e(){this._watchers={}}return e.getInstance=function(){return e._instance||(e._instance=new e),e._instance},e.prototype.init=function(e){void 0===e&&(e=200);var t=this._watchers[e];return t||(t=new F(e),this._watchers[e]=t),t},e.prototype.remove=function(e){var t=this;Object.keys(this._watchers).forEach((function(n){t._watchers[n]===e&&delete t._watchers[n]}))},e}(),V=M,q=n(8341),H=n.n(q),U=n(8214),W=n.n(U),z=V.getInstance().init(200),G={600:"Some uncaught error",503:"Attempt reattach the scripts to the non-object",502:"Block doesn't exist",501:"Banner place doesn't exist",500:"Some caught error",401:"Deprecated call",400:"Some warning",300:"Some info",200:"Some log",101:"Entry point",100:"Some debug",0:"Something"},X=function(){function e(){}return e.init=function(t){if("object"==typeof t)for(var n in t)t.hasOwnProperty(n)&&(e.settings[n]=t[n]);return e.settings.sentryUrl&&H().config(e.settings.sentryUrl,{environment:"production",logger:"CSLogger",release:e.settings.projectVersion,sampleRate:.25}).install(),e},e.log=function(t,n,r){if("number"==typeof t&&t>0&&"string"==typeof n&&n.length>0){if(t=t||101,n=n||G[t]||"",r=r||{},t>=e.settings.minLoggerLevel){var i={date:new Date,location:location.href,projectName:e.settings.projectName,projectVersion:e.settings.projectVersion,stack:_(),user:B(),message:n,properties:r,status:t,aab_info:o()};e.arrLog.push(i)}return!0}return!1},e.statusLavelSentry=function(e){return"number"==typeof e&&e>0?e>=200&&e<300?"log":e>=300&&e<400?"info":e>=400&&e<500?"warning":e>=500?"error":"debug":""},e.statusLavelConsole=function(e){return"number"==typeof e&&e>0?e>=200&&e<300?"log":e>=300&&e<400?"info":e>=400&&e<500?"warn":e>=500?"error":"debug":""},e.showMessange=function(t,n){if("number"==typeof t&&t>0&&"string"==typeof n&&n.length>0){var r=e.statusLavelConsole(t);return"object"==typeof window&&"object"==typeof window.Debug&&"object"==typeof window.Debug.console&&"function"==typeof window.Debug.console[r]?window.Debug.console[r](n):"object"==typeof window&&"object"==typeof window.CSDebug&&"object"==typeof window.CSDebug.console&&"function"==typeof window.CSDebug.console[r]?window.CSDebug.console[r](n):"object"==typeof console&&"function"==typeof console[r]&&console[r](n),!0}return!1},e.watch=function(){if(e.arrLog.length>0&&e.arrLog.length<100){for(var t=0;t<e.arrLog.length;t++){var n=e.arrLog[t],r=encodeURIComponent(JSON.stringify(n)),i=W()(JSON.stringify({message:n.message,projectName:n.projectName,projectVersion:n.projectVersion,status:n.status})).toString();if(-1===e.arrSended.indexOf(i))if(e.arrSended.push(i),e.settings.sentryUrl)H().captureMessage(n.message,{extra:n,level:e.statusLavelSentry(n.status),logger:"CSLogger",tags:{status:n.status}});else if(e.settings.loggerUrl){(new Image).src="".concat(e.settings.loggerUrl,"?uid=").concat(i,"&data=").concat(r)}else e.showMessange(n.status,n.message)}e.arrLog=[]}},e.eventListenerAdded=!1,e.arrLog=[],e.arrSended=[],e.projectName="sspjs",e.projectVersion=s,e.settings={loggerUrl:"",minLoggerLevel:500,projectName:"",projectVersion:"",sentryUrl:""},e}();z.subscribe({callback:X.watch});var J,K,Y=X.init;function Z(e){return e||null}var $=function(){function e(e,t){void 0===t&&(t={}),J=this,this.debugConsole=null,this.initDebugConsole(),this.use=e||!1,this.arrLog=[],"undefined"!=typeof window&&(this.console={debug:window.console.debug||window.console.log||Z(),error:window.console.error||window.console.log||Z(),info:window.console.info||window.console.log||Z(),log:window.console.log||Z(),warn:window.console.warn||window.console.log||Z()},this.use&&window.console&&(window.console.error=this._error,window.console.warn=this._warn,window.console.info=this._info,window.console.log=this._log,window.console.debug=this._debug)),K=Y(t.CSLogger||{})}return e.cloneObjectSafely=function(t,n){var r={};if(n<2)for(var i=0;i<t.length;i++){var o=t[i];t.hasOwnProperty(o)&&("object"==typeof t[o]?r[o]=e.cloneObjectSafely(t[o],n+1):r[o]=t[o])}return r},e.prototype.initDebugConsole=function(){"undefined"!=typeof window&&void 0!==window.document&&window.document.body&&(J.debugConsole=window.document.getElementById("debug-console"),J.debugConsole||(J.debugConsole=window.document.createElement("div"),J.debugConsole.id="debug-console",J.debugConsole.style.width="0px",J.debugConsole.style.height="0px",J.debugConsole.style.left="-10px",J.debugConsole.style.top="-10px",J.debugConsole.style.backgroundColor="#ff0000",J.debugConsole.style.color="#ffffff",J.debugConsole.style.zIndex="1000",J.debugConsole.style.position="absolute",J.debugConsole.style.overflow="hidden",J.debugConsole.style.opacity="0",window.document.body.appendChild(J.debugConsole)),J.debugConsole.innerHTML="[]")},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J.write("error",e),t.length>0)for(var r=0;r<t.length;r++)J.error(t[r])},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J.write("warn",e),t.length>0)for(var r=0;r<t.length;r++)J.warn(t[r])},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J.write("info",e),t.length>0)for(var r=0;r<t.length;r++)J.info(t[r])},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J.write("log",e),t.length>0)for(var r=0;r<t.length;r++)J.log(t[r])},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J.write("debug",e),t.length>0)for(var r=0;r<t.length;r++)J.debug(t[r])},e.prototype.getLogRects=function(e,t,n,r){var i=[];if(!(void 0!==e&&"string"!=typeof e||void 0!==t&&"string"!=typeof t||void 0!==n&&"string"!=typeof n||void 0!==r&&"string"!=typeof r))for(var o=0;o<J.arrLog.length;o++){var a=J.arrLog[o];if(!("string"==typeof e&&e&&a.mode!==e||"string"==typeof t&&t&&"string"==typeof a.message&&-1===a.message.indexOf(t))){if("string"==typeof n&&n||"string"==typeof r&&r){if(!a.stack)continue;for(var s=!1,c=0;c<a.stack.length;c++){var u=a.stack[c];if("string"==typeof n&&n&&"string"==typeof u.method&&-1===u.method.indexOf(n)||"string"==typeof r&&r&&"string"==typeof u.file&&-1===u.file.indexOf(r)){s=!0;break}}if(s)continue}i.push(a)}}return i},e.prototype.getLogRectByID=function(e){return J.arrLog[e]},e.prototype.clearLog=function(){J.arrLog=[]},e.prototype.write=function(t,n){if(t&&n){"object"==typeof n&&(n=e.cloneObjectSafely(n,0));var r={};if(r.mode=t,r.message=n,r.stack=_(),J.arrLog.push(r),J.use){J.debugConsole?J.debugConsole.innerHTML=JSON.stringify(J.arrLog):(J.initDebugConsole(),J.debugConsole&&(J.debugConsole.innerHTML=JSON.stringify(J.arrLog)));try{"undefined"!=typeof window&&void 0!==window.console&&void 0!==J&&void 0!==J.console&&("function"==typeof J.console[t]?J.console[t].apply(window.console,[r]):"function"==typeof J.console.log&&J.console.log.apply(window.console,[r]))}catch(e){Z(e)}}}},e.prototype._error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J)if(K.log(500,e),J.use){if(J.error(e),t.length>0)for(var r=0;r<t.length;r++)J._error(t[r])}else try{"undefined"!=typeof window&&void 0!==window.console&&void 0!==J&&void 0!==J.console&&("function"==typeof J.console.error?J.console.error.apply(window.console,t):"function"==typeof J.console.log&&J.console.log.apply(window.console,t))}catch(e){Z(e)}},e.prototype._warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J)if(K.log(400,e),J.use){if(J.warn(e),t.length>0)for(var r=0;r<t.length;r++)J._warn(t[r])}else try{"undefined"!=typeof window&&void 0!==window.console&&void 0!==J&&void 0!==J.console&&("function"==typeof J.console.warn?J.console.warn.apply(window.console,t):"function"==typeof J.console.log&&J.console.log.apply(window.console,t))}catch(e){Z(e)}},e.prototype._info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J)if(K.log(300,e),J.use){if(J.info(e),t.length>0)for(var r=0;r<t.length;r++)J._info(t[r])}else try{"undefined"!=typeof window&&void 0!==window.console&&void 0!==J&&void 0!==J.console&&("function"==typeof J.console.info?J.console.info.apply(window.console,t):"function"==typeof J.console.log&&J.console.log.apply(window.console,t))}catch(e){Z(e)}},e.prototype._log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J)if(K.log(200,e),J.use){if(J.log(e),t.length>0)for(var r=0;r<t.length;r++)J._log(t[r])}else try{"undefined"!=typeof window&&void 0!==window.console&&void 0!==J&&void 0!==J.console&&"function"==typeof J.console.log&&J.console.log.apply(window.console,t)}catch(e){Z(e)}},e.prototype._debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(J)if(K.log(100,e),J.use){if(J.debug(e),t.length>0)for(var r=0;r<t.length;r++)J._debug(t[r])}else try{"undefined"!=typeof window&&void 0!==window.console&&void 0!==J&&void 0!==J.console&&("function"==typeof J.console.debug?J.console.debug.apply(window.console,t):"function"==typeof J.console.log&&J.console.log.apply(window.console,t))}catch(e){Z(e)}},e}(),Q=$,ee={AdfUtil:Symbol.for("AdfUtil"),MethodsInitializer:Symbol.for("MethodsInitializer"),AdfInner:Symbol.for("AdfInner"),BegunAutocontext:Symbol.for("BegunAutocontext"),BegunScripts:Symbol.for("BegunScripts"),MonitorClass:Symbol.for("MonitorClass"),SSPRequestsSessionsObserver:Symbol.for("SSPRequestsSessionsObserver"),SyncShow:Symbol.for("SyncShow"),Refresher:Symbol.for("Refresher"),InViewTimerStarter:Symbol.for("InViewTimerStarter"),ToolbarHelper:Symbol.for("ToolbarHelper"),ResourceTiming:Symbol.for("ResourceTiming"),DataLoader:Symbol.for("DataLoader"),MetricsTransport:Symbol.for("MetricsTransport"),MetricsTimer:Symbol.for("MetricsTimer"),UserID:Symbol.for("UserID"),blockShowLoggerFactory:Symbol.for("Factory<BlockShowLogger>"),cachedBlockShowLoggerFactory:Symbol.for("Factory<CachedBlockShowLogger>"),EventEmitter:Symbol.for("EventEmitter"),Store:Symbol.for("Store"),Config:Symbol.for("Config"),ConfigOptions:Symbol.for("ConfigOptions"),UaParserService:Symbol.for("UaParserService"),RenderingWatcherFactory:Symbol.for("Factory<RenderingWatcher>"),CoveringWatcher:Symbol.for("CoveringWatcher"),BannerTemplatesStore:Symbol.for("BannerTemplatesStore"),SSPRequestParamsBuilderFactory:Symbol.for("SSPRequestParamsBuilderFactory"),SSPRequestParamsDirector:Symbol.for("SSPRequestParamsDirector"),VastPlaybackWrapper:Symbol.for("VastPlaybackWrapper"),PerformanceTemplatesWrapper:Symbol.for("PerformanceTemplatesWrapper")},te=function(e){this.t=e};te.prototype.inSingletonScope=function(){this.t.singleton=!0};var ne=function(e){this.t=e};ne.prototype.to=function(e){return this.t.object=e,new te(this.t)},ne.prototype.toFactory=function(e){return this.t.factory=e,new te(this.t)},ne.prototype.toValue=function(e){if(void 0===e)throw"cannot bind a value of type undefined";this.t.value=e};var re=function(){this.i=new Map,this.o=[]};re.prototype.bind=function(e){return new ne(this.u(e))},re.prototype.rebind=function(e){return this.remove(e).bind(e)},re.prototype.remove=function(e){if(void 0===this.i.get(e))throw e.toString()+" was never bound";return this.i.delete(e),this},re.prototype.get=function(e){var t=this.i.get(e);if(void 0===t)throw"nothing bound to "+e.toString();var n=t.object,r=t.factory,i=t.value,o=t.cache,a=t.singleton,s=function(e){return a&&void 0!==o?o:a?(t.cache=e(),t.cache):e()};if(void 0!==i)return i;if(void 0!==n)return s((function(){return new n}));if(void 0!==r)return s((function(){return r()}));throw"nothing is bound to "+e.toString()},re.prototype.snapshot=function(){return this.o.push(new Map(this.i)),this},re.prototype.restore=function(){return this.i=this.o.pop()||this.i,this},re.prototype.u=function(e){if(void 0!==this.i.get(e))throw"object can only bound once: "+e.toString();var t={singleton:!1};return this.i.set(e,t),t};var ie=Symbol("NOCACHE");function oe(e,t,n,r,i){Object.defineProperty(e,t,{get:function(){var e=n.get(r);return-1===i.indexOf(ie)&&Object.defineProperty(this,t,{value:e,enumerable:!0}),e},configurable:!0,enumerable:!0})}var ae,se,ce=new re,ue=function(e){return function(t){for(var n=[],r=arguments.length-1;r-- >0;)n[r]=arguments[r+1];return function(e,t,n){return function(r,i){oe(r,i,t,e,n)}}(t,e,n)}}(ce),le=function(e){return function(t){for(var n,r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];return function(){return-1===r.indexOf(ie)&&void 0!==n||(n=e.get(t)),n}}}(ce),pe=function(e){return(e.context&&e.context.location||e.document&&e.document.location).href};!function(e){e.LIB="lib",e.FEED="feed",e.BLOCK="block",e.PAGE="page"}(ae||(ae={})),function(e){e.INIT="init",e.LOAD="load",e.PREDRAW="predraw",e.DRAW="draw",e.DRAW_COMPLETE="drawComplete",e.UNEXIST="unexist",e.SPA_UPDATE="spaUpdate",e.REAL_SHOW="realShow"}(se||(se={}));var de,he=n(2238),fe=n.n(he),ve=n(3876),ge=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},me=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},be=function(){function e(e,t){var n=(void 0===t?{}:t).subscribeOnInit,r=void 0===n||n,i=this;this._externalCallback=e,this._subscribed=!1,this._unregisterSpaPageUpdate=function(){i._eventEmitter.unregister(ae.PAGE,se.SPA_UPDATE,i._onUnload)},this._registerSpaPageUpdate=function(){var e,t;i._eventEmitter.register(((e={})[ae.PAGE]=((t={})[se.SPA_UPDATE]=i._onUnload,t),e))},this._onUnload=function(){i.unsubscribe(),i._externalCallback(!0)},r&&this.subscribe()}return e.prototype.subscribe=function(){this._subscribed||(this._subscribed=!0,this._setCommonListeners(),this._setMobileListeners(),this._registerSpaPageUpdate())},e.prototype.unsubscribe=function(){var t=this;this._subscribed&&(this._subscribed=!1,this._unregisterSpaPageUpdate(),e.events.forEach((function(e){return window.removeEventListener(e,t._onUnload)})),(0,ve.unbind)(this._pageVisibilityListenerId))},e.prototype._setMobileListeners=function(){var e=this;"mobile"!==this._uaparser.getDevice().type&&"tablet"!==this._uaparser.getDevice().type||(this._pageVisibilityListenerId=(0,ve.change)((function(){(0,ve.hidden)()&&e._onUnload()})))},e.prototype._setCommonListeners=function(){var t=this;e.events.forEach((function(e){return window.addEventListener(e,t._onUnload,!1)}))},e.events=["unload","beforeunload","pagehide"],ge([ue(ee.EventEmitter),me("design:type",Object)],e.prototype,"_eventEmitter",void 0),ge([ue(ee.UaParserService),me("design:type",fe())],e.prototype,"_uaparser",void 0),e}(),ye=be,we=function(e,t,n){return e.includes("?")?"".concat(e,"&").concat(t,"=").concat(n):"".concat(e,"?").concat(t,"=").concat(n)},_e=function(e){var t,n=!0,r="https:";if(t=window.context&&window.context.location&&(window.context.location.protocol||window.context.location.href)?window.context.location.protocol?window.context.location.protocol.toLowerCase():window.context.location.href.split(":").shift().toLowerCase():document.location.protocol.toLowerCase(),r===(t="".concat(t.split(":").shift(),":"))){var i=e.match(/^[^:\/?#]+:/);null!==i&&(n=i[0]===r)}return n},Se=function(e){if(_e(e)){var t=document.createElement("img");return t.setAttribute("src",e),t}return!1},Ee=function(e,t){var n=void 0===t?{}:t,r=n.callback,i=n.data,o=n.async,a=void 0===o||o;try{var s=new XMLHttpRequest;s.open(i?"POST":"GET",e,a),"function"==typeof r&&(s.onreadystatechange=function(){s.readyState>3&&r(s.responseText,s)}),s.send(i)}catch(e){console.error(e)}},ke=function(e,t){var n=e.contentWindow,r=n?n.document:null;r&&"complete"===r.readyState?t(r):e.onload=function(){e.onload=null,t(n.document)}},Oe=function(e){var t="object"==typeof e?e:document.getElementById(e);return t&&!t.id&&(t.id=Math.random().toString(36).replace(/[^a-z]+/g,"")),t},Te=function(){return Te=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Te.apply(this,arguments)},xe=function(e,t){if("string"!=typeof e)throw new TypeError("Expected `url` to be of type `string`, got `".concat(typeof e,"`"));return e=e.trim(),t=Te({https:!1},t),/^.+\/\/|^(?!localhost)\w+:/.test(e)?e:e.replace(/^(\/\/|(?!.+?\/\/))/,t.https?"https://":"http://")},Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ce.apply(this,arguments)},Pe=["alt","crossorigin","src","onerror","onload"],Ie=function(e){return function(e){for(var t=new Image,n=0,r=Pe;n<r.length;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i])}return t}(e=Ce(Ce({onerror:function(){},onload:function(){}},e),{src:xe(e.src,{https:!0})}))},Re=function(){return Math.random().toString(36).substring(2).replace(/^[0-9]/,String.fromCharCode(97+Math.floor(26*Math.random())))},Ae=function(){return Ae=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ae.apply(this,arguments)},De=["async","defer","crossorigin","type","src","onerror","onload","nonce"],je=function(e){for(var t=e.document.createElement("script"),n=0,r=De;n<r.length;n++){var i=r[n];void 0!==e[i]&&(t[i]=e[i])}var o=window.CAPIRS_CONFIG||{};o.SCRIPT_NONCE_VALUE&&t.setAttribute("nonce",o.SCRIPT_NONCE_VALUE);var a=function(){e.removeAfterLoading&&t.parentNode.removeChild(t)};return t.addEventListener("load",a),t.addEventListener("error",a),t},Be=function(e,t){switch(e.action){case"append":return n=t,r=e.document,i=e.target,(o=e.entry)?o.parentNode.insertBefore(n,o):i?i.appendChild(n):(r.head||r.body).appendChild(n),n;case"write":return function(e,t){e.id=Re(),t.write(e.outerHTML);var n=t.getElementById(e.id);return n&&(n.addEventListener("load",e.onload),n.addEventListener("error",e.onerror)),n}(t,e.document)}var n,r,i,o},Le=function(e){var t=function(e){var t=e.document.createElement("link"),n=window.CAPIRS_CONFIG||{};return n.SCRIPT_NONCE_VALUE&&t.setAttribute("nonce",n.SCRIPT_NONCE_VALUE),e.preload&&t.relList&&t.relList.supports&&t.relList.supports("preload")?(t.rel="preload",t.as="script",t.href=e.src,t.addEventListener("load",(function(){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)})),t.addEventListener("error",(function(){var e;null===(e=t.parentNode)||void 0===e||e.removeChild(t)}))):t=null,t}(e=Ae(Ae({onerror:function(){},onload:function(){},document:document,preload:!(O()&&!e.async),sequentially:!(!O()||!e.async)},e),{src:xe(e.src,{https:!0})}));return function(e,t){return t?((e.document.head||e.document.body).appendChild(t),new Promise((function(n){var r=function(){n(Be(e,je(e)))};e.sequentially?(t.addEventListener("load",r),t.addEventListener("error",r)):r()}))):Promise.resolve(Be(e,je(e)))}(e,t)},Ne=new Map([[void 0,1],["mobile",2],["tablet",3],["smarttv",5],["wearable",6],["embedded",7],["console",8]]),Fe=function(e){return Ne.get(e)||9},Me=function(){return Me=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Me.apply(this,arguments)},Ve=function(e,t){return void 0===e&&(e={}),void 0===t&&(t="unknown"),Object.keys(e).reduce((function(n,r){var i,o=e[r];return Me(Me({},n),((i={})[r]="number"==typeof o?o:o||t,i))}),{})},qe=function(e){return"object"==typeof e?e.id:e},He=/(\d+)\.?(\d+)?.?(\d+)?/,Ue=function(e){var t=e.version,n=e.name,r=t.match(He);return!("iOS"===n&&parseFloat(t)<12.2||"Mac OS"===n&&r&&10===parseInt(r[1],10)&&(void 0===r[2]||14===parseInt(r[2],10)&&(!r[3]||parseInt(r[3],10)<4)||parseInt(r[2],10)<14))},We=n(8575),ze=function(e){var t=We.Qc(e);if(t&&"localhost"===t.hostname){var n=t.hostname;t.port&&(n+=".:".concat(t.port)),e=e.replace(n,"www.rambler.ru")}return e};!function(e){e.FULLSCREEN="fullscreen",e.FLOATING_BILLBOARD="floatingBillboard"}(de||(de={}));var Ge,Xe,Je=function(){function e(){}return e.checkRootLVLBannerByFeed=function(t){if(t&&t.banners.graph[0]){var n=t.banners.graph[0].view_type;for(var r in e.rootBannersTypes)if(e.rootBannersTypes.hasOwnProperty(r)&&n.includes(e.rootBannersTypes[r]))return r}},e.getRootElementType=function(t){for(var n in"string"==typeof t&&(t=window.document.getElementById(t)),e.rootBannersTypes)if(e.rootBannersTypes.hasOwnProperty(n)){var r=e.rootBannersTypes[n];if(t.querySelector("script[src*=".concat(r,"]")))return n}return null},e.getActualBannerPlace=function(t,n){return n||(n=e.getRootElementType(t)),n?e.getNestedBanner(t,n)||e.findByDataPlaceId(t)||e.getGlobalBanner(n):e.findByDataPlaceId(t)},e.getNestedBanner=function(t,n){return t?t.querySelector(e.rootBannersQuerySelectors[n]):null},e.findByDataPlaceId=function(t,n){if(void 0===n&&(n=document),!t)return null;var r=t.querySelector("[".concat(e.PLACE_ID_ATTR,"]"));return r&&Array.from(n.querySelectorAll("[".concat(e.PLACE_ID_ATTR,'="').concat(r.dataset.bannerPlaceId,'"]'))).find((function(e){return e!==r}))||null},e.getGlobalBanner=function(t){return document.querySelector(e.rootBannersQuerySelectors[t])},e.rootBannersTypes={branding:"Branding",fullscreen:"Fullscreen",floatingBillboard:"FloatingBillboard",shade:"Shade"},e.PLACE_ID_ATTR="data-banner-place-id",e.rootBannersQuerySelectors={branding:"[class*='branding-wrapper'][data-banner-place-id]",fullscreen:"[class*='fullscreen-wrapper'][data-banner-place-id]",floatingBillboard:"[class*='floating-billboard'][data-project-name='floatingbillboard']",shade:"[class*='shade-banner'][data-project-name='Shade']"},e}(),Ke=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ye=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ze=V.getInstance().init(200),$e=function(){function e(){this.subscriptions={}}return e.setInfo=function(e,t,n){if(n){var r=e.monitor_data||{},i=r[t]||[];i.push(n),r[t]=i,e.monitor_data=r}},e.setBannerInfo=function(t,n){["viewability"].forEach((function(r){return e.setInfo(t,r,n[r])}))},e.prototype.prepareViewAbilityUrls=function(e){return e&&e.monitor_data&&e.monitor_data.viewability&&e.monitor_data.viewability[0]||[]},e.prototype.runViewAbility=function(e){var t=this,n=e.feed,r=e.subscriptionID,i=e.showUrls,o=e.domObj;this.checkSubscription(r)&&this.unsubscribe(r);var a=[o,i],s=Je.checkRootLVLBannerByFeed(n)||Je.getRootElementType(o);if(s){var c=null;Ze.subscribe({callback:function(){var e=Je.getActualBannerPlace(o,s);e&&("string"==typeof r&&(Ze.unsubscribe(r),clearTimeout(c)),a[0]=e,t.addSubscription(r,a))},ID:r}),r?c=setTimeout((function(){"string"==typeof r&&Ze.unsubscribe(r),t.addSubscription(r,a)}),3e3):this.addSubscription(r,a)}else this.addSubscription(r,a)},e.prototype.attemptRunViewabilityWatcher=function(e){var t=e.feed,n=e.watchedElement,r=e.subscriptionID,i=this.prepareViewAbilityUrls(n);i.length>0&&(this.dispatchBlockDrawCallback(n,t),this.runViewAbility({feed:t,subscriptionID:r,showUrls:i,domObj:n}))},e.prototype.dispatchBlockDrawCallback=function(e,t){window.Begun.Autocontext.Callbacks.dispatch(ae.BLOCK,se.DRAW,e,[t])},e.prototype.addSubscription=function(e,t){var n;this.subscriptions[e]=(n=this._utilService.viewAbility).create.apply(n,t)},e.prototype.checkSubscription=function(e){return!!this.subscriptions[e]},e.prototype.unsubscribe=function(e){this.subscriptions[e]()},Ke([ue(ee.AdfUtil),Ye("design:type",Object)],e.prototype,"_utilService",void 0),e}(),Qe=$e;!function(e){e.X_HTML="application/x-html",e.X_MIXED_IFRAME_HTML="application/x-mixed-iframe-html",e.X_IFRAME_HTML="application/x-iframe-html",e.X_FIXED_IFRAME_HTML="application/x-fixed-iframe-html",e.X_JAVASCRIPT="application/x-javascript",e.X_SHOCKWAVE_FLASH="application/x-shockwave-flash",e.X_SHARED_SCRIPTS="application/x-shared-scripts",e.VAST_XML="application/vast-xml",e.TEXT_HTML="text/html",e.TEXT_URL="text/url"}(Ge||(Ge={})),function(e){e.ATOMS="Atoms",e.BRANDING="Branding",e.FULLSCREEN="Fullscreen"}(Xe||(Xe={}));var et=Y(n(9385)),tt=function(){function e(){}return e.prototype.load=function(e,t){return void 0===t&&(t={}),new Promise((function(n,r){var i=new XMLHttpRequest;void 0!==t.withCredentials&&(i.withCredentials=t.withCredentials);var o=xe(e,{https:!0});i.open("GET",o,!0),i.onload=function(){n({responseText:i.responseText,status:i.status})};var a=0;i.onerror=function(e){et.log(500,"Feed fetch src failed",{src:o,Error:e}),a<1?(a+=1,i.open("GET",o,!0),i.send()):r(e)},i.send()}))},e}();var nt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},rt=Object.create,it=function(){function e(){}return function(t){if(!nt(t))return{};if(rt)return rt(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var ot=function(){};function at(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}at.prototype=it(ot.prototype),at.prototype.constructor=at;var st=at;var ct=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},ut=n(6169),lt=ut.Z.Symbol,pt=Object.prototype,dt=pt.hasOwnProperty,ht=pt.toString,ft=lt?lt.toStringTag:void 0;var vt=function(e){var t=dt.call(e,ft),n=e[ft];try{e[ft]=void 0;var r=!0}catch(e){}var i=ht.call(e);return r&&(t?e[ft]=n:delete e[ft]),i},gt=Object.prototype.toString;var mt=function(e){return gt.call(e)},bt=lt?lt.toStringTag:void 0;var yt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":bt&&bt in Object(e)?vt(e):mt(e)};var wt=function(e){return null!=e&&"object"==typeof e};var _t=function(e){return wt(e)&&"[object Arguments]"==yt(e)},St=Object.prototype,Et=St.hasOwnProperty,kt=St.propertyIsEnumerable,Ot=_t(function(){return arguments}())?_t:function(e){return wt(e)&&Et.call(e,"callee")&&!kt.call(e,"callee")},Tt=Ot,xt=Array.isArray,Ct=lt?lt.isConcatSpreadable:void 0;var Pt=function(e){return xt(e)||Tt(e)||!!(Ct&&e&&e[Ct])};var It=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=Pt),o||(o=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,i,o):ct(o,c):i||(o[o.length]=c)}return o};var Rt=function(e){return(null==e?0:e.length)?It(e,1):[]};var At=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Dt=Math.max;var jt=function(e,t,n){return t=Dt(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=Dt(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),At(e,this,s)}};var Bt=function(e){return function(){return e}};var Lt,Nt=function(e){if(!nt(e))return!1;var t=yt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Ft=ut.Z["__core-js_shared__"],Mt=(Lt=/[^.]+$/.exec(Ft&&Ft.keys&&Ft.keys.IE_PROTO||""))?"Symbol(src)_1."+Lt:"";var Vt=function(e){return!!Mt&&Mt in e},qt=Function.prototype.toString;var Ht=function(e){if(null!=e){try{return qt.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ut=/^\[object .+?Constructor\]$/,Wt=Function.prototype,zt=Object.prototype,Gt=Wt.toString,Xt=zt.hasOwnProperty,Jt=RegExp("^"+Gt.call(Xt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Kt=function(e){return!(!nt(e)||Vt(e))&&(Nt(e)?Jt:Ut).test(Ht(e))};var Yt=function(e,t){return null==e?void 0:e[t]};var Zt=function(e,t){var n=Yt(e,t);return Kt(n)?n:void 0},$t=function(){try{var e=Zt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Qt=function(e){return e},en=$t?function(e,t){return $t(e,"toString",{configurable:!0,enumerable:!1,value:Bt(t),writable:!0})}:Qt,tn=Date.now;var nn=function(e){var t=0,n=0;return function(){var r=tn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},rn=nn(en);var on=function(e){return rn(jt(e,void 0,Rt),e+"")},an=Zt(ut.Z,"WeakMap"),sn=an&&new an;var cn=function(){},un=sn?function(e){return sn.get(e)}:cn,ln={},pn=Object.prototype.hasOwnProperty;var dn=function(e){for(var t=e.name+"",n=ln[t],r=pn.call(ln,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t};function hn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}hn.prototype=it(ot.prototype),hn.prototype.constructor=hn;var fn=hn;var vn=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var gn=function(e){if(e instanceof fn)return e.clone();var t=new st(e.__wrapped__,e.__chain__);return t.__actions__=vn(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},mn=Object.prototype.hasOwnProperty;function bn(e){if(wt(e)&&!xt(e)&&!(e instanceof fn)){if(e instanceof st)return e;if(mn.call(e,"__wrapped__"))return gn(e)}return new st(e)}bn.prototype=ot.prototype,bn.prototype.constructor=bn;var yn=bn;var wn=function(e){var t=dn(e),n=yn[t];if("function"!=typeof n||!(t in fn.prototype))return!1;if(e===n)return!0;var r=un(n);return!!r&&e===r[0]};var _n,Sn,En,kn=function(e){return on((function(t){var n=t.length,r=n,i=st.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new TypeError("Expected a function");if(i&&!a&&"wrapper"==dn(o))var a=new st([],!0)}for(r=a?r:n;++r<n;){o=t[r];var s=dn(o),c="wrapper"==s?un(o):void 0;a=c&&wn(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?a[dn(c[0])].apply(a,c[3]):1==o.length&&wn(o)?a[s]():a.thru(o)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&xt(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))},On=kn(!0),Tn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},xn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cn=On(decodeURIComponent,window.escape,window.atob),Pn=function(){function e(){}return e.prototype.load=function(e){return Tn(this,void 0,void 0,(function(){return xn(this,(function(t){return[2,{responseText:Cn(e.split(",",2)[1])}]}))}))},e}(),In=function(){function e(){}return e.getLoaderFor=function(t){var n=0===t.indexOf("data:")?"base64":"url";return new(0,e.loaders[n])},e.loaders=((_n={})[p.url]=tt,_n[p.base64]=Pn,_n),e}(),Rn=function(){function e(){}return e.prototype.load=function(e,t){return In.getLoaderFor(e).load(e,t).then((function(t){return{data:t,input:e}})).catch((function(){return{input:e}}))},e}();!function(e){e.SyncBannerReRequest="New request to ssp is performed in order to get appropriate sync/forced-non-sync banner for this place.",e.Fake='Banner has a "Fake" type that means that banner couldn\'t be loaded through the third-party ad script in some cases.',e.NotRendered="Banner treated as non-rendered due to the too small size after the time end.",e.Empty="There is no banner to show. It could happen if SSP did not find the banner for the place.",e.PlaceNotFound="Time to find the banner place is running out.",e.NoChildren="No children inside begun_block.",e.DoesNotExist="Provided banner wrapper does not exist in the DOM.",e.NoBegunBlock="There is no begun_block inside banner place or there is lack of rendered children inside of the existing begun_block after the end of the watching time.",e.SubscriptionIsPurchased="User purchased subscription. There will be no ads on this page."}(Sn||(Sn={})),function(e){e.PENDING="pending",e.RENDERED="rendered",e.NOT_RENDERED="not_rendered",e.NO_BANNER="no_banner"}(En||(En={}));var An=function(e,t){if(t<1)return"";if(t%2)return An(e,t-1)+e;var n=An(e,t/2);return n+n},Dn=n(1309),jn="1.2.0",Bn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ln=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Nn=function(e,t){void 0===t&&(t=window);var n=this;this._fingerprintStorage=e,this._eventContainer=t,this._getFingerprintHandler=function(e){return Ln(n,void 0,void 0,(function(){var t;return Bn(this,(function(n){switch(n.label){case 0:return e.data&&"octopusGetFingerprint"===e.data.type?[4,this._fingerprintStorage.getFingerPrint()]:[2];case 1:return t=n.sent(),e.source.postMessage({fingerprint:t,type:"octopusSetFingerprint"},e.origin),[2]}}))}))},this._eventContainer.addEventListener("message",this._getFingerprintHandler,!1)},Fn=function(){function e(e){this.name=e}return e.getUserDataWithoutIP=function(e){var t,n=JSON.parse(e);return(null===(t=n[n.length-1])||void 0===t?void 0:t.IP)?n.slice(0,n.length-1):n},e.prototype.getFingerprint=function(t){var n=t.getGatheredIP(),r=e.getUserDataWithoutIP(t.getCollectedUserData());return{fp:mr.getFingerPrintHash(JSON.stringify(r)+n.split(".")[0]),name:this.name}},e}(),Mn=function(){function e(e){this.name=e}return e.prototype.getFingerprint=function(e){var t=e.getGatheredIP();return{fp:e.getBaseFingerprint()+t.split(".")[0],name:this.name}},e}(),Vn=function(){function e(e){this.name=e}return e.prototype.getFingerprint=function(e){var t=e.getGatheredIP().split(".");return{fp:"".concat(e.getBaseFingerprint()).concat(t[0]).concat(t[1]),name:this.name}},e}(),qn=function(){function e(e){this.name=e}return e.prototype.getFingerprint=function(e){return{fp:e.getBaseFingerprint(),name:this.name}},e}(),Hn=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Un="UNKNOWN",Wn=function(){function e(e){this.name=e}return e.prototype.getFingerprint=function(e){var t=JSON.parse(e.getCollectedUserData()),n=Hn(Hn([],t,!0),[this.getCanvas(),this.getWebGL()],!1);return{fp:mr.getFingerPrintHash(JSON.stringify(n)),name:this.name}},e.prototype.getCanvas=function(){var e={},t=document.createElement("canvas");t.width=400,t.height=200,t.style.display="inline";var n=t.getContext("2d");try{null==n||n.rect(0,0,10,10),null==n||n.rect(2,2,6,6),e.canvasWinding=null==n?void 0:n.isPointInPath(5,5,"evenodd")}catch(t){e.canvasWinding=Un}try{n&&(n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.font="11pt no-real-font-123",n.fillText("Cwm fjordbank glyphs vext quiz, ",2,15),n.fillStyle="rgba(102, 204, 0, 0.2)",n.font="18pt Arial",n.fillText("Cwm fjordbank glyphs vext quiz, ",4,45),n.globalCompositeOperation="multiply",n.fillStyle="rgb(255,0,255)",n.beginPath(),n.arc(50,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(0,255,255)",n.beginPath(),n.arc(100,50,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,255,0)",n.beginPath(),n.arc(75,100,50,0,2*Math.PI,!0),n.closePath(),n.fill(),n.fillStyle="rgb(255,0,255)",n.arc(75,75,75,0,2*Math.PI,!0),n.arc(75,75,25,0,2*Math.PI,!0),n.fill("evenodd"),e.image=t.toDataURL())}catch(t){e.image=Un}return e},e.prototype.getWebGL=function(){try{var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl"),n=void 0,r=void 0;return t.getSupportedExtensions().indexOf("WEBGL_debug_renderer_info")>=0?(n=t.getParameter(t.getExtension("WEBGL_debug_renderer_info").UNMASKED_VENDOR_WEBGL),r=t.getParameter(t.getExtension("WEBGL_debug_renderer_info").UNMASKED_RENDERER_WEBGL)):(n="Not supported",r="Not supported"),[n,r]}catch(e){return"Not supported;;;Not supported"}},e}(),zn=[new Fn("firstIPByte"),new Mn("joinedFirstIPByte"),new Vn("joinedFirstSecondIPBytes"),new qn("withoutIP"),new Wn("withCanvas")],Gn=function(){function e(e){this.userID=e}return e.prototype.get=function(){var t=this;return e.experimentalAlgorithms.reduce((function(e,n){var r,i=n.getFingerprint(t.userID),o=i.name,a=i.fp;return Object.assign(Object.assign({},e),((r={})[o]=a,r))}),{})},e}();Gn.experimentalAlgorithms=zn;var Xn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Jn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Kn=function(){function e(){}return e.prototype.getFingerprint=function(){return Jn(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,c,u,l;return Xn(this,(function(p){switch(p.label){case 0:if(!window.OfflineAudioContext)return[3,5];e=window.OfflineAudioContext,t=4500,5e3,n=new e(1,5e3,44100),(r=n.createOscillator()).type="triangle",r.frequency.value=1e4,(i=n.createDynamicsCompressor()).threshold.value=-50,i.knee.value=40,i.ratio.value=12,i.attack.value=0,i.release.value=.25,r.connect(i),i.connect(n.destination),r.start(0),o=this.startRenderingAudio(n),a=o[0],s=o[1],p.label=1;case 1:return p.trys.push([1,3,,4]),[4,a];case 2:return u=p.sent(),c=this.getHash(u.getChannelData(0).subarray(t)),[3,4];case 3:return(l=p.sent())&&l instanceof Error&&("timeout"===l.name||"suspended"===l.name)&&(c=0),[3,4];case 4:return[2,{ok:!0,webAudioHash:function(){return s(),c}}];case 5:return[2,{ok:!1}]}}))}))},e.prototype.startRenderingAudio=function(e){var t=function(){},n=new Promise((function(n,r){var i=!1,o=0,a=0;e.oncomplete=function(e){return n(e.renderedBuffer)};var s=function(){setTimeout((function(){return r()}),Math.min(500,a+5e3-Date.now()))},c=function(){try{switch(e.startRendering(),e.state){case"running":a=Date.now(),i&&s();break;case"suspended":document.hidden||o++,i&&o>=3?r():setTimeout(c,500)}}catch(e){r(e)}};c(),t=function(){i||(i=!0,a>0&&s())}}));return[n,t]},e.prototype.getHash=function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t},e}(),Yn=function(){return-1!==navigator.userAgent.indexOf("Opera")},Zn=function(){return-1!==navigator.userAgent.indexOf("OPR")},$n=function(){return-1!==navigator.userAgent.indexOf("Edg")},Qn=function(){return-1!==navigator.userAgent.indexOf("Edge")},er=function(){return-1!==navigator.userAgent.indexOf("Chrome")},tr=function(){return-1!==navigator.userAgent.indexOf("Firefox")},nr=function(){return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")},rr=function(){return navigator.userAgent.lastIndexOf(" ")+1<navigator.userAgent.lastIndexOf("/")},ir=function(){var e;return Yn()||Zn()?e="Opera":$n()||Qn()?e="Edge":er()?e="Chrome":tr()?e="Firefox":nr()?e="Safari":rr()&&(e=function(){var e=navigator.userAgent.lastIndexOf(" ")+1,t=navigator.userAgent.lastIndexOf("/"),n=navigator.userAgent.substring(e,t);return n.toLowerCase()===n.toUpperCase()&&(n=navigator.appName),n}()),e||""},or=function(e){if("string"==typeof e){for(var t=[";"," ",")"],n=0;n<t.length;n++){var r=t[n],i=e.indexOf(r);-1!==i&&(e=e.substring(0,i))}return e}return""},ar=function(){var e;return Yn()?e=function(){var e=navigator.userAgent.indexOf("Opera"),t=navigator.userAgent.substring(e+6);return-1!==(e=navigator.userAgent.indexOf("Version"))&&(t=navigator.userAgent.substring(e+8)),or(t)}():Zn()?e=function(){var e=navigator.userAgent.indexOf("OPR"),t=navigator.userAgent.substring(e+4);return or(t)}():Qn()?e=function(){var e=navigator.userAgent.indexOf("Edge"),t=navigator.userAgent.substring(e+5);return or(t)}():$n()?e=function(){var e=navigator.userAgent.indexOf("Edg"),t=navigator.userAgent.substring(e+4);return or(t)}():er()?e=function(){var e=navigator.userAgent.indexOf("Chrome"),t=navigator.userAgent.substring(e+7);return or(t)}():tr()?e=function(){var e=navigator.userAgent.indexOf("Firefox"),t=navigator.userAgent.substring(e+8);return or(t)}():nr()?e=function(){var e=navigator.userAgent.indexOf("Safari"),t=navigator.userAgent.substring(e+7);return-1!==(e=navigator.userAgent.indexOf("Version"))&&(t=navigator.userAgent.substring(e+8)),or(t)}():rr()&&(e=function(){var e=navigator.userAgent.lastIndexOf("/"),t=navigator.userAgent.substring(e+1);return or(t)}()),e||""},sr=function(){for(var e="",t=[{r:/(Windows 10.0|Windows NT 10.0)/,s:"Windows 10"},{r:/(Windows 8.1|Windows NT 6.3)/,s:"Windows 8.1"},{r:/(Windows 8|Windows NT 6.2)/,s:"Windows 8"},{r:/(Windows 7|Windows NT 6.1)/,s:"Windows 7"},{r:/Windows NT 6.0/,s:"Windows Vista"},{r:/Windows NT 5.2/,s:"Windows Server 2003"},{r:/(Windows NT 5.1|Windows XP)/,s:"Windows XP"},{r:/(Windows NT 5.0|Windows 2000)/,s:"Windows 2000"},{r:/(Win 9x 4.90|Windows ME)/,s:"Windows ME"},{r:/(Windows 98|Win98)/,s:"Windows 98"},{r:/(Windows 95|Win95|Windows_95)/,s:"Windows 95"},{r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,s:"Windows NT 4.0"},{r:/Windows CE/,s:"Windows CE"},{r:/Win16/,s:"Windows 3.11"},{r:/Android/,s:"Android"},{r:/OpenBSD/,s:"Open BSD"},{r:/SunOS/,s:"Sun OS"},{r:/(Linux|X11)/,s:"Linux"},{r:/(iPhone|iPad|iPod)/,s:"iOS"},{r:/Mac OS X/,s:"Mac OS X"},{r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/,s:"Mac OS"},{r:/QNX/,s:"QNX"},{r:/UNIX/,s:"UNIX"},{r:/BeOS/,s:"BeOS"},{r:/OS\/2/,s:"OS/2"},{r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/,s:"Search Bot"}],n=0;n<t.length;n++){var r=t[n];if(r.r.test(navigator.userAgent)){e=r.s;break}}return e},cr=function(){var e=sr(),t="";switch(/Windows/.test(e)&&(t=/Windows (.*)/.exec(e))&&(t=t[1],e="Windows"),e){case"Mac OS X":(t=/Mac OS X (10[._\d]+)/.exec(navigator.userAgent))&&(t=t[1]);break;case"Android":(t=/Android ([._\d]+)/.exec(navigator.userAgent))&&(t=t[1]);break;case"iOS":var n=/OS (\d+)_(\d+)_?(\d+)?/.exec(navigator.appVersion);n&&(t=n[1]+"."+n[2]+"."+(n[3]||0))}return t||""},ur=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},lr=function(){function e(e){var t;void 0===e&&(e=[]),this.onUserDataGatheredCallbacks=[],(t=this.onUserDataGatheredCallbacks).push.apply(t,e),this.baseFpProperties=this.getBaseFpProperties(),this.userData=this.getCollectedUserData(),this.onUserDataGathered()}return e.prototype.getUserLanguage=function(){try{var e=window.navigator;return{UserLanguage:e.language||e.userLanguage||e.browserLanguage||e.systemLanguage||""}}catch(e){return null}},e.prototype.getBaseFpProperties=function(){return{browser:{browser:{browser:ir(),mobile:/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(navigator.appVersion),version:ar()},screen:{availableSize:{height:window.screen.availHeight,width:window.screen.availWidth},colorDepth:window.screen.colorDepth,pixelRatio:(e=0,void 0!==window.screen.systemXDPI&&void 0!==window.screen.logicalXDPI&&window.screen.systemXDPI>window.screen.logicalXDPI?e=window.screen.systemXDPI/window.screen.logicalXDPI:void 0!==window.devicePixelRatio&&(e=window.devicePixelRatio),e),size:{height:window.screen.height,width:window.screen.width}},system:{name:sr(),version:cr()}},userLanguage:this.getUserLanguage(),timezoneOffset:this.getTimezoneOffset(),plugins:this.getPlugins()};var e},e.prototype.getTimezoneOffset=function(){try{return{TimezoneOffset:(new Date).getTimezoneOffset()}}catch(e){return null}},e.prototype.onUserDataGathered=function(){var e=this;this.onUserDataGatheredCallbacks.forEach((function(t){t(e.userData)}))},e.prototype.getCollectedUserData=function(){var e=Object.assign({},this.baseFpProperties);return 0===this.baseFpProperties.browser.screen.pixelRatio&&(e.browser.screen.pixelRatio=1),ur([{UserAgent:navigator.userAgent}],Object.values(e),!0)},e.prototype.getPlugins=function(){try{return{Plugins:this.getRegularPlugins()}}catch(e){return null}},e.prototype.getRegularPlugins=function(){var e=this;try{for(var t=[],n=0;n<window.navigator.plugins.length;n++)t.push(window.navigator.plugins[n]);return t=t.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),this.map(t,(function(t){var n=e.map(t,(function(e){return[e.type,e.suffixes].join("~")})).join(",");return[t.name,t.description,n].join("::")}),this)}catch(e){return[]}},e.prototype.map=function(e,t,n){var r=[];return null===e?r:Array.prototype.map&&e.map===Array.prototype.map?e.map(t,n):(this.each(e,(function(e,i,o){r[r.length]=t.call(n,e,i,o)}),n),r)},e.prototype.each=function(e,t,n){if(null!==e)if(Array.prototype.forEach&&e.forEach===Array.prototype.forEach)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(t.call(n,e[r],r,e)==={})return}else for(var o=0;o<e.length;o++){var a=e[o];if(e.hasOwnProperty(a)&&t.call(n,e[a],a,e)==={})return}},e}(),pr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},dr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},hr=function(){function e(e){var t=this;this.stunServerURI=e,this.cbs=[],this.IPRegex=/(\d{1,3}(\.\d{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/,this.onIceCandidate=function(e,n){var r;if((null===(r=null==e?void 0:e.candidate)||void 0===r?void 0:r.candidate)&&t.IPRegex.test(e.candidate.candidate)){var i=(t.IPRegex.exec(e.candidate.candidate)||[])[0];t.triggerCbs(),n(i)}}}return e.prototype.onWebRTCRequest=function(e){this.cbs.push(e)},e.prototype.getIP=function(){return dr(this,void 0,void 0,(function(){var e=this;return pr(this,(function(t){return[2,new Promise((function(t,n){var r=window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection;if(!r)return t();setTimeout((function(){n()}),1e3);var i=new r({iceServers:[{urls:e.stunServerURI}]});i.onicegatheringstatechange=function(e){var t=e.target;"complete"===(null==t?void 0:t.iceGatheringState)&&n()},i.onicecandidate=function(n){e.onIceCandidate(n,t)},i.createDataChannel(""),i.createOffer().then((function(e){i.setLocalDescription(e)}))}))]}))}))},e.prototype.triggerCbs=function(){this.cbs.forEach((function(e){return e()}))},e}(),fr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},vr=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},gr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},mr=function(){function e(t,n){void 0===n&&(n=[]);var r=this;this.isAccurate=!1,this.settings={onInitFPDiscovery:!1},this.onceFullUidResolve=[],this.isGetFingerPrintCalled=!1,this.defaultIP={IP:"0.0.0.0"},t&&(this.settings=Object.assign(Object.assign({},this.settings),t)),this.settings.ipDiscUrl&&(this.settings.ipDiscUrl=function(e,t){if("string"!=typeof e)throw new TypeError("Expected `url` to be of type `string`, got `".concat(typeof e,"`"));return e=e.trim(),t=Object.assign({https:!1},t),/^.+\/\/|^(?!localhost)\w+:/.test(e)?e:e.replace(/^(\/\/|(?!.+?\/\/))/,t.https?"https://":"http://")}(this.settings.ipDiscUrl,{https:!0})),this.userData=new lr(n),this.accurateFingerprint="",this.userDataString=JSON.stringify(this.userData.userData),this.baseFingerprint=e.getFingerPrintHash(this.userDataString),this.isAccurate=!1,this.settings.onInitFPDiscovery&&this.getFingerPrint().catch((function(){r.resetState()})),this.experimentalFingerprints=new Gn(this),this.webAudioFp=new Kn,this.fpWithCanvas=new Wn(""),this.completeFPPromise=this.generateCompleteFingerprint(),this.settings.webRTCStunServerURI&&(this.webRTCIP=new hr(this.settings.webRTCStunServerURI)),new Nn(this)}return e.fnv32a=function(e,t){for(var n=0;n<e.length;n++)t=16777619*(t^=e.charCodeAt(n))&4294967295;return t},e.tobinary=function(e){for(var t="",n=0;n<4;n++)t+=String.fromCharCode(255&e),e>>=8;return t},e.getFingerPrintHash=function(t){var n=1471357547+Number(jn.split(".").map((function(e){return An("0",2-e.length)+e})).join("")),r=e.fnv32a(t.substr(0,t.length/2),2166136261),i=e.fnv32a(t.substr(t.length/2),r);i=4294967040&i|1;var o="";return o+=e.tobinary(4004),o+=e.tobinary(n),o+=e.tobinary(r),o+=e.tobinary(i),o+=String.fromCharCode(0),btoa(o)},e.prototype.getUserLanguage=function(){return this.userData.baseFpProperties.userLanguage?this.userData.baseFpProperties.userLanguage:null},e.prototype.getTimezoneOffset=function(){return this.userData.baseFpProperties.timezoneOffset?this.userData.baseFpProperties.timezoneOffset:null},e.prototype.getCompleteFingerprint=function(){return this.completeFPPromise},e.prototype.getJsonFpParams=function(){return gr(this,void 0,void 0,(function(){var e,t,n,r,i;return fr(this,(function(o){switch(o.label){case 0:return[4,this.completeFPPromise];case 1:return e=o.sent(),t=e.fp,n=e.screen,r=e.others,i={f:{p:t.plugins,c:t.canvasWinding,i:t.canvasImage,v:t.webGLVendor,r:t.webGLRenderer,w:t.webAudioContext},s:{w:n.screenWidth,h:n.screenHeight,a:n.screenAvalWidth,b:n.screenAvalHeight,p:n.pixelRatio,c:n.colorDepth},o:{t:r.timezoneOffset,u:r.userLanguage}},[2,JSON.stringify(i)]}}))}))},e.prototype.getVersion=function(){return jn},e.prototype.getGatheredIP=function(){return this._gatheredIP||this.defaultIP.IP},e.prototype.getCollectedUserData=function(){return this.userDataString},e.prototype.getExperimentalFingerprints=function(){return this.experimentalFingerprints.get()},e.prototype.getWebAudioFp=function(){return gr(this,void 0,void 0,(function(){var t,n,r;return fr(this,(function(i){switch(i.label){case 0:return[4,this.webAudioFp.getFingerprint()];case 1:return(t=i.sent()).ok?(n=t.webAudioHash(),r=JSON.parse(this.getCollectedUserData()),[2,e.getFingerPrintHash(JSON.stringify(vr(vr([],r,!0),[{hash:n}],!1)))]):[2,""]}}))}))},e.prototype.getUserIDs=function(){return Promise.all([this.getFingerPrint()])},e.prototype.getBaseFingerprint=function(){return this.baseFingerprint},e.prototype.getFingerPrint=function(e){var t=this;return void 0===e&&(e=!1),new Promise((function(n){if(t.isAccurate)return n(t.getID());t.isGetFingerPrintCalled&&!e?t.onceFullUidResolve.push((function(){n(t.getID())})):(t.isGetFingerPrintCalled=!0,t.getUIDParams().then((function(e){t.onUidResolved(e),t.emitUidResolve(),n(t.getID())})).catch((function(){t.resetState(),t.emitUidResolve(),n(t.getID())})))}))},e.prototype.getID=function(){return this.accurateFingerprint||this.baseFingerprint},e.prototype.subscribeOnWebRTC=function(e){this.webRTCIP&&this.webRTCIP.onWebRTCRequest(e)},e.prototype.generateCompleteFingerprint=function(){return gr(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,c,u,l,p,d,h,f,v,g;return fr(this,(function(m){switch(m.label){case 0:return(e=this.userData.baseFpProperties).plugins?(n=JSON.stringify(e.plugins.Plugins),t=(0,Dn.murmur3)(n)):t=null,r=this.fpWithCanvas.getCanvas(),i=r.canvasWinding,o=r.image,a=!0===i?1:null,s=o?(0,Dn.murmur3)(o):null,"string"==typeof(l=this.fpWithCanvas.getWebGL())?(c=null,u=null):(c=l[0],u=l[1],"Not supported"===c&&(c=null),"Not supported"===u&&(u=null)),[4,this.getWebAudioFp()];case 1:return p=m.sent(),d=""===p?null:(0,Dn.murmur3)(p),h=e.timezoneOffset?e.timezoneOffset.TimezoneOffset:null,f=e.userLanguage?e.userLanguage.UserLanguage:null,v=e.browser.screen,g=v.pixelRatio||null,[2,{fp:{plugins:t,canvasWinding:a,canvasImage:s,webGLVendor:c,webGLRenderer:u,webAudioContext:d},screen:{screenWidth:v.size.width,screenHeight:v.size.height,screenAvalWidth:v.availableSize.width,screenAvalHeight:v.availableSize.height,pixelRatio:g,colorDepth:v.colorDepth},others:{timezoneOffset:h,userLanguage:f}}]}}))}))},e.prototype.getUIDParams=function(){var e=this;return this.getIP().then((function(t){return vr(vr([],e.userData.userData,!0),[null===t?{IP:null}:t],!1)}))},e.prototype.getIP=function(){return gr(this,void 0,void 0,(function(){var e,t;return fr(this,(function(n){switch(n.label){case 0:if(!this.settings||!this.settings.ipDiscUrl)return[3,8];n.label=1;case 1:return n.trys.push([1,6,,7]),[4,this.getIPFromServer()];case 2:return(e=n.sent())?(t=e,[3,5]):[3,3];case 3:return[4,this.getWebRTCIP()];case 4:t=n.sent(),n.label=5;case 5:return[2,t];case 6:return n.sent(),[2,this.defaultIP];case 7:return[3,9];case 8:return[2,this.getWebRTCIP()];case 9:return[2]}}))}))},e.prototype.getWebRTCIP=function(){return gr(this,void 0,void 0,(function(){var e;return fr(this,(function(t){switch(t.label){case 0:if(!this.webRTCIP)return[2,this.defaultIP];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.webRTCIP.getIP()];case 2:return[2,(e=t.sent())?{IP:e}:this.defaultIP];case 3:return t.sent(),[2,this.defaultIP];case 4:return[2]}}))}))},e.prototype.getIPFromServer=function(){var e=this;return new Promise((function(t){if(!e.settings||!e.settings.ipDiscUrl)return t(null);setTimeout((function(){t(null)}),1e3);var n=new XMLHttpRequest;n.onload=function(){4===n.readyState&&(200===n.status&&n.responseText?t({IP:n.responseText}):t(null))},n.onerror=function(){t(null)},n.open("GET",e.settings.ipDiscUrl,!0),n.send()}))},e.prototype.emitUidResolve=function(){this.onceFullUidResolve.forEach((function(e){e()})),this.onceFullUidResolve=[]},e.prototype.onUidResolved=function(t){this.userDataString=JSON.stringify(t);for(var n=0,r=Object.values(t);n<r.length;n++){var i=r[n];this.accurateFingerprint=null===i.IP||i.IP===this.defaultIP.IP?this.fpWithCanvas.getFingerprint(this).fp:e.getFingerPrintHash(this.userDataString)}this.isAccurate=!0;var o=t[t.length-1];this._gatheredIP=null!==o.IP&&o.IP},e.prototype.resetState=function(){this.isAccurate=!1,this.isGetFingerPrintCalled=!1},e}(),br=function(){return br=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},br.apply(this,arguments)},yr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},wr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},_r=new(fe())(navigator.userAgent),Sr=new mr,Er=function(e,t){return void 0===t&&(t={}),yr(void 0,void 0,void 0,(function(){var n,r,i;return wr(this,(function(o){switch(o.label){case 0:return a="ruid",s=document.cookie.match(new RegExp("(?:^|; )".concat(a.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)"))),n=s?decodeURIComponent(s[1]):void 0,[4,Sr.getFingerPrint()];case 1:return r=o.sent()||Sr.getBaseFingerprint(),i=br(br({ftime:Math.round(performance.now()),stream:li(),vcapirs:c,uuid:n||r,block_id:parseInt(e["begun-block-id"],10),pad_id:parseInt(e["begun-auto-pad"],10)},t),Ve({browser_family:_r.getBrowser().name,browser_version:_r.getBrowser().version,os_family:_r.getOS().name,os_version:_r.getOS().version,device_type:Fe(_r.getDevice().type)})),Ee(pi(d),{data:JSON.stringify(i)}),[2]}var a,s}))}))},kr=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Or=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Tr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},xr=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cr=function(){function e(){}return e.prototype.createTemplate=function(e,t){return Tr(this,void 0,void 0,(function(){var n,r,i,o,a,s;return xr(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.loadChunk()];case 1:return c.sent(),[3,3];case 2:return n=c.sent(),[2,{result:!1,data:{sspAnswer:t,renderOpts:e},error:n}];case 3:return[4,this.startRender(e,t)];case 4:return!0===(r=c.sent()).result?(i=null==r?void 0:r.tpl.eventStore,o=(null==i?void 0:i.getPixelsByType(this.trackingEvTypes.impression))||[],a=(null==i?void 0:i.getPixelsByType(this.trackingEvTypes.loaded))||[],s=o.map((function(e){return{url:e,time:1e3,percent:.5}})),[2,{result:!0,additionalTracking:a,viewability:s}]):[2,{result:!1,data:r.data,error:r.error}]}}))}))},e.prototype.startRender=function(e,t){return Tr(this,void 0,void 0,(function(){var n,r,i;return xr(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.base64Loader.load(t)];case 1:return r=o.sent().data,n=JSON.parse(r.responseText),[3,3];case 2:return i=o.sent(),[2,{result:!1,data:{template:t},error:i}];case 3:return[2,this.tplRenderer.renderPreact(e,n)]}}))}))},e.prototype.loadChunk=function(){return Tr(this,void 0,void 0,(function(){var e,t;return xr(this,(function(r){switch(r.label){case 0:return this.chunkPromise||(this.chunkPromise=Promise.all([n.e(723),n.e(928)]).then(n.t.bind(n,5219,19))),[4,this.chunkPromise];case 1:return e=r.sent(),this.tplRenderer||(t=e.getTemplateMap(),this.tplRenderer=new e.TemplateRenderer(t),this.trackingEvTypes=e.TrackingEventTypes),[2]}}))}))},kr([ue(ee.DataLoader),Or("design:type",Rn)],e.prototype,"base64Loader",void 0),e}(),Pr=function(e){return!(!e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||9!==e.nodeType)},Ir=function(e,t){return void 0===t&&(t=document),!!Pr(t)&&(!(!e||"boolean"==typeof e||"number"==typeof e||void 0===e)&&("string"==typeof e&&(e=t.getElementById(e)),!(!e||1!==e.nodeType||!e.parentNode||"HTML"===e.parentNode.nodeName||t.contains&&!t.contains(e)||t.body&&t.body.contains&&!t.body.contains(e))&&e))},Rr=function(e){if("object"==typeof console){if("function"==typeof console.warn)return e;if("function"==typeof console.log)return e}},Ar=function(e,t,n){void 0===t&&(t=document),void 0===n&&(n=!1);var r,i={bottom:0,height:0,left:0,right:0,top:0,width:0};if(!(e=Ir(e,t)))return Rr("Utils.DOM.getBoundingClientRect: DOM element doesn't exist in that DOM Document"),i;if((n=!!n)&&(r=getComputedStyle(e))&&"none"===r.display&&(e.style.display="block"),e.getBoundingClientRect)i={bottom:(i=e.getBoundingClientRect()).bottom,height:i.height||e.clientHeight,left:i.left,right:i.right,top:i.top,width:i.width||e.clientWidth};else{for(var o=e,a={height:o.offsetHeight,width:o.offsetWidth,x:0,y:0};o;)a.x+=o.offsetLeft,a.y+=o.offsetTop,o=o.offsetParent;i={bottom:a.y+a.height,height:a.height,left:a.x,right:a.x+a.width,top:a.y,width:a.width}}return n&&e&&(e.style.display=""),i};function Dr(e,t){var n=void 0===t?{}:t,r=n.removeType,i=n.shouldFreezeWrapperHeight,o=n.minFreezeValue,a=void 0===o?1:o;if("string"==typeof e&&(e=document.querySelector(e)),e){var s=e.parentElement;if(s)if("except"===r){i&&s.clientHeight>=a&&(s.style.height="auto");for(var c=[],u=0,l=s.children;u<l.length;u++){var p=l[u];p!==e&&c.push(p)}c.forEach((function(e){return s.removeChild(e)}))}else s.removeChild(e)}}var jr,Br=Y(n(9385)),Lr=function(){function e(e,t,n){void 0===e&&(e="div"),void 0===t&&(t="");var r=(void 0===n?{}:n).isHTML,i=void 0===r||r;this._element=document.createElement(e),this._element[i?"innerHTML":"textContent"]=t,window.CAPIRS_CONFIG&&window.CAPIRS_CONFIG.SCRIPT_NONCE_VALUE&&this._element.setAttribute("nonce",window.CAPIRS_CONFIG.SCRIPT_NONCE_VALUE)}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),e.prototype.remove=function(){this._exists()&&this._element.parentElement.removeChild(this._element)},e.prototype.append=function(e,t){void 0===t&&(t={});try{return t.before&&e.firstChild?e.insertBefore(this._element,e.firstChild):e.appendChild(this._element),this}catch(e){return Br.log(400,"Script append failed",{Error:e}),this}},e.prototype._exists=function(e){return void 0===e&&(e=document),!!Ir(this._element,e)},e}(),Nr=Lr,Fr=function(e){var t=e.rules,n=e.nonce,r=e.className,i=Object.keys(t).map((function(e){return"".concat(e,":").concat(t[e],";")})).join(""),o=".".concat(r,"{").concat(i,"}"),a=document.createElement("style");return a.innerHTML=o,a.setAttribute("nonce",n),a},Mr=function(e,t){return"googletag.pubads().addEventListener('slotRenderEnded',function(event){window.parent.Begun.Autocontext.Callbacks.dispatch('block','realShow',null,[\"".concat(e,'",').concat(t,",event.isEmpty?0:1]);});")},Vr=function(e){var t=e.responseText,n=e.impressionId,r=e.userId;return t.includes("defineSlot")?t.replace(y,function(e,t){return"<script>googletag.cmd.push(function(){".concat(Mr(e,t),"});<\/script>")}(n,r)):t.replace(y,function(e,t){return"<script>".concat(Mr(e,t),"<\/script>")}(n,r))},qr=function(e,t,n){return"window.parent.Begun.Autocontext.Callbacks.dispatch('block','realShow',null,[\"".concat(e,'",').concat(t,",").concat(Number(n),"]);")},Hr=function(e){var t=e.responseText,n=e.impressionId,r=e.userId;return t.replace("/* ya_rambler_adtech_callbacks */",function(e,t){return"onError:function(data){".concat(qr(e,t,!1),"},onRender:function(data){").concat(qr(e,t,!0),"},")}(n,r)).replace("/* ya_rambler_adtech_stub_callback */",qr(n,r,!1))},Ur=function(){return Ur=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ur.apply(this,arguments)},Wr=Y(n(9385)),zr=function(){function e(){}return e.includeScript=function(t,n,r){if(void 0===n&&(n="append"),t&&_e(t)){var i=function(){r&&r()};return"write"===n?Le({action:"write",type:e.SCRIPT_TYPE,src:t,target:document.head||document.body,removeAfterLoading:!0,document:document,onload:i}):"append"===n&&Le({action:"append",type:e.SCRIPT_TYPE,async:!0,src:t,target:document.head||document.body,removeAfterLoading:!0,document:document,onload:i}),!0}return!1},e.foundScript=function(e){return!!Array.from(document.head.getElementsByTagName("script")).find((function(t){return e.src?e.src===t.src:e.textContent===t.textContent}))},e.createScript=function(e,t){try{var n=t.createElement("script");n.type="text/javascript",n.text=e.text||e.innerText||e.textContent,n.text=n.text.replace(/\sdocument\.write\(/gi," window.document.write("),n.text=n.text.replace(/\swindow\.document\.write\(/gi," window.document.open('text/html');window.document.write(");var r=t.getElementsByTagName("script")[0];(window.CAPIRS_CONFIG||{}).SCRIPT_NONCE_VALUE&&n.setAttribute("nonce",window.CAPIRS_CONFIG.SCRIPT_NONCE_VALUE),r?r.parentNode.insertBefore(n,r):(i="head",o=t,a=0,void 0===o&&(o=document),"string"==typeof i&&Pr(o)&&"number"==typeof a&&o.getElementsByTagName(i)[a]||null).appendChild(n)}catch(e){Wr.log(500,"Creating script failed",{Error:e})}var i,o,a},e.reattachScriptsOnce=function(t,n){void 0===n&&(n=document);for(var r=0;r<t.length;r++)try{var i=t[r];i&&i.nodeType===i.ELEMENT_NODE&&i.tagName&&i instanceof HTMLScriptElement&&"SCRIPT"===i.tagName.toUpperCase()&&(i.src||i.text)&&!this.foundScript(i)&&(i.src?Le({action:"append",type:e.SCRIPT_TYPE,async:!!i.async,defer:!!i.defer,src:i.src,entry:n.getElementsByTagName("script")[0],target:n.head||n.body,document:n}):this.createScript(i,n)),i.hasChildNodes()&&this.reattachScriptsOnce(i.children,n)}catch(e){Wr.log(500,"Reattach scripts failed",{Error:e})}},e.reattachScripts=function(t,n){void 0===n&&(n=document);for(var r=t.length,i=0;i<r;i++)try{var o=t[i];o&&o.nodeType===o.ELEMENT_NODE&&o.tagName&&o instanceof HTMLScriptElement&&"SCRIPT"===o.tagName.toUpperCase()&&(o.src||o.text)&&(o.src?Le({action:"append",type:e.SCRIPT_TYPE,async:!!o.async,defer:!!o.defer,src:o.src,entry:n.getElementsByTagName("script")[0],target:n.head||n.body,document:n}):this.createScript(o,n)),o.hasChildNodes()&&this.reattachScripts(o.children,n)}catch(e){Wr.log(500,"Reattach scripts failed",{Error:e})}},e.SCRIPT_TYPE="text/javascript",e}(),Gr=zr,Xr=function(e,t){void 0===t&&(t={});var n,r,i=e,o=(n=t,r={},Object.keys(n).forEach((function(e){r[e.toUpperCase()]=n[e]})),r);return Object.keys(o).forEach((function(e){var t=encodeURIComponent(o[e]);i=i.replace(new RegExp("\\[".concat(e,"\\]"),"gm"),t)})),i};!function(e){e[e.VAST_REQUEST=1]="VAST_REQUEST",e[e.VAST_NOT_RECEIVED_ERROR=2]="VAST_NOT_RECEIVED_ERROR",e[e.VAST_RECEIVED=3]="VAST_RECEIVED",e[e.SOME_ERROR_AFTER_VAST_RECEIVED=4]="SOME_ERROR_AFTER_VAST_RECEIVED"}(jr||(jr={}));var Jr=function(e,t){var n=t.event,r=t.description,i=void 0===r?"":r,o=t.url,a=Xr("https://dsp-rambler.ru/check_video?url=[URL]&session_id=[SESSION_ID]&event=[EVENT]&des=[DESCRIPTION]",{event:n,description:i,url:void 0===o?"":o,session_id:e});(new Image).src=a},Kr=function(){var e="_".concat(Math.random().toString(36).substr(2,9));return Jr.bind(null,e)},Yr=function(e){var t=window.getComputedStyle(e).getPropertyValue("position");""!==t&&"static"!==t||(e.style.position="relative")};function Zr(e,t){var n=e.match(v);if(n){var r=n.map((function(e){return e.replace(/ |:|\[|\]/gi,"")}));r=r.join(",").split(",");for(var i=0,o=1;o<r.length;o+=2)i=Number(r[o])>i?Number(r[o]):i;return"".concat(i,"px")}return t}var $r,Qr,ei=function(){return ei=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ei.apply(this,arguments)},ti=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},ni=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ri=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},ii=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},oi=n(2018),ai=Y(n(9385)),si=[Ge.X_HTML,Ge.X_MIXED_IFRAME_HTML,Ge.X_IFRAME_HTML,Ge.X_FIXED_IFRAME_HTML,Ge.X_SHARED_SCRIPTS],ci=function(){function e(){}return e.prototype.getGraphHTML=function(t){var n=t.feed,r=t.graphBanner,i=t.block,o=t.nbanner,a=t.domObj,s=t.blockData,c=t.creativeToDraw,u=t.graphBannersCount;return ri(this,void 0,void 0,(function(){var t,l,p,d,h,f,v,g,m,b,y,w,_,S,E,k,O,T,x,C,P,I,R=this;return ii(this,(function(A){switch(A.label){case 0:return t=!1,l=r.width||0,p=r.height||0,h=s.click_wrap?s.click_wrap+r.url:r.url,f=r.source,l=(v=function(e){return/^[1-9.]\d*$/.test(e.toString())?"".concat(e,"px"):"0"===e.toString()?"100%":e})(l),p=v(p),g="",n&&n.params&&n.params.impression_id&&(g=n.params.impression_id),b=[],r.view_type.includes(Xe.ATOMS)?(d="graph_banner_atoms",t=!0,[4,this._perfTemplatesWrapper.createTemplate({width:"string"==typeof l?l:"".concat(l,"px"),height:"string"==typeof p?p:"".concat(p,"px"),renderTo:a},r.source)]):[3,5];case 1:return S=A.sent(),e.isMDSPTemplates=!1,S.result?(y=S.additionalTracking,w=S.viewability,b.push.apply(b,y),(I=r.viewability).push.apply(I,w),[3,4]):[3,2];case 2:return[4,this.tryToRenderNextAd({nbanner:o,graphBannersCount:u,impressionID:g,domObj:a})];case 3:if(!A.sent())return[2];A.label=4;case 4:return[3,14];case 5:return r.mime!==Ge.X_HTML&&r.mime!==Ge.X_MIXED_IFRAME_HTML&&r.mime!==Ge.X_SHARED_SCRIPTS?[3,6]:(d="graph_banner_xhtml",m={impressionID:g},c&&setTimeout((function(){R.insertHTML.call(R,c,a,r)}),0),[3,14]);case 6:return r.mime!==Ge.X_IFRAME_HTML&&r.mime!==Ge.X_FIXED_IFRAME_HTML?[3,7]:(_=r.mime===Ge.X_FIXED_IFRAME_HTML?p:"1px",d="graph_banner_xiframe",m={widthValue:l,heightValue:_,impressionID:g},c&&setTimeout((function(){R.insertHTML2.call(R,c,a,r)}),0),[3,14]);case 7:return r.mime!==Ge.X_JAVASCRIPT?[3,8]:(d="graph_banner_js",m={},r.tracking&&Se(r.tracking),Gr.includeScript(f,"append"),[3,14]);case 8:return r.mime!==Ge.TEXT_HTML?[3,9]:(d="graph_banner_html",m={widthValue:l,heightValue:p,source:f},[3,14]);case 9:return r.mime!==Ge.TEXT_URL&&r.mime!==Ge.VAST_XML?[3,13]:(d="graph_banner_vast",t=!0,r.viewability=r.viewability.map((function(e){var t=e.percent,n=e.time;return{percent:t,time:.5===t?2e3:n,url:e.url}})),Kr()({event:jr.VAST_REQUEST}),[4,this.vastPlaybackWrapper.startVideo(a,{mute:!0,url:r.source})]);case 10:return(S=A.sent()).success?[3,12]:[4,this.tryToRenderNextAd({nbanner:o,graphBannersCount:u,impressionID:g,domObj:a})];case 11:if(!A.sent())return[2];A.label=12;case 12:return E=Object.values(window.Adf.util.stack).find((function(e){return e.options_b["begun-block-id"]===s.block_id})),k=document.getElementById("begun_block_".concat(s.block_id)),O=k.getElementsByClassName("capirs-outstream-player"),T=O[0].querySelector("video"),x=Math.round(Number(T.duration)/4),C=1,Er(null==E?void 0:E.options_b,{blocktype:"capirs",impression_id:n.params.impression_id,misc:n.params.marks.misc,reason:"video started"}),T.addEventListener("timeupdate",(function(){Math.round(Number(T.currentTime))===x*C&&(Er(null==E?void 0:E.options_b,{blocktype:"capirs",impression_id:n.params.impression_id,misc:n.params.marks.misc,reason:"video was watched on ".concat(25*C,"%")}),C++),T.duration-T.currentTime==0&&Er(null==E?void 0:E.options_b,{blocktype:"capirs",impression_id:n.params.impression_id,misc:n.params.marks.misc,reason:"video ended"})})),[3,14];case 13:d="graph_banner_img",m={widthValue:l,heightValue:p,source:f,url:h},A.label=14;case 14:return i.banner_id=r.banner_id,Qe.setBannerInfo(a,r),P=this.bannerTemplatesStore.getBannerTemplate(d),[2,{html:P?P(ei(ei({},m),{styleNonceValue:this.config.getConfigValue("STYLE_NONCE_VALUE"),bannerClassName:Re()})):void 0,url:h,disableInnerHTML:t,additionalTrackingPixels:b}]}}))}))},e.prototype.handleGraphBannerNonExisting=function(e){var t,n,r=e.blockData,i=e.feed,o=r.pad_id;window.Begun.Autocontext.Callbacks.dispatch(ae.BLOCK,se.UNEXIST,null,[i,r]);var a="".concat(r.div_id||(null===(n=null===(t=r.blockEl)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.id));window.Begun.emptySSPResponses["".concat(a,"_").concat(o)]=!0,window.Adf.util.updateBannersStack(a,{status:En.NO_BANNER})},e.prototype.getCreativeToDraw=function(e){var t,n,r,i=e.feed,o=e.nbanner,a=e.blockData;return ri(this,void 0,void 0,(function(){var e,s,c,u,l,p,d,h;return ii(this,(function(f){switch(f.label){case 0:e=i.banners.graph,s=function(e){return si.includes(e)},c=o,f.label=1;case 1:if(!(c<e.length))return[3,8];if(u=e[c],!s(u.mime)&&!u.view_type.includes(Xe.ATOMS))return[3,6];f.label=2;case 2:return f.trys.push([2,4,,5]),[4,this._dataLoader.load(u.source)];case 3:return l=f.sent(),p=null===(t=l.data)||void 0===t?void 0:t.status,(null===(n=l.data)||void 0===n?void 0:n.responseText)&&(!p||p&&204!==p)?(d=null===(r=l.data)||void 0===r?void 0:r.responseText,Number(u.thematics)&&(d=function(e){var t=Hr(Ur({},e));return Vr(Ur(Ur({},e),{responseText:t}))}({responseText:d,impressionId:i.params.impression_id,userId:u.user_id})),a.ad_unit_name&&(d=function(e,t){var n,r=null===(n=e.match(/("|')\/\d*\/(.*)("|'),/))||void 0===n?void 0:n[2];return e.replace(new RegExp("".concat(r),"gi"),t)}(d,a.ad_unit_name)),a.ya_block_id&&(v=d,g=a.ya_block_id,d=v.replace(/blockId: ("|')R-A-.+("|')/gi,'blockId: "'.concat(g,'"'))),[2,[c,d]]):(h=Object.values(window.Adf.util.stack).find((function(e){return e.options_b["begun-block-id"]===a.block_id})),Er(null==h?void 0:h.options_b,{blocktype:204===p?"capirs":"banner_not_loaded",impression_id:i.params.impression_id,misc:i.params.marks.misc,reason:204===p?"empty_banner":"unload"}),[3,5]);case 4:return f.sent(),[3,5];case 5:return[3,7];case 6:return[2,[c,u]];case 7:return c++,[3,1];case 8:return[2,[o,""]]}var v,g}))}))},e.prototype.insertMultipleBanners=function(e){var t=e.feed,r=e.blockData,i=e.blockInfo,o=e.bannerNumbers,a=e.doWipe;return ri(this,void 0,void 0,(function(){var e,s,c,u,l=this;return ii(this,(function(p){switch(p.label){case 0:return e=n.e(689).then(n.bind(n,8101)),s=this.getBannersByBlockId(t,i.id,"graph"),c=s.filter((function(e,t){return o.includes(t)})).map((function(e,n){return function(a){return ri(l,void 0,void 0,(function(){var s,c;return ii(this,(function(u){switch(u.label){case 0:return s=o[n],[4,this.getGraphHTML({feed:t,graphBanner:e,block:i,nbanner:s,domObj:a,blockData:r})];case 1:return(c=u.sent())&&a&&(e.tracking&&Se(e.tracking),a.innerHTML=c.html,this._monitorClass.attemptRunViewabilityWatcher({feed:t,subscriptionID:"".concat(t.params.impression_id,"_").concat(s),watchedElement:a})),[2]}}))}))}})),[4,Promise.all(c)];case 1:return u=p.sent(),e.then((function(e){var t=e.SSPCarousel,n=r.blockEl;(a||r.wipeBeforeRender)&&Dr(n,{removeType:"except",shouldFreezeWrapperHeight:r.shouldFreezeWrapperHeight}),new t(n,u)})),[2,!0]}}))}))},e.prototype.insertNonTextBlock=function(e){var t=e.feed,n=e.blockData,r=e.block,i=e.nbanner,o=e.creativeToDraw,a=e.doWipe;return ri(this,void 0,void 0,(function(){var e,s,c,u,l;return ii(this,(function(p){switch(p.label){case 0:return e=r.id,(s=this.getBannersByBlockId(t,e,"graph"))&&s[i]?(c=s[i]).loaded?[2,!1]:(u=n.blockEl,[4,this.getGraphHTML({feed:t,graphBanner:c,block:r,nbanner:i,domObj:u,creativeToDraw:o,blockData:n,graphBannersCount:s.length})]):[3,2];case 1:if(l=p.sent(),c.loaded=!0,l&&u)return(a||n.wipeBeforeRender)&&Dr(u,{removeType:"except",shouldFreezeWrapperHeight:n.shouldFreezeWrapperHeight}),l.additionalTrackingPixels&&l.additionalTrackingPixels.forEach((function(e){return Se(e)})),c.tracking&&Se(c.tracking),l.disableInnerHTML||(u.innerHTML=l.html),[2,!0];p.label=2;case 2:return[2,!1]}}))}))},e.prototype.insertHTML2=function(e,t,n){var r=this,i=t;if(!i)return ai.log(500,"Outer container does not exist"),!1;if(!i.parentElement)return!1;var o=i.getElementsByClassName("xhtml_banner")[0];o?(o.onerror=function(e){ai.log(500,"Xhtml banner iframe error",{Error:e})},ke(o,(function(t){var a,s;if(t.open(),t.write(e),t.close(),"application/x-iframe-html"===n.mime){var c=Re(),u=Fr({rules:{overflow:"auto",height:"auto"},className:c,nonce:r.config.getConfigValue("STYLE_NONCE_VALUE")});i.appendChild(u),o.classList.add(c);var l=new oi((function(e,t){var n;Ir(o)||t.disconnect();for(var a=0,s=e;a<s.length;a++){var c=s[a].contentRect.height;if(c-(parseInt(null===(n=getComputedStyle(o))||void 0===n?void 0:n.height,10)||0)>=15){var u=Re(),l=Fr({rules:{height:"".concat(c,"px")},className:u,nonce:r.config.getConfigValue("STYLE_NONCE_VALUE")});i.appendChild(l),o.classList.add(u)}}}));if(8===(null===(a=t.childNodes[0])||void 0===a?void 0:a.nodeType)){var p=Re(),d=Fr({rules:{height:Zr(t.childNodes[0].textContent,"".concat(null===(s=getComputedStyle(o))||void 0===s?void 0:s.height))},className:p,nonce:r.config.getConfigValue("STYLE_NONCE_VALUE")});i.appendChild(d),o.classList.add(p),l.observe(t.documentElement)}if("complete"===t.readyState)"auto"===getComputedStyle(o).height&&l.observe(t.documentElement);else if(t.defaultView){var h=t.defaultView.onload;t.defaultView.onload=function(){h&&h(),"auto"===getComputedStyle(o).height&&l.observe(t.documentElement)}}}}))):ai.log(500,"Inner container does not exist")},e.prototype.insertHTML=function(e,t,n){var r=t;if(r){var i=r.getElementsByClassName("xhtml_banner")[0];if(i)if(i.innerHTML=e,"application/x-html"===n.mime)Gr.reattachScripts(i.children);else if("application/x-shared-scripts"===n.mime)Gr.reattachScriptsOnce(i.children);else{var o=document.createElement("iframe");o.onerror=function(e){ai.log(500,"Scripts iframe application/x-html error",{Error:e})},o.setAttribute("marginwidth","0"),o.setAttribute("marginheight","0"),o.setAttribute("scrolling","no"),o.setAttribute("frameBorder","0"),o.setAttribute("width","1"),o.setAttribute("height","1");var a=Re(),s=Fr({rules:{position:"absolute"},className:a,nonce:this.config.getConfigValue("STYLE_NONCE_VALUE")});r.appendChild(s),o.classList.add(a),i.appendChild(o),ke(o,(function(e){"object"==typeof i.childNodes&&"object"==typeof e?Gr.reattachScripts(i.children,e):ai.log(503,"Attempt reattach the scripts to the non-object",{typeOfDocument:typeof e,typeOfNode:typeof i.childNodes})}))}else ai.log(500,"Inner container does not exist")}else ai.log(500,"Outer container does not exist")},e.prototype.getBannersByBlockId=function(e,t,n){var r,i=0,o=[];do{(r=this._getBanner(e,n,i))&&(r.block_id===t&&(o[o.length]=r),i+=1)}while(r);return o},e.prototype._getBanner=function(e,t,n){var r,i;return null===(i=null===(r=null==e?void 0:e.banners)||void 0===r?void 0:r[t])||void 0===i?void 0:i[n]},e.prototype.tryToRenderNextAd=function(e){var t=e.nbanner,n=e.domObj,r=e.graphBannersCount,i=e.impressionID;return ri(this,void 0,void 0,(function(){var e;return ii(this,(function(o){switch(o.label){case 0:return(e=r>t+1)?[4,window.Begun.Autocontext.showAd(n,i,t+1)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2,e]}}))}))},e.isMDSPTemplates=!0,ti([ue(ee.BannerTemplatesStore),ni("design:type",Object)],e.prototype,"bannerTemplatesStore",void 0),ti([ue(ee.DataLoader),ni("design:type",Rn)],e.prototype,"_dataLoader",void 0),ti([ue(ee.MonitorClass),ni("design:type",Object)],e.prototype,"_monitorClass",void 0),ti([ue(ee.Config),ni("design:type",Object)],e.prototype,"config",void 0),ti([ue(ee.VastPlaybackWrapper),ni("design:type",Object)],e.prototype,"vastPlaybackWrapper",void 0),ti([ue(ee.PerformanceTemplatesWrapper),ni("design:type",Cr)],e.prototype,"_perfTemplatesWrapper",void 0),e}(),ui=ci,li=function(){return ui.isMDSPTemplates?i.MDSP:i.PDSP},pi=function(e){var t=li();return we(e,"stream",t)},di=function(){return di=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},di.apply(this,arguments)},hi=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},fi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vi=Y(n(9385)),gi=function(){function e(){this.bannerInfoMap=new Map,this.commonInfo=this.getCommonInfo()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.logMetrics=function(e,t,n){n||(n=this.bannerInfoMap.get(e));var r=this._metricsTimer.getTime(e,t);if("number"==typeof r){if(r<0)return;return this.bannerInfoMap.set(e,n),this.sendMetrics(e,n,t,r)}vi.log(400,r.message,n)},e.prototype.freezeTimer=function(e){this._metricsTimer.freezeTimer(e)},e.prototype.unFreezeTimer=function(e){this._metricsTimer.unFreezeTimer(e)},e.prototype.clearBannerTimersMap=function(e){e?this._metricsTimer.clearBannerTimersMap(e):this._metricsTimer.clearBannerTimersMap()},e.prototype.sendMetrics=function(t,n,r,i){if(!e.debug_mode)return di(di(di({divId:t},n),this.commonInfo),{time:i,type:r});console.log(di(di(di({divId:t},n),this.commonInfo),{time:i,type:r}))},e.prototype.getCommonInfo=function(){var e=B().browser,t=e.browser,n=e.version;return{capirsVersion:s,browserName:t,browserVersion:n,deviceType:Fe(this._uaparser.getDevice().type)}},hi([ue(ee.UaParserService),fi("design:type",fe())],e.prototype,"_uaparser",void 0),hi([ue(ee.MetricsTimer),fi("design:type",Object)],e.prototype,"_metricsTimer",void 0),e}(),mi=function(){function e(){}return e.prototype.logMetrics=function(){},e.prototype.clearBannerTimersMap=function(){},e.prototype.freezeTimer=function(){},e.prototype.unFreezeTimer=function(){},e}();!function(e){e[void 0]="before_all",e.callAd="m_call_ad",e.startReq="m_start_req",e.feed="m_feed",e.rendered="m_rendered",e.viewable="m_viewable"}($r||($r={})),function(e){e.wrongEventType="Wrong event type",e.wrongEventOrder="Wrong event order",e.wrongFreezeOrder="Wrong freeze order"}(Qr||(Qr={}));var bi,yi=function(){function e(){this.freezeTimersMap=new Map,this.bannerTimersMap=new Map}return e.prototype.freezeTimer=function(e){this.freezeTimersMap.get(e)||this.freezeTimersMap.set(e,[Date.now(),0])},e.prototype.unFreezeTimer=function(e){var t=this.freezeTimersMap.get(e);t[1]||(t[1]=Date.now(),this.freezeTimersMap.set(e,t))},e.prototype.getTime=function(e,t){var n=this.getBannerTimers(e),r=this.freezeTimersMap.get(e),i=n.lastMetricType;if(t===$r.callAd&&t===i)return-1;var o=this.getEventTimers(n,t,r);return!0===o.ok?(n.timers[t]=o.result,n.lastMetricType=t,this.setBannerTimers(e,n),this.freezeTimersMap.delete(e),n.timers[t].timeSinceLast):new Error(o.error)},e.prototype.clearBannerTimersMap=function(e){e?(this.bannerTimersMap.delete(e),this.freezeTimersMap.delete(e)):(this.bannerTimersMap.clear(),this.freezeTimersMap.clear())},e.prototype.getBannerTimers=function(e){var t=this.bannerTimersMap.get(e);return t||{timers:{},lastMetricType:$r.undefined}},e.prototype.setBannerTimers=function(e,t){this.bannerTimersMap.set(e,t)},e.prototype.getEventTimers=function(e,t,n){var r=e.timers,i=e.lastMetricType,o=0;if(n){var a=n[0];o=n[1]-a}return this.getTimer(r,t,o,i)},e.prototype.getTimer=function(e,t,n,r){return n<0?{ok:!1,error:Qr.wrongFreezeOrder}:t===$r.callAd&&r===$r.undefined?void 0!==e[t]?{ok:!1,error:Qr.wrongEventOrder}:{ok:!0,result:{eventTime:Date.now(),timeSinceLast:0}}:void 0===e[r]||void 0!==e[t]?{ok:!1,error:Qr.wrongEventOrder}:{ok:!0,result:{eventTime:Date.now(),timeSinceLast:Date.now()-e[r].eventTime-n}}},e}();function wi(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ce.get(ee.MetricsTransport).logMetrics(e[0].toString(),$r.callAd,{blockId:parseInt(e[2]["begun-block-id"],10),padId:parseInt(e[2]["begun-auto-pad"],10),monetizerId:0}),r.apply(this,e)}}!function(e){e.shown="called",e.declined="declined"}(bi||(bi={}));var _i=function(){return _i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_i.apply(this,arguments)},Si=function(){function e(){this.FILENAME="toolbar.js"}return e.prototype.load=function(){window.Begun.Autocontext.scriptLoader.baseLoad(this.FILENAME)},e.prototype.handleDebugInfo=function(e){var t=e.feed,n=e.blockData;t.debug&&t.debug.request&&(this.load(),this.setClientSideInfo(t,n),window.Begun.Autocontext.unhandledDebugs.push(t.debug),this.removeDebug(t),window.Begun.Autocontext.begunToolbarLoaded())},e.prototype.setClientSideInfo=function(e,t){e.debug.clientside=_i({},t)},e.prototype.removeDebug=function(e){delete e.debug},e}(),Ei=function(){function e(){}return e.prototype.load=function(){},e.prototype.handleDebugInfo=function(){},e}(),ki=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Oi=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ti=function(){function e(){this._configStore={},this._hydrate()}return e.prototype.getConfigValue=function(e){return this._configStore[e]},e.prototype.getConfigStore=function(){return this._configStore},e.prototype._hydrate=function(){for(var e=window.CAPIRS_CONFIG||{},t=Object.keys(this._allowedOptions),n=0;n<t.length;n++){var r=t[n],i=e.hasOwnProperty(r);this._configStore[r]=i?e[r]:this._allowedOptions[r]}},ki([ue(ee.ConfigOptions),Oi("design:type",Object)],e.prototype,"_allowedOptions",void 0),e}(),xi=Ti;var Ci=function(e){return"symbol"==typeof e||wt(e)&&"[object Symbol]"==yt(e)},Pi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ii=/^\w*$/;var Ri=function(e,t){if(xt(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ci(e))||(Ii.test(e)||!Pi.test(e)||null!=t&&e in Object(t))},Ai=Zt(Object,"create");var Di=function(){this.__data__=Ai?Ai(null):{},this.size=0};var ji=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Bi=Object.prototype.hasOwnProperty;var Li=function(e){var t=this.__data__;if(Ai){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Bi.call(t,e)?t[e]:void 0},Ni=Object.prototype.hasOwnProperty;var Fi=function(e){var t=this.__data__;return Ai?void 0!==t[e]:Ni.call(t,e)};var Mi=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ai&&void 0===t?"__lodash_hash_undefined__":t,this};function Vi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Vi.prototype.clear=Di,Vi.prototype.delete=ji,Vi.prototype.get=Li,Vi.prototype.has=Fi,Vi.prototype.set=Mi;var qi=Vi;var Hi=function(){this.__data__=[],this.size=0};var Ui=function(e,t){return e===t||e!=e&&t!=t};var Wi=function(e,t){for(var n=e.length;n--;)if(Ui(e[n][0],t))return n;return-1},zi=Array.prototype.splice;var Gi=function(e){var t=this.__data__,n=Wi(t,e);return!(n<0)&&(n==t.length-1?t.pop():zi.call(t,n,1),--this.size,!0)};var Xi=function(e){var t=this.__data__,n=Wi(t,e);return n<0?void 0:t[n][1]};var Ji=function(e){return Wi(this.__data__,e)>-1};var Ki=function(e,t){var n=this.__data__,r=Wi(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function Yi(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Yi.prototype.clear=Hi,Yi.prototype.delete=Gi,Yi.prototype.get=Xi,Yi.prototype.has=Ji,Yi.prototype.set=Ki;var Zi=Yi,$i=Zt(ut.Z,"Map");var Qi=function(){this.size=0,this.__data__={hash:new qi,map:new($i||Zi),string:new qi}};var eo=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var to=function(e,t){var n=e.__data__;return eo(t)?n["string"==typeof t?"string":"hash"]:n.map};var no=function(e){var t=to(this,e).delete(e);return this.size-=t?1:0,t};var ro=function(e){return to(this,e).get(e)};var io=function(e){return to(this,e).has(e)};var oo=function(e,t){var n=to(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ao(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ao.prototype.clear=Qi,ao.prototype.delete=no,ao.prototype.get=ro,ao.prototype.has=io,ao.prototype.set=oo;var so=ao;function co(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(co.Cache||so),n}co.Cache=so;var uo=co;var lo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,po=/\\(\\)?/g,ho=function(e){var t=uo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(lo,(function(e,n,r,i){t.push(r?i.replace(po,"$1"):n||e)})),t}));var fo=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},vo=lt?lt.prototype:void 0,go=vo?vo.toString:void 0;var mo=function e(t){if("string"==typeof t)return t;if(xt(t))return fo(t,e)+"";if(Ci(t))return go?go.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var bo=function(e){return null==e?"":mo(e)};var yo=function(e,t){return xt(e)?e:Ri(e,t)?[e]:ho(bo(e))};var wo=function(e){if("string"==typeof e||Ci(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var _o=function(e,t){for(var n=0,r=(t=yo(t,e)).length;null!=e&&n<r;)e=e[wo(t[n++])];return n&&n==r?e:void 0};var So=function(e,t,n){var r=null==e?void 0:_o(e,t);return void 0===r?n:r},Eo=function(e){return e&&e.params&&e.params.impression_id},ko=function(e){return So(e,"feed.params.impression_id",e)},Oo=n(4861),To=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},xo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Co=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Po=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Io=function(){function e(){var e=this;this._sessions={},this._shownBanners={},this._cleanBannersAndSessions=function(){e._shownBanners={},e._sessions={},e._metricsTransport.clearBannerTimersMap()},this._registerSpaPageUpdate=function(){var t,n;e._eventEmitter.register(((t={})[ae.PAGE]=((n={})[se.SPA_UPDATE]=e._cleanBannersAndSessions,n),t))},!1===this._config.getConfigValue("RESET_SYNC_BANNERS_STATE_ON_HISTORY_CHANGE")?this._registerSpaPageUpdate():(0,Oo.addEventListener)(window,"changestate",this._cleanBannersAndSessions)}return e.prototype.addSession=function(e,t){this._sessions[e]=t},e.prototype.getSession=function(e){return this._sessions[e]},e.prototype.show=function(e){var t=e.divID,n=e.options,r=e.optionsB,i=e.priority,o=e.impressionID,a=e.blockID,s=e.sessionKeys,c=e.optClass,u=e.callback,l=e.doWipe;return Co(this,void 0,void 0,(function(){var e,p;return Po(this,(function(d){switch(d.label){case 0:return e=this._renderService.getBannerData(o),this._handleDebugInfo(e),this._isRenderAllowed(a,s)?[4,this._renderService.showAd(t,o,0,l)]:[3,2];case 1:return d.sent(),this._stackUtils.updateBannersStack(t,{impressionID:ko(o)}),u&&u(i,o,a),this._markSyncPlaces(s),this._setShown(a,0===e.feed.banners.graph.length),[2,bi.shown];case 2:return this._isRetryAllowed(r.requestRetries,a)&&(p=r.requestRetries||0)<2?(r.requestRetries=p+1,[2,this._adInitializer.ssp(t,n,r,c,null,u,null,l)]):[2,bi.declined]}}))}))},e.prototype.isSessionBanner=function(e){var t=e.nodeID,n=e.blockID;if(!n){var r=this._stackUtils.stack[t];n=r&&r.options_b&&r.options_b["begun-block-id"]}var i=this.getSession(n)||{};return this._isPlaceMarkedAsSync(i)},e.prototype._handleDebugInfo=function(e){e&&this._debugService.handleDebugInfo(e)},e.prototype._isRenderAllowed=function(t,n){var r=!0;if(n){for(var i in n)if(n.hasOwnProperty(i)){var o=this.getSession(i),a=o&&o.key||void 0,s=n[i],c=this._isSyncPlaceTakenByBasicBanner(i),u=this._syncBannerIsRendered(t);if(this._isPlaceMarkedAsForcedNonSyncOrSync(a,s)||u||c){r=!1,this.getSession(t)&&!c||this.addSession(t,{key:e.FORCE_NON_SYNC});break}}}else(a=this.getSession(t))&&a.key!==e.FORCE_NON_SYNC&&(r=!1);return r},e.prototype._markSyncPlaces=function(e){for(var t in e)e.hasOwnProperty(t)&&this.addSession(t,{key:e[t]})},e.prototype._isRetryAllowed=function(e,t){void 0===e&&(e=0);var n=this.getSession(t);return e<2&&(this._isPlaceMarkedAsSync(n)||this._isPlaceMarkedAsForcedNonSync(n))&&!this._syncBannerIsRendered(t)},e.prototype._isPlaceMarkedAsSync=function(t){return t.key!==e.FORCE_NON_SYNC&&""!==t.key&&void 0!==t.key},e.prototype._isPlaceMarkedAsForcedNonSync=function(t){return t.key===e.FORCE_NON_SYNC},e.prototype._isPlaceMarkedAsForcedNonSyncOrSync=function(t,n){return t===e.FORCE_NON_SYNC||void 0!==t&&t!==n},e.prototype._setShown=function(t,n){var r=this.getSession(t);this._shownBanners[t]=r&&r.key||(n?e.EMPTY:e.BASIC)},e.prototype._getShown=function(e){return this._shownBanners[e]},e.prototype._isSyncPlaceTakenByBasicBanner=function(t){return this._getShown(t)===e.BASIC},e.prototype._syncBannerIsRendered=function(t){var n=this._getShown(t);return n&&n!==e.BASIC&&n!==e.FORCE_NON_SYNC},e.BASIC="basic",e.EMPTY="empty",e.FORCE_NON_SYNC="*",To([ue(ee.BegunAutocontext),xo("design:type",Object)],e.prototype,"_renderService",void 0),To([ue(ee.MethodsInitializer),xo("design:type",Object)],e.prototype,"_adInitializer",void 0),To([ue(ee.AdfUtil),xo("design:type",Object)],e.prototype,"_stackUtils",void 0),To([ue(ee.ToolbarHelper),xo("design:type",Si)],e.prototype,"_debugService",void 0),To([ue(ee.EventEmitter),xo("design:type",Object)],e.prototype,"_eventEmitter",void 0),To([ue(ee.Config),xo("design:type",xi)],e.prototype,"_config",void 0),To([ue(ee.MetricsTransport),xo("design:type",gi)],e.prototype,"_metricsTransport",void 0),e}(),Ro=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ao=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Do=function(){function e(){}return e.prototype.attemptRefresh=function(e,t){var n=this._inViewTimersService.inViewTimers[e];return!(!n||this._syncBannersService.isSessionBanner({nodeID:e}))&&n.attemptRefresh(t)},Ro([ue(ee.SyncShow),Ao("design:type",Io)],e.prototype,"_syncBannersService",void 0),Ro([ue(ee.MethodsInitializer),Ao("design:type",Object)],e.prototype,"_inViewTimersService",void 0),e}(),jo=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Bo=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Lo=function(){function e(e,t,n,r){this.isUrlCalled=!1,this._viewableBanner=t,this._ID=n,this.url=e.url,this.percent=e.percent,this.time=e.time,this._div_ID=r}return e.prototype.startTimer=function(){var e=this;this.stopTimer(),this._timer=setTimeout((function(){e._callUrl(),e._logUrlCall()}),this.time)},e.prototype.isTimerStarted=function(){return!!this._timer},e.prototype.stopTimer=function(){clearTimeout(this._timer),this._timer=null},e.prototype.setViewableBanner=function(e){this._viewableBanner=e},e.prototype.getViewableBanner=function(){return this._viewableBanner},e.prototype._callUrl=function(){Ie({src:we(this.url,"capirs_nocache",Date.now()),target:document.body,document:document}),this.isUrlCalled=!0},e.prototype._logUrlCall=function(){var e=0===this.percent?"minimal part":"".concat(100*this.percent,"%");this._metricsTransport.logMetrics(this._div_ID,$r.viewable),window.Debug.info("Banner was seen for ".concat(e," during ").concat(this.time,"ms, ID: ").concat(this._ID,", called url: ").concat(this.url))},jo([ue(ee.MetricsTransport),Bo("design:type",gi)],e.prototype,"_metricsTransport",void 0),e}(),No=function(e){return e&&"object"==typeof e&&e.document&&"object"==typeof e.document},Fo=function(e){return void 0===e&&(e=window),No(e)?e.pageYOffset||e.document.documentElement&&e.document.documentElement.scrollTop||e.document.body&&e.document.body.scrollTop:NaN},Mo=Math.ceil,Vo=Math.max;var qo=function(e,t,n,r){for(var i=-1,o=Vo(Mo((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a};var Ho=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Uo=function(e){return null!=e&&Ho(e.length)&&!Nt(e)},Wo=/^(?:0|[1-9]\d*)$/;var zo=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Wo.test(e))&&e>-1&&e%1==0&&e<t};var Go=function(e,t,n){if(!nt(n))return!1;var r=typeof t;return!!("number"==r?Uo(n)&&zo(t,n.length):"string"==r&&t in n)&&Ui(n[t],e)},Xo=/^\s+|\s+$/g,Jo=/^[-+]0x[0-9a-f]+$/i,Ko=/^0b[01]+$/i,Yo=/^0o[0-7]+$/i,Zo=parseInt;var $o=function(e){if("number"==typeof e)return e;if(Ci(e))return NaN;if(nt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Xo,"");var n=Ko.test(e);return n||Yo.test(e)?Zo(e.slice(2),n?2:8):Jo.test(e)?NaN:+e},Qo=1/0;var ea=function(e){return e?(e=$o(e))===Qo||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};var ta=function(e){return function(t,n,r){return r&&"number"!=typeof r&&Go(t,n,r)&&(n=r=void 0),t=ea(t),void 0===n?(n=t,t=0):n=ea(n),r=void 0===r?t<n?1:-1:ea(r),qo(t,n,r,e)}}();var na=function(){this.__data__=new Zi,this.size=0};var ra=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ia=function(e){return this.__data__.get(e)};var oa=function(e){return this.__data__.has(e)};var aa=function(e,t){var n=this.__data__;if(n instanceof Zi){var r=n.__data__;if(!$i||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new so(r)}return n.set(e,t),this.size=n.size,this};function sa(e){var t=this.__data__=new Zi(e);this.size=t.size}sa.prototype.clear=na,sa.prototype.delete=ra,sa.prototype.get=ia,sa.prototype.has=oa,sa.prototype.set=aa;var ca=sa;var ua=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var la=function(e){return this.__data__.has(e)};function pa(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new so;++t<n;)this.add(e[t])}pa.prototype.add=pa.prototype.push=ua,pa.prototype.has=la;var da=pa;var ha=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var fa=function(e,t){return e.has(t)};var va=function(e,t,n,r,i,o){var a=1&n,s=e.length,c=t.length;if(s!=c&&!(a&&c>s))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var l=-1,p=!0,d=2&n?new da:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var h=e[l],f=t[l];if(r)var v=a?r(f,h,l,t,e,o):r(h,f,l,e,t,o);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!ha(t,(function(e,t){if(!fa(d,t)&&(h===e||i(h,e,n,r,o)))return d.push(t)}))){p=!1;break}}else if(h!==f&&!i(h,f,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p},ga=ut.Z.Uint8Array;var ma=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var ba=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},ya=lt?lt.prototype:void 0,wa=ya?ya.valueOf:void 0;var _a=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new ga(e),new ga(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ui(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=ma;case"[object Set]":var c=1&r;if(s||(s=ba),e.size!=t.size&&!c)return!1;var u=a.get(e);if(u)return u==t;r|=2,a.set(e,t);var l=va(s(e),s(t),r,i,o,a);return a.delete(e),l;case"[object Symbol]":if(wa)return wa.call(e)==wa.call(t)}return!1};var Sa=function(e,t,n){var r=t(e);return xt(e)?r:ct(r,n(e))};var Ea=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var ka=function(){return[]},Oa=Object.prototype.propertyIsEnumerable,Ta=Object.getOwnPropertySymbols,xa=Ta?function(e){return null==e?[]:(e=Object(e),Ea(Ta(e),(function(t){return Oa.call(e,t)})))}:ka;var Ca=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},Pa=n(9710),Ia={};Ia["[object Float32Array]"]=Ia["[object Float64Array]"]=Ia["[object Int8Array]"]=Ia["[object Int16Array]"]=Ia["[object Int32Array]"]=Ia["[object Uint8Array]"]=Ia["[object Uint8ClampedArray]"]=Ia["[object Uint16Array]"]=Ia["[object Uint32Array]"]=!0,Ia["[object Arguments]"]=Ia["[object Array]"]=Ia["[object ArrayBuffer]"]=Ia["[object Boolean]"]=Ia["[object DataView]"]=Ia["[object Date]"]=Ia["[object Error]"]=Ia["[object Function]"]=Ia["[object Map]"]=Ia["[object Number]"]=Ia["[object Object]"]=Ia["[object RegExp]"]=Ia["[object Set]"]=Ia["[object String]"]=Ia["[object WeakMap]"]=!1;var Ra=function(e){return wt(e)&&Ho(e.length)&&!!Ia[yt(e)]};var Aa=function(e){return function(t){return e(t)}},Da=n(9730),ja=Da.Z&&Da.Z.isTypedArray,Ba=ja?Aa(ja):Ra,La=Object.prototype.hasOwnProperty;var Na=function(e,t){var n=xt(e),r=!n&&Tt(e),i=!n&&!r&&(0,Pa.Z)(e),o=!n&&!r&&!i&&Ba(e),a=n||r||i||o,s=a?Ca(e.length,String):[],c=s.length;for(var u in e)!t&&!La.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||zo(u,c))||s.push(u);return s},Fa=Object.prototype;var Ma=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Fa)};var Va=function(e,t){return function(n){return e(t(n))}},qa=Va(Object.keys,Object),Ha=Object.prototype.hasOwnProperty;var Ua=function(e){if(!Ma(e))return qa(e);var t=[];for(var n in Object(e))Ha.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Wa=function(e){return Uo(e)?Na(e):Ua(e)};var za=function(e){return Sa(e,Wa,xa)},Ga=Object.prototype.hasOwnProperty;var Xa=function(e,t,n,r,i,o){var a=1&n,s=za(e),c=s.length;if(c!=za(t).length&&!a)return!1;for(var u=c;u--;){var l=s[u];if(!(a?l in t:Ga.call(t,l)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var d=!0;o.set(e,t),o.set(t,e);for(var h=a;++u<c;){var f=e[l=s[u]],v=t[l];if(r)var g=a?r(v,f,l,t,e,o):r(f,v,l,e,t,o);if(!(void 0===g?f===v||i(f,v,n,r,o):g)){d=!1;break}h||(h="constructor"==l)}if(d&&!h){var m=e.constructor,b=t.constructor;m==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof b&&b instanceof b||(d=!1)}return o.delete(e),o.delete(t),d},Ja=Zt(ut.Z,"DataView"),Ka=Zt(ut.Z,"Promise"),Ya=Zt(ut.Z,"Set"),Za="[object Map]",$a="[object Promise]",Qa="[object Set]",es="[object WeakMap]",ts="[object DataView]",ns=Ht(Ja),rs=Ht($i),is=Ht(Ka),os=Ht(Ya),as=Ht(an),ss=yt;(Ja&&ss(new Ja(new ArrayBuffer(1)))!=ts||$i&&ss(new $i)!=Za||Ka&&ss(Ka.resolve())!=$a||Ya&&ss(new Ya)!=Qa||an&&ss(new an)!=es)&&(ss=function(e){var t=yt(e),n="[object Object]"==t?e.constructor:void 0,r=n?Ht(n):"";if(r)switch(r){case ns:return ts;case rs:return Za;case is:return $a;case os:return Qa;case as:return es}return t});var cs=ss,us="[object Arguments]",ls="[object Array]",ps="[object Object]",ds=Object.prototype.hasOwnProperty;var hs=function(e,t,n,r,i,o){var a=xt(e),s=xt(t),c=a?ls:cs(e),u=s?ls:cs(t),l=(c=c==us?ps:c)==ps,p=(u=u==us?ps:u)==ps,d=c==u;if(d&&(0,Pa.Z)(e)){if(!(0,Pa.Z)(t))return!1;a=!0,l=!1}if(d&&!l)return o||(o=new ca),a||Ba(e)?va(e,t,n,r,i,o):_a(e,t,c,n,r,i,o);if(!(1&n)){var h=l&&ds.call(e,"__wrapped__"),f=p&&ds.call(t,"__wrapped__");if(h||f){var v=h?e.value():e,g=f?t.value():t;return o||(o=new ca),i(v,g,n,r,o)}}return!!d&&(o||(o=new ca),Xa(e,t,n,r,i,o))};var fs=function e(t,n,r,i,o){return t===n||(null==t||null==n||!wt(t)&&!wt(n)?t!=t&&n!=n:hs(t,n,r,i,e,o))};var vs=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var s=n[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var c=(s=n[i])[0],u=e[c],l=s[1];if(a&&s[2]){if(void 0===u&&!(c in e))return!1}else{var p=new ca;if(r)var d=r(u,l,c,e,t,p);if(!(void 0===d?fs(l,u,3,r,p):d))return!1}}return!0};var gs=function(e){return e==e&&!nt(e)};var ms=function(e){for(var t=Wa(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,gs(i)]}return t};var bs=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var ys=function(e){var t=ms(e);return 1==t.length&&t[0][2]?bs(t[0][0],t[0][1]):function(n){return n===e||vs(n,e,t)}};var ws=function(e,t){return null!=e&&t in Object(e)};var _s=function(e,t,n){for(var r=-1,i=(t=yo(t,e)).length,o=!1;++r<i;){var a=wo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ho(i)&&zo(a,i)&&(xt(e)||Tt(e))};var Ss=function(e,t){return null!=e&&_s(e,t,ws)};var Es=function(e,t){return Ri(e)&&gs(t)?bs(wo(e),t):function(n){var r=So(n,e);return void 0===r&&r===t?Ss(n,e):fs(t,r,3)}};var ks=function(e){return function(t){return null==t?void 0:t[e]}};var Os=function(e){return function(t){return _o(t,e)}};var Ts=function(e){return Ri(e)?ks(wo(e)):Os(e)};var xs=function(e){return"function"==typeof e?e:null==e?Qt:"object"==typeof e?xt(e)?Es(e[0],e[1]):ys(e):Ts(e)};var Cs=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var Ps=function(e){return e!=e};var Is=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Rs=function(e,t,n){return t==t?Is(e,t,n):Cs(e,Ps,n)};var As=function(e,t){return!!(null==e?0:e.length)&&Rs(e,t,0)>-1};var Ds=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1},js=Ya&&1/ba(new Ya([,-0]))[1]==1/0?function(e){return new Ya(e)}:cn;var Bs=function(e,t,n){var r=-1,i=As,o=e.length,a=!0,s=[],c=s;if(n)a=!1,i=Ds;else if(o>=200){var u=t?null:js(e);if(u)return ba(u);a=!1,i=fa,c=new da}else c=t?[]:s;e:for(;++r<o;){var l=e[r],p=t?t(l):l;if(l=n||0!==l?l:0,a&&p==p){for(var d=c.length;d--;)if(c[d]===p)continue e;t&&c.push(p),s.push(l)}else i(c,p,n)||(c!==s&&c.push(p),s.push(l))}return s};var Ls,Ns=function(e,t){return e&&e.length?Bs(e,xs(t,2)):[]},Fs=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Ms=function(e,t){return null==e?void 0:e.contains(t)},Vs=function(e){var t=e.left,n=e.right,r=e.top,i=e.bottom;return{left:t<0?0:t,right:n<0?0:n,top:r<0?0:r,bottom:i>document.documentElement.clientHeight?document.documentElement.clientHeight:i}},qs=function(e,t){var n=Vs(e),r=Vs(t);return n.top<r.bottom&&n.bottom>r.top&&n.left<r.right&&n.right>r.left},Hs=function(e,t){return e.top>=t.top&&e.bottom<=t.bottom&&e.left>=t.left&&e.right<=t.right},Us=uo((function(e,t){return[.3*e,.3*t]})),Ws=function(e){var t,n=e.elementFromPoint,r=e.covered,i=e.nodeToExclude;return n&&!r.isSameNode(n)&&!document.body.isSameNode(n)&&!Ms(n,r)&&!Ms(r,n)&&!function(e,t){return!!e&&(Ms(e,t)||t.isSameNode(e))}(i,n)&&!Ms(null===(t=document.getElementsByClassName("branding-wrapper"))||void 0===t?void 0:t[0],n)&&!n.classList.contains("rectangle-point")},zs=function(e,t){var n=document.querySelector(".inview-timers-wrapper"),r=[];return t.forEach((function(e){var t,n,i=(t=e[0],n=e[1],document.elementsFromPoint?document.elementsFromPoint(t,n):Array.from(document.msElementsFromPoint(t,n)));r.push.apply(r,i)})),Array.from(new Set(r)).filter((function(t){return Ws({covered:e,elementFromPoint:t,nodeToExclude:n})}))},Gs=function(e){var t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left}},Xs=function(e){var t,n,r=zs(e,function(e,t){var n=Vs(e.getBoundingClientRect()),r=n.left,i=n.right,o=n.top,a=n.bottom,s=ta(r+2,i-2,t[0]),c=ta(o+2,a-2,t[1]);return s.reduce((function(e,t){return Fs(Fs([],e,!0),c.map((function(e){return[t,e]})),!0)}),[])}(e,Us(e.clientWidth,e.clientHeight)));if(r.length>0){var i=r.find((function(e){return e.id.includes("pushwoosh-popup")})),o=r.reduce((function(t,n){var r=function(e,t){for(var n=[],r=e;r.parentElement&&!r.parentElement.contains(t)&&r.parentElement.clientHeight*r.parentElement.clientWidth>=r.clientHeight*r.clientWidth;)n.push(r.parentElement),r=r.parentElement;return n}(n,e).reverse().find((function(e){return e.getBoundingClientRect().bottom>=0}));return Fs(Fs([],t,!0),[r||n],!1)}),[]);i&&(o=o.filter((function(e){return!e.contains(i)}))).push(i);var a=function(e){if(1===e.length)return e;for(var t=Fs([],e.slice(0),!0),n=function(e){var n=t[e],r=e,i=t.reduce((function(e,t,i){return n&&t&&qs(t,n)&&r!==i?Fs(Fs([],e,!0),[{intersectedIndex:i,intersectedElement:t}],!1):e}),[]);if(i.length>0)for(var o=0;o<i.length;o++){var a=i[o],s=a.intersectedElement,c=a.intersectedIndex,u=s.top,l=s.right,p=s.bottom,d=s.left,h=n.top,f=n.right,v=n.bottom,g=n.left;if(Hs(s,n)&&t.splice(c,1,null),u<h){var m={top:u,right:l,bottom:h,left:d};s.top=h,t.push(m)}l>f&&(m={top:u,right:l,bottom:p,left:f},s.right=f,t.push(m)),p>v&&(m={top:v,right:l,bottom:p,left:d},s.bottom=v,t.push(m)),d<g&&(m={top:u,right:g,bottom:p,left:d},s.left=g,t.push(m))}},r=0;r<t.length;r++)n(r);return t.filter((function(e){return!!e}))}(Array.from(new Set(o)).map(Gs));a=Ns(a,(function(e){return"".concat(e.top,".").concat(e.right,".").concat(e.bottom,".").concat(e.left)})),a=function(e,t){return e.filter((function(e){return qs(e,t)}))}(a,Gs(e)),location.search.includes("draw_rects=true")&&(t=a,n=document.querySelectorAll(".rectangle-point"),Array.from(n).forEach((function(e){return e.remove()})),t.forEach((function(e,t){var n=e.top,r=e.right,i=e.bottom,o=e.left,a=document.createElement("div");a.classList.add("rectangle-point"),a.style.position="fixed",a.style.zIndex="9999",a.style.border="3px dashed red",a.style.left="".concat(o,"px"),a.style.top="".concat(n,"px"),a.style.right="".concat(r,"px"),a.style.bottom="".concat(i,"px"),a.style.height="".concat(i-n,"px"),a.style.width="".concat(r-o,"px"),a.style.background="rgba(122, 122, 122, .4)",a.innerHTML="<span>".concat(t,"</span>"),document.body.append(a)})));var s=(a||[]).reduce((function(t,n){return t+function(e,t){var n=Vs(e),r=Vs(t),i=r.top,o=r.right,a=r.bottom,s=r.left,c=n.top,u=n.right,l=n.bottom,p=n.left,d=l-c,h=u-p,f=o-s,v=a-i;if(Hs(r,n))return Math.round(v*f/(d*h)*100);if(Hs(n,r))return 100;var g=0,m=0;return g=i<=c?a>=l?d:a-c:a>=l?l-i:v,m=s<=p?o>=u?h:o-p:o>=u?u-s:f,Math.round(g*m/(d*h)*100)}(Gs(e),n)}),0);return Math.min(s,100)}return 0},Js=function(){function e(){this.subscribers={},this.observables={}}return e.prototype.stopCheckCovering=function(e){cancelIdleCallback(this.observables[e].idleCallbackId),delete this.observables[e]},e.prototype.subscribe=function(e,t){this.subscribers[e]=this.subscribers[e]||[],this.subscribers[e].push(t),this.observables[e]||(this.observables[e]=this.observables[e]||{idleCallbackId:null,isCoveringCheckPermitted:!1,coveringPercent:null},this.setCoveringCheckPermission(e),this.initIdleCallback(e))},e.prototype.unsubscribe=function(e,t){this.subscribers[e]=this.subscribers[e].filter((function(e){return e!==t})),this.subscribers[e].length<1&&this.stopCheckCovering(e)},e.prototype.initIdleCallback=function(e){var t=this;if(this.observables[e].isCoveringCheckPermitted){var n=document.getElementById(e),r=function(){t.emitCurrentState(e,Xs(n)),requestIdleCallback(r)};this.observables[e].idleCallbackId=requestIdleCallback(r)}},e.prototype.setCoveringCheckPermission=function(e){this.observables[e].isCoveringCheckPermitted=h.some((function(t){return"begun_block_".concat(t)===e}))},e.prototype.emitCurrentState=function(e,t){this.subscribers[e].forEach((function(e){return e(t)}))},e}(),Ks=function(){return Ks=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ks.apply(this,arguments)},Ys=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Zs=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$s=".unbounded-banner-place",Qs="[data-project-name='unbounded']",ec=function(){function e(e,t,n){var r=this;this._isRealBannerPlaceFound=!1,this._unboundedBannerThreshold={isEnabled:!1,value:ta(0,.9,.01).map((function(e){return Math.round(100*e)/100}))},this._coveringPercent=0,this.updateCoveringPercent=function(e){e!==r._coveringPercent&&(r._coveringPercent=e,r._observer.unobserve(r._viewableElement),r._observer.observe(r._viewableElement))},e&&"object"==typeof e&&1===e.nodeType&&e.parentElement&&"HTML"!==e.parentElement.nodeName?(this._ID=e.id||Re(),e.id=this._ID):e&&"string"==typeof e&&e.length>0?(this._ID=e,e=document.getElementById("".concat(this._ID))):e=null,(e||"string"==typeof this._ID)&&(this._viewableElement=e,this._div_ID=this._viewableElement.parentElement.id,this._setUnboundedBannerThreshold(),this._viewabilityBreakpoints=t.map((function(e){return new Lo(e,r._viewableElement,r._ID,r._div_ID)})),"string"==typeof n?this._searcherID=n:"string"==typeof this._ID?this._searcherID=this._ID:this._searcherID="",this._timer=V.getInstance().init(100),this._searcherID=this._timer.subscribe({context:this,callback:this._trackViewableElement,ID:this._searcherID||void 0}),this.coveringWatcher.subscribe(this._viewableElement.id,this.updateCoveringPercent),this._watch())}return e.prototype.stopSearch=function(){this._timer.unsubscribe(this._searcherID)},e.prototype._trackViewableElement=function(){if(this._checkBannerExistingInDOM(),this._checkThatViewableElementFound(),this._isRealBannerPlaceFound)this.stopSearch();else{var e=this._viewableElement;this._attemptFindRealBannerPlace(),this._isRealBannerPlaceFound&&(this._observer.unobserve(e),this._observer.observe(this._viewableElement))}},e.prototype._watch=function(){var e=this,t=null;this._unboundedBannerThreshold.isEnabled?(t=this._unboundedBannerThreshold.value,this._mutationObserver=new MutationObserver((function(t){for(var n=0,r=t;n<r.length;n++){var i=r[n],o=e._viewableElement.querySelector($s);"childList"===i.type&&o&&o.querySelector(Qs)&&(e._mutationObserver.disconnect(),e._observer.unobserve(e._viewableElement),e._observer.observe(e._viewableElement))}})),this._mutationObserver.observe(this._viewableElement,{childList:!0,subtree:!0})):t=this._viewabilityBreakpoints.map((function(e){return e.percent}));var n={root:null,rootMargin:"0px",threshold:t};this._observer=new IntersectionObserver((function(t){var n;e._checkBannerExistingInDOM(),e._checkThatViewableElementFound();var r=t&&t[0];e._viewabilityBreakpoints=e._viewabilityBreakpoints.filter((function(t){if(t.isUrlCalled)return!1;t.setViewableBanner(e._viewableElement);var n=(100*r.intersectionRatio-r.intersectionRatio*e._coveringPercent)/100;return r.isIntersecting&&e._isTresholdSatisfied(n,t.percent)&&e._isSizeSatisfied(e._viewableElement.clientWidth,e._viewableElement.clientHeight)&&e._isBannerRendered(r.target)?t.startTimer():t.isTimerStarted()&&t.stopTimer(),!0})),0===e._viewabilityBreakpoints.length&&(e.stopSearch(),e._observer.unobserve(e._viewableElement),null===(n=e._mutationObserver)||void 0===n||n.disconnect())}),Ks({},n)),this._observer.observe(this._viewableElement)},e.prototype._checkBannerExistingInDOM=function(){document.body&&document.body.contains(this._viewableElement)||this._destroyViewAbility()},e.prototype._checkThatViewableElementFound=function(){this._viewableElement||(this._ID?this._viewableElement=document.getElementById(this._ID):this._destroyViewAbility())},e.prototype._destroyViewAbility=function(){var e;this._viewabilityBreakpoints.forEach((function(e){return e.stopTimer()})),this._viewabilityBreakpoints.length=0,this._observer.unobserve(this._viewableElement),null===(e=this._mutationObserver)||void 0===e||e.disconnect(),this.stopSearch()},e.prototype._attemptFindRealBannerPlace=function(){var e=Je.getActualBannerPlace(this._viewableElement);e&&(this._viewableElement=e,this._isRealBannerPlaceFound=!0)},e.prototype._isTresholdSatisfied=function(e,t){return e>=t},e.prototype._isSizeSatisfied=function(e,t){return e>15&&t>15},e.prototype._isBannerRendered=function(e){if(this._unboundedBannerThreshold.isEnabled){var t=e.querySelector($s);return!!t&&!!t.querySelector(Qs)}return!0},e.prototype._setUnboundedBannerThreshold=function(){this._unboundedBannerThreshold.isEnabled=!!this._viewableElement.querySelector("script[src*=Unbounded]")},Ys([ue(ee.CoveringWatcher),Zs("design:type",Js)],e.prototype,"coveringWatcher",void 0),e}(),tc=ec,nc=function(){function e(){this.timer=V.getInstance().init(100)}return e.prototype.create=function(e,t){var n,r=this,i=new Promise((function(i){var o;"string"==typeof(o="object"==typeof e?e:"AdFox_banner_".concat(e))&&((o=window.document.getElementById(o))||(o=window.document.getElementById("AdFox_iframe_".concat(e)))),o&&(n=r.timer.subscribe({context:r,callback:function(e,t){(e=Je.getActualBannerPlace(e)||e).clientWidth*e.clientHeight>0&&e.clientWidth>15&&e.clientHeight>15&&(r.timer.unsubscribe(n),i(new tc(e,t,n)))},params:[o,t]}))}));return function(){r.timer.unsubscribe(n),i.then((function(e){return e.stopSearch()}))}},e}(),rc=nc,ic=function(e){return"object"==typeof e&&null!==e?(e.id||(e.id=Math.random().toString(36).replace(/[^a-z]+/g,"")),e.id):e},oc=function(){return oc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},oc.apply(this,arguments)},ac=function(){function e(){this.debugBase=-1!==window.location.href.indexOf("adfox_debug=1"),this.debugExtend=-1!==window.location.href.indexOf("adfox_debug=2"),this.nolimits=-1!==window.location.href.indexOf("adFox_nolimits=1"),this.viewAbility=new rc,this.stack={}}return e.prototype.updateBannersStack=function(e,t){e=ic(e),this.stack[e]=oc(oc({},this.stack[e]),t)},e}(),sc=n(9293),cc=n.n(sc),uc=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},lc=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},pc=function(){function e(e,t,n){void 0===n&&(n=!0);var r=this;this._bannerPlaceStartTime=0,this._isTimeToWatchFinite=!0,this._handleError=function(e){return{optionsB:r._optionsB,status:!1,reason:"Something went wrong in banner-rendering watcher: ".concat(e.message)}},this._wrapperID="object"==typeof e?e.id:e,this._optionsB=t,this._isTimeToWatchFinite=n,this._findMainBannerPlace(),this._isMainBannerPlaceFound()&&this._saveBannerSizes()}return Object.defineProperty(e.prototype,"mainBannerPlace",{get:function(){return this._mainBannerPlace},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"actualBannerPlace",{get:function(){return this._actualBannerPlace},enumerable:!1,configurable:!0}),e.prototype.start=function(){return uc(this,void 0,void 0,(function(){var e,t;return lc(this,(function(n){switch(n.label){case 0:this._setTimerStartingPoint(),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._watch()];case 2:return e=n.sent(),[3,4];case 3:return t=n.sent(),e=this._handleError(t),[3,4];case 4:return[2,e]}}))}))},e.prototype._watch=function(){return uc(this,void 0,void 0,(function(){var t,n,r;return lc(this,(function(i){switch(i.label){case 0:return[4,cc()(e.CHECK_INTERVAL)];case 1:return i.sent(),this._attemptToFindActualBannerPlace(),document.getElementById(this._wrapperID)?this._isBannerDumb()?[2,{bannerPlace:this._mainBannerPlace,optionsB:this._optionsB,status:!1,reason:Sn.Empty}]:this.actualBannerPlace?(this._saveBannerSizes(),this._shouldContinueWatching()?[2,this._watch()]:(t=this._isBannerSizeAppropriate(),n=this._isWatchingTimeOver(),r=this._doesBegunBlockHaveAd(),n||t&&r?!n||t&&r?[2,{bannerPlace:this._mainBannerPlace,optionsB:this._optionsB,status:!0,actualBannerPlace:this._actualBannerPlace}]:[2,{optionsB:this._optionsB,status:!1,reason:r?Sn.NotRendered:Sn.NoBegunBlock}]:[2,this._watch()])):this._isTimeToFindBannerPlaceOver()?[2,{optionsB:this._optionsB,reason:Sn.PlaceNotFound,status:!1,nodeID:this._wrapperID}]:[2,this._watch()]:[2,{bannerPlace:this._mainBannerPlace,optionsB:this._optionsB,status:!1,reason:Sn.DoesNotExist}]}}))}))},e.prototype._shouldContinueWatching=function(){return this._checkBannerSizeChanged()&&!this._isWatchingTimeOver()},e.prototype._isBannerDumb=function(){return!this._doesBannerExist()},e.prototype._attemptToFindActualBannerPlace=function(){this._isMainBannerPlaceFound()?this._findActualBannerPlace():(this._findMainBannerPlace(),this._isMainBannerPlaceFound()&&this._findActualBannerPlace())},e.prototype._setTimerStartingPoint=function(){this._bannerPlaceStartTime=Date.now()},e.prototype._isMainBannerPlaceFound=function(){return!!this._mainBannerPlace},e.prototype._saveBannerSizes=function(){this._bannerPlaceWidth=this._actualBannerPlace.clientWidth,this._bannerPlaceHeight=this._actualBannerPlace.clientHeight},e.prototype._findMainBannerPlace=function(){this._actualBannerPlace=Ir(this._wrapperID)||void 0,this._mainBannerPlace=this._actualBannerPlace},e.prototype._findActualBannerPlace=function(){this._actualBannerPlace=this._findBannerAtRoot()||this._findBannerInsideWrapper()||this._actualBannerPlace},e.prototype._findBannerInsideWrapper=function(){for(var e=0,t=["div[id*='begun_block_']","div[id*='AdFox_banner_'] iframe","div[id*='AdFox_banner_'] img","div[class*='-banner-place'] > .is-link","div[class*='-banner-place'] > div[class*='-banner']"];e<t.length;e++){var n=t[e],r=this._actualBannerPlace.querySelector(n);if(r)return r}},e.prototype._findBannerAtRoot=function(){if(this._actualBannerPlace===this._mainBannerPlace)return Je.getActualBannerPlace(this._mainBannerPlace)},e.prototype._doesBannerExist=function(){return!window.Begun.emptySSPResponses.hasOwnProperty("".concat(this._wrapperID,"_").concat(this._optionsB["begun-auto-pad"]))},e.prototype._checkBannerSizeChanged=function(){return this._bannerPlaceWidth!==this._actualBannerPlace.clientWidth||this._bannerPlaceHeight!==this._actualBannerPlace.clientHeight},e.prototype._isBannerSizeAppropriate=function(){var e;return this._mainBannerPlace.dataset.begunBlockRepeated?e=this._mainBannerPlace.querySelector("#".concat(this._actualBannerPlace.id)):(e=Je.getActualBannerPlace(this._actualBannerPlace)||this._actualBannerPlace,this._actualBannerPlace=e),e.clientWidth>15&&e.clientHeight>15},e.prototype._doesBegunBlockHaveAd=function(){var e=this._mainBannerPlace.querySelector("#begun_block_".concat(this._optionsB["begun-block-id"]));return e&&e.children.length>0},e.prototype._isWatchingTimeOver=function(){var e=this._isTimeToWatchFinite?1e4:1/0;return Date.now()-this._bannerPlaceStartTime>e},e.prototype._isTimeToFindBannerPlaceOver=function(){return Date.now()-this._bannerPlaceStartTime>2e3},e.CHECK_INTERVAL=1e3/30,e}(),dc=pc,hc=function(e){return e&&e.feed},fc=function(){return fc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},fc.apply(this,arguments)},vc=[Xe.BRANDING,Xe.FULLSCREEN],gc=function(e){var t=e.status,n=e.viewTypes,r=(null==n?void 0:n.split(","))||[];return!t||vc.some((function(e){return r.includes(e)}))},mc=function(e){return fc(fc({},e),{canHide:gc(e)})};!function(e){e.total="total",e.session="session"}(Ls||(Ls={}));var bc,yc,wc=function(){function e(e){this.arrowCssRuleRegExp=/[#]{1}\{.+->.+[&]?.*\}/g,this.tpl=e||"",this.braces=/\{\{(.*?)}}/g}return e.prototype.evaluate=function(e){var t=this.tpl.match(this.arrowCssRuleRegExp);return null!==t&&t.length>0&&(e=this.unifyVariableObject(e)),this.tpl=this.tpl.replace(/[$#]\{([^$#}]+)}/gi,(function(t,n){return n.split("&")[0].split("->").reduce((function(e,t){return e[t]||""}),e)||n.split("&")[1]||""})),this.tpl},e.prototype.unifyVariableObject=function(e){for(var t in e)if(e.hasOwnProperty(t)&&t.indexOf(":")>0){var n=t.split(":");"object"==typeof e[n[0]]||(e[n[0]]={}),e[n[0]][n[1]]=e[t]}return e},e}(),_c=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Sc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ec=ta(0,1.01,.01).map((function(e){return Math.round(100*e)/100})),kc=function(){function e(e,t){var r=this;this._emitter=t,this.indexScss=n(3249),this.indexPug=n(4508),this.bannerLinePug=n(1206),this.stickerPug=n(8039),this.defaultSettings={defaultViewedPercent:.5,customViewedPercent:0,thresholdViewedTime:0,thresholdNoHoverTime:0,removeAfterResolve:!1,demo:!1,showPanel:-1!==location.search.indexOf("view_time=true")},this.indicators={panel:null,line:null,id:null,recording:null,inviewTimer:null,viewedIndicator:null,viewedIndicatorNotViewed:null,viewedIndicatorViewed:null,nohoverTimer:null,nohoverIndicator:null,nohoverIndicatorNotViewed:null,nohoverIndicatorViewed:null,reloadedIndicator:null,reloadedIndicatorNotViewed:null,reloadedIndicatorViewed:null,directionIndicator:null,sticker:null,stickerInView:null,stickerInViewTimer:null,stickerNoHoverTimer:null},this.inViewTimerStart=Date.now(),this.inViewPrevTimestamp=Date.now(),this.noHoverTimerStart=Date.now(),this.noHoverPrevTimestamp=Date.now(),this.inViewTimerCount=0,this.inViewSessionTime=0,this.noHoverTimerCount=0,this.noHoverTimerSessionTime=0,this._coveringPercent=0,this._updateCoveringPercent=function(e){r._coveringPercent!==e&&(r._coveringPercent=e,r._observer.unobserve(r.params.target),r._observer.observe(r.params.target))},this._handleDemoMode(e.demo),this.params=Object.assign(this.defaultSettings,e),this.params.target&&(this.preInit(),this.params.showPanel&&this.init(),this.postInit())}return e.prototype.attemptRefresh=function(e){var t=e.areaThreshold,n=e.timeThreshold,r=e.targetTimeThreshold;if(!this.isRefreshStarted){var i=this.getInViewTime(r),o=this.calculateInView(Ar(this.params.target));if(i>=n&&o>=t)return this.isRefreshStarted=!0,this._manualRefreshPromiseResolve("manualRefresh"),this.inViewTimerResolve(),this.noHoverTimerResolve(),!0}return!1},e.prototype.preInit=function(){var t=this;this._observer=new IntersectionObserver((function(e){var n=e&&e[0];t._inViewBannerPercent=100*n.intersectionRatio-n.intersectionRatio*t._coveringPercent}),{root:null,rootMargin:"0px",threshold:Ec}),this._observer.observe(this.params.target),this.params.target_id="".concat(this.params.target.id,"-").concat(Math.random().toString(36).replace(/[^a-z]+/g,"")),this.inViewTimerPromise=new Promise((function(e,n){t.inViewTimerReject=n,t.inViewTimerResolve=e})),this.noHoverTimerPromise=new Promise((function(e,n){t.noHoverTimerReject=n,t.noHoverTimerResolve=e})),this._manualRefreshPromise=new Promise((function(e,n){t._manualRefreshPromiseResolve=e,t._manualRefreshPromiseReject=n})),this.promise=new Promise((function(e,n){t.reject=n,t.resolve=e,Promise.race([t.inViewTimerPromise,t.noHoverTimerPromise]).then((function(){if(t.indicators.sticker){var e=Re(),n=Fr({rules:{background:"hsl(50, 100%, 33%)"},nonce:t._config.getConfigValue("STYLE_NONCE_VALUE"),className:e});t.indicators.sticker.parentElement.appendChild(n),t.indicators.sticker.classList.add(e)}})),Promise.all([t.inViewTimerPromise,t.noHoverTimerPromise]).then((function(){if(t.indicators.sticker){var n=Re(),r=Fr({rules:{background:"hsl(100, 100%, 33%)"},nonce:t._config.getConfigValue("STYLE_NONCE_VALUE"),className:n});t.indicators.sticker.parentElement.appendChild(r),t.indicators.sticker.classList.add(n)}t.params.removeAfterResolve?e():e(t._manualRefreshPromise)})).catch(n)})),e.timer.errorHandler=this.reject},e.prototype.init=function(){if(this.indicators.panel=this.indicators.panel||window.document.querySelector(".inview-timers-wrapper"),!this.indicators.panel){var t=window.document.createElement("div");t.className="inview-timers-wrapper",t.innerHTML=new wc(this.indexPug).evaluate({}),this.indicators.panel=window.document.body.appendChild(t);var n=window.document.createElement("style"),r=new wc(this.indexScss).evaluate({});void 0!==n.textContent?n.textContent=r:n.innerText=r,window.document.body.appendChild(n)}if(this.indicators.panel){var i=this.idOf(e.bannerSymbolIndex);e.bannerSymbolIndex+=1;var o=window.document.createElement("div");if(o.className="inview-timers__row",o.innerHTML=new wc(this.bannerLinePug).evaluate({symbol:i}),this.indicators.panel.appendChild(o),this.indicators.line=o,this.indicators.id=o.querySelector(".is-banner-id"),this.indicators.recording=o.querySelector(".is-recording-flag"),this.indicators.inviewTimer=o.querySelector(".is-inview-time"),this.indicators.viewedIndicator=o.querySelector(".is-viewed-indicator"),this.indicators.viewedIndicatorNotViewed=o.querySelector(".is-viewed-indicator .not-viewed-icon"),this.indicators.viewedIndicatorViewed=o.querySelector(".is-viewed-indicator .viewed-icon"),this.indicators.nohoverTimer=o.querySelector(".is-nohover-time"),this.indicators.nohoverIndicator=o.querySelector(".is-nohover-indicator"),this.indicators.nohoverIndicatorNotViewed=o.querySelector(".is-nohover-indicator .not-viewed-icon"),this.indicators.nohoverIndicatorViewed=o.querySelector(".is-nohover-indicator .viewed-icon"),this.indicators.reloadedIndicator=o.querySelector(".is-reloaded-indicator"),this.indicators.reloadedIndicatorNotViewed=o.querySelector(".is-reloaded-indicator .not-viewed-icon"),this.indicators.reloadedIndicatorViewed=o.querySelector(".is-reloaded-indicator .viewed-icon"),this.indicators.directionIndicator=o.querySelector(".is-direction-indicator svg"),this.params.removeAfterResolve)try{this.indicators.reloadedIndicatorNotViewed.classList.toggle("is-visible"),this.indicators.reloadedIndicatorViewed.classList.toggle("is-visible")}catch(e){}var a=window.document.createElement("div");a.className="inviewtime-sticker",a.innerHTML=new wc(this.stickerPug).evaluate({symbol:i}),this.indicators.sticker=a,this.indicators.stickerInView=a.querySelector(".inviewtime-sticker__inview"),this.indicators.stickerInViewTimer=a.querySelector(".inviewtime-sticker__inview-timer"),this.indicators.stickerNoHoverTimer=a.querySelector(".inviewtime-sticker__nohovertimer"),this._appendSticker(this.params.target,a)}},e.prototype.postInit=function(){var e=this;this.inViewTimerCount=0,this.noHoverTimerCount=0,this.browserIsActive=!0,this.inViewDone=!1,this.inViewActivity=!1,this.noHoverDone=!1,this.bannerWasUnderHover=!1,this.bannerIsUnderHover=!1,this.params.target.addEventListener("mouseenter",(function(){e.bannerIsUnderHover=!0})),this.params.target.addEventListener("mouseleave",(function(){e.bannerIsUnderHover=!1})),window.document.addEventListener("visibilitychange",this.checkBrowserWindowActivity.bind(this)),window.document.addEventListener("mozvisibilitychange",this.checkBrowserWindowActivity.bind(this)),window.document.addEventListener("webkitvisibilitychange",this.checkBrowserWindowActivity.bind(this)),window.document.addEventListener("msvisibilitychange",this.checkBrowserWindowActivity.bind(this)),window.addEventListener("pageshow",this.checkBrowserWindowActivity.bind(this)),window.addEventListener("pagehide",this.checkBrowserWindowActivity.bind(this)),window.addEventListener("focus",this.checkBrowserWindowActivity.bind(this)),window.addEventListener("blur",this.checkBrowserWindowActivity.bind(this))},e.prototype.checkBrowserWindowActivity=function(e){var t={focus:!0,focusin:!0,pageshow:!0,blur:!1,focusout:!1,pagehide:!1},n=e||window.event;n.type in t?this.browserIsActive=t[n.type]:this.browserIsActive=!document.hidden,this.noHoverPrevTimestamp=Date.now(),this.inViewPrevTimestamp=Date.now(),this.inViewTimerStart=Date.now(),this.noHoverTimerStart=Date.now()},e.prototype.idOf=function(e){return(e>=26?this.idOf((e/26>>0)-1):"")+"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e%26>>0]},e.prototype.calculateInView=function(e){var t,n=this;if(this.indicators.directionIndicator){var r=(e.top-.5*window.innerHeight)/(void 0===t&&(t=window),No(t)?Math.max(t.document.body.scrollHeight,t.document.body.clientHeight,t.document.body.offsetHeight,t.document.documentElement.scrollHeight,t.document.documentElement.offsetHeight,t.document.documentElement.clientHeight):NaN);["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach((function(e){n.indicators.directionIndicator.style[e]="rotate(".concat(90*-r,"deg)")}))}if(this.indicators.recording&&(this.indicators.recording.innerHTML="".concat(Math.round(this._inViewBannerPercent),"%"),this.indicators.stickerInView.innerHTML="&nbsp;".concat(this.indicators.recording.innerHTML,"&nbsp;|")),this.indicators.line){var i="hsl(".concat(Math.round(this._inViewBannerPercent),", 100%, ").concat(Math.round(this._inViewBannerPercent/3),"%)"),o=Re(),a=Fr({className:o,rules:{color:i,fill:i},nonce:this._config.getConfigValue("STYLE_NONCE_VALUE")});this.indicators.line.classList.add(o),this.indicators.line.parentElement.appendChild(a)}return this._inViewBannerPercent},e.prototype.calculateInViewActivity=function(){if(Ir(this.params.target,window.document)){var e=void 0;e=this.params.customViewedPercent?.01*this.params.customViewedPercent:this.params.defaultViewedPercent;var t=Ar(this.params.target),n=this.calculateInView(t)||0;return!1===this.inViewActivity?(this.inViewPrevTimestamp=Date.now(),this.inViewTimerStart=Date.now(),this.noHoverTimerStart=Date.now(),this._recalcNoHoverTotalTime(),.01*n>=e):(this._recalcNoHoverTotalTime(),.01*n<e?(this.inViewPrevTimestamp=Date.now(),this.inViewTimerStart=Date.now(),this.noHoverTimerStart=Date.now(),!1):(this.inViewTimerCount+=Date.now()-this.inViewPrevTimestamp,this.inViewPrevTimestamp=Date.now(),!0))}return!1},e.prototype.calculateNoHoverActivity=function(){return this.bannerWasUnderHover?!this.bannerIsUnderHover||(this.noHoverTimerStart=Date.now(),!1):(this.noHoverTimerStart=Date.now(),!this.bannerIsUnderHover)},e.prototype.clean=function(){var t;null===(t=this._observer)||void 0===t||t.disconnect(),this._coveringWatcher.unsubscribe(this.params.target.id,this._updateCoveringPercent),e.timer.unsubscribe(this._ID),this.indicators.line&&this.indicators.line.parentNode.removeChild(this.indicators.line),this.indicators.sticker&&this.indicators.sticker.parentNode&&this.indicators.sticker.parentNode.removeChild(this.indicators.sticker)},e.prototype.formatTimer=function(e,t){return t?"".concat(this.formatTime(e),"<hr/>").concat(this.formatTime(t)):"".concat(this.formatTime(e))},e.prototype.formatTime=function(e){var t=~~(e/3600),n=~~(e%3600/60),r=e%60,i="";return i=t?"".concat(t,":").concat(this.padZero(n),":").concat(this.padZero(r)):n?"".concat(n,":").concat(this.padZero(r)):"".concat(r.toFixed(r>=10?1:2)),"&nbsp;".concat(i,"&nbsp;")},e.prototype.padZero=function(e){return"".concat(e=~~e).length<2?"0".concat(e):e},e.prototype.getInViewTime=function(e){var t;switch(e){case Ls.total:t=this.inViewTimerCount;break;case Ls.session:default:t=this.browserIsActive?Date.now()-this.inViewTimerStart:0}return parseFloat((.001*t).toFixed(2))},e.prototype._getNoHoverTime=function(e){var t;if("total"===e)t=this.noHoverTimerCount;else t=this.bannerIsUnderHover||!this.browserIsActive?0:Date.now()-this.noHoverTimerStart;return parseFloat((.001*t).toFixed(2))},e.prototype.canCleanTimer=function(){if(this._selfDestructionTime){if((new Date).getTime()-this._selfDestructionTime.getTime()>1e3)return!0}else this._selfDestructionTime=new Date;return!1},e.prototype._toggleViewedIndicator=function(e){this.indicators.viewedIndicatorViewed&&this.indicators.viewedIndicatorViewed.classList[e?"add":"remove"]("is-visible"),this.indicators.viewedIndicatorNotViewed&&this.indicators.viewedIndicatorNotViewed.classList[e?"remove":"add"]("is-visible")},e.prototype._toggleNoHoverIndicator=function(e){this.indicators.nohoverIndicatorViewed&&this.indicators.nohoverIndicatorViewed.classList[e?"add":"remove"]("is-visible"),this.indicators.nohoverIndicatorNotViewed&&this.indicators.nohoverIndicatorNotViewed.classList[e?"remove":"add"]("is-visible")},e.prototype._handleDemoMode=function(e){e&&(this.defaultSettings.thresholdViewedTime=1,this.defaultSettings.thresholdNoHoverTime=1)},e.prototype._fixStickerPosition=function(){var e=this,t=this.indicators.sticker.parentElement.getBoundingClientRect(),n=this.indicators.sticker.getBoundingClientRect(),r="".concat(Math.min(t.height-n.height,-Math.min(t.top,0)),"px"),i="".concat(Math.min(t.width-n.width,-Math.min(t.left,0)),"px");["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach((function(t){e.indicators.sticker.style[t]="translate(".concat(i,", ").concat(r,")")}))},e.prototype._startTimer=function(){this._coveringWatcher.subscribe(this.params.target.id,this._updateCoveringPercent),this._ID=e.timer.subscribe({callback:this._watch,context:this,params:[]})},e.prototype._emitCurrentState=function(){this._emitter.dispatch("inView",this.params.adContainerID,null,[{actualTarget:this.params.target,currentInViewPercent:this._inViewBannerPercent,totalInViewTime:this.getInViewTime(Ls.total),sessionInViewTime:this.getInViewTime(Ls.session),noHoverTime:this._getNoHoverTime("session")}])},e.prototype._watch=function(){},e.prototype._recalcNoHoverTotalTime=function(){this.calculateNoHoverActivity()?(this.noHoverTimerCount+=Date.now()-this.noHoverPrevTimestamp,this.noHoverPrevTimestamp=Date.now()):(this.noHoverTimerCount=0,this.noHoverPrevTimestamp=Date.now())},e.prototype._appendSticker=function(e,t){"IFRAME"!==e.tagName&&"IMG"!==e.tagName?(Yr(this.params.target),e.appendChild(t)):(Yr(this.params.target.parentElement),e.parentElement.insertBefore(t,e))},e.bannerSymbolIndex=0,e.timer=V.getInstance().init(100),_c([ue(ee.CoveringWatcher),Sc("design:type",Js)],e.prototype,"_coveringWatcher",void 0),_c([ue(ee.Config),Sc("design:type",Object)],e.prototype,"_config",void 0),e}(),Oc=kc,Tc=(bc=function(e,t){return bc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},bc(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}bc(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),xc=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._startTimer(),r}return Tc(t,e),t.prototype._watch=function(){if(this.params.target.clientWidth<15||this.params.target.clientHeight<15)this.canCleanTimer()&&this.clean();else{if(this.indicators.sticker&&this._fixStickerPosition(),this.browserIsActive&&(this.inViewActivity=this.calculateInViewActivity(),this.inViewActivity)){var e=this.getInViewTime();if(this.inViewDone||(this.indicators.nohoverTimer&&(this.indicators.inviewTimer.innerHTML=this.formatTimer(e,this.params.thresholdViewedTime),this.params.thresholdViewedTime?this.indicators.stickerInViewTimer.innerHTML="".concat(this.indicators.inviewTimer.innerHTML.replace("<","|<"),"|"):this.indicators.stickerInViewTimer.innerHTML="".concat(this.indicators.inviewTimer.innerHTML,"|")),0!==this.params.thresholdViewedTime&&e>=this.params.thresholdViewedTime&&(this.inViewDone=!0,this.inViewTimerResolve(),this.noHoverDone&&this.noHoverTimerResolve(),this._toggleViewedIndicator(!0))),this.bannerWasUnderHover=this.calculateNoHoverActivity(),this.bannerWasUnderHover){if(!this.noHoverDone){var t=this._getNoHoverTime();this.indicators.nohoverTimer&&(this.indicators.nohoverTimer.innerHTML=this.formatTimer(t,this.params.thresholdNoHoverTime),this.indicators.stickerNoHoverTimer.innerHTML=this.indicators.nohoverTimer.innerHTML),0!==this.params.thresholdNoHoverTime&&t>=this.params.thresholdNoHoverTime&&(this.noHoverDone=!0,this.inViewDone&&this.noHoverTimerResolve(),this._toggleNoHoverIndicator(!0))}}else this.noHoverDone=!1,this._toggleNoHoverIndicator(!1)}this._emitCurrentState()}},t}(Oc),Cc=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Pc=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._startTimer(),r}return Cc(t,e),t.prototype._watch=function(){if(this.params.target.clientWidth<15||this.params.target.clientHeight<15)this.canCleanTimer()&&this.clean();else if(this.indicators.sticker&&this._fixStickerPosition(),this.browserIsActive&&(this.inViewActivity=this.calculateInViewActivity(),this.inViewActivity)){var e=this.getInViewTime();if(this.indicators.nohoverTimer&&(this.indicators.inviewTimer.innerHTML=this.formatTimer(e),this.params.thresholdViewedTime?this.indicators.stickerInViewTimer.innerHTML=this.indicators.inviewTimer.innerHTML.replace("<","|<"):this.indicators.stickerInViewTimer.innerHTML="".concat(this.indicators.inviewTimer.innerHTML,"|")),0!==this.params.thresholdViewedTime&&e>=this.params.thresholdViewedTime&&(this._toggleViewedIndicator(!0),this.inViewDone=!0,this.inViewTimerResolve(),this.noHoverDone&&this.noHoverTimerResolve()),this.bannerWasUnderHover=this.calculateNoHoverActivity(),this.bannerWasUnderHover){var t=this._getNoHoverTime();this.indicators.nohoverTimer&&(this.indicators.nohoverTimer.innerHTML=this.formatTimer(t),this.indicators.stickerNoHoverTimer.innerHTML=this.indicators.nohoverTimer.innerHTML),0!==this.params.thresholdNoHoverTime&&t>=this.params.thresholdNoHoverTime&&(this._toggleNoHoverIndicator(!0),this.inViewDone&&this.noHoverTimerResolve(),this._toggleNoHoverIndicator(!0))}else this.noHoverDone=!1,this._toggleNoHoverIndicator(!1)}this._emitCurrentState()},t}(Oc),Ic=function(e,t){return e.demo?new Pc(e,t):new xc(e,t)},Rc=function(){return Rc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Rc.apply(this,arguments)},Ac=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Dc=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jc=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Bc=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Lc=Y(n(9385));!function(e){e.BANNER="banner",e.BLOCK="block"}(yc||(yc={}));var Nc=function(){function e(){this.VIEW_DEMO="view_demo=true",this.inViewTimerReloadCounter={}}return e.prototype.startInViewTimer=function(e){var t=e.adWrapperID,n=e.sspOptions,r=e.blockOptions,i=e.bannerPlace,o=e.impressionID;return jc(this,void 0,void 0,(function(){var e,a,s,c,u,l;return Bc(this,(function(p){switch(p.label){case 0:e=r["begun-block-id"],p.label=1;case 1:return p.trys.push([1,6,,7]),a=ic(t),s=this.getReloadingSettings({impressionID:o,blockOptions:r}),c=void 0,s?(u=!1,s.settings.nonReloadable&&(u=this.isNonReloadablePlace(o,s.settings.nonReloadable)),[4,this.initInViewTimerWithSettings(s,{adWrapperID:a,bannerPlace:i,blockID:e,nonReloadable:u})]):[3,3];case 2:return c=p.sent(),[3,5];case 3:return[4,this.initInViewTimerWithoutSettings(a,i)];case 4:c=p.sent(),p.label=5;case 5:return c?[2,this.adInitializer.ssp(a,n,Rc(Rc({},r),{forceNewSession:!0}))]:[3,7];case 6:return l=p.sent(),Lc.log(500,"Error during InViewTimerStarter execution",{blockID:e,Error:l}),[3,7];case 7:return[2]}}))}))},e.prototype.initInViewTimerWithSettings=function(e,t){var n=t.adWrapperID,r=t.bannerPlace,i=t.blockID,o=t.nonReloadable;return jc(this,void 0,void 0,(function(){var t,a,s,c=this;return Bc(this,(function(u){return e.settingsType===yc.BANNER?(a=Rc({target:r,removeAfterResolve:!0,adContainerID:n,demo:pe(window).includes(this.VIEW_DEMO)},e.settings),s=Ic(a,this.begunAutocontext.Callbacks),this.adInitializer.inViewTimers[n]=s,[2,s.promise.then((function(e){return c.checkRefreshAvailability({doesInViewTimerParamsExist:!0,inViewTimerResolveValue:e,nodeID:n,nonReloadable:o})}))]):e.settingsType===yc.BLOCK?(void 0===this.inViewTimerReloadCounter[i]&&(this.inViewTimerReloadCounter[i]=e.settings&&e.settings.inViewTimerReloadCounter||15),t=this.inViewTimerReloadCounter[i]>0,a=Rc({target:r,removeAfterResolve:t,adContainerID:n,demo:pe(window).includes(this.VIEW_DEMO)},e.settings),s=Ic(a,this.begunAutocontext.Callbacks),this.adInitializer.inViewTimers[n]=s,[2,s.promise.then((function(e){return!!c.checkRefreshAvailability({doesInViewTimerParamsExist:t,inViewTimerResolveValue:e,nodeID:n,nonReloadable:o})&&(c.inViewTimerReloadCounter[i]-=1,!0)}))]):[2]}))}))},e.prototype.initInViewTimerWithoutSettings=function(e,t){return jc(this,void 0,void 0,(function(){var n,r,i=this;return Bc(this,(function(o){return n={target:t,removeAfterResolve:!1,adContainerID:e,demo:pe(window).includes(this.VIEW_DEMO)},r=Ic(n,this.begunAutocontext.Callbacks),this.adInitializer.inViewTimers[e]=r,[2,r.promise.then((function(t){return i.checkRefreshAvailability({doesInViewTimerParamsExist:!1,inViewTimerResolveValue:t,nodeID:e})}))]}))}))},e.prototype.getReloadingSettings=function(e){var t=e.impressionID,n=e.blockOptions,r=this.getBannerReloadingSettings(t);if(r)return{settings:r,settingsType:yc.BANNER};var i=this.getPlatformBlockReloadingSettings(n)||this.getBlockReloadingSettings(t);return i?{settings:i,settingsType:yc.BLOCK}:void 0},e.prototype.checkRefreshAvailability=function(e){var t=e.doesInViewTimerParamsExist,n=e.inViewTimerResolveValue,r=e.nodeID,i=e.nonReloadable;return(t||"manualRefresh"===n)&&!(void 0!==i&&i)&&!this.syncShow.isSessionBanner({nodeID:r})},e.prototype.getBannerReloadingSettings=function(e){if(e){var t,n,r=(t=this.begunAutocontext.savedFeeds[e].feed,void 0===(n=this.store.get("".concat(e,".nbanner")))&&(n=0),t&&t.banners&&t.banners.graph&&t.banners.graph[n]&&"object"==typeof t.banners.graph[n]&&t.banners.graph[n].frontend_params&&t.banners.graph[n].frontend_params.reload_thresholds);return r||void 0}},e.prototype.getBlockReloadingSettings=function(e){if(e)return(this.begunAutocontext.savedFeedsOptions[e]||{}).inViewTimer},e.prototype.getPlatformBlockReloadingSettings=function(e){return"object"==typeof e.startInViewTimer&&e.startInViewTimer||void 0},e.prototype.isNonReloadablePlace=function(e,t){var n=this.store.get("".concat(e,".nbanner"))||0,r=this.begunAutocontext.savedFeeds[e].feed.banners.graph[n].user_id;return t.some((function(e){return r===Number(e)}))},Ac([ue(ee.BegunAutocontext),Dc("design:type",Object)],e.prototype,"begunAutocontext",void 0),Ac([ue(ee.SyncShow),Dc("design:type",Io)],e.prototype,"syncShow",void 0),Ac([ue(ee.Store),Dc("design:type",Object)],e.prototype,"store",void 0),Ac([ue(ee.MethodsInitializer),Dc("design:type",Object)],e.prototype,"adInitializer",void 0),e}(),Fc=Nc,Mc=function(e){pe(window).includes("capirs_log_statuses")&&console.log(e)},Vc=function(){return Vc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Vc.apply(this,arguments)},qc=function(e){var t=parseInt(void 0,10);if(!t||0===t)return Vc({},e);var n=e["begun-misc"]||0;return Vc(Vc({},e),{"begun-misc":t<<4|n})},Hc=function(e,t){return function(n,r,i){var o=i.value;i.value=function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var a=n[e];return!a||a.calledMethod&&!t||(a.calledMethod=r),o.apply(this,n)}}},Uc=function(e){return(e.context&&e.context.location||e.document&&e.document.location).href},Wc=function(e){return(e.context&&e.context.location||e.document&&e.document.location).hostname},zc=n(6451),Gc="Subscription check timeout",Xc=["www.gazeta.ru","m.gazeta.ru","pg.gazeta.ru","pda2.pg.gazeta.ru","s1.m.lenta.ru","s2.m.lenta.ru","s3.m.lenta.ru","s4.m.lenta.ru","s1.pwa.lenta.ru","s2.pwa.lenta.ru","s3.pwa.lenta.ru","s4.pwa.lenta.ru","s1.dove.lenta.ru","s2.dove.lenta.ru","s3.dove.lenta.ru","s4.dove.lenta.ru","lenta.ru","m.lenta.ru"],Jc="CAPIRS_CONFIG",Kc=function(e){return void 0===e?null:e},Yc=function(e){return void 0===e&&(e=Jc),window[e]?Kc(window[e].REMOVE_ADVERTISING_BY_SUBSCRIPTION):null},Zc=function(e){var t=e.primeResponse,n=void 0===t?null:t,r=e.options,i=void 0===r?{}:r,o=e.timeout,a=void 0!==o&&o,s=e.error;if(Uc(window).includes("capirs_log_prime")){var c=Xc.includes(Wc(window)),u=Yc();console.group("Prime subscription check info: "),console.log("Prime response: ",n),console.log("REMOVE_BY_SUBSCRIPTION flag: ",u),console.log("Domain is in supported list: ",c),console.log("Passed options to Prime API: ",i),console.log("SubscriptionCheckTimeout fired: ",a),console.log("Caught error: ",s),console.groupEnd()}},$c=function(){return $c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$c.apply(this,arguments)},Qc=function(){function e(){this._subscriptionCall=null}return e.prototype.isSubscribed=function(t){var n=this,r=void 0===t?e.defaultArguments:t,i=r.timeout,o=void 0===i?5e3:i,a=r.options;if(!this._shouldPerformsSubscriptionCheck())return Zc({options:a}),Promise.resolve(!1);var s,c=$c({referrer:(void 0===s&&(s=Jc),(window[s]?Kc(window[s].CANONICAL_URL):null)||Uc(window))},a);return this._subscriptionCall=new Promise((function(e,t){n._performSubscriptionCheckCall(c).then(e),setTimeout((function(){t(Gc)}),o)})),this._subscriptionCall.catch((function(e){return e===Gc&&Zc({options:c,timeout:!0}),Promise.reject(e)}))},e.prototype._performSubscriptionCheckCall=function(e){return new Promise((function(t){zc.primeHelper.getSubscription(e,(function(n,r){if(n)return Zc({options:e,error:n}),void t(!1);Zc({options:e,primeResponse:r}),t(r)}))}))},e.prototype._shouldPerformsSubscriptionCheck=function(){var t=Yc();return"boolean"==typeof t?t:e.supportedPlatforms.includes(Wc(window))},e.defaultArguments={options:{},timeout:5e3},e.supportedPlatforms=Xc,e}(),eu=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},tu=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},nu=new Qc,ru=function(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return eu(this,void 0,void 0,(function(){var t,n,i,o;return tu(this,(function(a){switch(a.label){case 0:return t=performance.now(),[4,nu.isSubscribed().catch((function(e){return e===Gc&&X.log(500,"Subscription check timeout"),!1}))];case 1:return n=a.sent(),i=Math.round(performance.now()-t),n?(o={reason:Sn.SubscriptionIsPurchased,status:!1},Mc(o),Er(e[2],{blocktype:"has_subscription",prime_time:i}),[2,o]):[2,r.apply(this,e)]}}))}))}},iu=function(){return iu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},iu.apply(this,arguments)},ou=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},au=function(e,t,n){var r=n.value;n.value=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[2],i=iu(iu({},n),{wipeBeforeRender:"boolean"!=typeof n.wipeBeforeRender||n.wipeBeforeRender,wipeImmediately:"boolean"!=typeof n.wipeImmediately||n.wipeImmediately});return r.call.apply(r,ou(ou(ou([this],e.slice(0,2),!1),[i],!1),e.slice(3),!1))}};var su=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var cu=function(e,t,n){"__proto__"==t&&$t?$t(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},uu=Object.prototype.hasOwnProperty;var lu=function(e,t,n){var r=e[t];uu.call(e,t)&&Ui(r,n)&&(void 0!==n||t in e)||cu(e,t,n)};var pu=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?cu(n,s,c):lu(n,s,c)}return n};var du=function(e,t){return e&&pu(t,Wa(t),e)};var hu=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},fu=Object.prototype.hasOwnProperty;var vu=function(e){if(!nt(e))return hu(e);var t=Ma(e),n=[];for(var r in e)("constructor"!=r||!t&&fu.call(e,r))&&n.push(r);return n};var gu=function(e){return Uo(e)?Na(e,!0):vu(e)};var mu=function(e,t){return e&&pu(t,gu(t),e)},bu=n(2896);var yu=function(e,t){return pu(e,xa(e),t)},wu=Va(Object.getPrototypeOf,Object),_u=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ct(t,xa(e)),e=wu(e);return t}:ka;var Su=function(e,t){return pu(e,_u(e),t)};var Eu=function(e){return Sa(e,gu,_u)},ku=Object.prototype.hasOwnProperty;var Ou=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ku.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var Tu=function(e){var t=new e.constructor(e.byteLength);return new ga(t).set(new ga(e)),t};var xu=function(e,t){var n=t?Tu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Cu=/\w*$/;var Pu=function(e){var t=new e.constructor(e.source,Cu.exec(e));return t.lastIndex=e.lastIndex,t},Iu=lt?lt.prototype:void 0,Ru=Iu?Iu.valueOf:void 0;var Au=function(e){return Ru?Object(Ru.call(e)):{}};var Du=function(e,t){var n=t?Tu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var ju=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Tu(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return xu(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Du(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Pu(e);case"[object Symbol]":return Au(e)}};var Bu=function(e){return"function"!=typeof e.constructor||Ma(e)?{}:it(wu(e))};var Lu=function(e){return wt(e)&&"[object Map]"==cs(e)},Nu=Da.Z&&Da.Z.isMap,Fu=Nu?Aa(Nu):Lu;var Mu=function(e){return wt(e)&&"[object Set]"==cs(e)},Vu=Da.Z&&Da.Z.isSet,qu=Vu?Aa(Vu):Mu,Hu="[object Arguments]",Uu="[object Function]",Wu="[object Object]",zu={};zu[Hu]=zu["[object Array]"]=zu["[object ArrayBuffer]"]=zu["[object DataView]"]=zu["[object Boolean]"]=zu["[object Date]"]=zu["[object Float32Array]"]=zu["[object Float64Array]"]=zu["[object Int8Array]"]=zu["[object Int16Array]"]=zu["[object Int32Array]"]=zu["[object Map]"]=zu["[object Number]"]=zu[Wu]=zu["[object RegExp]"]=zu["[object Set]"]=zu["[object String]"]=zu["[object Symbol]"]=zu["[object Uint8Array]"]=zu["[object Uint8ClampedArray]"]=zu["[object Uint16Array]"]=zu["[object Uint32Array]"]=!0,zu["[object Error]"]=zu[Uu]=zu["[object WeakMap]"]=!1;var Gu=function e(t,n,r,i,o,a){var s,c=1&n,u=2&n,l=4&n;if(r&&(s=o?r(t,i,o,a):r(t)),void 0!==s)return s;if(!nt(t))return t;var p=xt(t);if(p){if(s=Ou(t),!c)return vn(t,s)}else{var d=cs(t),h=d==Uu||"[object GeneratorFunction]"==d;if((0,Pa.Z)(t))return(0,bu.Z)(t,c);if(d==Wu||d==Hu||h&&!o){if(s=u||h?{}:Bu(t),!c)return u?Su(t,mu(s,t)):yu(t,du(s,t))}else{if(!zu[d])return o?t:{};s=ju(t,d,c)}}a||(a=new ca);var f=a.get(t);if(f)return f;a.set(t,s),qu(t)?t.forEach((function(i){s.add(e(i,n,r,i,t,a))})):Fu(t)&&t.forEach((function(i,o){s.set(o,e(i,n,r,o,t,a))}));var v=l?u?Eu:za:u?keysIn:Wa,g=p?void 0:v(t);return su(g||t,(function(i,o){g&&(i=t[o=i]),lu(s,o,e(i,n,r,o,t,a))})),s};var Xu,Ju=function(e){return Gu(e,5)},Ku=function(e,t){var n=Ju(e);return(null==t?void 0:t.pageNumber)&&Number(t.pageNumber)>0?n.pageNumber=Number(t.pageNumber):n.pageNumber=0,n},Yu=["gazeta.ru","auto.rambler.ru","doctor.rambler.ru","finance.rambler.ru","games.rambler.ru","kino.rambler.ru","news.rambler.ru","sport.rambler.ru","travel.rambler.ru","weekend.rambler.ru","woman.rambler.ru","horoscopes.rambler.ru","m.horoscopes.rambler.ru","weather.rambler.ru","m.weather.rambler.ru"],Zu=function(e,t){var n,r;void 0===t&&(t={}),e.params=e.params||{};var i,o,a,s,c=Ju(t);c.puid42=function(e){void 0===e&&(e=1e5);var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;return t?t.downlink>e?void 0:t.downlink:void 0}(),c.pli=t.pli?t.pli:"a",c.plp=t.plp?t.plp:"a",c.pop=t.pop?t.pop:"a",i=new URL(pe(window)),o=i.hostname,a=function(e,t){for(var n=!1,r=0;r<e.length;r++)if(t.includes(e[r])){n=!0;break}return n}(Yu,o),s=i.searchParams.has("updated")||i.searchParams.has("refresh"),a&&s&&(c.puid62=t.puid62?t.puid62:"30"),(null===(r=null===(n=window.Adf)||void 0===n?void 0:n.util)||void 0===r?void 0:r.nolimits)&&(c.pli="a",c.plp="a",c.pop="a"),e.params=c},$u=function(e,t){return function(n,r,i){var o=i.value;i.value=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=n[t],a=n[e];return Zu(i,a),o.apply(this,n)}}},Qu=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},el=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},tl=function(){function e(){var e,t,n=this;this._handleLocationChange=function(){n._store.set("rq_sess",n.genNewRequestToken())},this._initRequestToken(),this._eventEmitter.register(((e={})[ae.PAGE]=((t={})[se.SPA_UPDATE]=this._handleLocationChange,t),e)),(0,Oo.addEventListener)(window,"changestate",this._handleLocationChange)}return e.prototype.getPageRequestToken=function(){return this._store.get("rq_sess")},e.prototype.genNewRequestToken=function(){for(var e="",t=0;t<32;)e+=Math.floor(16*Math.random()).toString(16),t+=1;return e.toUpperCase()},e.prototype._initRequestToken=function(){this._store.get("rq_sess")||this._store.set("rq_sess",this.genNewRequestToken())},Qu([ue(ee.Store),el("design:type",Object)],e.prototype,"_store",void 0),Qu([ue(ee.EventEmitter),el("design:type",Object)],e.prototype,"_eventEmitter",void 0),e}(),nl="adtech_uid",rl=n(7690),il=function(){function e(){this.cookieStore=new rl.Z}return e.prototype.getItem=function(e){var t=this.cookieStore.getItem(!0,e,!1);return"boolean"!=typeof t&&t},e.prototype.setItem=function(e,t,n){return this.cookieStore.setItem(!0,e,t,365,"/",n,"https:"===location.protocol,!1)},e}(),ol=new Uint8Array(16);function al(){if(!Xu&&!(Xu="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Xu(ol)}var sl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var cl=function(e){return"string"==typeof e&&sl.test(e)},ul=[],ll=0;ll<256;++ll)ul.push((ll+256).toString(16).substr(1));var pl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ul[e[t+0]]+ul[e[t+1]]+ul[e[t+2]]+ul[e[t+3]]+"-"+ul[e[t+4]]+ul[e[t+5]]+"-"+ul[e[t+6]]+ul[e[t+7]]+"-"+ul[e[t+8]]+ul[e[t+9]]+"-"+ul[e[t+10]]+ul[e[t+11]]+ul[e[t+12]]+ul[e[t+13]]+ul[e[t+14]]+ul[e[t+15]]).toLowerCase();if(!cl(n))throw TypeError("Stringified UUID is invalid");return n};var dl=function(e,t,n){var r=(e=e||{}).random||(e.rng||al)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return pl(r)};var hl=function(e){if(!cl(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)};var fl,vl=function(){function e(){this.uuid="",this.scope=""}return e.prototype.parse=function(e){try{var t=e.split(":");if(2!==t.length)return!1;var n=t[0],r=t[1];return!!function(e){return cl(e)&&4===hl(e)}(n)&&(this.uuid=n,this.scope=r,!0)}catch(e){return!1}},e.prototype.getID=function(){return{scope:this.scope,uuid:this.uuid}},e.prototype.generate=function(e){this.uuid=dl(),this.scope=e},e.prototype.getJoined=function(){return[this.uuid,this.scope].join(":")},e}(),gl=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},ml=function(){function e(){this.storeFacade=new il}return e.prototype.getID=function(){var e=this.storeFacade.getItem(nl);return e?this.getCurrentUID(e):this.generateAndSave()},e.prototype.generateAndSave=function(){var e=this.getScopeDomains(),t=this.tryToSetAllDomains(e);return t?t.getID():{scope:null,uuid:null}},e.prototype.getCurrentUID=function(e){var t=new vl;if(t.parse(e)){var n=t.getID();return n.scope&&n.uuid&&this.storeFacade.setItem(nl,e,n.scope),n}return this.generateAndSave()},e.prototype.tryToSetAllDomains=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=new vl;r.generate(n);var i=r.getJoined();if(this.storeFacade.setItem(nl,i,n))return r}},e.prototype.getScopeDomains=function(e){void 0===e&&(e=location.hostname);var t=e.split(".");if(t.length<=1)return t;for(var n=[],r=0;r<t.length-1;r++){var i=t[r];n.unshift(gl([i],t.slice(r+1),!0).join("."))}return n},e}(),bl=function(e,t,n){for(var r in void 0===n&&(n={}),e)e.hasOwnProperty(r)&&("object"==typeof e[r]&&null!==e[r]?(n[r]={},bl(e[r],t,n[r])):n[r]=t(e[r]));return n},yl=n(861),wl=function(){try{return navigator.getBattery().then((function(e){var t={charging:e.charging,charging_time:e.chargingTime,discharging_time:e.dischargingTime,level:e.level};return JSON.stringify(t)})).catch((function(e){return console.error("".concat(e.name,": ").concat(e.message)),""}))}catch(e){return""}},_l=function(){try{return navigator.mediaDevices.enumerateDevices().then((function(e){var t=[];return e.forEach((function(e){t.push({device_id:e.deviceId,group_id:e.groupId,kind:e.kind,label:e.label})})),JSON.stringify(t)})).catch((function(e){return console.error("".concat(e.name,": ").concat(e.message)),""}))}catch(e){return""}},Sl=function(){try{return navigator.permissions.query({name:"local-fonts"}).then((function(e){return"granted"===e.state?window.queryLocalFonts().then((function(e){var t=[];return e.forEach((function(e){t.push(e.family)})),JSON.stringify(t)})).catch((function(e){return console.error("".concat(e.name,": ").concat(e.message)),""})):""})).catch((function(e){return console.error("".concat(e.name,": ").concat(e.message)),""}))}catch(e){return""}},El=function(){return El=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},El.apply(this,arguments)},kl=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ol=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Tl=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},xl=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cl=function(){function e(e){var t=e.block,n=e.callbackName,r=e.divID;this._reqParams=El({},b),this._block=t,this._uid=new ml,this._divID=r,this._callbackName=n}return e.prototype.getRequestParams=function(){return this._reqParams},e.prototype.setLocationParams=function(){var e,t;(null===(t=null===(e=window.context)||void 0===e?void 0:e.location)||void 0===t?void 0:t.href)?(this._reqParams.ref=ze(window.context.referrer),this._reqParams.url=ze(window.context.location.href)):(this._reqParams.ref=ze(document.referrer),this._reqParams.url=ze(document.URL))},e.prototype.setAuthParams=function(){var e=this._block.authParams;e&&(this._reqParams.authParams=e)},e.prototype.setFpParams=function(){return Tl(this,void 0,void 0,(function(){var e;return xl(this,(function(t){switch(t.label){case 0:return e=this._reqParams,[4,this._userID.getJsonFpParams()];case 1:return e.fpParams=t.sent(),[2]}}))}))},e.prototype.setFrameParams=function(){var e=this.getFrameLevel();if(e){this._reqParams.frm_level=e;try{this._reqParams.frm_top=top.location.href}catch(e){this._reqParams.frm_top="top_not_accessible"}}},e.prototype.setBlockParams=function(){var e=this._block.pad_id;this._reqParams.pad_id=e,this.setOrGetExistingRequestParam(e,"requested")&&(this._reqParams.first="1",this.Storage.set(e,{rq:parseInt(this._config.getConfigValue("RQ_COUNT"),10)||0})),this._block.block_id&&(this._reqParams.block_id="".concat(this._block.block_id))},e.prototype.setScreenParams=function(){this._reqParams.screenw=window.screen.width,this._reqParams.screenh=window.screen.height,this._reqParams.winw=function(e){return e.context&&e.context.initialIntersection&&e.context.initialIntersection.rootBounds&&void 0!==e.context.initialIntersection.rootBounds.width?e.context.initialIntersection.rootBounds.width:e.innerWidth}(window),this._reqParams.winh=function(e){return e.context&&e.context.initialIntersection&&e.context.initialIntersection.rootBounds&&e.context.initialIntersection.rootBounds.height?e.context.initialIntersection.rootBounds.height:e.innerHeight}(window)},e.prototype.setSessionParams=function(){if(void 0!==this._block.rqNumber)this._reqParams.rq=this._block.rqNumber;else{var e=this._block.pad_id;this._reqParams.rq=this.Storage.get(e).rq,this.Storage.incProperty(e,"rq")}this._reqParams.rq_type=0,this._reqParams.rq_sess=this._block.force_new_session?this._sspRequestsSessionsStorage.genNewRequestToken():this._sspRequestsSessionsStorage.getPageRequestToken(),this._reqParams.skey=this._block.session_key||""},e.prototype.setUserIdentifiers=function(){return Tl(this,void 0,void 0,(function(){var e,t;return xl(this,(function(n){switch(n.label){case 0:return e=this._uid.getID(),[4,this._userID.getFingerPrint()];case 1:return t=n.sent()||this._userID.getBaseFingerprint(),this._reqParams.fpruid=t,e.uuid&&e.scope&&(this._reqParams.adtech_uid=e.uuid,this._reqParams.adtech_uid_scope=e.scope),this._block.publisher_uid&&this._block.publisher_uid_scope&&(this._reqParams.publisher_uid=this._block.publisher_uid,this._reqParams.publisher_uid_scope=this._block.publisher_uid_scope),[2]}}))}))},e.prototype.setBrowserParams=function(){this._reqParams=El(El({},this._reqParams),Ve({browser_family:this._uaparser.getBrowser().name,browser_version:this._uaparser.getBrowser().version,os_family:this._uaparser.getOS().name,os_version:this._uaparser.getOS().version,device_type:Fe(this._uaparser.getDevice().type)}))},e.prototype.setJparams=function(){this._reqParams.jparams=JSON.stringify(bl(this._block.jparams,(function(e){return"number"==typeof e?e.toString():e})))},e.prototype.setAntiFraudParams=function(){return Tl(this,void 0,void 0,(function(){var e,t,n,r,i;return xl(this,(function(o){switch(o.label){case 0:return[4,wl()];case 1:return e=o.sent(),[4,_l()];case 2:return t=o.sent(),n=function(){var e=new Date,t={offset:Math.floor(-1*e.getTimezoneOffset()/60),name:Intl.DateTimeFormat().resolvedOptions().timeZone};return JSON.stringify(t)}(),[4,Sl()];case 3:return r=o.sent(),[4,new Promise((function(e,t){try{(0,yl.s)("//ssp.rambler.ru/px.gif",e)}catch(e){t(e)}})).catch((function(e){return console.error("".concat(e.name,": ").concat(e.message)),!1}))];case 4:return i=o.sent(),this._reqParams.device_memory=navigator.deviceMemory,this._reqParams.hardware_concurrency=navigator.hardwareConcurrency,this._reqParams.cookies_enabled=navigator.cookieEnabled,this._reqParams.webdriver=navigator.webdriver,this._reqParams.max_touch_points=navigator.maxTouchPoints,this._reqParams.java_enabled=navigator.javaEnabled(),this._reqParams.history_length=history.length,this._reqParams.adsblock=i,this._reqParams.battery_info=e,this._reqParams.media_devices=t,this._reqParams.timezone=n,this._reqParams.js_fonts=r,[2]}}))}))},e.prototype.setOtherParams=function(){var e=this._block,t=function(e,t,n){void 0===t&&(t=document),void 0===n&&(n=!1);var r={left:0,top:0};if(!(e=Ir(e,t)))return Rr("ssp-utils/findElementPosition: DOM element doesn't exist in that document"),null;for(n=!!n;e;){var i=void 0;n&&(i=window.getComputedStyle(e))&&"none"===i.display&&(e.style.display="block"),r.left+=e.offsetLeft,r.top+=e.offsetTop,(e=e.offsetParent)&&"fixed"===getComputedStyle(e).position&&(r.top+=Fo()),n&&e&&(e.style.display="")}return r}(Oe(this._divID));t&&(this._reqParams.top=t.top,this._reqParams.left=t.left);var n=e.parent_elt;n&&(n="string"==typeof n?document.getElementById(n):n,this._reqParams.width=n.clientWidth,this._reqParams.height=n.clientHeight),e.misc&&(this._reqParams.misc=e.misc),e.debug&&(this._reqParams.debug="1"),this._reqParams=El(El({},this._reqParams),{format_w:e.format_w||"",format_h:e.format_h||"",begun_self_keywords:e.keywords||"",begun_self_categories:e.categories||"",secure:"https:"===this._scripts.getConformProtocol()?1:0,vcapirs:c})},e.prototype.setCallbackName=function(){this._reqParams.callback=this._callbackName},e.prototype.setOrGetExistingRequestParam=function(e,t){var n=this.Storage.get(e);return(!n||!n[t])&&((n=n||{})[t]=!0,this.Storage.set(e,n),!0)},e.prototype.getFrameLevel=function(){for(var e=0,t=window;t&&t!==window.top&&e<999;)t=t.parent,e+=1;return e},kl([ue(ee.Config),Ol("design:type",xi)],e.prototype,"_config",void 0),kl([ue(ee.Store),Ol("design:type",Object)],e.prototype,"Storage",void 0),kl([ue(ee.UserID),Ol("design:type",mr)],e.prototype,"_userID",void 0),kl([ue(ee.SSPRequestsSessionsObserver),Ol("design:type",tl)],e.prototype,"_sspRequestsSessionsStorage",void 0),kl([ue(ee.BegunScripts),Ol("design:type",Object)],e.prototype,"_scripts",void 0),kl([ue(ee.UaParserService),Ol("design:type",fe())],e.prototype,"_uaparser",void 0),e}();function Pl(e){if(e instanceof Array){for(var t={boolean:!0,number:!0,string:!0},n=0,r=e.length;n<r;n++){var i=e[n];if(null!==i&&!(typeof i in t))return!1}return!0}return!1}function Il(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n],i=null;null!==r&&(Pl(r)&&(r=r.join(",")),"object"==typeof r?i=Il(r):""!==r&&(i=[encodeURIComponent(n),encodeURIComponent(r)].join("="))),null!==i&&t.push(i)}return t.length?t.join("&"):null}function Rl(e){var t={url:!0,ref:!0},n=[],r=[];for(var i in e)if(e.hasOwnProperty(i)){var o=e[i],a={};a[i]=o,t.hasOwnProperty(i)&&o?r.push(a):n.push(a)}return Il(n.concat(r))}!function(e){e.CONTEXTJSP="CONTEXTJSP",e.VAPIRS="VAPIRS"}(fl||(fl={}));var Al=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Dl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jl=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Bl=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ll=function(){function e(){}return e.prototype.createRequestParams=function(e,t){return jl(this,void 0,void 0,(function(){var n;return Bl(this,(function(r){switch(r.label){case 0:return[4,this.buildCommonParams(t)];case 1:switch(n=r.sent(),e){case fl.CONTEXTJSP:n.setCallbackName();case fl.VAPIRS:}return[2,n.getRequestParams()]}}))}))},e.prototype.toQuery=function(e){return Rl(e).replace(/%[0-9a-fA-F]?$/,"")},e.prototype.buildCommonParams=function(e){return jl(this,void 0,void 0,(function(){var t;return Bl(this,(function(n){switch(n.label){case 0:return(t=this._reqBuilderFactory(e)).setLocationParams(),t.setFrameParams(),t.setBlockParams(),t.setScreenParams(),t.setSessionParams(),[4,t.setUserIdentifiers()];case 1:return n.sent(),t.setBrowserParams(),t.setJparams(),t.setOtherParams(),t.setAuthParams(),[4,t.setFpParams()];case 2:return n.sent(),[4,t.setAntiFraudParams()];case 3:return n.sent(),[2,t]}}))}))},Al([ue(ee.SSPRequestParamsBuilderFactory),Dl("design:type",Function)],e.prototype,"_reqBuilderFactory",void 0),e}(),Nl=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Fl=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ml=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Vl=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},ql=function(){function e(){}return e.prototype.getRequestURL=function(t){var n=t.sspJparams,r=t.optionsB,i=t.divID;return Ml(this,void 0,void 0,(function(){var t,o;return Vl(this,(function(a){switch(a.label){case 0:return t={block_id:r["begun-block-id"],categories:r["begun-self-categories"],click_wrap:r["begun-click-wrap"],format_h:r["begun-format-h"],format_w:r["begun-format-w"],jparams:n,keywords:r["begun-self-keywords"],pad_id:r["begun-auto-pad"],parent_elt:r["begun-parent-elt"],session_key:r.sessionKey,misc:r["begun-misc"],force_new_session:r.forceNewSession,method:r.calledMethod,div_id:i,rqNumber:r.rqNumber},[4,this._reqParamsDirector.createRequestParams(fl.VAPIRS,{block:t,divID:i})];case 1:return o=a.sent(),[2,e.daemonURL+this._reqParamsDirector.toQuery(o)]}}))}))},e.daemonURL="".concat(l,"vapirs?wl=rambler&"),Nl([ue(ee.SSPRequestParamsDirector),Fl("design:type",Object)],e.prototype,"_reqParamsDirector",void 0),e}(),Hl=function(e,t,n){void 0===t&&(t=0),e.forEach((function(e){var r=n[e];"string"!=typeof r||r.includes("data:")?Array.isArray(r)&&(n[e]=r.map((function(e){return e.url=we(e.url,"seq",0|t),e}))):n[e]=we(r,"seq",0|t)}))},Ul=function(e){return void 0===e&&(e=window),No(e)?e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight:NaN},Wl=function(e){return void 0===e&&(e=window),No(e)?e.innerWidth||e.document.documentElement.clientWidth||e.document.body.clientWidth:NaN},zl=Function.prototype,Gl=Object.prototype,Xl=zl.toString,Jl=Gl.hasOwnProperty,Kl=Xl.call(Object);var Yl=function(e){if(!wt(e)||"[object Object]"!=yt(e))return!1;var t=wu(e);if(null===t)return!0;var n=Jl.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Xl.call(n)==Kl};var Zl=function(e){return wt(e)&&1===e.nodeType&&!Yl(e)};var $l=function(e,t){return Gu(e,5,t="function"==typeof t?t:void 0)};var Ql=function(e){return function(t){return null==e?void 0:e[t]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),ep=/[&<>"']/g,tp=RegExp(ep.source);var np=function(e){return(e=bo(e))&&tp.test(e)?e.replace(ep,Ql):e};function rp(e){return rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rp(e)}function ip(e,t,n){var r=n.value;if("function"!=typeof r)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(rp(r)));var i=!1;return{configurable:!0,get:function(){if(i||this===e.prototype||this.hasOwnProperty(t)||"function"!=typeof r)return r;var n=r.bind(this);return i=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return n},set:function(e){r=e,delete this[t]}}),i=!1,n},set:function(e){r=e}}}var op=function(){return op=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},op.apply(this,arguments)},ap=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},sp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},cp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},up=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},lp=Y(n(9385)),pp=function(e){if(Zl(e))return e},dp=function(){function e(){var e=this;this.inViewTimers={},this.RenderStatus=En,this.RenderFailReason=Sn,this._vapirsFeed=new ql,this.attemptRefresh=function(e,t){return window.Adf.refresher.attemptRefresh(e,t)},this.bannerIsRendered=function(t,n){var r=n.sspJparams,i=n.optionsB,o=void 0===i?{}:i,a=n.bannerData,s=n.syncShowResult,c=n.impressionID;return cp(e,void 0,void 0,(function(){var e,n,i,u,l,p;return up(this,(function(d){switch(d.label){case 0:return e="string"==typeof t?t:t.id,n=new dc(t,o),s!==bi.declined?[3,1]:(i={bannerPlace:Oe(t),optionsB:o,status:!1,reason:Sn.SyncBannerReRequest},[3,3]);case 1:return[4,n.start()];case 2:i=d.sent(),d.label=3;case 3:return i.status&&(this._metricsTransport.logMetrics(t.toString(),$r.rendered),this._inViewTimerStarter.startInViewTimer({adWrapperID:t,sspOptions:r,blockOptions:o,bannerPlace:n.actualBannerPlace,impressionID:c})),(null===(p=null===(l=null===window||void 0===window?void 0:window.Adf)||void 0===l?void 0:l.util)||void 0===p?void 0:p.stack[e])&&window.Adf.util.stack[e].status!==En.NO_BANNER&&window.Adf.util.updateBannersStack(e,{status:i.status?En.RENDERED:En.NOT_RENDERED}),function(e,t,n,r){t=ic(t);var i=hc(r);if(!i){var o=window.Adf.util.stack[t].impressionID;i=hc(window.Begun.Autocontext.savedFeeds[o])}var a=i&&i.params&&i.params.impression_id,s=function(e,t){return void 0===t&&(t=0),e&&e.banners&&e.banners.graph&&e.banners.graph[t]&&"object"==typeof e.banners.graph[t]&&e.banners.graph[t].view_type}(i,n.get("".concat(ko(a),".nbanner")));e.viewTypes=s||void 0}(i,t,this._store,a),u=mc(i),Mc(u),[2,u]}}))}))}}return e.prototype.ssp=function(e,t,n,r,i,o,a){var s=this;void 0===t&&(t={}),(n=qc(n)).forceNewSession&&(n.shouldFreezeWrapperHeight=!0,this._metricsTransport.clearBannerTimersMap(e.toString()));var c="string"==typeof r&&r.length>0,u="string"==typeof e&&e.length>0;if(c&&u){var l=Oe(e);if(!l)return new Promise((function(t){var r={nodeID:e,reason:Sn.DoesNotExist,optionsB:n,status:!1};Mc(r),t(r)}));l.className="".concat(l.className||""," ").concat(r)}var p=this._syncShow.getSession(n["begun-block-id"])||{};n.sessionKey=p.key||"",window.Adf.util.updateBannersStack(e,{div_id:e,options_b:n,options:t,status:En.PENDING});var d=Oe(e);return new Promise((function(i,c){window.Begun.Autocontext.addBlock($l(n,pp),(function(u,l,p,d,h){var f=Ku({blocktype:"capirs",block_id:parseInt(n["begun-block-id"],10),pad_id:parseInt(n["begun-auto-pad"],10),impression_id:l,misc:n["begun-misc"],reached:0,graphAmount:h,node_id:qe(e)},t);s._cachedBlockShowLoggerFactory(e,Date.now(),f,n),a?a(u,l,p):s._syncShow.show({divID:e,options:t,optionsB:n,optClass:r,callback:o,priority:u,impressionID:l,blockID:p,sessionKeys:d}).then((function(r){return s.bannerIsRendered(e,{sspJparams:t,optionsB:n,syncShowResult:r,impressionID:l})})).then((function(e){return s._eventEmitter.dispatch(ae.BLOCK,se.DRAW_COMPLETE,null,[op(op({},mc(e)),{impressionID:l})]),e})).then(i).catch(c)}),e)})).then((function(e){if(n.wipeBeforeRender&&d){var t=Re(),r=Fr({className:t,rules:{height:"initial"},nonce:s._config.getConfigValue("STYLE_NONCE_VALUE")});d.parentElement.appendChild(r),d.classList.add(t)}return e}))},e.prototype.sspScroll=function(e,t,n,r,i,o,a){var s;return void 0===t&&(t={}),s=void 0!==n["begun-scroll-rate"]?n["begun-scroll-rate"]:void 0!==window.Adf.desktopScrollRate?window.Adf.desktopScrollRate:0,this.scrollCore({methodName:"sspScroll",scrollRate:s},{divID:e,sspJparams:t,optionsB:n,optClass:r,optWin:i,callback:o,hardCallback:a})},e.prototype.sspScrollMobile=function(e,t,n,r,i,o,a){var s;return void 0===t&&(t={}),s=void 0!==n["begun-scroll-rate"]?n["begun-scroll-rate"]:void 0!==window.Adf.mobileScrollRate?window.Adf.mobileScrollRate:0,this.scrollCore({methodName:"sspScrollMobile",scrollRate:s},{divID:e,sspJparams:t,optionsB:n,optClass:r,optWin:i,callback:o,hardCallback:a})},e.prototype.deferredSsp=function(e,t,n,r){var i=this;void 0===t&&(t={}),void 0===r&&(r={}),n=qc(n);var o=this._syncShow.getSession(n["begun-block-id"])||{};n.sessionKey=o.key||"",window.Adf.util.updateBannersStack(e,{div_id:e,options_b:n,options:t,status:En.PENDING});var a=Oe(e),s=null,c=null,u=new Promise((function(e,t){s=e,c=t}));return window.Begun.Autocontext.addBlock($l(n,pp),(function(o,u,l,p,d){var h=Ku({blocktype:"capirs",block_id:parseInt(n["begun-block-id"],10),pad_id:parseInt(n["begun-auto-pad"],10),impression_id:u,misc:n["begun-misc"],reached:0,graphAmount:d,node_id:qe(e)},t);i._cachedBlockShowLoggerFactory(e,Date.now(),h,n),i._metricsTransport.freezeTimer(e.toString());var f=new IntersectionObserver((function(d){var h=d&&d[0];h&&h.isIntersecting&&(i._metricsTransport.unFreezeTimer(e.toString()),f.unobserve(a),i._syncShow.show({divID:e,options:t,optionsB:n,priority:o,impressionID:u,blockID:l,sessionKeys:p,doWipe:r.doWipe}).then((function(r){return i.bannerIsRendered(e,{sspJparams:t,optionsB:n,syncShowResult:r,impressionID:u})})).then(s).catch(c))}),{root:n.customRoot||null,rootMargin:n.customRootMargin||(n.customRootMarginPercent?"0px 0px ".concat(n.customRootMarginPercent,"% 0px"):"0px 0px 0px 0px"),threshold:r.inViewThresholds||[0]});f.observe(a)}),e),u.then((function(e){if((r.doWipe||n.wipeBeforeRender)&&a){var t=Re(),o=Fr({className:t,rules:{height:"initial"},nonce:i._config.getConfigValue("STYLE_NONCE_VALUE")});a.parentElement.appendChild(o),a.classList.add(t)}return e}))},e.prototype.reloadssp=function(e,t,n,r,i){void 0===t&&(t={}),lp.log(401,"    deprecated \n  ssp|sspScroll   , \n   optionsB forceNewSesion   true. \n");var o=Oe(e);return new Promise(o?function(o){n.forceNewSession=!0,n.wipeBeforeRender=!0,n.shouldFreezeWrapperHeight=!0,window.Adf.banner.ssp(e,t,n,null,null,r,i).then((function(e){o(e)}))}:function(t){var r={nodeID:e,optionsB:n,reason:Sn.DoesNotExist,status:!1};Mc(r),t(r)})},e.prototype.feed_ssp=function(e,t,n,r){var i,o,a=this;void 0===t&&(t={}),n=qc(n),r.banners.graph.forEach((function(e,t){return Hl(["source","viewability","tracking"],t,e)})),(null===(o=null===(i=r.debug)||void 0===i?void 0:i.request)||void 0===o?void 0:o.url)&&(r.debug.request.url=np(r.debug.request.url));var s={block_id:n["begun-block-id"],pad_id:n["begun-auto-pad"],method:n.calledMethod},c=Ku({blocktype:"capirs",block_id:parseInt(n["begun-block-id"],10),pad_id:parseInt(n["begun-auto-pad"],10),impression_id:r.params.impression_id,misc:n["begun-misc"],reached:0,uuid:r.cookies&&r.cookies.uuid||"",rq_type:1,graphAmount:r.banners.graph.length,node_id:qe(e)},t);return this._blockShowLoggerFactory(e,Date.now(),c,n,r),window.Adf.util.updateBannersStack(e,{div_id:e,options_b:n,options:t,status:En.PENDING}),this._syncShow.show({divID:e,options:t,optionsB:n,priority:r.params.priority,impressionID:{feed:r,blockData:s},blockID:s.block_id,sessionKeys:r.params.session_keys}).then((function(i){return a.bannerIsRendered(e,{sspJparams:t,optionsB:n,bannerData:{feed:r,blockData:s},impressionID:Eo(r),syncShowResult:i})})).then((function(e){return a._eventEmitter.dispatch(ae.BLOCK,se.DRAW_COMPLETE,null,[op(op({},mc(e)),{impressionID:Eo(r)})]),e}))},e.prototype.feed_sspScroll=function(e,t,n,r){var i;return void 0===t&&(t={}),i=void 0!==n["begun-scroll-rate"]?n["begun-scroll-rate"]:void 0!==window.Adf.desktopScrollRate?window.Adf.desktopScrollRate:0,this.scrollCore({methodName:"feed_sspScroll",destinationMethod:"feed_ssp",scrollRate:i},{divID:e,sspJparams:t,optionsB:n,feed:r})},e.prototype.feed_sspScrollMobile=function(e,t,n,r){var i;return void 0===t&&(t={}),i=void 0!==n["begun-scroll-rate"]?n["begun-scroll-rate"]:void 0!==window.Adf.mobileScrollRate?window.Adf.mobileScrollRate:0,this.scrollCore({methodName:"feed_sspScrollMobile",destinationMethod:"feed_ssp",scrollRate:i},{divID:e,sspJparams:t,optionsB:n,feed:r})},e.prototype.feed_sspRich=function(e,t,n,r){return void 0===t&&(t={}),this.richCore({methodName:"feed_sspRich",destinationMethod:"feed_ssp"},{divID:e,sspJparams:t,optionsB:n,feed:r})},e.prototype.ssp_video=function(e){var t=e.divID,n=e.sspJparams,r=e.optionsB;return cp(this,void 0,void 0,(function(){var e,i;return up(this,(function(o){switch(o.label){case 0:return(e=document.getElementById(t))?[4,this._vapirsFeed.getRequestURL({sspJparams:n,optionsB:r,divID:t})]:[2,{success:!1,error:new Error("Unable to find dom element with ".concat(t))}];case 1:return i=o.sent(),[2,this.vastPlaybackWrapper.startVideo(e,{mute:!0,url:i})]}}))}))},e.prototype.spaPageUpdate=function(){this._metricsTransport.clearBannerTimersMap(),this._eventEmitter.dispatch(ae.PAGE,se.SPA_UPDATE)},e.prototype.log=function(e,t,n){return lp.log(e,t,n)},e.prototype.richCore=function(e,t){var n=this,r=e.destinationMethod,i=void 0===r?"ssp":r;t.optionsB=qc(t.optionsB);var o=Oe(t.divID);return new Promise(o?function(e,r){var o=function(){var a,s=(void 0===a&&(a=window),{height:Ul(a),width:Wl(a)}).height;if(Fo()+20>=s)if("feed_ssp"===i)n.feed_ssp(t.divID,t.sspJparams,t.optionsB,t.feed).then(e).catch(r);else n.ssp(t.divID,t.sspJparams,t.optionsB,t.optClass,t.optWin,t.callback,t.hardCallback).then(e).catch(r);else setTimeout(o,100)};o()}:function(e){var n={nodeID:t.divID,reason:Sn.DoesNotExist,optionsB:t.optionsB,status:!1};Mc(n),e(n)})},e.prototype.scrollCore=function(e,t){var n=this,r=e.destinationMethod,i=void 0===r?"ssp":r,o=e.scrollRate,a=void 0===o?0:o,s=e.topTreshold,c=void 0===s?0:s,u=this._store.get("".concat(ic(t.divID),".intersectionObserver"));u&&u.disconnect(),t.optionsB=qc(t.optionsB);var l=Oe(t.divID);return l?(t.optionsB.wipeImmediately&&(l.innerHTML=""),new Promise((function(e,r){n._metricsTransport.freezeTimer(t.divID.toString());var o=new IntersectionObserver((function(a){var s=a&&a[0];if(s&&s.isIntersecting)if(n._metricsTransport.unFreezeTimer(t.divID.toString()),o.unobserve(l),n._store.delete("".concat(ic(t.divID),".intersectionObserver")),"feed_ssp"===i)window.Adf.banner.feed_ssp(t.divID,t.sspJparams,t.optionsB,t.feed).then(e).catch(r);else window.Adf.banner.ssp(t.divID,t.sspJparams,t.optionsB,t.optClass,t.optWin,t.callback,t.hardCallback).then(e).catch(r)}),{root:t.optionsB.customRoot||null,rootMargin:t.optionsB.customRootMargin||"0px 0px ".concat(a,"% 0px"),threshold:[c]});o.observe(l),n._store.set("".concat(ic(t.divID),".intersectionObserver"),o)}))):new Promise((function(e){var n={nodeID:t.divID,reason:Sn.DoesNotExist,optionsB:t.optionsB,status:!1};Mc(n),e(n)}))},ap([ue(ee.cachedBlockShowLoggerFactory),sp("design:type",Function)],e.prototype,"_cachedBlockShowLoggerFactory",void 0),ap([ue(ee.SyncShow),sp("design:type",Io)],e.prototype,"_syncShow",void 0),ap([ue(ee.InViewTimerStarter),sp("design:type",Fc)],e.prototype,"_inViewTimerStarter",void 0),ap([ue(ee.blockShowLoggerFactory),sp("design:type",Function)],e.prototype,"_blockShowLoggerFactory",void 0),ap([ue(ee.EventEmitter),sp("design:type",Object)],e.prototype,"_eventEmitter",void 0),ap([ue(ee.Store),sp("design:type",Object)],e.prototype,"_store",void 0),ap([ue(ee.Config),sp("design:type",Object)],e.prototype,"_config",void 0),ap([ue(ee.VastPlaybackWrapper),sp("design:type",Object)],e.prototype,"vastPlaybackWrapper",void 0),ap([ue(ee.MetricsTransport),sp("design:type",gi)],e.prototype,"_metricsTransport",void 0),ap([ip,wi,Hc(2),$u(1,2),ru,au,sp("design:type",Function),sp("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),sp("design:returntype",Promise)],e.prototype,"ssp",null),ap([ip,wi,Hc(2),$u(1,2),ru,au,sp("design:type",Function),sp("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),sp("design:returntype",Promise)],e.prototype,"sspScroll",null),ap([ip,wi,Hc(2),$u(1,2),ru,au,sp("design:type",Function),sp("design:paramtypes",[Object,Object,Object,Object,Object,Object,Object]),sp("design:returntype",Promise)],e.prototype,"sspScrollMobile",null),ap([ip,wi,Hc(2),$u(1,2),ru,au,sp("design:type",Function),sp("design:paramtypes",[Object,Object,Object,Object]),sp("design:returntype",Promise)],e.prototype,"deferredSsp",null),ap([ip,Hc(2,!0),$u(1,2),ru,sp("design:type",Function),sp("design:paramtypes",[Object,Object,Object,Object,Object]),sp("design:returntype",Promise)],e.prototype,"reloadssp",null),ap([ip,Hc(2),$u(1,2),ru,au,sp("design:type",Function),sp("design:paramtypes",[Object,Object,Object,Object]),sp("design:returntype",Promise)],e.prototype,"feed_ssp",null),ap([ip,Hc(2),$u(1,2),ru,au,sp("design:type",Function),sp("design:paramtypes",[Object,Object,Object,Object]),sp("design:returntype",Promise)],e.prototype,"feed_sspScroll",null),ap([ip,Hc(2),$u(1,2),ru,au,sp("design:type",Function),sp("design:paramtypes",[Object,Object,Object,Object]),sp("design:returntype",Promise)],e.prototype,"feed_sspScrollMobile",null),ap([ip,Hc(2),$u(1,2),ru,sp("design:type",Function),sp("design:paramtypes",[Object,Object,Object,Object]),sp("design:returntype",Promise)],e.prototype,"feed_sspRich",null),e}(),hp=dp,fp=function(){function e(e){this.Autocontext=e}return e.prototype.push=function(e){var t=this.Autocontext.__blocks||[];t[t.length]=e,this.Autocontext.__blocks=t},e.prototype.getBlockById=function(e,t){if(e){var n=void 0,r=0;t=t||this.Autocontext.__blocks||[];do{if((n=t[r])&&n.id.toString()===e.toString())return n;r+=1}while(n)}},e}(),vp=fp,gp=function(){function e(e){this.Autocontext=e,this.ext={toolbar:"36ff2fe23d7fbc27a2a3a9b8f93e88fd"},this.loaded=[]}return e.prototype.updateAnticash=function(e){var t=new RegExp("^".concat(m.urls.base_scripts_url,"(\\w+).js$")).exec(e);return null!==t&&2===t.length&&void 0!==this.ext[t[1]]&&this.ext[t[1]]},e.prototype.isLoaded=function(e){return this.loaded.includes(e)},e.prototype.load=function(e){if(!this.isLoaded(e)){var t=this.updateAnticash(e);(t?Gr.includeScript(e.replace(/(.+)\/([^/]+)\.js$/,"$1/js/$2.".concat(t,".js")),"append"):Gr.includeScript(e,"append"))&&this.loaded.push(e)}},e.prototype.baseLoad=function(e){var t=m.urls.base_scripts_url;this.load(t+e)},e.prototype.getNames=function(e){var t="",n="";if("loaded"===e)return this.loaded.toString();for(var r in this.ext)this.ext.hasOwnProperty(r)&&(t+=n+r,n=",");return t},e}(),mp=Y(n(9385)),bp=function(){function e(){}return e.parseLinks=function(e){var t=e.links;if(t){var n=0,r=void 0,i=[];do{if(r=t[n]){switch(r.type){case"iframe_js":i.push("script=".concat(encodeURIComponent(r.url)));break;case"iframe_html":i.push("html=".concat(encodeURIComponent(r.url)));break;case"img":i.push("img=".concat(encodeURIComponent(r.url)))}n+=1}}while(r);var o="//profile.ssp.rambler.ru/sandbox?".concat(i.join("&")),a=document.createElement("iframe");a.onerror=function(e){mp.log(500,"linksFrame iframe error",{Error:e})},a.setAttribute("style","height:0;width:0;border:0;position:absolute;left:-10000px;top:-1000px;"),a.setAttribute("width","0"),a.setAttribute("height","0"),a.src=o,window.document.body.appendChild(a)}},e}(),yp=bp,wp=function(e,t,n){for(var r in"object"!=typeof e&&(e={}),t)t.hasOwnProperty(r)&&(n&&"object"==typeof t[r]?e[r]=wp(e[r],t[r]):e[r]=t[r]);return e},_p=function(){return _p=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_p.apply(this,arguments)},Sp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ep=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},kp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Op=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Tp=Y(n(9385)),xp=function(){function e(e,t){this.sspCallbackCount=0,this.SSP_LINKS_INSERT_TIMEOUT=1e3,this.graphBannerDomains=[],this.responseParams={},this.FeedBlocksStore=t,this.Graph=e,this.feed_links_parsed=!1,this.savedFeedsOptions={},this._blocksHandled=[]}return e.prototype.processFeed=function(e){var t=e.feed,n=e.blockData,r=e.nbanner,i=e.doWipe;return kp(this,void 0,void 0,(function(){var e,o,a,s,c,u,l;return Op(this,(function(p){switch(p.label){case 0:return r=r||0,t?[4,this.Graph.getCreativeToDraw({feed:t,nbanner:r,pad_id:n.pad_id,block_id:n.block_id,blockData:n})]:(Tp.log(500,"Attempted to load an undefined feed.",{url:document.URL}),[2]);case 1:return e=p.sent(),o=e[0],a=void 0===o?r:o,s=e[1],c=void 0===s?"":s,this.registerGraphBannerDomains(t),this.Callbacks.dispatch(ae.FEED,se.LOAD,this,[t]),wp(this.responseParams,t&&t.params||{}),(u=this.FeedBlocksStore.getBlockById(n.block_id,t.blocks))?[4,this._insertBanner({feed:t,blockData:n,blockInfo:u,doWipe:i,actualNbanner:a,creativeToDraw:c})]:[3,3];case 2:return l=p.sent(),this.handleSSPSyncLinks(t),this.fillBlocks(t,u),l||this.Graph.handleGraphBannerNonExisting({feed:t,blockData:n}),[3,4];case 3:Tp.log(502,"Block doesn't exist",{blockID:n.block_id,blocks:t.blocks}),p.label=4;case 4:return[2]}}))}))},e.prototype.registerGraphBannerDomains=function(e){var t=e&&e.banners&&e.banners.graph;if(t)for(var n=0,r=t;n<r.length;n++){var i=r[n];i.domain&&this.graphBannerDomains.push(i.domain)}},e.prototype.loadFeed=function(t){var n=t.blockData,r=t.divID,i=t.savedFeeds,o=t.savedFeedsOptions;return kp(this,void 0,void 0,(function(){var t,a,s,c,u=this;return Op(this,(function(l){switch(l.label){case 0:return this.sspCallbackCount+=1,t="Begun_Autocontext_saveFeed".concat(this.sspCallbackCount),[4,this._reqParamsDirector.createRequestParams(fl.CONTEXTJSP,{block:n,callbackName:t,divID:r})];case 1:return a=l.sent(),window.Debug.info("FingerPrint ID ".concat(a.fpruid)),s=m.urls.daemon+this._reqParamsDirector.toQuery(a),n.feedURL=s,window[t]=(p=n,function(e){u.saveFeed({feed:e,blockData:p,savedFeeds:i,savedFeedsOptions:o})}),this._metricsTransport.logMetrics(r.toString(),$r.startReq),[4,this._dataLoader.load(s,{withCredentials:!0})];case 2:return c=l.sent().data,e.resStatusCode=c.status,(null==c?void 0:c.responseText)?(this._metricsTransport.logMetrics(r.toString(),$r.feed),new Nr("script",c.responseText,{isHTML:!1}).append(document.body).remove(),[2]):(this._handleEmptySSPResponse({blockData:n,statusCode:null==c?void 0:c.status}),this.Graph.handleGraphBannerNonExisting({blockData:n}),[2])}var p}))}))},e.prototype.saveFeed=function(e){var t=e.feed,n=e.blockData,r=e.savedFeeds,i=e.savedFeedsOptions;this._toolbarHelper.handleDebugInfo({feed:t,blockData:n}),t.banners.graph.forEach((function(e,t){return Hl(["source","viewability","tracking"],t,e)}));var o=t.params,a=o.impression_id,s=o.session_keys,c=o.priority;r[a]={blockData:n,feed:t},i[a]=t.blocks[0].options.json,"function"==typeof n.callback&&n.callback(c,a,n.block_id,s,t.banners.graph.length)},e.prototype.fillBlocks=function(e,t){this._blocksHandled.includes(t)||(this.Callbacks.dispatch(ae.BLOCK,se.PREDRAW,this,[t,e]),t.options&&t.options.visual&&Object.keys(t.options.visual).length>0&&this.printBlockStyle(t.id,t.options.visual,e),this._blocksHandled.push(t))},e.prototype.printBlockStyle=function(e,t,n){t.name&&n.banners.graph.length&&n.banners.graph.length>0&&function(e,t,n){if(void 0===n&&(n=document.head||document.body),_e(e)){var r=document.createElement("link");return r.setAttribute("type","text/css"),r.setAttribute("rel","stylesheet"),r.setAttribute("href",e),t&&(r.id=t),n.appendChild(r),!0}}("".concat(m.urls.styles,"name=").concat(t.name,"&block_id=").concat(e),"begun-additional-".concat(e))},e.prototype.handleSSPSyncLinks=function(e){this.feed_links_parsed||(setTimeout((function(){e.links&&e.links.length>0&&yp.parseLinks(e)}),this.SSP_LINKS_INSERT_TIMEOUT),e.links&&e.links.length>0&&(this.feed_links_parsed=!0))},e.prototype._insertBanner=function(e){var t=e.feed,n=e.blockData,r=e.blockInfo,i=e.doWipe,o=e.actualNbanner,a=e.creativeToDraw;return kp(this,void 0,void 0,(function(){var e,s;return Op(this,(function(c){switch(c.label){case 0:return this.FeedBlocksStore.push(r),e=!1,s=this._getDualBannersNumbers(t.banners.graph),0===o&&s.length>1?(e=!0,[4,this.Graph.insertMultipleBanners({feed:t,blockData:n,blockInfo:r,bannerNumbers:s,doWipe:i})]):[3,2];case 1:return c.sent(),[3,4];case 2:return[4,this.Graph.insertNonTextBlock({feed:t,blockData:n,block:r,nbanner:o,creativeToDraw:a,doWipe:i})];case 3:(e=c.sent())&&this._monitorClass.attemptRunViewabilityWatcher({feed:t,subscriptionID:t.params.impression_id,watchedElement:n.blockEl}),c.label=4;case 4:return[2,e]}}))}))},e.prototype._getDualBannersNumbers=function(e){return e.map((function(e,t){return{viewType:e.view_type,numberInSequence:t}})).filter((function(e){return e.viewType.includes("Fake")&&e.viewType.includes("Rotatable")})).map((function(e){return e.numberInSequence}))},e.prototype._handleEmptySSPResponse=function(e){var t,n,r=e.blockData,i=e.statusCode,o=pe(window),a=o.includes(w.SSP)||o.includes(w.ADFOX)||(t="autocontext",(n=document.cookie.match(new RegExp("(?:^|; )".concat(t.replace(/([.$?*|{}()[\]\\/+^])/g,"\\$1"),"=([^;]*)"))))?decodeURIComponent(n[1]):void 0);if(200!==i&&a){var s={debug:{request:_p({},r),response:{status:i}}};this._toolbarHelper.handleDebugInfo({feed:s,blockData:r})}},Sp([ue(ee.Store),Ep("design:type",Object)],e.prototype,"Storage",void 0),Sp([ue(ee.EventEmitter),Ep("design:type",Object)],e.prototype,"Callbacks",void 0),Sp([ue(ee.MonitorClass),Ep("design:type",Object)],e.prototype,"_monitorClass",void 0),Sp([ue(ee.DataLoader),Ep("design:type",Rn)],e.prototype,"_dataLoader",void 0),Sp([ue(ee.ToolbarHelper),Ep("design:type",Si)],e.prototype,"_toolbarHelper",void 0),Sp([ue(ee.MetricsTransport),Ep("design:type",gi)],e.prototype,"_metricsTransport",void 0),Sp([ue(ee.SSPRequestParamsDirector),Ep("design:type",Object)],e.prototype,"_reqParamsDirector",void 0),e}(),Cp=xp,Pp=function(){function e(e){this.autocontext=e,this.init()}return e.prototype.init=function(){if(window.begun___callbacks&&window.begun___callbacks.length>0){X.log(401," window.begun_new_callbacks  window.begun___callbacks");for(var e=0;e<window.begun___callbacks.length;e++)this.setCallbacks(window.begun___callbacks[e]);window.begun___callbacks=null}if(window.begun_new_callbacks&&window.begun_new_callbacks.length>0){for(e=0;e<window.begun_new_callbacks.length;e++)this.setCallbacks(window.begun_new_callbacks[e]);window.begun_new_callbacks=null}void 0!==window.begun_callbacks&&(this.setCallbacks(window.begun_callbacks),window.begun_callbacks=null)},e.prototype.setCallbacks=function(e){this.autocontext.Callbacks.register(e||{})},e}(),Ip=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Rp=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ap=function(){function e(){this._queue={},this._lastCalledOrder=0}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.handle=function(e){var t=e.feed,n=e.bannerInsertionCallback;return Ip(this,void 0,void 0,(function(){var e;return Rp(this,(function(r){switch(r.label){case 0:return void 0===(e=this._getElementOrder(t))?[3,2]:[4,this.call(e,n)];case 1:return r.sent(),[3,4];case 2:return[4,n()];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},e.prototype.call=function(t,n){return Ip(this,void 0,void 0,(function(){var r,i,o=this;return Rp(this,(function(a){switch(a.label){case 0:if(!(t<=this._lastCalledOrder+1))return[3,1];for(r in n(),t===this._lastCalledOrder+1&&(this._lastCalledOrder=t),this._queue)this._queue.hasOwnProperty(r)&&(i=parseInt(r,10),this._queue.hasOwnProperty(i)&&null!==this._queue[i]&&i===this._lastCalledOrder+1&&(this._queue[i].forEach((function(e){return e()})),this._lastCalledOrder=i,this._queue[i]=null));return[3,3];case 1:return this._queue[t]=this._queue[t]||[],this._queue[t].push(n),this._timer?[3,3]:(this._timer=cc()(e.ORDERED_BLOCK_WAITING_TIME).then((function(){for(var e in o._timer=null,o._queue)if(o._queue.hasOwnProperty(e)&&null!==o._queue[e]){for(var t=0;t<o._queue[e].length;t++)o._queue[e][t]();o._queue[e]=null}})),[4,this._timer]);case 2:a.sent(),a.label=3;case 3:return[2]}}))}))},e.prototype._getElementOrder=function(e){return e.blocks[0].options.json.order},e.instance=null,e.ORDERED_BLOCK_WAITING_TIME=500,e}(),Dp=Ap,jp=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Bp=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Lp=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},Np=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Fp=Y(n(9385)),Mp=function(){function e(){this._prioritizer=Dp.getInstance(),this.unhandledDebugs=[],this.savedFeeds={},this.savedFeedsOptions={},this.feed_links_parsed=!1,this.__blocks=[],this._graph=new ui,this.feedBlocksStore=new vp(this),this._feed=new Cp(this._graph,this.feedBlocksStore),this.scriptLoader=new gp(this),this.Customization=new Pp(this)}return e.prototype.handleSSPSyncLinks=function(e){this.feed_links_parsed||(setTimeout((function(){e.links&&e.links.length>0&&yp.parseLinks(e)}),1e3),e.links&&e.links.length>0&&(this.feed_links_parsed=!0))},e.prototype.showAdCaller=function(e,t,n,r){return Lp(this,void 0,void 0,(function(){var i,o;return Np(this,(function(a){switch(a.label){case 0:return e.blockData.blockEl=document.createElement("div"),e.blockData.blockEl.id="begun_block_".concat(e.blockData.block_id),(i=Array.from(t.querySelectorAll("#begun_block_".concat(e.blockData.block_id)))).length>0&&(t.dataset.begunBlockRepeated="yes"),i.forEach((function(e){e.parentNode.removeChild(e)})),t.appendChild(e.blockData.blockEl),location.pathname.includes("/msk/restaurant")&&"www.afisha.ru"===location.hostname&&(o=document.createElement("div"),e.blockData.blockEl.appendChild(o)),[4,this._feed.processFeed({feed:e.feed,blockData:e.blockData,nbanner:n,doWipe:r})];case 1:return a.sent(),[2]}}))}))},e.prototype.showAd=function(e,t,n,r){var i,o,a,s,c,u,l,p,d,h;return Lp(this,void 0,void 0,(function(){var f,v,g;return Np(this,(function(m){switch(m.label){case 0:return e=this._processDivID(e,t),(f="string"==typeof e?document.getElementById(e):e)?(void 0===n&&(v=this._store.get("".concat(ko(t),".nbanner")),n="number"!=typeof v?0:v+1),this._store.set("".concat(ko(t),".nbanner"),n),"object"!=typeof t?[3,2]:(this.savedFeeds[t.feed.params.impression_id]=t,[4,this._prioritizer.handle({bannerInsertionCallback:this.showAdCaller.bind(this,t,f,n,r),feed:t.feed})])):(Fp.log(500,'There is no block with id "'.concat(e,'" on the page'),{url:document.URL,divID:e}),[2]);case 1:return m.sent(),[3,5];case 2:return this.savedFeeds&&this.savedFeeds[t]?[4,this._prioritizer.handle({bannerInsertionCallback:this.showAdCaller.bind(this,this.savedFeeds[t],f,n,r),feed:this.savedFeeds[t].feed})]:[3,4];case 3:return m.sent(),[3,5];case 4:Fp.log(500,"No feed found"),m.label=5;case 5:return n>0&&(g=ko(t),this._adInitializer.bannerIsRendered(e,{sspJparams:null===(o=null===(i=this.savedFeeds[g])||void 0===i?void 0:i.blockData)||void 0===o?void 0:o.jparams,optionsB:{"begun-auto-pad":null===(s=null===(a=this.savedFeeds[g])||void 0===a?void 0:a.blockData)||void 0===s?void 0:s.pad_id,"begun-block-id":null===(u=null===(c=this.savedFeeds[g])||void 0===c?void 0:c.blockData)||void 0===u?void 0:u.block_id,rqNumber:null===(p=null===(l=this.savedFeeds[g])||void 0===l?void 0:l.blockData)||void 0===p?void 0:p.rqNumber,calledMethod:null===(h=null===(d=this.savedFeeds[g])||void 0===d?void 0:d.blockData)||void 0===h?void 0:h.method},syncShowResult:bi.shown,impressionID:g})),[2]}}))}))},e.prototype.addBlock=function(e,t,n){var r={block_id:e["begun-block-id"],categories:e["begun-self-categories"],click_wrap:e["begun-click-wrap"],format_h:e["begun-format-h"],format_w:e["begun-format-w"],jparams:e.params,keywords:e["begun-self-keywords"],pad_id:e["begun-auto-pad"],parent_elt:e["begun-parent-elt"],session_key:e.sessionKey,misc:e["begun-misc"],force_new_session:e.forceNewSession,method:e.calledMethod,div_id:n.id||n,rqNumber:e.rqNumber,callback:t,shouldFreezeWrapperHeight:e.shouldFreezeWrapperHeight,wipeBeforeRender:e.wipeBeforeRender,ya_block_id:e.ya_block_id,ad_unit_name:e.ad_unit_name,authParams:e.authParams};e.publisher_uid&&e.publisher_uid_scope&&(r.publisher_uid=e.publisher_uid,r.publisher_uid_scope=e.publisher_uid_scope),e.begun_metric_before_feed_load&&((new Image).src=e.begun_metric_before_feed_load),this._feed.loadFeed({blockData:r,divID:n,savedFeeds:this.savedFeeds,savedFeedsOptions:this.savedFeedsOptions})},e.prototype.begunToolbarLoaded=function(){if(this._toolbarHelper.toolbar&&this._toolbarHelper.toolbar.init)for(;this.unhandledDebugs.length>0;)this._toolbarHelper.toolbar.init(this.unhandledDebugs.pop())},e.prototype.getBannerData=function(e){return"object"==typeof e?e:this.savedFeeds&&this.savedFeeds[e]?this.savedFeeds[e]:void 0},e.prototype.registerGraphBannerDomains=function(e){this._feed.registerGraphBannerDomains(e)},e.prototype._processDivID=function(e,t){var n=this._store.get("".concat(ko(t),".divID"));return n||(this._store.set("".concat(ko(t),".divID"),e),e)},jp([ue(ee.Store),Bp("design:type",Object)],e.prototype,"Storage",void 0),jp([ue(ee.EventEmitter),Bp("design:type",Object)],e.prototype,"Callbacks",void 0),jp([ue(ee.Store),Bp("design:type",Object)],e.prototype,"_store",void 0),jp([ue(ee.ToolbarHelper),Bp("design:type",Si)],e.prototype,"_toolbarHelper",void 0),jp([ue(ee.MethodsInitializer),Bp("design:type",Object)],e.prototype,"_adInitializer",void 0),e}(),Vp=Mp;var qp=function(e,t,n,r){if(!nt(e))return e;for(var i=-1,o=(t=yo(t,e)).length,a=o-1,s=e;null!=s&&++i<o;){var c=wo(t[i]),u=n;if(i!=a){var l=s[c];void 0===(u=r?r(l,c,s):void 0)&&(u=nt(l)?l:zo(t[i+1])?[]:{})}lu(s,c,u),s=s[c]}return e};var Hp=function(e,t,n){return null==e?e:qp(e,t,n)};var Up=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var Wp=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o};var zp=function(e,t){return t.length<2?e:_o(e,Wp(t,0,-1))};var Gp=function(e,t){return t=yo(t,e),null==(e=zp(e,t))||delete e[wo(Up(t))]};var Xp=function(e,t){return null==e||Gp(e,t)},Jp=Object.prototype.hasOwnProperty;var Kp=function(e,t){return null!=e&&Jp.call(e,t)};var Yp=function(e,t){return null!=e&&_s(e,t,Kp)},Zp=function(){function e(){this._state={}}return e.prototype.set=function(e,t){Hp(this._state,e,t)},e.prototype.get=function(e){return So(this._state,e,void 0)},e.prototype.delete=function(e){return Xp(this._state,e)},e.prototype.has=function(e){return Yp(this._state,e)},e.prototype.clear=function(){this._state={}},e.prototype.incProperty=function(e,t){"object"!=typeof this._state[e]?(this._state[e]={},this._state[e][t]=0):this._state[e][t]="number"==typeof this._state[e][t]?this._state[e][t]+1:0},e}(),$p=function(e,t,n){this.callback=e,this.context=t,this.once=n||!1},Qp="~",ed=Object.prototype.hasOwnProperty;function td(){}Object.create&&(td.prototype=Object.create(null),(new td).__proto__||(Qp=!1));var nd=function(){function e(){this.eventsCount=0,this.events=new td}return e.prototype.getEventNames=function(){var e=[],t=this.events;if(0===this.eventsCount)return e;for(var n in t)ed.call(t,n)&&e.push(Qp?n.slice(1):n);return e},e.prototype.getListeners=function(e){var t=Qp?Qp+e:e,n=this.events[t];return n?Array.isArray(n)?n:[n]:[]},e.prototype.getListenerCount=function(e){var t=Qp?Qp+e:e,n=this.events[t];return n?Array.isArray(n)?n.length:1:0},e.prototype.addListener=function(e){var t=e.event,n=e.callback,r=e.context,i=void 0===r?null:r,o=e.once,a=void 0!==o&&o;if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new $p(n,i||this,a),c=Qp?Qp+t:t;return this.events[c]?Array.isArray(this.events[c])?this.events[c].push(s):this.events[c]=[this.events[c],s]:(this.events[c]=s,this.eventsCount++),this},e.prototype.addListenerOnce=function(e){var t=e.event,n=e.callback,r=e.context,i=void 0===r?null:r;return this.addListener({event:t,callback:n,context:i,once:!0})},e.prototype.removeListener=function(e){var t=e.event,n=e.callback,r=e.context,i=void 0===r?null:r,o=e.once,a=void 0!==o&&o,s=Qp?Qp+t:t;if(!this.events[s])return this;var c=this.events[s],u=[];if(Array.isArray(c)){for(var l=0;l<c.length;l++)(c[l].callback!==n||a&&!c[l].once||i&&c[l].context!==i)&&u.push(c[l]);u.length>0?this.events[s]=1===u.length?u[0]:u:this.clearEvent(s)}else c.callback!==n||a&&a!==c.once||i&&c.context!==i||this.clearEvent(s);return this},e.prototype.removeAllListeners=function(e){var t;return e?(t=Qp?Qp+e:e,this.events[t]&&this.clearEvent(t)):(this.events=new td,this.eventsCount=0),this},e.prototype.emit=function(e,t){void 0===t&&(t=null);for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=Qp?Qp+e:e;if(!this.events[i])return!1;var o=this.events[i];if(Array.isArray(o))for(var a=0;a<o.length;a++)o[a].once&&this.removeListener({event:e,callback:o[a].callback,context:void 0,once:!0}),o[a].callback.apply(t||o[a].context,n);else o.once&&this.removeListener({event:e,callback:o.callback,context:null,once:!0}),o.callback.apply(t||o.context,n);return!0},e.prototype.clearEvent=function(e){0==--this.eventsCount?this.events=new td:delete this.events[e]},e}(),rd=nd,id=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},od=function(){function e(){this.Emitter=new rd}return Object.defineProperty(e.prototype,"callbacksNew",{get:function(){return this.Emitter.getEventNames()},enumerable:!1,configurable:!0}),e.prototype.register=function(e,t){this.extendNew(e,t)},e.prototype.unregister=function(e,t,n){n?this.Emitter.removeListener({event:"".concat(e,"_").concat(t),callback:n}):this.Emitter.removeAllListeners("".concat(e,"_").concat(t))},e.prototype.dispatch=function(e,t,n,r,i){var o;void 0===n&&(n=null),void 0===r&&(r=[]);try{(o=this.Emitter).emit.apply(o,id(["".concat(e,"_").concat(t),n],r,!1))}catch(n){console.error("Occurred error during dispatching ".concat(e,"_").concat(t," event"),n)}i&&this.unregister(e,t)},e.prototype.extendNew=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&"object"==typeof e[n])for(var r in e[n])("function"==typeof e[n][r]&&e[n].hasOwnProperty(r)||e[n][r].hasOwnProperty("name")&&""!==e[n][r].name)&&this.Emitter.addListener({event:"".concat(n,"_").concat(r),callback:e[n][r],context:t})},e}(),ad=od,sd=function(){function e(){this.callbacks={},this.SCHEME_REGEX=/^[^:\/?#]+:/,this.SECURE_PROTOCOL="https:",this.DEFAULT_PROTOCOL="http:",window.context&&window.context.location&&(window.context.location.protocol||window.context.location.href)?window.context.location.protocol?this.protocol=window.context.location.protocol.toLowerCase():this.protocol=window.context.location.href.split(":").shift().toLowerCase():this.protocol=document.location.protocol.toLowerCase(),this.protocol="".concat(this.protocol.split(":").shift(),":"),this.required={},this.toRun=[]}return e.prototype.getConformProtocol=function(){var e;return e=this.SECURE_PROTOCOL===this.protocol?this.SECURE_PROTOCOL:this.DEFAULT_PROTOCOL,(this.getConformProtocol=function(){return e})()},e.prototype.conformProtocol=function(e,t){return"string"==typeof t&&t.length||(t=this.getConformProtocol()),e.replace(this.SCHEME_REGEX,t)},e.prototype.hasDomain=function(e){var t=/^\/\//.test(e);return t||(t=this.SCHEME_REGEX.test(e)),t},e.prototype.isLastRequired=function(e){var t=0;for(var n in this.required)this.required.hasOwnProperty(n)&&this.required[n]&&(this._norm(n,!0)===this._norm(e,!0)?delete this.required[n]:t+=1);return t<1},e.prototype.addStrictFunction=function(e){for(var t=e.toString(),n=0;n<this.toRun.length;n++)if(this.toRun[n].toString()===t)return;this.toRun.push(e)},e.prototype._norm=function(e,t){return null!=e&&(0===e.indexOf(a())||this.hasDomain(e)||(e=a()+e.replace(/\?.*$/,"")),t&&(e=e.replace(/acp\/([^.]+)\.[0-9a-f]*(?=\.js)/,"$1"))),e},e}(),cd=sd,ud=function(){function e(e){this._data=e}return e.prototype.toJson=function(){return JSON.stringify(this._data)},e.prototype.value=function(){return this._data},e}(),ld=function(){return ld=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ld.apply(this,arguments)},pd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},dd=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},hd=n(2018),fd=function(){function e(e,t,n,r,i){void 0===t&&(t=Date.now());var o,a=this;this._isLogged=!1,this._isCanceled=!1,this._shouldWaitRealShow=!1,this._isRealShowFired=!1,this._realShows={},this._webAudio={promise:void 0},this._processRealShowBound=this._processRealShow.bind(this),this._trackBlockShow=function(e,t){var n=e,r=t;return a._isComplexBanner()&&(n=a.targetElement.clientWidth,r=a.targetElement.clientHeight),a._processTracking(n,r)},this._getRequestParams=function(){var e,t,n,r,i,o,s=(new ml).getID(),l=ld(ld({log_visibility:0,blocktype:a._requestParams.blocktype,format:"".concat((null===(e=a.targetElement)||void 0===e?void 0:e.clientWidth)||0,"x").concat((null===(t=a.targetElement)||void 0===t?void 0:t.clientHeight)||0),width:(null===(n=a.targetElement)||void 0===n?void 0:n.clientWidth)||0,height:(null===(r=a.targetElement)||void 0===r?void 0:r.clientHeight)||0,time:a._timeTillShow,ftime:a._ftimeLogTimestamp,ftime_intersection:a._ftimeIntersectionTimestamp,place:a._requestParams.place||"",pad_id:a._requestParams.pad_id,block_id:a._requestParams.block_id,reason:a._logReason,reached:a._requestParams.reached,real_shows:a._realShows,stream:li(),impression_id:a._requestParams.impression_id,uuid:a._getUuid(),fp:a._userID.getID(),fp_version:a._userID.getVersion(),ip_used_by_fp:a._userID.getGatheredIP(),experimental_fps:a._userID.getExperimentalFingerprints(),vcapirs:c,misc:parseInt(a._requestParams.misc,10)||u<<4,rq_type:a._requestParams.rq_type||0},Ve({browser_family:a._uaparser.getBrowser().name,browser_version:a._uaparser.getBrowser().version,os_family:a._uaparser.getOS().name,os_version:a._uaparser.getOS().version,device_type:Fe(a._uaparser.getDevice().type)})),{ya_domain:"",adtech_uid:s.uuid||"",adtech_uid_scope:s.scope||"",publisher_uid:(null===(i=a._optionsB)||void 0===i?void 0:i.publisher_uid)||"",publisher_uid_scope:(null===(o=a._optionsB)||void 0===o?void 0:o.publisher_uid_scope)||""});return void 0!==a._requestParams.pageNumber&&null!==a._requestParams.pageNumber&&(l.pageNumber=a._requestParams.pageNumber),a._requestParams.node_id&&(l.node_id=a._setNodeId()),l},this._tryToLogEarlier=function(){a._couldLogEarlier()&&a._logBlockShow()},this._logBlockShow=function(e){var t;a._isLogged||(a.setLogReason(a._logReason||"unload"),e&&a._isRealShowFired&&a.setLogReason("real_show"),a._requestParams.reached=a._shouldLogImmediately()?0:a._requestParams.reached,a._timeTillShow=a._timeTillShow||a._calcTimeTillShow(),a._setCurrentFtime(),a._setIntersectionFtime(),a._getControlledConfig()&&(0,Oo.removeEventListener)(window,"changestate",a._logBlockShow),null===(t=a._resizeObserver)||void 0===t||t.disconnect(),(!a._shouldWaitRealShow||a._shouldLogImmediately()||e)&&(a._performRequest(e),a._isLogged=!0))},this.targetElement=Oe(e),this._timestampOfTargetElementObservationStart=t,this._requestParams=ld({},n),this._optionsB=r,this._isGraphEmpty()?(this.setLogReason("no_banner"),this._tryToLogEarlier()):this.targetElement?(this._setWatchers(),this._processBannerPlaceSearch(r)):(this.setLogReason("place_not_found"),this._tryToLogEarlier()),204===Cp.resStatusCode&&this.setLogReason("empty_banner");var s=this._getControlledConfig();!this._isLogged&&s&&(0,Oo.addEventListener)(window,"changestate",this._logBlockShow),this._onUnloadCaller=new ye(this._logBlockShow);var l=(null===(o=this._contextService.savedFeeds[this._requestParams.impression_id])||void 0===o?void 0:o.feed.banners)||(null==i?void 0:i.banners);this.setShouldWaitRealShow(l),this.registerForRealShowEvent(),this._webAudio.promise=this._userID.getWebAudioFp(),this._webAudio.promise.then((function(e){a._webAudio.fp=e}))}return e.prototype.setRequestParamValue=function(e,t){this._requestParams[e]=t},e.prototype.cancel=function(){var e,t,n;this._isCanceled=!0,this.setLogReason("replaced"),null===(e=this._resizeObserver)||void 0===e||e.disconnect(),null===(t=this._intersectionObserver)||void 0===t||t.disconnect(),null===(n=this._targetRemovalDetection)||void 0===n||n.disconnect(),this.unregisterForRealShowEvent(),this._tryToLogEarlier()},e.prototype.getWebAudioPromise=function(){return this._webAudio.promise},e.prototype._processBannerPlaceSearch=function(e){var t=this;this._renderingWatcherFactory(this.targetElement,e,!1).start().then((function(e){document.body.contains(e.actualBannerPlace)&&t.setActualBannerPlace(e.actualBannerPlace)}))},e.prototype.setActualBannerPlace=function(e){var t,n,r,i;e&&e!==this.targetElement&&!this._isCanceled&&(null===(n=null===(t=this._resizeObserver)||void 0===t?void 0:t.disconnect)||void 0===n||n.call(t),null===(i=null===(r=this._intersectionObserver)||void 0===r?void 0:r.disconnect)||void 0===i||i.call(r),this.targetElement=e,this._setWatchers())},e.prototype._setWatchers=function(){this._watchBlockResize(),this._trackReach(),this._detectTargetRemoval()},e.prototype._detectTargetRemoval=function(){var e,t=this,n=!1;this._targetRemovalDetection=new MutationObserver((function(r){for(var i=0,o=r;i<o.length;i++){var a=o[i],s=a.addedNodes,c=a.removedNodes;s.length&&n&&(t.setRequestParamValue("reached",0),t.setActualBannerPlace(s[0]),t._processBannerPlaceSearch(this._optionsB)),s.length&&(e=s[0]),c.length&&Array.from(c).includes(e)&&(n=!0)}})),this._targetRemovalDetection.observe(this.targetElement,{childList:!0})},e.prototype._trackReach=function(){var e=this;1!==this._requestParams.reached?(this._intersectionObserver=new IntersectionObserver((function(t){(null==t?void 0:t[0]).isIntersecting&&(e.setRequestParamValue("reached",1),e._intersectionObserver.disconnect(),e._setIntersectionFtime(),e._tryToLogEarlier())}),{root:null,rootMargin:"0px",threshold:[0]}),this._intersectionObserver.observe(this.targetElement)):this._tryToLogEarlier()},e.prototype._calcTimeTillShow=function(){return Math.abs(Date.now()-this._timestampOfTargetElementObservationStart)},e.prototype._isGraphEmpty=function(){return 0===this._requestParams.graphAmount},e.prototype._watchBlockResize=function(){var e=this;this._resizeObserver=new hd((function(t,n){if(Ir(e.targetElement))for(var r=0,i=t;r<i.length;r++){var o=i[r];e._trackBlockShow(o.contentRect.width,o.contentRect.height)&&n.disconnect()}else n.disconnect()})),this._resizeObserver.observe(this.targetElement)},e.prototype._isComplexBanner=function(){var t=this,n=this.targetElement.querySelector(f);if(!n&&this.targetElement.matches(f)&&(n=this.targetElement),n){var r=Je.getActualBannerPlace(n);return r?(this.setActualBannerPlace(r),!0):e.specificBanners.some((function(e){return!!n.querySelector(e.selector)&&(t._trackSpecificBanner(e.name),!0)}))}return!1},e.prototype._trackSpecificBanner=function(e){var t=document.body,n=this;new MutationObserver((function(t){for(var r=0,i=t;r<i.length;r++){"childList"===i[r].type&&n.setActualBannerPlace(Je.getActualBannerPlace(document.body,e)||n.targetElement)}})).observe(t,{childList:!0})},e.prototype._processTracking=function(e,t){if(e>15&&t>15){var n=this.targetElement.querySelector(f);return!n&&this.targetElement.matches(f)&&(n=this.targetElement),this.setLogReason("check_size"),this._timeTillShow=this._calcTimeTillShow(),this._setCurrentFtime(),this._tryToLogEarlier(),!0}return!1},e.prototype._setNodeId=function(){var e,t;return this._requestParams.node_id.includes("__ban_")?null===(t=null===(e=document.querySelector("#".concat(this._requestParams.node_id)))||void 0===e?void 0:e.parentElement)||void 0===t?void 0:t.id:this._requestParams.node_id},e.prototype._getUuid=function(){var e,t;if(this._requestParams.uuid)return this._requestParams.uuid;var n=this._contextService.savedFeeds[this._requestParams.impression_id];return(null===(t=null===(e=null==n?void 0:n.feed)||void 0===e?void 0:e.cookies)||void 0===t?void 0:t.uuid)||""},e.prototype._setCurrentFtime=function(){this._ftimeLogTimestamp=this._ftimeLogTimestamp||Math.round(performance.now())},e.prototype._setIntersectionFtime=function(){this._ftimeIntersectionTimestamp=this._ftimeIntersectionTimestamp||Math.round(performance.now())},e.prototype._couldLogEarlier=function(){return!!this._shouldLogImmediately()||("check_size"===this._logReason||this._isRealShowFired)&&1===this._requestParams.reached},e.prototype._shouldLogImmediately=function(){return"replaced"===this._logReason||"no_banner"===this._logReason||"place_not_found"===this._logReason},e.prototype._sendStat=function(e){var t=e.shouldBeaconSupported,n=e.postUrl,r=e.blockStatReq,i=e.asyncFlag;t?navigator.sendBeacon.call(navigator,n,r):Ee(n,{data:r,async:i})},e.prototype._performRequest=function(t){var n=this._getRequestParams(),r=t?n:this.processRealShowEventBeforeStatSent(n),i=this._webAudio.fp;i&&(r.experimental_fps.webAudioFp=i);var o,a=new ud(r);this._sendStat({shouldBeaconSupported:(o=this._uaparser.getOS(),!!(null===navigator||void 0===navigator?void 0:navigator.sendBeacon)&&(!o.version||Ue(o))),postUrl:pi(e.POST_BLOCKSTAT_URL),blockStatReq:a.toJson(),asyncFlag:!t})},e.prototype._getControlledConfig=function(){return this._config.getConfigValue("COLLECT_ANALITYCS_ON_HISTORY_CHANGE")},e.prototype.setLogReason=function(e){this._logReason=e},e.prototype.setShouldWaitRealShow=function(e){this._shouldWaitRealShow=null==e?void 0:e.graph.some((function(e){return g.some((function(t){return t===e.user_id}))}))},e.prototype.registerForRealShowEvent=function(){var e,t;this._shouldWaitRealShow&&window.Begun.Autocontext.Callbacks.register(((e={})[ae.BLOCK]=((t={})[se.REAL_SHOW]=this._processRealShowBound,t),e))},e.prototype.unregisterForRealShowEvent=function(){window.Begun.Autocontext.Callbacks.unregister(ae.BLOCK,se.REAL_SHOW,this._processRealShowBound)},e.prototype._processRealShow=function(e,t,n){this._requestParams.impression_id===e&&(this._realShows[t]=n,this._isRealShowFired=!!n,this._isRealShowFired&&(this._shouldWaitRealShow=!1,this.unregisterForRealShowEvent(),this._tryToLogEarlier()))},e.prototype.processRealShowEventBeforeStatSent=function(e){return this._isRealShowFired?(e.reason=this._shouldLogImmediately()?e.reason:"real_show",e):e},e.POST_BLOCKSTAT_URL=d,e.specificBanners=[{selector:"script[src*='Fullscreen']",name:de.FULLSCREEN},{selector:"script[src*='FloatingBillboard']",name:de.FLOATING_BILLBOARD}],pd([ue(ee.UserID),dd("design:type",mr)],e.prototype,"_userID",void 0),pd([ue(ee.BegunAutocontext),dd("design:type",Object)],e.prototype,"_contextService",void 0),pd([ue(ee.Config),dd("design:type",Object)],e.prototype,"_config",void 0),pd([ue(ee.UaParserService),dd("design:type",fe())],e.prototype,"_uaparser",void 0),pd([ue(ee.RenderingWatcherFactory),dd("design:type",Function)],e.prototype,"_renderingWatcherFactory",void 0),e}(),vd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},gd=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},md=function(e){return"".concat(e,".statLogger")},bd=function(){function e(e,t,n,r){void 0===t&&(t=Date.now());var i=ic(e),o=this._store.get(md(i));o&&(o.cancel(),this._store.delete(md(i))),this._store.set(md(i),new fd(e,t,n,r))}return vd([ue(ee.Store),gd("design:type",Object)],e.prototype,"_store",void 0),e}(),yd=function(e){var t=e.styleNonceValue,n=e.bannerClassName,r=e.widthValue,i=e.heightValue,o=e.source;return'\n  <iframe\n    src="'.concat(o,'"\n    scrolling="no"\n    frameborder="0"\n    marginheight="0"\n    marginwidth="0"\n    sandbox="allow-scripts allow-forms allow-popups allow-same-origin"\n    class="').concat(n,'"\n  ></iframe>\n  <style type="text/css" nonce="').concat(t,'">\n    .').concat(n," {\n      display: inherit;\n      width: ").concat(r,";\n      height: ").concat(i,";\n    }\n  </style>\n")},wd=function(e){var t=e.impressionID;return'<div class="xhtml_banner" id="axhtml-'.concat(t,'"></div>')},_d=function(e){var t=e.impressionID,n=e.styleNonceValue,r=e.bannerClassName,i=e.widthValue,o=e.heightValue;return'\n  <iframe\n    scrolling="no"\n    frameborder="0"\n    marginheight="0"\n    marginwidth="0"\n    id="axhtml-'.concat(t,'"\n    sandbox="allow-scripts allow-forms allow-popups allow-same-origin"\n    class="xhtml_banner ').concat(r,'"\n  >\n  </iframe>\n  <style type="text/css" nonce="').concat(n,'">\n    .').concat(r," {\n      display: inherit;\n      width: ").concat(i,";\n      height: ").concat(o,";\n    }\n  </style>\n")},Sd=function(e){var t=e.url,n=void 0===t?"":t,r=e.source,i=void 0===r?"":r,o=e.styleNonceValue,a=e.bannerClassName,s=e.widthValue,c=e.heightValue;return'\n  <a href="'.concat(n,'" target="_blank">\n    <img src="').concat(i,'" border="0" class="').concat(a,'" />\n  </a>\n  <style type="text/css" nonce="').concat(o,'">\n    .').concat(a," {\n      display: inherit;\n      width: ").concat(s,";\n      height: ").concat(c,";\n    }\n  </style>\n")},Ed=function(){return""},kd=function(){function e(){}return e.prototype.getBannerTemplate=function(e){return r[e]},e}(),Od=function(){return Od=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Od.apply(this,arguments)},Td=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{c(r.next(e))}catch(e){o(e)}}function s(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((r=r.apply(e,t||[])).next())}))},xd=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cd=function(){function e(){this.defaultOpts={mute:!0}}return e.prototype.startVideo=function(e,t){return Td(this,void 0,void 0,(function(){var n,r,i,o,a,s;return xd(this,(function(c){switch(c.label){case 0:n={success:!0},r=Kr(),c.label=1;case 1:return c.trys.push([1,5,,6]),[4,this.getVastPlaybackLazy()];case 2:return i=c.sent(),[4,(o=new i({containerElement:e})).load(Od(Od(Od({},this.defaultOpts),{onLoadLogger:function(e){r({event:jr.VAST_RECEIVED,url:e})},onErrorAfterLoadLogger:function(e){r({event:jr.SOME_ERROR_AFTER_VAST_RECEIVED,url:e})}}),t))];case 3:return c.sent(),[4,o.startWhenVisible()];case 4:return(a=c.sent()).error&&(n={success:!1,error:a.error}),[3,6];case 5:return s=c.sent(),r({event:jr.VAST_NOT_RECEIVED_ERROR,description:s.message}),n={success:!1,error:s},[3,6];case 6:return[2,n]}}))}))},e.prototype.getVastPlaybackLazy=function(){return Td(this,void 0,void 0,(function(){var e;return xd(this,(function(t){switch(t.label){case 0:return this.VastPlaybackClass?[3,2]:[4,n.e(723).then(n.bind(n,9950))];case 1:e=t.sent(),this.VastPlaybackClass=e.VastPlayback,t.label=2;case 2:return[2,this.VastPlaybackClass]}}))}))},e}(),Pd=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Id=Y(n(9385));ce.bind(ee.SyncShow).to(Io).inSingletonScope(),ce.bind(ee.AdfUtil).to(ac).inSingletonScope(),ce.bind(ee.MethodsInitializer).to(hp).inSingletonScope(),ce.bind(ee.BegunAutocontext).to(Vp).inSingletonScope(),ce.bind(ee.BegunScripts).to(cd).inSingletonScope(),ce.bind(ee.MonitorClass).to(Qe).inSingletonScope(),ce.bind(ee.Refresher).to(Do).inSingletonScope(),ce.bind(ee.InViewTimerStarter).to(Fc).inSingletonScope(),ce.bind(ee.DataLoader).toValue(new Rn),ce.bind(ee.SSPRequestsSessionsObserver).to(tl).inSingletonScope(),ce.bind(ee.EventEmitter).to(ad).inSingletonScope(),ce.bind(ee.Store).to(Zp).inSingletonScope(),ce.bind(ee.ConfigOptions).toValue(n(4398)),ce.bind(ee.Config).to(xi).inSingletonScope();var Rd,Ad=pe(window);ce.bind(ee.ToolbarHelper).toValue(Ad.includes(w.NO_TOOLBAR)?new Ei:new Si),ce.bind(ee.MetricsTimer).to(yi).inSingletonScope(),ce.bind(ee.blockShowLoggerFactory).toValue((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(fd.bind.apply(fd,Pd([void 0],e,!1)))})),ce.bind(ee.cachedBlockShowLoggerFactory).toValue((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(bd.bind.apply(bd,Pd([void 0],e,!1)))})),ce.bind(ee.RenderingWatcherFactory).toValue((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(dc.bind.apply(dc,Pd([void 0],e,!1)))})),ce.bind(ee.UserID).toValue(((Rd=new mr({onInitFPDiscovery:!0,ipDiscUrl:"//ssp.rambler.ru/userip",webRTCStunServerURI:"stun:stun.ssp.rambler.ru"})).getFingerPrint(),Rd.subscribeOnWebRTC((function(){Id.log(400,"Method WebRTC.getID() have been called")})),Rd)),ce.bind(ee.UaParserService).toValue(new(fe())(navigator.userAgent)),ce.bind(ee.CoveringWatcher).to(Js).inSingletonScope(),ce.bind(ee.BannerTemplatesStore).to(kd),ce.bind(ee.SSPRequestParamsBuilderFactory).toValue((function(e){return new Cl(e)})),ce.bind(ee.SSPRequestParamsDirector).to(Ll),ce.bind(ee.VastPlaybackWrapper).to(Cd),ce.bind(ee.PerformanceTemplatesWrapper).to(Cr);var Dd=Ad.includes(w.METRICS)||Math.random()<.01;gi.debug_mode=Ad.includes(w.METRICS),Dd?ce.bind(ee.MetricsTransport).toValue(gi.getInstance()):ce.bind(ee.MetricsTransport).to(mi).inSingletonScope();var jd=function(){function e(){}return e.prototype.startsWith=function(e,t){return 0===e.lastIndexOf(t,0)},e.prototype.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},e}(),Bd=jd,Ld=function(){function e(t){this.localDocument=t,e.SPLIT_RE_=/\s*;\s*/}return e.prototype.getCookie_=function(){return this.localDocument.cookie},e.prototype.getParts_=function(){return(this.getCookie_()||"").split(e.SPLIT_RE_)},e.prototype.get=function(e,t){for(var n="".concat(e,"="),r=this.getParts_(),i=new Bd,o=0;o<r.length;o++){var a=r[o];if(i.startsWith(a,n))return a.substr(n.length);if(a===e)return""}return t},e}(),Nd=Ld,Fd=Y(n(9385)),Md=function(){function e(){this.USING_PROTOCOLS={http:"http:",https:"https:"},this.COOKIE_KEY="_montblanc",this.PROTOCOL=this.USING_PROTOCOLS.https===location.protocol?this.USING_PROTOCOLS.https:this.USING_PROTOCOLS.http,this.SYNC_URL="".concat(this.PROTOCOL,"//montblanc.rambler.ru/mb"),this.synced=!1,this.string=new Bd,this.Cookies=new Nd(document)}return e.prototype.sync=function(){this.synced||(this.synced=!0,Le({action:"append",src:this.SYNC_URL,async:!0}))},e.prototype.getParts_=function(){var e=this.Cookies.get(this.COOKIE_KEY,"");return this.string.urlDecode(e).split("&")},e.prototype.get=function(e,t){this.sync();var n,r="".concat(e,"="),i=this.getParts_(),o=0;do{if(n=i[o]){if(this.string.startsWith(n,r))return this.string.urlDecode(n.substr(r.length));if(n===e)return"";o+=1}}while(n);return t},e}();Object.defineProperty(window,"_montblanc",{configurable:!0,enumerable:!0,get:function(){return Fd.log(401,"Montblanc no longer supported. Please stop using it."),window.__montblanc},set:function(e){window.__montblanc=e}}),window._montblanc=new Md;var Vd,qd,Hd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Ud=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wd=function(){function e(){this.mobileScrollRate=(window.Adf?window.Adf.mobileScrollRate:0)||0,this.desktopScrollRate=(window.Adf?window.Adf.desktopScrollRate:0)||0}return Hd([ue(ee.AdfUtil),Ud("design:type",Object)],e.prototype,"util",void 0),Hd([ue(ee.MethodsInitializer),Ud("design:type",Object)],e.prototype,"banner",void 0),Hd([ue(ee.Refresher),Ud("design:type",Do)],e.prototype,"refresher",void 0),e}(),zd=function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},Gd=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xd=function(){function e(){if(this.Asynced=!0,this.loaderCallbacks=[],this.emptySSPResponses={},void 0!==this.loaderCallbacks)for(var e=0;e<this.loaderCallbacks.length;e++)this.loaderCallbacks[e]()}return zd([ue(ee.BegunAutocontext),Gd("design:type",Object)],e.prototype,"Autocontext",void 0),zd([ue(ee.BegunScripts),Gd("design:type",Object)],e.prototype,"Scripts",void 0),zd([ue(ee.ToolbarHelper),Gd("design:type",Si)],e.prototype,"toolbarHelper",void 0),e}(),Jd=Xd,Kd=function(){function e(){}return e.attemptPreload=function(){e.checkPlace()&&e.optimizeDomain()},e.checkPlace=function(){return e.places.some((function(e){return window.location.href.includes(e)||document.referrer.includes(e)}))},e.optimizeDomain=function(){Object.keys(e.optimizedDomains).forEach((function(t){e.createLink(e.optimizedDomains[t],"preconnect"),e.createLink(e.optimizedDomains[t],"dns-prefetch")}))},e.createLink=function(e,t){var n=document.createElement("link");n.rel=t,n.href=e,"preconnect"===t&&(n.crossOrigin="anonymous"),(document.head||document.body).appendChild(n)},e.optimizedDomains=["https://bs.serving-sys.com","https://secure-ds.serving-sys.com"],e.places=["lenta.ru","www.championat.com"],e}(),Yd=Kd,Zd=function(){function e(){}return e.preloadSizmek=function(){Yd.attemptPreload()},e}();Vd=le(ee.Config)().getConfigValue("STYLE_NONCE_VALUE"),(qd=document.createElement("style")).innerHTML=n(1485),qd.setAttribute("nonce",Vd),document&&(document.body||document.head).appendChild(qd),window.Debug=new Q(-1!==location.href.indexOf("adfox_debug=1"),{CSLogger:n(9385)}),window.Adf=new Wd,window.Begun=new Jd,window.Begun.Autocontext.Callbacks.dispatch(ae.LIB,se.INIT),Zd.preloadSizmek()},3241:function(){
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(e){"use strict";if("Element"in e){var t="classList",n="prototype",r=e.Element[n],i=Object,o=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},a=Array[n].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},s=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},c=function(e,t){if(""===t)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return a.call(e,t)},u=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=u[n]=[],p=function(){return new u(this)};if(s[n]=Error[n],l.item=function(e){return this[e]||null},l.contains=function(e){return-1!==c(this,e+="")},l.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{-1===c(this,e=t[n]+"")&&(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},l.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(t=c(this,e=n[r]+"");-1!==t;)this.splice(t,1),o=!0,t=c(this,e)}while(++r<i);o&&this._updateClassName()},l.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},l.toString=function(){return this.join(" ")},i.defineProperty){var d={get:p,enumerable:!0,configurable:!0};try{i.defineProperty(r,t,d)}catch(e){void 0!==e.number&&-2146823252!==e.number||(d.enumerable=!1,i.defineProperty(r,t,d))}}else i[n].__defineGetter__&&r.__defineGetter__(t,p)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}())},8249:function(e,t){var n;e.exports=(n=n||function(e,t){var n=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(e){var t=n(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n,r=[],i=function(t){var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(t=18e3*(65535&t)+(t>>16)&r)&r;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=i(4294967296*(n||e.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new a.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},p=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,u=e.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(r,l);var p=r.splice(0,c);n.sigBytes-=u}return new a.init(p,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=p.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),r.algo={});return r}(Math),n)},8214:function(e,t,n){var r;e.exports=(r=n(8249),function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],h=e[t+2],f=e[t+3],v=e[t+4],g=e[t+5],m=e[t+6],b=e[t+7],y=e[t+8],w=e[t+9],_=e[t+10],S=e[t+11],E=e[t+12],k=e[t+13],O=e[t+14],T=e[t+15],x=o[0],C=o[1],P=o[2],I=o[3];x=u(x,C,P,I,a,7,s[0]),I=u(I,x,C,P,c,12,s[1]),P=u(P,I,x,C,h,17,s[2]),C=u(C,P,I,x,f,22,s[3]),x=u(x,C,P,I,v,7,s[4]),I=u(I,x,C,P,g,12,s[5]),P=u(P,I,x,C,m,17,s[6]),C=u(C,P,I,x,b,22,s[7]),x=u(x,C,P,I,y,7,s[8]),I=u(I,x,C,P,w,12,s[9]),P=u(P,I,x,C,_,17,s[10]),C=u(C,P,I,x,S,22,s[11]),x=u(x,C,P,I,E,7,s[12]),I=u(I,x,C,P,k,12,s[13]),P=u(P,I,x,C,O,17,s[14]),x=l(x,C=u(C,P,I,x,T,22,s[15]),P,I,c,5,s[16]),I=l(I,x,C,P,m,9,s[17]),P=l(P,I,x,C,S,14,s[18]),C=l(C,P,I,x,a,20,s[19]),x=l(x,C,P,I,g,5,s[20]),I=l(I,x,C,P,_,9,s[21]),P=l(P,I,x,C,T,14,s[22]),C=l(C,P,I,x,v,20,s[23]),x=l(x,C,P,I,w,5,s[24]),I=l(I,x,C,P,O,9,s[25]),P=l(P,I,x,C,f,14,s[26]),C=l(C,P,I,x,y,20,s[27]),x=l(x,C,P,I,k,5,s[28]),I=l(I,x,C,P,h,9,s[29]),P=l(P,I,x,C,b,14,s[30]),x=p(x,C=l(C,P,I,x,E,20,s[31]),P,I,g,4,s[32]),I=p(I,x,C,P,y,11,s[33]),P=p(P,I,x,C,S,16,s[34]),C=p(C,P,I,x,O,23,s[35]),x=p(x,C,P,I,c,4,s[36]),I=p(I,x,C,P,v,11,s[37]),P=p(P,I,x,C,b,16,s[38]),C=p(C,P,I,x,_,23,s[39]),x=p(x,C,P,I,k,4,s[40]),I=p(I,x,C,P,a,11,s[41]),P=p(P,I,x,C,f,16,s[42]),C=p(C,P,I,x,m,23,s[43]),x=p(x,C,P,I,w,4,s[44]),I=p(I,x,C,P,E,11,s[45]),P=p(P,I,x,C,T,16,s[46]),x=d(x,C=p(C,P,I,x,h,23,s[47]),P,I,a,6,s[48]),I=d(I,x,C,P,b,10,s[49]),P=d(P,I,x,C,O,15,s[50]),C=d(C,P,I,x,g,21,s[51]),x=d(x,C,P,I,E,6,s[52]),I=d(I,x,C,P,f,10,s[53]),P=d(P,I,x,C,_,15,s[54]),C=d(C,P,I,x,c,21,s[55]),x=d(x,C,P,I,y,6,s[56]),I=d(I,x,C,P,T,10,s[57]),P=d(P,I,x,C,m,15,s[58]),C=d(C,P,I,x,k,21,s[59]),x=d(x,C,P,I,v,6,s[60]),I=d(I,x,C,P,S,10,s[61]),P=d(P,I,x,C,h,15,s[62]),C=d(C,P,I,x,w,21,s[63]),o[0]=o[0]+x|0,o[1]=o[1]+C|0,o[2]=o[2]+P|0,o[3]=o[3]+I|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var o=e.floor(r/4294967296),a=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+i+a;return(s<<o|s>>>32-o)+t}function p(e,t,n,r,i,o,a){var s=e+(t^n^r)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)},5119:function(e,t,n){(t=n(3645)(!1)).push([e.id,".inview-timers-wrapper{font-family:Helvetica, Arial, sans-serif;position:fixed;overflow:hidden;top:50px;right:10px;z-index:9999999999;width:280px;height:auto;max-height:100vh;background:#fff;-webkit-box-shadow:0 0 10px rgba(0,0,0,0.5);-moz-box-shadow:0 0 10px rgba(0,0,0,0.5);box-shadow:0 0 10px rgba(0,0,0,0.5);padding:4px;font-size:12px}.inview-timers-wrapper .inview-timers__row{position:relative;overflow:hidden;width:100%;display:flex;flex-direction:row;align-items:center;justify-content:space-between}.inview-timers-wrapper .inview-timers__row svg{width:1em;height:1em}.inview-timers-wrapper .inview-timers__row.is-widget-header svg{width:1.5em;height:1.5em}.inview-timers-wrapper .column{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline;overflow:hidden;text-align:center;padding:0.25em;float:none;width:12.5%}.inview-timers-wrapper .column hr{padding:0;margin:0}.inview-timers-wrapper .column.is-title{max-height:32px}.inview-timers-wrapper .column.is-viewed-indicator svg,.inview-timers-wrapper .column.is-nohover-indicator svg,.inview-timers-wrapper .column.is-reloaded-indicator svg{display:none}.inview-timers-wrapper .column.is-viewed-indicator svg.is-visible,.inview-timers-wrapper .column.is-nohover-indicator svg.is-visible,.inview-timers-wrapper .column.is-reloaded-indicator svg.is-visible{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline}.inview-timers-wrapper .column.is-direction-indicator{-webkit-transform-origin:50% 50%;-moz-transform-origin:50% 50%;-ms-transform-origin:50% 50%;-o-transform-origin:50% 50%;transform-origin:50% 50%}.inview-timers-wrapper .column.is-direction-indicator::after{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline;content:'';width:0;height:100%}.inview-timers-wrapper .column.is-direction-indicator svg{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline}.inview-timers-wrapper .is-widget-title{text-align:center}.inviewtime-sticker{display:flex;align-items:center;white-space:nowrap;font:12px/1 Helvetica, Arial, sans-serif;position:absolute;top:0;left:0;background:#f00;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;color:#fff;text-align:center;z-index:9;padding:10px}.inviewtime-sticker::before{content:'';display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline;height:100%}.inviewtime-sticker hr{padding:0;margin:0.25em 0}.inviewtime-sticker span{display:-moz-inline-stack;display:inline-block;vertical-align:middle;*vertical-align:auto;zoom:1;*display:inline}.inviewtime-sticker span.inviewtime-sticker__symbol{font-size:18px}\n",""]),e.exports=t},8262:function(e,t,n){(t=n(3645)(!1)).push([e.id,"div[id^='AdFox_banner'],div[id^='begun_block'],div[id^='begun_block']>iframe,iframe[id^='AdFox_iframe']{display:block;margin-right:auto;margin-left:auto}div[id^='begun_block'],div[id^='__ban_']{flex:1 1 auto;max-width:100%;width:100%}#pushwoosh-popup{pointer-events:auto !important}.pushwoosh__container{pointer-events:none !important}.mol-vast-skip-control{display:none}\n",""]),e.exports=t},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(c," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([i]).join("\n")}var a,s,c;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var a=this[o][0];null!=a&&(i[a]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);r&&i[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),t.push(c))}},t}},3654:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1})},4861:function(e){!function(){function t(e,t,n){var r;document.createEvent?(r=document.createEvent("HTMLEvents")).initEvent(t,!0,!0):document.createEventObject&&((r=document.createEventObject()).eventType=t),r.state=n,r.eventName=t,e.dispatchEvent?e.dispatchEvent(r):e.fireEvent&&htmlEvents["on"+t]?e.fireEvent("on"+r.eventType,r):e[t]?e[t]():e["on"+t]&&e["on"+t]()}function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&htmlEvents["on"+t]?e.attachEvent("on"+t,n):e["on"+t]=n}function r(){return"undefined"!=typeof window&&window.history&&"pushState"in window.history}if(r()){var i=window.history,o=i.pushState;i.pushState=function(e){var n=o.apply(i,arguments);return t(window,"pushstate",e),t(window,"changestate",e),n};var a=i.replaceState;i.replaceState=function(e){var n=a.apply(i,arguments);return t(window,"replacestate",e),t(window,"changestate",e),n},n(window,"popstate",(function(e){t(window,"changestate",e.state)}))}var s={isHistorySupported:r,addEventListener:n,removeEventListener:function(e,t,n){e.removeventListener?e.removeEventListener(t,n,!1):e.detachEvent&&htmlEvents["on"+t]?e.detachEvent("on"+t,n):e["on"+t]=null},triggerEvent:t};r()&&(window.HistoryEvents=s),e.exports=s}()},6337:function(){!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=i(t);n;)n=i(t=n.ownerDocument);return t}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,o=null,a=null;this.POLL_INTERVAL?o=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(o&&e.clearInterval(o),c(e,"resize",r,!0)),c(t,"scroll",r,!0),a&&a.disconnect()}));var u=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=u){var l=i(t);l&&this._monitorIntersections(l.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,o=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var o=i(n);if((n=o&&o.ownerDocument)==t)return!0}return!1}));if(!o){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=i(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=l(i),s=this._rootContainsTarget(i),c=r.entry,u=e&&s&&this._computeTargetAndRootIntersection(i,a,t),p=null;this._rootContainsTarget(i)?n&&!this.root||(p=t):p={top:0,bottom:0,left:0,right:0,width:0,height:0};var d=r.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:p,intersectionRect:u});c?e&&s?this._hasCrossedThreshold(c,d)&&this._queuedEntries.push(d):c&&c.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){for(var a=i,s=f(t),c=!1;!c&&s;){var p=null,h=1==s.nodeType?window.getComputedStyle(s):{};if("none"==h.display)return null;if(s==this.root||9==s.nodeType)if(c=!0,s==this.root||s==e)n&&!this.root?!r||0==r.width&&0==r.height?(s=null,p=null,a=null):p=r:p=o;else{var v=f(s),g=v&&l(v),m=v&&this._computeTargetAndRootIntersection(v,g,o);g&&m?(s=v,p=d(g,m)):(s=null,a=null)}else{var b=s.ownerDocument;s!=b.body&&s!=b.documentElement&&"visible"!=h.overflow&&(p=l(s))}if(p&&(a=u(p,a)),!a)break;s=s&&f(s)}return a}},a.prototype._getRootRect=function(){var t;if(this.root&&!v(this.root))t=l(this.root);else{var n=v(this.root)?this.root:e,r=n.documentElement,i=n.body;t={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||h(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return h(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=p(e.rootBounds),this.boundingClientRect=p(e.boundingClientRect),this.intersectionRect=p(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType&&9!=o.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function c(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function u(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}||null}function l(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function p(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function h(e,t){for(var n=t;n;){if(n==e)return!0;n=f(n)}return!1}function f(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?i(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function v(e){return e&&9===e.nodeType}}()},1176:function(e){"use strict";e.exports.get=function(e){if(document.cookie&&document.cookie.length){for(var t,n=document.cookie.split(";"),r={},i=0,o=n.length;i<o;i++)r[(t=n[i].replace(/^(\s|\u00A0)+/g,"").split("="))[0]]=decodeURIComponent(t[1]);return e?r[e]:r}},e.exports.set=function(e,t,n){if(void 0!==e&&void 0!==t){var r=(n=n||{}).expires||{};"number"==typeof n.expires&&(r=new Date).setTime(r.getTime()+24*n.expires*60*60*1e3);var i=e+"="+encodeURIComponent(t);return i+=r.toUTCString?"; expires="+r.toUTCString():"",i+=n.path?"; path="+n.path:"",i+=n.domain?"; domain="+n.domain:"",i+=n.samesite?"; samesite="+n.samesite:"",i+=n.secure?"; secure":"",document.cookie=i,i}},e.exports.remove=function(t,n){return(n=n||{}).expires=-1,e.exports.set(t,"",n)}},2896:function(e,t,n){"use strict";var r=n(6169);e=n.hmd(e);var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Z.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.Z=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},8277:function(e,t,n){"use strict";var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.Z=r},9730:function(e,t,n){"use strict";var r=n(8277);e=n.hmd(e);var i="object"==typeof exports&&exports&&!exports.nodeType&&exports,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.Z.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();t.Z=s},6169:function(e,t,n){"use strict";var r=n(8277),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.Z||i||Function("return this")();t.Z=o},9710:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(6169);var i=function(){return!1};e=n.hmd(e);var o="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Z.Buffer:void 0,c=(s?s.isBuffer:void 0)||i},1309:function(e,t,n){var r=n(479),i=n(3925);e.exports=r,e.exports.murmur3=r,e.exports.murmur2=i},3925:function(e){e.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}},479:function(e){e.exports=function(e,t){var n,r,i,o,a,s,c,u;for(n=3&e.length,r=e.length-n,i=t,a=3432918353,s=461845907,u=0;u<r;)c=255&e.charCodeAt(u)|(255&e.charCodeAt(++u))<<8|(255&e.charCodeAt(++u))<<16|(255&e.charCodeAt(++u))<<24,++u,i=27492+(65535&(o=5*(65535&(i=(i^=c=(65535&(c=(c=(65535&c)*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(c=0,n){case 3:c^=(255&e.charCodeAt(u+2))<<16;case 2:c^=(255&e.charCodeAt(u+1))<<8;case 1:i^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(u)))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<15|c>>>17))*s+(((c>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}},2587:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var c=e.length;s>0&&c>s&&(c=s);for(var u=0;u<c;++u){var l,p,d,h,f=e[u].replace(a,"%20"),v=f.indexOf(r);v>=0?(l=f.substr(0,v),p=f.substr(v+1)):(l=f,p=""),d=decodeURIComponent(l),h=decodeURIComponent(p),t(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},2361:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},7673:function(e,t,n){"use strict";t.decode=t.parse=n(2587),t.encode=t.stringify=n(2361)},4171:function(e){function t(e){this.name="RavenConfigError",this.message=e}t.prototype=new Error,t.prototype.constructor=t,e.exports=t},5606:function(e,t,n){var r=n(6862);e.exports={wrapMethod:function(e,t,n){var i=e[t],o=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),c={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),c.extra.arguments=e.slice(1),n&&n(s,c)):n&&n(s,c),i&&Function.prototype.apply.call(i,o,e)}}}}},5378:function(e,t,n){var r=n(9026),i=n(2264),o=n(705),a=n(4171),s=n(6862),c=s.isErrorEvent,u=s.isDOMError,l=s.isDOMException,p=s.isError,d=s.isObject,h=s.isPlainObject,f=s.isUndefined,v=s.isFunction,g=s.isString,m=s.isArray,b=s.isEmptyObject,y=s.each,w=s.objectMerge,_=s.truncate,S=s.objectFrozen,E=s.hasKey,k=s.joinRegExp,O=s.urlencode,T=s.uuid4,x=s.htmlTreeAsString,C=s.isSameException,P=s.isSameStacktrace,I=s.parseUrl,R=s.fill,A=s.supportsFetch,D=s.supportsReferrerPolicy,j=s.serializeKeysForMessage,B=s.serializeException,L=s.sanitize,N=n(5606).wrapMethod,F="source protocol user pass host port path".split(" "),M=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function V(){return+new Date}var q="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},H=q.document,U=q.navigator;function W(e,t){return v(t)?function(n){return t(n,e)}:t}function z(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!f(H),this._hasNavigator=!f(U),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:q.SENTRY_RELEASE&&q.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:D()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=q.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=V(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=q.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}z.prototype={VERSION:"3.27.2",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var i=n._globalOptions;t&&y(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:i[e]=t})),n.setDSN(e),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=k(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&k(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&k(i.whitelistUrls),i.includePaths=k(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=w(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a;var s={tryCatch:!0},c=i.instrument;return"[object Object]"==={}.toString.call(c)?c=w(s,c):!1!==c&&(c=s),i.instrument=c,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+i+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return v(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(f(t)&&!v(e))return e;if(v(e)&&(t=e,e=void 0),!v(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function i(){var i=[],o=arguments.length,a=!e||e&&!1!==e.deep;for(n&&v(n)&&n.apply(this,arguments);o--;)i[o]=a?r.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,i)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var o in t)E(t,o)&&(i[o]=t[o]);return i.prototype=t.prototype,t.__raven_wrapper__=i,i.__raven__=!0,i.__orig__=t,i},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),q.addEventListener&&q.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return q.removeEventListener&&q.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=w({trimHeadFrames:0},t||{}),c(e)&&e.error)e=e.error;else{if(u(e)||l(e)){var n=e.name||(u(e)?"DOMError":"DOMException"),i=e.message?n+": "+e.message:n;return this.captureMessage(i,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(p(e));else{if(!h(e))return this.captureMessage(e,w(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var o=r.computeStackTrace(e);this._handleStackInfo(o,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=w(e,{message:"Non-Error exception captured with keys: "+j(n),fingerprint:[o(n)],extra:e.extra||{}});return r.extra.__serialized__=B(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,i=w({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var o=r.computeStackTrace(n),a=m(o.stack)&&o.stack[1];a&&"Raven.captureException"===a.func&&(a=o.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===i.message){i.fingerprint=null==i.fingerprint?e:i.fingerprint,(t=w({trimHeadFrames:0},t)).trimHeadFrames+=1;var c=this._prepareFrames(o,t);i.stacktrace={frames:c.reverse()}}return i.fingerprint&&(i.fingerprint=m(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(e){var t=w({timestamp:V()/1e3},e);if(v(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(d(n)&&!b(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=W(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=W(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=W(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=q.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(H){if(!(e=w({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new a("Missing eventId");if(!e.dsn)throw new a("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var i=e.user;i.name&&n.push("name="+t(i.name)),i.email&&n.push("email="+t(i.email))}else n.push(t(r)+"="+t(e[r]));var o=this._getGlobalServer(this._parseDSN(e.dsn)),s=H.createElement("script");s.async=!0,s.src=o+"/api/embed/error-page/?"+n.join("&"),(H.head||H.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),H.createEvent?(n=H.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=H.createEventObject()).eventType=e,t)E(t,r)&&(n[r]=t[r]);if(H.createEvent)H.dispatchEvent(n);else try{H.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=x(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=e._keypressTimeout;i||e._breadcrumbEventHandler("input")(t),clearTimeout(i),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var n=I(this._location.href),r=I(t),i=I(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return v(a)&&(i[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,i):t(i[0],i[1])}}var r=this._globalOptions.autoBreadcrumbs;function i(n){var i=q[n]&&q[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(R(i,"addEventListener",(function(t){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:o&&o.name||"<anonymous>"}}},o.handleEvent))}catch(e){}var c,u,l;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(u=e._breadcrumbEventHandler("click"),l=e._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?u(e):"keypress"===t?l(e):void 0}}),t.call(this,i,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:o&&o.name||"<anonymous>"}}},o,c),a,s)}}),t),R(i,"removeEventListener",(function(e){return function(t,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,i)}}),t))}R(q,"setTimeout",n,t),R(q,"setInterval",n,t),q.requestAnimationFrame&&R(q,"requestAnimationFrame",(function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}}),t);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<o.length;a++)i(o[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&v(n[t])&&R(n,t,(function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)}))}if(t.xhr&&"XMLHttpRequest"in q){var i=q.XMLHttpRequest&&q.XMLHttpRequest.prototype;R(i,"open",(function(t){return function(n,r){return g(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}}),n),R(i,"send",(function(t){return function(){var n=this;function i(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var o=["onload","onerror","onprogress"],a=0;a<o.length;a++)r(o[a],n);return"onreadystatechange"in n&&v(n.onreadystatechange)?R(n,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,i)})):n.onreadystatechange=i,t.apply(this,arguments)}}),n)}t.xhr&&A()&&R(q,"fetch",(function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],a="GET";if("string"==typeof o?i=o:"Request"in q&&o instanceof q.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:i,status_code:null};return t.apply(this,n).then((function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t}))}}),n),t.dom&&this._hasDocument&&(H.addEventListener?(H.addEventListener("click",e._breadcrumbEventHandler("click"),!1),H.addEventListener("keypress",e._keypressEventHandler(),!1)):H.attachEvent&&(H.attachEvent("onclick",e._breadcrumbEventHandler("click")),H.attachEvent("onkeypress",e._keypressEventHandler())));var o=q.chrome,a=!(o&&o.app&&o.app.runtime)&&q.history&&q.history.pushState&&q.history.replaceState;if(t.location&&a){var s=q.onpopstate;q.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var c=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};R(q.history,"pushState",c,n),R(q.history,"replaceState",c,n)}if(t.console&&"console"in q&&console.log){var u=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};y(["debug","info","warn","error","log"],(function(e,t){N(console,t,u)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;y(this._plugins,(function(t,n){var r=n[0],i=n[1];r.apply(e,[e].concat(i))}))},_parseDSN:function(e){var t=M.exec(e),n={},r=7;try{for(;r--;)n[F[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(y(e.stack,(function(t,i){var o=n._normalizeFrame(i,e.url);o&&r.push(o)})),t&&t.trimHeadFrames))for(var i=0;i<t.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,i,o){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=w({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},o),u=c.exception.values[0];null==u.type&&""===u.value&&(u.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=w({type:"generic",handled:!0},c.exception.mechanism||{}),this._send(c)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=_(e.message,t)),e.exception){var n=e.exception.values[0];n.value=_(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=_(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=_(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,i=["to","from","url"],o=0;o<e.values.length;++o)if((n=e.values[o]).hasOwnProperty("data")&&d(n.data)&&!S(n.data)){r=w({},n.data);for(var a=0;a<i.length;++a)t=i[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=_(r[t],this._globalOptions.maxUrlLength));e.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&U.userAgent&&(e.headers={"User-Agent":U.userAgent}),q.location&&q.location.href&&(e.url=q.location.href),this._hasDocument&&H.referrer&&(e.headers||(e.headers={}),e.headers.Referer=H.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&V()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?P(e.stacktrace,t.stacktrace):e.exception||t.exception?C(e.exception,t.exception):!e.fingerprint&&!t.fingerprint||Boolean(e.fingerprint&&t.fingerprint)&&JSON.stringify(e.fingerprint)===JSON.stringify(t.fingerprint))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=A()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=V()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=w(n,e)).tags=w(w({},this._globalContext.tags),e.tags),e.extra=w(w({},this._globalContext.extra),e.extra),e.extra["session:duration"]=V()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||b(e[t]))&&delete e[t]})),v(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!b(e)&&(v(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return L(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return T()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+O(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),A()){r.body=i(e.data);var o=w({},this._fetchDefaults),a=w(o,r);return n&&(a.headers=n),q.fetch(t,a).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var s=q.XMLHttpRequest&&new q.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&y(n,(function(e,t){s.setRequestHeader(e,t)})),s.send(i(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){f(t)?delete this._globalContext[e]:this._globalContext[e]=w(this._globalContext[e]||{},t)}},z.prototype.setUser=z.prototype.setUserContext,z.prototype.setReleaseContext=z.prototype.setRelease,e.exports=z},8341:function(e,t,n){var r=n(5378),i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),e.exports=a,e.exports.Client=r},6862:function(e,t,n){var r=n(2264),i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function o(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function u(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function l(e,t){var n,r;if(o(e.length))for(n in e)d(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function p(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+""}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e){for(var t,n=[],r=0,i=e.length;r<i;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function f(e){var t,n,r,i,o,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var c=["type","name","title","alt"];for(o=0;o<c.length;o++)r=c[o],(i=e.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}function v(e,t){return!!(!!e^!!t)}function g(e,t){if(v(e,t))return!1;var n,r,i=e.frames,o=t.frames;if(void 0===i||void 0===o)return!1;if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(n=i[a],r=o[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}function m(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function b(e){if("string"==typeof e){return p(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}function y(e,t){return 0===t?b(e):a(e)?Object.keys(e).reduce((function(n,r){return n[r]=y(e[r],t-1),n}),{}):Array.isArray(e)?e.map((function(e){return y(e,t-1)})):b(e)}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:o,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:c,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:u,supportsReferrerPolicy:function(){if(!u())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:l,objectMerge:function(e,t){return t?(l(t,(function(t,n){e[t]=n})),e):e},truncate:p,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:d,joinRegExp:h,urlencode:function(e){var t=[];return l(e,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.join("&")},uuid4:function(){var e=i.crypto||i.msCrypto;if(!o(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,n=[],r=0,i=0;e&&r++<5&&!("html"===(t=f(e))||r>1&&i+3*n.length+t.length>=80);)n.push(t),i+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:f,isSameException:function(e,t){return!v(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!o(n)||!o(r))&&g(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:g,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var i=e[t];e[t]=n(i),e[t].__raven__=!0,e[t].__orig__=i,r&&r.push([e,t,i])}},safeJoin:function(e,t){if(!c(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,i){if(!a(t))return t;i="number"!=typeof(n="number"!=typeof n?3:n)?51200:i;var o=y(t,n);return m(r(o))>i?e(t,n-1):o},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?40:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+""}return""},sanitize:function(e,t){if(!c(t)||c(t)&&0===t.length)return e;var n,i=h(t);try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return c(t)?t.map((function(t){return e(t)})):a(t)?Object.keys(t).reduce((function(n,r){return i.test(r)?n[r]="********":n[r]=e(t[r]),n}),{}):t}(n)}}},9026:function(e,t,n){var r=n(6862),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},a=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function u(){return"undefined"==typeof document||null==document.location?"":document.location.href}i.report=function(){var e,t,n=[],l=null,p=null,d=null;function h(e,t){var r=null;if(!t||i.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function f(t,n,o,a,l){var p=r.isErrorEvent(l)?l.error:l,f=r.isErrorEvent(t)?t.message:t;if(d)i.computeStackTrace.augmentStackTraceWithInitialElement(d,n,o,f),v();else if(p&&r.isError(p))h(i.computeStackTrace(p),!0);else{var g,m={url:n,line:o,column:a},b=void 0;if("[object String]"==={}.toString.call(f))(g=f.match(c))&&(b=g[1],f=g[2]);m.func=s,h({name:b,message:f,url:u(),stack:[m]},!0)}return!!e&&e.apply(this,arguments)}function v(){var e=d,t=l;l=null,d=null,p=null,h.apply(null,[e,!1].concat(t))}function g(e,t){var n=a.call(arguments,1);if(d){if(p===e)return;v()}var r=i.computeStackTrace(e);if(d=r,p=e,l=n,setTimeout((function(){p===e&&v()}),r.incomplete?2e3:0),!1!==t)throw e}return g.subscribe=function(r){!function(){if(t)return;e=o.onerror,o.onerror=f,t=!0}(),n.push(r)},g.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},g.uninstall=function(){!function(){if(!t)return;o.onerror=e,t=!1,e=void 0}(),n=[]},g}(),i.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,l=/\((\S*)(?::(\d+))(?::(\d+))\)/,p=e.stack.split("\n"),d=[],h=(/^(.*) is undefined$/.exec(e.message),0),f=p.length;h<f;++h){if(n=i.exec(p[h])){var v=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=l.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:v?null:n[2],func:n[1]||s,args:v?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(p[h]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(p[h])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=c.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==h||n[5]||void 0===e.columnNumber||(d[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var g=new XMLHttpRequest;if(g.open("GET",r.url,!1),g.send(null),200===g.status){var m=g.responseText||"",b=(m=m.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(b){var y=b[1];"~"===y.charAt(0)&&(y=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+y.slice(1)),r.url=y.slice(0,-4)}}}d.push(r)}return d.length?{name:e.name,message:e.message,url:u(),stack:d}:null}}function t(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func=s),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,o){for(var a,c,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,p=[],d={},h=!1,f=n.caller;f&&!h;f=f.caller)if(f!==r&&f!==i.report){if(c={url:null,func:s,line:null,column:null},f.name?c.func=f.name:(a=l.exec(f.toString()))&&(c.func=a[1]),void 0===c.func)try{c.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}d[""+f]?h=!0:d[""+f]=!0,p.push(c)}o&&p.splice(0,o);var v={name:e.name,message:e.message,url:u(),stack:p};return t(v,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),v}function r(t,r){var o=null;r=null==r?0:+r;try{if(o=e(t))return o}catch(e){if(i.debug)throw e}try{if(o=n(t,r+1))return o}catch(e){if(i.debug)throw e}return{name:t.name,message:t.message,url:u()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=i},2264:function(e,t){function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],i=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n(r,t)).join(".")+"]"}),function(o,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,o):i.push(o),~n(r,a)&&(a=t.call(this,o,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,o,a)}}(e.exports=function(e,t,n,i){return JSON.stringify(e,r(t,i),n)}).getSerialize=r},705:function(e){function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,n,r,i,o,a){return t((s=t(t(n,e),t(i,a)))<<(c=o)|s>>>32-c,r);var s,c}function r(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)}function i(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)}function o(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)}function a(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)}function s(e,n){var s,c,u,l,p;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var d=1732584193,h=-271733879,f=-1732584194,v=271733878;for(s=0;s<e.length;s+=16)c=d,u=h,l=f,p=v,d=r(d,h,f,v,e[s],7,-680876936),v=r(v,d,h,f,e[s+1],12,-389564586),f=r(f,v,d,h,e[s+2],17,606105819),h=r(h,f,v,d,e[s+3],22,-1044525330),d=r(d,h,f,v,e[s+4],7,-176418897),v=r(v,d,h,f,e[s+5],12,1200080426),f=r(f,v,d,h,e[s+6],17,-1473231341),h=r(h,f,v,d,e[s+7],22,-45705983),d=r(d,h,f,v,e[s+8],7,1770035416),v=r(v,d,h,f,e[s+9],12,-1958414417),f=r(f,v,d,h,e[s+10],17,-42063),h=r(h,f,v,d,e[s+11],22,-1990404162),d=r(d,h,f,v,e[s+12],7,1804603682),v=r(v,d,h,f,e[s+13],12,-40341101),f=r(f,v,d,h,e[s+14],17,-1502002290),d=i(d,h=r(h,f,v,d,e[s+15],22,1236535329),f,v,e[s+1],5,-165796510),v=i(v,d,h,f,e[s+6],9,-1069501632),f=i(f,v,d,h,e[s+11],14,643717713),h=i(h,f,v,d,e[s],20,-373897302),d=i(d,h,f,v,e[s+5],5,-701558691),v=i(v,d,h,f,e[s+10],9,38016083),f=i(f,v,d,h,e[s+15],14,-660478335),h=i(h,f,v,d,e[s+4],20,-405537848),d=i(d,h,f,v,e[s+9],5,568446438),v=i(v,d,h,f,e[s+14],9,-1019803690),f=i(f,v,d,h,e[s+3],14,-187363961),h=i(h,f,v,d,e[s+8],20,1163531501),d=i(d,h,f,v,e[s+13],5,-1444681467),v=i(v,d,h,f,e[s+2],9,-51403784),f=i(f,v,d,h,e[s+7],14,1735328473),d=o(d,h=i(h,f,v,d,e[s+12],20,-1926607734),f,v,e[s+5],4,-378558),v=o(v,d,h,f,e[s+8],11,-2022574463),f=o(f,v,d,h,e[s+11],16,1839030562),h=o(h,f,v,d,e[s+14],23,-35309556),d=o(d,h,f,v,e[s+1],4,-1530992060),v=o(v,d,h,f,e[s+4],11,1272893353),f=o(f,v,d,h,e[s+7],16,-155497632),h=o(h,f,v,d,e[s+10],23,-1094730640),d=o(d,h,f,v,e[s+13],4,681279174),v=o(v,d,h,f,e[s],11,-358537222),f=o(f,v,d,h,e[s+3],16,-722521979),h=o(h,f,v,d,e[s+6],23,76029189),d=o(d,h,f,v,e[s+9],4,-640364487),v=o(v,d,h,f,e[s+12],11,-421815835),f=o(f,v,d,h,e[s+15],16,530742520),d=a(d,h=o(h,f,v,d,e[s+2],23,-995338651),f,v,e[s],6,-198630844),v=a(v,d,h,f,e[s+7],10,1126891415),f=a(f,v,d,h,e[s+14],15,-1416354905),h=a(h,f,v,d,e[s+5],21,-57434055),d=a(d,h,f,v,e[s+12],6,1700485571),v=a(v,d,h,f,e[s+3],10,-1894986606),f=a(f,v,d,h,e[s+10],15,-1051523),h=a(h,f,v,d,e[s+1],21,-2054922799),d=a(d,h,f,v,e[s+8],6,1873313359),v=a(v,d,h,f,e[s+15],10,-30611744),f=a(f,v,d,h,e[s+6],15,-1560198380),h=a(h,f,v,d,e[s+13],21,1309151649),d=a(d,h,f,v,e[s+4],6,-145523070),v=a(v,d,h,f,e[s+11],10,-1120210379),f=a(f,v,d,h,e[s+2],15,718787259),h=a(h,f,v,d,e[s+9],21,-343485551),d=t(d,c),h=t(h,u),f=t(f,l),v=t(v,p);return[d,h,f,v]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function u(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function l(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function p(e){return unescape(encodeURIComponent(e))}function d(e){return function(e){return c(s(u(e),8*e.length))}(p(e))}function h(e,t){return function(e,t){var n,r,i=u(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=s(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=s(o.concat(u(t)),512+8*t.length),c(s(a.concat(r),640))}(p(e),p(t))}e.exports=function(e,t,n){return t?n?h(t,e):l(h(t,e)):n?d(e):l(d(e))}},6702:function(){window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},2018:function(e,t,n){e.exports=function(){"use strict";var e=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}var n={size:{configurable:!0}};return n.size.get=function(){return this.__entries__.length},t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n+=1){var i=r[n];e.call(t,i[1],i[0])}},Object.defineProperties(t.prototype,n),t}()}(),t="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,r=void 0!==n.g&&n.g.Math===Math?n.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),i="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(r):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},o=2,a=function(e,t){var n=!1,r=!1,a=0;function s(){n&&(n=!1,e()),r&&u()}function c(){i(s)}function u(){var e=Date.now();if(n){if(e-a<o)return;r=!0}else n=!0,r=!1,setTimeout(c,t);a=e}return u},s=20,c=["top","right","bottom","left","width","height","size","weight"],u="undefined"!=typeof MutationObserver,l=function(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=a(this.refresh.bind(this),s)};l.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},l.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},l.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},l.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},l.prototype.connect_=function(){t&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},l.prototype.disconnect_=function(){t&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},l.prototype.onTransitionEnd_=function(e){var t=e.propertyName;void 0===t&&(t=""),c.some((function(e){return!!~t.indexOf(e)}))&&this.refresh()},l.getInstance=function(){return this.instance_||(this.instance_=new l),this.instance_},l.instance_=null;var p=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n+=1){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e};function d(e){return!!(e&&e.ownerDocument&&e.ownerDocument.defaultView&&e.ownerDocument.defaultView.Object)}var h=function(e){return(d(e)?e.ownerDocument.defaultView:null)||r},f=k(0,0,0,0);function v(e){return parseFloat(e)||0}function g(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return t.reduce((function(t,n){return t+v(e["border-"+n+"-width"])}),0)}function m(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n+=1){var i=r[n],o=e["padding-"+i];t[i]=v(o)}return t}function b(e){var t=e.getBBox();return k(0,0,t.width,t.height)}function y(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return f;var r=h(e).getComputedStyle(e),i=m(r),o=i.left+i.right,a=i.top+i.bottom,s=v(r.width),c=v(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=g(r,"left","right")+o),Math.round(c+a)!==n&&(c-=g(r,"top","bottom")+a)),!_(e)){var u=Math.round(s+o)-t,l=Math.round(c+a)-n;1!==Math.abs(u)&&(s-=u),1!==Math.abs(l)&&(c-=l)}return k(i.left,i.top,s,c)}var w="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof h(e).SVGGraphicsElement}:function(e){return e instanceof h(e).SVGElement&&"function"==typeof e.getBBox};function _(e){return e===h(e).document.documentElement}function S(e){return t?w(e)?b(e):y(e):f}function E(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return p(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}function k(e,t,n,r){return{x:e,y:t,width:n,height:r}}var O=function(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=k(0,0,0,0),this.target=e};O.prototype.isActive=function(){var e=S(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},O.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e};var T=function(e,t){var n=E(t);p(this,{target:e,contentRect:n})},x=function(e){var t=/element/gi.test(Object.prototype.toString.call(e));return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&t&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},C=function(t,n,r){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=r};C.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element||x(e)))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new O(e)),this.controller_.addObserver(this),this.controller_.refresh())}},C.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof h(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},C.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},C.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},C.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new T(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},C.prototype.clearActive=function(){this.activeObservations_.splice(0)},C.prototype.hasActive=function(){return this.activeObservations_.length>0};var P="undefined"!=typeof WeakMap?new WeakMap:new e,I=function(e){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=l.getInstance(),n=new C(e,t,this);P.set(this,n)};return["observe","unobserve","disconnect"].forEach((function(e){I.prototype[e]=function(){return(t=P.get(this))[e].apply(t,arguments);var t}})),void 0!==r.ResizeObserver?r.ResizeObserver:I}()},9385:function(e){"use strict";e.exports=JSON.parse('{"sentryUrl":"","minLoggerLevel":400,"projectName":"sspjs","projectVersion":"38.42.0"}')},4398:function(e){"use strict";e.exports=JSON.parse('{"RQ_COUNT":null,"COLLECT_ANALITYCS_ON_HISTORY_CHANGE":true,"RESET_SYNC_BANNERS_STATE_ON_HISTORY_CHANGE":true,"STYLE_NONCE_VALUE":"","SCRIPT_NONCE_VALUE":""}')},3249:function(e,t,n){var r=n(5119);e.exports="string"==typeof r?r:r.toString()},1485:function(e,t,n){var r=n(8262);e.exports="string"==typeof r?r:r.toString()},2238:function(e,t,n){var r;!function(i,o){"use strict";var a="function",s="undefined",c="object",u="string",l="model",p="name",d="type",h="vendor",f="version",v="architecture",g="console",m="mobile",b="tablet",y="smarttv",w="wearable",_="embedded",S="Amazon",E="Apple",k="ASUS",O="BlackBerry",T="Browser",x="Chrome",C="Firefox",P="Google",I="Huawei",R="LG",A="Microsoft",D="Motorola",j="Opera",B="Samsung",L="Sony",N="Xiaomi",F="Zebra",M="Facebook",V=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},q=function(e,t){return typeof e===u&&-1!==H(t).indexOf(H(e))},H=function(e){return e.toLowerCase()},U=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===s?e:e.substring(0,255)},W=function(e,t){for(var n,r,i,s,u,l,p=0;p<t.length&&!u;){var d=t[p],h=t[p+1];for(n=r=0;n<d.length&&!u;)if(u=d[n++].exec(e))for(i=0;i<h.length;i++)l=u[++r],typeof(s=h[i])===c&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4===s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;p+=2}},z=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(q(t[n][r],e))return"?"===n?o:n}else if(q(t[n],e))return"?"===n?o:n;return e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,f],[/opios[\/ ]+([\w\.]+)/i],[f,[p,j+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[p,j]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[p,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[p,"UC"+T]],[/\bqbcore\/([\w\.]+)/i],[f,[p,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[p,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[p,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+T],f],[/\bfocus\/([\w\.]+)/i],[f,[p,C+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[p,j+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[p,j+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[p,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[f,[p,C]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+T]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+T],f],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[p,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,M],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[p,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[p,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[p,x+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,x+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[p,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[p,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[f,z,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[p,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[p,C+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[p,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,H]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/windows (ce|mobile); ppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[v,/ower/,"",H]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[v,H]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[l,[h,B],[d,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[l,[h,B],[d,m]],[/\((ip(?:hone|od)[\w ]*);/i],[l,[h,E],[d,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[l,[h,E],[d,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[l,[h,I],[d,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[l,[h,I],[d,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[l,/_/g," "],[h,N],[d,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[l,/_/g," "],[h,N],[d,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[l,[h,"OPPO"],[d,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[l,[h,"Vivo"],[d,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[l,[h,"Realme"],[d,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[l,[h,D],[d,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[l,[h,D],[d,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[l,[h,R],[d,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[l,[h,R],[d,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[l,[h,"Lenovo"],[d,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[l,/_/g," "],[h,"Nokia"],[d,m]],[/(pixel c)\b/i],[l,[h,P],[d,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[l,[h,P],[d,m]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[l,[h,L],[d,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[l,"Xperia Tablet"],[h,L],[d,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[l,[h,"OnePlus"],[d,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[l,[h,S],[d,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[l,/(.+)/g,"Fire Phone $1"],[h,S],[d,m]],[/(playbook);[-\w\),; ]+(rim)/i],[l,h,[d,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[l,[h,O],[d,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[l,[h,k],[d,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[l,[h,k],[d,m]],[/(nexus 9)/i],[l,[h,"HTC"],[d,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[h,[l,/_/g," "],[d,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[l,[h,"Acer"],[d,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[l,[h,"Meizu"],[d,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[l,[h,"Sharp"],[d,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,l,[d,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,l,[d,b]],[/(surface duo)/i],[l,[h,A],[d,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[l,[h,"Fairphone"],[d,m]],[/(u304aa)/i],[l,[h,"AT&T"],[d,m]],[/\bsie-(\w*)/i],[l,[h,"Siemens"],[d,m]],[/\b(rct\w+) b/i],[l,[h,"RCA"],[d,b]],[/\b(venue[\d ]{2,7}) b/i],[l,[h,"Dell"],[d,b]],[/\b(q(?:mv|ta)\w+) b/i],[l,[h,"Verizon"],[d,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[l,[h,"Barnes & Noble"],[d,b]],[/\b(tm\d{3}\w+) b/i],[l,[h,"NuVision"],[d,b]],[/\b(k88) b/i],[l,[h,"ZTE"],[d,b]],[/\b(nx\d{3}j) b/i],[l,[h,"ZTE"],[d,m]],[/\b(gen\d{3}) b.+49h/i],[l,[h,"Swiss"],[d,m]],[/\b(zur\d{3}) b/i],[l,[h,"Swiss"],[d,b]],[/\b((zeki)?tb.*\b) b/i],[l,[h,"Zeki"],[d,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],l,[d,b]],[/\b(ns-?\w{0,9}) b/i],[l,[h,"Insignia"],[d,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[l,[h,"NextBook"],[d,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],l,[d,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],l,[d,m]],[/\b(ph-1) /i],[l,[h,"Essential"],[d,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[l,[h,"Envizen"],[d,b]],[/\b(trio[-\w\. ]+) b/i],[l,[h,"MachSpeed"],[d,b]],[/\btu_(1491) b/i],[l,[h,"Rotor"],[d,b]],[/(shield[\w ]+) b/i],[l,[h,"Nvidia"],[d,b]],[/(sprint) (\w+)/i],[h,l,[d,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[h,A],[d,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[l,[h,F],[d,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[l,[h,F],[d,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,l,[d,g]],[/droid.+; (shield) bui/i],[l,[h,"Nvidia"],[d,g]],[/(playstation [345portablevi]+)/i],[l,[h,L],[d,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[l,[h,A],[d,g]],[/smart-tv.+(samsung)/i],[h,[d,y]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[h,B],[d,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,R],[d,y]],[/(apple) ?tv/i],[h,[l,E+" TV"],[d,y]],[/crkey/i],[[l,x+"cast"],[h,P],[d,y]],[/droid.+aft(\w)( bui|\))/i],[l,[h,S],[d,y]],[/\(dtv[\);].+(aquos)/i],[l,[h,"Sharp"],[d,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,U],[l,U],[d,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[d,y]],[/((pebble))app/i],[h,l,[d,w]],[/droid.+; (glass) \d/i],[l,[h,P],[d,w]],[/droid.+; (wt63?0{2,3})\)/i],[l,[h,F],[d,w]],[/(quest( 2)?)/i],[l,[h,M],[d,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[d,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[l,[d,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[l,[d,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[d,b]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[d,m]],[/(android[-\w\. ]{0,9});.+buil/i],[l,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[p,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[p,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[p,[f,z,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,"Windows"],[f,z,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,f],[/\(bb(10);/i],[f,[p,O]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[p,C+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[p,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[p,x+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[p,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,f],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[p,f]]},J=function(e,t){if(typeof e===c&&(t=e,e=o),!(this instanceof J))return new J(e,t).getResult();var n=e||(typeof i!==s&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(X,t):X;return this.getBrowser=function(){var e,t={};return t[p]=o,t[f]=o,W.call(t,n,r.browser),t.major=typeof(e=t.version)===u?e.replace(/[^\d\.]/g,"").split(".")[0]:o,t},this.getCPU=function(){var e={};return e[v]=o,W.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e[h]=o,e[l]=o,e[d]=o,W.call(e,n,r.device),e},this.getEngine=function(){var e={};return e[p]=o,e[f]=o,W.call(e,n,r.engine),e},this.getOS=function(){var e={};return e[p]=o,e[f]=o,W.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===u&&e.length>255?U(e,255):e,this},this.setUA(n),this};J.VERSION="1.0.2",J.BROWSER=V([p,f,"major"]),J.CPU=V([v]),J.DEVICE=V([l,h,d,g,m,y,b,w,_]),J.ENGINE=J.OS=V([p,f]),typeof t!==s?(e.exports&&(t=e.exports=J),t.UAParser=J):n.amdO?(r=function(){return J}.call(t,n,t,e))===o||(e.exports=r):typeof i!==s&&(i.UAParser=J);var K=typeof i!==s&&(i.jQuery||i.Zepto);if(K&&!K.ua){var Y=new J;K.ua=Y.getResult(),K.ua.get=function(){return Y.getUA()},K.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var n in t)K.ua[n]=t[n]}}}("object"==typeof window?window:this)},2511:function(e,t,n){var r;/*! https://mths.be/punycode v1.3.2 by @mathias */e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,c=36,u=1,l=26,p=38,d=700,h=72,f=128,v="-",g=/^xn--/,m=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=c-u,_=Math.floor,S=String.fromCharCode;function E(e){throw RangeError(y[e])}function k(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function O(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+k((e=e.replace(b,".")).split("."),t).join(".")}function T(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function x(e){return k(e,(function(e){var t="";return e>65535&&(t+=S((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=S(e)})).join("")}function C(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function P(e,t,n){var r=0;for(e=n?_(e/d):e>>1,e+=_(e/t);e>w*l>>1;r+=c)e=_(e/w);return _(r+(w+1)*e/(e+p))}function I(e){var t,n,r,i,o,a,p,d,g,m,b,y=[],w=e.length,S=0,k=f,O=h;for((n=e.lastIndexOf(v))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&E("not-basic"),y.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<w;){for(o=S,a=1,p=c;i>=w&&E("invalid-input"),((d=(b=e.charCodeAt(i++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:c)>=c||d>_((s-S)/a))&&E("overflow"),S+=d*a,!(d<(g=p<=O?u:p>=O+l?l:p-O));p+=c)a>_(s/(m=c-g))&&E("overflow"),a*=m;O=P(S-o,t=y.length+1,0==o),_(S/t)>s-k&&E("overflow"),k+=_(S/t),S%=t,y.splice(S++,0,k)}return x(y)}function R(e){var t,n,r,i,o,a,p,d,g,m,b,y,w,k,O,x=[];for(y=(e=T(e)).length,t=f,n=0,o=h,a=0;a<y;++a)(b=e[a])<128&&x.push(S(b));for(r=i=x.length,i&&x.push(v);r<y;){for(p=s,a=0;a<y;++a)(b=e[a])>=t&&b<p&&(p=b);for(p-t>_((s-n)/(w=r+1))&&E("overflow"),n+=(p-t)*w,t=p,a=0;a<y;++a)if((b=e[a])<t&&++n>s&&E("overflow"),b==t){for(d=n,g=c;!(d<(m=g<=o?u:g>=o+l?l:g-o));g+=c)O=d-m,k=c-m,x.push(S(C(m+O%k,0))),d=_(O/k);x.push(S(C(d,0))),o=P(n,w,r==i),n=0,++r}++n,++t}return x.join("")}a={version:"1.3.2",ucs2:{decode:T,encode:x},decode:I,encode:R,toASCII:function(e){return O(e,(function(e){return m.test(e)?"xn--"+R(e):e}))},toUnicode:function(e){return O(e,(function(e){return g.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},8575:function(e,t,n){"use strict";var r=n(2511),i=n(2502);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=y;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),p=["%","/","?",";","#"].concat(l),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(7673);function y(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",u=e.split(s);u[0]=u[0].replace(/\\/g,"/");var y=e=u.join(s);if(y=y.trim(),!n&&1===e.split("#").length){var w=c.exec(y);if(w)return this.path=y,this.href=y,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=a.exec(y);if(_){var S=(_=_[0]).toLowerCase();this.protocol=S,y=y.substr(_.length)}if(n||_||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===y.substr(0,2);!E||_&&g[_]||(y=y.substr(2),this.slashes=!0)}if(!g[_]&&(E||_&&!m[_])){for(var k,O,T=-1,x=0;x<d.length;x++){-1!==(C=y.indexOf(d[x]))&&(-1===T||C<T)&&(T=C)}-1!==(O=-1===T?y.lastIndexOf("@"):y.lastIndexOf("@",T))&&(k=y.slice(0,O),y=y.slice(O+1),this.auth=decodeURIComponent(k)),T=-1;for(x=0;x<p.length;x++){var C;-1!==(C=y.indexOf(p[x]))&&(-1===T||C<T)&&(T=C)}-1===T&&(T=y.length),this.host=y.slice(0,T),y=y.slice(T),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var I=this.hostname.split(/\./),R=(x=0,I.length);x<R;x++){var A=I[x];if(A&&!A.match(h)){for(var D="",j=0,B=A.length;j<B;j++)A.charCodeAt(j)>127?D+="x":D+=A[j];if(!D.match(h)){var L=I.slice(0,x),N=I.slice(x+1),F=A.match(f);F&&(L.push(F[1]),N.unshift(F[2])),N.length&&(y="/"+N.join(".")+y),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname));var M=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+M,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!v[S])for(x=0,R=l.length;x<R;x++){var q=l[x];if(-1!==y.indexOf(q)){var H=encodeURIComponent(q);H===q&&(H=escape(q)),y=y.split(q).join(H)}}var U=y.indexOf("#");-1!==U&&(this.hash=y.substr(U),y=y.slice(0,U));var W=y.indexOf("?");if(-1!==W?(this.search=y.substr(W),this.query=y.substr(W+1),t&&(this.query=b.parse(this.query)),y=y.slice(0,W)):t&&(this.search="",this.query={}),y&&(this.pathname=y),m[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){M=this.pathname||"";var z=this.search||"";this.path=M+z}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=b.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var p=Object.keys(e),d=0;d<p.length;d++){var h=p[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",b=n.search||"";n.path=v+b}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var y=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||y||n.host&&e.pathname,S=_,E=n.pathname&&n.pathname.split("/")||[],k=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===E[0]?E[0]=n.host:E.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),_=_&&(""===f[0]||""===E[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,E=f;else if(f.length)E||(E=[]),E.pop(),E=E.concat(f),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(k)n.hostname=n.host=E.shift(),(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!E.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var O=E.slice(-1)[0],T=(n.host||e.host||E.length>1)&&("."===O||".."===O)||""===O,x=0,C=E.length;C>=0;C--)"."===(O=E[C])?E.splice(C,1):".."===O?(E.splice(C,1),x++):x&&(E.splice(C,1),x--);if(!_&&!S)for(;x--;x)E.unshift("..");!_||""===E[0]||E[0]&&"/"===E[0].charAt(0)||E.unshift(""),T&&"/"!==E.join("/").substr(-1)&&E.push("");var P,I=""===E[0]||E[0]&&"/"===E[0].charAt(0);k&&(n.hostname=n.host=I?"":E.length?E.shift():"",(P=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=P.shift(),n.host=n.hostname=P.shift()));return(_=_||n.host&&E.length)&&!I&&E.unshift(""),E.length?n.pathname=E.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2502:function(e){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},3876:function(e,t,n){e.exports=n(6253)},9661:function(e){!function(t){var n=-1,r={onVisible:function(e){var t=r.isSupported();if(!t||!r.hidden())return e(),t;var n=r.change((function(t,i){r.hidden()||(r.unbind(n),e())}));return n},change:function(e){if(!r.isSupported())return!1;var t=n+=1;return r._callbacks[t]=e,r._listen(),t},unbind:function(e){delete r._callbacks[e]},afterPrerendering:function(e){var t=r.isSupported(),n="prerender";if(!t||n!=r.state())return e(),t;var i=r.change((function(t,o){n!=o&&(r.unbind(i),e())}));return i},hidden:function(){return!(!r._doc.hidden&&!r._doc.webkitHidden)},state:function(){return r._doc.visibilityState||r._doc.webkitVisibilityState||"visible"},isSupported:function(){return void 0!==r._doc.hidden||void 0!==r._doc.webkitHidden},_doc:document||{},_callbacks:{},_change:function(e){var t=r.state();for(var n in r._callbacks)r._callbacks[n].call(r._doc,e,t)},_listen:function(){if(!r._init){var e="visibilitychange";r._doc.webkitVisibilityState&&(e="webkit"+e);var t=function(){r._change.apply(r,arguments)};r._doc.addEventListener?r._doc.addEventListener(e,t):r._doc.attachEvent(e,t),r._init=!0}}};e.exports?e.exports=r:t.Visibility=r}(this)},6253:function(e,t,n){!function(t){var r=-1,i=function(e){return e.every=function(t,n,i){e._time(),i||(i=n,n=null);var o=r+=1;return e._timers[o]={visible:t,hidden:n,callback:i},e._run(o,!1),e.isSupported()&&e._listen(),o},e.stop=function(t){return!!e._timers[t]&&(e._stop(t),delete e._timers[t],!0)},e._timers={},e._time=function(){e._timed||(e._timed=!0,e._wasHidden=e.hidden(),e.change((function(){e._stopRun(),e._wasHidden=e.hidden()})))},e._run=function(n,r){var i,o=e._timers[n];if(e.hidden()){if(null===o.hidden)return;i=o.hidden}else i=o.visible;var a=function(){o.last=new Date,o.callback.call(t)};if(r){var s=new Date-o.last;i>s?o.delay=setTimeout((function(){o.id=setInterval(a,i),a()}),i-s):(o.id=setInterval(a,i),a())}else o.id=setInterval(a,i)},e._stop=function(t){var n=e._timers[t];clearInterval(n.id),clearTimeout(n.delay),delete n.id,delete n.delay},e._stopRun=function(t){var n=e.hidden(),r=e._wasHidden;if(n&&!r||!n&&r)for(var i in e._timers)e._stop(i),e._run(i,!n)},e};e.exports?e.exports=i(n(9661)):i(t.Visibility||n(9661))}(window)},1206:function(e){e.exports=decodeURIComponent("%3Cdiv%20class%3D%22column%20is-banner-id%22%3E%23%7Bsymbol%7D%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-recording-flag%22%3E0%25%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-inview-time%22%3E0.00%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-viewed-indicator%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22not-viewed-icon%20is-visible%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M22.245%204.015a.808.808%200%200%201%200%201.139l-6.276%206.27a.81.81%200%200%200%200%201.14l6.273%206.272a.81.81%200%200%201%200%201.14l-2.285%202.277a.814.814%200%200%201-1.142%200l-6.271-6.271a.81.81%200%200%200-1.141%200l-6.276%206.267a.81.81%200%200%201-1.141%200l-2.282-2.28a.81.81%200%200%201%200-1.14l6.278-6.269a.81.81%200%200%200%200-1.14L1.709%205.147a.808.808%200%200%201%200-1.14l2.284-2.278a.813.813%200%200%201%201.142.001L11.405%208a.81.81%200%200%200%201.141.001l6.276-6.267a.812.812%200%200%201%201.141%200l2.282%202.281z%22%2F%3E%3C%2Fsvg%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22viewed-icon%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M21.652%203.211a.747.747%200%200%200-1.061%200L9.41%2014.34a.744.744%200%200%201-1.062%200L3.449%209.351a.743.743%200%200%200-1.062%200L.222%2011.297a.751.751%200%200%200%20.001%201.07l4.94%205.184c.292.296.771.776%201.062%201.07l2.124%202.141a.751.751%200%200%200%201.062%200l14.366-14.34a.762.762%200%200%200%200-1.071l-2.125-2.14z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-nohover-time%22%3E0.00%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-nohover-indicator%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22not-viewed-icon%20is-visible%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M22.245%204.015a.808.808%200%200%201%200%201.139l-6.276%206.27a.81.81%200%200%200%200%201.14l6.273%206.272a.81.81%200%200%201%200%201.14l-2.285%202.277a.814.814%200%200%201-1.142%200l-6.271-6.271a.81.81%200%200%200-1.141%200l-6.276%206.267a.81.81%200%200%201-1.141%200l-2.282-2.28a.81.81%200%200%201%200-1.14l6.278-6.269a.81.81%200%200%200%200-1.14L1.709%205.147a.808.808%200%200%201%200-1.14l2.284-2.278a.813.813%200%200%201%201.142.001L11.405%208a.81.81%200%200%200%201.141.001l6.276-6.267a.812.812%200%200%201%201.141%200l2.282%202.281z%22%2F%3E%3C%2Fsvg%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22viewed-icon%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M21.652%203.211a.747.747%200%200%200-1.061%200L9.41%2014.34a.744.744%200%200%201-1.062%200L3.449%209.351a.743.743%200%200%200-1.062%200L.222%2011.297a.751.751%200%200%200%20.001%201.07l4.94%205.184c.292.296.771.776%201.062%201.07l2.124%202.141a.751.751%200%200%200%201.062%200l14.366-14.34a.762.762%200%200%200%200-1.071l-2.125-2.14z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-reloaded-indicator%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22not-viewed-icon%20is-visible%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M22.245%204.015a.808.808%200%200%201%200%201.139l-6.276%206.27a.81.81%200%200%200%200%201.14l6.273%206.272a.81.81%200%200%201%200%201.14l-2.285%202.277a.814.814%200%200%201-1.142%200l-6.271-6.271a.81.81%200%200%200-1.141%200l-6.276%206.267a.81.81%200%200%201-1.141%200l-2.282-2.28a.81.81%200%200%201%200-1.14l6.278-6.269a.81.81%200%200%200%200-1.14L1.709%205.147a.808.808%200%200%201%200-1.14l2.284-2.278a.813.813%200%200%201%201.142.001L11.405%208a.81.81%200%200%200%201.141.001l6.276-6.267a.812.812%200%200%201%201.141%200l2.282%202.281z%22%2F%3E%3C%2Fsvg%3E%0A%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22viewed-icon%22%3E%3Cpath%20d%3D%22M14%208c-.609%200-.898.43-1%20.883C12.635%2010.516%2011.084%2013%208%2013a4.947%204.947%200%200%201-2.114-.474L6.414%2012c.359-.344.586-.555.586-1%200-.523-.438-1-1-1H3c-.609%200-1%20.492-1%201v3c0%20.541.428%201%201%201%20.484%200%20.688-.273%201-.594l.408-.407A6.933%206.933%200%200%200%208%2015c4.99%200%207-4.75%207-5.938C15%208.336%2014.469%208%2014%208zM3%207.117C3.365%205.485%204.916%203%208%203c.757%200%201.473.171%202.114.473L9.586%204C9.227%204.344%209%204.555%209%205c0%20.523.438%201%201%201h3c.609%200%201-.492%201-1V2c0-.541-.428-1-1-1-.484%200-.688.273-1%20.594l-.408.407A6.933%206.933%200%200%200%208%201C3.01%201%201%205.75%201%206.938%201%207.664%201.531%208%202%208c.609%200%20.898-.43%201-.883z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-direction-indicator%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%3Cpath%20d%3D%22M15%206H8V3c0-.484-.375-1-1-1-.461%200-.695.287-1%20.54L.625%207C.242%207.313%200%207.555%200%208s.242.688.625%201L6%2013.46c.305.253.539.54%201%20.54.625%200%201-.516%201-1v-3h7c.55%200%201-.45%201-1V7c0-.55-.45-1-1-1z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E")},4508:function(e){e.exports=decodeURIComponent("%3Cdiv%20class%3D%22inview-timers__row%20is-widget-header%22%3E%3Cdiv%20class%3D%22column%20is-title%20is-banner-id%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2048%2048%22%3E%3Cpath%20d%3D%22M8%2021c-1.66%200-3%201.34-3%203s1.34%203%203%203%203-1.34%203-3-1.34-3-3-3zM8%209c-1.66%200-3%201.34-3%203s1.34%203%203%203%203-1.34%203-3-1.34-3-3-3zm0%2024.33a2.67%202.67%200%201%200-.001%205.339A2.67%202.67%200%200%200%208%2033.33zM14%2038h28v-4H14v4zm0-12h28v-4H14v4zm0-16v4h28v-4H14z%22%2F%3E%3Cpath%20fill%3D%22none%22%20d%3D%22M0%200h48v48H0z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2228%22%20height%3D%2228%22%20viewBox%3D%220%200%2032%2032%22%3E%3Cpath%20fill%3D%22%23333%22%20fill-rule%3D%22evenodd%22%20d%3D%22M17%209C8%209%204%2016%204%2016s4%207%2013%207%2013-7%2013-7-4-7-13-7Zm0%2011a4%204%200%201%200%200-8%204%204%200%200%200%200%208Zm0-1a3%203%200%201%200%200-6%203%203%200%200%200%200%206Zm0-2a1%201%200%201%200%200-2%201%201%200%200%200%200%202Z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2032%2032%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3Anone%3Bstroke%3A%23000%3Bstroke-linejoin%3Around%3Bstroke-width%3A2px%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20data-name%3D%22171-Time%22%3E%3Ccircle%20cx%3D%2216%22%20cy%3D%2216%22%20r%3D%2215%22%20class%3D%22cls-1%22%2F%3E%3Cpath%20d%3D%22M16%205v11l-7%207%22%20class%3D%22cls-1%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xml%3Aspace%3D%22preserve%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M21.652%203.211a.747.747%200%200%200-1.061%200L9.41%2014.34a.744.744%200%200%201-1.062%200L3.449%209.351a.743.743%200%200%200-1.062%200L.222%2011.297a.751.751%200%200%200%20.001%201.07l4.94%205.184c.292.296.771.776%201.062%201.07l2.124%202.141a.751.751%200%200%200%201.062%200l14.366-14.34a.762.762%200%200%200%200-1.071l-2.125-2.14z%22%20clip-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2032%2032%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill%3Anone%3Bstroke%3A%23000%3Bstroke-linejoin%3Around%3Bstroke-width%3A2px%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20data-name%3D%22171-Time%22%3E%3Ccircle%20cx%3D%2216%22%20cy%3D%2216%22%20r%3D%2215%22%20class%3D%22cls-1%22%2F%3E%3Cpath%20d%3D%22M16%205v11l-7%207%22%20class%3D%22cls-1%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20xml%3Aspace%3D%22preserve%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20fill-rule%3D%22evenodd%22%20d%3D%22M21.652%203.211a.747.747%200%200%200-1.061%200L9.41%2014.34a.744.744%200%200%201-1.062%200L3.449%209.351a.743.743%200%200%200-1.062%200L.222%2011.297a.751.751%200%200%200%20.001%201.07l4.94%205.184c.292.296.771.776%201.062%201.07l2.124%202.141a.751.751%200%200%200%201.062%200l14.366-14.34a.762.762%200%200%200%200-1.071l-2.125-2.14z%22%20clip-rule%3D%22evenodd%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%20class%3D%22viewed-icon%22%3E%3Cpath%20d%3D%22M14%208c-.609%200-.898.43-1%20.883C12.635%2010.516%2011.084%2013%208%2013a4.947%204.947%200%200%201-2.114-.474L6.414%2012c.359-.344.586-.555.586-1%200-.523-.438-1-1-1H3c-.609%200-1%20.492-1%201v3c0%20.541.428%201%201%201%20.484%200%20.688-.273%201-.594l.408-.407A6.933%206.933%200%200%200%208%2015c4.99%200%207-4.75%207-5.938C15%208.336%2014.469%208%2014%208zM3%207.117C3.365%205.485%204.916%203%208%203c.757%200%201.473.171%202.114.473L9.586%204C9.227%204.344%209%204.555%209%205c0%20.523.438%201%201%201h3c.609%200%201-.492%201-1V2c0-.541-.428-1-1-1-.484%200-.688.273-1%20.594l-.408.407A6.933%206.933%200%200%200%208%201C3.01%201%201%205.75%201%206.938%201%207.664%201.531%208%202%208c.609%200%20.898-.43%201-.883z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3Cdiv%20class%3D%22column%20is-title%22%3E%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2216%22%20height%3D%2216%22%3E%3Cpath%20d%3D%22M15%206H8V3c0-.484-.375-1-1-1-.461%200-.695.287-1%20.54L.625%207C.242%207.313%200%207.555%200%208s.242.688.625%201L6%2013.46c.305.253.539.54%201%20.54.625%200%201-.516%201-1v-3h7c.55%200%201-.45%201-1V7c0-.55-.45-1-1-1z%22%2F%3E%3C%2Fsvg%3E%3C%2Fdiv%3E%3C%2Fdiv%3E")},8039:function(e){e.exports=decodeURIComponent("%3Cspan%20class%3D%22inviewtime-sticker__symbol%22%3E%23%7Bsymbol%7D%20%7C%3C%2Fspan%3E%3Cspan%20class%3D%22inviewtime-sticker__inview%22%3E0%25%20%7C%3C%2Fspan%3E%3Cspan%20class%3D%22inviewtime-sticker__inview-timer%22%3E0.00%20%7C%3C%2Fspan%3E%3Cspan%20class%3D%22inviewtime-sticker__nohovertimer%22%3E0.00%3C%2Fspan%3E")}},o={};function a(e){if(o[e])return o[e].exports;var t=o[e]={id:e,loaded:!1,exports:{}};return i[e].call(t.exports,t,t.exports,a),t.loaded=!0,t.exports}return a.m=i,a.amdO={},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},a.d(i,o),i},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,n){return a.f[n](e,t),t}),[]))},a.u=function(e){return"js/chunks/"+{689:"f6e6f41ea35a46b50608",723:"741425392d728b3f5e67",928:"92fcc37639eef588bfbc"}[e]+".js"},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.hmd=function(e){return(e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},r="SSPjs:",a.l=function(e,t,i,o){if(n[e])n[e].push(t);else{var s,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var p=u[l];if(p.getAttribute("src")==e||p.getAttribute("data-webpack")==r+i){s=p;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+i),s.src=e),n[e]=[t];var d=function(t,r){s.onerror=s.onload=null,clearTimeout(h);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(r)})),t)return t(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},a.p="//ssp.rambler.ru/",function(){var e={221:0};a.f.j=function(t,n){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(function(n){if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){for(var r,i,o=n[0],s=n[1],c=n[2],u=0,l=[];u<o.length;u++)i=o[u],a.o(e,i)&&e[i]&&l.push(e[i][0]),e[i]=0;for(r in s)a.o(s,r)&&(a.m[r]=s[r]);for(c&&c(a),t&&t(n);l.length;)l.shift()()},n=self.webpackChunkSSPjs=self.webpackChunkSSPjs||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),a(5041)}();