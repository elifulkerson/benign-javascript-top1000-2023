var instrumentation;!function(){"use strict";var e={568:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,o,r)}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.sendLatencyMetric=t.addPlacementTag=t.addTag=t.incrementCounter=t.incrementPlacementCounter=t.logError=t.getSlotWithBrowseNode=t.getPlacementWithBrowseNode=t.getBrowseNode=t.csa=t.csm=t.AD_LOAD_COUNTERS=void 0;var a=n(922);Object.defineProperty(t,"AD_LOAD_COUNTERS",{enumerable:!0,get:function(){return a.AD_LOAD_COUNTERS}}),t.csm=i(n(472)),t.csa=i(n(495));var c=n(322);Object.defineProperty(t,"getBrowseNode",{enumerable:!0,get:function(){return c.getBrowseNode}}),Object.defineProperty(t,"getPlacementWithBrowseNode",{enumerable:!0,get:function(){return c.getPlacementWithBrowseNode}}),Object.defineProperty(t,"getSlotWithBrowseNode",{enumerable:!0,get:function(){return c.getSlotWithBrowseNode}});var u=n(67);Object.defineProperty(t,"logError",{enumerable:!0,get:function(){return u.logError}});var d=n(812);Object.defineProperty(t,"incrementPlacementCounter",{enumerable:!0,get:function(){return d.incrementPlacementCounter}}),Object.defineProperty(t,"incrementCounter",{enumerable:!0,get:function(){return d.incrementCounter}});var l=n(541);Object.defineProperty(t,"addTag",{enumerable:!0,get:function(){return l.addTag}}),Object.defineProperty(t,"addPlacementTag",{enumerable:!0,get:function(){return l.addPlacementTag}});var s=n(265);Object.defineProperty(t,"sendLatencyMetric",{enumerable:!0,get:function(){return s.sendLatencyMetric}})},322:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getPlacementWithBrowseNode=t.getSlotWithBrowseNode=t.getBrowseNode=void 0;var n=/(\/b|\/s|\/l).*(node=)(\d{1,12})/,o=new Map;t.getBrowseNode=function(){if(!o.has(window.location.href)){var e=n.exec(window.location.href),t=e&&e[3]?e[3]:null;o.set(window.location.href,t)}return o.get(window.location.href)},t.getSlotWithBrowseNode=function(e){var n=(0,t.getBrowseNode)();if(!e||!n)return null;var o=e.split(":");return o.splice(o.length-1,0,n),o.join(":")},t.getPlacementWithBrowseNode=function(e){var n=(0,t.getBrowseNode)();return n?"".concat(e,":").concat(n):null}},922:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AD_LOAD_COUNTERS=void 0,t.AD_LOAD_COUNTERS={HTML_REACHED:"adload:htmlreached"}},958:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CsaEvents=void 0;var o=n(67);t.CsaEvents=function(){var e=this;if(this.log=function(t,n,r){if(e.events)try{e.events("log",{schemaId:"ApeSafeframe.csaEvent.1",metricName:t+":"+n+":"+r,metricValue:1},{ent:"all"})}catch(e){(0,o.logError)("Error with 'logCsaEvent' CSA",e)}},this.setEntity=function(t){if(e.events)try{e.events("setEntity",{adCreativeMetaData:t})}catch(e){(0,o.logError)("Error with 'addCsaEntity' CSA",e)}},window.csa)try{this.events=window.csa("Events",{producerId:"adplacements"})}catch(e){(0,o.logError)("Error with initiating CSA",e)}}},710:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.CsaLatency=void 0;var o=n(67);t.CsaLatency=function(e){var t=this;if(this.mark=function(e,n){if(t.latencyPlugin)try{t.latencyPlugin("mark",e,n)}catch(e){(0,o.logError)("Error with 'markCsaLatencyMetric' CSA",e)}},window.csa)try{this.latencyPlugin=window.csa("Content",{element:e})}catch(e){(0,o.logError)("Error with initiating CSA",e)}}},495:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.events=t.latency=void 0;var o=n(710),r=n(958);t.latency=function(e){return new o.CsaLatency(e)},t.events=function(){return new r.CsaEvents}},472:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.sendLatencyMetric=t.addPlacementTag=t.addTag=t.incrementCounter=t.incrementPlacementCounter=t.addCsmTag=t.isUeCountAvailable=t.sendCsmCounter=t.sendCsmLatencyMetric=void 0;var o=n(322),r=n(812);Object.defineProperty(t,"incrementCounter",{enumerable:!0,get:function(){return r.incrementCounter}}),Object.defineProperty(t,"incrementPlacementCounter",{enumerable:!0,get:function(){return r.incrementPlacementCounter}});var i=n(541);Object.defineProperty(t,"addTag",{enumerable:!0,get:function(){return i.addTag}}),Object.defineProperty(t,"addPlacementTag",{enumerable:!0,get:function(){return i.addPlacementTag}});var a=n(265);Object.defineProperty(t,"sendLatencyMetric",{enumerable:!0,get:function(){return a.sendLatencyMetric}});var c={bb:"uet",af:"uet",cf:"uet",be:"uet",ld:"uex"};t.sendCsmLatencyMetric=function(e,t,n,r,i){var a=c[e];if("function"==typeof window[a]){var u=function(t,n){if(n){var o=r?r+":":"";window[t](e,"adplacements:"+o+n,{wb:1},i)}},d=t.replace(/_/g,":");u(a,d),u(a,(0,o.getSlotWithBrowseNode)(d)),n&&(u(a,n),u(a,(0,o.getPlacementWithBrowseNode)(n)))}},t.sendCsmCounter=function(e,n,r,i){if((0,t.isUeCountAvailable)()){var a="adplacements:"+r,c=function(e,t){e&&window.ue.count("".concat(a,":").concat(e),t)};if(e){var u=e.replace(/_/g,":");c(u,i),c((0,o.getSlotWithBrowseNode)(u),i)}n&&(c(n,i),c((0,o.getPlacementWithBrowseNode)(n),i)),e||n||window.ue.count(a,i)}},t.isUeCountAvailable=function(){var e;return"function"==typeof(null===(e=null===window||void 0===window?void 0:window.ue)||void 0===e?void 0:e.count)},t.addCsmTag=function(e,t,n,o){var r;if(null===(r=null===window||void 0===window?void 0:window.ue)||void 0===r?void 0:r.tag){if(t){var i=e+":"+t.replace(/_/g,":")+(o?":"+o:"");window.ue.tag(i)}if(n){var a=e+":"+n+(o?":"+o:"");window.ue.tag(a)}t||n||window.ue.tag(e+(o?":"+o:""))}}},812:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ueCount=t.isUeCountAvailable=t.incrementCounter=t.incrementPlacementCounter=void 0;var o=n(322),r=n(876);t.incrementPlacementCounter=function(e,n,i){if(void 0===i&&(i=1),(0,t.isUeCountAvailable)()){var c=function(e,n,o){n&&(0,t.ueCount)("".concat(a(e),":").concat(n),o)};c(e,n.id,i),c(e,(0,o.getPlacementWithBrowseNode)(n.id),i),c(e,(0,r.csmName)(n.name),i),c(e,(0,o.getSlotWithBrowseNode)((0,r.csmName)(n.name)),i)}},t.incrementCounter=function(e,n){void 0===n&&(n=1),(0,t.isUeCountAvailable)()&&(0,t.ueCount)(a(e),n)},t.isUeCountAvailable=function(){var e;return"function"==typeof(null===(e=null===window||void 0===window?void 0:window.ue)||void 0===e?void 0:e.count)},t.ueCount=function(e,t){var n;return null===(n=null===window||void 0===window?void 0:window.ue)||void 0===n?void 0:n.count(e,t)};var i="adplacements",a=function(e){return e.startsWith(i)?e:"".concat(i,":").concat(e)}},265:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ueLatency=t.isLatencyFunctionAvailable=t.sendLatencyMetric=void 0;var o=n(876),r=n(322),i={bb:"uet",af:"uet",cf:"uet",be:"uet",ld:"uex"};t.sendLatencyMetric=function(e){var n,i,c=e.latencyEvent,u=e.scope,d=e.placement,l=e.timestamp;(0,t.isLatencyFunctionAvailable)(c)&&((0,t.ueLatency)(c,a(u),d.id,l),(0,t.ueLatency)(c,a(u),(0,o.csmName)(d.name),l),(0,t.ueLatency)(c,a(u),null!==(n=(0,r.getSlotWithBrowseNode)(d.name))&&void 0!==n?n:void 0,l),(0,t.ueLatency)(c,a(u),null!==(i=(0,r.getPlacementWithBrowseNode)(d.id))&&void 0!==i?i:void 0,l))},t.isLatencyFunctionAvailable=function(e){return"function"==typeof window[i[e]]},t.ueLatency=function(e,t,n,o){void 0===o&&(o=new Date);var r=i[e];n&&"function"==typeof window[r]&&window[r](e,t+n,{wb:1},o)};var a=function(e){return"adplacements:"+c(e)},c=function(e){return e?"".concat(e,":"):""}},541:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ueTag=t.isUeTagAvailable=t.addTag=t.addPlacementTag=void 0;var o=n(876);t.addPlacementTag=function(e,n,i){(0,t.isUeTagAvailable)()&&((0,t.ueTag)(r(e,n.id,i)),(0,t.ueTag)(r(e,(0,o.csmName)(n.name),i)))},t.addTag=function(e,n){(0,t.isUeTagAvailable)()&&(0,t.ueTag)(e+i(n))},t.isUeTagAvailable=function(){var e;return"function"==typeof(null===(e=null===window||void 0===window?void 0:window.ue)||void 0===e?void 0:e.tag)},t.ueTag=function(e){var t;return null===(t=null===window||void 0===window?void 0:window.ue)||void 0===t?void 0:t.tag(e)};var r=function(e,t,n){return"".concat(e,":").concat(t).concat(i(n))},i=function(e){return e?":".concat(e):""}},876:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.csmName=void 0,t.csmName=function(e){return e.replace(/_/g,":")}},67:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.logError=void 0;var o=n(812);t.logError=function(e,t){var n=t||new Error(e);console.error(e,t),(0,o.incrementCounter)("safeFrameError"),window.ueHostLogError&&window.ueHostLogError(n,{logLevel:"ERROR",attribution:"APE-safeframe",message:e+" "})}}},t={},n=function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,n),i.exports}(568);instrumentation=n}();