"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[822],{49230:function(e,t,r){r.d(t,{AM:function(){return s8},DS:function(){return lN},Kb:function(){return li},UR:function(){return lU},gx:function(){return j},v_:function(){return s9}});var n,o,i,a,s,l,c,u,p,d,h,m,f,g,y,v,E,w,b,S,C,k,_,A,F,T,P,M,O,I,x,R,V,L,N,U,D,B,j,q,G,H,W,z,K,Z,$,Y,J,X,Q,ee,et,er,en,eo,ei,ea,es,el,ec,eu,ep,ed=r(67294),eh=r(22701),em=r(58221),ef=r(33940),eg=r(5011),ey=r(38827),ev=r(73935),eE=r(16565),ew=r(64782),eb=r.n(ew),eS=r(58875),eC=r(17563),ek=r(26961),e_=r.n(ek),eA=r(44725),eF=r(79311),eT=r(64593),eP=r(34155),eM=function(e,t){return(eM=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function eO(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}eM(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var eI=function(){return(eI=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ex(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)0>t.indexOf(n[o])&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function eR(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function eV(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function eL(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{l(n.next(e))}catch(e){i(e)}}function s(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})}function eN(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(s){return function(l){return function(s){if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,s[0]&&(a=0)),a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,n=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1],o=s;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(s);break}o[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,l])}}}function eU(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function eD(e,t,r){if(r||2==arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}var eB=[];Object.freeze(eB);var ej={};Object.freeze(ej);var eq={};function eG(){return"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:eq}function eH(){return++tX.mobxGuid}function eW(e){throw ez(!1,e),"X"}function ez(e,t){if(!e)throw Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is an production build."))}function eK(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var eZ=function(){};function e$(e){return null!==e&&"object"==typeof e}function eY(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function eJ(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:r})}function eX(e,t,r){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:r})}function eQ(e,t){var r="isMobX"+e;return t.prototype[r]=!0,function(e){return e$(e)&&!0===e[r]}}function e0(e){return void 0!==eG().Map&&e instanceof eG().Map}function e1(e){return e instanceof Set}function e2(e){for(var t=[];;){var r=e.next();if(r.done)break;t.push(r.value)}return t}function e3(){return"function"==typeof Symbol&&Symbol.toPrimitive||"@@toPrimitive"}function e5(e){return null===e?null:"object"==typeof e?""+e:e}function e4(e,t){for(var r=e.next();!r.done;)t(r.value),r=e.next()}function e6(){return"function"==typeof Symbol&&Symbol.iterator||"@@iterator"}function e7(e){return e[e6()]=e8,e}function e9(){return"function"==typeof Symbol&&Symbol.toStringTag||"@@toStringTag"}function e8(){return this}var te=function(){function e(e){void 0===e&&(e="Atom@"+eH()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=R.NOT_TRACKING}return e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.reportObserved=function(){return t3(this)},e.prototype.reportChanged=function(){t1(),function(e){if(e.lowestObserverState!==R.STALE){e.lowestObserverState=R.STALE;for(var t=e.observers,r=t.length;r--;){var n=t[r];n.dependenciesState===R.UP_TO_DATE&&(n.isTracing!==V.NONE&&t5(n,e),n.onBecomeStale()),n.dependenciesState=R.STALE}}}(this),t2()},e.prototype.toString=function(){return this.name},e}(),tt=eQ("Atom",te);function tr(e,t,r){void 0===t&&(t=eZ),void 0===r&&(r=eZ);var n=new te(e);return rm("onBecomeObserved",n,t,void 0),rh(n,r),n}var tn={identity:function(e,t){return e===t},structural:function(e,t){return rY(e,t)},default:function(e,t){return"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)||e===t},shallow:function(e,t){return rY(e,t,1)}},to=function(e,t){return(to=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function ti(e,t){function r(){this.constructor=e}to(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var ta=function(){return(ta=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ts(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function tl(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ts(arguments[t]));return e}var tc={},tu={};function tp(e){if(!0!==e.__mobxDidRunLazyInitializers){var t=e.__mobxDecorators;if(t)for(var r in eJ(e,"__mobxDidRunLazyInitializers",!0),t){var n=t[r];n.propertyCreator(e,n.prop,n.descriptor,n.decoratorTarget,n.decoratorArguments)}}}function td(e,t){return function(){var r,n,o=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if(!Object.prototype.hasOwnProperty.call(r,"__mobxDecorators")){var s,l=r.__mobxDecorators;eJ(r,"__mobxDecorators",ta({},l))}return r.__mobxDecorators[o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},(s=e?tc:tu)[o]||(s[o]={configurable:!0,enumerable:e,get:function(){return tp(this),this[o]},set:function(e){tp(this),this[o]=e}})};return(r=arguments,(2===r.length||3===r.length)&&"string"==typeof r[1]||4===r.length&&!0===r[3])?(n=eB,o.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),o)}}function th(e,t,r){return rg(e)?e:Array.isArray(e)?tC.array(e,{name:r}):eY(e)?tC.object(e,void 0,{name:r}):e0(e)?tC.map(e,{name:r}):e1(e)?tC.set(e,{name:r}):e}function tm(e){return e}function tf(e){ez(e);var t=td(!0,function(t,r,n,o,i){var a=n?n.initializer?n.initializer.call(t):n.value:void 0;!function(e,t,r,n){var o,i,a,s,l=rq(e);if(rv(l)){var c=rw(l,{object:e,name:t,type:"add",newValue:r});if(!c)return;r=c.newValue}r=(l.values[t]=new tz(r,n,l.name+"."+t,!1)).value,Object.defineProperty(e,t,rG[t]||(rG[t]={configurable:!0,enumerable:!0,get:function(){return this.$mobx.read(this,t)},set:function(e){this.$mobx.write(this,t,e)}})),l.keys&&l.keys.push(t),o=r,i=rb(l),a=re(),s=i||a?{type:"add",object:e,name:t,newValue:o}:null,a&&rr(ta(ta({},s),{name:l.name,key:t})),i&&rC(l,s),a&&ro()}(t,r,a,e)}),r=(void 0!==eP&&eP.env,t);return r.enhancer=e,r}var tg={deep:!0,name:void 0,defaultDecorator:void 0};function ty(e){return null==e?tg:"string"==typeof e?{name:e,deep:!0}:e}function tv(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?tm:th}Object.freeze(tg),Object.freeze({deep:!1,name:void 0,defaultDecorator:void 0});var tE=tf(th),tw=tf(function(e,t,r){return null==e||rK(e)||rx(e)||rN(e)||rB(e)?e:Array.isArray(e)?tC.array(e,{name:r,deep:!1}):eY(e)?tC.object(e,void 0,{name:r,deep:!1}):e0(e)?tC.map(e,{name:r,deep:!1}):e1(e)?tC.set(e,{name:r,deep:!1}):eW(!1)}),tb=tf(tm),tS={box:function(e,t){arguments.length>2&&tk("box");var r=ty(t);return new tz(e,tv(r),r.name,!0,r.equals)},shallowBox:function(e,t){return arguments.length>2&&tk("shallowBox"),tC.box(e,{name:t,deep:!1})},array:function(e,t){arguments.length>2&&tk("array");var r=ty(t);return new rT(e,tv(r),r.name)},shallowArray:function(e,t){return arguments.length>2&&tk("shallowArray"),tC.array(e,{name:t,deep:!1})},map:function(e,t){arguments.length>2&&tk("map");var r=ty(t);return new rV(e,tv(r),r.name)},shallowMap:function(e,t){return arguments.length>2&&tk("shallowMap"),tC.map(e,{name:t,deep:!1})},set:function(e,t){arguments.length>2&&tk("set");var r=ty(t);return new rD(e,tv(r),r.name)},object:function(e,t,r){return"string"==typeof arguments[1]&&tk("object"),function(e,t,r,n){var o,i=(n=ty(n)).defaultDecorator||(!1===n.deep?tb:tE);tp(e),rq(e,n.name,i.enhancer),t1();try{for(var a=Object.getOwnPropertyNames(t),s=0,l=a.length;s<l;s++){var o=a[s],c=Object.getOwnPropertyDescriptor(t,o),u=(r&&o in r?r[o]:c.get?t_:i)(e,o,c,!0);u&&Object.defineProperty(e,o,u)}}finally{t2()}return e}({},e,t,ty(r))},shallowObject:function(e,t){return"string"==typeof arguments[1]&&tk("shallowObject"),tC.object(e,{},{name:t,deep:!1})},ref:tb,shallow:tw,deep:tE,struct:tf(function(e,t,r){return rY(e,t)?t:e})},tC=function(e,t,r){if("string"==typeof arguments[1])return tE.apply(null,arguments);if(rg(e))return e;var n=eY(e)?tC.object(e,t,r):Array.isArray(e)?tC.array(e,t):e0(e)?tC.map(e,t):e1(e)?tC.set(e,t):e;if(n!==e)return n;eW(!1)};function tk(e){eW("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(tS).forEach(function(e){return tC[e]=tS[e]});var t_=td(!1,function(e,t,r,n,o){var i,a;i=ta({get:r.get,set:r.set},o[0]||{}),a=rq(e),i.name=a.name+"."+t,i.context=e,a.values[t]=new tK(i),Object.defineProperty(e,t,rH[t]||(rH[t]={configurable:tX.computedConfigurable,enumerable:!1,get:function(){return rW(this).read(this,t)},set:function(e){rW(this).write(this,t,e)}}))}),tA=t_({equals:tn.structural}),tF=function(e,t,r){if("string"==typeof t||null!==e&&"object"==typeof e&&1==arguments.length)return t_.apply(null,arguments);var n="object"==typeof t?t:{};return n.get=e,n.set="function"==typeof t?t:n.set,n.name=n.name||e.name||"",new tK(n)};tF.struct=tA,(n=R||(R={}))[n.NOT_TRACKING=-1]="NOT_TRACKING",n[n.UP_TO_DATE=0]="UP_TO_DATE",n[n.POSSIBLY_STALE=1]="POSSIBLY_STALE",n[n.STALE=2]="STALE",(o=V||(V={}))[o.NONE=0]="NONE",o[o.LOG=1]="LOG",o[o.BREAK=2]="BREAK";var tT=function(e){this.cause=e};function tP(e){return e instanceof tT}function tM(e){switch(e.dependenciesState){case R.UP_TO_DATE:return!1;case R.NOT_TRACKING:case R.STALE:return!0;case R.POSSIBLY_STALE:for(var t=tN(!0),r=tV(),n=e.observing,o=n.length,i=0;i<o;i++){var a=n[i];if(tZ(a)){if(tX.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return tL(r),tU(t),!0}if(e.dependenciesState===R.STALE)return tL(r),tU(t),!0}}return tD(e),tL(r),tU(t),!1}}function tO(e){var t=e.observers.length>0;tX.computationDepth>0&&t&&eW(!1),!tX.allowStateChanges&&(t||"strict"===tX.enforceActions)&&eW(!1)}function tI(e,t,r){var n,o=tN(!0);tD(e),e.newObserving=Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++tX.runId;var i=tX.trackingDerivation;if(tX.trackingDerivation=e,!0===tX.disableErrorBoundaries)n=t.call(r);else try{n=t.call(r)}catch(e){n=new tT(e)}return tX.trackingDerivation=i,function(e){for(var t=e.observing,r=e.observing=e.newObserving,n=R.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++){var s=r[a];0===s.diffValue&&(s.diffValue=1,o!==a&&(r[o]=s),o++),s.dependenciesState>n&&(n=s.dependenciesState)}for(r.length=o,e.newObserving=null,i=t.length;i--;){var s=t[i];0===s.diffValue&&tQ(s,e),s.diffValue=0}for(;o--;){var s=r[o];1===s.diffValue&&(s.diffValue=0,function(e,t){var r=e.observers.length;r&&(e.observersIndexes[t.__mapid]=r),e.observers[r]=t,e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}(s,e))}n!==R.UP_TO_DATE&&(e.dependenciesState=n,e.onBecomeStale())}(e),e.observing.length,tU(o),n}function tx(e){var t=e.observing;e.observing=[];for(var r=t.length;r--;)tQ(t[r],e);e.dependenciesState=R.NOT_TRACKING}function tR(e){var t=tV(),r=e();return tL(t),r}function tV(){var e=tX.trackingDerivation;return tX.trackingDerivation=null,e}function tL(e){tX.trackingDerivation=e}function tN(e){var t=tX.allowStateReads;return tX.allowStateReads=e,t}function tU(e){tX.allowStateReads=e}function tD(e){if(e.dependenciesState!==R.UP_TO_DATE){e.dependenciesState=R.UP_TO_DATE;for(var t=e.observing,r=t.length;r--;)t[r].lowestObserverState=R.UP_TO_DATE}}var tB=0,tj=1,tq=Object.getOwnPropertyDescriptor(function(){},"name");function tG(e,t){var r=function(){return function(e,t,r,n){var o=function(e,t,r){var n=re()&&!!e,o=0;if(n){o=Date.now();var i=r&&r.length||0,a=Array(i);if(i>0)for(var s=0;s<i;s++)a[s]=r[s];rr({type:"action",name:e,object:t,arguments:a})}var l=tV();t1();var c={prevDerivation:l,prevAllowStateChanges:tH(!0),prevAllowStateReads:tN(!0),notifySpy:n,startTime:o,actionId:tj++,parentActionId:tB};return tB=c.actionId,c}(e,r,n);try{return t.apply(r,n)}catch(e){throw o.error=e,e}finally{tB!==o.actionId&&eW("invalid action stack. did you forget to finish an action?"),tB=o.parentActionId,void 0!==o.error&&(tX.suppressReactionErrors=!0),tW(o.prevAllowStateChanges),tU(o.prevAllowStateReads),t2(),tL(o.prevDerivation),o.notifySpy&&ro({time:Date.now()-o.startTime}),tX.suppressReactionErrors=!1}}(e,t,this,arguments)};return r.isMobxAction=!0,r}function tH(e){var t=tX.allowStateChanges;return tX.allowStateChanges=e,t}function tW(e){tX.allowStateChanges=e}tq&&tq.configurable;var tz=function(e){function t(t,r,n,o,i){void 0===n&&(n="ObservableValue@"+eH()),void 0===o&&(o=!0),void 0===i&&(i=tn.default);var a=e.call(this,n)||this;return a.enhancer=r,a.name=n,a.equals=i,a.hasUnreportedChange=!1,a.value=r(t,void 0,n),o&&re()&&rt({type:"create",name:a.name,newValue:""+a.value}),a}return ti(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==tX.UNCHANGED){var r=re();r&&rr({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),r&&ro()}},t.prototype.prepareNewValue=function(e){if(tO(this),rv(this)){var t=rw(this,{object:this,type:"update",newValue:e});if(!t)return tX.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?tX.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),rb(this)&&rC(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return rE(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),rS(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return e5(this.get())},t}(te);tz.prototype[e3()]=tz.prototype.valueOf,eQ("ObservableValue",tz);var tK=function(){function e(e){this.dependenciesState=R.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=[],this.observersIndexes={},this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=R.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+eH(),this.value=new tT(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=V.NONE,ez(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+eH(),e.set&&(this.setter=tG(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?tn.structural:tn.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){(function(e){if(e.lowestObserverState===R.UP_TO_DATE){e.lowestObserverState=R.POSSIBLY_STALE;for(var t=e.observers,r=t.length;r--;){var n=t[r];n.dependenciesState===R.UP_TO_DATE&&(n.dependenciesState=R.POSSIBLY_STALE,n.isTracing!==V.NONE&&t5(n,e),n.onBecomeStale())}}})(this)},e.prototype.onBecomeUnobserved=function(){},e.prototype.onBecomeObserved=function(){},e.prototype.get=function(){this.isComputing&&eW("Cycle detected in computation "+this.name+": "+this.derivation),0!==tX.inBatch||0!==this.observers.length||this.keepAlive?(t3(this),tM(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState!==R.STALE){e.lowestObserverState=R.STALE;for(var t=e.observers,r=t.length;r--;){var n=t[r];n.dependenciesState===R.POSSIBLY_STALE?n.dependenciesState=R.STALE:n.dependenciesState===R.UP_TO_DATE&&(e.lowestObserverState=R.UP_TO_DATE)}}}(this)):tM(this)&&(this.warnAboutUntrackedRead(),t1(),this.value=this.computeValue(!1),t2());var e=this.value;if(tP(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(tP(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){ez(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else ez(!1,!1)},e.prototype.trackAndCompute=function(){re()&&rt({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===R.NOT_TRACKING,r=this.computeValue(!0),n=t||tP(e)||tP(r)||!this.equals(e,r);return n&&(this.value=r),n},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,tX.computationDepth++,e)t=tI(this,this.derivation,this.scope);else if(!0===tX.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new tT(e)}return tX.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(tx(this),this.value=void 0)},e.prototype.observe=function(e,t){var r=this,n=!0,o=void 0;return function(e,t){void 0===t&&(t=ej);var r,n=t&&t.name||e.name||"Autorun@"+eH();if(t.scheduler||t.delay){var o=rp(t),i=!1;r=new t4(n,function(){i||(i=!0,o(function(){i=!1,r.isDisposed||r.track(a)}))},t.onError,t.requiresObservable)}else r=new t4(n,function(){this.track(a)},t.onError,t.requiresObservable);function a(){e(r)}return r.schedule(),r.getDisposer()}(function(){var i=r.get();if(!n||t){var a=tV();e({type:"update",object:r,newValue:i,oldValue:o}),tL(a)}n=!1,o=i})},e.prototype.warnAboutUntrackedRead=function(){},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return e5(this.get())},e}();tK.prototype[e3()]=tK.prototype.valueOf;var tZ=eQ("ComputedValue",tK),t$=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},tY=!0,tJ=!1,tX=((i=eG()).__mobxInstanceCount>0&&!i.__mobxGlobals&&(tY=!1),i.__mobxGlobals&&i.__mobxGlobals.version!==new t$().version&&(tY=!1),tY)?i.__mobxGlobals?(i.__mobxInstanceCount+=1,i.__mobxGlobals.UNCHANGED||(i.__mobxGlobals.UNCHANGED={}),i.__mobxGlobals):(i.__mobxInstanceCount=1,i.__mobxGlobals=new t$):(setTimeout(function(){tJ||eW("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new t$);function tQ(e,t){if(1===e.observers.length)e.observers.length=0,t0(e);else{var r=e.observers,n=e.observersIndexes,o=r.pop();if(o!==t){var i=n[t.__mapid]||0;i?n[o.__mapid]=i:delete n[o.__mapid],r[i]=o}delete n[t.__mapid]}}function t0(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,tX.pendingUnobservations.push(e))}function t1(){tX.inBatch++}function t2(){if(0==--tX.inBatch){t7();for(var e=tX.pendingUnobservations,t=0;t<e.length;t++){var r=e[t];r.isPendingUnobservation=!1,0===r.observers.length&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBecomeUnobserved()),r instanceof tK&&r.suspend())}tX.pendingUnobservations=[]}}function t3(e){var t=tX.trackingDerivation;return null!==t?(t.runId===e.lastAccessedBy||(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.length&&tX.inBatch>0&&t0(e),!1)}function t5(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===V.BREAK){var r=[];(function e(t,r,n){if(r.length>=1e3){r.push("(and many more)");return}r.push(""+Array(n).join("	")+t.name),t.dependencies&&t.dependencies.forEach(function(t){return e(t,r,n+1)})})(rf(rZ(e,void 0)),r,1),Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof tK?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}}var t4=function(){function e(e,t,r,n){void 0===e&&(e="Reaction@"+eH()),void 0===n&&(n=!1),this.name=e,this.onInvalidate=t,this.errorHandler=r,this.requiresObservable=n,this.observing=[],this.newObserving=[],this.dependenciesState=R.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+eH(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=V.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,tX.pendingReactions.push(this),t7())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(t1(),this._isScheduled=!1,tM(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&re()&&rt({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}t2()}},e.prototype.track=function(e){t1();var t,r=re();r&&(t=Date.now(),rr({name:this.name,type:"reaction"})),this._isRunning=!0;var n=tI(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&tx(this),tP(n)&&this.reportExceptionInDerivation(n.cause),r&&ro({time:Date.now()-t}),t2()},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler){this.errorHandler(e,this);return}if(tX.disableErrorBoundaries)throw e;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";tX.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,e),re()&&rt({type:"error",name:this.name,message:r,error:""+e}),tX.globalReactionErrorHandlers.forEach(function(r){return r(e,t)})},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(t1(),tx(this),t2()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e.$mobx=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=!1;"boolean"==typeof e[e.length-1]&&(r=e.pop());var n=function(e){switch(e.length){case 0:return tX.trackingDerivation;case 1:return rZ(e[0]);case 2:return rZ(e[0],e[1])}}(e);if(!n)return eW(!1);n.isTracing===V.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled"),n.isTracing=r?V.BREAK:V.LOG}(this,e)},e}(),t6=function(e){return e()};function t7(){tX.inBatch>0||tX.isRunningReactions||t6(t9)}function t9(){tX.isRunningReactions=!0;for(var e=tX.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var r=e.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction()}tX.isRunningReactions=!1}var t8=eQ("Reaction",t4);function re(){return!!tX.spyListeners.length}function rt(e){if(tX.spyListeners.length)for(var t=tX.spyListeners,r=0,n=t.length;r<n;r++)t[r](e)}function rr(e){rt(ta(ta({},e),{spyReportStart:!0}))}var rn={spyReportEnd:!0};function ro(e){e?rt(ta(ta({},e),{spyReportEnd:!0})):rt(rn)}function ri(e){return tX.spyListeners.push(e),eK(function(){tX.spyListeners=tX.spyListeners.filter(function(t){return t!==e})})}function ra(){eW(!1)}function rs(e){return function(t,r,n){if(n){if(n.value)return{value:tG(e,n.value),enumerable:!1,configurable:!0,writable:!0};var o=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return tG(e,o.call(this))}}}return(function(t,r,n){Object.defineProperty(t,r,{configurable:!0,enumerable:!1,get:function(){},set:function(t){eJ(this,r,rl(e,t))}})}).apply(this,arguments)}}var rl=function(e,t,r,n){return 1==arguments.length&&"function"==typeof e?tG(e.name||"<unnamed action>",e):2==arguments.length&&"function"==typeof t?tG(e,t):1==arguments.length&&"string"==typeof e?rs(e):!0!==n?rs(t).apply(null,arguments):void(e[t]=tG(e.name||t,r.value))};function rc(e,t,r){eJ(e,t,tG(t,r.bind(e)))}rl.bound=function(e,t,r,n){return!0===n?(rc(e,t,r.value),null):r?{configurable:!0,enumerable:!1,get:function(){return rc(this,t,r.value||r.initializer.call(this)),this[t]},set:ra}:{enumerable:!1,configurable:!0,set:function(e){rc(this,t,e)},get:function(){}}};var ru=function(e){return e()};function rp(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:ru}function rd(e,t,r){void 0===r&&(r=ej),"boolean"==typeof r&&(r={fireImmediately:r});var n,o,i=r.name||"Reaction@"+eH(),a=rl(i,r.onError?(n=r.onError,function(){try{return t.apply(this,arguments)}catch(e){n.call(this,e)}}):t),s=!r.scheduler&&!r.delay,l=rp(r),c=!0,u=!1,p=r.compareStructural?tn.structural:r.equals||tn.default,d=new t4(i,function(){c||s?h():u||(u=!0,l(h))},r.onError,r.requiresObservable);function h(){if(u=!1,!d.isDisposed){var t=!1;d.track(function(){var r=e(d);t=c||!p(o,r),o=r}),c&&r.fireImmediately&&a(o,d),c||!0!==t||a(o,d),c&&(c=!1)}}return d.schedule(),d.getDisposer()}function rh(e,t,r){return rm("onBecomeUnobserved",e,t,r)}function rm(e,t,r,n){var o="function"==typeof n?rZ(t,r):rZ(t),i="function"==typeof n?n:r,a=o[e];return"function"!=typeof a?eW(!1):(o[e]=function(){a.call(this),i.call(this)},function(){o[e]=a})}function rf(e){var t,r,n={name:e.name};return e.observing&&e.observing.length>0&&(n.dependencies=(t=e.observing,r=[],t.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r).map(rf)),n}function rg(e){return 1!=arguments.length&&eW(!1),function(e,t){if(null==e)return!1;if(void 0!==t){if(rK(e)){var r=e.$mobx;return r.values&&!!r.values[t]}return!1}return rK(e)||!!e.$mobx||tt(e)||t8(e)||tZ(e)}(e)}function ry(e,t){void 0===t&&(t=void 0),t1();try{return e.apply(t)}finally{t2()}}function rv(e){return void 0!==e.interceptors&&e.interceptors.length>0}function rE(e,t){var r=e.interceptors||(e.interceptors=[]);return r.push(t),eK(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function rw(e,t){var r=tV();try{var n=e.interceptors;if(n)for(var o=0,i=n.length;o<i&&(t=n[o](t),ez(!t||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{tL(r)}}function rb(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function rS(e,t){var r=e.changeListeners||(e.changeListeners=[]);return r.push(t),eK(function(){var e=r.indexOf(t);-1!==e&&r.splice(e,1)})}function rC(e,t){var r=tV(),n=e.changeListeners;if(n){n=n.slice();for(var o=0,i=n.length;o<i;o++)n[o](t);tL(r)}}var rk=(a=!1,Object.defineProperty(s={},"0",{set:function(){a=!0}}),Object.create(s)["0"]=1,!1===a),r_=0,rA=function(){};l=Array.prototype,void 0!==Object.setPrototypeOf?Object.setPrototypeOf(rA.prototype,l):void 0!==rA.prototype.__proto__?rA.prototype.__proto__=l:rA.prototype=l,Object.isFrozen(Array)&&["constructor","push","shift","concat","pop","unshift","replace","find","findIndex","splice","reverse","sort"].forEach(function(e){Object.defineProperty(rA.prototype,e,{configurable:!0,writable:!0,value:Array.prototype[e]})});var rF=function(){function e(e,t,r,n){this.array=r,this.owned=n,this.values=[],this.lastKnownLength=0,this.atom=new te(e||"ObservableArray@"+eH()),this.enhancer=function(r,n){return t(r,n,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return rE(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.array,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),rS(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t){if(e>t){for(var r=Array(e-t),n=0;n<e-t;n++)r[n]=void 0;this.spliceWithArray(t,0,r)}else this.spliceWithArray(e,t-e)}},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw Error("[mobx] Modification exception: the internal structure of an observable array was changed. Did you use peek() to change it?");this.lastKnownLength+=t,t>0&&e+t+1>r_&&rO(e+t+1)},e.prototype.spliceWithArray=function(e,t,r){var n=this;tO(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1==arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===r&&(r=eB),rv(this)){var i=rw(this,{object:this.array,type:"splice",index:e,removedCount:t,added:r});if(!i)return eB;t=i.removedCount,r=i.added}var a=(r=0===r.length?r:r.map(function(e){return n.enhancer(e,void 0)})).length-t;this.updateArrayLength(o,a);var s=this.spliceItemsIntoValues(e,t,r);return(0!==t||0!==r.length)&&this.notifyArraySplice(e,r,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,r){if(r.length<1e4)return(n=this.values).splice.apply(n,tl([e,t],r));var n,o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(r,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,r){var n=!this.owned&&re(),o=rb(this),i=o||n?{object:this.array,type:"update",index:e,newValue:t,oldValue:r}:null;n&&rr(ta(ta({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&rC(this,i),n&&ro()},e.prototype.notifyArraySplice=function(e,t,r){var n=!this.owned&&re(),o=rb(this),i=o||n?{object:this.array,type:"splice",index:e,removed:r,added:t,removedCount:r.length,addedCount:t.length}:null;n&&rr(ta(ta({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&rC(this,i),n&&ro()},e}(),rT=function(e){function t(t,r,n,o){void 0===n&&(n="ObservableArray@"+eH()),void 0===o&&(o=!1);var i=e.call(this)||this,a=new rF(n,r,i,o);if(eX(i,"$mobx",a),t&&t.length){var s=tH(!0);i.spliceWithArray(0,0,t),tW(s)}return rk&&Object.defineProperty(a.array,"0",rP),i}return ti(t,e),t.prototype.intercept=function(e){return this.$mobx.intercept(e)},t.prototype.observe=function(e,t){return void 0===t&&(t=!1),this.$mobx.observe(e,t)},t.prototype.clear=function(){return this.splice(0)},t.prototype.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.$mobx.atom.reportObserved(),Array.prototype.concat.apply(this.peek(),e.map(function(e){return rx(e)?e.peek():e}))},t.prototype.replace=function(e){return this.$mobx.spliceWithArray(0,this.$mobx.values.length,e)},t.prototype.toJS=function(){return this.slice()},t.prototype.toJSON=function(){return this.toJS()},t.prototype.peek=function(){return this.$mobx.atom.reportObserved(),this.$mobx.dehanceValues(this.$mobx.values)},t.prototype.find=function(e,t,r){void 0===r&&(r=0);var n=this.findIndex.apply(this,arguments);return -1===n?void 0:this.get(n)},t.prototype.findIndex=function(e,t,r){void 0===r&&(r=0);for(var n=this.peek(),o=n.length,i=r;i<o;i++)if(e.call(t,n[i],i,this))return i;return -1},t.prototype.splice=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];switch(arguments.length){case 0:return[];case 1:return this.$mobx.spliceWithArray(e);case 2:return this.$mobx.spliceWithArray(e,t)}return this.$mobx.spliceWithArray(e,t,r)},t.prototype.spliceWithArray=function(e,t,r){return this.$mobx.spliceWithArray(e,t,r)},t.prototype.push=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.$mobx;return r.spliceWithArray(r.values.length,0,e),r.values.length},t.prototype.pop=function(){return this.splice(Math.max(this.$mobx.values.length-1,0),1)[0]},t.prototype.shift=function(){return this.splice(0,1)[0]},t.prototype.unshift=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this.$mobx;return r.spliceWithArray(0,0,e),r.values.length},t.prototype.reverse=function(){var e=this.slice();return e.reverse.apply(e,arguments)},t.prototype.sort=function(e){var t=this.slice();return t.sort.apply(t,arguments)},t.prototype.remove=function(e){var t=this.$mobx.dehanceValues(this.$mobx.values).indexOf(e);return t>-1&&(this.splice(t,1),!0)},t.prototype.move=function(e,t){function r(e){if(e<0)throw Error("[mobx.array] Index out of bounds: "+e+" is negative");var t=this.$mobx.values.length;if(e>=t)throw Error("[mobx.array] Index out of bounds: "+e+" is not smaller than "+t)}if(r.call(this,e),r.call(this,t),e!==t){var n,o=this.$mobx.values;n=e<t?tl(o.slice(0,e),o.slice(e+1,t+1),[o[e]],o.slice(t+1)):tl(o.slice(0,t),[o[e]],o.slice(t,e),o.slice(e+1)),this.replace(n)}},t.prototype.get=function(e){var t=this.$mobx;if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},t.prototype.set=function(e,t){var r=this.$mobx,n=r.values;if(e<n.length){tO(r.atom);var o=n[e];if(rv(r)){var i=rw(r,{type:"update",object:this,index:e,newValue:t});if(!i)return;t=i.newValue}(t=r.enhancer(t,o))!==o&&(n[e]=t,r.notifyArrayChildUpdate(e,t,o))}else if(e===n.length)r.spliceWithArray(e,0,[t]);else throw Error("[mobx.array] Index out of bounds, "+e+" is larger than "+n.length)},t}(rA);eX(rT.prototype,e6(),function(){this.$mobx.atom.reportObserved();var e=this,t=0;return e7({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})}),Object.defineProperty(rT.prototype,"length",{enumerable:!1,configurable:!0,get:function(){return this.$mobx.getArrayLength()},set:function(e){this.$mobx.setArrayLength(e)}}),eJ(rT.prototype,e9(),"Array"),["indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(e){var t=Array.prototype[e];ez("function"==typeof t,"Base function not defined on Array prototype: '"+e+"'"),eJ(rT.prototype,e,function(){return t.apply(this.peek(),arguments)})}),["every","filter","forEach","map","some"].forEach(function(e){ez("function"==typeof Array.prototype[e],"Base function not defined on Array prototype: '"+e+"'"),eJ(rT.prototype,e,function(t,r){var n=this,o=this.$mobx;return o.atom.reportObserved(),o.dehanceValues(o.values)[e](function(e,o){return t.call(r,e,o,n)},r)})}),["reduce","reduceRight"].forEach(function(e){eJ(rT.prototype,e,function(){var t=this,r=this.$mobx;r.atom.reportObserved();var n=arguments[0];return arguments[0]=function(e,o,i){return n(e,o=r.dehanceValue(o),i,t)},r.values[e].apply(r.values,arguments)})}),function(e,t){for(var r=0;r<t.length;r++)eJ(e,t[r],e[t[r]])}(rT.prototype,["constructor","intercept","observe","clear","concat","get","replace","toJS","toJSON","peek","find","findIndex","splice","spliceWithArray","push","pop","set","shift","unshift","reverse","sort","remove","move","toString","toLocaleString"]);var rP=rM(0);function rM(e){return{enumerable:!1,configurable:!1,get:function(){return this.get(e)},set:function(t){this.set(e,t)}}}function rO(e){for(var t,r=r_;r<e;r++)t=r,Object.defineProperty(rT.prototype,""+t,rM(t));r_=e}rO(1e3);var rI=eQ("ObservableArrayAdministration",rF);function rx(e){return e$(e)&&rI(e.$mobx)}var rR={},rV=function(){function e(e,t,r){if(void 0===t&&(t=th),void 0===r&&(r="ObservableMap@"+eH()),this.enhancer=t,this.name=r,this.$mobx=rR,this._keysAtom=tr(this.name+".keys()"),"function"!=typeof Map)throw Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!tX.trackingDerivation)return this._has(e);var r=this._hasMap.get(e);if(!r){var n=r=new tz(this._has(e),tm,this.name+"."+rL(e)+"?",!1);this._hasMap.set(e,n),rh(n,function(){return t._hasMap.delete(e)})}return r.get()},e.prototype.set=function(e,t){var r=this._has(e);if(rv(this)){var n=rw(this,{type:r?"update":"add",object:this,newValue:t,name:e});if(!n)return this;t=n.newValue}return r?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(tO(this._keysAtom),rv(this)){var r=rw(this,{type:"delete",object:this,name:e});if(!r)return!1}if(this._has(e)){var n=re(),o=rb(this),r=o||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&rr(ta(ta({},r),{name:this.name,key:e})),ry(function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)}),o&&rC(this,r),n&&ro(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var r=this._hasMap.get(e);r&&r.setNewValue(t)},e.prototype._updateValue=function(e,t){var r=this._data.get(e);if((t=r.prepareNewValue(t))!==tX.UNCHANGED){var n=re(),o=rb(this),i=o||n?{type:"update",object:this,oldValue:r.value,name:e,newValue:t}:null;n&&rr(ta(ta({},i),{name:this.name,key:e})),r.setNewValue(t),o&&rC(this,i),n&&ro()}},e.prototype._addValue=function(e,t){var r=this;tO(this._keysAtom),ry(function(){var n=new tz(t,r.enhancer,r.name+"."+rL(e),!1);r._data.set(e,n),t=n.value,r._updateHasMapEntry(e,!0),r._keysAtom.reportChanged()});var n=re(),o=rb(this),i=o||n?{type:"add",object:this,name:e,newValue:t}:null;n&&rr(ta(ta({},i),{name:this.name,key:e})),o&&rC(this,i),n&&ro()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=this.keys();return e7({next:function(){var r=t.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:e.get(o)}}})},e.prototype.entries=function(){var e=this,t=this.keys();return e7({next:function(){var r=t.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:[o,e.get(o)]}}})},e.prototype.forEach=function(e,t){var r=this;this._keysAtom.reportObserved(),this._data.forEach(function(n,o){return e.call(t,r.get(o),o,r)})},e.prototype.merge=function(e){var t=this;return rN(e)&&(e=e.toJS()),ry(function(){var r=tH(!0);try{eY(e)?Object.keys(e).forEach(function(r){return t.set(r,e[r])}):Array.isArray(e)?e.forEach(function(e){var r=ts(e,2),n=r[0],o=r[1];return t.set(n,o)}):e0(e)?e.constructor!==Map?eW("Cannot initialize from classes that inherit from Map: "+e.constructor.name):e.forEach(function(e,r){return t.set(r,e)}):null!=e&&eW("Cannot initialize map from "+e)}finally{tW(r)}}),this},e.prototype.clear=function(){var e=this;ry(function(){tR(function(){e._data.forEach(function(t,r){return e.delete(r)})})})},e.prototype.replace=function(e){var t=this;return ry(function(){var r=function(e){if(e0(e)||rN(e))return e;if(Array.isArray(e))return new Map(e);if(!eY(e))return eW("Cannot convert to map from '"+e+"'");var t=new Map;for(var r in e)t.set(r,e[r]);return t}(e),n=new Map,o=!1;if(e4(t._data.keys(),function(e){if(!r.has(e)){if(t.delete(e))o=!0;else{var i=t._data.get(e);n.set(e,i)}}}),e4(r.entries(),function(e){var r=ts(e,2),i=r[0],a=r[1],s=t._data.has(i);if(t.set(i,a),t._data.has(i)){var l=t._data.get(i);n.set(i,l),s||(o=!0)}}),!o){if(t._data.size!==n.size)t._keysAtom.reportChanged();else for(var i=t._data.keys(),a=n.keys(),s=i.next(),l=a.next();!s.done;){if(s.value!==l.value){t._keysAtom.reportChanged();break}s=i.next(),l=a.next()}}t._data=n}),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e=this,t={};return this.forEach(function(r,n){return t["symbol"==typeof n?n:rL(n)]=e.get(n)}),t},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+e2(this.keys()).map(function(t){return rL(t)+": "+e.get(t)}).join(", ")+" }]"},e.prototype.observe=function(e,t){return rS(this,e)},e.prototype.intercept=function(e){return rE(this,e)},e}();function rL(e){return e&&e.toString?e.toString():new String(e).toString()}eX(rV.prototype,e6(),function(){return this.entries()}),eX(rV.prototype,e9(),"Map");var rN=eQ("ObservableMap",rV),rU={},rD=function(){function e(e,t,r){if(void 0===t&&(t=th),void 0===r&&(r="ObservableSet@"+eH()),this.name=r,this.$mobx=rU,this._data=new Set,this._atom=tr(this.name),"function"!=typeof Set)throw Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,n){return t(e,n,r)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;ry(function(){tR(function(){e._data.forEach(function(t){e.delete(t)})})})},e.prototype.forEach=function(e,t){var r=this;this._atom.reportObserved(),this._data.forEach(function(n){e.call(t,n,n,r)})},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if(tO(this._atom),rv(this)){var r=rw(this,{type:"add",object:this,newValue:e});if(!r)return this}if(!this.has(e)){ry(function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()});var n=re(),o=rb(this),r=o||n?{type:"add",object:this,newValue:e}:null;o&&rC(this,r)}return this},e.prototype.delete=function(e){var t=this;if(rv(this)){var r=rw(this,{type:"delete",object:this,oldValue:e});if(!r)return!1}if(this.has(e)){var n=re(),o=rb(this),r=o||n?{type:"delete",object:this,oldValue:e}:null;return ry(function(){t._atom.reportChanged(),t._data.delete(e)}),o&&rC(this,r),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=e2(this.keys()),r=e2(this.values());return e7({next:function(){var n=e;return e+=1,n<r.length?{value:[t[n],r[n]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e,t=this,r=0;return void 0!==this._data.values?e=e2(this._data.values()):(e=[],this._data.forEach(function(t){return e.push(t)})),e7({next:function(){return r<e.length?{value:t.dehanceValue(e[r++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return rB(e)&&(e=e.toJS()),ry(function(){var r=tH(!0);try{Array.isArray(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):e1(e)?(t.clear(),e.forEach(function(e){return t.add(e)})):null!=e&&eW("Cannot initialize set from "+e)}finally{tW(r)}}),this},e.prototype.observe=function(e,t){return rS(this,e)},e.prototype.intercept=function(e){return rE(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+e2(this.keys()).join(", ")+" ]"},e}();eX(rD.prototype,e6(),function(){return this.values()}),eX(rD.prototype,e9(),"Set");var rB=eQ("ObservableSet",rD),rj=function(){function e(e,t,r){this.target=e,this.name=t,this.defaultEnhancer=r,this.values={}}return e.prototype.read=function(e,t){if(this.target===e||(this.illegalAccess(e,t),this.values[t]))return this.values[t].get()},e.prototype.write=function(e,t,r){var n=this.target;n!==e&&this.illegalAccess(e,t);var o=this.values[t];if(o instanceof tK){o.set(r);return}if(rv(this)){var i=rw(this,{type:"update",object:n,name:t,newValue:r});if(!i)return;r=i.newValue}if((r=o.prepareNewValue(r))!==tX.UNCHANGED){var a=rb(this),s=re(),i=a||s?{type:"update",object:n,oldValue:o.value,name:t,newValue:r}:null;s&&rr(ta(ta({},i),{name:this.name,key:t})),o.setNewValue(r),a&&rC(this,i),s&&ro()}},e.prototype.remove=function(e){if(this.values[e]){var t=this.target;if(rv(this)){var r=rw(this,{object:t,name:e,type:"remove"});if(!r)return}try{t1();var n=rb(this),o=re(),i=this.values[e].get();this.keys&&this.keys.remove(e),delete this.values[e],delete this.target[e];var r=n||o?{type:"remove",object:t,oldValue:i,name:e}:null;o&&rr(ta(ta({},r),{name:this.name,key:e})),n&&rC(this,r),o&&ro()}finally{t2()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return rS(this,e)},e.prototype.intercept=function(e){return rE(this,e)},e.prototype.getKeys=function(){var e=this;return void 0===this.keys&&(this.keys=new rT(Object.keys(this.values).filter(function(t){return e.values[t]instanceof tz}),tm,"keys("+this.name+")",!0)),this.keys.slice()},e}();function rq(e,t,r){void 0===t&&(t=""),void 0===r&&(r=th);var n=e.$mobx;return n||(eY(e)||(t=(e.constructor.name||"ObservableObject")+"@"+eH()),t||(t="ObservableObject@"+eH()),n=new rj(e,t,r),eX(e,"$mobx",n)),n}var rG=Object.create(null),rH=Object.create(null);function rW(e){return e.$mobx||(tp(e),e.$mobx)}var rz=eQ("ObservableObjectAdministration",rj);function rK(e){return!!e$(e)&&(tp(e),rz(e.$mobx))}function rZ(e,t){if("object"==typeof e&&null!==e){if(rx(e))return void 0!==t&&eW(!1),e.$mobx.atom;if(rB(e))return e.$mobx;if(rN(e)){if(void 0===t)return e._keysAtom;var r=e._data.get(t)||e._hasMap.get(t);return r||eW(!1),r}if(tp(e),t&&!e.$mobx&&e[t],rK(e)){if(!t)return eW(!1);var r=e.$mobx.values[t];return r||eW(!1),r}if(tt(e)||tZ(e)||t8(e))return e}else if("function"==typeof e&&t8(e.$mobx))return e.$mobx;return eW(!1)}var r$=Object.prototype.toString;function rY(e,t,r){return void 0===r&&(r=-1),function e(t,r,n,o,i){if(t===r)return 0!==t||1/t==1/r;if(null==t||null==r)return!1;if(t!=t)return r!=r;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof r)return!1;t=rJ(t),r=rJ(r);var s=r$.call(t);if(s!==r$.call(r))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+r;case"[object Number]":if(+t!=+t)return+r!=+r;return 0==+t?1/+t==1/r:+t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(r)}var l="[object Array]"===s;if(!l){if("object"!=typeof t||"object"!=typeof r)return!1;var c=t.constructor,u=r.constructor;if(c!==u&&!("function"==typeof c&&c instanceof c&&"function"==typeof u&&u instanceof u)&&"constructor"in t&&"constructor"in r)return!1}if(0===n)return!1;n<0&&(n=-1),i=i||[];for(var p=(o=o||[]).length;p--;)if(o[p]===t)return i[p]===r;if(o.push(t),i.push(r),l){if((p=t.length)!==r.length)return!1;for(;p--;)if(!e(t[p],r[p],n-1,o,i))return!1}else{var d,h,m=Object.keys(t),f=void 0;if(p=m.length,Object.keys(r).length!==p)return!1;for(;p--;)if(d=r,h=f=m[p],!(Object.prototype.hasOwnProperty.call(d,h)&&e(t[f],r[f],n-1,o,i)))return!1}return o.pop(),i.pop(),!0}(e,t,r)}function rJ(e){return rx(e)?e.peek():e0(e)||rN(e)||e1(e)||rB(e)?e2(e.entries()):e}var rX="$mobx";"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ri,extras:{getDebugName:function(e,t){return(void 0!==t?rZ(e,t):rK(e)||rN(e)||rB(e)?function e(t,r){return(t||eW("Expecting some object"),void 0!==r)?e(rZ(t,r)):tt(t)||tZ(t)||t8(t)||rN(t)||rB(t)?t:(tp(t),t.$mobx)?t.$mobx:void eW(!1)}(e):rZ(e)).name}},$mobx:rX}),function(e){(e.FormRenderErrorCode||(e.FormRenderErrorCode={})).UserIsAnonymous="FORM_RENDER_USER_IS_ANONYMOUS",(t=n=e.ApiErrorCode||(e.ApiErrorCode={})).Failure="FAILURE",t.RateLimited="RATE_LIMITED",t.SignUpEmailVerification="EMAIL_VERIFICATION",t.EmailVerificationCode="EMAIL_VERIFICATION_CODE",t.RequiredFields="REQUIRED_FIELDS",t.UseFacebook="USE_FB_LOGIN",t.UseGoogle="USE_GOOGLE_LOGIN",t.UseApple="USE_APPLE_LOGIN",t.UseSocial="USE_SOCIAL_LOGIN",t.UseEmail="USE_EMAIL_LOGIN",t.UseSso="USE_SSO_LOGIN",t.UseStrongPassword="USE_STRONG_PASSWORD",t.Mfa="SHOW_MFA",t.ShowCaptcha="SHOW_CAPTCHA",t.PasswordReused="PASSWORD_REUSED",t.SocialNoEmail="EMAIL_EMPTY",t.AlreadyConfirmed="ALREADY_CONFIRMED",t.InternalRuntimeError="INTERNAL_RUNTIME_ERROR",t.InvalidOAuthCode="INVALID_OAUTH_CODE",t.ExplicitSignUpRequired="EXPLICIT_SIGNUP_REQUIRED",t.Unknown="API_UNKNOWN",t.InvalidClient="INVALID_CLIENT",t.CannotUpdateDatabase="CANNOT_UPDATE_DATABASE",t.InvalidClientType="INVALID_CLIENT_TYPE",t.InvalidOrigin="INVALID_ORIGIN",t.InvalidRedirectUri="INVALID_REDIRECT_URI",t.InvalidScope="INVALID_SCOPE",t.NotImplemented="NOT_IMPLEMENTED",t.OAuthNotEnabled="OAUTH_NOT_ENABLED",t.FailedTokenGeneration="UNABLE_TO_GENERATE_TOKEN",t.UserNotAuthorized="USER_NOT_AUTHORIZED",t.InvalidGrantType="INVALID_GRANT_TYPE",t.MissingParameter="MISSING_PARAMETER_ERROR",t.ValidationError="VALIDATION_ERROR",(r=o=e.UiErrorCode||(e.UiErrorCode={})).AcceptTermsOfService="UI_ACCEPT_TERMS_OF_SERVICE",r.Unknown="UI_UNKNOWN",r.NotImplemented="UI_NOT_IMPLEMENTED",r.MissingClientId="UI_MISSING_CLIENT_ID",r.MissingCodeChallenge="UI_MISSING_CODE_CHALLENGE",r.MissingRedirectUri="UI_MISSING_REDIRECT_URI",r.MissingScopes="UI_MISSING_SCOPES",r.InvalidScopes="UI_INVALID_SCOPES",r.InvalidResponseMode="UI_INVALID_RESPONSE_MODE",r.InvalidRedirectUri="UI_INVALID_REDIRECT_URI",r.StateMismatch="UI_STATE_MISMATCH",r.PostMessageOpenerDNE="UI_POST_MESSAGE_OPENER_DNE";var t,r,n,o,i=[n.UseFacebook,n.UseGoogle,n.UseApple,n.UseEmail,n.UseSso,n.UseStrongPassword,n.Mfa,n.ShowCaptcha,n.SocialNoEmail,n.PasswordReused],a=new Set(Object.keys(e.ApiErrorCode).map(function(t){return e.ApiErrorCode[t]})),s=new Set(Object.keys(e.UiErrorCode).map(function(t){return e.UiErrorCode[t]}));function l(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.some(function(t){return t.toLowerCase()===(null==e?void 0:e.toLowerCase())})}function c(e){return e&&"HTTPError"===e.name}function u(e){return e&&null!=e.errCode}function p(e){return!!e&&(a.has(e)||s.has(e))}function d(e){return e&&null!=e.details}e.HTTPError=eh.Bb,e.RequestError=eh.Lu,e.tryGetErrorFromHTTPError=function(e){var t;try{var r=JSON.parse(null!==(t=e.body)&&void 0!==t?t:"");return r.error||r.message?r:void 0}catch(e){return}},e.errCodeEqualsTo=l,e.matchErrCode=function(e,t){var r,n=Object.keys(t).find(function(t){return l(e,t)});return n?null===(r=t[n])||void 0===r?void 0:r.call(t):t.default?t.default():void 0},e.isHTTPError=c,e.isAuthLegacyApiError=function(e){return e&&"AuthApiError"===e.name},e.isAuthCommonError=u,e.isAuthErrorCode=p,e.isRequestError=d,e.PasswordErrorReason=em.gx.PasswordValidationReason,e.isChangePasswordHTTPError=function(e){return e&&"string"==typeof e.error&&l(e.error,n.PasswordReused,n.UseStrongPassword)};var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eO(t,e),t}(Error);e.AuthTimeoutError=h,e.resolveOrTimeout=function(e,t,r){return void 0===t&&(t="event"),void 0===r&&(r=15e3),eL(this,void 0,void 0,function(){return eN(this,function(n){return[2,Promise.race([e,new Promise(function(e,n){return window.setTimeout(function(){return n(new h("Timed out waiting for `".concat(t,"`")))},r)})])]})})};var m=function(t){function r(e,r,n){var o=this;return r=r||String(e)||"Error",(o=t.call(this,r)||this).errCode=e,o.message=r,o.nestedError=n,o}return eO(r,t),r.create=function(e){return c(e)?r.createFromHTTPError(e):u(e)?e:d(e)?new r(n.Unknown,e.details,e):r.createFromError(o.Unknown,e)},r.createFromError=function(e,t){return p(e)?new r(e,null==t?void 0:t.message,t):new r(n.Unknown,null==t?void 0:t.message,t)},r.createFromHTTPError=function(t){var o,i=e.tryGetErrorFromHTTPError(t);if(i){var s=n.Unknown;if("string"==typeof i.error&&a.has(i.error.toUpperCase()))s=i.error.toUpperCase();else if("string"==typeof i.message){var l=i.message.replace(/\s/g,"_").toUpperCase();a.has(l)&&(s=l)}var c=(null===(o=t.request)||void 0===o?void 0:o.url)||"<no-url>",u=i.error||i.message||"<no-message>";return new e.AuthCommonError(s,"api error: ".concat(c," ").concat(u),i)}return r.createFromError(n.Unknown,t)},Object.defineProperty(r.prototype,"isRecoverable",{get:function(){var e=this;return i.some(function(t){return t===e.errCode})},enumerable:!1,configurable:!0}),r}(Error);e.AuthCommonError=m}(L||(L={})),(c=N||(N={})).SecureSignIn="SecureSignIn",c.SignInInit="SignInInit",c.SignInWithPassword="SignInWithPassword",c.NewAccount="NewAccount",c.SignUpEmailPermissionPopup="SignUpEmailPermissionPopup",c.SignInEmailPermissionPopup="SignInEmailPermissionPopup",c.ExplicitTermsOfServicePopup="ExplicitTermsOfServicePopup",c.MFA="MFA",c.Captcha="Captcha",c.SignUpEmailVerification="SignUpEmailVerification",c.ResetPassword="ResetPassword",c.ResetPasswordEmailSent="ResetPasswordEmailSent",c.VerifyResetKey="VerifyResetKey",c.SetNewPassword="SetNewPassword",c.SetNewPasswordUpdated="SetNewPasswordUpdated",c.ForgotEmail="ForgotEmail",c.SupportRequest="SupportRequest",c.SupportRequestSent="SupportRequestSent",c.GoogleOneTapSignUp="GoogleOneTapSignUp",c.OAuthConsent="OAuthConsent",c.SignUpStart="SignUpStart",(u=D||(D={})).ToSignIn="ToSignIn",u.ToSignUp="ToSignUp",u.ToResetPassword="ToResetPassword",u.ToForgotEmail="ToForgotEmail",u.ToMFA="ToMFA",u.ToSupportRequest="ToSupportRequest";var rQ=((U={})[D.ToSignIn]=N.SignInInit,U[D.ToForgotEmail]=N.ForgotEmail,U[D.ToSignUp]=N.NewAccount,U[D.ToResetPassword]=N.ResetPassword,U[D.ToMFA]=N.MFA,U[D.ToSupportRequest]=N.SupportRequest,U);(p=B||(B={})).ResetPasswordSubmit="ResetPasswordSubmit",p.SetNewPasswordSubmit="SetNewPasswordSubmit",p.VerifyPasswordResetKeySubmit="VerifyPasswordResetKeySubmit",p.SignUpEmailSubmit="SignUpEmailSubmit",p.SignUpSocialFlowStart="SignUpSocialFlowStart",p.SignInCheckEmailSubmit="SignInCheckEmailSubmit",p.SignInEmailFlowSubmit="SignInEmailFlowSubmit",p.SignInSocialFlowStart="SignInSocialFlowStart",p.SocialFlowContinue="SocialFlowContinue",p.SSOFlowContinue="SSOFlowContinue",p.CaptchaSubmit="CaptchaSubmit",p.MfaSubmit="MfaSubmit",p.SignUpEmailVerificationSubmit="SignUpEmailVerificationSubmit",p.SupportRequestSubmit="SupportRequestSubmit";var r0=function(e,t){return{key:e,data:t}};if(!function(e){var t,r,n,o,i,a,s,l;function c(e){return e&&e.hasOwnProperty("email")}(e.SignupEmailVerificationType||(e.SignupEmailVerificationType={})).Code="code",e.isAuthEmailContext=c,e.isAuthSSOContext=function(e){return e&&c(e)&&!!e.isSSO},e.isAuthSocialContext=function(e){return e&&e.hasOwnProperty("socialType")},(n=r=(t=e.Social||(e.Social={})).Type||(t.Type={})).Google="Google",n.Facebook="Facebook",n.Apple="Apple",t.AllTypes=Object.values(r),(o=t.OAuthTokenType||(t.OAuthTokenType={})).Code="code",o.Token="token",o.IDToken="id_token",(a=(i=e.Props||(e.Props={})).SupplementaryFlowType||(i.SupplementaryFlowType={})).Link="Link",a.BuiltIn="BuiltIn",(s=e.Tracking||(e.Tracking={})).FormType=N,(l=s.ToSLinkType||(s.ToSLinkType={})).BusinessAgreement="businessAgreement",l.TermsOfService="terms",l.PrivacyPolicy="privacyPolicy",l.CAPrivacyPolicy="CAPrivacyNotice",e.Error=L,e.LoginType=em.Bz,e.MfaSettings=em.b,e.OAuth=em.fy,e.Api=em.gx,e.AjaxFetch=ef.p,e.TokenApi=eg.W,e.PartnerAppApi=ey.B,e.User=em.n5}(j||(j={})),!ed.useState)throw Error("mobx-react-lite requires React with Hooks support");if(!ri)throw Error("mobx-react-lite requires mobx at least version 4 to be available");var r1=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};function r2(){var e=r1((0,ed.useState)(0),2)[1];return(0,ed.useCallback)(function(){e(function(e){return e+1})},[])}var r3=(d="observerBatching","function"==typeof Symbol?Symbol.for(d):"__$mobx-react "+d+"__");function r5(e){return rf(rZ(e,void 0))}var r4=new Set;function r6(){void 0===q&&(q=setTimeout(r7,1e4))}function r7(){q=void 0;var e=Date.now();r4.forEach(function(t){var r=t.current;r&&e>=r.cleanAt&&(r.reaction.dispose(),t.current=null,r4.delete(t))}),r4.size>0&&r6()}var r9=!1,r8=[],ne={};function nt(e){return"observer"+e}function nr(e,t,r){void 0===t&&(t="observed"),void 0===r&&(r=ne);var n=(i=(r.useForceUpdate||r2)(),function(){r9?r8.push(i):i()}),o=ed.useRef(null);if(!o.current){var i,a=new t4(nt(t),function(){s.mounted?n():(a.dispose(),o.current=null)}),s={cleanAt:Date.now()+1e4,reaction:a};o.current=s,r4.add(o),r6()}var l=o.current.reaction;return ed.useDebugValue(l,r5),ed.useEffect(function(){return r4.delete(o),o.current?o.current.mounted=!0:(o.current={reaction:new t4(nt(t),function(){n()}),cleanAt:1/0},n()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(e){r9=!0,r8=[];try{var t=e();r9=!1;var r=r8.length>0?r8:void 0;return ed.useLayoutEffect(function(){r&&r.forEach(function(e){return e()})},[r]),t}finally{r9=!1}}(function(){var t,r;if(l.track(function(){try{t=e()}catch(e){r=e}}),r)throw r;return t})}var nn=function(){return(nn=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},no={$$typeof:!0,render:!0,compare:!0,type:!0};function ni(e){var t=e.children,r=e.render,n=t||r;return"function"!=typeof n?null:nr(n)}function na(e,t,r,n,o){var i="function"==typeof e[t],a="function"==typeof e["children"===t?"render":"children"];return i&&a?Error("MobX Observer: Do not use children and render in the same time in`"+r):i||a?null:Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+r+"`, expected `function`.")}ni.propTypes={children:na,render:na},ni.displayName="Observer",(h=ev.unstable_batchedUpdates)||(h=function(e){e()}),function(e){var t,r=e.enforceActions,n=e.computedRequiresReaction,o=e.computedConfigurable,i=e.disableErrorBoundaries,a=e.arrayBuffer,s=e.reactionScheduler,l=e.reactionRequiresObservable,c=e.observableRequiresReaction;if(!0===e.isolateGlobalState&&((tX.pendingReactions.length||tX.inBatch||tX.isRunningReactions)&&eW("isolateGlobalState should be called before MobX is running any reactions"),tJ=!0,tY&&(0==--eG().__mobxInstanceCount&&(eG().__mobxGlobals=void 0),tX=new t$)),void 0!==r){var u=void 0;switch(r){case!0:case"observed":u=!0;break;case!1:case"never":u=!1;break;case"strict":case"always":u="strict";break;default:eW("Invalid value for 'enforceActions': '"+r+"', expected 'never', 'always' or 'observed'")}tX.enforceActions=u,tX.allowStateChanges=!0!==u&&"strict"!==u}void 0!==n&&(tX.computedRequiresReaction=!!n),void 0!==l&&(tX.reactionRequiresObservable=!!l),void 0!==c&&(tX.observableRequiresReaction=!!c,tX.allowStateReads=!tX.observableRequiresReaction),void 0!==o&&(tX.computedConfigurable=!!o),void 0!==i&&(!0===i&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors if this is on."),tX.disableErrorBoundaries=!!i),"number"==typeof a&&rO(a),s&&(t=t6,t6=function(e){return s(function(){return t(e)})})}({reactionScheduler:h}),("undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{})[r3]=!0;var ns=0,nl={};function nc(e){return nl[e]||(nl[e]=function(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+ns+")";return ns++,t}(e)),nl[e]}function nu(e,t){if(np(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.hasOwnProperty.call(t,r[o])||!np(e[r[o]],t[r[o]]))return!1;return!0}function np(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function nd(e,t,r){Object.hasOwnProperty.call(e,t)?e[t]=r:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}var nh=nc("patchMixins"),nm=nc("patchedDefinition");function nf(e,t){for(var r,n=this,o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];t.locks++;try{return null!=e&&(r=e.apply(this,i)),r}finally{t.locks--,0===t.locks&&t.methods.forEach(function(e){e.apply(n,i)})}}function ng(e,t){return function(){for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];nf.call.apply(nf,[this,e,t].concat(n))}}var ny=nc("isUnmounted"),nv=nc("skipRender"),nE=nc("isForcingUpdate");function nw(e){var t=this;nd(this,nv,!1),nd(this,nE,!1);var r=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",n=e.bind(this),o=!1,i=new t4(r+".render()",function(){if(!o&&(o=!0,!0!==t[ny])){var e=!0;try{nd(t,nE,!0),t[nv]||ed.Component.prototype.forceUpdate.call(t),e=!1}finally{nd(t,nE,!1),e&&i.dispose()}}});function a(){o=!1;var e=void 0,t=void 0;if(i.track(function(){try{t=function(e,t){var r,n=tH(e);try{r=t()}finally{tW(n)}return r}(!1,n)}catch(t){e=t}}),e)throw e;return t}return i.reactComponent=this,a[rX]=i,this.render=a,a.call(this)}function nb(e,t){return this.state!==t||!nu(this.props,e)}function nS(e,t){var r=nc("reactProp_"+t+"_valueHolder"),n=nc("reactProp_"+t+"_atomHolder");function o(){return this[n]||nd(this,n,tr("reactive "+t)),this[n]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var e=!1;return tN&&tU&&(e=tN(!0)),o.call(this).reportObserved(),tN&&tU&&tU(e),this[r]},set:function(e){this[nE]||nu(this[r],e)?nd(this,r,e):(nd(this,r,e),nd(this,nv,!0),o.call(this).reportChanged(),nd(this,nv,!1))}})}var nC="function"==typeof Symbol&&Symbol.for,nk=nC?Symbol.for("react.forward_ref"):"function"==typeof ed.forwardRef&&(0,ed.forwardRef)(function(e){return null}).$$typeof,n_=nC?Symbol.for("react.memo"):"function"==typeof ed.memo&&(0,ed.memo)(function(e){return null}).$$typeof;function nA(e){if(!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),n_&&e.$$typeof===n_)throw Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(nk&&e.$$typeof===nk){var t,r,n,o,i=e.render;if("function"!=typeof i)throw Error("render property of ForwardRef was not a function");return(0,ed.forwardRef)(function(){var e=arguments;return(0,ed.createElement)(ni,null,function(){return i.apply(void 0,e)})})}return"function"!=typeof e||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(ed.Component,e)?function(e){var t=e.prototype;if(t.componentWillReact)throw Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==ed.PureComponent){if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==nb)throw Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=nb}nS(t,"props"),nS(t,"state");var r=t.render;return t.render=function(){return nw.call(this,r)},!function(e,t,r){var n,o,i=((o=(n=e[nh]=e[nh]||{})[t]=n[t]||{}).locks=o.locks||0,o.methods=o.methods||[],o);0>i.methods.indexOf(r)&&i.methods.push(r);var a=Object.getOwnPropertyDescriptor(e,t);if(!a||!a[nm]){var s=e[t],l=function e(t,r,n,o,i){var a,s=ng(i,o);return(a={})[nm]=!0,a.get=function(){return s},a.set=function(i){if(this===t)s=ng(i,o);else{var a=e(this,r,n,o,i);Object.defineProperty(this,r,a)}},a.configurable=!0,a.enumerable=n,a}(e,t,a?a.enumerable:void 0,i,s);Object.defineProperty(e,t,l)}}(t,"componentWillUnmount",function(){this.render[rX]&&this.render[rX].dispose(),this[ny]=!0}),e}(e):(r=nn({forwardRef:!1},void 0),n=e.displayName||e.name,(o=function(t,r){return nr(function(){return e(t,r)},n)}).displayName=n,function(e,t){Object.keys(e).forEach(function(r){no[r]||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))})}(e,t=r.forwardRef?(0,ed.memo)((0,ed.forwardRef)(o)):(0,ed.memo)(o)),t.displayName=n,t)}if(!ed.Component)throw Error("mobx-react requires React to be available");if(!tC)throw Error("mobx-react requires mobx to be available");var nF={input:"base_input__JssPy"},nT=function(e){var t=e.qa,r=e.className,n=e.onChange,o=e.onFocus,i=e.onBlur,a=e.required,s=ex(e,["qa","className","onChange","onFocus","onBlur","required"]);return ed.createElement("input",eI({"data-qa":t,className:eb()(nF.input,r),onChange:n,onFocus:o,onBlur:i,"aria-required":a},s))};(m=G||(G={})).Required="Required",m.Invalid="Invalid",m.Warning="Warning",m.Suggestion="Suggestion",m.Valid="Valid";var nP={inputAndPlaceholderContainer:"default_inputAndPlaceholderContainer__Ib9SR",inputAndSuffixContainer:"default_inputAndSuffixContainer__uxrvq",suffixContainer:"default_suffixContainer__K8RIY",input:"default_input__rJNI1",placeholder:"default_placeholder__b-qWQ",minimized:"default_minimized__CbLub",message:"default_message__KZx2H",errorIcon:"default_errorIcon__JdyX8",error:"default_error__ySTJz"},nM=function(e){var t=e.className,r=e.onChange,n=e.onFocus,o=e.onBlur,i=e.placeholder,a=e.suffix,s=e.validity,l=void 0===s?{status:G.Valid}:s,c=l.status,u=l.message,p=ex(e,["className","onChange","onFocus","onBlur","placeholder","suffix","validity"]),d=eU(ed.useState(p.autoFocus),2),h=d[0],m=d[1],f=c===G.Invalid||c===G.Required,g=h||!!p.value,y="".concat(p.name,"__field_message"),v=!!u;return ed.createElement("div",{className:eb()(t,f&&nP.error)},ed.createElement("div",{className:nP.inputAndPlaceholderContainer},ed.createElement("label",{className:eb()(nP.placeholder,g&&nP.minimized),htmlFor:p.name},i),ed.createElement("div",{className:nP.inputAndSuffixContainer},ed.createElement(nT,eI({className:nP.input},p,{id:p.name,onChange:function(e){return null==r?void 0:r(e.target.value)},onFocus:function(e){m(!0),null==n||n(e)},onBlur:function(e){m(!1),null==o||o(e)},"aria-describedby":v?y:void 0})),!!a&&ed.createElement("div",{className:nP.suffixContainer},a))),v&&ed.createElement("div",{id:y,className:nP.message},f&&ed.createElement("span",{className:nP.errorIcon},ed.createElement(eE.X,{"aria-hidden":"true"})),u))},nO={emailDomain:"email_emailDomain__upE4L",suggestion:"email_suggestion__dmWoS",restrictedDomainInput:"email_restrictedDomainInput__EhUXz",restrictedDomainDropdownContainer:"email_restrictedDomainDropdownContainer__tH3F2",restrictedDomainDropdown:"email_restrictedDomainDropdown__QHIBx",restrictedDomainDropdownOption:"email_restrictedDomainDropdownOption__0-3v6"},nI=nA(function(e){var t=e.model,r=e.disabled,n=ex(e,["model","disabled"]);return ed.createElement(nM,eI({required:!0,name:"email",type:t.isRestrictedDomain?"text":"email",placeholder:"Email",validity:t.validity,value:t.inputValue,onChange:t.onChange,onBlur:t.onBlur,disabled:r||t.isDisabled,suffix:t.isRestrictedDomain?ed.createElement(nx,{domains:t.restrictedDomains,selectedDomain:t.selectedDomain,onSelectDomain:t.onSelectDomain,qa:"restrictedEmailDomain"}):null},n))}),nx=function(e){var t=e.domains,r=e.selectedDomain,n=e.onSelectDomain,o=e.qa,i=ex(e,["domains","selectedDomain","onSelectDomain","qa"]);return 1===t.length?ed.createElement("input",{disabled:!0,value:"@".concat(r),className:nO.restrictedDomainInput,"data-qa":"".concat(o,"-input"),"aria-label":"".concat(o)}):ed.createElement("div",{className:nO.restrictedDomainDropdownContainer},ed.createElement("select",eI({className:nO.restrictedDomainDropdown,"data-qa":"".concat(o,"-dropdown"),"aria-label":"".concat(o," dropdown"),onChange:function(e){return n(e.target.value)}},i),t.map(function(e){return ed.createElement("option",{value:e,key:e,className:nO.restrictedDomainDropdownOption},"@",e)})))},nR={required:{status:G.Required,message:"Required"},invalid:{status:G.Invalid,message:"Invalid email address"},misspelled:function(e,t){return{status:G.Suggestion,message:ed.createElement(ed.Fragment,null,ed.createElement("span",{className:eb()(nO.emailDomain,t&&nO.suggestion),onClick:t},e)," ","might be misspelled")}},valid:{status:G.Valid}},nV=function(){function e(e){this.map=new Map,this.capacity=e}return e.prototype.get=function(e){return this.map.get(e)},e.prototype.has=function(e){return this.map.has(e)},e.prototype.set=function(e,t){if(this.map.set(e,t),this.map.size>this.capacity){var r=this.map.keys().next().value;this.map.delete(r)}return this},e.prototype.delete=function(e){return this.map.delete(e)},e.prototype.clear=function(){return this.map.clear()},e}(),nL=function(){function e(e,t,r,n,o){void 0===t&&(t=""),void 0===n&&(n=!1),void 0===o&&(o=void 0),this.api=e,this.customEmailValidation=r,this.restrictedDomains=o,this.verifyEmailCache=new nV(5),this.inputValue="",this.validity=nR.valid,this.inputValue=t,this.isDisabled=n,this.isRestrictedDomain=!!o&&o.length>0,this.selectedDomain=this.isRestrictedDomain?o[0]:void 0}return e.prototype.validateValue=function(t){return(t=t.trim()).length<1?nR.required:e.emailRegex.test(t)?nR.valid:nR.invalid},e.prototype.checkDomainSpelling=function(e){return eL(this,void 0,void 0,function(){var t,r,n,o,i=this;return eN(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.verifyEmail(e)];case 1:return r=(t=a.sent()).isValid,n=t.hint,this.value===e&&(n?(o=eU(n.split("@"),2)[1],this.validity=nR.misspelled("@".concat(o),function(){i.onChange(n,!0)})):r?this.validity=nR.valid:(o=eU(e.split("@"),2)[1],this.validity=nR.misspelled("@".concat(o)))),[3,3];case 2:return a.sent(),[3,3];case 3:return[2]}})})},e.prototype.checkCustomEmailValidation=function(e){return eL(this,void 0,void 0,function(){var t;return eN(this,function(r){switch(r.label){case 0:if(r.trys.push([0,3,,4]),!this.customEmailValidation)return[3,2];return[4,this.customEmailValidation(e)];case 1:t=r.sent(),this.value===e&&(this.validity=t),r.label=2;case 2:return[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}})})},e.prototype.verifyEmail=function(e){return eL(this,void 0,void 0,function(){var t,r;return eN(this,function(n){switch(n.label){case 0:if(r=this.verifyEmailCache.get(e))return[3,2];return[4,this.api.verifyEmail(e)];case 1:r=n.sent(),n.label=2;case 2:return t=r,this.verifyEmailCache.set(e,t),[2,t]}})})},e.prototype.setValue=function(e){this.inputValue=e},Object.defineProperty(e.prototype,"value",{get:function(){return this.isRestrictedDomain?this.inputValue+"@".concat(this.selectedDomain):this.inputValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this.validity.status===G.Valid||this.validity.status===G.Suggestion},enumerable:!1,configurable:!0}),e.prototype.validate=function(){return eL(this,void 0,void 0,function(){return eN(this,function(e){switch(e.label){case 0:if(this.validity=this.validateValue(this.value),!this.isValid)return[3,2];return[4,this.checkCustomEmailValidation(this.value)];case 1:e.sent(),e.label=2;case 2:return[2,[this.isValid,this.validity.status]]}})})},e.prototype.onChange=function(e,t){void 0===t&&(t=!1),this.setValue(e),(!this.isValid||t)&&this.validate()},e.prototype.onBlur=function(){return eL(this,void 0,void 0,function(){var e;return eN(this,function(t){switch(t.label){case 0:if(!this.value)return[3,2];return[4,this.validate()];case 1:e=eU.apply(void 0,[t.sent(),1])[0],!this.isDisabled&&e&&this.checkDomainSpelling(this.value),t.label=2;case 2:return[2]}})})},e.prototype.onSelectDomain=function(e){this.selectedDomain=e},e.emailRegex=/^[^@\s]+@[^@\s]+\.[^@\s]+$/iu,eR([tC,eV("design:type",Object)],e.prototype,"inputValue",void 0),eR([tC,eV("design:type",Object)],e.prototype,"isDisabled",void 0),eR([tC.ref,eV("design:type",Object)],e.prototype,"validity",void 0),eR([tC,eV("design:type",Object)],e.prototype,"selectedDomain",void 0),eR([tC,eV("design:type",Boolean)],e.prototype,"isRestrictedDomain",void 0),eR([rl,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",Promise)],e.prototype,"checkDomainSpelling",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",Promise)],e.prototype,"checkCustomEmailValidation",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setValue",null),eR([tF,eV("design:type",String),eV("design:paramtypes",[])],e.prototype,"value",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"isValid",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"validate",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String,Object]),eV("design:returntype",void 0)],e.prototype,"onChange",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"onBlur",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"onSelectDomain",null),e}(),nN=!(eS.canUseDOM&&eS.canUseViewport&&eS.canUseEventListeners)||navigator.userAgent.toLowerCase().includes("node.js")||navigator.userAgent.includes("jsdom"),nU=function(e){var t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";if(!nN&&(window.crypto||window.msCrypto)){var r=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(e)).map(function(e){return t.charCodeAt(e%t.length)});return String.fromCharCode.apply(null,Array.from(r))}for(var n="",o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*t.length));return n},nD=function(e){return eL(void 0,void 0,void 0,function(){var t,r,n;return eN(this,function(o){switch(o.label){case 0:if(!(!nN&&(window.crypto||window.msCrypto)))return[3,2];return t=window.crypto||window.msCrypto,r=new TextEncoder().encode(e),[4,t.subtle.digest("SHA-256",r)];case 1:return n=o.sent(),[2,btoa(new Uint8Array(n).reduce(function(e,t){return e+String.fromCharCode(t)},"")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")];case 2:throw Error("Unable to hash string")}})})},nB={Empty:"empty",Value:"value",Error:"error",Loading:"loading"},nj=function(){function e(){}return e.prototype.isEmpty=function(){return this.state===nB.Empty},e.prototype.isLoading=function(){return this.state===nB.Loading},e.prototype.isError=function(){return this.state===nB.Error},e.prototype.isValue=function(){return this.state===nB.Value},e}(),nq=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state=nB.Empty,t}return eO(t,e),t.prototype.getOr=function(e){return e},t}(nj),nG=function(e){function t(t){var r=e.call(this)||this;return r.state=nB.Loading,r.meta=t,r}return eO(t,e),t.prototype.getOr=function(e){return e},t}(nj),nH=function(e){function t(t){var r=e.call(this)||this;return r.state=nB.Error,r.error=t,r.nonce=nU(10),r}return eO(t,e),t.prototype.getOr=function(e){return e},t.prototype.getErrorMessage=function(){return this.error.message.toString()},t}(nj),nW={Empty:nq,Loading:nG,Value:function(e){function t(t){var r=e.call(this)||this;return r.state=nB.Value,r.value=t,r}return eO(t,e),t.prototype.getOr=function(e){return void 0===this.value?e:this.value},t}(nj),Error:nH},nz=function(){function e(e,t){this.api=e,this.payload=new nW.Empty,this.emailModel=new nL(this.api,t)}return e.prototype.getData=function(){return{email:this.emailModel.value}},e.prototype.validate=function(){return eL(this,void 0,void 0,function(){var e;return eN(this,function(t){switch(t.label){case 0:return[4,this.emailModel.validate()];case 1:return[2,[(e=eU.apply(void 0,[t.sent(),2]))[0],{email:e[1]}]]}})})},e.prototype.setPayload=function(e){this.payload=e},eR([tC.ref,eV("design:type",Object)],e.prototype,"payload",void 0),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"validate",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setPayload",null),e}(),nK="signin/signup",nZ=function(){function e(e,t,r){void 0===r&&(r=nK);var n=this;this.key=e,this.logger=t,this.defaultAction=r,this.tokenMap=new Map,this.tokenReqMap=new Map,this.tokenRefreshTimers=new Map,this.initTimeStart=0,this.execute=function(e){return void 0===e&&(e=n.defaultAction),eL(n,void 0,void 0,function(){var t,r,n,o,i;return eN(this,function(a){switch(a.label){case 0:if(this.logger.info("[Execute Captcha] Execute Captcha attempt",{action:e}),!this.isEnabled)return[2];this.isGrecaptchaLoaded()||this.logger.error("[Execute Captcha] Captcha was not loaded at time of executeCaptcha",{action:e}),t=Date.now(),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,this.waitUntilCaptchaReady(15e3)];case 2:return r=a.sent(),[4,this.getToken(e)];case 3:return n=a.sent(),this.deleteToken(e),this.logger.info("[Execute Captcha] Token Exists after execute = [".concat(!!n,"], waitUntilCaptchaReady_time_ms = [").concat(r,"]"),{action:e,waitUntilCaptchaReadyTimeMs:r}),[2,n];case 4:return o=a.sent(),i=Date.now()-t,this.logger.error("\n          [Execute Captcha] ".concat(o.message,"; Time from start of execute to error was ").concat(i,"\n        "),o,{action:e,timeUntilError:i}),[3,5];case 5:return[2]}})})},this.waitUntilCaptchaReady=function(e){var t=Date.now();return new Promise(function(r,o){var i=function(){var a=Date.now()-t;if(a>e)return o(Error("Max wait time of ".concat(e,"ms reached while waiting for grecaptcha initialize")));try{if(n.isGrecaptchaLoaded())return r(a)}catch(e){}finally{window.setTimeout(i,100)}};i()})},this.onCaptchaLoad=function(e){return void 0===e&&(e="init"),n.logger.info("[On Captcha Load] Initial Captcha load time, ms",{loadTime:Date.now()-n.initTimeStart,callContext:e}),n.preloadDefaultToken()}}return e.prototype.init=function(){return!!(this.isEnabled&&(this.initTimeStart=Date.now(),this.isGrecaptchaLoaded()))&&(this.onCaptchaLoad("init"),!0)},e.prototype.cleanup=function(){this.isEnabled&&this.tokenRefreshTimers.forEach(function(e){return clearTimeout(e)})},e.prototype.preloadDefaultToken=function(){var e=this,t=this.defaultAction;return this.preCacheToken(t).then(function(){e.logger.info("[Preload Token] RequestToken Captcha preload time, ms",{timeSinceReady:Date.now()-e.initTimeStart,action:t})}).catch(function(r){return e.logger.error("[Preload Token] captchaOnLoad failed to execute",r,{action:t})})},e.prototype.deleteToken=function(e){this.tokenMap.has(e)&&this.tokenMap.delete(e)},e.prototype.getToken=function(e){return eL(this,void 0,void 0,function(){var t,r;return eN(this,function(n){switch(n.label){case 0:if(r=(t=this.tokenMap.get(e))&&Date.now()-t.time>1e5,!(!t||r))return[3,2];return r&&this.logger.info("[Execute Captcha] Captcha getToken token is expired",{lifetimeMs:Date.now()-t.time,action:e}),[4,this.preCacheToken(e)];case 1:t=n.sent(),n.label=2;case 2:return[2,t.token]}})})},e.prototype.preCacheToken=function(e){return eL(this,void 0,void 0,function(){var t;return eN(this,function(r){switch(r.label){case 0:return this.clearRefreshTimer(e),[4,this.requestToken(e)];case 1:return t=r.sent(),this.tokenMap.set(e,t),this.setRefreshTimer(e),[2,t]}})})},e.prototype.requestToken=function(e){return eL(this,void 0,void 0,function(){var t,r,n=this;return eN(this,function(o){return!this.tokenReqMap.has(e)&&(t=Date.now(),r=new Promise(function(t,r){var o,i;if(!n.isGrecaptchaLoaded())return r(Error("grecaptcha is not yet loaded"));null===(i=null===(o=n.grecaptcha)||void 0===o?void 0:o.enterprise)||void 0===i||i.ready(function(){return eL(n,void 0,void 0,function(){return eN(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.grecaptcha.enterprise.execute(this.key,{action:e})];case 1:return t({token:n.sent(),time:Date.now()}),[3,3];case 2:return r(n.sent()),[3,3];case 3:return[2]}})})})}),this.tokenReqMap.set(e,r),r.then(function(){n.tokenReqMap.delete(e)},function(r){n.logger.error("[Request Token] RequestToken Captcha execute fail time, ms",r,{timeSinceReady:Date.now()-t,action:e}),n.tokenReqMap.delete(e)})),[2,this.tokenReqMap.get(e)]})})},e.prototype.isGrecaptchaLoaded=function(){var e,t;return!!(null===(t=null===(e=this.grecaptcha)||void 0===e?void 0:e.enterprise)||void 0===t?void 0:t.ready)},Object.defineProperty(e.prototype,"grecaptcha",{get:function(){return window.grecaptcha},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return!nN},enumerable:!1,configurable:!0}),e.prototype.clearRefreshTimer=function(e){this.isEnabled&&this.tokenRefreshTimers.has(e)&&(window.clearTimeout(this.tokenRefreshTimers.get(e)),this.tokenRefreshTimers.delete(e))},e.prototype.setRefreshTimer=function(e){var t=this;this.isEnabled&&(this.clearRefreshTimer(e),this.tokenRefreshTimers.set(e,window.setTimeout(function(){return t.preCacheToken(e)},6e4)))},e}(),n$=function(){function e(e,t,r){this.isGDPR=e,this.isExplicitToSAgreement=t,this.hasBusinessToSAgreement=r,this.isHighlighted=!1,this.isMarketingEmailsAllowed=!1,this.isTermsOfServiceAccepted=!1,this.isMarketingEmailsAllowed=!e,this.isTermsOfServiceAccepted=!t}return e.prototype.validate=function(){return[this.isTermsOfServiceAccepted,this.isTermsOfServiceAccepted?G.Valid:G.Required]},e.prototype.getData=function(){return{isMarketingEmailsAllowed:this.isGDPR?this.isMarketingEmailsAllowed:null,isTermsOfServiceAccepted:this.isExplicitToSAgreement?this.isTermsOfServiceAccepted:null}},e.prototype.setData=function(e){this.onMarketingEmailChange(null===e.isMarketingEmailsAllowed?!this.isGDPR:e.isMarketingEmailsAllowed),this.onTermsOfServiceChange(null===e.isTermsOfServiceAccepted?!this.isExplicitToSAgreement:e.isTermsOfServiceAccepted)},e.prototype.onMarketingEmailChange=function(e){void 0===e&&(e=!1),this.isMarketingEmailsAllowed=e},e.prototype.onTermsOfServiceChange=function(e){this.isTermsOfServiceAccepted=e},e.prototype.onHighlightStart=function(){this.isHighlighted=!this.isTermsOfServiceAccepted},e.prototype.onHighlightEnd=function(){this.isHighlighted=!1},eR([tC,eV("design:type",Object)],e.prototype,"isHighlighted",void 0),eR([tC,eV("design:type",Object)],e.prototype,"isMarketingEmailsAllowed",void 0),eR([tC,eV("design:type",Object)],e.prototype,"isTermsOfServiceAccepted",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setData",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"onMarketingEmailChange",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Boolean]),eV("design:returntype",void 0)],e.prototype,"onTermsOfServiceChange",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"onHighlightStart",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"onHighlightEnd",null),e}(),nY={tooltip:"base_tooltip__Vw-r8",visible:"base_visible__EAxh9",tooltipContainer:"base_tooltipContainer__OHguO",tooltipArrow:"base_tooltipArrow__lMLiL",tooltipTrigger:"base_tooltipTrigger__YOJ-M",placementTop:"base_placementTop__7mmk-",placementBottom:"base_placementBottom__mQYiT"},nJ=function(e){var t=e.positionPercent;return ed.createElement("span",{className:nY.tooltipArrow,style:{left:"".concat(t,"%")}})},nX=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tooltipContainerRef=ed.createRef(),t.state={x:0},t}return eO(t,e),t.prototype.componentDidMount=function(){this.setX()},t.prototype.componentDidUpdate=function(){this.setX()},t.prototype.setX=function(){var e=this.tooltipContainerRef.current;if(e){var t=this.getXOffset(e.getBoundingClientRect().width);t!==this.state.x&&this.setState({x:t})}},t.prototype.getOffsetFromPercent=function(e,t,r){void 0===r&&(r="center");var n=Math.round(e*t/100);return this.getOffsetFromPx(e,n,r)},t.prototype.getOffsetFromPx=function(e,t,r){switch(void 0===r&&(r="center"),r){case"left":return 0;case"right":return e-t;case"center":return(e-t)/2}},t.prototype.getXOffset=function(e){var t=this.props,r=t.alignment;return t.widthPx?this.getOffsetFromPx(e,this.width,r):this.getOffsetFromPercent(e,this.width,r)},Object.defineProperty(t.prototype,"width",{get:function(){var e=this.props,t=e.widthPx,r=e.widthPercent;return t||r||100},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"widthWithUnits",{get:function(){return this.props.widthPx?"".concat(this.width,"px"):"".concat(this.width,"%")},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e=this.props,t=e.placement,r=e.arrowPositionPercent,n=e.hideArrow,o=e.visible;return ed.createElement("div",{className:nY.tooltipTrigger,ref:this.tooltipContainerRef},this.props.children,ed.createElement("span",{style:{width:this.widthWithUnits,left:this.state.x},className:eb()(nY.tooltip,o&&nY.visible,"top"===t?nY.placementTop:nY.placementBottom),role:"tooltip"},!n&&ed.createElement(nJ,{positionPercent:r||50}),this.props.content))},t}(ed.Component),nQ=function(e){var t=eU(ed.useState(!1),2),r=t[0],n=t[1],o=ed.useCallback(function(){return n(!0)},[]),i=ed.useCallback(function(){return n(!1)},[]);return ed.createElement("div",{className:nY.tooltipContainer,onMouseEnter:o,onMouseLeave:i,onFocus:o,onBlur:i},ed.createElement(nX,eI({visible:r},e)))},n0=eI(eI(eI({},{neutral0:"#FFFFFF",neutral1:"#F9FAFF",neutral10:"#F0F2FC",neutral20:"#E7E9F5",neutral30:"#C6CBDE",neutral40:"#9FA6BF",neutral50:"#6D758D",neutral60:"#4D536E",neutral70:"#333954",neutral80:"#1F243C",neutral90:"#0E101A",neutral100:"#000000",blue1:"#EDF5FF",blue10:"#DBEBFF",blue20:"#99C2FF",blue30:"#79A8F2",blue40:"#638EEB",blue50:"#4A6EE0",blue60:"#3659B5",red1:"#FDF0F3",red10:"#FFDBE3",red20:"#FF99AB",red30:"#F27388",red40:"#EE445F",red50:"#EA1537",red60:"#CE1331",green1:"#EBFFFA",green10:"#D7F7F0",green20:"#AAF2E1",green30:"#87E8D1",green40:"#41D9B5",green50:"#15C39A",green60:"#11A683",green70:"#0D8065",green80:"#0B6A54",yellow1:"#FFF8EC",yellow10:"#FFF1D4",yellow20:"#FFDF80",yellow30:"#FFC940",yellow40:"#FFB61A",yellow50:"#FFA600",yellow60:"#F29100",yellow70:"#BB6E00",yellow80:"#8C5404",cyan1:"#EDFEFF",cyan10:"#DBFCFF",cyan20:"#93EDF5",cyan30:"#75E1EB",cyan40:"#4DD0DB",cyan50:"#28BAC7",cyan60:"#09A4B3",sky70:"#10627B"}),{Blue0:"#E5EBFF",Blue10:"#D7E0FE",Blue20:"#B8C8FB",Blue30:"#8CA6F6",Blue40:"#5679E8",Blue60:"#2551DA",Blue80:"#02289E",Blue90:"#001862",Blue100:"#000A26",BlueGray0:"#F4F4F6",BlueGray5:"#E2E4E9",BlueGray10:"#CDD1DC",BlueGray20:"#C2C6D4",BlueGray30:"#ADB2C3",BlueGray35:"#99A0B3",BlueGray40:"#878DA2",BlueGray50:"#757C92",BlueGray60:"#646B81",BlueGray70:"#565B6C",BlueGray80:"#474B58",BlueGray90:"#27282E",BlueGray100:"#161719",Gold0:"#FFF4E0",Gold10:"#FFEAC2",Gold20:"#FFDD9D",Gold30:"#FFC444",Gold40:"#FFA600",Gold60:"#C98300",Gold80:"#935F00",Gold90:"#5C3C00",Gold100:"#261900",Green0:"#E0FFF8",Green10:"#BEFDEF",Green20:"#7CF4D8",Green30:"#18E7B7",Green40:"#10C097",Green60:"#0A9A78",Green80:"#05735A",Green90:"#024D3B",Green100:"#00261D",Magenta0:"#FFE5F0",Magenta10:"#FEC8DD",Magenta20:"#FAACCB",Magenta30:"#F079A8",Magenta40:"#E14683",Magenta60:"#D21861",Magenta80:"#990C43",Magenta90:"#600428",Magenta100:"#26000F",NeutralGray0:"#F5F5F5",NeutralGray5:"#E6E6E6",NeutralGray10:"#D7D7D7",NeutralGray20:"#CECECE",NeutralGray30:"#BCBCBC",NeutralGray35:"#A9A9A9",NeutralGray40:"#979797",NeutralGray50:"#858585",NeutralGray60:"#727272",NeutralGray70:"#616161",NeutralGray80:"#4F4F4F",NeutralGray90:"#2B2B2B",NeutralGray100:"#191919",Purple0:"#F3E0FF",Purple10:"#E6CCFB",Purple20:"#DABAF2",Purple30:"#C194E2",Purple40:"#A469CF",Purple60:"#8943BC",Purple80:"#60258A",Purple90:"#3A1058",Purple100:"#180426",Red0:"#FFEBEE",Red10:"#FECDD5",Red20:"#FBABB8",Red30:"#F1768A",Red40:"#E2415B",Red60:"#D31332",Red80:"#990921",Red90:"#600312",Red100:"#260006",Teal0:"#E0FCFF",Teal10:"#B2F4FA",Teal20:"#7DE5EF",Teal30:"#2AC6D5",Teal40:"#1CA5B2",Teal60:"#11848F",Teal80:"#09646C",Teal90:"#034349",Teal100:"#002326",White:"#FFFFFF"}),{indigo1:"#E9E8FA",indigo50:"#6E66DE",indigo60:"#5B55B8",indigo80:"#252150"}),n1={preloader:"loader_preloader__tXJKK",spin:"loader_spin__QDw0P"},n2=function(e){return ed.createElement("svg",{"data-qa":"preloader",className:n1.preloader,style:e.stylesOverrides,width:"24",height:"24",viewBox:"0 0 24 24"},ed.createElement("g",{transform:"translate(3 3)",stroke:e.color?n0[e.color]:"currentColor",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round"},ed.createElement("circle",{opacity:".3",cx:"9",cy:"9",r:"9"}),ed.createElement("path",{d:"M9 0a9 9 0 0 0-9 9"})))},n3=ed.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},ed.createElement("circle",{cx:"8",cy:"8",r:"8",fill:"url(#paint0_linear)"}),ed.createElement("path",{d:"M10.9791 10.4467L11.3345 8.18877H9.11141V6.72413C9.11141 6.10625 9.42138 5.50361 10.4171 5.50361H11.4284V3.58128C11.4284 3.58128 10.511 3.42871 9.6343 3.42871C7.80263 3.42871 6.60653 4.51039 6.60653 6.46782V8.18877H4.57129V10.4467H6.60653V15.9056C7.01512 15.9681 7.43314 16.0001 7.85897 16.0001C8.2848 16.0001 8.70282 15.9681 9.11141 15.9056V10.4467H10.9791Z",fill:"white"}),ed.createElement("defs",null,ed.createElement("linearGradient",{id:"paint0_linear",x1:"8",y1:"0",x2:"8",y2:"15.9525",gradientUnits:"userSpaceOnUse"},ed.createElement("stop",{stopColor:"#18ACFE"}),ed.createElement("stop",{offset:"1",stopColor:"#0163E0"})))),n5=ed.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},ed.createElement("g",{clipPath:"url(#clip0)"},ed.createElement("path",{d:"M16.0008 8.17753C16.0008 7.51976 15.9463 7.03976 15.8285 6.54199H8.16406V9.51085H12.6629C12.5722 10.2486 12.0824 11.3598 10.994 12.1064L10.9787 12.2058L13.4021 14.0456L13.5699 14.062C15.1119 12.6664 16.0008 10.6131 16.0008 8.17753Z",fill:"#4285F4"}),ed.createElement("path",{d:"M8.1636 15.9999C10.3676 15.9999 12.218 15.2887 13.5695 14.0621L10.9935 12.1065C10.3042 12.5776 9.37899 12.9065 8.1636 12.9065C6.00489 12.9065 4.17272 11.5109 3.5196 9.58203L3.42386 9.59L0.904047 11.5011L0.871094 11.5909C2.21348 14.2042 4.97084 15.9999 8.1636 15.9999Z",fill:"#34A853"}),ed.createElement("path",{d:"M3.52021 9.5824C3.34788 9.08463 3.24815 8.55126 3.24815 8.00017C3.24815 7.44903 3.34788 6.91572 3.51115 6.41795L3.50658 6.31193L0.95518 4.37012L0.871703 4.40903C0.31844 5.49349 0.000976562 6.71129 0.000976562 8.00017C0.000976562 9.28906 0.31844 10.5068 0.871703 11.5913L3.52021 9.5824Z",fill:"#FBBC05"}),ed.createElement("path",{d:"M8.16364 3.09331C9.6965 3.09331 10.7305 3.7422 11.3201 4.28446L13.6239 2.08C12.209 0.791114 10.3677 0 8.16364 0C4.97087 0 2.21349 1.79554 0.871094 4.40885L3.51054 6.41777C4.17274 4.48888 6.00492 3.09331 8.16364 3.09331Z",fill:"#EB4335"})),ed.createElement("defs",null,ed.createElement("clipPath",{id:"clip0"},ed.createElement("rect",{width:"16",height:"16",fill:"white"})))),n4=ed.createElement("svg",{width:"16",height:"16",viewBox:"0 0 14 15",fill:"none"},ed.createElement("path",{d:"M12.8926 5.06757C12.824 5.10896 11.1909 5.98231 11.1909 7.91872C11.2679 10.1271 13.2518 10.9015 13.2858 10.9015C13.2518 10.9429 12.9863 11.9565 12.1999 13.0191C11.5758 13.9343 10.883 14.8571 9.83114 14.8571C8.83056 14.8571 8.47137 14.2471 7.31685 14.2471C6.07699 14.2471 5.72618 14.8571 4.7769 14.8571C3.725 14.8571 2.98098 13.8849 2.32285 12.9782C1.46783 11.7916 0.741095 9.92931 0.715439 8.14122C0.698149 7.19371 0.886665 6.26231 1.36521 5.4712C2.04063 4.36674 3.24646 3.61701 4.56329 3.59229C5.57224 3.5595 6.4702 4.25979 7.08595 4.25979C7.67603 4.25979 8.77924 3.59229 10.0275 3.59229C10.5662 3.59282 12.003 3.74922 12.8926 5.06757ZM7.00061 3.40311C6.82102 2.53782 7.31685 1.67253 7.77866 1.12057C8.36875 0.453067 9.30073 0 10.1044 0C10.1557 0.865287 9.83058 1.71391 9.24942 2.33198C8.72793 2.99948 7.82997 3.50199 7.00061 3.40311Z",fill:"#0E101A"})),n6=ed.createElement("svg",{width:"16",height:"16",viewBox:"0 0 56 56",fill:"none"},ed.createElement("rect",{x:".54",y:".087",width:"55.581",height:"55.581",rx:"13.164",fill:"#4C7AF1"}),ed.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M43.392 23.148a10.96 10.96 0 10-21.404 3.897l-8.4 8.4c-.267.27-.383.655-.308 1.028l.754 3.771c.194.97.951 1.727 1.92 1.92l3.771.754h.229c.304.002.596-.117.811-.331l2.651-2.651c.212-.213.33-.5.332-.8v-2.64l2.708-.08c.292-.007.57-.126.777-.331l1.897-1.898a10.96 10.96 0 0014.228-11.062l.034.023zm-4.777 6.743a8.685 8.685 0 01-9.302 1.942 1.143 1.143 0 00-1.223.252L26 34.176l-3.384.091c-.63 0-1.142.512-1.142 1.143v3.28l-1.897 1.874-3.177-.64a.171.171 0 01-.126-.126l-.64-3.176 8.48-8.48c.318-.322.417-.801.25-1.223a8.674 8.674 0 1114.251 2.972zm-9.29-9.257a4.411 4.411 0 106.24 0 4.571 4.571 0 00-6.24 0zm4.628 4.628a2.126 2.126 0 110-3.017 2.137 2.137 0 010 3.017z",fill:"#fff"})),n7=function(e){return ed.createElement("svg",{width:"16",height:"11",viewBox:"0 0 16 11",fill:"none","aria-hidden":"true"},ed.createElement("path",{d:"M14.9421 5.61977L14.4918 5.4024V5.4024L14.9421 5.61977ZM1.05765 5.61977L1.50793 5.4024L1.50793 5.4024L1.05765 5.61977ZM14.9421 5.38039L15.3924 5.16301L15.3924 5.16301L14.9421 5.38039ZM1.05765 5.38039L0.607377 5.16301L0.607377 5.16301L1.05765 5.38039ZM14.4918 5.4024C11.8689 10.8355 4.1308 10.8355 1.50793 5.4024L0.607378 5.83715C3.59408 12.0239 12.4057 12.0239 15.3924 5.83715L14.4918 5.4024ZM14.4918 5.59776C14.462 5.53605 14.462 5.46411 14.4918 5.4024L15.3924 5.83715C15.4952 5.62419 15.4952 5.37596 15.3924 5.16301L14.4918 5.59776ZM1.50793 5.59776C4.1308 0.164679 11.8689 0.164678 14.4918 5.59776L15.3924 5.16301C12.4057 -1.02374 3.59408 -1.02374 0.607377 5.16301L1.50793 5.59776ZM0.607377 5.16301C0.504572 5.37597 0.504572 5.6242 0.607378 5.83715L1.50793 5.4024C1.53772 5.46411 1.53772 5.53605 1.50793 5.59776L0.607377 5.16301ZM9.99987 5.50008C9.99987 6.60465 9.10444 7.50008 7.99987 7.50008V8.50008C9.65672 8.50008 10.9999 7.15693 10.9999 5.50008H9.99987ZM7.99987 7.50008C6.8953 7.50008 5.99987 6.60465 5.99987 5.50008H4.99987C4.99987 7.15693 6.34302 8.50008 7.99987 8.50008V7.50008ZM5.99987 5.50008C5.99987 4.39551 6.8953 3.50008 7.99987 3.50008V2.50008C6.34302 2.50008 4.99987 3.84322 4.99987 5.50008H5.99987ZM7.99987 3.50008C9.10444 3.50008 9.99987 4.39551 9.99987 5.50008H10.9999C10.9999 3.84322 9.65672 2.50008 7.99987 2.50008V3.50008Z",fill:e.color?n0[e.color]:"currentColor"}))},n9=function(e){return ed.createElement("svg",{width:"16",height:"14",viewBox:"0 0 16 14",fill:"none","aria-hidden":"true"},ed.createElement("path",{d:"M14.9421 7.6197L14.4918 7.40232V7.40232L14.9421 7.6197ZM1.05765 7.6197L1.50793 7.40232L1.50793 7.40232L1.05765 7.6197ZM14.9421 7.38031L15.3924 7.16294L15.3924 7.16293L14.9421 7.38031ZM1.05765 7.38031L0.607377 7.16293L0.607377 7.16294L1.05765 7.38031ZM10.9999 7.5C10.9999 7.22386 10.776 7 10.4999 7C10.2237 7 9.99987 7.22386 9.99987 7.5H10.9999ZM7.99987 9.5C7.72373 9.5 7.49987 9.72386 7.49987 10C7.49987 10.2761 7.72373 10.5 7.99987 10.5V9.5ZM1.14632 13.1464C0.951062 13.3417 0.951062 13.6583 1.14632 13.8536C1.34159 14.0488 1.65817 14.0488 1.85343 13.8536L1.14632 13.1464ZM14.8534 0.853553C15.0487 0.658291 15.0487 0.341709 14.8534 0.146447C14.6582 -0.0488155 14.3416 -0.0488155 14.1463 0.146447L14.8534 0.853553ZM11.0879 4.20226C11.3382 4.31901 11.6357 4.21079 11.7524 3.96055C11.8692 3.7103 11.761 3.41279 11.5107 3.29603L11.0879 4.20226ZM13.3114 4.45031C13.1009 4.2715 12.7854 4.29713 12.6066 4.50756C12.4278 4.71799 12.4534 5.03353 12.6638 5.21234L13.3114 4.45031ZM3.78294 11.331C4.0204 11.4719 4.32716 11.3937 4.46811 11.1562C4.60906 10.9187 4.53082 10.612 4.29335 10.471L3.78294 11.331ZM6.12685 11.2361C5.85976 11.166 5.58639 11.3257 5.51627 11.5928C5.44614 11.8599 5.60582 12.1332 5.87291 12.2033L6.12685 11.2361ZM5.5293 9.20225C5.68614 9.42953 5.99753 9.48663 6.22481 9.32978C6.45209 9.17294 6.50918 8.86155 6.35234 8.63427L5.5293 9.20225ZM9.09968 5.82922C9.33016 5.98132 9.6403 5.91778 9.7924 5.6873C9.9445 5.45682 9.88096 5.14668 9.65048 4.99458L9.09968 5.82922ZM14.4918 7.59768C14.462 7.53597 14.462 7.46404 14.4918 7.40232L15.3924 7.83707C15.4952 7.62411 15.4952 7.37589 15.3924 7.16294L14.4918 7.59768ZM0.607377 7.16294C0.504572 7.37589 0.504572 7.62412 0.607378 7.83707L1.50793 7.40232C1.53772 7.46403 1.53772 7.53597 1.50793 7.59768L0.607377 7.16294ZM9.99987 7.5C9.99987 8.60457 9.10444 9.5 7.99987 9.5V10.5C9.65672 10.5 10.9999 9.15686 10.9999 7.5H9.99987ZM5.99987 7.5C5.99987 6.39543 6.8953 5.5 7.99987 5.5V4.5C6.34302 4.5 4.99987 5.84315 4.99987 7.5H5.99987ZM1.85343 13.8536L14.8534 0.853553L14.1463 0.146447L1.14632 13.1464L1.85343 13.8536ZM1.50793 7.59768C3.35244 3.77692 7.73141 2.63626 11.0879 4.20226L11.5107 3.29603C7.70772 1.52172 2.71273 2.80184 0.607377 7.16293L1.50793 7.59768ZM12.6638 5.21234C13.3942 5.83295 14.0231 6.62685 14.4918 7.59768L15.3924 7.16293C14.8632 6.06675 14.1481 5.16133 13.3114 4.45031L12.6638 5.21234ZM4.29335 10.471C3.15305 9.79421 2.17002 8.7738 1.50793 7.40232L0.607378 7.83707C1.35622 9.38825 2.47624 10.5554 3.78294 11.331L4.29335 10.471ZM14.4918 7.40232C12.8631 10.7762 9.26241 12.0594 6.12685 11.2361L5.87291 12.2033C9.42276 13.1354 13.5347 11.6852 15.3924 7.83707L14.4918 7.40232ZM6.35234 8.63427C6.13001 8.31211 5.99987 7.92201 5.99987 7.5H4.99987C4.99987 8.13132 5.19543 8.71846 5.5293 9.20225L6.35234 8.63427ZM7.99987 5.5C8.40703 5.5 8.78437 5.62114 9.09968 5.82922L9.65048 4.99458C9.17675 4.68196 8.6088 4.5 7.99987 4.5V5.5Z",fill:e.color?n0[e.color]:"currentColor"}))},n8=function(e){var t=e.title,r=e.color,n=e.tabIndex;return ed.createElement("svg",{width:"14",height:"12",viewBox:"0 0 14 12",fill:"none",tabIndex:n},t&&ed.createElement("title",null,t),ed.createElement("path",{d:"M5.89506 1.01786C6.38615 0.160714 7.61385 0.160714 8.10494 1.01786L13.0772 9.69643C13.5682 10.5536 12.9544 11.625 11.9722 11.625H2.02778C1.04561 11.625 0.431754 10.5536 0.922838 9.69643L5.89506 1.01786Z",fill:r?n0[r]:"currentColor"}),ed.createElement("path",{d:"M7 3.8125V6.9375",stroke:"white",strokeLinecap:"round"}),ed.createElement("circle",{cx:"7",cy:"9.28125",r:"0.78125",fill:"white"}))},oe=function(e){return ed.createElement("svg",{width:"13",height:"13",viewBox:"0 0 13 13",fill:"none"},ed.createElement("path",{d:"M1 1L6.5 6.5M12 12L6.5 6.5M6.5 6.5L12 1M6.5 6.5L1 12",stroke:e.color?n0[e.color]:"currentColor",strokeLinecap:"round"}))},ot=function(){return ed.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ed.createElement("circle",{cx:"10",cy:"10",r:"10",fill:"#15C39A"}),ed.createElement("path",{d:"M5 11L7.5 13.5L15 6",stroke:"white",strokeWidth:"2",strokeLinecap:"round"}))},or={up:"arrow_up__K-DN1",down:"arrow_down__M64RX",left:"arrow_left__Ozss8"};(f=H||(H={})).right="right",f.up="up",f.left="left",f.down="down";var on=function(e){var t,r=e.color,n=e.direction,o=void 0===n?H.right:n;return ed.createElement("svg",{className:((t={})[H.right]=void 0,t[H.up]=or.up,t[H.down]=or.down,t[H.left]=or.left,t)[o],width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ed.createElement("path",{d:"M1 0.5L6.5 6L1 11.5",stroke:r?n0[r]:"currentColor",strokeLinecap:"round"}))};(g=W||(W={})).Active="Active",g.Disabled="Disabled",g.Loading="Loading",(y=z||(z={})).Green="Green",y.Blue="Blue",y.GhostGrey="GhostGrey",y.GoogleBlue="GoogleBlue",y.FacebookBlue="FacebookBlue",y.AccessibleGreen="AccessibleGreen",y.AccessibleGhostGrey="AccessibleGhostGrey",y.WhiteHighContrastBorder="WhiteHighContrastBorder";var oo=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return!!e}).join(" ")||void 0},oi={unstyled:"base_unstyled__qDveF",basic:"base_basic__8rArQ",compact:"base_compact__Qi7QI",text:"base_text__vPnqO",textWithArrow:"base_textWithArrow__ucmwV",iconWrapper:"base_iconWrapper__yrU8s",leftIconWrapper:"base_leftIconWrapper__iorbl",rightIconWrapper:"base_rightIconWrapper__0YT07",colorGreen:"base_colorGreen__rxpMo",statusDisabled:"base_statusDisabled__rZV2j",colorAccessibleGreen:"base_colorAccessibleGreen__woFbZ",colorBlue:"base_colorBlue__YGl38",colorWhiteHighContrastBorder:"base_colorWhiteHighContrastBorder__YHZyb",colorGhostGrey:"base_colorGhostGrey__A-M9a",colorAccessibleGhostGrey:"base_colorAccessibleGhostGrey__eXIK5",colorGoogleBlue:"base_colorGoogleBlue__CpsVC",colorFacebookBlue:"base_colorFacebookBlue__VJFyb",statusLoading:"base_statusLoading__37Cp4"},oa=function(e){var t=e.children,r=e.className,n=e.qa,o=e.type,i=ex(e,["children","className","qa","type"]);return ed.createElement("button",eI({className:oo(oi.unstyled,r),"data-qa":n,type:void 0===o?"button":o},i),t)},os=function(e){var t=e.text,r=e.icon,n=e.status,o=e.showArrow;return ed.createElement(ed.Fragment,null,n===W.Loading?ed.createElement(n2,null):ed.createElement(ed.Fragment,null,r&&ed.createElement("span",{className:oi.leftIconWrapper},r),ed.createElement("span",{className:oo(oi.text,o&&oi.textWithArrow)},t),o&&ed.createElement("span",{className:oi.rightIconWrapper},ed.createElement(on,null))))},ol=((K={})[z.Green]=oi.colorGreen,K[z.Blue]=oi.colorBlue,K[z.GhostGrey]=oi.colorGhostGrey,K[z.GoogleBlue]=oi.colorGoogleBlue,K[z.FacebookBlue]=oi.colorFacebookBlue,K[z.AccessibleGreen]=oi.colorAccessibleGreen,K[z.AccessibleGhostGrey]=oi.colorAccessibleGhostGrey,K[z.WhiteHighContrastBorder]=oi.colorWhiteHighContrastBorder,K),oc=((Z={})[W.Loading]=oi.statusLoading,Z[W.Disabled]=oi.statusDisabled,Z),ou=function(e){var t=e.text,r=e.icon,n=e.showArrow,o=void 0!==n&&n,i=e.status,a=void 0===i?W.Active:i,s=e.compact,l=e.type,c=e.color,u=void 0===c?z.AccessibleGreen:c,p=e.qa,d=e.onClick,h=e.onMouseEnter,m=e.onMouseLeave,f=e.href,g=oo(oi.basic,s&&oi.compact,oc[a],ol[u],e.className);return f?ed.createElement("a",{"data-qa":p,className:g,onClick:d,onMouseEnter:h,onMouseLeave:m,href:f},ed.createElement(os,{text:t,icon:r,status:a,showArrow:o})):ed.createElement("button",{type:void 0===l?"button":l,"data-qa":p,className:g,disabled:a!==W.Active,onClick:d,onMouseEnter:h,onMouseLeave:m},ed.createElement(os,{text:t,icon:r,status:a,showArrow:o}))},op=function(e){e.color;var t=ex(e,["color"]),r=e.color===z.Green?z.AccessibleGreen:e.color;return ed.createElement(ou,eI({color:r},t))},od=function(e){return ed.createElement(ou,eI({color:z.AccessibleGhostGrey},e))},oh=function(e){var t=e.status,r=void 0===t?W.Active:t,n=ex(e,["status"]),o=eU(ed.useState(W.Loading),2),i=o[0],a=o[1];return ed.useEffect(function(){a(r)},[r]),ed.createElement(ou,eI({type:"submit",status:i},n))},om={googlePrimaryColorIconWrapper:"social_googlePrimaryColorIconWrapper__LpB7U",googlePrimaryColorButton:"social_googlePrimaryColorButton__N0rzb"},of=(($={})[j.Social.Type.Google]={qa:"btnGoogleAuth",icon:n5},$[j.Social.Type.Facebook]={qa:"btnFacebookAuth",icon:n3},$[j.Social.Type.Apple]={qa:"btnAppleAuth",icon:n4},$),og=function(e){var t=e.authSocialType,r=e.text,n=e.isPrimaryColor,o=ex(e,["authSocialType","text","isPrimaryColor"]),i=of[t],a=i.qa,s=i.icon;return t===j.Social.Type.Google&&n?ed.createElement(oy,eI({qa:a,text:r},o)):ed.createElement(ou,eI({qa:a,color:z.WhiteHighContrastBorder,icon:s,text:r},o))},oy=function(e){var t=e.className,r=ex(e,["className"]);return ed.createElement(ou,eI({className:oo(om.googlePrimaryColorButton,t),color:z.GoogleBlue,icon:ed.createElement("span",{className:om.googlePrimaryColorIconWrapper},n5)},r))},ov={SIGNUP:"Sign up with ",SIGNIN:"Sign in with ",CONTINUE:"Continue with"},oE=function(e){var t=e.copyType,r=ex(e,["copyType"]),n="".concat(ov[t]," SSO");return ed.createElement(ou,eI({qa:"btnSSO",color:z.WhiteHighContrastBorder,icon:n6,text:n},r))},ow={passwordSuffixContainer:"password_passwordSuffixContainer__NimpJ",passwordIcon:"password_passwordIcon__kk4BZ"},ob="Your password appears in a list of passwords commonly used on other websites. To ensure your safety, please choose another password.",oS=function(e){var t=e.color;return ed.createElement(nQ,{placement:"top",alignment:"right",hideArrow:!0,widthPx:290,content:ob},ed.createElement("span",{className:ow.passwordIcon},ed.createElement(n8,{color:t,tabIndex:0,title:ob})))},oC=function(e){return ed.createElement("div",{className:ow.passwordSuffixContainer},(e.showWarning||e.showError)&&ed.createElement(oS,{color:e.showWarning?"yellow60":"red50"}),ed.createElement(oa,{className:eb()(ow.passwordIcon),onClick:e.onEyeIconClick,type:"button","aria-label":"".concat(e.isPasswordHidden?"Show":"Hide"," password")},e.isPasswordHidden?ed.createElement(n7,{color:"neutral50"}):ed.createElement(n9,{color:"neutral50"})))},ok=nA(function(e){var t=e.model,r=ex(e,["model"]),n=eU((0,ed.useState)(!0),2),o=n[0],i=n[1];return ed.createElement(nM,eI({required:!0,name:"password",type:o?"password":"text",placeholder:"Password",suffix:ed.createElement(oC,{showWarning:t.leakedStatus===G.Warning,showError:t.leakedStatus===G.Invalid,isPasswordHidden:o,onEyeIconClick:function(){return i(!o)}}),validity:t.validity,value:t.value,onChange:t.onChange,onBlur:t.onBlur},r))}),o_={link:"link_link__9-ZQm"},oA=function(e){var t=e.children,r=e.onClick,n=e.color,o=e.className,i=e.qa,a=ex(e,["children","onClick","color","className","qa"]),s=eI({},n?{color:n0[n]}:{}),l="_blank"===e.target?"noopener noreferrer":void 0;return ed.createElement("a",eI({style:s,className:eb()(o_.link,o),onClick:r,"data-qa":i,rel:l},a),t)},oF={required:{status:G.Required,message:"Required"},minLengthError:{status:G.Invalid,message:"Your password must contain at least 8 characters"},maxLengthError:{status:G.Invalid,message:"Your password cannot be longer than 64 characters"},similarToEmailError:{status:G.Invalid,message:"This password is too similar to your email address. Please choose another password."},similarToNameError:{status:G.Invalid,message:"This password is too similar to the name below, please choose a stronger password. Try a mix of letters, numbers, and symbols."},leakedInvalid:{status:G.Invalid,message:ed.createElement(ed.Fragment,null,"Your password appears in a"," ",ed.createElement(oA,{target:"_blank",href:"https://support.grammarly.com/hc/en-us/articles/115000090212-How-can-I-keep-my-Grammarly-account-secure"},"list of passwords commonly used")," ","on other websites. To ensure your safety, please choose another password.")},reused:{status:G.Invalid,message:"Choose a password you haven't used before."},valid:{status:G.Valid},validEmpty:{status:G.Valid,message:"Use 8 characters or more"}};(v=Y||(Y={})).Basic="Basic",v.Strict="Strict",v.StrictPlusLeaked="StrictPlusLeaked";var oT=function(){function e(e,t,r,n){void 0===t&&(t=Y.Basic),this.api=e,this.validationType=t,this.captchaEnterprise=r,this.emailModel=n,this.minLength=8,this.maxLength=64,this.remoteValidationCache=new nV(10),this.value="",this.validity=this.validationType===Y.Basic?oF.valid:oF.validEmpty}return e.prototype.validateValue=function(e,t){return(e=e.trim().toLowerCase()).length<1?oF.required:this.validationType===Y.Basic?oF.valid:e.length<this.minLength?oF.minLengthError:e.length>this.maxLength?oF.maxLengthError:t&&t.toLowerCase().startsWith(e)?oF.similarToEmailError:this.validationType===Y.Strict?oF.valid:this.remoteValidationCache.get(e)?oF.leakedInvalid:oF.valid},e.prototype.setValue=function(e){this.value=e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return!this.value},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isValid",{get:function(){return this.validity.status===G.Valid},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLeaked",{get:function(){return!!this.leakedStatus&&this.leakedStatus!==G.Valid},enumerable:!1,configurable:!0}),e.prototype.resetLeaked=function(e){var t=this.remoteValidationCache.get(e);t&&t.reason===j.Error.PasswordErrorReason.PasswordLeaked?this.leakedStatus=this.validationType===Y.Strict?G.Warning:G.Invalid:this.leakedStatus=G.Valid},e.prototype.validate=function(){var e;return this.validity=this.validateValue(this.value,null===(e=this.emailModel)||void 0===e?void 0:e.value),[this.isValid,this.validity.status]},e.prototype.remoteValidate=function(){return eL(this,void 0,void 0,function(){var e,t;return eN(this,function(r){switch(r.label){case 0:e=this.value,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.requestRemoteValidation(e)];case 2:return(t=r.sent())&&e===this.value&&this.setValidityFromServer(t),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}})})},e.prototype.setValidityFromError=function(e){var t=e;!e.reason&&L.errCodeEqualsTo(e.error,L.ApiErrorCode.PasswordReused)&&(t={reason:L.PasswordErrorReason.PasswordReused,description:oF.reused.message}),this.setValidityFromServer(t)},e.prototype.setValidityFromServer=function(e){var t=e.reason,r=e.description;t===L.PasswordErrorReason.PasswordLeaked?this.validationType===Y.StrictPlusLeaked?(this.leakedStatus=G.Invalid,this.validity=oF.leakedInvalid):this.validationType===Y.Strict&&(this.leakedStatus=G.Warning):t===L.PasswordErrorReason.ValidationPassed?(this.leakedStatus=G.Valid,this.validity=oF.valid):t===L.PasswordErrorReason.PasswordEqualsName?(this.leakedStatus=G.Valid,this.validity=oF.similarToNameError):(this.leakedStatus=G.Valid,this.validity={status:G.Invalid,message:r||""})},e.prototype.onChange=function(e){this.setValue(e),this.isValid||this.validate(),this.isLeaked&&this.resetLeaked(e)},e.prototype.onBlur=function(){eU(this.validate(),1)[0]&&(this.validationType===Y.Strict||this.validationType===Y.StrictPlusLeaked)&&this.remoteValidate()},e.prototype.requestRemoteValidation=function(e){var t;return eL(this,void 0,void 0,function(){var r,n;return eN(this,function(o){switch(o.label){case 0:if(this.remoteValidationCache.has(e))return[2,this.remoteValidationCache.get(e)];o.label=1;case 1:return o.trys.push([1,5,,6]),[4,null===(t=this.captchaEnterprise)||void 0===t?void 0:t.execute("password/validate")];case 2:if(!(r=o.sent()))return[3,4];return[4,this.api.validatePassword(e,r)];case 3:return n=o.sent(),this.remoteValidationCache.set(e,n),[2,n];case 4:return[3,6];case 5:return o.sent(),[3,6];case 6:return[2]}})})},eR([tC,eV("design:type",Object)],e.prototype,"value",void 0),eR([tC.ref,eV("design:type",Object)],e.prototype,"validity",void 0),eR([tC,eV("design:type",Object)],e.prototype,"leakedStatus",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setValue",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"isEmpty",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"isValid",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"isLeaked",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"resetLeaked",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Array)],e.prototype,"validate",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"remoteValidate",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setValidityFromError",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setValidityFromServer",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"onChange",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"onBlur",null),e}(),oP=nA(function(e){var t=e.model,r=ex(e,["model"]);return ed.createElement(nM,eI({required:!0,name:"name",placeholder:"Name",validity:t.validity,value:t.value,onChange:t.onChange,onBlur:t.onBlur},r))}),oM={required:{status:G.Required,message:"Required"},invalid:{status:G.Invalid,message:"Symbols are not allowed"},valid:{status:G.Valid}},oO=function(){function e(e,t){void 0===t&&(t=""),this.passwordModel=e,this.nameRegex=/[!$%^&*()_+|~={}\[\]:";<>?,.\/]/gu,this.value="",this.validity=oM.valid,this.value=t}return e.prototype.validateValue=function(e){return(e=e.trim()).length<1?oM.required:this.nameRegex.test(e)?oM.invalid:oM.valid},e.prototype.setValue=function(e){this.value=e},Object.defineProperty(e.prototype,"isValid",{get:function(){return this.validity.status===G.Valid},enumerable:!1,configurable:!0}),e.prototype.validate=function(){return this.validity=this.validateValue(this.value),[this.isValid,this.validity.status]},e.prototype.onChange=function(e){this.passwordModel.validity===oF.similarToNameError&&this.passwordModel.validate(),this.setValue(e),this.isValid||this.validate()},e.prototype.onBlur=function(){this.validate()},eR([tC,eV("design:type",Object)],e.prototype,"value",void 0),eR([tC.ref,eV("design:type",Object)],e.prototype,"validity",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setValue",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"isValid",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Array)],e.prototype,"validate",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"onChange",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"onBlur",null),e}(),oI=function(){function e(e,t,r,n,o,i,a){this.termsModel=r,this.payload=new nW.Empty,this.isEmailActivated=!1,this.emailModel=new nL(e,n,o,i,a),this.passwordModel=new oT(e,Y.Strict,t,this.emailModel),this.nameModel=new oO(this.passwordModel),this.reactionDisposers=this.setupReactions(r,this.emailModel),n&&this.validateInitialEmail()}return e.prototype.validateInitialEmail=function(){return eL(this,void 0,void 0,function(){return eN(this,function(e){switch(e.label){case 0:return[4,this.emailModel.onBlur()];case 1:return e.sent(),this.emailModel.isValid&&this.activate(),[2]}})})},e.prototype.destruct=function(){this.reactionDisposers&&this.reactionDisposers.forEach(function(e){return e()})},Object.defineProperty(e.prototype,"flowError",{get:function(){if(this.payload.isError())return this.payload.error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUseEmailFlowError",{get:function(){return!!this.flowError&&j.Error.errCodeEqualsTo(this.flowError.errCode,L.ApiErrorCode.UseEmail)},enumerable:!1,configurable:!0}),e.prototype.setEmailVerificationExperiment=function(e){this.emailVerification=e},e.prototype.getFlowData=function(){return eI(eI({email:this.emailModel.value.trim(),password:this.passwordModel.value.trim(),name:this.nameModel.value.trim()},this.termsModel.getData()),{emailVerification:this.emailVerification})},e.prototype.setPayloadFromServer=function(e){if(e.isError()&&j.Error.errCodeEqualsTo(e.error.errCode,L.ApiErrorCode.UseStrongPassword)){var t=e.error.nestedError;this.passwordModel.setValidityFromError(t),this.setPayload(new nW.Empty)}else this.setPayload(e)},e.prototype.setPayload=function(e){this.payload=e},e.prototype.setFlowError=function(e){this.setPayload(new nW.Error(e))},e.prototype.resetFlowError=function(){this.setPayload(new nW.Empty)},e.prototype.activate=function(){this.isEmailActivated=!0},e.prototype.validateFlow=function(){return eL(this,void 0,void 0,function(){var e,t,r,n,o,i,a,s,l,c,u,p;return eN(this,function(d){switch(d.label){case 0:return[4,this.emailModel.validate()];case 1:return t=(e=eU.apply(void 0,[d.sent(),2]))[0],r=e[1],o=(n=eU(this.passwordModel.validate(),2))[0],i=n[1],s=(a=eU(this.nameModel.validate(),2))[0],l=a[1],u=(c=eU(this.termsModel.validate(),2))[0],p=c[1],u||this.setFlowError(j.Error.AuthCommonError.createFromError(j.Error.UiErrorCode.AcceptTermsOfService,Error("Terms of Service are not accepted"))),[2,[t&&o&&s&&u,{email:r,password:i,name:l,termsOfService:p}]]}})})},e.prototype.setupReactions=function(e,t){var r=this,n=[];return n.push(rd(function(){return e.isTermsOfServiceAccepted},function(e){e&&r.flowError&&j.Error.errCodeEqualsTo(r.flowError.errCode,j.Error.UiErrorCode.AcceptTermsOfService)&&r.resetFlowError()})),n.push(rd(function(){return t.value},function(){r.flowError&&j.Error.errCodeEqualsTo(r.flowError.errCode,j.Error.ApiErrorCode.UseEmail,j.Error.ApiErrorCode.UseGoogle,j.Error.ApiErrorCode.UseFacebook,j.Error.ApiErrorCode.UseApple,j.Error.ApiErrorCode.UseSocial)&&r.resetFlowError()})),n},eR([tC.ref,eV("design:type",Object)],e.prototype,"payload",void 0),eR([tC,eV("design:type",Object)],e.prototype,"isEmailActivated",void 0),eR([tC,eV("design:type",Object)],e.prototype,"emailVerification",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"validateInitialEmail",null),eR([tF,eV("design:type",Object),eV("design:paramtypes",[])],e.prototype,"flowError",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"isUseEmailFlowError",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setEmailVerificationExperiment",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setPayloadFromServer",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setPayload",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[j.Error.AuthCommonError]),eV("design:returntype",void 0)],e.prototype,"setFlowError",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"resetFlowError",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"activate",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"validateFlow",null),e}(),ox=function(){function e(){}return e.prototype.getFromRequestData=function(e,t){return e(t.urlQueryHash||{})||e(t.urlHashHash||{})||e(t.serverDataHash||{})},e.prototype.getTokenFromHash=function(e){return e.access_token},e.prototype.getCodeFromHash=function(e){return e.code},e.prototype.getIdTokenFromHash=function(e){return e.id_token},e.prototype.getWrappedCode=function(e){return this.accessCode=this.getFromRequestData(this.getCodeFromHash,e),{code:this.accessCode||""}},e.prototype.getWrappedToken=function(e){return this.accessToken=this.getFromRequestData(this.getTokenFromHash,e),{access_token:this.accessToken||""}},e.prototype.getWrappedIdToken=function(e){return this.idToken=this.getFromRequestData(this.getIdTokenFromHash,e),{id_token:this.idToken||""}},e}(),oR=function(e){return Object.keys(e).filter(function(t){return null!=e[t]}).map(function(t){var r;return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent((null!==(r=e[t])&&void 0!==r?r:"").toString()))}).join("&")},oV=function(e,t){return e+(-1===e.indexOf("?")?"?":"&")+oR(t)};function oL(){return window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")}function oN(e){return void 0===e&&(e=""),eC.parse(e)}var oU=function(e){function t(t){var r=e.call(this)||this;return r.config=t,r.type=j.Social.Type.Apple,r}return eO(t,e),t.prototype.getName=function(e){var t=void 0,r=this.getFromRequestData(function(e){return e.user},e);if(r)try{var n=JSON.parse(r).name;if(n){var o=[n.firstName,n.lastName].join(" ").trim();o&&(t=o)}}catch(e){}return t},t.prototype.getSignupConfig=function(e){return{apple_signup:eI(eI({},this.getWrappedCode(e)),{name:this.getName(e)})}},t.prototype.getSigninConfig=function(e){return{apple_login:eI(eI({},this.getWrappedCode(e)),{name:this.getName(e)})}},t.prototype.getDeleteConfig=function(e){return{apple_login:this.getWrappedCode(e)}},t.prototype.getOAuthProviderUrl=function(e){return oV("https://appleid.apple.com/auth/authorize",{client_id:this.config.clientId,redirect_uri:"".concat(oL()).concat(this.config.returnRedirectUrl),response_type:"code",state:e,scope:t.authScope,response_mode:"form_post"})},t.authScope="email name",t}(ox),oD=function(e){function t(t){var r=e.call(this)||this;return r.config=t,r.type=j.Social.Type.Google,r.unlinkTokenType=[j.Social.OAuthTokenType.Token,j.Social.OAuthTokenType.IDToken],r}return eO(t,e),t.prototype.getSignupConfig=function(e){return{google_signup:this.getWrappedCode(e)}},t.prototype.getSigninConfig=function(e){return{google_login:this.getWrappedCode(e)}},t.prototype.getDeleteConfig=function(){return{google_login:{access_token:this.idToken||""}}},t.prototype.revokeAppAccess=function(){return eL(this,void 0,void 0,function(){return eN(this,function(e){switch(e.label){case 0:if(!this.accessToken)return[3,2];return[4,fetch("https://oauth2.googleapis.com/revoke?token=".concat(this.accessToken),{method:"POST"})];case 1:e.sent(),e.label=2;case 2:return[2,Promise.resolve()]}})})},t.prototype.getOAuthProviderUrl=function(e,r,n){var o=(Array.isArray(n)?n.join(" "):n)||j.Social.OAuthTokenType.Code;return oV("https://accounts.google.com/o/oauth2/v2/auth",{client_id:this.config.clientId,redirect_uri:"".concat(oL()).concat(this.config.returnRedirectUrl),response_type:o,state:e,scope:t.authScope,prompt:"select_account",nonce:nU(30),disallow_webview:"true"})},t.authScope="email profile openid",t}(ox);(E=J||(J={})).reRequest="rerequest",E.reAuthenticate="reauthenticate";var oB=function(e){function t(t){var r=e.call(this)||this;return r.config=t,r.type=j.Social.Type.Facebook,r.unlinkTokenType=j.Social.OAuthTokenType.Token,r}return eO(t,e),t.prototype.getSignupConfig=function(e){return{facebook_signup:this.getWrappedCode(e)}},t.prototype.getSigninConfig=function(e){return{facebook_login:this.getWrappedCode(e)}},t.prototype.getDeleteConfig=function(e){return{facebook_login:this.getWrappedToken(e)}},t.prototype.revokeAppAccess=function(e){return eL(this,void 0,void 0,function(){return eN(this,function(r){switch(r.label){case 0:if(!e)return[3,2];return[4,fetch("https://graph.facebook.com/".concat(t.sdkVersion,"/me/permissions?access_token=").concat(e),{method:"DELETE"})];case 1:r.sent(),r.label=2;case 2:return[2,Promise.resolve()]}})})},t.prototype.getOAuthProviderUrl=function(e,r,n){var o=(Array.isArray(n)?n.join(" "):n)||j.Social.OAuthTokenType.Code;return oV("https://www.facebook.com/".concat(t.sdkVersion,"/dialog/oauth"),{client_id:this.config.clientId,redirect_uri:"".concat(oL()).concat(this.config.returnRedirectUrl),response_type:o,state:e,scope:t.authScope,auth_type:r?J.reRequest:""})},t.authScope="email",t.sdkVersion="v9.0",t}(ox);(w=X||(X={})).funnelNavigateToAfterMobileSignin="funnelNavigateToAfterMobileSignin",w.businessMemberWelcomeWithExtensionFlow="businessMemberWelcomeWithExtensionFlow",w.desktopIntegrationDownload="desktop_integration_download",w.desktopIntegrationInstalled="desktop_integration_installed",w.newUserAchievement="newUserAchievement",w.grammarlyDiscountName="GrammarlyDiscountName",w.grammarlyDiscountValue="GrammarlyDiscountValue",w.grammarlyDiscountType="GrammarlyDiscountType";var oj=function(e,t,r,n){if(void 0!==t){if(n){var o,i=new Date;i.setTime(i.getTime()+1e3*n),o=i}document.cookie=eA.q(e,t.toString(),{expires:o,path:"/",domain:r})}},oq=function(e,t){document.cookie="".concat(e,"=;path=/;domain=").concat(t,";expires=Thu, 01 Jan 1970 00:00:01 GMT")},oG=function(e){if(!nN)return eA.Q(document.cookie)[e];var t=Error();eF.C8.Logging.getLogger("cookie.interception").warn("Cannot parse cookie from document at the server-side",{cookieName:e,stackTrace:t.stack})},oH=function(){function e(e,t,r){void 0===r&&(r=1800);var n=this;this.cookieName=e,this.cookieDomain=t,this.cookieTime=r,this.data={},this.stateKeyProp="_stateKey",this.getStateKey=function(){var e=n.decompressCookieToObject();return e&&e[n.stateKeyProp]},this.appendData=function(e,t){n.data[e]=t},this.getData=function(e){return n.data[e]}}return e.prototype.clearData=function(){this.data={}},e.prototype.clearCookie=function(){oq(this.cookieName,this.cookieDomain)},e.prototype.decompressCookieToObject=function(){var e=e_().decompressFromBase64(oG(this.cookieName)||"");return e?JSON.parse(e):{}},e.prototype.save=function(e){this.appendData(this.stateKeyProp,e),oj(this.cookieName,e_().compressToBase64(JSON.stringify(this.data)),this.cookieDomain,this.cookieTime)},e.prototype.restore=function(e){try{this.clearData();var t=this.decompressCookieToObject();t&&t[this.stateKeyProp]===e&&(this.data=t)}catch(e){this.clearData()}},e.prototype.saveAndClearData=function(e){this.save(e),this.clearData()},e.prototype.restoreAndClearCookie=function(e){this.restore(e),this.clearCookie()},e.prototype.reset=function(){this.clearData(),this.clearCookie()},e}(),oW="_socialService:data",oz=function(){function e(e){var t=this;this.appendToState=function(e,r){t.storage.appendData(e,r)},this.getFromStateByKey=function(e){return t.storage.getData(e)},this.storage=new oH("authSocialState",e,1800)}return e.get=function(t){var r=this.instances.get(t);if(r)return r;var n=new e(t);return this.instances.set(t,n),n},Object.defineProperty(e.prototype,"isContinueFlow",{get:function(){return!!this.continueFlowData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flowData",{get:function(){return this.continueFlowData},enumerable:!1,configurable:!0}),e.prototype.resetFlowData=function(){this.storage.reset(),this.continueFlowData=void 0},e.prototype.saveState=function(e){var t=this.generateStateKey();return this.storage.appendData(oW,e),this.storage.saveAndClearData(t),t},e.prototype.tryRestoreFlowState=function(e,t,r,n){this.storage.restoreAndClearCookie(e);var o={restoredData:this.storage.getData(oW)};if(e?o.restoredData&&j.isAuthSocialContext(o.restoredData.context)||(o.restoreError=Error("Restored context is empty, cannot continue previous flow")):o.restoreError=Error("Invalid StateKey"),o.requestData={urlQueryHash:t,urlHashHash:r,serverDataHash:n},this.continueFlowData=o,this.continueFlowData.restoreError)throw this.continueFlowData.restoreError},e.prototype.generateStateKey=function(){return nU(30)},e.validAuthSocialTypes=[j.Social.Type.Google,j.Social.Type.Facebook,j.Social.Type.Apple],e.instances=new Map,e}(),oK=function(){function e(e,t,r,n){this.actionType=e,this.socialConfig=t,this.termsModel=n,this.payload=new nW.Empty,this.enabledProviders=this.createProviders(t,r),n&&(this.reactionDisposers=this.setupReactions(n))}return e.prototype.destruct=function(){this.reactionDisposers&&this.reactionDisposers.forEach(function(e){return e()})},e.prototype.getProviderByType=function(e){return this.enabledProviders.find(function(t){return t.type===e})},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.enabledProviders.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flowError",{get:function(){if(this.payload.isError())return this.payload.error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flowErrorAlert",{get:function(){if(this.flowError&&!this.flowErrorNotice)return this.flowError},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flowErrorNotice",{get:function(){if(this.flowError&&"SIGNIN"===this.actionType&&j.Error.errCodeEqualsTo(this.flowError.errCode,j.Error.ApiErrorCode.UseEmail))return this.flowError},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this.payload.isLoading()},enumerable:!1,configurable:!0}),e.prototype.setPayloadFromServer=function(e,t){this.payload=e,this.activeProviderType=t},e.prototype.setFlowError=function(e){this.payload=new nW.Error(e)},e.prototype.resetFlowError=function(){this.payload=new nW.Empty},e.prototype.validateFlow=function(){var e;if(this.termsModel){var t=eU(null===(e=this.termsModel)||void 0===e?void 0:e.validate(),2),r=t[0],n=t[1];return r||this.setFlowError(j.Error.AuthCommonError.createFromError(j.Error.UiErrorCode.AcceptTermsOfService,Error("Terms of Service are not accepted"))),[r,{termsOfService:n}]}return[!0,{}]},e.prototype.resetProviders=function(e){this.enabledProviders=this.createProviders(this.socialConfig,e)},e.prototype.createProviders=function(e,t){return oz.validAuthSocialTypes.filter(function(e){return!t||!t.find(function(t){return t===e})}).map(function(t){switch(t){case j.Social.Type.Apple:return new oU(e.apple);case j.Social.Type.Facebook:return new oB(e.facebook);case j.Social.Type.Google:return new oD(e.google)}})},e.prototype.setupReactions=function(e){var t=this;return[rd(function(){return e.isTermsOfServiceAccepted},function(e){e&&t.resetFlowError()})]},eR([tC.ref,eV("design:type",Array)],e.prototype,"enabledProviders",void 0),eR([tC.ref,eV("design:type",Object)],e.prototype,"payload",void 0),eR([tC,eV("design:type",Object)],e.prototype,"activeProviderType",void 0),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"isEnabled",null),eR([tF,eV("design:type",Object),eV("design:paramtypes",[])],e.prototype,"flowError",null),eR([tF,eV("design:type",Object),eV("design:paramtypes",[])],e.prototype,"flowErrorAlert",null),eR([tF,eV("design:type",Object),eV("design:paramtypes",[])],e.prototype,"flowErrorNotice",null),eR([tF,eV("design:type",Object),eV("design:paramtypes",[])],e.prototype,"isLoading",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object,String]),eV("design:returntype",void 0)],e.prototype,"setPayloadFromServer",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[j.Error.AuthCommonError]),eV("design:returntype",void 0)],e.prototype,"setFlowError",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"resetFlowError",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Array)],e.prototype,"validateFlow",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Array]),eV("design:returntype",void 0)],e.prototype,"resetProviders",null),e}(),oZ=function(){function e(e,t,r){this.termsModel=new n$(r.isGDPR,r.isExplicitToSAgreement,r.hasBusinessToSAgreement),this.emailFlowModel=new oI(e,t,this.termsModel,r.initialEmail,r.customEmailValidation,r.initialEmailDisabled,r.restrictedDomains),this.socialFlowModel=new oK("SIGNUP",r.socialConfig,r.disabledSocialProviders,this.termsModel),this.reactionDisposers=this.setupReactions(this.emailFlowModel,this.socialFlowModel)}return e.prototype.destruct=function(){this.reactionDisposers&&this.reactionDisposers.forEach(function(e){return e()}),this.emailFlowModel.destruct(),this.socialFlowModel.destruct()},Object.defineProperty(e.prototype,"emailFlowSubmitButtonStatus",{get:function(){return this.socialFlowModel.payload.isLoading()||this.emailFlowModel.isUseEmailFlowError?W.Disabled:this.emailFlowModel.payload.isLoading()?W.Loading:W.Active},enumerable:!1,configurable:!0}),e.prototype.setCaptchaToken=function(e){this.cachedCaptchaToken=e},e.prototype.setEmailVerificationExperiment=function(e){this.emailFlowModel.setEmailVerificationExperiment(e)},e.prototype.getEmailFlowData=function(){return eI(eI({},this.emailFlowModel.getFlowData()),{captchaToken:this.cachedCaptchaToken})},e.prototype.getSocialFlowStartData=function(e,t){return eI({provider:e,isReRequestPermissions:t},this.termsModel.getData())},e.prototype.setTermsData=function(e){this.termsModel.setData(e)},e.prototype.setPayload=function(e,t){j.isAuthEmailContext(t)?this.emailFlowModel.setPayloadFromServer(e):this.socialFlowModel.setPayloadFromServer(e,t.socialType)},e.prototype.validateEmailFlow=function(){return this.socialFlowModel.resetFlowError(),this.emailFlowModel.validateFlow()},e.prototype.validateSocialFlow=function(){return this.emailFlowModel.resetFlowError(),this.socialFlowModel.validateFlow()},e.prototype.setupReactions=function(e,t){var r=[];return r.push(rd(function(){return e.payload},function(e){!t.isEnabled&&e.isError()&&j.Error.errCodeEqualsTo(e.error.errCode,j.Error.ApiErrorCode.UseSocial,j.Error.ApiErrorCode.UseApple,j.Error.ApiErrorCode.UseFacebook,j.Error.ApiErrorCode.UseGoogle)&&t.resetProviders([])})),r},eR([tF,eV("design:type",String),eV("design:paramtypes",[])],e.prototype,"emailFlowSubmitButtonStatus",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setCaptchaToken",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setEmailVerificationExperiment",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setTermsData",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object,Object]),eV("design:returntype",void 0)],e.prototype,"setPayload",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"validateEmailFlow",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Array)],e.prototype,"validateSocialFlow",null),e}(),o$=function(e){return void 0===e&&(e={}),Object.keys(e).reduce(function(t,r){return null!=e[r]&&(t[r]=e[r]),t},{})},oY=function(){function e(e,t,r,n,o){this.payload=new nW.Empty,this.isInitialStep=!0,this.emailModel=new nL(e,t,r,n,o),this.passwordModel=new oT(e,Y.Basic),this.reactionDisposers=[this.setupReactions(this.emailModel)],t&&this.validateInitialEmail()}return e.prototype.destruct=function(){this.reactionDisposers&&this.reactionDisposers.forEach(function(e){return e()})},e.prototype.validateInitialEmail=function(){return eL(this,void 0,void 0,function(){return eN(this,function(e){switch(e.label){case 0:return[4,this.emailModel.onBlur()];case 1:return e.sent(),this.emailModel.isValid&&this.nextStep(),[2]}})})},Object.defineProperty(e.prototype,"flowError",{get:function(){if(this.payload.isError())return this.payload.error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasEmailValue",{get:function(){return!!this.emailModel.value.trim()},enumerable:!1,configurable:!0}),e.prototype.getCheckEmailData=function(){return{email:this.emailModel.value.trim()}},e.prototype.getSubmitData=function(e){return{email:this.emailModel.value.trim(),password:this.passwordModel.value.trim(),captchaToken:e}},e.prototype.getFlowData=function(e){return this.isInitialStep?this.getCheckEmailData():this.getSubmitData(e)},e.prototype.setPayloadFromServer=function(e){this.isInitialStep&&e.isValue()&&this.nextStep(),this.setPayload(e)},e.prototype.setPayload=function(e){this.payload=e},e.prototype.setFlowError=function(e){this.setPayload(new nW.Error(e))},e.prototype.resetFlowError=function(){this.setPayload(new nW.Empty)},e.prototype.resetStep=function(){this.isInitialStep=!0},e.prototype.nextStep=function(){this.isInitialStep=!1},e.prototype.validateFlow=function(){return eL(this,void 0,void 0,function(){var e,t,r,n,o;return eN(this,function(i){switch(i.label){case 0:return[4,this.emailModel.validate()];case 1:if(t=(e=eU.apply(void 0,[i.sent(),2]))[0],r=e[1],this.isInitialStep)return[2,[t,{email:r}]];return o=(n=eU(this.passwordModel.validate(),2))[0],[2,[t&&o,{email:r,password:n[1]}]]}})})},e.prototype.setupReactions=function(e){var t=this;return rd(function(){return e.value},function(){t.flowError&&j.Error.errCodeEqualsTo(t.flowError.errCode,j.Error.ApiErrorCode.UseEmail,j.Error.ApiErrorCode.UseGoogle,j.Error.ApiErrorCode.UseFacebook,j.Error.ApiErrorCode.UseApple,j.Error.ApiErrorCode.UseSocial)&&t.resetFlowError(),t.resetStep()})},eR([tC.ref,eV("design:type",Object)],e.prototype,"payload",void 0),eR([tC,eV("design:type",Object)],e.prototype,"isInitialStep",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"validateInitialEmail",null),eR([tF,eV("design:type",Object),eV("design:paramtypes",[])],e.prototype,"flowError",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"hasEmailValue",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setPayloadFromServer",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setPayload",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[j.Error.AuthCommonError]),eV("design:returntype",void 0)],e.prototype,"setFlowError",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"resetFlowError",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"resetStep",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"nextStep",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"validateFlow",null),e}(),oJ=function(){function e(e,t){this.emailFlowModel=new oY(e,t.initialEmail,t.customEmailValidation,t.initialEmailDisabled,t.restrictedDomains),this.socialFlowModel=new oK("SIGNIN",t.socialConfig,t.disabledSocialProviders),this.secureLogin=t.secureLogin,this.reactionDisposers=this.setupReactions(this.emailFlowModel,this.socialFlowModel),this.showFacebookLoginDisabledModal=!1}return e.prototype.destruct=function(){this.emailFlowModel.destruct(),this.socialFlowModel.destruct(),this.reactionDisposers&&this.reactionDisposers.forEach(function(e){return e()})},e.prototype.setShowFacebookLoginDisabledModal=function(e){this.showFacebookLoginDisabledModal=e},Object.defineProperty(e.prototype,"emailFlowSubmitButtonStatus",{get:function(){return this.socialFlowModel.payload.isLoading()?W.Disabled:this.emailFlowModel.payload.isLoading()?W.Loading:W.Active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEmailFlowInitialStep",{get:function(){return this.emailFlowModel.isInitialStep},enumerable:!1,configurable:!0}),e.prototype.getEmailFlowCheckEmailData=function(){return this.emailFlowModel.getCheckEmailData()},e.prototype.getEmailFlowSubmitData=function(){return eI(eI({},this.emailFlowModel.getSubmitData(this.cachedCaptchaToken)),{secureLogin:this.secureLogin})},e.prototype.getSocialFlowStartData=function(e,t){return{isReRequestPermissions:t,provider:e}},e.prototype.setPayload=function(e,t){var r=this;if(e.isError()&&j.Error.errCodeEqualsTo(e.error.errCode,j.Error.ApiErrorCode.UseEmail)){var n=e.error.nestedError;ry(function(){var e;r.emailFlowModel.emailModel.onChange(null!==(e=null==n?void 0:n.email)&&void 0!==e?e:"")}),ry(function(){return eL(r,void 0,void 0,function(){return eN(this,function(e){switch(e.label){case 0:if(!(null==n?void 0:n.email))return[3,2];return[4,this.emailFlowModel.validateFlow()];case 1:eU.apply(void 0,[e.sent(),1])[0]&&this.emailFlowModel.nextStep(),e.label=2;case 2:return[2]}})})})}ry(function(){j.isAuthEmailContext(t)?r.emailFlowModel.setPayloadFromServer(e):r.socialFlowModel.setPayloadFromServer(e,t.socialType)})},e.prototype.validateEmailFlow=function(){return eL(this,void 0,void 0,function(){return eN(this,function(e){switch(e.label){case 0:return this.socialFlowModel.resetFlowError(),[4,this.emailFlowModel.validateFlow()];case 1:return[2,e.sent()]}})})},e.prototype.validateSocialFlow=function(){return this.emailFlowModel.resetFlowError(),this.socialFlowModel.validateFlow()},e.prototype.setCaptchaToken=function(e){this.cachedCaptchaToken=e},e.prototype.setupReactions=function(e,t){var r=[];return r.push(rd(function(){return e.emailModel.value},function(){t.flowError&&t.resetFlowError()})),r.push(rd(function(){return e.payload},function(e){e.isError()&&j.Error.errCodeEqualsTo(e.error.errCode,j.Error.ApiErrorCode.UseSocial,j.Error.ApiErrorCode.UseApple,j.Error.ApiErrorCode.UseFacebook,j.Error.ApiErrorCode.UseGoogle)&&t.resetProviders([])})),r},eR([tC,eV("design:type",Boolean)],e.prototype,"showFacebookLoginDisabledModal",void 0),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Boolean]),eV("design:returntype",void 0)],e.prototype,"setShowFacebookLoginDisabledModal",null),eR([tF,eV("design:type",String),eV("design:paramtypes",[])],e.prototype,"emailFlowSubmitButtonStatus",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"isEmailFlowInitialStep",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],e.prototype,"validateEmailFlow",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Array)],e.prototype,"validateSocialFlow",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setCaptchaToken",null),e}(),oX={required:{status:G.Required,message:"Required"},invalid:{status:G.Invalid,message:"Invalid"},valid:{status:G.Valid}},oQ=function(){function e(e){void 0===e&&(e=""),this.value="",this.validity=oX.valid,this.value=e}return e.prototype.validateValue=function(e){return(e=e.trim()).length<1?oX.required:oX.valid},Object.defineProperty(e.prototype,"isValid",{get:function(){return this.validity.status===G.Valid},enumerable:!1,configurable:!0}),e.prototype.validate=function(){return this.validity=this.validateValue(this.value),[this.isValid,this.validity.status]},e.prototype.setValue=function(e){this.value=e,this.validity=oX.valid},e.prototype.onBlur=function(){this.validate()},eR([tC,eV("design:type",Object)],e.prototype,"value",void 0),eR([tC.ref,eV("design:type",Object)],e.prototype,"validity",void 0),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"isValid",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Array)],e.prototype,"validate",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setValue",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"onBlur",null),e}(),o0=function(){function e(e){this.email=e,this.payload=new nW.Empty,this.textModel=new oQ}return e.prototype.getData=function(){return{email:this.email,comment:this.textModel.value.trim()}},e.prototype.setPayload=function(e){this.payload=e},e.prototype.validate=function(){return this.textModel.validate()},eR([tC.ref,eV("design:type",Object)],e.prototype,"payload",void 0),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setPayload",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Array)],e.prototype,"validate",null),e}();(b=Q||(Q={})).Code="Code",b.OtherMethods="OtherMethods";var o1=/^[0-9]{6}$/,o2=/^[A-Za-z0-9]{8}$/,o3=function(){function e(e,t){this.signInModel=e,this.onCallTrigger=t,this.currentView=Q.Code,this.intervalBetweenSMS=3e4,this.context={modes:[j.MfaSettings.Mode.phone]},this.disableResend=!1,this.isSaveBrowser=!0,this.code="",this.reactionDisposers=this.setupReactions()}return e.prototype.destruct=function(){this.clearTimer(),this.reactionDisposers&&this.reactionDisposers.forEach(function(e){return e()})},e.prototype.clearTimer=function(){this.timerId&&window.clearTimeout(this.timerId)},Object.defineProperty(e.prototype,"email",{get:function(){return this.signInModel.emailFlowModel.emailModel.value||"user"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enabledModes",{get:function(){return this.context.modes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isResendableCode",{get:function(){return this.currentMode===j.MfaSettings.Mode.phone||this.currentMode===j.MfaSettings.Mode.email},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"phoneNumber",{get:function(){return"(•••) •••-••".concat(this.context.lastChars||"••")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"codeSubmitButtonStatus",{get:function(){return this.signInModel.emailFlowModel.payload.isLoading()?W.Loading:W.Active},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disableSms",{get:function(){var e=this.signInModel.emailFlowModel.flowError;return!!e&&j.Error.errCodeEqualsTo(e.errCode,j.Error.ApiErrorCode.RateLimited)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mfaModesEnabled",{get:function(){return new Set(this.enabledModes)},enumerable:!1,configurable:!0}),e.prototype.setContext=function(e){this.context=e,this.currentMode||(this.currentMode=e.modes[0]||j.MfaSettings.Mode.phone)},e.prototype.setCode=function(e){this.code=e||""},e.prototype.setDisableResend=function(e){this.disableResend=e},e.prototype.setView=function(e){this.setCode(),this.resetErrorMessage(),this.currentView=e},e.prototype.setIsSaveBrowser=function(e){this.isSaveBrowser=e},e.prototype.switchMode=function(e){e===j.MfaSettings.Mode.phone&&this.requestCode(e),this.setView(Q.Code),this.currentMode=e},e.prototype.resendCode=function(e){!this.disableResend&&this.currentMode&&(this.requestCode(this.currentMode),this.startCountdown(e))},e.prototype.startCountdown=function(e){var t=this;this.setDisableResend(!0),(null==e?void 0:e.current)&&e.current.startAnimation(),this.timerId=window.setTimeout(function(){return t.setDisableResend(!1)},this.intervalBetweenSMS)},e.prototype.onSubmitCode=function(){this.validate()?(this.resetErrorMessage(),this.submitCode(this.currentMode,this.code,this.isSaveBrowser)):this.setErrorMessage()},e.prototype.setErrorMessage=function(e){void 0===e&&(e="Invalid code. Please try again."),this.errorMsg=e},e.prototype.resetErrorMessage=function(){this.errorMsg=void 0},e.prototype.validate=function(){return!!this.currentMode&&(this.currentMode===j.MfaSettings.Mode.backup&&o2.test(this.code)||this.currentMode!==j.MfaSettings.Mode.backup&&o1.test(this.code))},e.prototype.requestCode=function(e){this.onCallTrigger(r0(B.MfaSubmit,eI(eI({},this.signInModel.getEmailFlowSubmitData()),{mode:e})))},e.prototype.submitCode=function(e,t,r){this.onCallTrigger(r0(B.MfaSubmit,eI(eI({},this.signInModel.getEmailFlowSubmitData()),{mode:e,code:t,rememberDevice:r})))},e.prototype.setupReactions=function(){var e=this,t=[];return t.push(rd(function(){return e.signInModel.emailFlowModel.flowError},function(t){t&&e.setErrorMessage()})),t.push(rd(function(){return e.code},function(){e.errorMsg&&e.resetErrorMessage()})),t},eR([tC,eV("design:type",String)],e.prototype,"currentView",void 0),eR([tC,eV("design:type",Object)],e.prototype,"currentMode",void 0),eR([tC,eV("design:type",Object)],e.prototype,"errorMsg",void 0),eR([tC,eV("design:type",Object)],e.prototype,"intervalBetweenSMS",void 0),eR([tC.ref,eV("design:type",Object)],e.prototype,"context",void 0),eR([tC,eV("design:type",Object)],e.prototype,"disableResend",void 0),eR([tC,eV("design:type",Object)],e.prototype,"isSaveBrowser",void 0),eR([tC,eV("design:type",Object)],e.prototype,"code",void 0),eR([tF,eV("design:type",String),eV("design:paramtypes",[])],e.prototype,"email",null),eR([tF,eV("design:type",Array),eV("design:paramtypes",[])],e.prototype,"enabledModes",null),eR([tF,eV("design:type",Object),eV("design:paramtypes",[])],e.prototype,"isResendableCode",null),eR([tF,eV("design:type",String),eV("design:paramtypes",[])],e.prototype,"phoneNumber",null),eR([tF,eV("design:type",String),eV("design:paramtypes",[])],e.prototype,"codeSubmitButtonStatus",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],e.prototype,"disableSms",null),eR([tF,eV("design:type",Set),eV("design:paramtypes",[])],e.prototype,"mfaModesEnabled",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setContext",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setCode",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Boolean]),eV("design:returntype",void 0)],e.prototype,"setDisableResend",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setView",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Boolean]),eV("design:returntype",void 0)],e.prototype,"setIsSaveBrowser",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"switchMode",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"resendCode",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"startCountdown",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"onSubmitCode",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setErrorMessage",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"resetErrorMessage",null),e}(),o5=function(){function e(e,t){this.socialProviderType=j.Social.Type.Google,this.termsModel=new n$(t.isGDPR,t.isExplicitToSAgreement,t.hasBusinessToSAgreement),this.socialFlowModel=new oK("SIGNUP",t.socialConfig,t.disabledSocialProviders,this.termsModel)}return e.prototype.destruct=function(){this.socialFlowModel.destruct()},e.prototype.getSocialFlowStartData=function(e,t){return eI({provider:e,isReRequestPermissions:t},this.termsModel.getData())},e.prototype.getSocialProvider=function(){return this.socialFlowModel.getProviderByType(this.socialProviderType)},e.prototype.setTermsData=function(e){this.termsModel.setData(e)},e.prototype.setSocialProviderType=function(e){this.socialProviderType=e},e.prototype.validateSocialFlow=function(){return this.socialFlowModel.validateFlow()},eR([tC,eV("design:type",String)],e.prototype,"socialProviderType",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setTermsData",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setSocialProviderType",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Array)],e.prototype,"validateSocialFlow",null),e}();(S=ee||(ee={})).ResendVerification="ResendVerification",S.ContactSupport="ContactSupport";var o4=function(){function e(e,t){this.signUpStepModel=e,this.onCallTrigger=t,this.resendVerificationPayload=new nW.Empty,this.currentResendVerificationView=ee.ResendVerification}return Object.defineProperty(e.prototype,"resendVerificationState",{get:function(){return this.resendVerificationPayload.isEmpty()?"visible":this.resendVerificationPayload.isLoading()?"loading":"hidden"},enumerable:!1,configurable:!0}),e.prototype.setPayload=function(e,t){this.resendVerificationPayload=e},e.prototype.onShowContactSupport=function(){this.currentResendVerificationView=ee.ContactSupport},e.prototype.onResendVerificationClick=function(){var e=eI({},this.signUpStepModel.getEmailFlowData());e.emailVerification=!0,e.isResendCode=!0,"visible"===this.resendVerificationState&&this.onCallTrigger(r0(B.SignUpEmailVerificationSubmit,e))},eR([tC.ref,eV("design:type",Object)],e.prototype,"resendVerificationPayload",void 0),eR([tC,eV("design:type",String)],e.prototype,"currentResendVerificationView",void 0),eR([tF,eV("design:type",String),eV("design:paramtypes",[])],e.prototype,"resendVerificationState",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object,Object]),eV("design:returntype",void 0)],e.prototype,"setPayload",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"onShowContactSupport",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"onResendVerificationClick",null),e}(),o6=/^[0-9]{6}$/;(et||(et={})).Code="code";var o7=function(e){function t(t,r,n,o){var i=e.call(this,t,r,n,o)||this;return i.signUpModel=t,i.onCallTrigger=r,i.trackSubmitSignUp=n,i.countSignUpWithCodeSubmit=0,i.signupWithCodePayload=new nW.Empty,i.shouldClearCodeInput=!1,i.showTryAgainSubmit=!1,i.code="",i.reactionDisposers=i.setupReactions(),i}return eO(t,e),t.prototype.destruct=function(){this.reactionDisposers&&this.reactionDisposers.forEach(function(e){return e()})},Object.defineProperty(t.prototype,"codeSubmitButtonStatus",{get:function(){return this.signupWithCodePayload.isLoading()?W.Loading:W.Active},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canSubmitSignUpWithCode",{get:function(){return!this.signupWithCodePayload.isLoading()&&!this.resendVerificationViewModel.resendVerificationPayload.isLoading()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canSubmitSocial",{get:function(){return!this.signupWithCodePayload.isLoading()},enumerable:!1,configurable:!0}),t.prototype.setPayload=function(e,t){t.isSignUpEmailVerificationResendCodeRequest?this.resendVerificationViewModel.setPayload(e,t):t.hasSignUpEmailVerificationCode&&(this.signupWithCodePayload=e)},t.prototype.onSetCode=function(e){void 0===e&&(e=""),this.resetErrorMessage(),this.code=e,6===this.code.length&&0===this.countSignUpWithCodeSubmit&&this.onSubmitCode()},t.prototype.onSubmitCode=function(){if(this.canSubmitSignUpWithCode){this.countSignUpWithCodeSubmit++;var e,t=eU(this.validate(),2),r=t[0],n=t[1];if(null===(e=this.trackSubmitSignUp)||void 0===e||e.call(this,{action:"SIGNUP",email:"true"},N.SignUpEmailVerification,n,void 0,this.countSignUpWithCodeSubmit),!r){this.setErrorMessage("Incomplete code. Please enter your 6-digit verification code.");return}this.onCallTrigger(r0(B.SignUpEmailVerificationSubmit,eI(eI({},this.signUpModel.getEmailFlowData()),{emailVerificationCode:this.code})))}},t.prototype.setErrorMessage=function(e){this.errorMsg=e},t.prototype.resetErrorMessage=function(){this.errorMsg=void 0},t.prototype.validate=function(){var e=o6.test(this.code);return[e,{code:e?G.Valid:G.Invalid}]},t.prototype.setupReactions=function(){var e=this,t=[];return t.push(rd(function(){return e.signupWithCodePayload},function(t){t.isError()&&(j.Error.errCodeEqualsTo(t.error.errCode,j.Error.ApiErrorCode.EmailVerificationCode)?(t.error.message,e.setErrorMessage("Invalid code. Please try again.")):e.setErrorMessage("Something went wrong. Please try again."),1===e.countSignUpWithCodeSubmit&&(e.code="",e.shouldClearCodeInput=!0,e.showTryAgainSubmit=!0))})),t},eR([tC.ref,eV("design:type",Object)],t.prototype,"signupWithCodePayload",void 0),eR([tC,eV("design:type",Object)],t.prototype,"shouldClearCodeInput",void 0),eR([tC,eV("design:type",Object)],t.prototype,"showTryAgainSubmit",void 0),eR([tC,eV("design:type",Object)],t.prototype,"errorMsg",void 0),eR([tC,eV("design:type",Object)],t.prototype,"code",void 0),eR([tF,eV("design:type",String),eV("design:paramtypes",[])],t.prototype,"codeSubmitButtonStatus",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],t.prototype,"canSubmitSignUpWithCode",null),eR([tF,eV("design:type",Boolean),eV("design:paramtypes",[])],t.prototype,"canSubmitSocial",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object,Object]),eV("design:returntype",void 0)],t.prototype,"setPayload",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],t.prototype,"onSetCode",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],t.prototype,"onSubmitCode",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],t.prototype,"setErrorMessage",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],t.prototype,"resetErrorMessage",null),t}(function(){function e(e,t,r,n){this.signUpStepModel=e,this.onCallTriggerFn=t,this.trackSubmitButton=r,this.trackBackButton=n,this.resendVerificationViewModel=new o4(this.signUpStepModel,this.onCallTriggerFn),this.signUpStepModel.socialFlowModel.resetFlowError()}return Object.defineProperty(e.prototype,"email",{get:function(){return this.signUpStepModel.getEmailFlowData().email},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"socialFlowModel",{get:function(){return this.signUpStepModel.socialFlowModel},enumerable:!1,configurable:!0}),e.prototype.getSocialFlowStartData=function(e){return this.signUpStepModel.getSocialFlowStartData(e)},e.prototype.handleBackButtonClick=function(){var e;null===(e=this.trackBackButton)||void 0===e||e.call(this),this.onCallTriggerFn(D.ToSignUp)},e.prototype.handleSocialSubmit=function(e,t){var r,n=eU(this.socialFlowModel.validateFlow(),2),o=n[0],i=n[1];null===(r=this.trackSubmitButton)||void 0===r||r.call(this,{action:"SIGNUP",socialType:e.type},t,i),o&&this.onCallTriggerFn(r0(B.SignUpSocialFlowStart,this.getSocialFlowStartData(e)))},eR([tF,eV("design:type",String),eV("design:paramtypes",[])],e.prototype,"email",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[ox]),eV("design:returntype",Object)],e.prototype,"getSocialFlowStartData",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",void 0)],e.prototype,"handleBackButtonClick",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[ox,String]),eV("design:returntype",void 0)],e.prototype,"handleSocialSubmit",null),e}()),o9=new Set([N.SignInInit,N.SignInWithPassword,N.SignInEmailPermissionPopup,N.Captcha,N.MFA,N.ExplicitTermsOfServicePopup,N.SupportRequest]),o8=new Set([N.SecureSignIn,N.SignInEmailPermissionPopup,N.Captcha,N.MFA,N.ExplicitTermsOfServicePopup,N.SupportRequest]),ie=new Set([N.MFA]),it=new Set([N.SignUpEmailVerification]),ir=new Set([N.NewAccount,N.Captcha,N.SignUpEmailVerification,N.SignUpEmailPermissionPopup]),io=function(){function e(e,t,r,n,o,i,a){var s=this;this.api=e,this.captchaEnterprise=t,this.socialService=r,this.ssoService=n,this.createMfaSupportTicket=o,this.track=i,this.options=a,this.onTrackFormShow=function(e){var t,r;null===(r=(t=s.track).trackFormShow)||void 0===r||r.call(t,e)},this.onAuthSubmitClick=function(e,t,r,n,o){var i,a;try{var l=Object.keys(r).filter(function(e){return r[e]!==G.Valid}).map(function(e){return{fieldName:e,errorMessage:r[e]}});null===(a=(i=s.track).trackSubmitButtonClick)||void 0===a||a.call(i,e,t,l,n,o)}catch(e){}};var l=a.defaultView||N.SignInInit;this.validateNextView(l),this.currentView=l,this.captchaActionType=this.options.defaultView===N.NewAccount?"SIGNUP":"SIGNIN",this._initialFlowError=a.initialError}return Object.defineProperty(e.prototype,"resetPasswordViewModel",{get:function(){return this._resetPasswordViewModel||(this._resetPasswordViewModel=new nz(this.api)),this._resetPasswordViewModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signUpViewModel",{get:function(){return this._signUpViewModel||(this._signUpViewModel=new oZ(this.api,this.captchaEnterprise,this.options),this.setInitialFlowError(this._signUpViewModel)),this._signUpViewModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signUpViaSignInViewModel",{get:function(){return this._signUpViaSignInViewModel||(this._signUpViaSignInViewModel=new o5(this.api,this.options)),this._signUpViaSignInViewModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"signInViewModel",{get:function(){var e,t=this;if(!this._signInViewModel){var r=void 0;r=this.isSecureSignIn?eI(eI({},this.options),{secureLogin:!0,initialEmail:null===(e=this.currentUser)||void 0===e?void 0:e.email,disabledSocialProviders:oz.validAuthSocialTypes.filter(function(e){var r;return!(null===(r=t.currentUser)||void 0===r?void 0:r.loginProviders.includes(e.toUpperCase()))})}):this.options,this._signInViewModel=new oJ(this.api,r),this.setInitialFlowError(this._signInViewModel)}return this._signInViewModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportRequestViewModel",{get:function(){return this._supportRequestViewModel||(this._supportRequestViewModel=new o0(this.signInViewModel.emailFlowModel.emailModel.value)),this._supportRequestViewModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mfaViewModel",{get:function(){return this._mfaViewModel||(this._mfaViewModel=new o3(this.signInViewModel,this.onCallTrigger)),this._mfaViewModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emailVerificationViewModel",{get:function(){var e;return this._emailVerificationViewModel||(this._emailVerificationViewModel=new o7(this.signUpViewModel,this.onCallTrigger,this.onAuthSubmitClick,null===(e=this.track.signupEmailVerificationTracking)||void 0===e?void 0:e.trackBackButtonClick)),this._emailVerificationViewModel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){var e,t;return null===(t=(e=this.options).getCurrentUser)||void 0===t?void 0:t.call(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"defaultSocialContext",{get:function(){return{action:this.currentView===N.NewAccount?"SIGNUP":"SIGNIN",socialType:j.Social.Type.Google}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSecureSignIn",{get:function(){return!!(this.currentUser&&!this.currentUser.anonymous&&this.options.defaultView===N.SecureSignIn)},enumerable:!1,configurable:!0}),e.prototype.safeCaptchaExecute=function(){return eL(this,void 0,void 0,function(){return eN(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.captchaEnterprise.execute(nK)];case 1:return[2,e.sent()];case 2:return e.sent(),[3,3];case 3:return[2,void 0]}})})},e.prototype.setInitialFlowError=function(e){this._initialFlowError&&(e.setPayload(new nW.Error(this._initialFlowError),this.defaultSocialContext),this._initialFlowError=void 0)},e.prototype.setCaptchaActionType=function(e){this.captchaActionType=e},e.prototype.setCurrentView=function(e){var t,r,n,o,i;(this.isSecureSignIn&&o8.has(this.currentView)&&!o8.has(e)||!this.isSecureSignIn&&o9.has(this.currentView)&&!o9.has(e))&&(null===(t=this._signInViewModel)||void 0===t||t.destruct(),null===(r=this._signUpViaSignInViewModel)||void 0===r||r.destruct(),this._signInViewModel=void 0,this._signUpViaSignInViewModel=void 0,this._mfaViewModel=void 0,this._emailVerificationViewModel=void 0),ir.has(this.currentView)&&!ir.has(e)&&(null===(n=this._signUpViewModel)||void 0===n||n.destruct(),this._signUpViewModel=void 0),it.has(this.currentView)&&!it.has(e)&&(null===(o=this._emailVerificationViewModel)||void 0===o||o.destruct(),this._emailVerificationViewModel=void 0,this.signUpViewModel.emailFlowModel.setPayload(new nW.Empty)),ie.has(this.currentView)&&!ie.has(e)&&(null===(i=this._mfaViewModel)||void 0===i||i.destruct(),this._mfaViewModel=void 0),this.validateNextView(e),this.currentView=e},e.prototype.validateNextView=function(e){if(this.options.onFormRenderError){var t=void 0;e===N.SecureSignIn&&(!this.currentUser||this.currentUser.anonymous)&&(t=j.Error.FormRenderErrorCode.UserIsAnonymous),t&&this.options.onFormRenderError(t)}},e.prototype.onCallTrigger=function(e){if(e&&D[e]){if(e===D.ToSignIn){var t=this.signInViewModel.secureLogin?N.SecureSignIn:N.SignInInit;this.setCurrentView(t)}else this.setCurrentView(rQ[e])}else switch(e.key){case B.ResetPasswordSubmit:this.processResetPasswordRequest(e.data);break;case B.SupportRequestSubmit:this.processSupportRequest(e.data);break;case B.SignUpEmailSubmit:this.processSignUpEmailRequest(e.data);break;case B.SignUpSocialFlowStart:this.processSignUpSocialStartRequest(e.data);break;case B.SignInCheckEmailSubmit:this.processSignInCheckEmailRequest(e.data,this.currentView);break;case B.SignInEmailFlowSubmit:this.processSignInEmailRequest(e.data,this.currentView);break;case B.SignInSocialFlowStart:this.processSignInSocialStartRequest(e.data);break;case B.CaptchaSubmit:this.processCaptchaRequest(e.data);break;case B.MfaSubmit:this.processMFARequest(e.data,this.currentView);break;case B.SignUpEmailVerificationSubmit:this.processSignUpEmailVerificationRequest(e.data);break;case B.SocialFlowContinue:this.processSocialContinueRequest(e.data);break;case B.SSOFlowContinue:this.processSSOContinueRequest(e.data)}},e.prototype.processSignUpEmailRequest=function(e){return eL(this,void 0,void 0,function(){var t,r,n,o,i;return eN(this,function(a){switch(a.label){case 0:if(e.captchaToken)return[3,2];return[4,this.safeCaptchaExecute()];case 1:return r=a.sent(),[3,3];case 2:r=void 0,a.label=3;case 3:return t=r,n={action:"SIGNUP",email:e.email,useSignUpEmailVerification:!1,hasSignUpEmailVerificationCode:!1,isSignUpEmailVerificationResendCodeRequest:!1},o={isMarketingEmailsAllowed:e.isMarketingEmailsAllowed,isTermsOfServiceAccepted:e.isTermsOfServiceAccepted},null!=e&&null!=e.emailVerification&&(n.useSignUpEmailVerification=!!e.emailVerification,n.signUpEmailVerificationType=e.emailVerification?j.SignupEmailVerificationType.Code:void 0,n.hasSignUpEmailVerificationCode=!!e.emailVerificationCode,n.isSignUpEmailVerificationResendCodeRequest=!!e.isResendCode),i={groups:["newfunnel"],email_signup:eI(eI({email:e.email,name:e.name,password:e.password},this.options.isEnterpriseVisibleCaptchaEnabled?{visibleCaptchaToken:e.captchaToken}:{captchaToken:e.captchaToken}),{captchaTokenV3:t,emailVerification:e.emailVerification,stateKey:e.stateKey,emailVerificationCode:e.emailVerificationCode,institutionInviteKey:this.options.initialInstitutionInviteKey})},[4,this.processSignUpCommonRequest(n,this.currentView,i,o)];case 4:return a.sent(),[2]}})})},e.prototype.processSignUpSocialStartRequest=function(e){var t={action:"SIGNUP",socialType:e.provider.type},r={isMarketingEmailsAllowed:e.isMarketingEmailsAllowed,isTermsOfServiceAccepted:e.isTermsOfServiceAccepted};this.signUpViewModel.setPayload(new nW.Loading,t),this.processSocialStartRequest(t,e.provider,e.isReRequestPermissions,r)},e.prototype.processSignUpSocialContinueRequest=function(e,t){var r,n,o;return eL(this,void 0,void 0,function(){var i,a,s,l;return eN(this,function(c){switch(c.label){case 0:if(this.signUpViewModel.socialFlowModel.resetProviders([]),i=this.signUpViewModel.socialFlowModel.getProviderByType(e.socialType),!(t.restoreError||!i))return[3,1];return a=j.Error.AuthCommonError.create(null!==(r=t.restoreError)&&void 0!==r?r:Error("Cannot find target social provider")),this.signUpViewModel.setPayload(new nW.Error(a),e),[3,3];case 1:return s=eI({},null==i?void 0:i.getSignupConfig(t.requestData||{})),l=(null===(n=t.restoredData)||void 0===n?void 0:n.termsData)||{isMarketingEmailsAllowed:!1,isTermsOfServiceAccepted:!1},this.signUpViewModel.setTermsData(l),[4,this.processSignUpCommonRequest(e,this.currentView,s,l,null===(o=t.restoredData)||void 0===o?void 0:o.initFlowUIState.formKey)];case 2:c.sent(),c.label=3;case 3:return[2]}})})},e.prototype.isResendCodeSignUpRequest=function(e){return!!e.isSignUpEmailVerificationResendCodeRequest},e.prototype.setSignUpCommonRequestPayload=function(e,t){j.isAuthEmailContext(t)&&(t.hasSignUpEmailVerificationCode||this.isResendCodeSignUpRequest(t))?this.emailVerificationViewModel.setPayload(e,t):this.signUpViewModel.setPayload(e,t)},e.prototype.processSignUpCommonRequest=function(e,t,r,n,o){var i,a;return eL(this,void 0,void 0,function(){var s,l,c,u,p,d,h,m=this;return eN(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),this.setSignUpCommonRequestPayload(new nW.Loading,e),this.onAuthAttempt(e,t,o,n),s=o$(eI(eI({},null===(a=(i=this.options).getAssignedCustomFields)||void 0===a?void 0:a.call(i,e.action)),{disableMarketingEmails:null===n.isMarketingEmailsAllowed?void 0:!n.isMarketingEmailsAllowed})),[4,this.api.signup(eI({custom_fields:s},r))];case 1:return c=(l=f.sent()).action,u=l.user,e=eI(eI({},e),{action:c}),[4,this.onAuthSuccess(e,t,u,o,n)];case 2:return f.sent(),this.setSignUpCommonRequestPayload(new nW.Value(void 0),e),[3,4];case 3:return p=f.sent(),d=j.Error.AuthCommonError.create(p),this.onAuthFail(e,t,d,o,n),j.Error.matchErrCode(d.errCode,((h={})[j.Error.ApiErrorCode.SignUpEmailVerification]=function(){m.setSignUpCommonRequestPayload(new nW.Value(void 0),e),m.setCurrentView(N.SignUpEmailVerification)},h[j.Error.ApiErrorCode.EmailVerificationCode]=function(){m.setSignUpCommonRequestPayload(new nW.Error(d),e),m.setCurrentView(N.SignUpEmailVerification)},h[j.Error.ApiErrorCode.ShowCaptcha]=function(){m.setCaptchaActionType("SIGNUP"),m.setCurrentView(N.Captcha),m.signUpViewModel.setCaptchaToken(),m.signUpViewModel.setPayload(new nW.Value(void 0),e)},h[j.Error.ApiErrorCode.SocialNoEmail]=function(){m.setCurrentView(N.SignUpEmailPermissionPopup),m.signUpViewModel.setPayload(new nW.Value(void 0),e)},h[j.Error.ApiErrorCode.UseSso]=function(){var t,r=null===(t=d.nestedError.context)||void 0===t?void 0:t.redirectTo;r?m.processSSOStartRequest(eI(eI({},e),{isSSO:!0}),r):m.signUpViewModel.setPayload(new nW.Error(d),e)},h.default=function(){t!==N.NewAccount&&m.setCurrentView(N.NewAccount),m.setSignUpCommonRequestPayload(new nW.Error(d),e)},h)),[3,4];case 4:return[2]}})})},e.prototype.processSignInCheckEmailRequest=function(e,t){var r,n,o,i,a=e.email;return eL(this,void 0,void 0,function(){var e,s,l,c,u,p,d,h;return eN(this,function(m){switch(m.label){case 0:e={action:"SIGNIN",isSecureSignIn:this.signInViewModel.secureLogin,email:a},m.label=1;case 1:return m.trys.push([1,3,,4]),this.signInViewModel.setPayload(new nW.Loading,e),[4,this.api.getAuthInfo(a)];case 2:switch(l=(s=m.sent()).loginType,c=s.hasSocial,null===(n=(r=this.track).trackAuthInfoRequestSuccess)||void 0===n||n.call(r,t,l,c),u=void 0,l){case j.LoginType.sso:if(!this.options.isIgnoreSignInSSO)return p=s.ssoLoginURL,this.processSSOStartRequest(eI(eI({},e),{isSSO:!0}),p),[2];u=new nW.Value(void 0);break;case j.LoginType.apple:u=new nW.Error(new j.Error.AuthCommonError(j.Error.ApiErrorCode.UseApple));break;case j.LoginType.google:u=new nW.Error(new j.Error.AuthCommonError(j.Error.ApiErrorCode.UseGoogle));break;case j.LoginType.facebook:u=new nW.Error(new j.Error.AuthCommonError(j.Error.ApiErrorCode.UseFacebook));break;default:u=new nW.Value(void 0)}return this.signInViewModel.setPayload(u,e),[3,4];case 3:d=m.sent(),h=j.Error.AuthCommonError.create(d);try{null===(i=(o=this.track).trackFail)||void 0===i||i.call(o,h,e,t)}catch(e){}return this.signInViewModel.setPayload(new nW.Error(h),e),[3,4];case 4:return[2]}})})},e.prototype.processSignInEmailRequest=function(e,t){return eL(this,void 0,void 0,function(){var r,n,o,i;return eN(this,function(a){switch(a.label){case 0:if(e.captchaToken)return[3,2];return[4,this.safeCaptchaExecute()];case 1:return n=a.sent(),[3,3];case 2:n=void 0,a.label=3;case 3:return r=n,e.captchaToken,o={email_login:eI(eI(eI({},ex(e,["captchaToken"])),this.options.isEnterpriseVisibleCaptchaEnabled?{visibleCaptchaToken:e.captchaToken}:{captchaToken:e.captchaToken}),{captchaTokenV3:r})},i={action:"SIGNIN",isSecureSignIn:this.signInViewModel.secureLogin,email:e.email,mfaMode:o.email_login.mode},[4,this.processSignInCommonRequest(i,t,o)];case 4:return a.sent(),[2]}})})},e.prototype.processSignInSocialStartRequest=function(e){var t={action:"SIGNIN",isSecureSignIn:this.signInViewModel.secureLogin,socialType:e.provider.type};this.signInViewModel.setPayload(new nW.Loading,t),this.processSocialStartRequest(t,e.provider,e.isReRequestPermissions)},e.prototype.processSignInSocialContinueRequest=function(e,t){var r,n;return eL(this,void 0,void 0,function(){var o,i,a;return eN(this,function(s){switch(s.label){case 0:if(this.signInViewModel.socialFlowModel.resetProviders([]),o=this.signInViewModel.socialFlowModel.getProviderByType(e.socialType),!(t.restoreError||!o))return[3,1];return i=j.Error.AuthCommonError.create(null!==(r=t.restoreError)&&void 0!==r?r:Error("Cannot find target social provider")),this.signInViewModel.setPayload(new nW.Error(i),e),[3,3];case 1:return a=eI({},null==o?void 0:o.getSigninConfig(t.requestData||{})),[4,this.processSignInCommonRequest(e,this.currentView,a,null===(n=t.restoredData)||void 0===n?void 0:n.initFlowUIState.formKey)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},e.prototype.processCaptchaRequest=function(e){var t=e.token,r=e.action;return eL(this,void 0,void 0,function(){var e,n,o,i,a,s;return eN(this,function(l){switch(l.label){case 0:e={action:r,isSecureSignIn:this.signInViewModel.secureLogin,email:"true"},l.label=1;case 1:if(l.trys.push([1,9,,10]),!this.options.isEnterpriseVisibleCaptchaEnabled)return[3,2];return this.signInViewModel.setCaptchaToken(t),this.signUpViewModel.setCaptchaToken(t),[3,4];case 2:return[4,this.api.captchaVerify(t)];case 3:n=l.sent().captchaToken,this.signInViewModel.setCaptchaToken(n),this.signUpViewModel.setCaptchaToken(n),l.label=4;case 4:if("SIGNUP"!==r)return[3,6];return[4,this.processSignUpEmailRequest(this.signUpViewModel.getEmailFlowData())];case 5:return l.sent(),[3,8];case 6:return[4,this.processSignInEmailRequest(this.signInViewModel.getEmailFlowSubmitData(),N.Captcha)];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:return o=l.sent(),i=new nW.Error(j.Error.AuthCommonError.create(o)),a="SIGNUP"===r?this.signUpViewModel:this.signInViewModel,s="SIGNUP"===r?N.NewAccount:N.SignInWithPassword,a.setPayload(i,e),this.setCurrentView(s),[3,10];case 10:return[2]}})})},e.prototype.processMFARequest=function(e,t){return eL(this,void 0,void 0,function(){return eN(this,function(r){switch(r.label){case 0:return[4,this.processSignInEmailRequest(e,t)];case 1:return r.sent(),[2]}})})},e.prototype.processSignUpEmailVerificationRequest=function(e){return eL(this,void 0,void 0,function(){return eN(this,function(t){switch(t.label){case 0:return[4,this.processSignUpEmailRequest(e)];case 1:return t.sent(),[2]}})})},e.prototype.processSignInCommonRequest=function(e,t,r,n){var o,i;return eL(this,void 0,void 0,function(){var a,s,l,c,u,p,d,h,m=this;return eN(this,function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),this.signInViewModel.setPayload(new nW.Loading,e),this.onAuthAttempt(e,t,n),a=o$(eI(eI({},null===(i=(o=this.options).getAssignedCustomFields)||void 0===i?void 0:i.call(o,e.action)),{implicitSignupAllowed:!1})),[4,this.api.loginGeneric(eI({custom_fields:a},r))];case 1:return l=(s=f.sent()).action,c=s.user,e=eI(eI({},e),{action:l}),[4,this.onAuthSuccess(e,t,c,n)];case 2:return f.sent(),this.signInViewModel.setPayload(new nW.Value(void 0),e),[3,4];case 3:return u=f.sent(),p=j.Error.AuthCommonError.create(u),this.onAuthFail(e,t,p,n),d=j.Error.matchErrCode(p.errCode,((h={})[j.Error.ApiErrorCode.SocialNoEmail]=function(){return m.setCurrentView(N.SignInEmailPermissionPopup),new nW.Value(void 0)},h[j.Error.ApiErrorCode.Mfa]=function(){var e,t=p.nestedError.context;return m.mfaViewModel.setContext({modes:null!==(e=null==t?void 0:t.modes)&&void 0!==e?e:[],lastChars:null==t?void 0:t.lastDigits}),m.setCurrentView(N.MFA),new nW.Value(void 0)},h[j.Error.ApiErrorCode.ShowCaptcha]=function(){return m.setCaptchaActionType("SIGNIN"),m.signInViewModel.setCaptchaToken(),m.setCurrentView(N.Captcha),new nW.Value(void 0)},h[j.Error.ApiErrorCode.UseSso]=function(){var t,r=null===(t=p.nestedError.context)||void 0===t?void 0:t.redirectTo;return r?(m.processSSOStartRequest(eI(eI({},e),{isSSO:!0}),r),new nW.Value(void 0)):new nW.Error(p)},h[j.Error.ApiErrorCode.ExplicitSignUpRequired]=function(){if(j.isAuthSocialContext(e))return m.signUpViaSignInViewModel.setSocialProviderType(e.socialType),m.setCurrentView(N.ExplicitTermsOfServicePopup),new nW.Value(void 0)},h.default=function(){return t===N.SecureSignIn||t===N.SignInInit||t===N.SignInWithPassword||m.setCurrentView(N.SignInWithPassword),new nW.Error(p)},h))||new nW.Error(p),this.signInViewModel.setPayload(d,e),[3,4];case 4:return[2]}})})},e.prototype.processSocialStartRequest=function(e,t,r,n){this.socialService.resetFlowData();try{null===(i=(o=this.options).onBeforeSocialRedirect)||void 0===i||i.call(o,e,this.socialService.appendToState)}catch(e){}var o,i,a=this.socialService.saveState({context:e,termsData:n,initFlowUIState:{formKey:this.currentView}});window.parent.location.href=t.getOAuthProviderUrl(a,r)},e.prototype.processSocialContinueRequest=function(e){var t,r,n,o,i;return eL(this,void 0,void 0,function(){var a;return eN(this,function(s){switch(s.label){case 0:a=(null===(t=e.restoredData)||void 0===t?void 0:t.context)&&j.isAuthSocialContext(null===(r=e.restoredData)||void 0===r?void 0:r.context)?null===(n=e.restoredData)||void 0===n?void 0:n.context:this.defaultSocialContext;try{null===(i=(o=this.options).onAfterSocialRedirectReturn)||void 0===i||i.call(o,a,this.socialService.getFromStateByKey)}catch(e){}if("SIGNUP"!==a.action)return[3,2];return[4,this.processSignUpSocialContinueRequest(a,e)];case 1:return s.sent(),[3,4];case 2:return[4,this.processSignInSocialContinueRequest(a,e)];case 3:s.sent(),s.label=4;case 4:return[2]}})})},e.prototype.processSSOStartRequest=function(e,t){var r=this.ssoService.generateStateKey(),n=this.ssoService.getRedirectLink(t,r);window&&window.parent?window.parent.location.href=n:document.location.href=n},e.prototype.processSSOContinueRequest=function(e){var t,r,n=e.action;return eL(this,void 0,void 0,function(){var e,o,i,a,s,l;return eN(this,function(c){switch(c.label){case 0:e={action:n,email:"sso_dummy",isSecureSignIn:this.signInViewModel.secureLogin,isSSO:!0},o="SIGNUP"===n?this.signUpViewModel:this.signInViewModel,c.label=1;case 1:if(c.trys.push([1,5,,6]),o.setPayload(new nW.Loading,e),a=null===(r=(t=this.options).getCurrentUser)||void 0===r?void 0:r.call(t))return[3,3];return[4,this.api.orAnonymous()];case 2:a=c.sent(),c.label=3;case 3:if((i=a).anonymous)throw Error("User is anonymous after the SSO flow");return[4,this.onAuthSuccess(e,this.currentView,i)];case 4:return c.sent(),o.setPayload(new nW.Value(void 0),e),[3,6];case 5:return s=c.sent(),l=j.Error.AuthCommonError.create(s),this.onAuthFail(e,this.currentView,l),o.setPayload(new nW.Error(l),e),[3,6];case 6:return[2]}})})},e.prototype.processResetPasswordRequest=function(e){var t,r,n,o,i,a,s,l,c,u=e.email;return eL(this,void 0,void 0,function(){var e;return eN(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),null===(n=null===(r=null===(t=this.track)||void 0===t?void 0:t.resetPasswordTracking)||void 0===r?void 0:r.trackAttempt)||void 0===n||n.call(r),this.resetPasswordViewModel.setPayload(new nW.Loading),[4,this.api.resetPassword(u).catch(function(e){if(!j.Error.isAuthLegacyApiError(e))throw e})];case 1:return p.sent(),this.setCurrentView(N.ResetPasswordEmailSent),this.resetPasswordViewModel.setPayload(new nW.Value(void 0)),null===(a=null===(i=null===(o=this.track)||void 0===o?void 0:o.resetPasswordTracking)||void 0===i?void 0:i.trackSuccess)||void 0===a||a.call(i),[3,3];case 2:return e=p.sent(),this.resetPasswordViewModel.setPayload(new nW.Error(e)),null===(c=null===(l=null===(s=this.track)||void 0===s?void 0:s.resetPasswordTracking)||void 0===l?void 0:l.trackFail)||void 0===c||c.call(l,e),[3,3];case 3:return[2]}})})},e.prototype.processSupportRequest=function(e){var t=e.email,r=e.comment;return eL(this,void 0,void 0,function(){var e;return eN(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),this.supportRequestViewModel.setPayload(new nW.Loading),[4,this.createMfaSupportTicket({name:"NA - Two Step Verification Form",email:t,comment:r})];case 1:return n.sent(),this.setCurrentView(N.SupportRequestSent),this.supportRequestViewModel.setPayload(new nW.Value(void 0)),[3,3];case 2:return e=n.sent(),this.supportRequestViewModel.setPayload(new nW.Error(e)),[3,3];case 3:return[2]}})})},e.prototype.onAuthAttempt=function(e,t,r,n){var o,i,a,s;try{null===(i=(o=this.track).trackAttempt)||void 0===i||i.call(o,e,t,n,r),null===(s=(a=this.options).onAuthAttempt)||void 0===s||s.call(a,e)}catch(e){}},e.prototype.onAuthSuccess=function(e,t,r,n,o){var i,a,s,l;return eL(this,void 0,void 0,function(){return eN(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),null===(a=(i=this.track).trackSuccess)||void 0===a||a.call(i,e,t,o,n),[4,null===(l=(s=this.options).onAuthSuccess)||void 0===l?void 0:l.call(s,e,r)];case 1:case 2:return c.sent(),[3,3];case 3:return[2]}})})},e.prototype.onAuthFail=function(e,t,r,n,o){var i,a,s,l;try{null===(a=(i=this.track).trackFail)||void 0===a||a.call(i,r,e,t,o,n),null===(l=(s=this.options).onAuthReject)||void 0===l||l.call(s,e,r)}catch(e){}},eR([tC,eV("design:type",String)],e.prototype,"currentView",void 0),eR([tC,eV("design:type",String)],e.prototype,"captchaActionType",void 0),eR([tF,eV("design:type",Object),eV("design:paramtypes",[])],e.prototype,"currentUser",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setCaptchaActionType",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",void 0)],e.prototype,"setCurrentView",null),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"onCallTrigger",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",Promise)],e.prototype,"processSignUpEmailRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"processSignUpSocialStartRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,Object]),eV("design:returntype",Promise)],e.prototype,"processSignUpSocialContinueRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,String,Object,Object,String]),eV("design:returntype",Promise)],e.prototype,"processSignUpCommonRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,String]),eV("design:returntype",Promise)],e.prototype,"processSignInCheckEmailRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,String]),eV("design:returntype",Promise)],e.prototype,"processSignInEmailRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"processSignInSocialStartRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,Object]),eV("design:returntype",Promise)],e.prototype,"processSignInSocialContinueRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",Promise)],e.prototype,"processCaptchaRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,String]),eV("design:returntype",Promise)],e.prototype,"processMFARequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",Promise)],e.prototype,"processSignUpEmailVerificationRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,String,Object,String]),eV("design:returntype",Promise)],e.prototype,"processSignInCommonRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,ox,Boolean,Object]),eV("design:returntype",void 0)],e.prototype,"processSocialStartRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",Promise)],e.prototype,"processSocialContinueRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,String]),eV("design:returntype",void 0)],e.prototype,"processSSOStartRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",Promise)],e.prototype,"processSSOContinueRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",Promise)],e.prototype,"processResetPasswordRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",Promise)],e.prototype,"processSupportRequest",null),e}(),ii=function(e){return ed.createElement("div",{style:{height:"".concat(8*e.multiplier,"px"),flexShrink:0}})},ia=function(e){return ed.createElement("div",{style:{display:"inline-block",width:"".concat(8*e.multiplier,"px"),flexShrink:0}})},is={hCommon:"typography_hCommon__PF6nC",h1:"typography_h1__5IwAT",h2:"typography_h2__sxmoB",h3:"typography_h3__AkmD7",h4:"typography_h4__dJIlY",h5:"typography_h5__Y3lLX",h6:"typography_h6__vzjIU",pCommon:"typography_pCommon__lZjHc",large:"typography_large__eAs0F",medium:"typography_medium__e1sUF",small:"typography_small__OhuLy",xsmall:"typography_xsmall__VpGEO",compact:"typography_compact__yazYi",tag:"typography_tag__h5iWY"},il=function(e){var t=e.htmlElement,r=e.className,n=e.children,o=e.color,i=e.bold,a=e.textAlign,s=e.textDecoration,l=e.style,c=e.qa,u=eI(eI(eI({},o?{color:n0[o]}:{}),{fontWeight:i?600:void 0,textAlign:a,textDecoration:s}),l);return n?ed.createElement(t,{style:u,className:r,"data-qa":c},n):null},ic=function(e){return ed.createElement(il,eI({htmlElement:e.htmlTag,className:is[e.styleTag||e.htmlTag]},e))},iu=function(e){return ed.createElement(il,eI({htmlElement:"h2",className:is.h2},e))},ip=function(e){return ed.createElement(il,eI({htmlElement:"h3",className:is.h3},e))},id=function(e){return ed.createElement(il,eI({htmlElement:"h4",className:is.h4},e))},ih=function(e){return ed.createElement(il,eI({htmlElement:"h5",className:is.h5},e))},im=function(e){return ed.createElement(il,eI({htmlElement:"div",className:is.large},e))},ig=function(e){return ed.createElement(il,eI({htmlElement:"div",className:is.medium},e))},iy=function(e){return ed.createElement(il,eI({htmlElement:"div",className:is.small},e))},iv=function(e){return ed.createElement(il,eI({htmlElement:"div",className:is.xsmall},e))},iE=function(e){var t=e.color,r=ex(e,["color"]);return ed.createElement(il,eI({htmlElement:"span",style:{color:t?n0[t]:"inherit"}},r))};function iw(){return(iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ib(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}function iS(e,t){return(iS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function iC(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,iS(e,t)}function ik(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var i_={disabled:!1},iA=ed.createContext(null),iF="unmounted",iT="exited",iP="entering",iM="entered",iO="exiting",iI=function(e){function t(t,r){n=e.call(this,t,r)||this;var n,o,i=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?i?(o=iT,n.appearStatus=iP):o=iM:o=t.unmountOnExit||t.mountOnEnter?iF:iT,n.state={status:o},n.nextCallback=null,n}iC(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===iF?{status:iT}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==iP&&r!==iM&&(t=iP):(r===iP||r===iM)&&(t=iO)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===iP?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===iT&&this.setState({status:iF})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,o=this.props.nodeRef?[n]:[ev.findDOMNode(this),n],i=o[0],a=o[1],s=this.getTimeouts(),l=n?s.appear:s.enter;if(!e&&!r||i_.disabled){this.safeSetState({status:iM},function(){t.props.onEntered(i)});return}this.props.onEnter(i,a),this.safeSetState({status:iP},function(){t.props.onEntering(i,a),t.onTransitionEnd(l,function(){t.safeSetState({status:iM},function(){t.props.onEntered(i,a)})})})},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:ev.findDOMNode(this);if(!t||i_.disabled){this.safeSetState({status:iT},function(){e.props.onExited(n)});return}this.props.onExit(n),this.safeSetState({status:iO},function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,function(){e.safeSetState({status:iT},function(){e.props.onExited(n)})})})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:ev.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!r||n){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===iF)return null;var t=this.props,r=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var n=ib(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ed.createElement(iA.Provider,{value:null},"function"==typeof r?r(e,n):ed.cloneElement(ed.Children.only(r),n))},t}(ed.Component);function ix(){}iI.contextType=iA,iI.propTypes={},iI.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ix,onEntering:ix,onEntered:ix,onExit:ix,onExiting:ix,onExited:ix},iI.UNMOUNTED=iF,iI.EXITED=iT,iI.ENTERING=iP,iI.ENTERED=iM,iI.EXITING=iO;var iR=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=ik(e.className,t):e.setAttribute("class",ik(e.className&&e.className.baseVal||"",t))})},iV=function(e){function t(){for(var t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1];t.addClass(o,i?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),o=n[0],i=n[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,o=n?(n&&r?r+"-":"")+e:r[e],i=n?o+"-active":r[e+"Active"],a=n?o+"-done":r[e+"Done"];return{baseClassName:o,activeClassName:i,doneClassName:a}},t}iC(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n,o=this.getClassNames(t)[r+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&i&&(o+=" "+i),"active"===r&&e&&e.scrollTop,o&&(this.appliedClasses[t][r]=o,n=o,e&&n&&n.split(" ").forEach(function(t){var r,n;return r=e,n=t,void(r.classList?r.classList.add(n):(r.classList?n&&r.classList.contains(n):-1!==(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+n+" "))||("string"==typeof r.className?r.className=r.className+" "+n:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+n)))}))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,o=r.active,i=r.done;this.appliedClasses[t]={},n&&iR(e,n),o&&iR(e,o),i&&iR(e,i)},r.render=function(){var e=this.props;e.classNames;var t=ib(e,["classNames"]);return ed.createElement(iI,iw({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(ed.Component);iV.defaultProps={classNames:""},iV.propTypes={};var iL={out:"out-in",in:"in-out"},iN=function(e,t,r){return function(){var n;e.props[t]&&(n=e.props)[t].apply(n,arguments),r()}},iU=((er={})[iL.out]=function(e){var t=e.current,r=e.changeState;return ed.cloneElement(t,{in:!1,onExited:iN(t,"onExited",function(){r(iP,null)})})},er[iL.in]=function(e){var t=e.current,r=e.changeState,n=e.children;return[t,ed.cloneElement(n,{in:!0,onEntered:iN(n,"onEntered",function(){r(iP)})})]},er),iD=((en={})[iL.out]=function(e){var t=e.children,r=e.changeState;return ed.cloneElement(t,{in:!0,onEntered:iN(t,"onEntered",function(){r(iM,ed.cloneElement(t,{in:!0}))})})},en[iL.in]=function(e){var t=e.current,r=e.children,n=e.changeState;return[ed.cloneElement(t,{in:!1,onExited:iN(t,"onExited",function(){n(iM,ed.cloneElement(r,{in:!0}))})}),ed.cloneElement(r,{in:!0})]},en),iB=function(e){function t(){for(var t,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={status:iM,current:null},t.appeared=!1,t.changeState=function(e,r){void 0===r&&(r=t.state.current),t.setState({status:e,current:r})},t}iC(t,e);var r=t.prototype;return r.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){var r,n;return null==e.children?{current:null}:t.status===iP&&e.mode===iL.in?{status:iP}:t.current&&!((r=t.current)===(n=e.children)||ed.isValidElement(r)&&ed.isValidElement(n)&&null!=r.key&&r.key===n.key)?{status:iO}:{current:ed.cloneElement(e.children,{in:!0})}},r.render=function(){var e,t=this.props,r=t.children,n=t.mode,o=this.state,i=o.status,a=o.current,s={children:r,current:a,changeState:this.changeState,status:i};switch(i){case iP:e=iD[n](s);break;case iO:e=iU[n](s);break;case iM:e=a}return ed.createElement(iA.Provider,{value:{isMounting:!this.appeared}},e)},t}(ed.Component);iB.propTypes={},iB.defaultProps={mode:iL.out};var ij={overlay:"modal_overlay__tE-gZ",shadow:"modal_shadow__Xim6d",modal:"modal_modal__MZ3UC",modalEnter:"modal_modalEnter__49A85",modalEnterActive:"modal_modalEnterActive__EUPG-",modalExit:"modal_modalExit__mDpdY",modalExitActive:"modal_modalExitActive__ScIkc",close:"modal_close__Y20k9",childrenContainer:"modal_childrenContainer__8o4GR"},iq=function(e){var t=e.children,r=e.className,n=e.show,o=e.onClose,i=e.closeByClickOutside,a=e.closeByIcon;return ed.createElement(iV,{in:n,classNames:{enter:ij.modalEnter,enterActive:ij.modalEnterActive,enterDone:ij.modalEnterActive,exit:ij.modalExit,exitActive:ij.modalExitActive,exitDone:ij.modalExitActive},timeout:500,mountOnEnter:!0,unmountOnExit:!0},ed.createElement("div",{className:ij.overlay},ed.createElement("div",{className:ij.shadow,onClick:i?o:void 0}),ed.createElement("div",{className:eb()(ij.modal,r)},a&&ed.createElement("div",{className:ij.close,onClick:o},ed.createElement(oe,{color:"neutral50"})),ed.createElement("div",{className:ij.childrenContainer},t))))},iG=function(e){function t(t){var r=e.call(this,t)||this;return t.show&&r.appendRootDiv(),r}return eO(t,e),t.prototype.componentDidMount=function(){this.appendRootDiv()},t.prototype.componentWillUnmount=function(){this.el&&document.body.removeChild(this.el)},t.prototype.render=function(){return this.el?ev.createPortal(ed.createElement(iq,eI({},this.props)),this.el):null},t.prototype.appendRootDiv=function(){this.el||(this.el=document.createElement("div"),document.body.appendChild(this.el))},t}(ed.Component),iH={modalContainer:"facebook_permissions_modalContainer__Wzqy6",highlight:"facebook_permissions_highlight__MB6ux",instructionsList:"facebook_permissions_instructionsList__0Degr",buttonsContainer:"facebook_permissions_buttonsContainer__LIUpb"},iW=function(e){var t=e.formKey,r=e.trackFormShow,n=e.show,o=e.onCloseHandler,i=e.onOpenFacebookSettings,a=ex(e,["formKey","trackFormShow","show","onCloseHandler","onOpenFacebookSettings"]);return(0,ed.useEffect)(function(){n&&(null==r||r(t))},[r,n,t]),ed.createElement(iG,eI({className:iH.modalContainer,closeByIcon:!0,show:n},a,{onClose:o}),ed.createElement(id,{qa:"requireEmailNotice",textAlign:"center"},"Permission required"),ed.createElement(ii,{multiplier:4}),ed.createElement(ig,null,"In order to proceed, please enable email permission on your Facebook account. Use the button below to open your Facebook settings and follow these steps:"),ed.createElement(ii,{multiplier:2}),ed.createElement("ol",{className:iH.instructionsList},ed.createElement("li",null,"Click ",ed.createElement("span",{className:iH.highlight},"Edit This")," above the Facebook continue button"),ed.createElement("li",null,"Make sure the toggle next to"," ",ed.createElement("span",{className:iH.highlight},"Email address")," is ON"),ed.createElement("li",null,"Click ",ed.createElement("span",{className:iH.highlight},"Continue")," to save your settings")),ed.createElement("div",{className:iH.buttonsContainer},ed.createElement(op,{compact:!0,text:"Open Facebook settings",color:z.FacebookBlue,onClick:i}),ed.createElement(od,{compact:!0,text:"Sign ".concat(t===N.SignUpEmailPermissionPopup?"up":"in"," with a different method"),onClick:o})))},iz={checkboxContainer:"default_checkboxContainer__6MWlr",disabled:"default_disabled__IwF4W",checkbox:"default_checkbox__DJB5A"},iK=function(e){var t=e.label,r=e.handleChange,n=e.qa,o=ex(e,["label","handleChange","qa"]);return ed.createElement("label",{className:eb()(iz.checkboxContainer,o.disabled&&iz.disabled)},ed.createElement("input",eI({"data-qa":n,className:iz.checkbox,type:"checkbox",onChange:function(e){return r(e.target.checked)}},o)),t)},iZ=ed.createElement(iv,{color:"neutral50"},"Send me product updates, Premium offers, and weekly progress reports."),i$=function(e){return ed.createElement(iK,{name:"GDPR",label:iZ,checked:e.isChecked,handleChange:e.onChange,qa:e.qa})};(C=eo||(eo={})).TermsOfService="terms",C.PrivacyPolicy="privacyPolicy",C.CAPrivacyPolicy="CAPrivacyNotice",(ei||(ei={})).CaliforniaPrivacyNoticeSection="sectionFaq_6Am8hu80siO36AQS4YJshV";var iY=function(e){return e?"blue50":void 0},iJ=function(e){var t=e.highlight,r=e.onClick;return ed.createElement(oA,{color:iY(t),onClick:r,target:"_blank",href:"/terms/customer-business-agreement"},"Customer Business Agreement")},iX=function(e){var t=e.highlight,r=e.onClick;return ed.createElement(oA,{color:iY(t),onClick:r,target:"_blank",href:"/terms","aria-label":"Grammarly Terms and Conditions"},"Terms and Conditions")},iQ=function(e){var t=e.highlight,r=e.onClick;return ed.createElement(oA,{color:iY(t),onClick:r,target:"_blank",href:"/privacy-policy","aria-label":"Grammarly Privacy Policy"},"Privacy Policy")},i0=function(e){var t=e.highlight,r=e.onClick;return ed.createElement(oA,{color:iY(t),onClick:r,target:"_blank",href:"/privacy-policy#".concat(ei.CaliforniaPrivacyNoticeSection)},"CA Privacy Notice")},i1={termsCheckboxContainer:"grammarly_termsCheckboxContainer__jFICh",highlight:"grammarly_highlight__zY97Q",highlightHover:"grammarly_highlightHover__m8oky"},i2=function(e){var t=e.trackPrivacyPolicyCALink,r=e.trackPrivacyPolicyLink,n=e.trackTermsOfServiceLink;return ed.createElement(ed.Fragment,null,"By signing up, you agree to the"," ",ed.createElement(iX,{highlight:!0,onClick:n})," and"," ",ed.createElement(iQ,{highlight:!0,onClick:r}),". California residents, see our"," ",ed.createElement(i0,{highlight:!0,onClick:t}),".")},i3=function(e){var t=e.trackBusinessAgreementLink,r=e.trackPrivacyPolicyCALink,n=e.trackPrivacyPolicyLink,o=e.trackTermsOfServiceLink;return ed.createElement(iv,{bold:!0},"By signing up, you agree to the"," ",ed.createElement(iJ,{highlight:!0,onClick:t})," and"," ",ed.createElement(iX,{highlight:!0,onClick:o}),", and acknowledge that you have read our"," ",ed.createElement(iQ,{highlight:!0,onClick:n}),". California residents, see our"," ",ed.createElement(i0,{highlight:!0,onClick:r}),".")},i5=function(e){var t=e.hasBusinessToSAgreement,r=ex(e,["hasBusinessToSAgreement"]);return t?ed.createElement(i3,eI({},r)):ed.createElement(i2,eI({},r))},i4=function(){return ed.createElement(iv,{color:"neutral50"},"You also agree to receive product-related marketing emails from Grammarly, which you can unsubscribe from at any time.")},i6=function(e){var t=e.isChecked,r=e.isHighlighted,n=e.onToggle,o=e.trackTermsOfServiceLink,i=e.trackPrivacyPolicyLink,a=e.trackPrivacyPolicyCALink;return ed.createElement("div",{className:eb()(i1.termsCheckboxContainer,!t&&i1.highlight,!t&&r&&i1.highlightHover)},ed.createElement(iK,{name:"terms",label:ed.createElement(iv,null,"I agree to the"," ",ed.createElement(iX,{highlight:!0,onClick:o})," and"," ",ed.createElement(iQ,{highlight:!0,onClick:i}),". California\xa0residents, see our"," ",ed.createElement(i0,{highlight:!0,onClick:a}),"."),checked:t,handleChange:n}))},i7=function(){return ed.createElement(iv,{color:"neutral50"},ed.createElement(iX,null)," \xb7 ",ed.createElement(iQ,null)," \xb7 ",ed.createElement(i0,null))},i9=function(){return ed.createElement(iv,{color:"neutral50"},"This site is protected by reCAPTCHA and the Google"," ",ed.createElement(oA,{target:"_blank",href:"https://policies.google.com/privacy","aria-label":"Google Privacy Policy"},"Privacy Policy")," ","and"," ",ed.createElement(oA,{target:"_blank",href:"https://policies.google.com/terms","aria-label":"Google Terms of Service"},"Terms of Service")," ","apply.")},i8=nA(function(e){var t=e.model,r=e.trackToSLinkFollow,n=e.className,o=e.tosTextCentered,i=(0,ed.useCallback)(function(){return null==r?void 0:r(j.Tracking.ToSLinkType.BusinessAgreement)},[r]),a=(0,ed.useCallback)(function(){return null==r?void 0:r(j.Tracking.ToSLinkType.TermsOfService)},[r]),s=(0,ed.useCallback)(function(){return null==r?void 0:r(j.Tracking.ToSLinkType.PrivacyPolicy)},[r]),l=(0,ed.useCallback)(function(){return null==r?void 0:r(j.Tracking.ToSLinkType.CAPrivacyPolicy)},[r]);return ed.createElement("div",{className:n},t.isGDPR&&ed.createElement(ed.Fragment,null,ed.createElement(i$,{isChecked:t.isMarketingEmailsAllowed,onChange:t.onMarketingEmailChange,qa:"ckbxSignupGDPR"}),ed.createElement(ii,{multiplier:2})),t.isExplicitToSAgreement&&ed.createElement(i6,{isChecked:t.isTermsOfServiceAccepted,isHighlighted:t.isHighlighted,onToggle:t.onTermsOfServiceChange,hasBusinessToSAgreement:t.hasBusinessToSAgreement,trackBusinessAgreementLink:i,trackTermsOfServiceLink:a,trackPrivacyPolicyLink:s,trackPrivacyPolicyCALink:l}),!t.isExplicitToSAgreement&&ed.createElement(iv,{textAlign:o?"center":void 0},ed.createElement(i5,{hasBusinessToSAgreement:t.hasBusinessToSAgreement,trackBusinessAgreementLink:i,trackTermsOfServiceLink:a,trackPrivacyPolicyLink:s,trackPrivacyPolicyCALink:l})))}),ae={modalContainer:"explicit_terms_of_service_modalContainer__I2M3Y",buttonsContainer:"explicit_terms_of_service_buttonsContainer__xInit",tosContainer:"explicit_terms_of_service_tosContainer__FEWAK"},at=function(e){var t=e.show,r=e.model,n=e.trackFormShow,o=e.trackToSLinkFollow,i=e.trackSubmitButtonClick,a=e.onCallTrigger,s=e.onCloseHandler;(0,ed.useEffect)(function(){t&&(null==n||n(N.ExplicitTermsOfServicePopup))},[n,t]);var l=(0,ed.useCallback)(function(){var e=eU(r.validateSocialFlow(),2),t=e[0],n=e[1],o=r.getSocialProvider();if(!o){a(D.ToSignIn);return}null==i||i({action:"SIGNUP",socialType:o.type},N.ExplicitTermsOfServicePopup,n,r.termsModel.getData()),t&&a(r0(B.SignUpSocialFlowStart,r.getSocialFlowStartData(o)))},[a,r]),c=(0,ed.useCallback)(function(){a(D.ToSignIn)},[a]);return ed.createElement(iG,{className:ae.modalContainer,closeByIcon:!0,show:t,onClose:s},ed.createElement(id,{textAlign:"center"},"Welcome to Grammarly"),ed.createElement(ii,{multiplier:3}),ed.createElement(ig,{textAlign:"center"},"Create your Grammarly account with your ",r.socialProviderType," ","account"),ed.createElement(ii,{multiplier:5}),ed.createElement(i8,{model:r.termsModel,trackToSLinkFollow:o}),ed.createElement("div",{className:ae.buttonsContainer},ed.createElement(op,{qa:"btnAgreeAndSignUp",compact:!0,text:"Agree and Sign up",color:z.Green,onClick:l}),ed.createElement(od,{qa:"btnBackToSignIn",compact:!0,text:"Back to Sign in",onClick:c})))},ar={mainContainer:"base-module_mainContainer__EeHK9",titleContainer:"base-module_titleContainer__HPPtA",supplementaryLink:"base-module_supplementaryLink__XPTJ-"},an=function(e){var t=e.children,r=e.hideLink,n=e.linkText,o=e.onLinkClick,i=e.linkHref,a=e.linkQa,s=e.headingHtmlTag,l=!r&&n;return ed.createElement("div",{className:ar.titleContainer},t&&ed.createElement(ic,{color:"neutral90",styleTag:"h3",htmlTag:void 0===s?"h3":s},t),l&&(i?ed.createElement(iy,null,ed.createElement(oA,{className:ar.supplementaryLink,qa:a,href:i,onClick:o,target:"_parent"},n)):ed.createElement(oa,{className:ar.supplementaryLink,qa:a,onClick:o},n)))},ao=function(e){var t=e.isGDPR;return ed.createElement(ed.Fragment,null,ed.createElement(i9,null),!t&&ed.createElement(ed.Fragment,null,ed.createElement(ii,{multiplier:1.5}),ed.createElement(i4,null)))},ai={formContainer:"form_formContainer__au2IZ"},aa=function(e){var t=e.children,r=e.qa,n=e.className,o=e.onSubmit,i=ex(e,["children","qa","className","onSubmit"]);return ed.createElement("form",eI({},i,{className:eb()(ai.formContainer,n),"aria-label":"form",onSubmit:function(e){e.preventDefault(),o&&o(e)},method:"post",target:"_self","data-qa":r||"form-component"}),t)},as={alertContainer:"alert_alertContainer__K-Xcb",successContainer:"alert_successContainer__4GjX3",successIconContainer:"alert_successIconContainer__ZoDYO",infoAlertContainer:"alert_infoAlertContainer__EUJXs"},al=function(e){return ed.createElement("div",{className:as.alertContainer,"data-qa":e.qa},e.children)},ac=function(e){return ed.createElement("div",{className:as.successContainer},ed.createElement("div",{className:as.successIconContainer},ed.createElement(ot,null)),e.children)},au={resetPassword:"validation_resetPassword__G8yg8"},ap=function(e){return e?"There's already a Grammarly account associated with this email through the ".concat(e," sign-in method. Please choose ").concat(e," below to sign in."):"There's already a Grammarly account associated with this email through a social sign-in method. Please choose a social provider below to sign in."},ad=function(e){return e?"You chose the ".concat(e," sign-in method when you created your account. Please choose ").concat(e," below to sign in."):"You chose a social sign-in method when you created your account. Please choose a social provider below to sign in."},ah=function(e,t){switch(e){case L.UiErrorCode.AcceptTermsOfService:return"Please agree to our Terms and Conditions before signing up.";case L.ApiErrorCode.UseEmail:return"This email is already linked to a Grammarly account. Please sign in with your email address and password.";case L.ApiErrorCode.RateLimited:return"Sign-up is disabled because of too many attempts. Please wait a moment and try again.";case L.ApiErrorCode.UseApple:return ap(j.Social.Type.Apple);case L.ApiErrorCode.UseFacebook:return ap(j.Social.Type.Facebook);case L.ApiErrorCode.UseGoogle:return ap(j.Social.Type.Google);case L.ApiErrorCode.UseSocial:return ap();case L.ApiErrorCode.SocialNoEmail:return"We couldn't complete your registration because this Facebook account was created with a phone number. Please try a different sign-up method.";case L.ApiErrorCode.InvalidOAuthCode:return"We are unable to create an account with ".concat((null==t?void 0:t.socialProvider)||"selected provider",". Please wait a moment and try again.")}return(null==t?void 0:t.socialProvider)?"Unable to create an account with ".concat(t.socialProvider,". Please try a different sign-up method."):"Unable to create an account with your email address. Please try a different sign-up method."},am=function(e,t){switch(e){case L.ApiErrorCode.RateLimited:return"Sign-in is disabled because of too many attempts. Please wait a moment and try again.";case L.ApiErrorCode.UseApple:return ad(j.Social.Type.Apple);case L.ApiErrorCode.UseFacebook:return ad(j.Social.Type.Facebook);case L.ApiErrorCode.UseGoogle:return ad(j.Social.Type.Google);case L.ApiErrorCode.UseSocial:return ad();case L.ApiErrorCode.InvalidOAuthCode:return"Unable to sign in with ".concat((null==t?void 0:t.socialProvider)||"selected provider",". Please wait a moment and try again.");case L.ApiErrorCode.UseEmail:return"We’ve noticed you tried to sign in with ".concat((null==t?void 0:t.socialProvider)||"a social provider",", but it looks like you used a password when you joined Grammarly. Please sign in with ").concat((null==t?void 0:t.hasEmail)?"a password":"an email and password"," below.")}return(null==t?void 0:t.socialProvider)?"Unable to sign in with ".concat(t.socialProvider,". Please wait a moment and try again."):ed.createElement(ed.Fragment,null,"Your password is incorrect or this account doesn’t exist. Please"," ",(null==t?void 0:t.onResetPasswordClick)?ed.createElement(oa,{className:au.resetPassword,onClick:t.onResetPasswordClick},"reset your password"):"reset your password"," ","or check"," ",ed.createElement(oA,{target:"_blank",href:null==t?void 0:t.signInEmailFailureSupportUrl},"this article."))},af=function(e){var t=e.error;return ed.createElement(al,null,ah(t.errCode))},ag=function(e){var t=e.error,r=e.socialProvider,n=e.onGotToResetPassword,o=e.signInEmailFailureSupportUrl;return ed.createElement(al,{qa:"txtLoginError"},am(t.errCode,{socialProvider:r,signInEmailFailureSupportUrl:o,onResetPasswordClick:n}))},ay={socialContainer:"social_socialContainer__7No2V",socialButtonsContainer:"social_socialButtonsContainer__LljHM"},av=nA(function(e){var t=e.signInEmailFailureSupportUrl,r=e.model,n=e.copyType,o=e.isSubmitButtonsDisabled,i=e.onSubmit,a=e.onButtonMouseEnter,s=e.onButtonMouseLeave;if(!r.isEnabled)return null;var l=r.isLoading,c=r.activeProviderType;return ed.createElement("div",{className:ay.socialContainer},r.flowErrorAlert&&ed.createElement(ed.Fragment,null,ed.createElement(ii,{multiplier:1}),"SIGNUP"===r.actionType?ed.createElement(af,{error:r.flowErrorAlert}):ed.createElement(ag,{signInEmailFailureSupportUrl:t,error:r.flowErrorAlert}),ed.createElement(ii,{multiplier:1})),ed.createElement("ul",{className:ay.socialButtonsContainer},r.enabledProviders.map(function(e){var t=o||l&&c!==e.type?W.Disabled:l?W.Loading:W.Active;return ed.createElement("li",{key:e.type},ed.createElement(og,{authSocialType:e.type,text:"".concat(ov[n]," ").concat(e.type),status:t,onClick:function(){return i(e)},onMouseEnter:a,onMouseLeave:s,showArrow:!0}))})))}),aE={container:"signin_link_container__k81rR"},aw=function(e){return ed.createElement("div",{className:aE.container},ed.createElement(iy,{bold:!0},ed.createElement(oA,{href:e.linkHref,onClick:e.onLinkClick,color:"green70"},"Sign in with existing account")),ed.createElement(on,{color:"green60"}))},ab={textFieldsContainer:"signup_textFieldsContainer__-G9p-",field:"signup_field__3Hmz7",extraFieldsContainer:"signup_extraFieldsContainer__Bt8fh",show:"signup_show__HBm8W",checkboxesContainer:"signup_checkboxesContainer__UAVY0",termsCheckboxContainer:"signup_termsCheckboxContainer__P1Fdi",highlight:"signup_highlight__dStAp"},aS=function(e){var t;function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.onEmailSubmit=function(){return eL(r,void 0,void 0,function(){var e,r,n,o,i,a,s,l;return eN(this,function(c){switch(c.label){case 0:return r=(e=this.props).model,n=e.onCallTrigger,o=e.trackSubmitButtonClick,i=e.onAssignEmailVerificationTreatment,[4,r.validateEmailFlow()];case 1:return s=(a=eU.apply(void 0,[c.sent(),2]))[0],l=a[1],null==o||o({action:"SIGNUP",email:"true"},t.formKey,l,r.termsModel.getData()),s&&(r.setEmailVerificationExperiment(null==i?void 0:i()),n(r0(B.SignUpEmailSubmit,r.getEmailFlowData()))),r.emailFlowModel.isEmailActivated||r.emailFlowModel.activate(),[2]}})})},r.onSocialSubmit=function(e){var n=r.props,o=n.model,i=n.onCallTrigger,a=n.trackSubmitButtonClick;n.showFacebookOutageDisabledModal;var s=eU(o.validateSocialFlow(),2),l=s[0],c=s[1];null==a||a({action:"SIGNUP",socialType:e.type},t.formKey,c,o.termsModel.getData()),l&&i(r0(B.SignUpSocialFlowStart,o.getSocialFlowStartData(e)))},r.onSupplementaryFlowLinkClick=function(){r.props.onCallTrigger(D.ToSignIn)},r}return eO(r,e),t=r,r.prototype.componentDidMount=function(){var e,r;null===(r=(e=this.props).trackFormShow)||void 0===r||r.call(e,t.formKey)},r.prototype.render=function(){var e=this.props,t=e.signInEmailFailureSupportUrl,r=e.model,n=e.hideTitle,o=e.hideTitleLink,i=e.supplementaryFlowLink,a=e.supplementaryFlowType,s=e.trackToSLinkFollow,l=e.titleHeadingHtmlTag,c={linkHref:a===j.Props.SupplementaryFlowType.Link?i:void 0,onLinkClick:a===j.Props.SupplementaryFlowType.BuiltIn?this.onSupplementaryFlowLinkClick:void 0};return ed.createElement(aa,{onSubmit:this.onEmailSubmit},!n&&ed.createElement(an,eI({hideLink:o,linkText:"I have an account"},c,{linkQa:"supplementaryFlowLink",headingHtmlTag:l}),"Sign up"),ed.createElement("div",{className:ab.textFieldsContainer},ed.createElement(nI,{className:ab.field,model:r.emailFlowModel.emailModel,onFocus:r.emailFlowModel.activate,qa:"txtSignupEmail"}),ed.createElement("div",{className:eb()(ab.extraFieldsContainer,r.emailFlowModel.isEmailActivated&&ab.show)},ed.createElement(ok,{className:ab.field,model:r.emailFlowModel.passwordModel,qa:"txtSignupPassword"}),ed.createElement(oP,{className:ab.field,model:r.emailFlowModel.nameModel,qa:"txtSignupName"}))),ed.createElement(i8,{className:ab.checkboxesContainer,tosTextCentered:!0,model:r.termsModel,trackToSLinkFollow:s}),r.emailFlowModel.flowError&&ed.createElement(ed.Fragment,null,ed.createElement(af,{error:r.emailFlowModel.flowError}),ed.createElement(ii,{multiplier:1}),r.emailFlowModel.isUseEmailFlowError&&ed.createElement(ed.Fragment,null,ed.createElement(aw,eI({},c)),ed.createElement(ii,{multiplier:1}))),ed.createElement(oh,{text:r.termsModel.isExplicitToSAgreement?"Sign up":"Agree and Sign up",status:r.emailFlowSubmitButtonStatus,onMouseEnter:r.termsModel.onHighlightStart,onMouseLeave:r.termsModel.onHighlightEnd,qa:"btnSignupSubmit"}),ed.createElement(ii,{multiplier:2}),r.socialFlowModel.isEnabled&&ed.createElement(ed.Fragment,null,ed.createElement(av,{signInEmailFailureSupportUrl:t,model:r.socialFlowModel,copyType:"SIGNUP",isSubmitButtonsDisabled:r.emailFlowModel.payload.isLoading(),onSubmit:this.onSocialSubmit,onButtonMouseEnter:r.termsModel.onHighlightStart,onButtonMouseLeave:r.termsModel.onHighlightEnd}),ed.createElement(ii,{multiplier:2})),ed.createElement(ao,{isGDPR:r.termsModel.isGDPR}))},r.formKey=N.NewAccount,r=t=eR([nA],r)}(ed.PureComponent),aC={troubleshootLinkContainer:"troubleshoot_link_troubleshootLinkContainer__enp3R",troubleshootLink:"troubleshoot_link_troubleshootLink__pIpjK"},ak=function(e){var t=e.children,r=ex(e,["children"]);return ed.createElement("div",{className:aC.troubleshootLinkContainer},r.href?ed.createElement(oA,eI({className:aC.troubleshootLink},r),t):ed.createElement(oa,eI({className:aC.troubleshootLink},r),t))},a_=nA(function(e){var t=e.model,r=e.trackFormShow,n=e.onCallTrigger;(0,ed.useEffect)(function(){null==r||r(N.ResetPassword)},[r]);var o=(0,ed.useCallback)(function(){return eL(void 0,void 0,void 0,function(){return eN(this,function(e){switch(e.label){case 0:return[4,t.validate()];case 1:return eU.apply(void 0,[e.sent(),1])[0]&&n(r0(B.ResetPasswordSubmit,t.getData())),[2]}})})},[t,n]);return ed.createElement(aa,{onSubmit:o},ed.createElement(an,{linkText:"Back to sign-in",onLinkClick:function(){return n(D.ToSignIn)}},"Password Reset"),ed.createElement(ig,{color:"neutral60"},"Enter your email, and we’ll send you instructions on how to reset your password."),ed.createElement(ii,{multiplier:4}),ed.createElement(nI,{qa:"txtResetPasswordEmail",model:t.emailModel,readOnly:t.payload.isLoading()}),ed.createElement(ii,{multiplier:2}),t.payload.isError()&&ed.createElement(ed.Fragment,null,ed.createElement(al,null,t.payload.getErrorMessage()||"Unable to send password reset instructions at this time. Please try again."),ed.createElement(ii,{multiplier:1})),ed.createElement(oh,{qa:"btnResetPassword",status:t.payload.isLoading()?W.Loading:W.Active,text:"Send me reset instructions"}),ed.createElement(ii,{multiplier:2}),ed.createElement(ak,{qa:"linkForgotEmail",onClick:function(){return n(D.ToForgotEmail)}},"Forgot email?"))}),aA=function(e){var t=e.children;return ed.createElement("div",{className:ar.mainContainer},t)},aF=function(e){var t=e.trackFormShow,r=e.onCallTrigger;return(0,ed.useEffect)(function(){null==t||t(N.ResetPasswordEmailSent)},[t]),ed.createElement(aA,null,ed.createElement(an,{linkText:"Back to sign-in",onLinkClick:function(){return r(D.ToSignIn)}},"Password Reset"),ed.createElement(ig,{color:"neutral60"},"Enter your email, and we’ll send you instructions on how to reset your password."),ed.createElement(ii,{multiplier:4}),ed.createElement(ac,null,ed.createElement(iy,null,"If there's a Grammarly account connected to this email address, we'll email you password reset instructions.",ed.createElement("br",null),"If you don't receive the email, please try again and make sure you enter the email address associated with your Grammarly account.")),ed.createElement(ii,{multiplier:2}),ed.createElement(ou,{text:"Back to sign-in",onClick:function(){return r(D.ToSignIn)}}),ed.createElement(ii,{multiplier:2}),ed.createElement(ak,{onClick:function(){return r(D.ToForgotEmail)}},"Forgot email?"))},aT={list:"forgot_email_list__ONzT6",resetPassword:"forgot_email_resetPassword__Vj9tL"},aP=function(e){var t=e.supportNewRequestUrl,r=e.trackFormShow,n=e.onCallTrigger;return(0,ed.useEffect)(function(){null==r||r(N.ForgotEmail)},[r]),ed.createElement(aA,null,ed.createElement(an,{linkQa:"linkBackToLogin",linkText:"Back to sign-in",onLinkClick:function(){return n(D.ToSignIn)}}),ed.createElement(id,null,"Retrieving the email you used to sign up for Grammarly"),ed.createElement(ii,{multiplier:2}),ed.createElement(ig,{color:"neutral60"},ed.createElement(ig,null,"Search every email account you use for the word “Grammarly” to find any emails we’ve sent you."),ed.createElement(ii,{multiplier:2}),ed.createElement(ig,{bold:!0},"You can also try this:"),ed.createElement("ul",{className:aT.list},ed.createElement("li",null,"Try logging in with any and all email addresses / passwords you may have used to create an account, or that you regularly use elsewhere."),ed.createElement("li",null,"Enter all email addresses you use into our"," ",ed.createElement(oa,{className:aT.resetPassword,onClick:function(){return n(D.ToResetPassword)}},"password reset")," ","form (you must be logged out). If an account exists, you’ll receive an email with further details.")),"If you still can’t locate your Grammarly log-in details, please"," ",ed.createElement(oA,{href:t,target:"_blank",color:"blue50"},"contact support")," ","and provide the following information: last four digits of the credit card number you used for Grammarly, card network type (e.g.,\xa0VISA), the charge date, the charge amount, your PayPal email address (if you paid with PayPal)."))},aM=nN?ed.useEffect:ed.useLayoutEffect;function aO(){return(aO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var aI=({styles:e={},...t})=>ed.createElement("svg",aO({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("path",{d:"M15.948 7.086a8 8 0 10-7.861 8.913l-.016-1.445a6.554 6.554 0 116.44-7.303l1.437-.165z",fill:"#4A6EE0"})),ax={container:"loader_container__YzoTA",preloader:"loader_preloader__gST0T",spin:"loader_spin__C3nny",spinnerAnimation:"loader_spinnerAnimation__fLtFO"},aR=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eO(t,e),t.prototype.render=function(){return ed.createElement("div",{className:eb()(ax.container,this.props.className),"data-qa":"loader"},ed.createElement("span",{className:ax.preloader}))},t}(ed.PureComponent),aV=function(e){return ed.createElement(aI,eI({},e,{className:eb()(ax.spinnerAnimation,e.className)}))},aL=function(e){var t=e.srcUrl,r=e.siteKey,n=e.onSuccess,o=e.onError,i=e.logger,a=e.isEnterpriseVisibleCaptchaEnabled,s=eU((0,ed.useState)(!1),2),l=s[0],c=s[1],u=(0,ed.useCallback)(function(){var e,t=a?null===(e=window.grecaptcha)||void 0===e?void 0:e.enterprise:window.grecaptcha;i.info("[ReCaptchaButton] successfully loaded reCAPTCHA ".concat(a?"enterprise instance":"instance")),null==t||t.render("g-recaptcha",{sitekey:r,callback:"buttonCaptchaSuccess","error-callback":"buttonCaptchaError"}),null==t||t.ready(function(){return c(!0)})},[c,r]),p=(0,ed.useCallback)(function(e){i.info("[ReCaptchaButton] user submitted successful response to reCAPTCHA"),n(e)},[n]),d=(0,ed.useCallback)(function(){i.error("[ReCaptchaButton] reCAPTCHA encountered an error"),null==o||o()},[o]);return aM(function(){return i.info("[ReCaptchaButton] initialize component"),window.buttonCaptchaOnLoad=u,window.buttonCaptchaSuccess=p,window.buttonCaptchaError=d,function(){delete window.buttonCaptchaOnLoad,delete window.buttonCaptchaSuccess,delete window.buttonCaptchaError}},[]),ed.createElement(ed.Fragment,null,!nN&&ed.createElement(eT.q,null,ed.createElement("script",{type:"text/javascript",src:"".concat(t,"?onload=buttonCaptchaOnLoad&render=explicit"),async:!0,defer:!0})),ed.createElement("div",{id:"g-recaptcha","data-qa":"g-recaptcha"}),!l&&ed.createElement(aR,null))},aN={captchaButtonWrapper:"captcha_captchaButtonWrapper__-LnEZ"},aU=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSuccess=function(e){var r=t.props.action;t.props.onCallTrigger(r0(B.CaptchaSubmit,{token:e,action:r}))},t}return eO(t,e),t.prototype.componentDidMount=function(){var e,r;null===(r=(e=this.props).trackFormShow)||void 0===r||r.call(e,t.formKey)},t.prototype.render=function(){var e=this.props,t=e.supportNewRequestUrl,r=e.siteKey,n=e.srcUrl,o=e.logger,i=e.isEnterpriseVisibleCaptchaEnabled;return ed.createElement(aA,null,ed.createElement(an,null,"Verify that you’re human"),ed.createElement("div",{className:aN.captchaButtonWrapper},ed.createElement(aL,{isEnterpriseVisibleCaptchaEnabled:i,logger:o.getLogger("captchaButton"),siteKey:r,srcUrl:n,onSuccess:this.onSuccess})),ed.createElement(ig,{color:"neutral60"},"Please click the checkbox above to prove that you’re not a robot."),ed.createElement(ii,{multiplier:4}),ed.createElement(ak,{href:t,target:"_blank"},"Having trouble?"),ed.createElement(ii,{multiplier:2}),ed.createElement(i9,null))},t.formKey=N.Captcha,t}(ed.PureComponent),aD=function(e){return ed.createElement("div",{className:as.infoAlertContainer},e.children)},aB=function(e){var t=e.signInEmailFailureSupportUrl,r=e.error,n=e.socialProvider,o=e.hasEmail;return ed.createElement(aD,null,am(r.errCode,{socialProvider:n,hasEmail:o,signInEmailFailureSupportUrl:t}))},aj={textFieldsContainer:"signin_textFieldsContainer__WIXUm",passwordContainer:"signin_passwordContainer__MHFRv",show:"signin_show__4almJ"},aq=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onSubmit=function(){return eL(t,void 0,void 0,function(){var e,t,r,n,o,i,a;return eN(this,function(s){switch(s.label){case 0:return t=(e=this.props).model,r=e.onCallTrigger,n=e.trackSubmitButtonClick,[4,t.validateEmailFlow()];case 1:return i=(o=eU.apply(void 0,[s.sent(),2]))[0],a=o[1],null==n||n({action:"SIGNIN",email:"true"},this.formKey,a),i&&(t.isEmailFlowInitialStep?r(r0(B.SignInCheckEmailSubmit,t.getEmailFlowCheckEmailData())):r(r0(B.SignInEmailFlowSubmit,t.getEmailFlowSubmitData()))),[2]}})})},t.onSocialSubmit=function(e){var r=t.props,n=r.model,o=r.onCallTrigger,i=r.trackSubmitButtonClick,a=r.showFacebookOutageDisabledModal,s=eU(n.validateSocialFlow(),2),l=s[0],c=s[1];if(null==i||i({action:"SIGNIN",socialType:e.type},t.formKey,c),e.type===j.Social.Type.Facebook&&a){n.setShowFacebookLoginDisabledModal(!0);return}l&&o(r0(B.SignInSocialFlowStart,n.getSocialFlowStartData(e)))},t.onSupplementaryFlowLinkClick=function(){t.props.onCallTrigger(D.ToSignUp)},t.onTroubleshootLinkClick=function(){t.props.onCallTrigger(D.ToResetPassword)},t}return eO(t,e),Object.defineProperty(t.prototype,"formKey",{get:function(){return this.props.model.emailFlowModel.isInitialStep?N.SignInInit:N.SignInWithPassword},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e,t;null===(t=(e=this.props).trackFormShow)||void 0===t||t.call(e,this.formKey)},t.prototype.render=function(){var e=this.props,t=e.model,r=e.hideTitle,n=e.hideTitleLink,o=e.titleHeadingHtmlTag,i=e.supplementaryFlowLink,a=e.supplementaryFlowType,s=e.signInEmailFailureSupportUrl,l={linkHref:a===j.Props.SupplementaryFlowType.Link?i:void 0,onLinkClick:a===j.Props.SupplementaryFlowType.BuiltIn?this.onSupplementaryFlowLinkClick:void 0};return ed.createElement(aa,{onSubmit:this.onSubmit},!r&&ed.createElement(an,eI({hideLink:n,linkText:"I don't have an account"},l,{linkQa:"supplementaryFlowLink",headingHtmlTag:o}),"Sign in"),t.socialFlowModel.flowErrorNotice&&ed.createElement(ed.Fragment,null,ed.createElement(aB,{signInEmailFailureSupportUrl:s,error:t.socialFlowModel.flowErrorNotice,hasEmail:t.emailFlowModel.hasEmailValue,socialProvider:t.socialFlowModel.activeProviderType}),ed.createElement(ii,{multiplier:1})),ed.createElement("div",{className:aj.textFieldsContainer},ed.createElement(nI,{model:t.emailFlowModel.emailModel,qa:"txtEmail"}),ed.createElement("div",{className:eb()(aj.passwordContainer,!t.emailFlowModel.isInitialStep&&aj.show)},ed.createElement(ok,{model:t.emailFlowModel.passwordModel,qa:"txtPassword"}))),t.emailFlowModel.flowError&&ed.createElement(ed.Fragment,null,ed.createElement(ag,{signInEmailFailureSupportUrl:s,error:t.emailFlowModel.flowError,onGotToResetPassword:this.onTroubleshootLinkClick}),ed.createElement(ii,{multiplier:1})),ed.createElement(oh,{text:t.emailFlowModel.isInitialStep?"Continue":"Sign in",status:t.emailFlowSubmitButtonStatus,qa:"btnLogin"}),ed.createElement(ii,{multiplier:1.5}),ed.createElement(ak,{qa:"linkForgotPassword",onClick:this.onTroubleshootLinkClick},"Can’t sign in?"),ed.createElement(ii,{multiplier:2}),t.socialFlowModel.isEnabled&&ed.createElement(ed.Fragment,null,ed.createElement(av,{signInEmailFailureSupportUrl:s,model:t.socialFlowModel,copyType:"SIGNIN",isSubmitButtonsDisabled:t.emailFlowModel.payload.isLoading(),onSubmit:this.onSocialSubmit}),ed.createElement(ii,{multiplier:2})),ed.createElement(i9,null),ed.createElement(ii,{multiplier:1.5}),ed.createElement(i7,null))},t=eR([nA],t)}(ed.PureComponent),aG=function(e){var t=e.qa,r=e.className,n=e.onChange,o=e.onFocus,i=e.onBlur,a=ex(e,["qa","className","onChange","onFocus","onBlur"]);return ed.createElement("textarea",eI({"data-qa":t,className:eb()(nF.input,r),onChange:n,onFocus:o,onBlur:i},a))},aH={inputAndPlaceholderContainer:"default_text_area_inputAndPlaceholderContainer__lP8GK",inputAndSuffixContainer:"default_text_area_inputAndSuffixContainer__Do0o8",input:"default_text_area_input__uWBJt",placeholder:"default_text_area_placeholder__IoV7J",minimized:"default_text_area_minimized__oJOxq",messageContainer:"default_text_area_messageContainer__CpRc3",show:"default_text_area_show__h79sz",message:"default_text_area_message__Z9ltZ",error:"default_text_area_error__px1Sk"},aW=function(e){var t=e.onChange,r=e.onFocus,n=e.onBlur,o=e.placeholder,i=e.validity,a=void 0===i?{status:G.Valid}:i,s=a.status,l=a.message,c=ex(e,["onChange","onFocus","onBlur","placeholder","validity"]),u=eU(ed.useState(c.autoFocus),2),p=u[0],d=u[1],h=!p&&(s===G.Invalid||s===G.Required),m=p||!!c.value;return ed.createElement("div",{className:eb()(h&&aH.error)},ed.createElement("div",{className:aH.inputAndPlaceholderContainer},ed.createElement("label",{className:eb()(aH.placeholder,m&&aH.minimized),htmlFor:c.name},o),ed.createElement("div",{className:aH.inputAndSuffixContainer},ed.createElement(aG,eI({className:aH.input},c,{onChange:function(e){return t(e.target.value)},onFocus:function(e){d(!0),null==r||r(e)},onBlur:function(e){d(!1),null==n||n(e)}})))),ed.createElement("div",{className:eb()(aH.messageContainer,l&&h&&aH.show)},ed.createElement("div",{className:aH.message},l)))},az=nA(function(e){var t=e.model,r=ex(e,["model"]);return ed.createElement(aW,eI({validity:t.validity,value:t.value,onChange:t.setValue,onBlur:t.onBlur},r))}),aK=nA(function(e){var t=e.model,r=e.trackFormShow,n=e.onCallTrigger,o=(0,ed.useCallback)(function(){t.validate()&&n(r0(B.SupportRequestSubmit,t.getData()))},[t,n]),i=(0,ed.useCallback)(function(){n(D.ToSignIn)},[n]);return(0,ed.useEffect)(function(){null==r||r(N.SupportRequest)},[r]),ed.createElement(aa,{onSubmit:o},ed.createElement(an,{linkText:"Back to sign-in",onLinkClick:i}),ed.createElement(id,null,"It will take several business days to get back into your account using Grammarly’s help."),ed.createElement(ii,{multiplier:2}),ed.createElement(ig,{color:"neutral60"},"Grammarly wants to make sure that you - and not somebody who stole your password and is pretending to be you - are the one trying to get into your account. This process requires at least 5 days."),ed.createElement(ii,{multiplier:2}),ed.createElement(ig,{color:"neutral60"},"If you’re sure you don’t have access to any of your second step verification methods, please give us a brief description of your problem and we will get back to you."),ed.createElement(ii,{multiplier:2}),ed.createElement(az,{name:"request",rows:5,placeholder:"Please describe your issue",model:t.textModel,autoFocus:!0}),ed.createElement(ii,{multiplier:2}),t.payload.isError()&&ed.createElement(ed.Fragment,null,ed.createElement(al,null,"Unable to send support request. Please wait a moment and try again."),ed.createElement(ii,{multiplier:1})),ed.createElement(oh,{status:t.payload.isLoading()?W.Loading:W.Active,text:"Submit request"}))}),aZ=function(e){var t=e.trackFormShow,r=e.onCallTrigger;return(0,ed.useEffect)(function(){null==t||t(N.SupportRequestSent)},[t]),ed.createElement(aA,null,ed.createElement(an,{linkText:"Back to sign-in",onLinkClick:function(){return r(D.ToSignIn)}},"We’ve got your request"),ed.createElement(ii,{multiplier:4}),ed.createElement(ac,null,ed.createElement(iy,null,"Please allow several business days for one of our representatives to contact you.")),ed.createElement(ii,{multiplier:2}),ed.createElement(ou,{text:"Back to sign-in",onClick:function(){return r(D.ToSignIn)}}))};function a$(){return(a$=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var aY=({styles:e={},...t})=>ed.createElement("svg",a$({width:"9",height:"16",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("path",{d:"M1.53 1l6.147 6.994L2.07 14.6",stroke:"#4C7AF1",strokeWidth:"1.5",fill:"none",strokeLinecap:"round"}));function aJ(){return(aJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var aX=({styles:e={},...t})=>ed.createElement("svg",aJ({width:"18",height:"25",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("g",{fill:"none",fillRule:"evenodd"},ed.createElement("path",{d:"M3.564 1h10.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v17.873c0 .892-.093 1.215-.267 1.54a1.81 1.81 0 01-.756.757c-.326.174-.65.267-1.54.267H3.563c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 01-.757-.756c-.174-.326-.267-.65-.267-1.54V3.563c0-.892.093-1.215.267-1.54a1.81 1.81 0 01.756-.757c.326-.174.65-.267 1.54-.267z",stroke:"#1C1E29",strokeWidth:"2",fill:"#FFF",fillRule:"nonzero"}),ed.createElement("path",{d:"M4 2h10a1 1 0 00-1 1 1 1 0 01-1 1H6a1 1 0 01-1-1 1 1 0 00-1-1z",fill:"#1C1E29",fillRule:"nonzero"}),ed.createElement("path",{d:"M5.5 12.5V16A1.5 1.5 0 007 17.5h4a1.5 1.5 0 001.5-1.5v-3.5h-7zm1 0h5V11a2.5 2.5 0 00-5 0v1.5z",stroke:"#1C1E29"})));function aQ(){return(aQ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a0=({styles:e={},...t})=>ed.createElement("svg",aQ({width:"25",height:"20",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("g",{transform:"translate(1 1)",fill:"none",fillRule:"evenodd"},ed.createElement("path",{stroke:"#1C1E29",strokeWidth:"2",fill:"#FFF",fillRule:"nonzero",d:"M23 3v15H3"}),ed.createElement("path",{stroke:"#1C1E29",strokeWidth:"2",fill:"#FFF",fillRule:"nonzero",d:"M0 0h19v14H0z"}),ed.createElement("rect",{fill:"#1C1E29",x:"3",y:"5",width:"1",height:"4",rx:".5"}),ed.createElement("rect",{fill:"#1C1E29",x:"5",y:"5",width:"1",height:"4",rx:".5"}),ed.createElement("rect",{fill:"#1C1E29",x:"7",y:"5",width:"1",height:"4",rx:".5"}),ed.createElement("rect",{fill:"#1C1E29",x:"11",y:"5",width:"1",height:"4",rx:".5"}),ed.createElement("rect",{fill:"#1C1E29",x:"13",y:"5",width:"1",height:"4",rx:".5"}),ed.createElement("rect",{fill:"#1C1E29",x:"15",y:"5",width:"1",height:"4",rx:".5"})));function a1(){return(a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a2=({styles:e={},...t})=>ed.createElement("svg",a1({width:"22",height:"22",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("g",{transform:"translate(1 1)",fill:"none"},ed.createElement("circle",{stroke:"#1C1E29",strokeWidth:"2",fill:"#FFF",cx:"10",cy:"10",r:"10"}),ed.createElement("path",{d:"M13.076 7.66c0 1.12-.56 1.876-1.512 2.576-.896.658-.994 1.064-.994 1.918v.35H9.422v-.392c0-1.498.462-1.988 1.568-2.842.56-.434.854-.868.854-1.624 0-.42-.154-.784-.42-1.064-.308-.322-.784-.504-1.288-.504-1.218 0-1.876.91-1.876 2.002H7C7 6.498 8.078 5 10.136 5c1.582 0 2.94.994 2.94 2.66zm-2.352 7.49H9.24v-1.54h1.484v1.54z",fill:"#1C1E29"})));function a3(){return(a3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a5=({styles:e={},...t})=>ed.createElement("svg",a3({width:"23",height:"24",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("g",{fill:"none",fillRule:"evenodd"},ed.createElement("path",{d:"M22 14.933v7L15.838 17H3a2 2 0 01-2-2V3a2 2 0 012-2h17a2 2 0 012 2v11.933z",stroke:"#1C1E29",strokeWidth:"2"}),ed.createElement("path",{fill:"#1C1E29",d:"M5 7h13v1H5zm0 3h13v1H5z"})));function a4(){return(a4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a6=({styles:e={},...t})=>ed.createElement("svg",a4({width:"23",height:"24",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("g",{fill:"none",fillRule:"evenodd"},ed.createElement("path",{d:"M22 14.933v7L15.838 17H3a2 2 0 01-2-2V3a2 2 0 012-2h17a2 2 0 012 2v11.933z",stroke:"#A6ADC9",strokeWidth:"2"}),ed.createElement("path",{fill:"#A6ADC9",d:"M5 7h13v1H5zm0 3h13v1H5z"})));function a7(){return(a7=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var a9=({styles:e={},...t})=>ed.createElement("svg",a7({width:"13",height:"11",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("g",{fill:"none",fillRule:"evenodd"},ed.createElement("path",{fill:"#F6BC41",d:"M6.5 0L13 11H0z"}),ed.createElement("path",{fill:"#FFF",d:"M6 4h1v3H6z"}),ed.createElement("path",{stroke:"#FFF",strokeWidth:".5",fill:"#FFF",d:"M6 8h1v1H6z"}))),a8={method:"mode_list_method__YFu7u",iconWrapper:"mode_list_iconWrapper__u8mW-",methodInfo:"mode_list_methodInfo__mAazM",disabledMethod:"mode_list_disabledMethod__vOngo",phoneNumber:"mode_list_phoneNumber__A0Q1n"},se=function(e){var t,r;e.isDisabled||(null===(t=null==e?void 0:e.tracking)||void 0===t||t.call(e),null===(r=e.action)||void 0===r||r.call(e))},st=nA(function(e){var t=e.disableSms,r=e.mfaModesEnabled,n=e.phoneNumber,o=e.tracking,i=e.onShowSupport,a=e.onSwitchMode,s=[r.has(j.MfaSettings.Mode.phone)&&{isDisabled:t,key:j.MfaSettings.Mode.phone,Icon:t?a6:a5,method:j.MfaSettings.Mode.phone,name:ed.createElement("span",null,"Get a verification code at"," ",ed.createElement("span",{className:a8.phoneNumber},n)),text:t?ed.createElement(ed.Fragment,null,ed.createElement(a9,null),"Too many verification codes already sent."):"Standard messaging rates apply",tracking:function(){var e;return null===(e=null==o?void 0:o.trackSmsMethodButtonClick)||void 0===e?void 0:e.call(o)},action:function(){return a(j.MfaSettings.Mode.phone)}},r.has(j.MfaSettings.Mode.totp)&&{key:j.MfaSettings.Mode.totp,Icon:aX,method:j.MfaSettings.Mode.totp,name:"Verify with an app",text:"Get a verification from an authentication app",tracking:function(){var e;return null===(e=null==o?void 0:o.trackTotpMethodButtonClick)||void 0===e?void 0:e.call(o)},action:function(){return a(j.MfaSettings.Mode.totp)},qa:"useVerificationCode"},{key:j.MfaSettings.Mode.backup,Icon:a0,name:"Enter a backup code",text:"Use previously saved backup codes to sign in",tracking:function(){var e;return null===(e=null==o?void 0:o.trackBackupCodeMethodButtonClick)||void 0===e?void 0:e.call(o)},action:function(){return a(j.MfaSettings.Mode.backup)},qa:"enterBackupCode"},{key:"support-request",Icon:a2,name:"Contact Support",text:"Please allow several business days for a response.",tracking:function(){var e;return null===(e=null==o?void 0:o.trackContactSupportMethodButtonClick)||void 0===e?void 0:e.call(o)},action:function(){return i()}}].filter(Boolean);return ed.createElement(ed.Fragment,null,ed.createElement(ih,{textAlign:"center"},"Try another way to sign in"),ed.createElement(ii,{multiplier:3}),s.map(function(e){var t=e.Icon;return e?ed.createElement("div",{"data-qa":e.qa,className:eb()(a8.method,e.isDisabled&&a8.disabledMethod),key:e.key,onClick:function(){return se(e)}},ed.createElement("div",{className:a8.iconWrapper},ed.createElement(t,null)),ed.createElement("div",{className:a8.methodInfo},ed.createElement(iy,null,e.name),ed.createElement(ii,{multiplier:.5}),ed.createElement(iv,{color:"neutral50"},e.text)),ed.createElement(aY,null)):null}))}),sr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={score:1,isAnimation:!1},t.startAnimation=function(){if(!t.state.isAnimation){var e=t.props.score||100,r=t.props.interval;t.setState({score:1,isAnimation:!0},function(){return t.doAnimation(e,r)})}},t.doAnimation=function(e,r){t.state.score<e?(t.setState(function(e){return{score:e.score+1}}),t.timeoutId=window.setTimeout(function(){return t.doAnimation(e,r)},r/e)):t.setState({isAnimation:!1})},t}return eO(t,e),t.prototype.componentWillUnmount=function(){this.timeoutId&&clearTimeout(this.timeoutId)},t.prototype.render=function(){var e=this.props.radius,t=e*Math.PI;return ed.createElement("div",{className:this.props.className},ed.createElement("svg",{fill:"none",width:2*e,height:2*e,onClick:this.startAnimation},ed.createElement("circle",{stroke:"#EFF0F7",cx:e,cy:e,r:e/2,strokeWidth:e}),ed.createElement("circle",{stroke:"#C6CBDE",cx:e,cy:e,r:e/2,strokeWidth:e,strokeDasharray:"".concat(t*this.state.score/100," ").concat(t),transform:"rotate(-90, ".concat(e,", ").concat(e,")")})))},t}(ed.PureComponent);function sn(){return(sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var so=({styles:e={},...t})=>ed.createElement("svg",sn({width:"99",height:"96",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("g",{fill:"none",fillRule:"evenodd"},ed.createElement("path",{d:"M53 92c25.405 0 46-16.458 46-46 0-12.21-3-26.1-10.763-34.336C79.849 2.765 66.194 0 53 0 27.595 0 4.497 16.103 7 46s20.595 46 46 46z",fill:"#F9FAFF"}),ed.createElement("path",{d:"M76.78 86.357C80.45 74.852 82.522 68.13 83 66.19c.717-2.91-1.498-8.391-6.22-10.623-4.721-2.23-30.184 2.758-27.232 10.623C51.516 71.433 53 74.055 54 74.055V92c4.875-.224 8.95-.777 12.221-1.659 3.273-.881 6.792-2.209 10.56-3.984z",fill:"#E4E6F2"}),ed.createElement("path",{d:"M65 52.933l12.489 5.862a7 7 0 013.663 8.56l-7.117 21.241M53 55.936l-3.843 7.866a6 6 0 001.439 7.148L53 73.055v-17.12z",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),ed.createElement("g",{transform:"rotate(7 -27.4 63.2)"},ed.createElement("rect",{fill:"#FFF",x:"3.465",y:"3.605",width:"72",height:"53",rx:"2"}),ed.createElement("path",{stroke:"#3B3E4D",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",d:"M0 0h72v53H0z"}),ed.createElement("g",{transform:"translate(8 8)"},ed.createElement("rect",{fill:"#68DEC2",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#F1F2FA",x:"9",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#F1F2FA",x:"42",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#F1F2FA",x:"51",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#F1F2FA",x:"18",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#F1F2FA",x:"33",width:"6",height:"8",rx:"1"}),ed.createElement("path",{fill:"#F1F2FA",d:"M27 3h3v2h-3z"})),ed.createElement("g",{transform:"translate(8 22)"},ed.createElement("rect",{fill:"#F1F2FA",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#68DEC2",x:"9",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#68DEC2",x:"42",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#F1F2FA",x:"51",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#F1F2FA",x:"18",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#68DEC2",x:"33",width:"6",height:"8",rx:"1"}),ed.createElement("path",{fill:"#F1F2FA",d:"M27 3h3v2h-3z"})),ed.createElement("g",{transform:"translate(8 36)"},ed.createElement("rect",{fill:"#F1F2FA",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#F1F2FA",x:"9",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#68DEC2",x:"18",width:"6",height:"8",rx:"1"}),ed.createElement("rect",{fill:"#F1F2FA",x:"33",width:"6",height:"8",rx:"1"}),ed.createElement("path",{fill:"#F1F2FA",d:"M27 3h3v2h-3z"}))),ed.createElement("path",{d:"M58.176 47.864a5.5 5.5 0 015.5 5.5v18.5h-11v-18.5a5.5 5.5 0 015.5-5.5z",fill:"#E4E6F2"}),ed.createElement("path",{d:"M53.734 94.21h0A13.398 13.398 0 0153 89.835V51.973C53 49.227 55.178 47 57.865 47c2.686 0 4.864 2.227 4.864 4.973l-.075 15.94A6.883 6.883 0 0065 73.122h0",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),si={container:"mfa_container__9bPZx",containerCenter:"mfa_containerCenter__Cv2Jn",emailLabel:"mfa_emailLabel__FU3WI",illustrationWrapper:"mfa_illustrationWrapper__5iH4S",mfaIllustration:"mfa_mfaIllustration__hacWa",backupIllustration:"mfa_backupIllustration__ycHCz",resendableMode:"mfa_resendableMode__bttR4",links:"mfa_links__lCmml",link:"mfa_link__OLdvl",resendCodeWrapper:"mfa_resendCodeWrapper__PyB01",progress:"mfa_progress__Kbvl-",hide:"mfa_hide__BIZIL",disabledLink:"mfa_disabledLink__NdxnY",tooltip:"mfa_tooltip__s3X2Z",errorWrapper:"mfa_errorWrapper__IQAO3",errorMessage:"mfa_errorMessage__-Vugy",input:"mfa_input__l3aag"},sa=nA(function(e){var t=e.model;return ed.createElement(ed.Fragment,null,ed.createElement("div",{className:si.illustrationWrapper},ed.createElement(so,{className:si.backupIllustration})),ed.createElement("input",{"data-qa":"backupCodeInput",className:si.input,autoFocus:!0,type:"text",pattern:"[A-Za-z0-9]*",autoComplete:"one-time-code",value:t.code,onChange:function(e){return t.setCode(e.target.value)},inputMode:"text",placeholder:"Backup code"}),ed.createElement(iy,{textAlign:"center"},"Enter one of the backup codes you previously created."),ed.createElement(ii,{multiplier:3}),ed.createElement("div",{className:si.containerCenter},ed.createElement(iK,{checked:t.isSaveBrowser,label:ed.createElement(iv,{color:"neutral50"},"Don’t ask for codes on this browser"),handleChange:t.setIsSaveBrowser,name:"SaveBrowser"})))}),ss={input:"input_code_input__dJJZ1",container:"input_code_container__p--D5",third:"input_code_third__OWe1q"};(k=ea||(ea={}))[k.BackSpace=8]="BackSpace",k[k.LeftArrow=37]="LeftArrow",k[k.RightArrow=39]="RightArrow";var sl=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fieldCount=6,t.lockInputs=!1,t.inputs=Array(t.fieldCount).fill(function(){return ed.createRef()}).map(function(e){return e()}),t.state={values:Array(t.fieldCount).fill("")},t.updateValues=function(e,r){t.setState(function(n){return{values:t.replaceValues(n.values,e,r)}},function(){t.props.onChange(t.getCode())})},t.replaceValues=function(e,r,n){var o=""===n?[""]:n.substring(0,t.fieldCount-r).split("");return t.splice(e,r,o)},t.splice=function(e,t,r){var n=e.slice();return n.splice.apply(n,eD([t,r.length],eU(r),!1)),n},t.clearCode=function(){t.setState({values:Array(t.fieldCount).fill("")}),t.goto(0)},t.getCode=function(){return t.state.values.join("")},t}return eO(t,e),t.prototype.componentDidUpdate=function(e){this.props.shouldClearCode&&!e.shouldClearCode&&this.clearCode()},t.prototype.goto=function(e){var t=this.inputs[Math.max(0,Math.min(this.fieldCount-1,e))];t.current.focus(),t.current.select()},t.prototype.handleChange=function(e,t){if(!this.lockInputs){var r=e.target.value.replace(/[^\d]/g,"");this.updateValues(t,r),this.goto(Math.min(t+r.length,this.fieldCount))}},t.prototype.handleKeyDown=function(e,t){if(!this.lockInputs){var r=e.keyCode;r===ea.BackSpace?(e.preventDefault(),this.updateValues(t,""),this.goto(t-1)):r===ea.LeftArrow?(e.preventDefault(),this.goto(t-1)):r===ea.RightArrow&&(e.preventDefault(),this.goto(t+1))}},t.prototype.render=function(){var e=this;return ed.createElement("div",{className:ss.container},this.inputs.map(function(t,r){return ed.createElement("input",{disabled:e.props.disabled,ref:t,className:eb()(ss.input,2===r&&ss.third),autoFocus:0===r,key:"input_".concat(r),type:"text",pattern:"[0-9]*",autoComplete:"one-time-code",value:e.state.values[r],onFocus:function(e){return e.target.select()},onChange:function(t){return e.handleChange(t,r)},onKeyDown:function(t){return e.handleKeyDown(t,r)},inputMode:"numeric","data-qa":"txtCodes".concat(r)})}))},t}(ed.Component);function sc(){return(sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var su=({styles:e={},...t})=>ed.createElement("svg",sc({width:"106",height:"98",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("g",{fill:"none",fillRule:"evenodd"},ed.createElement("path",{d:"M103.472 39.48C87.095-4.36 50.952-4.36 25.564 4.94.176 14.241-7.751 42 8.378 78.146c19.558 43.833 111.47 5.173 95.094-38.667z",fill:"#F9FAFF"}),ed.createElement("path",{d:"M94.378 72.146h-82v-44a4 4 0 014-4h74a4 4 0 014 4v30m0 3.978v2.022",stroke:"#3B3E4D",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),ed.createElement("g",{transform:"translate(42.095 38.98)"},ed.createElement("path",{stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4.5l7.025 5L18 4.536"}),ed.createElement("rect",{stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",y:".5",width:"23",height:"16",rx:"2"}),ed.createElement("rect",{fill:"#68DEC2",style:{mixBlendMode:"multiply"},x:"3",y:"4.5",width:"23",height:"16",rx:"2"})),ed.createElement("path",{d:"M12.942 78.146h-2.564a2 2 0 01-2-2v-2a2 2 0 012-2h86a2 2 0 012 2v2a2 2 0 01-2 2H20.416",stroke:"#3B3E4D",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"})));function sp(){return(sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var sd=({styles:e={},...t})=>ed.createElement("svg",sp({width:"93",height:"93",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("g",{fill:"none",fillRule:"evenodd"},ed.createElement("path",{d:"M47 92c25.405 0 46-16.458 46-46 0-12.21-3-26.1-10.763-34.336C73.849 2.765 60.194 0 47 0 21.595 0-1.503 16.103 1 46s20.595 46 46 46z",fill:"#F9FAFF"}),ed.createElement("path",{d:"M81 78.434c-3.854-5.034-7.074-10.771-8.166-15.582-.678-2.985.06-10.923 1.2-17.378.695-3.946 2.147-7.872 1.748-8.213-1.052-.9-4.91-1.668-9.282 3.087-4.372 4.754-37.075-7.956-38.122-9.088-.698-.754-2.157-2.206-4.378-4.354h-2.442l-1.515 1.205-.56 2.438 1.212 3.343L24 37.982l.378 8.328v19.75c.852 3.845 2.732 6.988 5.64 9.427 2.907 2.44 7.133 3.007 12.68 1.702 7.406 5.337 12.252 9.924 14.538 13.76C67.358 88.903 75.214 84.833 81 78.434z",fill:"#E4E6F2"}),ed.createElement("path",{d:"M35 10h25a7 7 0 017 7v52a8 8 0 01-8 8H35a7 7 0 01-7-7V17a7 7 0 017-7z",fill:"#FFF",fillRule:"nonzero"}),ed.createElement("path",{d:"M57.715 92a101.007 101.007 0 00-4.507-5.523c-1.36-1.532-3.052-3.161-5.077-4.888a100.142 100.142 0 00-5.844-4.587m27.379-40.683c5.098-1.223 3.02.685 1.213 12.863-1.807 12.177-.5 15.02 1.358 19.244.531 1.208 1.813 3.164 3.845 5.869 1.13 1.503 2.769 3.542 4.918 6.116",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),ed.createElement("path",{d:"M29.348 30.962V15.178a6 6 0 016-6h23a6 6 0 016 6v56a6 6 0 01-6 6h-23a5.981 5.981 0 01-4.257-1.772"}),ed.createElement("path",{d:"M24.4 38.328l-4.29-5.237a4.287 4.287 0 01.04-5.483 3.256 3.256 0 014.806-.186c1.547 1.568 2.607 2.5 3.38 3.284M28.378 43V14.936a6 6 0 016-6h23a6 6 0 016 6v56a6 6 0 01-6 6h-23c-2.173 0-6 .525-6-7.075v-2.183",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),ed.createElement("path",{d:"M45.378 33.936h5a6 6 0 016 6v12a5 5 0 01-5 5h-4a5 5 0 01-5-5v-15a3 3 0 013-3z",fill:"#68DEC2",style:{mixBlendMode:"multiply"}}),ed.createElement("path",{d:"M46.378 32.936h0a4 4 0 014 4v5h-8v-5a4 4 0 014-4z",stroke:"#3B3E4D",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),ed.createElement("path",{d:"M24.378 46.936c.131-2.003 1.05-3.005 2.76-3.005h3.686c1.835.267 2.752 1.769 2.752 4.505 0 1.933-1.44 3.5-3.219 3.5h-3.22",stroke:"#3B3E4D",strokeWidth:"2",fill:"#E4E6F2",strokeLinecap:"round",strokeLinejoin:"round"}),ed.createElement("path",{d:"M24.378 54.936c.131-2.003 1.05-3.005 2.76-3.005h3.686c1.835.267 2.752 1.769 2.752 4.505 0 1.933-1.44 3.5-3.219 3.5h-3.22m.001 0h3.686c1.835.267 2.752 1.768 2.752 4.505 0 1.933-1.44 3.5-3.219 3.5h-3.22c-1.523 0-2.759-1.344-2.759-3v-2",stroke:"#3B3E4D",strokeWidth:"2",fill:"#E4E6F2",strokeLinecap:"round",strokeLinejoin:"round"}),ed.createElement("path",{d:"M39.878 14.436h11.184",stroke:"#3B3E4D",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),ed.createElement("path",{d:"M40.378 41.936h12a1 1 0 011 1v6a4 4 0 01-4 4h-6a4 4 0 01-4-4v-6a1 1 0 011-1z",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),sh=nA(function(e){var t=e.model,r=t.currentMode===j.MfaSettings.Mode.email;return ed.createElement(ed.Fragment,null,ed.createElement("div",{className:si.illustrationWrapper},r?ed.createElement(su,{className:si.mfaIllustration}):ed.createElement(sd,{className:si.mfaIllustration})),ed.createElement("div",{className:si.containerCenter},ed.createElement(sl,{onChange:t.setCode})),ed.createElement(iy,{textAlign:"center"},t.isResendableCode?ed.createElement(ed.Fragment,null,"Verification code was sent to"," ",ed.createElement("span",{className:si.resendableMode},ed.createElement(iE,{color:"green60"},r?t.email:t.phoneNumber),"."),ed.createElement("br",null),"Enter the code above to continue."):"Enter verification code from Authenticator App."),ed.createElement(ii,{multiplier:5}),!r&&ed.createElement("div",{className:si.containerCenter},ed.createElement(iK,{checked:t.isSaveBrowser,label:ed.createElement(iv,{color:"neutral50"},"Don’t ask again on this device"),handleChange:t.setIsSaveBrowser,name:"SaveBrowser"})))}),sm=nA(function(e){var t=e.model,r=e.tracking,n=e.supportNewRequestUrl,o=ed.createRef(),i=t.currentMode===j.MfaSettings.Mode.email,a=t.currentMode===j.MfaSettings.Mode.backup;return(0,ed.useEffect)(function(){return t.startCountdown(o),function(){return t.clearTimer()}},[t,t.currentView]),ed.createElement(aa,{onSubmit:t.onSubmitCode},a?ed.createElement(sa,{model:t}):ed.createElement(sh,{model:t}),ed.createElement(ii,{multiplier:2}),t.errorMsg&&ed.createElement(ed.Fragment,null,ed.createElement(al,null,t.errorMsg),ed.createElement(ii,{multiplier:2})),ed.createElement(oh,{qa:"btnLogin",text:i?"Next":"Sign in securely",status:t.codeSubmitButtonStatus}),ed.createElement("div",{className:si.links},t.isResendableCode&&ed.createElement("div",{className:si.resendCodeWrapper},ed.createElement(sr,{ref:o,radius:8,interval:t.intervalBetweenSMS,className:t.disableResend?si.progress:si.hide}),ed.createElement(nQ,{placement:"top",widthPx:170,content:t.disableResend?"Please wait 30 seconds to resend the code.":"Click to resend the code."},ed.createElement(oA,{className:t.disableResend?si.disabledLink:si.link,onClick:function(){var e;null===(e=null==r?void 0:r.trackResendSMSCodeButtonClick)||void 0===e||e.call(r),t.resendCode(o)}},"Resend the code")),ed.createElement(ed.Fragment,null,"\xa0 \xb7 \xa0")),i?ed.createElement(oA,{className:si.link,onClick:function(){var e;null===(e=null==r?void 0:r.trackEmailVerificationContactSupportButtonClick)||void 0===e||e.call(r)},href:n,target:"_blank"},"Contact support"):ed.createElement(oA,{qa:"tryAnotherWay",className:si.link,onClick:function(){var e;null===(e=null==r?void 0:r.trackTryAnotherWayMfaButtonClick)||void 0===e||e.call(r),t.setView(Q.OtherMethods)}},"Try another way")))}),sf=function(e){var t;function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.progress=ed.createRef(),t.onSwitchMode=function(e){t.props.model.switchMode(e)},t.onBackToSignIn=function(){t.props.onCallTrigger(D.ToSignIn)},t.onSupportRequest=function(){t.props.onCallTrigger(D.ToSupportRequest)},t}return eO(r,e),t=r,r.prototype.componentDidMount=function(){var e,r;null===(r=(e=this.props).trackFormShow)||void 0===r||r.call(e,t.formKey)},r.prototype.render=function(){var e=this.props.model;return ed.createElement(aA,null,ed.createElement(an,{linkText:"Back to sign-in",onLinkClick:this.onBackToSignIn},"Two-Step Verification"),ed.createElement(iy,{color:"neutral50",textAlign:"center"},ed.createElement("span",{className:si.emailLabel,title:e.email},"You're signing in as ",e.email)),ed.createElement(ii,{multiplier:5}),e.currentView===Q.Code?this.renderCodeForm():this.renderOtherMethods())},r.prototype.renderCodeForm=function(){var e=this.props,t=e.model,r=e.tracking,n=e.supportNewRequestUrl;return ed.createElement(sm,{model:t,tracking:r,supportNewRequestUrl:n})},r.prototype.renderOtherMethods=function(){var e=this.props,t=e.model,r=e.tracking;return ed.createElement(st,{mfaModesEnabled:t.mfaModesEnabled,phoneNumber:t.phoneNumber,disableSms:t.disableSms,tracking:r,onSwitchMode:this.onSwitchMode,onShowSupport:this.onSupportRequest})},r.formKey=N.MFA,r=t=eR([nA],r)}(ed.PureComponent),sg={container:"signup_email_verification-module_container__Jp0np",containerCenter:"signup_email_verification-module_containerCenter__4sjhO",emailLabel:"signup_email_verification-module_emailLabel__Ai7H6",illustration:"signup_email_verification-module_illustration__cqUqb",resendableMode:"signup_email_verification-module_resendableMode__w98rR",progress:"signup_email_verification-module_progress__X4Vgu",hide:"signup_email_verification-module_hide__geLsd",disabledLink:"signup_email_verification-module_disabledLink__6NMOs",tooltip:"signup_email_verification-module_tooltip__PYsf1",input:"signup_email_verification-module_input__898RO",backButton:"signup_email_verification-module_backButton__IMhsV",dividerContainer:"signup_email_verification-module_dividerContainer__RI13j",or:"signup_email_verification-module_or__OtQ1R"},sy=nA(function(e){var t=e.model;return ed.createElement(ed.Fragment,null,ed.createElement("div",{className:sg.containerCenter},ed.createElement(sl,{disabled:!t.canSubmitSignUpWithCode,onChange:t.onSetCode,shouldClearCode:t.shouldClearCodeInput})),t.errorMsg&&ed.createElement(iv,{color:"red60",textAlign:"center"},t.errorMsg))}),sv={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0},unmounted:{opacity:0}},sE=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.render=function(){return ed.createElement(ed.Fragment,null,t.props.children)},t}return eO(t,e),t}(ed.Component);function sw(e){var t=e.children,r=e.active,n=e.duration,o=void 0===n?100:n,i=e.onSwitchComplete,a=ed.Children.toArray(t).find(function(e){var t;return e===r||e.type===sE&&(null===(t=null==e?void 0:e.props)||void 0===t?void 0:t.name)===r})||null,s={transition:"opacity ".concat(o,"ms ease-in-out"),opacity:0};return ed.createElement(iB,null,ed.createElement(iI,{in:!1,key:r,onEnter:function(){i&&setTimeout(function(){return i(r)},o)},addEndListener:function(e,t){return e.addEventListener("transitionend",t,!1)}},function(e){return ed.createElement("div",{style:eI(eI({},s),sv[e])},a)}))}var sb={linkWrapper:"interactive_link-module_linkWrapper__La8oB"};function sS(){return(sS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var sC=({styles:e={},...t})=>ed.createElement("svg",sS({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),ed.createElement("path",{d:"M1.333 8.519l4.103 4.148 9.23-9.334",stroke:"#4A6EE0",strokeWidth:"1.5",strokeLinecap:"round"})),sk=function(e){var t=e.state,r=e.onComplete,n=e.children,o=e.duration,i=e.outerClassName;return ed.createElement("span",{className:eb()(sb.linkWrapper,i)},ed.createElement(sw,{duration:void 0===o?400:o,active:void 0===t?"default":t,onSwitchComplete:function(e){"complete"===e&&r&&r()}},ed.createElement(sE,{name:"default"}),ed.createElement(sE,{name:"loading"},ed.createElement(aV,null),ed.createElement(ed.Fragment,null,"\xa0"),ed.createElement(ed.Fragment,null,"\xa0")),ed.createElement(sE,{name:"complete"},ed.createElement(sC,null),ed.createElement(ed.Fragment,null,"\xa0"),ed.createElement(ed.Fragment,null,"\xa0"))),n)},s_={links:"resend_verification-module_links__pUfOL",resendCodeWrapper:"resend_verification-module_resendCodeWrapper__mpsjG",contactSupport:"resend_verification-module_contactSupport__WRVvG"},sA=nA(function(e){var t=e.model,r=e.tracking,n=e.supportUrl,o=e.label;return ed.createElement("div",{className:s_.links},ed.createElement(sw,{active:t.currentResendVerificationView,duration:300},ed.createElement(sE,{name:ee.ResendVerification},ed.createElement("div",{className:s_.resendCodeWrapper},ed.createElement(sF,{model:t,tracking:r,label:o}))),ed.createElement(sE,{name:ee.ContactSupport},ed.createElement("div",{className:s_.contactSupport},ed.createElement(iy,null,"Need help?",ed.createElement(ed.Fragment,null,"\xa0")),ed.createElement(ak,{onClick:function(){var e;null===(e=null==r?void 0:r.trackContactSupportButtonClick)||void 0===e||e.call(r)},href:n,target:"_blank"},"Contact support.")))))}),sF=nA(function(e){var t=e.model,r=e.label,n=e.tracking;return ed.createElement(sk,{onComplete:function(){return setTimeout(function(){return t.onShowContactSupport()},300)},duration:300,state:{visible:"default",loading:"loading",hidden:"complete"}[t.resendVerificationState]},ed.createElement(ak,{onClick:function(){var e;null===(e=null==n?void 0:n.trackResendButtonClick)||void 0===e||e.call(n),t.onResendVerificationClick()}},r))}),sT=function(e){var t=e.onClick;return ed.createElement(oa,{className:sg.backButton,onClick:t},ed.createElement(on,{direction:H.left,color:"blue50"}),ed.createElement(iy,{bold:!0,color:"blue50"},"Back"))},sP=nA(function(e){var t=e.handleBackButtonClick,r=e.email;return ed.createElement(ed.Fragment,null,ed.createElement(sT,{onClick:t}),ed.createElement(ii,{multiplier:3}),ed.createElement(an,null,"Verify your email"),ed.createElement(nM,{disabled:!0,name:"email",type:"text",placeholder:"Email",value:r}))}),sM=function(){return ed.createElement("div",{className:sg.dividerContainer},ed.createElement("hr",null),ed.createElement("span",{className:sg.or},"OR"),ed.createElement("hr",null))},sO=nA(function(e){var t=e.signInEmailFailureSupportUrl,r=e.socialFlowModel,n=e.isSocialButtonsDisabled,o=e.handleSocialSubmit;return r.isEnabled?ed.createElement(ed.Fragment,null,ed.createElement(sM,null),ed.createElement(ii,{multiplier:2}),ed.createElement(av,{signInEmailFailureSupportUrl:t,model:r,copyType:"SIGNUP",isSubmitButtonsDisabled:n,onSubmit:function(e){return o(e)}})):null}),sI=nA(function(e){var t=e.model,r=e.tracking,n=e.supportUrl;return ed.createElement(aa,{onSubmit:t.onSubmitCode},ed.createElement(iy,{textAlign:"center"},"Please enter the 6-digit verification code we sent to the above email. This code expires within 15 minutes."),ed.createElement(sy,{model:t}),ed.createElement(ii,{multiplier:2}),t.showTryAgainSubmit&&ed.createElement(oh,{qa:"btnLogin",text:"Try Again",status:t.codeSubmitButtonStatus}),ed.createElement(sA,{model:t.resendVerificationViewModel,tracking:r,supportUrl:n,label:"Resend the code"}))}),sx=nA(function(e){var t=e.signInEmailFailureSupportUrl,r=e.model,n=e.tracking,o=e.supportUrl,i=e.trackFormShow;return(0,ed.useEffect)(function(){null==i||i(N.SignUpEmailVerification)},[]),ed.createElement(aA,null,ed.createElement(sP,{email:r.email,handleBackButtonClick:r.handleBackButtonClick}),ed.createElement(ii,{multiplier:2}),ed.createElement(sI,{model:r,tracking:n,supportUrl:o}),ed.createElement(ii,{multiplier:2}),ed.createElement(sO,{signInEmailFailureSupportUrl:t,socialFlowModel:r.socialFlowModel,handleSocialSubmit:function(e){return r.handleSocialSubmit(e,N.SignUpEmailVerification)},isSocialButtonsDisabled:!r.canSubmitSocial}))}),sR=function(){function e(e){this.user=e}return Object.defineProperty(e.prototype,"showEmailFlow",{get:function(){return this.user.loginProviders.includes(j.LoginType.email)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showSocialFlow",{get:function(){return this.user.loginProviders.includes(j.LoginType.google)||this.user.loginProviders.includes(j.LoginType.facebook)||this.user.loginProviders.includes(j.LoginType.apple)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showSSOFlow",{get:function(){return this.user.loginProviders.includes(j.LoginType.sso)},enumerable:!1,configurable:!0}),e}(),sV=function(e){function t(t){var r=e.call(this,t)||this;return r.formKey=N.SecureSignIn,r.onEmailSubmit=function(){return eL(r,void 0,void 0,function(){var e,t,r,n,o,i,a;return eN(this,function(s){switch(s.label){case 0:return t=(e=this.props).model,r=e.onCallTrigger,n=e.trackSubmitButtonClick,[4,t.validateEmailFlow()];case 1:return i=(o=eU.apply(void 0,[s.sent(),2]))[0],a=o[1],null==n||n({action:"SIGNIN",email:"true"},this.formKey,a),i&&r(r0(B.SignInEmailFlowSubmit,t.getEmailFlowSubmitData())),[2]}})})},r.onSocialSubmit=function(e){var t=r.props,n=t.model,o=t.onCallTrigger,i=t.trackSubmitButtonClick,a=eU(n.validateSocialFlow(),2),s=a[0],l=a[1];null==i||i({action:"SIGNIN",socialType:e.type},r.formKey,l),s&&o(r0(B.SignInSocialFlowStart,n.getSocialFlowStartData(e)))},r.onSSOSubmit=function(){var e,t;null===(t=(e=r.props).trackSubmitButtonClick)||void 0===t||t.call(e,{action:"SIGNIN",email:"",isSSO:!0},r.formKey,{}),r.props.onCallTrigger(r0(B.SignInCheckEmailSubmit,{email:r.props.user.email}))},r.goToSignUp=function(){r.props.onCallTrigger(D.ToSignUp)},r.onTroubleshootLinkClick=function(){r.props.onCallTrigger(D.ToResetPassword)},r.secureSignInViewModel=new sR(t.user),r}return eO(t,e),t.prototype.componentDidMount=function(){var e,t;null===(t=(e=this.props).trackFormShow)||void 0===t||t.call(e,this.formKey)},t.prototype.render=function(){var e=this.props,t=e.model,r=e.signInEmailFailureSupportUrl;return ed.createElement(aa,{onSubmit:this.onEmailSubmit},ed.createElement(an,null,"Verify that it's you"),t.emailFlowModel.flowError&&ed.createElement(ed.Fragment,null,ed.createElement(ag,{signInEmailFailureSupportUrl:r,error:t.emailFlowModel.flowError,onGotToResetPassword:this.onTroubleshootLinkClick}),ed.createElement(ii,{multiplier:1})),t.socialFlowModel.flowErrorNotice&&ed.createElement(ed.Fragment,null,ed.createElement(aB,{signInEmailFailureSupportUrl:r,error:t.socialFlowModel.flowErrorNotice,hasEmail:t.emailFlowModel.hasEmailValue,socialProvider:t.socialFlowModel.activeProviderType}),ed.createElement(ii,{multiplier:1})),this.secureSignInViewModel.showEmailFlow&&ed.createElement(ed.Fragment,null,ed.createElement(nM,{disabled:!0,name:"email",type:"text",placeholder:"Email",value:t.emailFlowModel.emailModel.value}),ed.createElement(ii,{multiplier:1}),ed.createElement(ok,{model:t.emailFlowModel.passwordModel,qa:"txtPassword"}),ed.createElement(ii,{multiplier:2}),ed.createElement(oh,{text:"Next",status:t.emailFlowSubmitButtonStatus,qa:"btnLogin"}),ed.createElement(ii,{multiplier:1.5}),ed.createElement(ak,{qa:"linkForgotPassword",onClick:this.onTroubleshootLinkClick},"Can’t sign in?"),ed.createElement(ii,{multiplier:2})),this.secureSignInViewModel.showSSOFlow&&ed.createElement(ed.Fragment,null,ed.createElement(oE,{copyType:"CONTINUE",onClick:this.onSSOSubmit,showArrow:!0}),ed.createElement(ii,{multiplier:1})),this.secureSignInViewModel.showSocialFlow&&t.socialFlowModel.isEnabled&&ed.createElement(ed.Fragment,null,ed.createElement(av,{signInEmailFailureSupportUrl:r,model:t.socialFlowModel,copyType:"CONTINUE",isSubmitButtonsDisabled:t.emailFlowModel.payload.isLoading(),onSubmit:this.onSocialSubmit}),ed.createElement(ii,{multiplier:1})),ed.createElement(ii,{multiplier:1}),ed.createElement(i9,null),ed.createElement(ii,{multiplier:1.5}),ed.createElement(i7,null))},t=eR([nA,eV("design:paramtypes",[Object])],t)}(ed.PureComponent),sL=function(e){var t=e.show,r=e.onRedirectToFacebook,n=e.onCloseHandler,o=eU((0,ed.useState)(10),2),i=o[0],a=o[1];return(0,ed.useEffect)(function(){if(t){var e=setInterval(function(){a(function(e){return e-1}),0===i&&r()},1e3);return function(){clearInterval(e)}}},[t]),(0,ed.useEffect)(function(){0===i&&r()},[i]),ed.createElement(iG,{className:ae.modalContainer,closeByIcon:!0,closeByClickOutside:!0,show:t,onClose:function(){n(),a(10)}},ed.createElement(iy,null,"We're currently working through an intermittent failure that is preventing our users from signing in with Facebook."),ed.createElement(ii,{multiplier:2}),ed.createElement(iy,null,"If you already have an account but haven't set a password, you can do so by ",ed.createElement(oA,{color:"blue50",href:"https://www.grammarly.com/resetpassword"},"resetting your password"),"."),ed.createElement(ii,{multiplier:2}),ed.createElement(iy,{textAlign:"center"},"Redirecting in ",i," seconds ..."))},sN=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return eO(t,e),t.prototype.render=function(){return this.renderCurrentStep()},t.prototype.renderCurrentStep=function(){switch(this.props.model.currentView){case N.SignInInit:case N.SignInWithPassword:return this.renderSignIn();case N.SignInEmailPermissionPopup:return this.renderSignIn(!0);case N.SecureSignIn:return this.renderSecureSignIn();case N.ExplicitTermsOfServicePopup:return this.renderSignIn(!1,!0);case N.NewAccount:return this.renderNewAccount();case N.SignUpEmailPermissionPopup:return this.renderNewAccount(!0);case N.ResetPassword:return this.renderResetPassword();case N.ResetPasswordEmailSent:return this.renderResetPasswordEmailSent();case N.ForgotEmail:return this.renderForgotEmail();case N.Captcha:return this.renderCaptcha();case N.MFA:return this.renderMFA();case N.SignUpEmailVerification:return this.renderEmailVerification();case N.SupportRequest:return this.renderSupportRequest();case N.SupportRequestSent:return this.renderSupportRequestSent()}},t.prototype.renderSecureSignIn=function(){var e=this.props,t=e.model,r=e.config;return t.currentUser?ed.createElement(sV,{model:t.signInViewModel,user:t.currentUser,trackFormShow:t.onTrackFormShow,trackSubmitButtonClick:t.onAuthSubmitClick,onCallTrigger:t.onCallTrigger,signInEmailFailureSupportUrl:r.signInEmailFailureSupportUrl}):null},t.prototype.renderSignIn=function(e,t){var r=this.props,n=r.model,o=r.supplementaryFlowType,i=r.supplementaryFlowLink,a=r.hideTitle,s=r.hideTitleLink,l=r.titleHeadingHtmlTag,c=r.config;return ed.createElement(ed.Fragment,null,ed.createElement(iW,{formKey:N.SignInEmailPermissionPopup,show:!!e,trackFormShow:n.onTrackFormShow,onCloseHandler:function(){return n.onCallTrigger(D.ToSignIn)},onOpenFacebookSettings:function(){n.onCallTrigger(r0(B.SignInSocialFlowStart,n.signInViewModel.getSocialFlowStartData(n.signInViewModel.socialFlowModel.getProviderByType(j.Social.Type.Facebook),!0)))}}),ed.createElement(at,{show:!!t,model:n.signUpViaSignInViewModel,trackFormShow:n.onTrackFormShow,trackSubmitButtonClick:n.onAuthSubmitClick,trackToSLinkFollow:n.track.trackToSLinkFollow,onCallTrigger:n.onCallTrigger,onCloseHandler:function(){return n.onCallTrigger(D.ToSignIn)}}),ed.createElement(sL,{show:n.signInViewModel.showFacebookLoginDisabledModal,onRedirectToFacebook:function(){var e=n.signInViewModel.socialFlowModel.getProviderByType(j.Social.Type.Facebook);e&&n.onCallTrigger(r0(B.SignUpSocialFlowStart,n.signUpViewModel.getSocialFlowStartData(e)))},onCloseHandler:function(){return n.signInViewModel.setShowFacebookLoginDisabledModal(!1)}}),ed.createElement(aq,{model:n.signInViewModel,hideTitle:a,hideTitleLink:s,titleHeadingHtmlTag:l,supplementaryFlowType:o,supplementaryFlowLink:i,trackFormShow:n.onTrackFormShow,trackSubmitButtonClick:n.onAuthSubmitClick,onCallTrigger:n.onCallTrigger,showFacebookOutageDisabledModal:c.showFacebookOutageDisabledModal,signInEmailFailureSupportUrl:c.signInEmailFailureSupportUrl}))},t.prototype.renderNewAccount=function(e){var t=this.props,r=t.model,n=t.supplementaryFlowType,o=t.supplementaryFlowLink,i=t.hideTitle,a=t.hideTitleLink,s=t.titleHeadingHtmlTag,l=t.onAssignEmailVerificationTreatment,c=t.config;return ed.createElement(ed.Fragment,null,ed.createElement(iW,{formKey:N.SignUpEmailPermissionPopup,show:!!e,trackFormShow:r.onTrackFormShow,onCloseHandler:function(){return r.onCallTrigger(D.ToSignUp)},onOpenFacebookSettings:function(){r.onCallTrigger(r0(B.SignUpSocialFlowStart,r.signUpViewModel.getSocialFlowStartData(r.signUpViewModel.socialFlowModel.getProviderByType(j.Social.Type.Facebook),!0)))}}),ed.createElement(aS,{model:r.signUpViewModel,hideTitle:i,hideTitleLink:a,titleHeadingHtmlTag:s,supplementaryFlowType:n,supplementaryFlowLink:o,trackToSLinkFollow:r.track.trackToSLinkFollow,trackFormShow:r.onTrackFormShow,trackSubmitButtonClick:r.onAuthSubmitClick,onCallTrigger:r.onCallTrigger,onAssignEmailVerificationTreatment:l,showFacebookOutageDisabledModal:c.showFacebookOutageDisabledModal,signInEmailFailureSupportUrl:c.signInEmailFailureSupportUrl}))},t.prototype.renderMFA=function(){var e=this.props,t=e.model,r=e.config;return ed.createElement(sf,{model:t.mfaViewModel,trackFormShow:t.onTrackFormShow,tracking:t.track.mfaTracking,supportNewRequestUrl:r.supportNewRequestUrl,onCallTrigger:t.onCallTrigger})},t.prototype.renderEmailVerification=function(){var e=this.props,t=e.model,r=e.config,n={trackFormShow:t.onTrackFormShow,tracking:t.track.signupEmailVerificationTracking,supportUrl:r.signUpEmailVerificationSupportUrl};return ed.createElement(sx,eI({signInEmailFailureSupportUrl:r.signInEmailFailureSupportUrl,model:t.emailVerificationViewModel},n))},t.prototype.renderCaptcha=function(){var e=this.props,t=e.model,r=e.config,n=e.isGoogleDomainNotAvailable,o=e.logger,i=e.isEnterpriseVisibleCaptchaEnabled;return ed.createElement(aU,{supportNewRequestUrl:r.supportNewRequestUrl,action:t.captchaActionType,siteKey:i?r.recaptcha.visibleEnterprise.siteKey:r.recaptcha.visible.siteKey,srcUrl:n?r.recaptcha.visible.urlGlobal:r.recaptcha.visible.url,trackFormShow:this.props.model.onTrackFormShow,onCallTrigger:t.onCallTrigger,logger:o,isEnterpriseVisibleCaptchaEnabled:i})},t.prototype.renderResetPassword=function(){return ed.createElement(a_,{model:this.props.model.resetPasswordViewModel,trackFormShow:this.props.model.onTrackFormShow,onCallTrigger:this.props.model.onCallTrigger})},t.prototype.renderResetPasswordEmailSent=function(){return ed.createElement(aF,{trackFormShow:this.props.model.onTrackFormShow,onCallTrigger:this.props.model.onCallTrigger})},t.prototype.renderForgotEmail=function(){return ed.createElement(aP,{supportNewRequestUrl:this.props.config.supportNewRequestUrl,trackFormShow:this.props.model.onTrackFormShow,onCallTrigger:this.props.model.onCallTrigger})},t.prototype.renderSupportRequest=function(){return ed.createElement(aK,{model:this.props.model.supportRequestViewModel,trackFormShow:this.props.model.onTrackFormShow,onCallTrigger:this.props.model.onCallTrigger})},t.prototype.renderSupportRequestSent=function(){return ed.createElement(aZ,{trackFormShow:this.props.model.onTrackFormShow,onCallTrigger:this.props.model.onCallTrigger})},t=eR([nA],t)}(ed.PureComponent),sU={brandingLinks:"enterprise_brandingLinks__9hK3v",hide:"enterprise_hide__FnMvI"},sD=function(){},sB=function(){function e(e){var t=this;this.config=e,this.getOnCaptchaLoad=function(e){return function(){t.suppressCaptchaErrors(),t.hideCaptchaBadges(),null==e||e("onLoad")}}}return e.prototype.addOnLoadHook=function(t){nN||(window[e.onLoadFnName]=this.getOnCaptchaLoad(t))},e.prototype.getSrcUrl=function(){var t=this.config,r=t.srcUrl,n=t.siteKey;return"".concat(r,"?onload=").concat(encodeURIComponent(e.onLoadFnName),"&render=").concat(encodeURIComponent(n))},e.prototype.hasScript=function(){return!nN&&!!this.captchaScriptElement},e.prototype.hasStyle=function(){return!nN&&!!document.querySelector('style[data-key="captcha-style"]')},Object.defineProperty(e.prototype,"captchaBadges",{get:function(){for(var e=document.getElementsByClassName("grecaptcha-badge"),t=[],r=0;r<e.length;r++){var n=e.item(r);n&&t.push(n)}return t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"captchaScriptElement",{get:function(){return document.querySelector('script[data-key="captcha"]')},enumerable:!1,configurable:!0}),e.prototype.hideCaptchaBadges=function(){this.captchaBadges.forEach(function(e){e&&e.classList.add(sU.hide)})},e.prototype.suppressCaptchaErrors=function(){var e=this;this.captchaBadges.forEach(function(t){t&&(e.suppressIframeErrors(t),t.parentNode&&e.suppressIframeErrors(t.parentNode))})},e.prototype.suppressIframeErrors=function(e){var t=e.querySelector("iframe");t&&!t.onerror&&(t.onerror=sD)},e.onLoadFnName="captchaOnLoad",e}(),sj=null,sq=null,sG=new(function(){function e(){}return Object.defineProperty(e.prototype,"isContinueFlow",{get:function(){return!nN&&"true"===oN(document.location.search).is_sso},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUserCreated",{get:function(){return!nN&&"true"===oN(document.location.search).sso_user_created},enumerable:!1,configurable:!0}),e.prototype.isAutoStartFlow=function(e,t){return!!(!e.anonymous&&1===e.loginProviders.length&&"SSO"===e.loginProviders[0]&&t===N.SecureSignIn)},e.prototype.getAuthActionType=function(){return this.isUserCreated?"SIGNUP":"SIGNIN"},e.prototype.getRedirectLink=function(e,t){return oV(e,{originalLocation:btoa(oV(document.URL,{is_sso:!0,stateKey:t}))})},e.prototype.generateStateKey=function(){return nU(30)},e}()),sH=(_=function(e){function t(t){var r=e.call(this,t)||this;return r.socialService=oz.get(t.config.cookieDomain),r.model=new io(t.api,t.captchaEnterprise,r.socialService,sG,t.createMfaSupportTicket,t.tracker,{defaultView:t.defaultView,isEnterpriseVisibleCaptchaEnabled:t.isEnterpriseVisibleCaptchaEnabled,isGDPR:t.isGDPR,isExplicitToSAgreement:t.isExplicitToSAgreement,isIgnoreSignInSSO:t.isIgnoreSignInSSO,socialConfig:t.config.socialOAuth,disabledSocialProviders:t.disabledSocialProviders,initialEmail:t.initialEmail,initialInstitutionInviteKey:t.initialInstitutionInviteKey,initialError:t.initialError,getAssignedCustomFields:t.getAssignedCustomFields,getCurrentUser:t.getCurrentUser,onAuthAttempt:t.onAuthAttempt,onAuthSuccess:t.onAuthSuccess,onAuthReject:t.onAuthReject,onBeforeSocialRedirect:t.onBeforeSocialRedirect,onAfterSocialRedirectReturn:t.onAfterSocialRedirectReturn,onFormRenderError:t.onFormRenderError,customEmailValidation:t.customEmailValidation,initialEmailDisabled:t.initialEmailDisabled,restrictedDomains:t.restrictedDomains,hasBusinessToSAgreement:t.hasBusinessToSAgreement}),r}return eO(t,e),t.prototype.componentDidMount=function(){var e=this.model.currentUser;sG.isContinueFlow?this.model.onCallTrigger(r0(B.SSOFlowContinue,{action:sG.getAuthActionType()})):e&&sG.isAutoStartFlow(e,this.props.defaultView)?this.model.onCallTrigger(r0(B.SignInCheckEmailSubmit,{email:e.email})):this.socialService.isContinueFlow&&this.continueSocialFlow()},t.prototype.continueSocialFlow=function(){var e=eI({},this.socialService.flowData);this.socialService.resetFlowData(),this.model.onCallTrigger(r0(B.SocialFlowContinue,e))},t.prototype.render=function(){return ed.createElement(sN,eI({model:this.model},this.props))},t}(ed.PureComponent),function(e){var t,r,n,o=e.enterpriseConfig,i=e.isGoogleDomainNotAvailable,a=e.logger,s=ex(e,["enterpriseConfig","isGoogleDomainNotAvailable","logger"]),l=eU((t={srcUrl:i?o.urlGlobal:o.url,siteKey:o.siteKey},(r=a.getLogger("captcha")).context.add({recaptchaLibraryUrl:t.srcUrl}),(!sj||nN)&&(sj=new sB(t)),(!sq||nN)&&(sq=new nZ(t.siteKey,r)),n=sj.hasScript(),(0,ed.useEffect)(function(){return(null==sq?void 0:sq.init())||null==sj||sj.addOnLoadHook(null==sq?void 0:sq.onCaptchaLoad),function(){null==sq||sq.cleanup()}},[sj,sq,n]),[sj,sq]),2),c=l[0],u=l[1];return ed.createElement(ed.Fragment,null,ed.createElement(eT.q,null,!c.hasScript()&&ed.createElement("script",{"data-key":"captcha",type:"text/javascript",src:c.getSrcUrl(),defer:!0,async:!0}),ed.createElement("style",{"data-key":"captcha-style",type:"text/css"},".grecaptcha-badge { visibility: hidden; }")),ed.createElement(_,eI({},s,{logger:a,captchaEnterprise:u})))});ed.memo(function(e){return ed.createElement(sH,eI({},e,{enterpriseConfig:e.config.recaptcha.enterprise,defaultView:N.SecureSignIn}))}),ed.memo(function(e){return ed.createElement(sH,eI({},e,{enterpriseConfig:e.config.recaptcha.enterprise}))}),ed.memo(function(e){return ed.createElement(sH,eI({},e,{enterpriseConfig:e.config.recaptcha.enterprise,defaultView:N.NewAccount}))});var sW=function(){function e(e,t,r,n,o){this.api=e,this.track=t,this.onNavToSignIn=r,this.initialEmail=n,this.initialError=o,this.currentView=N.ResetPassword}return Object.defineProperty(e.prototype,"resetPasswordViewModel",{get:function(){return!this._resetPasswordViewModel&&(this._resetPasswordViewModel=new nz(this.api,this.initialEmail),this.initialError&&this._resetPasswordViewModel.setPayload(new nW.Error(j.Error.AuthCommonError.create(Error(this.initialError))))),this._resetPasswordViewModel},enumerable:!1,configurable:!0}),e.prototype.onCallTrigger=function(e){e===D.ToForgotEmail?this.currentView=N.ForgotEmail:e===D.ToResetPassword?this.currentView=N.ResetPassword:e===D.ToSignIn?this.onNavToSignIn():e.key===B.ResetPasswordSubmit&&this.processResetRequest(e.data.email)},e.prototype.processResetRequest=function(e){var t,r,n,o,i,a;return eL(this,void 0,void 0,function(){var s;return eN(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),null===(r=(t=this.track).trackAttempt)||void 0===r||r.call(t),this.resetPasswordViewModel.setPayload(new nW.Loading),[4,this.api.resetPassword(e).catch(function(e){if(!L.isAuthLegacyApiError(e))throw e})];case 1:return l.sent(),this.currentView=N.ResetPasswordEmailSent,this.resetPasswordViewModel.setPayload(new nW.Value(void 0)),null===(o=(n=this.track).trackSuccess)||void 0===o||o.call(n),[3,3];case 2:return s=l.sent(),this.resetPasswordViewModel.setPayload(new nW.Error(s)),null===(a=(i=this.track).trackFail)||void 0===a||a.call(i,s),[3,3];case 3:return[2]}})})},eR([tC,eV("design:type",String)],e.prototype,"currentView",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"onCallTrigger",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",Promise)],e.prototype,"processResetRequest",null),e}();!function(e){function t(t){var r=e.call(this,t)||this;return r.model=new sW(t.api,t.tracker,t.onNavToSignIn,t.initialEmail,t.initialError),r}eO(t,e),t.prototype.render=function(){return this.renderCurrentStep()},t.prototype.renderCurrentStep=function(){switch(this.model.currentView){case N.ResetPassword:return this.renderResetPasswordForm();case N.ResetPasswordEmailSent:return this.renderResetPasswordEmailSentForm();case N.ForgotEmail:return this.renderForgotEmailForm()}},t.prototype.renderResetPasswordForm=function(){return ed.createElement(a_,{model:this.model.resetPasswordViewModel,onCallTrigger:this.model.onCallTrigger})},t.prototype.renderResetPasswordEmailSentForm=function(){return ed.createElement(aF,{onCallTrigger:this.model.onCallTrigger})},t.prototype.renderForgotEmailForm=function(){return ed.createElement(aP,{supportNewRequestUrl:this.props.config.supportNewRequestUrl,onCallTrigger:this.model.onCallTrigger})},t=eR([nA,eV("design:paramtypes",[Object])],t)}(ed.PureComponent);var sz=function(){function e(e){this.api=e,this.payload=new nW.Empty,this.passwordModel=new oT(this.api,Y.StrictPlusLeaked)}return e.prototype.getData=function(){return{newPassword:this.passwordModel.value}},e.prototype.validate=function(){var e=eU(this.passwordModel.validate(),2);return[e[0],{password:e[1]}]},e.prototype.setPayload=function(e){this.payload=e},eR([tC.ref,eV("design:type",Object)],e.prototype,"payload",void 0),eR([rl,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Array)],e.prototype,"validate",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"setPayload",null),e}(),sK=function(){function e(e,t,r,n){this.api=e,this.tracker=t,this.onNavToSignIn=r,this.onNavToResetForm=n,this.currentView=N.VerifyResetKey}return Object.defineProperty(e.prototype,"setPasswordViewModel",{get:function(){return this._setPasswordViewModel||(this._setPasswordViewModel=new sz(this.api)),this._setPasswordViewModel},enumerable:!1,configurable:!0}),e.prototype.onCallTrigger=function(e){e===D.ToSignIn?this.onNavToSignIn():e===D.ToResetPassword?this.onNavToResetForm():e.key===B.VerifyPasswordResetKeySubmit?this.processVerificationRequest(e.data.resetKey):e.key===B.SetNewPasswordSubmit&&this.processSetRequest(e.data.newPassword,this.resetKey)},e.prototype.processSetRequest=function(e,t){var r,n,o,i;return eL(this,void 0,void 0,function(){var a,s;return eN(this,function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),this.setPasswordViewModel.setPayload(new nW.Loading),[4,this.api.setPassword(e,t)];case 1:return l.sent(),null===(n=(r=this.tracker).trackSuccess)||void 0===n||n.call(r),this.currentView=N.SetNewPasswordUpdated,this.setPasswordViewModel.setPayload(new nW.Value(void 0)),[3,3];case 2:if(a=l.sent(),null===(i=(o=this.tracker).trackFail)||void 0===i||i.call(o,a),L.isHTTPError(a)&&(s=L.tryGetErrorFromHTTPError(a))){if(L.isChangePasswordHTTPError(s))return this.setPasswordViewModel.setPayload(new nW.Empty),this.setPasswordViewModel.passwordModel.setValidityFromError(s),[2];if(L.errCodeEqualsTo(s.error,L.ApiErrorCode.InternalRuntimeError))return this.onNavToResetForm(a.message),[2]}return this.setPasswordViewModel.setPayload(new nW.Error(a)),[3,3];case 3:return[2]}})})},e.prototype.processVerificationRequest=function(e){return eL(this,void 0,void 0,function(){var t;return eN(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.resetKey=e,[4,this.api.validatePasswordResetKey(e)];case 1:return r.sent(),this.currentView=N.SetNewPassword,[3,3];case 2:return t=r.sent(),this.onNavToResetForm(t),[3,3];case 3:return[2]}})})},eR([tC,eV("design:type",String)],e.prototype,"currentView",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",void 0)],e.prototype,"onCallTrigger",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[String,String]),eV("design:returntype",Promise)],e.prototype,"processSetRequest",null),eR([rl,eV("design:type",Function),eV("design:paramtypes",[String]),eV("design:returntype",Promise)],e.prototype,"processVerificationRequest",null),e}(),sZ=nA(function(e){var t=e.model,r=e.supportNewRequestUrl,n=e.onCallTrigger,o=e.hideTitle,i=e.hideTitleLink,a=e.titleHeadingHtmlTag,s=(0,ed.useCallback)(function(){eU(t.validate(),1)[0]&&n(r0(B.SetNewPasswordSubmit,t.getData()))},[t,n]);return ed.createElement(aa,{onSubmit:s},!o&&ed.createElement(an,{hideLink:i,linkText:"Back to sign-in",onLinkClick:function(){return n(D.ToSignIn)},headingHtmlTag:a},"Set new password"),ed.createElement(ig,{color:"neutral60"},"Create a new password for your account. If you have a problem resetting your password, please"," ",ed.createElement(oA,{href:r,target:"_blank",color:"blue50"},"contact Support"),"."),ed.createElement(ii,{multiplier:4}),ed.createElement(ok,{qa:"txtPassword",model:t.passwordModel,readOnly:t.payload.isLoading(),placeholder:"New password"}),ed.createElement(ii,{multiplier:2}),t.payload.isError()&&t.payload.getErrorMessage()&&ed.createElement(ed.Fragment,null,ed.createElement(al,null,"Unable to set a new password. Please wait a moment and try again."),ed.createElement(ii,{multiplier:1})),ed.createElement(oh,{qa:"btnSetNewPassword",status:t.payload.isLoading()?W.Loading:W.Active,text:"Reset password"}))}),s$=function(e){var t=e.supportNewRequestUrl,r=e.onCallTrigger,n=e.hideTitle,o=e.hideTitleLink,i=e.titleHeadingHtmlTag,a=(0,ed.useCallback)(function(){r(D.ToSignIn)},[r]);return(0,ed.useEffect)(function(){var e=window.setTimeout(a,1e3);return function(){e&&window.clearTimeout(e)}},[]),ed.createElement(aA,null,!n&&ed.createElement(an,{hideLink:o,linkText:"Back to sign in",onLinkClick:a,headingHtmlTag:i},"Set new password"),ed.createElement(ig,{color:"neutral60"},"Create a new password for your account. If you have a problem resetting your password, please"," ",ed.createElement(oA,{href:t,target:"_blank",color:"blue50"},"contact Support"),"."),ed.createElement(ii,{multiplier:4}),ed.createElement(ac,null,ed.createElement(iy,null,"Your password has been reset.",ed.createElement("br",null),"We are redirecting you...")),ed.createElement(ii,{multiplier:2}),ed.createElement(ou,{text:"Back to Sign in",status:W.Loading,onClick:a}))},sY=function(){},sJ=function(e){var t=e.supportNewRequestUrl,r=e.onCallTrigger,n=e.resetKey,o=e.hideTitle,i=e.hideTitleLink,a=e.titleHeadingHtmlTag,s=(0,ed.useCallback)(function(){r(D.ToSignIn)},[r]);return(0,ed.useEffect)(function(){r(r0(B.VerifyPasswordResetKeySubmit,{resetKey:n||""}))},[n,r]),ed.createElement(aA,null,!o&&ed.createElement(an,{hideLink:i,linkText:"Back to sign-in",onLinkClick:s,headingHtmlTag:a},"Set new password"),ed.createElement(ig,{color:"neutral60"},"Verifying the reset password key. If you have a problem resetting your password, please"," ",ed.createElement(oA,{href:t,target:"_blank",color:"blue50"},"contact Support"),"."),ed.createElement(ii,{multiplier:4}),ed.createElement(ou,{text:"Verifying",status:W.Loading,onClick:sY}))};!function(e){function t(t){var r=e.call(this,t)||this;return r.model=new sK(t.api,t.tracker,t.onNavToSignIn,t.onNavToResetForm),r}eO(t,e),t.prototype.render=function(){return this.renderCurrentStep()},t.prototype.renderCurrentStep=function(){switch(this.model.currentView){case N.VerifyResetKey:return this.renderVerifyResetKeyForm();case N.SetNewPassword:return this.renderSetNewPasswordForm();case N.SetNewPasswordUpdated:return this.renderSetNewPasswordUpdatedForm()}},t.prototype.renderVerifyResetKeyForm=function(){return ed.createElement(sJ,eI({},this.props,{supportNewRequestUrl:this.props.config.supportNewRequestUrl,onCallTrigger:this.model.onCallTrigger}))},t.prototype.renderSetNewPasswordForm=function(){return ed.createElement(sZ,eI({},this.props,{model:this.model.setPasswordViewModel,supportNewRequestUrl:this.props.config.supportNewRequestUrl,onCallTrigger:this.model.onCallTrigger}))},t.prototype.renderSetNewPasswordUpdatedForm=function(){return ed.createElement(s$,eI({},this.props,{supportNewRequestUrl:this.props.config.supportNewRequestUrl,onCallTrigger:this.model.onCallTrigger}))},t=eR([nA,eV("design:paramtypes",[Object])],t)}(ed.PureComponent);var sX=new Set(Object.keys(j.OAuth.ClientId).map(function(e){return j.OAuth.ClientId[e]})),sQ=function(e){return sX.has(e)};(A=es||(es={})).Grammarly="Grammarly",A.Safari="Safari Extension",A.IOSKeyboard="Grammarly Keyboard for iOS",A.AndroidKeyboard="Grammarly Keyboard for Android",A.OfficeAddin="Grammarly for Microsoft Office",A.GrammarlyEditor="Grammarly Editor";var s0=function(e){switch(e){case j.OAuth.ClientId.MobileIOS:return es.IOSKeyboard;case j.OAuth.ClientId.MobileAndroid:return es.AndroidKeyboard;case j.OAuth.ClientId.SafariExtension:return es.Safari;case j.OAuth.ClientId.OfficeAddin:return es.OfficeAddin;case j.OAuth.ClientId.DesktopEditor:return es.GrammarlyEditor}if(e&&sQ(e))return es.Grammarly;throw Error("Unregistered oAuth Client")},s1=new Map([[j.OAuth.ClientId.AndroidSDK,"grammarly.sdk://oauth/autologin"],[j.OAuth.ClientId.MobileIOS,"grammarly://oauth/autologin"]]),s2=function(e,t){var r,n=e.clientId,o=e.redirectForwardState,i=e.externalState;return"".concat(s1.get(n),"?").concat(oR(((r={}).state=o,r.state_key=i,r.code_challenge=t,r.client_id=j.OAuth.ClientId.Funnel,r)))};(el||(el={})).OAuthCodeVerifier="oauthCodeVerifier";var s3=function(){function e(e){this.storage=e}return Object.defineProperty(e.prototype,"isSupported",{get:function(){return!nN&&!!this.storage},enumerable:!1,configurable:!0}),e.prototype.setItem=function(e,t){var r;if(this.isSupported)try{null===(r=this.storage)||void 0===r||r.setItem(e,t)}catch(e){}},e.prototype.getItem=function(e,t){void 0===t&&(t=!1);var r,n=this.isSupported?null===(r=this.storage)||void 0===r?void 0:r.getItem(e):null;return t&&this.removeItem(e),n},e.prototype.removeItem=function(e){var t;if(this.isSupported)return null===(t=this.storage)||void 0===t?void 0:t.removeItem(e)},e}(),s5=function(){function e(e,t,r,n,o){this.api=e,this.getCurrentUser=t,this.onSuccess=r,this.onRedirect=n,this.onError=o,this.payload=new nW.Empty,this.storage=new s3("undefined"!=typeof window?window.localStorage:void 0)}return e.prototype.tryStep=function(e){var t;return eL(this,void 0,void 0,function(){var r;return eN(this,function(n){switch(n.label){case 0:if(!(e.clientId&&e.externalState&&s1.has(e.clientId)))return[3,2];return[4,this.checkCurrentUser(e)];case 1:if(n.sent())return[2,this.completeFlow()];return[2,this.initStep(e)];case 2:if(e.code&&e.codeChallenge)return[2,this.verifyStep(e)];n.label=3;case 3:return r=new nW.Error(L.AuthCommonError.createFromError(L.UiErrorCode.Unknown,Error("Invalid step params were provided"))),this.setPayload(r),null===(t=this.onError)||void 0===t||t.call(this,r.error,r.nonce),[2]}})})},e.prototype.setPayload=function(e){this.payload=e},e.prototype.initStep=function(e){var t;return eL(this,void 0,void 0,function(){var r,n,o,i;return eN(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),this.setPayload(new nW.Loading),[4,nD(r=nU(128))];case 1:return n=a.sent(),this.storage.setItem(el.OAuthCodeVerifier,r),this.setPayload(new nW.Value(void 0)),this.onRedirect(s2(e,n),s1.get(e.clientId)),[3,3];case 2:return o=a.sent(),i=new nW.Error(o),this.setPayload(i),null===(t=this.onError)||void 0===t||t.call(this,i.error,i.nonce),[3,3];case 3:return[2]}})})},e.prototype.verifyStep=function(e){var t;return eL(this,void 0,void 0,function(){var r,n,o;return eN(this,function(i){switch(i.label){case 0:if(i.trys.push([0,3,,4]),this.setPayload(new nW.Loading),!(r=this.storage.getItem(el.OAuthCodeVerifier,!0)))throw Error("Cannot find the flow to continue");return[4,nD(r)];case 1:if(i.sent()!==e.codeChallenge)throw Error("Params mismatch");return[4,this.api.oAuthCodeExchangeRequest(j.OAuth.ClientId.Funnel,e.code,r)];case 2:return i.sent(),this.completeFlow(),this.setPayload(new nW.Value(void 0)),[3,4];case 3:return n=i.sent(),o=new nW.Error(n),this.setPayload(o),null===(t=this.onError)||void 0===t||t.call(this,o.error,o.nonce),[3,4];case 4:return[2]}})})},e.prototype.checkCurrentUser=function(e){var t,r;return eL(this,void 0,void 0,function(){var n,o;return eN(this,function(i){switch(i.label){case 0:if(!e.sessionToken)return[3,5];i.label=1;case 1:if(i.trys.push([1,4,,5]),!((n=null===(t=this.getCurrentUser)||void 0===t?void 0:t.call(this))&&!n.anonymous))return[3,3];return[4,nD("".concat(n.id).concat(e.externalState))];case 2:if(i.sent()===e.sessionToken)return[2,!0];i.label=3;case 3:return[3,5];case 4:return o=i.sent(),null===(r=this.onError)||void 0===r||r.call(this,o),[3,5];case 5:return[2,!1]}})})},e.prototype.completeFlow=function(){return this.onSuccess()},eR([tC.ref,eV("design:type",Object)],e.prototype,"payload",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[Object]),eV("design:returntype",Promise)],e.prototype,"tryStep",null),e}(),s4={alertContainer:"index_alertContainer__pNPhi"},s6=function(e){var t=e.title,r=e.message,n=e.nonce;return ed.createElement("div",{className:s4.alertContainer},ed.createElement(ip,{textAlign:"center"},t),ed.createElement(ii,{multiplier:3}),ed.createElement(al,null,ed.createElement(iy,null,r),n&&ed.createElement(ed.Fragment,null,ed.createElement(ii,{multiplier:4}),ed.createElement(iy,null,"Error: ",n))))},s7={container:"index_container__MnjXc"};!function(e){function t(t){var r=e.call(this,t)||this;return r.model=new s5(t.api,t.getCurrentUser,t.onSuccess,t.onRedirect,t.onError),r}eO(t,e),t.prototype.componentDidMount=function(){this.model.tryStep(this.props.params)},t.prototype.render=function(){var e=this.props.supportNewRequestUrl,t=this.model.payload;return ed.createElement("div",{className:s7.container},t.isError()?ed.createElement(ed.Fragment,null,ed.createElement(s6,{title:"Authorisation Error",message:"Unable to sign in due to an error. Please return to the application and try again.",nonce:t.nonce}),ed.createElement(ak,{href:e,target:"_blank"},"Contact Support")):ed.createElement(n2,{color:"neutral40",stylesOverrides:{width:100,height:100}}))},t=eR([nA,eV("design:paramtypes",[Object])],t)}(ed.PureComponent);var s9=function(e){return ed.createElement(og,{className:e.className,authSocialType:j.Social.Type.Google,text:e.text,onClick:e.onClick,showArrow:e.showArrow,isPrimaryColor:e.isPrimaryColor})};function s8(e){var t=(0,ed.useRef)(new oD(e.oAuthConfig)),r=(0,ed.useRef)(oz.get(e.cookieDomain)),n={action:e.authAction,socialType:j.Social.Type.Google};return{getSocialRedirectUrl:(0,ed.useCallback)(function(){try{null===(o=e.onBeforeSocialRedirect)||void 0===o||o.call(e,n,r.current.appendToState)}catch(e){}var o,i=r.current.saveState({context:n,initFlowUIState:{formKey:e.formKey}});return t.current.getOAuthProviderUrl(i)},[])}}var le=function(){function e(e,t,r,n,o,i){var a=this;this.api=e,this.ssoService=t,this.grammarlyAuthTracker=r,this.googleAuthTracker=n,this.rootLogger=o,this.options=i,this.formKey=N.GoogleOneTapSignUp,this.googleOneTapParentId="googleOneTapParent",this.showExplicitTermsOfService=!1,this.onTrackToSLinkFollow=function(e){var t,r;try{null===(r=(t=a.grammarlyAuthTracker).trackToSLinkFollow)||void 0===r||r.call(t,e)}catch(e){}},this.onCloseTermsModal=function(){a.showExplicitTermsOfService=!1,a.googleAuthToken=void 0},this.onAgreeAndSignUp=function(){a.googleAuthToken&&a.signupGrammarly(a.googleAuthToken)},this.initSSOContinueFlow=function(e){var t={action:a.ssoService.getAuthActionType(),email:"sso_dummy",isSSO:!0};a.onAuthSuccess(t,e)},this.tryToInitGoogleOneTap=function(e){void 0===e&&(e="init"),a.initGoogleOneTap()?a.logger.info("Successfully initialized Google One Tap",{callContext:e}):(a.logger.error("Failed to initialize Google One Tap",{callContext:e}),"onLoad"!==e&&window.addEventListener("load",function(){a.tryToInitGoogleOneTap("onLoad")}))},this.initGoogleOneTap=function(){var e,t;return null!==(t=null===(e=null==window?void 0:window.google)||void 0===e?void 0:e.accounts)&&void 0!==t&&!!t.id&&(window.google.accounts.id.initialize({client_id:a.options.googleClientId,prompt_parent_id:a.isCustomParentId?a.googleOneTapParentId:void 0,callback:a.onOneTapAuth,context:"signup"}),window.google.accounts.id.prompt(a.onOneTapPopupChange),!0)},this.onOneTapAuth=function(e){return eL(a,void 0,void 0,function(){var t,r,n,o,i,a;return eN(this,function(s){switch(s.label){case 0:if(s.trys.push([0,4,,5]),!(t=e.credential))return[3,2];return null===(o=(n=this.googleAuthTracker).trackGoogleAuthSuccess)||void 0===o||o.call(n),[4,this.signinGrammarly(t)];case 1:return s.sent(),[3,3];case 2:throw null===(a=(i=this.googleAuthTracker).trackGoogleAuthFail)||void 0===a||a.call(i),Error("Google One Tap auth response does not include credential Google ID token");case 3:return[3,5];case 4:return r=s.sent(),this.logger.error("Failed to authenticate user via Google One Tap",{error:r}),[3,5];case 5:return[2]}})})},this.onOneTapPopupChange=function(e){var t,r,n,o,i,s,l,c;e.isDisplayMoment()&&(e.isDisplayed()?null===(r=(t=a.googleAuthTracker).trackOneTapPopupChange)||void 0===r||r.call(t,"DISPLAY_SUCCESS"):e.isNotDisplayed()&&(null===(o=(n=a.googleAuthTracker).trackOneTapPopupChange)||void 0===o||o.call(n,"DISPLAY_FAIL",e.getNotDisplayedReason()))),e.isSkippedMoment()&&(null===(s=(i=a.googleAuthTracker).trackOneTapPopupChange)||void 0===s||s.call(i,"SKIPPED",e.getSkippedReason())),e.isDismissedMoment()&&(null===(c=(l=a.googleAuthTracker).trackOneTapPopupChange)||void 0===c||c.call(l,"DISMISSED",e.getDismissedReason()))},this.signupGrammarly=function(e){return eL(a,void 0,void 0,function(){var t,r,n,o,i,a,s,l;return eN(this,function(c){switch(c.label){case 0:t={action:"SIGNUP",socialType:j.Social.Type.Google},r=this.termsModel.getData(),c.label=1;case 1:return c.trys.push([1,4,,5]),this.onAuthAttempt(t,r),[4,this.api.signup({google_signup:{access_token:e},custom_fields:o$(eI(eI({},null===(l=(s=this.options).getAssignedCustomFields)||void 0===l?void 0:l.call(s,t.action)),{disableMarketingEmails:null===r.isMarketingEmailsAllowed?void 0:!r.isMarketingEmailsAllowed}))})];case 2:return o=(n=c.sent()).action,i=n.user,t=eI(eI({},t),{action:o}),[4,this.onAuthSuccess(t,i,r)];case 3:return c.sent(),[3,5];case 4:return a=c.sent(),this.onAuthFail(t,j.Error.AuthCommonError.create(a),r),[3,5];case 5:return[2]}})})},this.signinGrammarly=function(e){return eL(a,void 0,void 0,function(){var t,r,n,o,i,a,s,l,c,u=this;return eN(this,function(p){switch(p.label){case 0:t={action:"SIGNIN",socialType:j.Social.Type.Google},p.label=1;case 1:return p.trys.push([1,4,,5]),this.onAuthAttempt(t),[4,this.api.loginGeneric({google_login:{access_token:e},custom_fields:o$(eI(eI({},null===(c=(l=this.options).getAssignedCustomFields)||void 0===c?void 0:c.call(l,t.action)),{implicitSignupAllowed:!1}))})];case 2:return n=(r=p.sent()).action,o=r.user,t=eI(eI({},t),{action:n}),[4,this.onAuthSuccess(t,o)];case 3:return p.sent(),[3,5];case 4:return i=p.sent(),a=j.Error.AuthCommonError.create(i),j.Error.matchErrCode(a.errCode,((s={})[j.Error.ApiErrorCode.ExplicitSignUpRequired]=function(){u.trackAuthFail(t,a),u.showExplicitTermsOfService=!0,u.googleAuthToken=e},s[j.Error.ApiErrorCode.UseSso]=function(){var e,r=null===(e=a.nestedError.context)||void 0===e?void 0:e.redirectTo;r?(u.trackAuthFail(t,a),u.processSSOStartRequest({action:t.action,email:"sso_dummy",isSSO:!0},r)):u.onAuthFail(t,a)},s.default=function(){u.onAuthFail(t,a)},s)),[3,5];case 5:return[2]}})})},this.onAuthAttempt=function(e,t){var r,n,o,i;try{null===(n=(r=a.grammarlyAuthTracker).trackAttempt)||void 0===n||n.call(r,e,a.formKey,t),null===(i=(o=a.options).onAuthAttempt)||void 0===i||i.call(o,e)}catch(e){}},this.onAuthSuccess=function(e,t,r){return eL(a,void 0,void 0,function(){var n,o;return eN(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),null===(o=(n=this.grammarlyAuthTracker).trackSuccess)||void 0===o||o.call(n,e,this.formKey,r),[4,this.options.onAuthSuccess(e,t)];case 1:case 2:return i.sent(),[3,3];case 3:return[2]}})})},this.onAuthFail=function(e,t,r){var n,o;try{a.trackAuthFail(e,t,r),null===(o=(n=a.options).onAuthReject)||void 0===o||o.call(n,e,t)}catch(e){}},this.trackAuthFail=function(e,t,r){var n,o;try{null===(o=(n=a.grammarlyAuthTracker).trackFail)||void 0===o||o.call(n,t,e,a.formKey,r)}catch(e){}},this.isCustomParentId=this.options.isCustomParentId,this.termsModel=new n$(i.isGDPR),this.logger=this.rootLogger.getLogger("googleOneTap")}return e.prototype.init=function(){var e,t;return eL(this,void 0,void 0,function(){var r,n;return eN(this,function(o){switch(o.label){case 0:if(o.trys.push([0,3,,4]),n=null===(t=(e=this.options).getCurrentUser)||void 0===t?void 0:t.call(e))return[3,2];return[4,this.api.orAnonymous()];case 1:n=o.sent(),o.label=2;case 2:return r=n,[3,4];case 3:return o.sent(),[3,4];case 4:if(!r||r.anonymous)return[2,this.tryToInitGoogleOneTap("init")];if(r&&!r.anonymous&&this.ssoService.isContinueFlow)return[2,this.initSSOContinueFlow(r)];return[2]}})})},e.prototype.processSSOStartRequest=function(e,t){var r=this.ssoService.generateStateKey();document.location.href=this.ssoService.getRedirectLink(t,r)},eR([tC,eV("design:type",Object)],e.prototype,"showExplicitTermsOfService",void 0),eR([rl,eV("design:type",Object)],e.prototype,"onCloseTermsModal",void 0),eR([rl,eV("design:type",Object)],e.prototype,"onOneTapAuth",void 0),eR([rl,eV("design:type",Object)],e.prototype,"signinGrammarly",void 0),eR([rl,eV("design:type",Function),eV("design:paramtypes",[Object,String]),eV("design:returntype",void 0)],e.prototype,"processSSOStartRequest",null),e}(),lt={googleOneTapContainer:"google_one_tap_googleOneTapContainer__ocReS",termsModal:"google_one_tap_termsModal__2-1RF",termsModalHeader:"google_one_tap_termsModalHeader__sn8IO",termsModalBody:"google_one_tap_termsModalBody__lFwCs",closeButton:"google_one_tap_closeButton__M3JIT"},lr=function(e){var t=e.googleOneTapModel;return ed.createElement("div",{className:lt.termsModal},ed.createElement("div",{className:lt.termsModalHeader},ed.createElement(ln,null),ed.createElement("button",{className:lt.closeButton,onClick:t.onCloseTermsModal},ed.createElement(lo,null))),ed.createElement("div",{className:lt.termsModalBody},ed.createElement(i8,{model:t.termsModel,trackToSLinkFollow:t.onTrackToSLinkFollow}),ed.createElement(ii,{multiplier:2}),ed.createElement(op,{compact:!0,text:"Agree and Sign up",color:z.Green,onClick:t.onAgreeAndSignUp})))},ln=function(){return ed.createElement("svg",{width:"122",height:"32",viewBox:"0 0 122 32",fill:"none"},ed.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M36.917 22.95c-.446-.17-.738-.53-.738-1.01 0-.581.48-1.06 1.064-1.06.172 0 .31.034.43.085a5.965 5.965 0 0 0 2.541.548c1.787 0 2.628-.855 2.628-2.499v-.445c-.773.925-1.614 1.49-3.005 1.49-2.147 0-4.088-1.558-4.088-4.28v-.033c0-2.739 1.975-4.279 4.088-4.279 1.425 0 2.266.6 2.97 1.37v-.018c0-.702.584-1.283 1.306-1.283.72 0 1.304.581 1.304 1.3v5.905c0 1.643-.394 2.84-1.167 3.61-.859.857-2.181 1.233-3.967 1.233a8.841 8.841 0 0 1-3.366-.634zm5.925-7.17v-.034c0-1.25-.98-2.123-2.25-2.123s-2.232.873-2.232 2.123v.034c0 1.266.962 2.122 2.232 2.122 1.27 0 2.25-.873 2.25-2.122zm4.053-2.944c0-.719.584-1.3 1.305-1.3.722 0 1.305.581 1.305 1.3v.41c.378-.889.996-1.71 1.77-1.71.807 0 1.27.53 1.27 1.266 0 .684-.446 1.095-.979 1.215-1.322.309-2.06 1.318-2.06 3.166v2.43c0 .719-.584 1.301-1.306 1.301a1.302 1.302 0 0 1-1.305-1.3v-6.778zm5.341 5.34v-.034c0-2.003 1.528-2.927 3.71-2.927.927 0 1.597.154 2.25.376v-.154c0-1.077-.67-1.677-1.975-1.677a6.01 6.01 0 0 0-1.804.257 1.108 1.108 0 0 1-.377.069 1.062 1.062 0 0 1-1.082-1.062c0-.462.29-.855.704-1.01.824-.308 1.717-.478 2.936-.478 1.425 0 2.456.376 3.108 1.026.687.684.997 1.695.997 2.927v4.175c0 .702-.567 1.25-1.271 1.25-.756 0-1.254-.53-1.254-1.078v-.018c-.635.702-1.51 1.164-2.782 1.164-1.734 0-3.16-.992-3.16-2.806zm5.994-.6v-.461a4.061 4.061 0 0 0-1.666-.343c-1.117 0-1.803.445-1.803 1.267v.034c0 .702.584 1.113 1.425 1.113 1.22 0 2.044-.668 2.044-1.61zm3.864-4.74c0-.719.584-1.3 1.306-1.3.721 0 1.305.581 1.305 1.3v.103c.6-.77 1.391-1.472 2.713-1.472 1.202 0 2.112.53 2.593 1.455.807-.941 1.77-1.455 3.022-1.455 1.941 0 3.11 1.164 3.11 3.372v4.774c0 .719-.585 1.301-1.306 1.301a1.303 1.303 0 0 1-1.306-1.3v-3.92c0-1.232-.55-1.865-1.528-1.865-.979 0-1.58.633-1.58 1.865v3.92c0 .718-.583 1.3-1.305 1.3a1.303 1.303 0 0 1-1.305-1.3v-3.92c0-1.232-.55-1.865-1.528-1.865-.98 0-1.58.633-1.58 1.865v3.92c0 .718-.584 1.3-1.305 1.3a1.302 1.302 0 0 1-1.306-1.3v-6.778zm15.457 0c0-.719.584-1.3 1.305-1.3.722 0 1.306.581 1.306 1.3v.103c.6-.77 1.39-1.472 2.713-1.472 1.202 0 2.112.53 2.593 1.455.807-.941 1.769-1.455 3.022-1.455 1.941 0 3.109 1.164 3.109 3.372v4.774c0 .719-.584 1.301-1.306 1.301a1.303 1.303 0 0 1-1.305-1.3v-3.92c0-1.232-.55-1.865-1.528-1.865-.98 0-1.58.633-1.58 1.865v3.92c0 .718-.584 1.3-1.305 1.3a1.302 1.302 0 0 1-1.305-1.3v-3.92c0-1.232-.55-1.865-1.529-1.865-.979 0-1.58.633-1.58 1.865v3.92c0 .718-.583 1.3-1.305 1.3a1.302 1.302 0 0 1-1.305-1.3v-6.778zm14.907 5.34v-.034c0-2.003 1.529-2.927 3.71-2.927a6.56 6.56 0 0 1 2.249.376v-.154c0-1.077-.67-1.677-1.975-1.677-.721 0-1.305.103-1.803.257a1.108 1.108 0 0 1-.377.069 1.061 1.061 0 0 1-1.083-1.062c0-.462.293-.855.704-1.01.825-.308 1.718-.478 2.937-.478 1.426 0 2.456.376 3.108 1.026.687.684.996 1.695.996 2.927v4.175a1.25 1.25 0 0 1-1.27 1.25c-.756 0-1.254-.53-1.254-1.078v-.018c-.635.702-1.512 1.164-2.782 1.164-1.735 0-3.16-.992-3.16-2.806zm5.994-.6v-.461a4.063 4.063 0 0 0-1.666-.343c-1.117 0-1.803.445-1.803 1.267v.034c0 .702.583 1.113 1.425 1.113 1.219 0 2.044-.668 2.044-1.61zm3.864-4.74c0-.719.584-1.3 1.305-1.3.722 0 1.305.581 1.305 1.3v.41c.378-.889.996-1.71 1.77-1.71.806 0 1.27.53 1.27 1.266 0 .684-.447 1.095-.979 1.215-1.322.309-2.061 1.318-2.061 3.166v2.43c0 .719-.583 1.301-1.305 1.301a1.303 1.303 0 0 1-1.305-1.3v-6.778zm6.44-3.32c0-.72.584-1.3 1.305-1.3.722 0 1.306.58 1.306 1.3v10.097c0 .719-.584 1.301-1.306 1.301a1.303 1.303 0 0 1-1.305-1.3V9.515zm4.689 13.845c-.378-.136-.825-.445-.825-1.077a1.04 1.04 0 0 1 1.031-1.062c.206 0 .326.034.429.069.223.068.361.103.55.103.463 0 .687-.086.927-.548l.086-.206-3.142-7.256a1.885 1.885 0 0 1-.138-.6c0-.735.567-1.248 1.288-1.248.652 0 1.03.359 1.253.975l1.993 5.34 1.923-5.323c.206-.547.583-.992 1.254-.992.669 0 1.235.513 1.235 1.198 0 .205-.068.496-.119.616l-3.212 7.684c-.773 1.865-1.545 2.567-3.108 2.567-.584 0-.996-.085-1.425-.24z",fill:"#4C4C4C"}),ed.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.526 16.214c0 7.85-6.386 14.214-14.263 14.214S0 24.064 0 16.214C0 8.364 6.386 2 14.263 2s14.263 6.364 14.263 14.214z",fill:"#15C39A"}),ed.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.127 19.283c.084.465.523.784.998.784h1.494l.866-.12c-1.386 2.026-3.792 2.958-6.423 2.547-2.142-.335-3.982-1.78-4.759-3.797-1.762-4.579 1.593-8.95 5.966-8.95 2.279 0 4.277 1.329 5.423 2.934.304.437.908.597 1.347.294a.95.95 0 0 0 .288-1.265 8.377 8.377 0 0 0-7.637-3.83c-4.17.279-7.545 3.68-7.785 7.838-.278 4.84 3.573 8.79 8.364 8.79a8.304 8.304 0 0 0 6.304-2.859l-.182 1.014v.916c0 .472.32.91.787.994a.967.967 0 0 0 1.146-.947V18.14h-5.247a.965.965 0 0 0-.95 1.143z",fill:"#fff"}))},lo=function(){return ed.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"#5f6368"},ed.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),ed.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}))},li=nA(function(e){function t(t){var r=e.call(this,t)||this;return r.model=new le(t.api,sG,t.tracker,t.googleOneTapTracker,t.logger,{googleClientId:t.config.socialOAuth.google.clientId,isCustomParentId:!!t.fixedPositionDesktop,isGDPR:t.isGDPR,getAssignedCustomFields:t.getAssignedCustomFields,getCurrentUser:t.getCurrentUser,onAuthAttempt:t.onAuthAttempt,onAuthSuccess:t.onAuthSuccess,onAuthReject:t.onAuthReject}),r}return eO(t,e),t.prototype.componentDidMount=function(){this.model.init()},t.prototype.render=function(){if(this.model.isCustomParentId){var e={className:lt.googleOneTapContainer,style:this.props.fixedPositionDesktop};return this.model.showExplicitTermsOfService?ed.createElement("div",eI({},e),ed.createElement(lr,{googleOneTapModel:this.model})):ed.createElement("div",eI({id:this.model.googleOneTapParentId,"data-prompt_parent_id":this.model.googleOneTapParentId},e))}return this.model.showExplicitTermsOfService?ed.createElement(lr,{googleOneTapModel:this.model}):null},t}(ed.PureComponent)),la={container:"with_border_container__04AEG"},ls=ed.memo(function(e){var t=e.children;return ed.createElement("div",{className:la.container},t)}),ll=function(){function e(e,t,r,n){var o=this;this.tokensApi=e,this.appsApi=t,this.getCurrentUser=r,this.oAuthParams=n,this.onAuthorizeConsentSuccessWebMessage=function(e){var t=o.getValidatedParams(),r=t.redirectUri,n=t.state;if(!window.opener)throw new L.AuthCommonError(L.UiErrorCode.PostMessageOpenerDNE);window.opener.postMessage({type:"authorization_response",response:{code:e,state:n}},r)},this.onAuthorizeConsentSuccessRedirect=function(e,t){var r=o.getValidatedParams(),n=r.redirectUri,i=r.state;if(void 0===i)throw new L.AuthCommonError(L.UiErrorCode.StateMismatch);var a=oV(n,{code:e,state:i});t&&(t.location.href=a)},this.onCancelFlow=function(e){var t=o.getValidatedParams(),r=t.redirectUri,n=t.responseMode,i=t.state,a=t.close;if("web_message"===n){if(!window.opener)throw new L.AuthCommonError(L.UiErrorCode.PostMessageOpenerDNE);window.opener.postMessage({type:"authorization_cancel",response:{reason:e,state:i}},r)}(a||"redirect_json"===n)&&window.close()}}return Object.defineProperty(e.prototype,"currentUser",{get:function(){return this.getCurrentUser()},enumerable:!1,configurable:!0}),e.prototype.loadClientAppInfo=function(){return eL(this,void 0,void 0,function(){var e,t,r,n,o,i;return eN(this,function(a){switch(a.label){case 0:return t=(e=this.getValidatedParams()).clientId,e.redirectUri,[4,this.callWithTimeout(this.appsApi.getClientInfo(t),"appsApi.getClientInfo")];case 1:return o=void 0===(n=(r=a.sent()).displayName)?t:n,i=r.logoUrl,[2,{name:o,privacyPolicyUrl:r.privacyPolicyUrl,homepageUrl:r.homepageUrl,logoImgUrl:i,developerDisplayName:r.developerDisplayName}]}})})},e.prototype.loadOAuthState=function(){return eL(this,void 0,void 0,function(){var e,t,r,n,o,i,a,s;return eN(this,function(l){switch(l.label){case 0:return t=(e=this.getValidatedParams()).clientId,r=e.redirectUri,n=e.scopes,[4,this.callWithTimeout(this.tokensApi.getState(t),"tokensApi.getState")];case 1:return o=l.sent(),a=null!=(i=ec.parse(o.scopes||[]))?i:[],s=n.filter(function(e){return!a.includes(e)}),[2,{redirectUri:r,requestedScopes:n,approvedScopes:a,notYetApprovedScopes:s,neverApprovedScopes:["Access your personal information like your name or email","Access your documents stored in your Grammarly account","See your activity with Grammarly on other sites or applications"]}]}})})},e.prototype.checkAlreadyConsentedAndNoNewScopes=function(e){return e.approvedScopes.length>0&&e.notYetApprovedScopes.length<1},e.prototype.getParams=function(){return this.oAuthParams},Object.defineProperty(e.prototype,"ctaAcceptLabel",{get:function(){switch(this.getValidatedParams().responseMode){case"redirect_json":return"Continue";case"web_message":return"Connect"}},enumerable:!1,configurable:!0}),e.prototype.getValidatedParams=function(){var e=this.getParams(),t=e.clientId,r=e.state,n=e.redirectUri,o=e.responseMode,i=e.codeChallenge,a=e.scopes,s=e.close;if(!t)throw new L.AuthCommonError(L.UiErrorCode.MissingClientId);if(!n)throw new L.AuthCommonError(L.UiErrorCode.MissingRedirectUri);if(!i)throw new L.AuthCommonError(L.UiErrorCode.MissingCodeChallenge);if(!a)throw new L.AuthCommonError(L.UiErrorCode.MissingScopes);var l=ec.parse(a);if(0===l.length)throw new L.AuthCommonError(L.UiErrorCode.InvalidScopes);return{state:r,clientId:t,redirectUri:n,responseMode:function(e){switch(void 0===e&&(e=""),e){case"web_message":default:return"web_message";case"redirect_json":return"redirect_json"}}(o),codeChallenge:i,scopes:l,close:s}},e.prototype.callWithTimeout=function(e,t){return eL(this,void 0,void 0,function(){var r;return eN(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,L.resolveOrTimeout(e,t,15e3)];case 1:return[2,n.sent()];case 2:throw(r=n.sent())instanceof L.RequestError&&(r.details="".concat(r.details," for event=").concat(t)),r;case 3:return[2]}})})},e.prototype.loadAuthorizeConsent=function(){return eL(this,void 0,void 0,function(){var e,t,r,n,o,i,a,s,l,c,u,p;return eN(this,function(d){switch(d.label){case 0:t=(e=this.getValidatedParams()).clientId,r=e.redirectUri,n=e.responseMode,o=e.codeChallenge,i=e.scopes,a=nU(30),s=null,"redirect_json"===n&&(s=window.open("","_blank")),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.callWithTimeout(this.tokensApi.authorizeNewScopes({client_id:t,code_challenge:o,redirect_uri:r,state:a,response_mode:n,scopes:i}),"tokensApi.authorize")];case 2:if(c=(l=d.sent()).state,u=l.code,c===a)"web_message"===n?this.onAuthorizeConsentSuccessWebMessage(u):"redirect_json"===n&&this.onAuthorizeConsentSuccessRedirect(u,s);else throw null==s||s.close(),new L.AuthCommonError(L.UiErrorCode.StateMismatch);return[3,4];case 3:throw p=d.sent(),null==s||s.close(),L.AuthCommonError.create(p);case 4:return[2]}})})},e}(),lc=function(){function e(e,t,r){var n=this;this.oAuthParams=e,this.getCurrentUser=t,this.redirectAfterConsent=r,this.clientAppConsentFlowType="preApproved",this.init=function(){return eL(n,void 0,void 0,function(){return eN(this,function(e){return[2]})})},this.authorizeConsent=function(){return eL(n,void 0,void 0,function(){return eN(this,function(e){return this.redirectAfterConsent(),[2]})})}}return Object.defineProperty(e.prototype,"clientId",{get:function(){return this.oAuthParams.clientId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){return this.getCurrentUser()},enumerable:!1,configurable:!0}),e}(),lu=function(e){function t(t,r,n,o,i,a,s){var l=e.call(this,r,n,o,t)||this;return l.oAuthAppTracking=i,l.rootLogger=a,l.onError=s,l.clientAppConsentFlowType="partner",l.partnerAppConsentStatePayload=new nW.Empty,l.authorizeConsentPayload=new nW.Empty,l.isApprovedByInstitutionAdmin=!1,l.log=function(e,t,r){void 0===r&&(r={}),l.logger.info(e,eI(eI(eI({},r),{method:e,type:t}),l.getParams()))},l.onHomepageLinkClick=function(){var e,t;null===(t=(e=l.oAuthAppTracking).trackOAuthAppConsentLinkClick)||void 0===t||t.call(e,"developerHomepage",l.clientId)},l.onPrivacyLinkClick=function(){var e,t;null===(t=(e=l.oAuthAppTracking).trackOAuthAppConsentLinkClick)||void 0===t||t.call(e,"privacyPolicy",l.clientId)},l.authorizeConsent=function(){return eL(l,void 0,void 0,function(){var e,t,r,n,o,i;return eN(this,function(a){switch(a.label){case 0:if(!this.partnerAppConsentStatePayload.isValue())return[2];null===(o=(n=this.oAuthAppTracking).trackOAuthAppConsentButtonClick)||void 0===o||o.call(n,"continue",this.clientId),this.log("authorizeConsent","start"),this.setAuthorizeConsentPayload(new nW.Loading),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.loadAuthorizeConsent()];case 2:return a.sent(),this.log("authorizeConsent","end"),[3,4];case 3:return e=a.sent(),t=j.Error.AuthCommonError.create(e),r=new nW.Error(t),this.setAuthorizeConsentPayload(r),null===(i=this.onError)||void 0===i||i.call(this,t,r.nonce),this.logger.error("authorizeConsent",t,{nonce:r.nonce}),[3,4];case 4:return[2]}})})},l.cancelFlow=function(){var e,t,r;if(l.partnerAppConsentStatePayload.isValue()){null===(t=(e=l.oAuthAppTracking).trackOAuthAppConsentButtonClick)||void 0===t||t.call(e,"cancel",l.clientId),l.log("cancelFlow","start"),l.setAuthorizeConsentPayload(new nW.Loading);try{l.onCancelFlow("USER_CANCELLATION"),l.log("cancelFlow","end")}catch(e){var n=j.Error.AuthCommonError.create(e),o=new nW.Error(n);l.setAuthorizeConsentPayload(o),null===(r=l.onError)||void 0===r||r.call(l,n,o.nonce),l.logger.error("cancelFlow",n,{nonce:o.nonce})}}},l.logger=l.rootLogger.getLogger("oauthConsentPartnerApp"),l}return eO(t,e),Object.defineProperty(t.prototype,"userConsentFlowType",{get:function(){return"basic"},enumerable:!1,configurable:!0}),t.prototype.init=function(){var e;return eL(this,void 0,void 0,function(){var t,r,n,o,i,a;return eN(this,function(s){switch(s.label){case 0:this.log("init","start"),this.setPartnerAppConsentStatePayload(new nW.Loading),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all([this.loadClientAppInfo(),this.loadOAuthState()])];case 2:return r=(t=eU.apply(void 0,[s.sent(),2]))[0],n=t[1],this.setPartnerAppConsentStatePayload(new nW.Value({clientAppInfo:r,oAuthState:n})),this.log("init","end"),[3,4];case 3:return o=s.sent(),i=j.Error.AuthCommonError.create(o),a=new nW.Error(i),this.setPartnerAppConsentStatePayload(a),null===(e=this.onError)||void 0===e||e.call(this,i,a.nonce),this.logger.error("init",i,{nonce:a.nonce}),[3,4];case 4:return[2]}})})},Object.defineProperty(t.prototype,"clientId",{get:function(){return this.getValidatedParams().clientId},enumerable:!1,configurable:!0}),t.prototype.setPartnerAppConsentStatePayload=function(e){this.partnerAppConsentStatePayload=e},t.prototype.setAuthorizeConsentPayload=function(e){this.authorizeConsentPayload=e},eR([tC.ref,eV("design:type",Object)],t.prototype,"partnerAppConsentStatePayload",void 0),eR([tC.ref,eV("design:type",Object)],t.prototype,"authorizeConsentPayload",void 0),eR([rl.bound,eV("design:type",Function),eV("design:paramtypes",[]),eV("design:returntype",Promise)],t.prototype,"init",null),t}(ll);(P=(F=ec||(ec={})).Code||(F.Code={})).GRAMMARLY_CAPI_ALL="grammarly.capi.all",F.Labels=((T={})[P.GRAMMARLY_CAPI_ALL]=["Give you writing suggestions from your personal Grammarly account and keep your session when you're offline"],T),M=new Set(Object.values(P)),F.parse=function(e){return e.filter(function(e){return M.has(e)})};var lp={emailLabel:"oauth_consent_emailLabel__rlYCP"},ld=function(e){var t=s0(e);return t&&t!==es.Grammarly?"You are about to sign in to ".concat(t," using your Grammarly account."):"You’re about to sign in to your Grammarly account."},lh=function(e){var t=e.oAuthClientId,r=e.currentUser,n=e.onSubmit;return ed.createElement(aa,{onSubmit:n},ed.createElement(an,null,"Sign in"),(null==r?void 0:r.email)&&ed.createElement(ed.Fragment,null,ed.createElement(im,{color:"neutral60",textAlign:"center"},ed.createElement("span",{className:lp.emailLabel,title:r.email},"as ",ed.createElement(iE,{bold:!0},null==r?void 0:r.email))),ed.createElement(ii,{multiplier:4})),ed.createElement(ig,{color:"neutral60",textAlign:"center"},ld(t)),ed.createElement(ii,{multiplier:3}),ed.createElement(oh,{text:"Continue to Grammarly",qa:"btnOAuthConsent"}))},lm=function(e){var t=e.model;return ed.createElement(ls,null,ed.createElement(lh,{oAuthClientId:t.clientId,currentUser:t.currentUser,onSubmit:t.authorizeConsent}))},lf={container:"index_container__kjtWf"},lg=function(){return ed.createElement("div",{className:lf.container},ed.createElement(iv,null,"Grammarly is committed to protecting your privacy."),ed.createElement(ii,{multiplier:1}),ed.createElement(iv,null,ed.createElement(oA,{href:"/trust",target:"_blank"},"User Trust Guidelines"),ed.createElement(ia,{multiplier:2}),ed.createElement(oA,{href:"/privacy-policy",target:"_blank"},"Privacy Policy"),ed.createElement(ia,{multiplier:2}),ed.createElement(oA,{href:"/security",target:"_blank"},"Security")))},ly=function(e){return ed.createElement("svg",{style:e.stylesOverrides,width:"160",height:"160",viewBox:"0 0 160 160"},ed.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},ed.createElement("g",{transform:"translate(-54.000000, -28.000000)"},ed.createElement("g",{transform:"translate(54.000000, 28.000000)"},ed.createElement("path",{d:"M160,80 C160,124.18087 124.184348,160 80,160 C35.8191304,160 0,124.18087 0,80 C0,35.8156522 35.8191304,0 80,0 C124.184348,0 160,35.8156522 160,80",fill:"#15C39A"}),ed.createElement("path",{d:"M90.3892154,97.2730435 C90.8617978,99.8921739 93.3220063,101.686957 95.9802825,101.686957 L104.354721,101.686957 L109.209115,101.005217 C101.442779,112.410435 87.9568059,117.65913 73.2129293,115.342609 C61.2107257,113.457391 50.9007842,105.328696 46.550246,93.9756522 C36.6746633,68.2052174 55.477189,43.6 79.9785027,43.6 C92.7486527,43.6 103.950231,51.0776226 110.366247,60.1182609 C112.216457,62.7253421 115.453458,63.4782609 117.913667,61.7704348 C120.24878,60.1495652 120.929854,57.0713043 119.526007,54.6504348 C110.644237,40.7721739 94.6841557,31.8921739 76.7364482,33.0956522 C53.3679424,34.6643478 34.4576958,53.8052174 33.1129208,77.2104348 C31.5527039,104.445217 53.1351261,126.681739 79.9785027,126.681739 C94.0795282,126.681739 106.703734,120.535652 115.304039,110.591304 L114.285902,116.295652 L114.285902,121.450435 C114.285902,124.107826 116.07546,126.573913 118.692038,127.046957 C122.128685,127.666087 125.117074,125.04 125.117074,121.714783 L125.117074,90.8417391 L95.7127174,90.8417391 C92.390741,90.8417391 89.7672136,93.8365217 90.3892154,97.2730435 Z",fill:"#FFFFFF"})))))},lv=function(){return ed.createElement("svg",{width:"26",height:"40",viewBox:"0 0 26 40",fill:"none"},ed.createElement("path",{d:"M25.7071 8.70711C26.0976 8.31658 26.0976 7.68342 25.7071 7.29289L19.3431 0.928932C18.9526 0.538408 18.3195 0.538408 17.9289 0.928932C17.5384 1.31946 17.5384 1.95262 17.9289 2.34315L23.5858 8L17.9289 13.6569C17.5384 14.0474 17.5384 14.6805 17.9289 15.0711C18.3195 15.4616 18.9526 15.4616 19.3431 15.0711L25.7071 8.70711ZM1 9H25V7H1V9Z",fill:"#C6CBDE"}),ed.createElement("path",{d:"M0.292894 31.2929C-0.0976315 31.6834 -0.0976315 32.3166 0.292894 32.7071L6.65685 39.0711C7.04738 39.4616 7.68054 39.4616 8.07107 39.0711C8.46159 38.6805 8.46159 38.0474 8.07107 37.6569L2.41421 32L8.07107 26.3431C8.46159 25.9526 8.46159 25.3195 8.07107 24.9289C7.68054 24.5384 7.04738 24.5384 6.65685 24.9289L0.292894 31.2929ZM25 31L1 31V33H25V31Z",fill:"#C6CBDE"}))},lE={container:"index_container__GgkSR",logosContainer:"index_logosContainer__5vOPg",partnerPlaceholderIcon:"index_partnerPlaceholderIcon__hLEwG",partnerLogoIconImg:"index_partnerLogoIconImg__sbrzp"},lw=function(e){return ed.createElement("div",{className:lE.container},ed.createElement("div",{className:lE.logosContainer},e.partnerLogoImgUrl?ed.createElement("img",{width:56,height:56,className:lE.partnerLogoIconImg,src:e.partnerLogoImgUrl}):ed.createElement("div",{className:lE.partnerPlaceholderIcon},e.partnerName[0]),ed.createElement(ia,{multiplier:2}),ed.createElement(lv,null),ed.createElement(ia,{multiplier:2}),ed.createElement(ly,{stylesOverrides:{width:56,height:56}})),ed.createElement(ii,{multiplier:4}),ed.createElement(iu,{textAlign:"center"},"Connect ",e.partnerName," to your Grammarly account"))},lb={container:"positive_container__eRmMq",item:"positive_item__WCETH"},lS=function(e){return ed.createElement("ul",{className:lb.container},e.items.map(function(e,t){return ed.createElement("li",{key:t,className:lb.item},e)}))},lC={container:"negative_container__h8C-m",item:"negative_item__3lhNH"},lk=function(e){return ed.createElement("ul",{className:lC.container},e.items.map(function(e,t){return ed.createElement("li",{key:t,className:lC.item},e)}))},l_=function(e){var t=e.clientAppName,r=e.approvedScopes,n=e.notYetApprovedScopes,o=e.neverApprovedScopes;return ed.createElement(ed.Fragment,null,n.length>0&&ed.createElement(ed.Fragment,null,ed.createElement(ih,null,"This will allow ",t," to:"),ed.createElement(ii,{multiplier:2}),ed.createElement(lS,{items:n.map(function(e){return ec.Labels[e]}).reduce(function(e,t){return eD(eD([],eU(e),!1),eU(t),!1)},[])}),ed.createElement(ii,{multiplier:4})),r.length>0&&ed.createElement(ed.Fragment,null,ed.createElement(ih,null,t," is already allowed to:"),ed.createElement(ii,{multiplier:2}),ed.createElement(lS,{items:[r.map(function(e){return ec.Labels[e]}).reduce(function(e,t){return eD(eD([],eU(e),!1),eU(t),!1)},[]).join(" ")]}),ed.createElement(ii,{multiplier:4})),o.length>0&&ed.createElement(ed.Fragment,null,ed.createElement(ih,null,t," will ",ed.createElement("i",null,"not")," be able to:"),ed.createElement(ii,{multiplier:2}),ed.createElement(lk,{items:o})))},lA={scopes:"index_scopes__dPvIS",link:"index_link__37Jdc",ctaContainer:"index_ctaContainer__bJoQD",lineSeparator:"index_lineSeparator__nGi3I"},lF=function(){return ed.createElement(ed.Fragment,null,ed.createElement(aD,null,"To make this application available to your organization, you first need to approve it in the Admin Panel."),ed.createElement(ii,{multiplier:4}),ed.createElement("div",{className:lA.ctaContainer},ed.createElement(op,{text:"Go to the Admin Panel",color:z.AccessibleGreen,onClick:function(){}})))},lT=function(e){var t=e.clientAppInfo;return ed.createElement(ed.Fragment,null,ed.createElement(aD,null,"A ",t.name," admin needs to approve this app before you can connect your account. Click ",ed.createElement("b",null,"Request approval")," below to notify an admin."),ed.createElement(ii,{multiplier:4}),ed.createElement("div",{className:lA.ctaContainer},ed.createElement(op,{text:"Request approval",color:z.AccessibleGreen,onClick:function(){}})))};O=eu||(eu={}),(I={})[L.UiErrorCode.MissingClientId]="Missing client ID",I[L.UiErrorCode.MissingCodeChallenge]="Missing code challenge",I[L.UiErrorCode.MissingRedirectUri]="Missing redirect URI",I[L.UiErrorCode.MissingScopes]="Missing scopes",I[L.UiErrorCode.NotImplemented]="Not implemented",I[L.UiErrorCode.PostMessageOpenerDNE]="Post message opener DNE. Tab closed?",I[L.UiErrorCode.StateMismatch]="State mismatch",I[L.UiErrorCode.InvalidRedirectUri]="Invalid redirect URI",I[L.UiErrorCode.InvalidScopes]="Invalid scopes",I[L.ApiErrorCode.InvalidClient]="Invalid client",I[L.ApiErrorCode.CannotUpdateDatabase]="Cannot update database",I[L.ApiErrorCode.InvalidClientType]="Invalid client type",I[L.ApiErrorCode.InvalidOrigin]="Invalid origin",I[L.ApiErrorCode.InvalidRedirectUri]="Invalid redirect URI",I[L.ApiErrorCode.InvalidScope]="Invalid scope",I[L.ApiErrorCode.NotImplemented]="Not implemented",I[L.ApiErrorCode.OAuthNotEnabled]="OAuth not enabled",I[L.ApiErrorCode.ValidationError]="Field validation error",I[L.ApiErrorCode.FailedTokenGeneration]="Token generation failed",I[L.ApiErrorCode.UserNotAuthorized]="User not authorized",I[L.ApiErrorCode.InvalidGrantType]="Invalid grant type",I[L.ApiErrorCode.MissingParameter]="Missing parameter",O.getMessageFromErrCode=function(e){return L.isAuthCommonError(e)&&I[e.errCode]||"Unable to continue due to an error. Please return to the application and try again."};var lP=function(){return ed.createElement("svg",{width:"11",height:"11",viewBox:"0 0 11 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ed.createElement("path",{d:"M4 0.5H2.5C1.39543 0.5 0.5 1.39543 0.5 2.5V8.5C0.5 9.60457 1.39543 10.5 2.5 10.5H8.5C9.60457 10.5 10.5 9.60457 10.5 8.5V7M5.5 5.5L10.5 0.5M10.5 0.5H6.5M10.5 0.5V4.5",stroke:"#4A6EE0","stroke-linecap":"round"}))},lM={appVerification:"app_verification_appVerification__orgy-",appLink:"app_verification_appLink__HSVXK"},lO=function(e){var t=e.redirectUri,r=e.displayName,n=e.homepageUrl,o=e.privacyPolicyUrl,i=e.developerDisplayName,a=e.onPrivacyLinkClick,s=e.onHomepageLinkClick;return ed.createElement("div",{className:lM.appVerification},ed.createElement(iy,null,"Make sure you trust this app before connecting."),ed.createElement(iy,null,i&&"By ".concat(i," \xb7 "),ed.createElement(oA,{onClick:function(){return s()},href:n,target:"_blank",className:lM.appLink},function(e){try{return new URL(e).host.replace(/^(www\.)/,"")}catch(e){return null}}(n)," ",ed.createElement(lP,null))," ","\xb7"," ",ed.createElement(oA,{onClick:function(){return a()},href:o,target:"_blank",className:lM.appLink},r,"'s privacy policy")," ",ed.createElement(lP,null)),ed.createElement(iv,null,"You will be connecting to ",t,"."))},lI=function(e){var t=e.clientAppInfo,r=e.oAuthState,n=e.ctaAcceptLabel,o=e.authorizeConsentPayload,i=e.onCancel,a=e.onAuthorizeConsent,s=e.onHomepageLinkClick,l=e.onPrivacyLinkClick;return ed.createElement(ed.Fragment,null,ed.createElement(lO,{displayName:t.name,developerDisplayName:t.developerDisplayName,privacyPolicyUrl:t.privacyPolicyUrl,homepageUrl:t.homepageUrl,redirectUri:r.redirectUri,onHomepageLinkClick:s,onPrivacyLinkClick:l}),ed.createElement(ii,{multiplier:4}),o.isError()&&ed.createElement(ed.Fragment,null,ed.createElement(al,null,eu.getMessageFromErrCode(o.error),ed.createElement(ii,{multiplier:2}),"Error: ",o.nonce),ed.createElement(ii,{multiplier:4})),ed.createElement("div",{className:lA.ctaContainer},ed.createElement(od,{text:"Cancel",onClick:i}),ed.createElement(ia,{multiplier:2}),ed.createElement(op,{text:n,color:z.AccessibleGreen,onClick:a,status:o.isLoading()?W.Loading:W.Active})))},lx=function(e){var t=e.userConsentFlowType,r=e.clientAppInfo,n=e.ctaAcceptLabel,o=e.oAuthState,i=e.authorizeConsentPayload,a=e.onAuthorizeConsent,s=e.onCancel,l=e.onHomepageLinkClick,c=e.onPrivacyLinkClick;switch(ex(e,["userConsentFlowType","clientAppInfo","ctaAcceptLabel","oAuthState","authorizeConsentPayload","onAuthorizeConsent","onCancel","onHomepageLinkClick","onPrivacyLinkClick"]),t){case"institutionAdminGrantApproval":return ed.createElement(lF,null);case"institutionRequestApproval":return ed.createElement(lT,{clientAppInfo:r});default:return ed.createElement(lI,{clientAppInfo:r,oAuthState:o,ctaAcceptLabel:n,authorizeConsentPayload:i,onAuthorizeConsent:a,onCancel:s,onHomepageLinkClick:l,onPrivacyLinkClick:c})}},lR=function(e){var t=ex(e,[]);return ed.createElement(ed.Fragment,null,ed.createElement(lw,{partnerName:t.clientAppInfo.name,partnerLogoImgUrl:t.clientAppInfo.logoImgUrl}),ed.createElement(ii,{multiplier:4}),ed.createElement("div",{className:lA.scopes},ed.createElement(l_,{clientAppName:t.clientAppInfo.name,approvedScopes:t.oAuthState.approvedScopes,notYetApprovedScopes:t.oAuthState.notYetApprovedScopes,neverApprovedScopes:t.oAuthState.neverApprovedScopes}),ed.createElement(ii,{multiplier:5}),ed.createElement(lx,eI({},t)),ed.createElement(ii,{multiplier:4})))},lV={container:"index_container__dTC-0",footer:"index_footer__AQ-NB"},lL=nA(function(e){var t=e.model,r=e.supportNewRequestUrl,n=t.partnerAppConsentStatePayload;return ed.createElement(ed.Fragment,null,ed.createElement("div",{className:lV.container},n.isLoading()&&ed.createElement(n2,{color:"neutral40",stylesOverrides:{width:100,height:100}}),n.isError()&&ed.createElement(ed.Fragment,null,ed.createElement(s6,{title:"Error",message:eu.getMessageFromErrCode(n.error),nonce:n.nonce}),ed.createElement(ak,{href:r,target:"_blank"},"Contact Support")),n.isValue()&&ed.createElement(lR,{userConsentFlowType:t.userConsentFlowType,clientAppInfo:n.value.clientAppInfo,ctaAcceptLabel:t.ctaAcceptLabel,oAuthState:n.value.oAuthState,authorizeConsentPayload:t.authorizeConsentPayload,onAuthorizeConsent:t.authorizeConsent,onCancel:t.cancelFlow,onHomepageLinkClick:t.onHomepageLinkClick,onPrivacyLinkClick:t.onPrivacyLinkClick})),ed.createElement("div",{className:lV.footer},ed.createElement(lg,null)))});!function(e){function t(t){var r,n,o=e.call(this,t)||this;return(r=t.params).clientId&&r.codeChallenge&&sQ(r.clientId)?o.model=new lc(t.params,t.getCurrentUser,t.onRedirectAfterConsent):(n=t.params).clientId&&n.codeChallenge&&n.redirectUri&&(o.model=new lu(t.params,t.tokensApi,t.partnerAppsApi,t.getCurrentUser,t.oAuthAppTracking,t.logger,t.onError)),o}eO(t,e),t.prototype.componentDidMount=function(){var e;null===(e=this.model)||void 0===e||e.init()},t.prototype.render=function(){if(this.model){if("preApproved"===this.model.clientAppConsentFlowType)return ed.createElement(lm,{model:this.model});if("partner"===this.model.clientAppConsentFlowType)return ed.createElement(lL,{model:this.model,supportNewRequestUrl:this.props.supportNewRequestUrl})}return ed.createElement(ed.Fragment,null,ed.createElement(s6,{title:"Error",message:"Unable to continue due to an error. Please return to the application and try again."}),ed.createElement(ak,{href:this.props.supportNewRequestUrl,target:"_blank"},"Contact Support"))}}(ed.PureComponent),(x=ep||(ep={}))[x.Empty=0]="Empty",x[x.Success=1]="Success",x[x.Fail=2]="Fail";var lN="nav:query",lU="nav:pathname"}}]);