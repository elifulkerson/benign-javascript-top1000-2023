WH.mediumScreenMinWidth=728;WH.largeScreenMinWidth=975;WH.shared=function(){function q(a){null==r&&(r=new IntersectionObserver(function(b,c){b.forEach(function(d){d.isIntersecting&&(g[d.target.id].load(),r.unobserve(d.target))})},{rootMargin:B}));r.observe(a)}function C(a){w.push(a)}function D(a,b){var c=null,d=0,e=function(){d=0;c=null;a.apply()};return function(){var f=L(),h=b-(f-d);0>=h||h>b?(c&&(clearTimeout(c),c=null),d=f,a.apply()):c||(c=setTimeout(e,h))}}function x(){var a=!1,b=window.innerHeight||document.documentElement.clientHeight,c;for(c in g){var d=g[c];if(!d.isLoaded){a=d;var e=a.element.getBoundingClientRect(),f={top:e.top,bottom:e.bottom};0==a.lastTop-e.top&&window.scrollY!=a.lastY&&(f.top-=window.scrollY,f.bottom-=window.scrollY);a.lastTop=e.top;a.lastY=window.scrollY;a=f;e=b;f=52;var h=2*e;f-=h;e+=h;(0==a.top&&0==a.bottom?0:a.top>=f&&a.top<=e||a.bottom>=f&&a.bottom<=e||a.top<=f&&a.bottom>=e)&&d.load();a=!0}}!a&&g.length&&(window.removeEventListener("scroll",m),m=null)
}function t(a){if(a&&a.element){var b=!0;a.element.className||(b=!1);-1==a.element.className.indexOf("content-fill")&&(b=!1);if(b&&document.addEventListener&&a.finishedLoadingEvent){a.loaderRemoved=!1;b=document.createElement("div");b.className="loader";for(var c=0;3>c;c++){var d=document.createElement("div");d.className="loader-dot";b.appendChild(d)}var e=document.createElement("div");e.className="loading-container";e.appendChild(b);a.element.parentElement.insertAdjacentElement("afterbegin",e);a.element.addEventListener(a.finishedLoadingEvent,function(){a.loadedCallback&&a.loadedCallback();0==a.loaderRemoved&&(this.parentElement.removeChild(e),a.loaderRemoved=!0,"undefined"!==typeof a.element.classList&&a.element.classList.remove("img-loading-hide"));a.alt&&(a.element.alt=a.alt,"undefined"!==typeof a.element.classList&&a.element.classList.remove("img-loading-alt"))});a.errorEvent&&a.element.addEventListener(a.errorEvent,function(){a.alt&&(a.element.alt=a.alt)})}else a.alt&&(a.element.
alt=a.alt),"undefined"!==typeof a.element.classList&&a.element.classList.remove("img-loading-hide")}}function y(a){if(!a)return"";if(!k)return a;var b=a.split(".").pop();"jpg"!==b&&"png"!==b||!a.match(/images(_[a-z]{2})?\/thumb\//)||a.match(/(\.[a-zA-Z]+){2}$/)||(a+=".webp");return a}function M(a){this.isLoaded=!1;this.element=a;l||(this.lastY=window.scrollY,this.lastTop=a.getBoundingClientRect().top);this.src=a.getAttribute("data-src");this.load=function(){this.element.setAttribute("src",this.src);this.isLoaded=!0;this.finishedLoadingEvent="loadeddata";t(this)}}function E(a){this.isLoaded=!1;this.element=a;l||n||(this.lastTop=a.getBoundingClientRect().top,this.lastY=window.scrollY);this.alt=a.alt;a.alt="";this.finishedLoadingEvent="load";this.errorEvent="error";if(p){var b=a.getAttribute("data-srclarge");null!=b&&(this.src=b)}this.src||(this.src=a.getAttribute("data-src"));1!=a.getAttribute("data-nowebp")&&(this.src=y(this.src));a&&void 0!==a.classList&&a.classList.add(
"img-loading-hide");this.load=function(){this.element.setAttribute("src",this.src);this.isLoaded=!0;t(this)}}function N(a){this.isLoaded=!1;this.element=a;l||(this.lastTop=a.getBoundingClientRect().top,this.lastY=window.scrollY);this.finishedLoadingEvent="loadeddata";this.isPlaying=!1;this.src="https://www.wikihow.com/video"+this.element.getAttribute("data-src");this.poster=this.element.getAttribute("data-poster");(this.poster=y(this.poster))&&"jpg"==this.poster.split(".").pop()&&k&&(this.poster+=".webp");this.noAutoplay=this.element.getAttribute("data-noautoplay");this.play=function(){this.element.play();this.isPlaying=!0};this.pause=function(){this.element.pause();this.isPlaying=!1};this.load=function(){this.element.setAttribute("poster",this.poster);!F||this.noAutoplay||!p&&!0!==window.wgIsMainPage?this.finishedLoadingEvent=null:(this.element.setAttribute("src",this.src),this.play());this.isLoaded=!0;this.noAutoplay||t(this)}}function u(a){var b=document.getElementById(a);if(b)if(k
||G){a=!1;var c=null,d=b.nodeName.toLowerCase();if("img"===d)c=new E(b),n?(d=c,d.element.classList.remove("img-loading-hide"),d.element.classList.add("img-loading-alt"),d.element.setAttribute("loading","lazy"),d.load()):l?q(c.element):a=!0;else if("video"===d)c=new N(b),l?q(c.element):a=!0;else if("iframe"===d)c=new M(b),l?q(c.element):a=!0;else if("picture"===d)if(d=b.getElementsByTagName("img")[0],n){v?(d.width=d.dataset.width,d.height=d.dataset.height):(d.width=d.dataset.widthlarge,d.height=d.dataset.heightlarge);d.src=d.dataset.src;d=b.getElementsByTagName("source");for(var e=0;e<d.length;e++){var f=d[e];f.srcset=f.dataset.srcset}}else c=document.createElement("div"),c.className="content-spacer",b.appendChild(c),d.id="picture_"+O++,d.classList.add("content-fill"),c.appendChild(d),c=new E(d),useObserver?q(c.element):a=!0,b=d;else return;c&&(g[c.element.id]=c);d=b.getAttribute("data-width")||b.getAttribute("width");e=b.getAttribute("data-height")||b.getAttribute("height");0<d&&!b.
parentElement.classList.contains("sd_link")&&(b.parentElement.style.paddingTop=e/d*100+"%");H?c.load():a&&(x(),m=D(x,500),window.addEventListener("scroll",m))}else I.push(a)}var w=[],g={},I=[],m,H=!1,L=Date.now||function(){return(new Date).getTime()},k=!1,G=!1,z=window.innerWidth||document.documentElement.clientWidth,v=z<WH.mediumScreenMinWidth,J=!v&&z<WH.largeScreenMinWidth,K=!v&&!J,p=K,B="0px 0px 100% 0px",O=1,n="loading"in HTMLImageElement.prototype,l="IntersectionObserver"in window,r=null,A="";(function(a){var b=new Image;b.onload=function(){a(0<b.width&&0<b.height)};b.onerror=function(){a(!1)};b.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA"})(function(a){k=a;G=!0;I.forEach(function(b){u(b)})});1==WH.jsFastRender&&(n=!1,B="0px 0px 0px 0px");window.onresize=function(){w.forEach&&w.forEach(function(a){a()})};C(x);var F=function(){var a=window.document.createElement("video");a.setAttribute("muted","");a.setAttribute("playsinline","");a.
setAttribute("webkit-playsinline","");a.muted=!0;a.playsinline=!0;a.webkitPlaysinline=!0;a.setAttribute("height","0");a.setAttribute("width","0");a.style.position="fixed";a.style.top=0;a.style.width=0;a.style.height=0;a.style.opacity=0;try{var b=a.play();b&&b["catch"]&&b.then(function(){})["catch"](function(){})}catch(c){}return!a.paused}();window.addEventListener?window.addEventListener("scroll",m):H=!0;return{isDesktopSize:p,isSmallSize:v,isMedSize:J,isLargeSize:K,viewportWidth:z,getScreenSize:function(){var a=document;var b=a.documentElement,c=a.body,d=c&&c.clientWidth,e=0;!b||!b.clientWidth||"CSS1Compat"!==a.compatMode&&d?d&&(e=c.clientWidth):e=b.clientWidth;a=e;return 0==a||a>=WH.largeScreenMinWidth?"large":a>=WH.mediumScreenMinWidth?"medium":"small"},throttle:D,TOP_MENU_HEIGHT:52,autoPlayVideo:F,webpSupport:k,addScrollLoadItem:u,addLazyImage:function(a){var b=document.getElementById(a),c=1==b.getAttribute("data-desktopok"),d=1==b.getAttribute("data-nowebp");!c&&p||!k||!n||d?(c=b.
getAttribute("data-src-nowebp"),c||(c=b.getAttribute("data-src"),5<c.length&&".webp"==c.substr(c.length-5)&&(c=c.substr(0,c.length-5))),b.setAttribute("data-src",c),b.setAttribute("class","content-fill"),u(a)):(c=b.getAttribute("data-srclarge"),p&&c||(c=b.getAttribute("data-src")),b.setAttribute("src",c))},addScrollLoadItemByElement:function(a){var b=a.id;b||(b="id-"+Math.random().toString(36).substr(2,16));a.id=b;u(b)},videoRoot:"https://www.wikihow.com/video",setupLoader:t,addResizeFunction:C,loadAllImages:function(){for(var a in g){var b=g[a];b.isLoaded||b.load()}},loadAllEmbed:function(){for(var a in g){var b=g[a];b.isLoaded||"iframe"==b.element.nodeName.toLowerCase()&&b.load()}},addLoadedCallback:function(a,b){g[a].loadedCallback=b},showVideoPlay:function(a){a=a.element.parentElement.getElementsByClassName("m-video-intro-over");"undefined"!==typeof a&&(a=a[0]);a&&(a.style.visibility="visible")},getCompressedImageSrc:y,isBucket:function(a){if(!a)return!1;var b=a;if(!(a instanceof
Array))if(Number.isInteger(a))b=[a];else return!1;return 0<=b.indexOf(parseInt(WH.bucket))?!0:!1},isTest:function(a){return window.allAdTests?window.activeAdTests?a in window.allAdTests?a in window.activeAdTests?!0:!1:(console.log("all",window.allAdTests),console.error("WH.shared trying to check for a test that does not exist:",a),!1):(console.warn("activeAdTests not defined"),!1):(console.warn("allAdTests not defined"),!1)},getBrowser:function(){""==A&&(A=navigator.userAgent.match(/Edg/i)?"edge":navigator.userAgent.match(/Chrome/i)?"chrome":navigator.userAgent.match(/Safari/i)?"safari":"unknown");return A}}}();