define("@ali/pcom-mtop/index",[],(function(e,t,n){n.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=".package",n(n.s=2)}([function(t,n){var o=e("@ali/rax-pkg-universal-env/index");t.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=function(e){return"[object Object]"=={}.toString.call(e)},t.getCommonError=function(e,t){return{api:e.api,v:e.v,data:{},ret:["FAIL::".concat(t||"")],retType:-1}},t.RESPONSE_TYPE=void 0;t.RESPONSE_TYPE={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(0),r=s(n(3)),i=n(1);s(n(6));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function c(e,t,n){var i;e.disableTracker||(i=o.isMiniApp?e.miniAppID?"UN_MINIAPP/".concat(e.miniAppID):"UN_MINIAPP":location.hostname+location.pathname,r.default.report({url:"//tarzan/error/".concat(i,"/").concat(e.api,"/").concat(e.v),message:JSON.stringify(t),reverse1:n,type:"mtop"}))}function u(e){var t;return e.api&&(t=function(e,t,n){var o;if(e){for(var r in o=[],e)e.hasOwnProperty(r)&&(!t||t.indexOf(r)>-1)&&void 0!==e[r]&&""!==e[r]&&o.push(r+"-"+(n?encodeURIComponent(e[r]):e[r]));o.sort()}else o=[];return o.join("_")}(e.data,e.requiredParams,e.encodeParam)),"//fallback.alicdn.com/mtop/".concat(e.api,"_").concat(e.v||"1.0","/").concat(t)}"undefined"!=typeof lib&&lib.mtop||n(7),t.default={request:function(e,t,n){return e&&void 0===e.preventFallback&&(e.preventFallback=!0),new Promise((function(r,i){new Promise((function(t,n){lib.mtop.request(e,(function(o){o&&o.ret&&o.ret.length&&"WV_ERR::PARAM_PARSE_ERROR"===o.ret[0]?lib.mtop.H5Request(e,t,n):t(o)}),n)})).then((function(e){t&&t(e),r(e)})).catch((function(s){if(n=n||t,s&&(s.api||s.v)||(s={api:e.api,v:e.v,data:{},ret:["FAIL::".concat(JSON.stringify(s)||"")],retType:-1}),void 0===s.retType&&(s.retType=-1),c(e,s,"0012"),e&&(1==e.ecode||e.preventFallback||o.isMiniApp))return n&&n(s),i(s);(function(e,t){return new Promise((function(n,o){"string"==typeof e.data&&(e.data=JSON.parse(e.data));var r=u(e),i=new XMLHttpRequest;i.open("get",r,!0),i.send(null),i.onreadystatechange=function(){if(4==this.readyState&&200==this.status)try{var r=JSON.parse(this.responseText);r&&r.success&&r.result&&!r.result.backup?(c(e,t,"0210"),o(t)):n(r)}catch(n){c(e,t,"0210"),o(t)}else 4==this.readyState&&(c(e,t,"0011"),o(t))}}))})(e,s).then((function(e){t(e),r(e)})).catch((function(e){(n=n||t)&&n(e),i(e)}))}))}))},config:function(e,t){"undefined"!=typeof lib&&lib.mtop&&("string"==typeof e?lib.mtop.config[e]=t:lib.mtop.config=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){_defineProperty(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},lib.mtop.config,{},e))},RESPONSE_TYPE:i.RESPONSE_TYPE},e.exports=t.default},function(e,t,n){"use strict";e.exports=n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=n(0),i=(o=n(5))&&o.__esModule?o:{default:o};var s=0,a={screen:"undefined"==typeof screen?"0x0":"".concat(screen&&screen.width,"x").concat(screen&&screen.height),sampling:1,version:"rx-tracker/2.2.9",native:0,isInWindmill:0},c="/jstracker.3";function u(e){if(++s>20)return!1;var t=Object.assign({url:i.default.format(e)},a,e);t.sampling=(r.isNode||"undefined"==typeof location?"":location.href).indexOf("jt_debug=1")>-1?1:t.sampling,Math.random()*t.sampling<1&&("undefined"!=typeof goldlog?goldlog.send&&goldlog.send("//gm.mmstat.com".concat(c),t):function(){if("undefined"!=typeof my&&my.getSystemInfoSync&&"function"==typeof my.getSystemInfoSync&&("TB"===my.getSystemInfoSync().app||"alipay"===my.getSystemInfoSync().app))return!0;return!1}()&&(t.isInWindmill="web",function(e){my.request&&"function"==typeof my.request?my.request({url:"http://gm.mmstat.com".concat(c),method:"GET",data:e,dataType:"text"}).catch((function(e){})):my.httpRequest&&"function"==typeof my.httpRequest&&my.httpRequest({url:"//gm.mmstat.com".concat(c),method:"get",data:e,dataType:"json"})}(t)))}t.default={report:u,reportError:function(e,t,n){var o={};e&&e instanceof Error&&(o={stack:JSON.stringify(e.stack),name:e.name,message:e.message,type:"error",module:t},n&&(o.reverse1=n),u(o))},reportApi:function(e,t){e&&e.url&&(e.type="api",e.module=t,e.sampling=e.sampling||"100",u(e))},setConfig:function(e){e&&e.sampling&&(a.sampling=e.sampling)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(0),r={render:"rx_render_err",data:"rx_data_fetch_err",error:"rax_error"};t.default={format:function(e){var t=o.isNode||"undefined"==typeof location?"":location.href||"",n=r[e.type||"custom"]||"rx_user_define_err";return[t.replace(/[\?#].*$/,"").replace(/\/$/,""),e.module||"",n].join("/")}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){o||(o=my.getSystemInfoSync());return new Promise((function(t,n){var i=Object.assign({},e,{apiName:e.api,apiVersion:e.v,needEcodeSign:"1"===String(e.ecode),usePost:"POST"===e.type});(0,r.isObject)(e.data)||(i.data=JSON.parse(e.data)),Object.assign&&e.dangerouslySetAlipayParams&&Object.assign(i,e.dangerouslySetAlipayParams),"alipay"===o.app?((e.originaljsonp||e.json)&&(i.type="originaljson"),void 0!==e.valueType&&("original"===e.valueType?i.type="originaljson":"string"===e.valueType&&delete i.type),!0===e.useJsonpResultType&&delete i.type,my.call("mtop",i,(function(e){if(e.error)return n(e.error);t(e)}))):(i.success=function(e){t(e)},i.fail=function(e){n(e)},my.sendMtop(i))}))};var o,r=n(1);e.exports=t.default},function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){function n(){var e={},t=new d((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}function r(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function i(e){var t=[];for(var n in e)e[n]&&t.push(n+"="+encodeURIComponent(e[n]));return t.join("&")}function s(e){return"[object Object]"=={}.toString.call(e)}function a(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}function c(e,t,n){var o=new Date;o.setTime(o.getTime()-864e5);document.cookie=e+"=;path=/;domain=."+t+";expires="+o.toGMTString(),document.cookie=e+"=;path=/;domain=."+n+"."+t+";expires="+o.toGMTString()}function u(e,t){for(var n=e.split("."),o=t.split("."),r=0;3>r;r++){var i=Number(n[r]),s=Number(o[r]);if(i>s)return 1;if(s>i)return-1;if(!isNaN(i)&&isNaN(s))return 1;if(isNaN(i)&&!isNaN(s))return-1}return 0}function p(e){this.id=""+(new Date).getTime()+ ++_,this.params=r(e||{},{v:"*",data:{},type:"get",dataType:"jsonp"}),this.params.type=this.params.type.toLowerCase(),"object"==o(this.params.data)&&(this.params.data=JSON.stringify(this.params.data)),this.middlewares=m.slice(0)}var d=e.Promise,l=(d||{resolve:function(){}}).resolve();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});var f={useJsonpResultType:!1,safariGoLogin:!0,useAlipayJSBridge:!1},m=[],g={ERROR:-1,SUCCESS:0,TOKEN_EXPIRED:1,SESSION_EXPIRED:2};(function(){var t=e.location.hostname;if(!t){var n=e.parent.location.hostname;n&&~n.indexOf("zebra.alibaba-inc.com")&&(t=n)}var o=new RegExp("([^.]*?)\\.?((?:"+["taobao.net","taobao.com","tmall.com","tmall.hk","alibaba-inc.com"].join(")|(?:").replace(/\./g,"\\.")+"))","i"),r=t.match(o)||[],i=r[2]||"taobao.com",s=r[1]||"m";"taobao.net"!==i||"x"!==s&&"waptest"!==s&&"daily"!==s?"taobao.net"===i&&"demo"===s?s="demo":"alibaba-inc.com"===i&&"zebra"===s?s="zebra":"waptest"!==s&&"wapa"!==s&&"m"!==s&&(s="m"):s="waptest";var a="h5api";"taobao.net"===i&&"waptest"===s&&(a="acs"),f.mainDomain=i,f.subDomain=s,f.prefix=a})(),function(){var t=e.navigator.userAgent,n=t.match(/WindVane[\/\s]([\d\.\_]+)/);n&&(f.WindVaneVersion=n[1]);var o=t.match(/AliApp\(([^\/]+)\/([\d\.\_]+)\)/i);o&&(f.AliAppName=o[1],f.AliAppVersion=o[2]);var r=t.match(/AMapClient\/([\d\.\_]+)/i);r&&(f.AliAppName="AMAP",f.AliAppVersion=r[1])}();var y=/[Android|Adr]/.test(e.navigator.userAgent),v="AP"===f.AliAppName&&u(f.AliAppVersion,"10.1.2")>=0||"KB"===f.AliAppName&&u(f.AliAppVersion,"7.1.62")>=0||y&&"AMAP"===f.AliAppName&&u(f.AliAppVersion,"1.0.1")>=0,_=0;p.prototype.use=function(e){if(!e)throw new Error("middleware is undefined");return this.middlewares.push(e),this},p.prototype.__processRequestMethod=function(e){var t=this.params,n=this.options;"get"===t.type&&"jsonp"===t.dataType?n.getJSONP=!0:"get"===t.type&&"originaljsonp"===t.dataType?n.getOriginalJSONP=!0:"get"===t.type&&"json"===t.dataType?n.getJSON=!0:"post"===t.type&&(n.postJSON=!0),e()},p.prototype.__processRequestType=function(n){var o=this,r=this.params,i=this.options;if(!0===f.H5Request&&(i.H5Request=!0),!0===f.WindVaneRequest&&(i.WindVaneRequest=!0),!1===i.H5Request&&!0===i.WindVaneRequest){if(!v&&(!t.windvane||parseFloat(i.WindVaneVersion)<5.4))throw new Error("WINDVANE_NOT_FOUND::\u7f3a\u5c11WindVane\u73af\u5883");if(v&&!e.AlipayJSBridge)throw new Error("ALIPAY_NOT_READY::\u652f\u4ed8\u5b9d\u901a\u9053\u672a\u51c6\u5907\u597d\uff0c\u652f\u4ed8\u5b9d\u8bf7\u89c1 https://lark.alipay.com/mtbsdkdocs/mtopjssdkdocs/pucq6z")}else if(!0===i.H5Request)i.WindVaneRequest=!1;else if(void 0===i.WindVaneRequest&&void 0===i.H5Request&&(t.windvane&&parseFloat(i.WindVaneVersion)>=5.4?(i.WindVaneRequest=!0,window.self!==window.top&&(i.H5Request=!0)):i.H5Request=!0,v)){if(i.WindVaneRequest=i.H5Request=void 0,e.AlipayJSBridge)if(s(r.data))i.WindVaneRequest=!0;else try{s(JSON.parse(r.data))?i.WindVaneRequest=!0:i.H5Request=!0}catch(e){i.H5Request=!0}else i.H5Request=!0;"AMAP"!==f.AliAppName||r.useNebulaJSbridgeWithAMAP||(i.WindVaneRequest=i.H5Request=void 0,i.H5Request=!0)}var a=e.navigator.userAgent.toLowerCase();return a.indexOf("youku")>-1&&i.mainDomain.indexOf("youku.com")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),i.mainDomain.indexOf("youku.com")>-1&&a.indexOf("youku")<0&&(i.WindVaneRequest=!1,i.H5Request=!0),n?n().then((function(){var e=i.retJson.ret;if(e instanceof Array&&(e=e.join(",")),!0===i.WindVaneRequest&&v&&i.retJson.error||!e||e.indexOf("PARAM_PARSE_ERROR")>-1||e.indexOf("HY_FAILED")>-1||e.indexOf("HY_NO_HANDLER")>-1||e.indexOf("HY_CLOSED")>-1||e.indexOf("HY_EXCEPTION")>-1||e.indexOf("HY_NO_PERMISSION")>-1){if(!v||!isNaN(i.retJson.error)||-1!==i.retJson.error.indexOf("FAIL_SYS_ACCESS_DENIED"))return v&&s(r.data)&&(r.data=JSON.stringify(r.data)),f.H5Request=!0,o.__sequence([o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest]);void 0===i.retJson.api&&void 0===i.retJson.v&&(i.retJson.api=r.api,i.retJson.v=r.v,i.retJson.ret=[i.retJson.error+"::"+i.retJson.errorMessage],i.retJson.data={})}})):void 0};var h="_m_h5_c",O="_m_h5_tk";p.prototype.__getTokenFromAlipay=function(){var t=n(),o=this.options,r=!!location.protocol.match(/^https?\:$/);return!0===o.useAlipayJSBridge&&!r&&v&&e.AlipayJSBridge&&e.AlipayJSBridge.call?e.AlipayJSBridge.call("getMtopToken",(function(e){e&&e.token&&(o.token=e.token),t.resolve()}),(function(){t.resolve()})):t.resolve(),t.promise},p.prototype.__getTokenFromCookie=function(){var e=this.options;return e.token=e.CDR&&a(h)?a(h).split(";")[0]:e.token||a(O),e.token&&(e.token=e.token.split("_")[0]),d.resolve()},p.prototype.__waitWKWebViewCookie=function(t){var n=this.options;n.waitWKWebViewCookieFn&&n.H5Request&&e.webkit&&e.webkit.messageHandlers?n.waitWKWebViewCookieFn(t):t()},p.prototype.__processToken=function(e){var t=this,n=this.options;return n.token&&delete n.token,!0!==n.WindVaneRequest?l.then((function(){return t.__getTokenFromAlipay()})).then((function(){return t.__getTokenFromCookie()})).then(e).then((function(){var e=n.retJson,o=e.ret;if(o instanceof Array&&(o=o.join(",")),o.indexOf("TOKEN_EMPTY")>-1||(!0===n.CDR||!0===n.syncCookieMode)&&o.indexOf("ILLEGAL_ACCESS")>-1||o.indexOf("TOKEN_EXOIRED")>-1){if(n.maxRetryTimes=n.maxRetryTimes||5,n.failTimes=n.failTimes||0,n.H5Request&&++n.failTimes<n.maxRetryTimes){var r=[t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest];if(!0===n.syncCookieMode&&t.constructor.__cookieProcessorId!==t.id)if(t.constructor.__cookieProcessor){r=[function(e){var n=function(){t.constructor.__cookieProcessor=null,t.constructor.__cookieProcessorId=null,e()};t.constructor.__cookieProcessor?t.constructor.__cookieProcessor.then(n).catch(n):e()},t.__waitWKWebViewCookie,t.__processToken,t.__processRequestUrl,t.middlewares,t.__processRequest]}else t.constructor.__cookieProcessor=t.__requestProcessor,t.constructor.__cookieProcessorId=t.id;return t.__sequence(r)}n.maxRetryTimes>0&&(c(h,n.pageDomain,"*"),c(O,n.mainDomain,n.subDomain),c("_m_h5_tk_enc",n.mainDomain,n.subDomain)),e.retType=g.TOKEN_EXPIRED}})):void e()},p.prototype.__processRequestUrl=function(t){var n=this.params,o=this.options;if(o.hostSetting&&o.hostSetting[e.location.hostname]){var r=o.hostSetting[e.location.hostname];r.prefix&&(o.prefix=r.prefix),r.subDomain&&(o.subDomain=r.subDomain),r.mainDomain&&(o.mainDomain=r.mainDomain)}if(!0===o.H5Request){var i="//"+(o.prefix?o.prefix+".":"")+(o.subDomain?o.subDomain+".":"")+o.mainDomain+"/h5/"+n.api.toLowerCase()+"/"+n.v.toLowerCase()+"/",s=n.appKey||("waptest"===o.subDomain?"4272":"12574478"),a=(new Date).getTime(),c=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,o,r,i,s;return r=2147483648&e,i=2147483648&t,s=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(o=1073741824&t)?2147483648^s^r^i:n|o?1073741824&s?3221225472^s^r^i:1073741824^s^r^i:s^r^i}function o(e,o,r,i,s,a,c){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(o,r,i),s),c)),n(t(e,a),o)}function r(e,o,r,i,s,a,c){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(o,r,i),s),c)),n(t(e,a),o)}function i(e,o,r,i,s,a,c){return e=n(e,n(n(function(e,t,n){return e^t^n}(o,r,i),s),c)),n(t(e,a),o)}function s(e,o,r,i,s,a,c){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(o,r,i),s),c)),n(t(e,a),o)}function a(e){var t,n="",o="";for(t=0;3>=t;t++)n+=(o="0"+(e>>>8*t&255).toString(16)).substr(o.length-2,2);return n}var c,u,p,d,l,f,m,g,y,v;for(v=function(e){for(var t,n=e.length,o=n+8,r=16*((o-o%64)/64+1),i=new Array(r-1),s=0,a=0;n>a;)s=a%4*8,i[t=(a-a%4)/4]=i[t]|e.charCodeAt(a)<<s,a++;return i[t=(a-a%4)/4]=i[t]|128<<(s=a%4*8),i[r-2]=n<<3,i[r-1]=n>>>29,i}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var o=e.charCodeAt(n);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t}(e)),f=1732584193,m=4023233417,g=2562383102,y=271733878,c=0;c<v.length;c+=16)u=f,p=m,d=g,l=y,f=o(f,m,g,y,v[c+0],7,3614090360),y=o(y,f,m,g,v[c+1],12,3905402710),g=o(g,y,f,m,v[c+2],17,606105819),m=o(m,g,y,f,v[c+3],22,3250441966),f=o(f,m,g,y,v[c+4],7,4118548399),y=o(y,f,m,g,v[c+5],12,1200080426),g=o(g,y,f,m,v[c+6],17,2821735955),m=o(m,g,y,f,v[c+7],22,4249261313),f=o(f,m,g,y,v[c+8],7,1770035416),y=o(y,f,m,g,v[c+9],12,2336552879),g=o(g,y,f,m,v[c+10],17,4294925233),m=o(m,g,y,f,v[c+11],22,2304563134),f=o(f,m,g,y,v[c+12],7,1804603682),y=o(y,f,m,g,v[c+13],12,4254626195),g=o(g,y,f,m,v[c+14],17,2792965006),f=r(f,m=o(m,g,y,f,v[c+15],22,1236535329),g,y,v[c+1],5,4129170786),y=r(y,f,m,g,v[c+6],9,3225465664),g=r(g,y,f,m,v[c+11],14,643717713),m=r(m,g,y,f,v[c+0],20,3921069994),f=r(f,m,g,y,v[c+5],5,3593408605),y=r(y,f,m,g,v[c+10],9,38016083),g=r(g,y,f,m,v[c+15],14,3634488961),m=r(m,g,y,f,v[c+4],20,3889429448),f=r(f,m,g,y,v[c+9],5,568446438),y=r(y,f,m,g,v[c+14],9,3275163606),g=r(g,y,f,m,v[c+3],14,4107603335),m=r(m,g,y,f,v[c+8],20,1163531501),f=r(f,m,g,y,v[c+13],5,2850285829),y=r(y,f,m,g,v[c+2],9,4243563512),g=r(g,y,f,m,v[c+7],14,1735328473),f=i(f,m=r(m,g,y,f,v[c+12],20,2368359562),g,y,v[c+5],4,4294588738),y=i(y,f,m,g,v[c+8],11,2272392833),g=i(g,y,f,m,v[c+11],16,1839030562),m=i(m,g,y,f,v[c+14],23,4259657740),f=i(f,m,g,y,v[c+1],4,2763975236),y=i(y,f,m,g,v[c+4],11,1272893353),g=i(g,y,f,m,v[c+7],16,4139469664),m=i(m,g,y,f,v[c+10],23,3200236656),f=i(f,m,g,y,v[c+13],4,681279174),y=i(y,f,m,g,v[c+0],11,3936430074),g=i(g,y,f,m,v[c+3],16,3572445317),m=i(m,g,y,f,v[c+6],23,76029189),f=i(f,m,g,y,v[c+9],4,3654602809),y=i(y,f,m,g,v[c+12],11,3873151461),g=i(g,y,f,m,v[c+15],16,530742520),f=s(f,m=i(m,g,y,f,v[c+2],23,3299628645),g,y,v[c+0],6,4096336452),y=s(y,f,m,g,v[c+7],10,1126891415),g=s(g,y,f,m,v[c+14],15,2878612391),m=s(m,g,y,f,v[c+5],21,4237533241),f=s(f,m,g,y,v[c+12],6,1700485571),y=s(y,f,m,g,v[c+3],10,2399980690),g=s(g,y,f,m,v[c+10],15,4293915773),m=s(m,g,y,f,v[c+1],21,2240044497),f=s(f,m,g,y,v[c+8],6,1873313359),y=s(y,f,m,g,v[c+15],10,4264355552),g=s(g,y,f,m,v[c+6],15,2734768916),m=s(m,g,y,f,v[c+13],21,1309151649),f=s(f,m,g,y,v[c+4],6,4149444226),y=s(y,f,m,g,v[c+11],10,3174756917),g=s(g,y,f,m,v[c+2],15,718787259),m=s(m,g,y,f,v[c+9],21,3951481745),f=n(f,u),m=n(m,p),g=n(g,d),y=n(y,l);return(a(f)+a(m)+a(g)+a(y)).toLowerCase()}(o.token+"&"+a+"&"+s+"&"+n.data),u={jsv:"2.5.6",appKey:s,t:a,sign:c},p={data:n.data,ua:n.ua};Object.keys(n).forEach((function(e){void 0===u[e]&&void 0===p[e]&&"headers"!==e&&"ext_headers"!==e&&"ext_querys"!==e&&(u[e]=n[e])})),n.ext_querys&&Object.keys(n.ext_querys).forEach((function(e){u[e]=n.ext_querys[e]})),o.getJSONP?u.type="jsonp":o.getOriginalJSONP?u.type="originaljsonp":(o.getJSON||o.postJSON)&&(u.type="originaljson"),void 0!==n.valueType&&("original"===n.valueType?o.getJSONP||o.getOriginalJSONP?u.type="originaljsonp":(o.getJSON||o.postJSON)&&(u.type="originaljson"):"string"===n.valueType&&(o.getJSONP||o.getOriginalJSONP?u.type="jsonp":(o.getJSON||o.postJSON)&&(u.type="json"))),!0===o.useJsonpResultType&&"originaljson"===u.type&&delete u.type,o.dangerouslySetProtocol&&(i=o.dangerouslySetProtocol+":"+i),o.querystring=u,o.postdata=p,o.path=i}t()},p.prototype.__processUnitPrefix=function(e){e()};var S=0;p.prototype.__requestJSONP=function(e){function t(e){if(c&&clearTimeout(c),u.parentNode&&u.parentNode.removeChild(u),"TIMEOUT"===e)window[a]=function(){window[a]=void 0;try{delete window[a]}catch(e){}};else{window[a]=void 0;try{delete window[a]}catch(e){}}}var o=n(),r=this.params,s=this.options,a="mtopjsonp"+(r.jsonpIncPrefix||"")+ ++S,c=setTimeout((function(){e(s.timeoutErrMsg||"TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),t("TIMEOUT")}),r.timeout||2e4);s.querystring.callback=a;var u=document.createElement("script");return u.src=s.path+"?"+i(s.querystring)+"&"+i(s.postdata),u.async=!0,u.onerror=function(){t("ABORT"),e(s.abortErrMsg||"ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")},window[a]=function(){s.results=Array.prototype.slice.call(arguments),t(),o.resolve()},function(e){(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.firstElementChild||document).appendChild(e)}(u),o.promise},p.prototype.__requestJSON=function(t){function o(e){p&&clearTimeout(p),"TIMEOUT"===e&&u.abort()}var r=n(),s=this.params,c=this.options,u=new e.XMLHttpRequest,p=setTimeout((function(){t(c.timeoutErrMsg||"TIMEOUT::\u63a5\u53e3\u8d85\u65f6"),o("TIMEOUT")}),s.timeout||2e4);c.CDR&&a(h)&&(c.querystring.c=decodeURIComponent(a(h))),u.onreadystatechange=function(){if(4==u.readyState){var e,n,i=u.status;if(i>=200&&300>i||304==i){o(),e=u.responseText,n=u.getAllResponseHeaders()||"";try{(e=/^\s*$/.test(e)?{}:JSON.parse(e)).responseHeaders=n,c.results=[e],r.resolve()}catch(e){t("PARSE_JSON_ERROR::\u89e3\u6790JSON\u5931\u8d25")}}else o("ABORT"),t(c.abortErrMsg||"ABORT::\u63a5\u53e3\u5f02\u5e38\u9000\u51fa")}};var d,l,f=c.path+"?"+i(c.querystring);c.getJSON?(d="GET",f+="&"+i(c.postdata)):c.postJSON&&(d="POST",l=i(c.postdata)),u.open(d,f,!0),u.withCredentials=!0,u.setRequestHeader("Accept","application/json"),u.setRequestHeader("Content-type","application/x-www-form-urlencoded");var m=s.ext_headers||s.headers;if(m)for(var g in m)u.setRequestHeader(g,m[g]);return u.send(l),r.promise},p.prototype.__requestWindVane=function(e){function o(e){s.results=[e],r.resolve()}var r=n(),i=this.params,s=this.options,a=i.data,c=i.api,u=i.v,p=s.postJSON?1:0,d=s.getJSON||s.postJSON||s.getOriginalJSONP?"originaljson":"";void 0!==i.valueType&&("original"===i.valueType?d="originaljson":"string"===i.valueType&&(d="")),!0===s.useJsonpResultType&&(d="");var l,f,m="https"===location.protocol?1:0,g=i.isSec||0,y=i.sessionOption||"AutoLoginOnly",v=i.ecode||0,_=i.ext_headers||{},h=i.ext_querys||{};l=2*(f=void 0!==i.timer?parseInt(i.timer):void 0!==i.timeout?parseInt(i.timeout):2e4),!0===i.needLogin&&void 0===i.sessionOption&&(y="AutoLoginAndManualLogin"),void 0!==i.secType&&void 0===i.isSec&&(g=i.secType);var O={api:c,v:u,post:String(p),type:d,isHttps:String(m),ecode:String(v),isSec:String(g),param:JSON.parse(a),timer:f,sessionOption:y,ext_headers:_,ext_querys:h};return i.ttid&&!0===s.dangerouslySetWVTtid&&(O.ttid=i.ttid),Object.assign&&i.dangerouslySetWindvaneParams&&Object.assign(O,i.dangerouslySetWindvaneParams),t.windvane.call("MtopWVPlugin","send",O,o,o,l),r.promise},p.prototype.__requestAlipay=function(t){var o=n(),r=this.params,i=this.options,a={apiName:r.api,apiVersion:r.v,needEcodeSign:"1"===String(r.ecode),usePost:!!i.postJSON};return s(r.data)||(r.data=JSON.parse(r.data)),a.data=r.data,r.ttid&&!0===i.dangerouslySetWVTtid&&(a.ttid=r.ttid),(i.getJSON||i.postJSON||i.getOriginalJSONP)&&(a.type="originaljson"),void 0!==r.valueType&&("original"===r.valueType?a.type="originaljson":"string"===r.valueType&&delete a.type),!0===i.useJsonpResultType&&delete a.type,Object.assign&&r.dangerouslySetAlipayParams&&Object.assign(a,r.dangerouslySetAlipayParams),e.AlipayJSBridge.call("mtop",a,(function(e){i.results=[e],o.resolve()})),o.promise},p.prototype.__processRequest=function(e,t){var n=this;return l.then((function(){var e=n.options;if(e.H5Request&&(e.getJSONP||e.getOriginalJSONP))return n.__requestJSONP(t);if(e.H5Request&&(e.getJSON||e.postJSON))return n.__requestJSON(t);if(e.WindVaneRequest)return v?n.__requestAlipay(t):n.__requestWindVane(t);throw new Error("UNEXCEPT_REQUEST::\u9519\u8bef\u7684\u8bf7\u6c42\u7c7b\u578b")})).then(e).then((function(){var e=n.options,t=e.results[0],o=t&&t.ret||[];t.ret=o,o instanceof Array&&(o=o.join(","));var r=t.c;e.CDR&&r&&function(e,t,n){var o=n||{};document.cookie=e.replace(/[^+#$&^`|]/g,encodeURIComponent).replace("(","%28").replace(")","%29")+"="+t.replace(/[^+#$&\/:<-\[\]-}]/g,encodeURIComponent)+(o.domain?";domain="+o.domain:"")+(o.path?";path="+o.path:"")+(o.secure?";secure":"")+(o.httponly?";HttpOnly":"")}(h,r,{domain:e.pageDomain,path:"/"}),t.retType=o.indexOf("SUCCESS")>-1?g.SUCCESS:g.ERROR,e.retJson=t}))},p.prototype.__sequence=function(e){var t=this,o=[],r=[];e.forEach((function e(i){if(i instanceof Array)i.forEach(e);else{var s,a=n(),c=n();o.push((function(){return a=n(),(s=i.call(t,(function(e){return a.resolve(e),c.promise}),(function(e){return a.reject(e),c.promise})))&&(s=s.catch((function(e){a.reject(e)}))),a.promise})),r.push((function(e){return c.resolve(e),s}))}}));for(var i,s=l;i=o.shift();)s=s.then(i);for(;i=r.pop();)s=s.then(i);return s};var R=function(e){e()},E=function(e){e()};p.prototype.request=function(n){var o=this;if(this.options=r(n||{},f),!d){var i="\u5f53\u524d\u6d4f\u89c8\u5668\u4e0d\u652f\u6301Promise\uff0c\u8bf7\u5728windows\u5bf9\u8c61\u4e0a\u6302\u8f7dPromise\u5bf9\u8c61";throw t.mtop={ERROR:i},new Error(i)}var s=d.resolve([R,E]).then((function(e){return o.__sequence([e[0],o.__processRequestMethod,o.__processRequestType,o.__processToken,o.__processRequestUrl,o.middlewares,o.__processRequest,e[1]])})).then((function(){var e=o.options.retJson;return e.retType!==g.SUCCESS?d.reject(e):o.options.successCallback?void o.options.successCallback(e):d.resolve(e)})).catch((function(e){var n;return e instanceof Error?(console.error(e.stack),n={ret:[e.message],stack:[e.stack],retJson:g.ERROR}):n="string"==typeof e?{ret:[e],retJson:g.ERROR}:void 0!==e?e:o.options.retJson,t.mtop.errorListener&&t.mtop.errorListener({api:o.params.api,v:o.params.v,retJson:n}),o.options.failureCallback?void o.options.failureCallback(n):d.reject(n)}));return this.__processRequestType(),o.options.H5Request&&(o.constructor.__firstProcessor||(o.constructor.__firstProcessor=s),R=function(e){o.constructor.__firstProcessor.then(e).catch(e)}),("get"===this.params.type&&"json"===this.params.dataType||"post"===this.params.type)&&(n.pageDomain=n.pageDomain||function(e){try{return".com"!==e.substring(e.lastIndexOf("."))?(e.split(".")||[]).length<=3?e:e.split(".").slice(1).join("."):e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}catch(t){return e.substring(e.lastIndexOf(".",e.lastIndexOf(".")-1)+1)}}(e.location.hostname),n.mainDomain!==n.pageDomain&&(n.maxRetryTimes=4,n.CDR=!0)),this.__requestProcessor=s,s},t.mtop=function(e){return new p(e)},t.mtop.request=function(e,t,n){var o={H5Request:e.H5Request,WindVaneRequest:e.WindVaneRequest,LoginRequest:e.LoginRequest,AntiCreep:e.AntiCreep,AntiFlood:e.AntiFlood,successCallback:t,failureCallback:n||t};return new p(e).request(o)},t.mtop.H5Request=function(e,t,n){var o={H5Request:!0,successCallback:t,failureCallback:n||t};return new p(e).request(o)},t.mtop.middlewares=m,t.mtop.config=f,t.mtop.RESPONSE_TYPE=g,t.mtop.CLASS=p}(window,window.lib||(window.lib={})),function(e,t){function n(e){return e.preventDefault(),!1}function o(t,o){var r=this,i=e.dpr||1,s=document.createElement("div"),a=document.documentElement.getBoundingClientRect(),c=Math.max(a.width,window.innerWidth)/i,u=Math.max(a.height,window.innerHeight)/i;s.style.cssText=["-webkit-transform:scale("+i+") translateZ(0)","-ms-transform:scale("+i+") translateZ(0)","transform:scale("+i+") translateZ(0)","-webkit-transform-origin:0 0","-ms-transform-origin:0 0","transform-origin:0 0","width:"+c+"px","height:"+u+"px","z-index:999999","position:"+(c>800?"fixed":"absolute"),"left:0","top:0px","background:"+(c>800?"rgba(0,0,0,.5)":"#FFF"),"display:none"].join(";");var p=document.createElement("div");p.style.cssText=["width:100%","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:0","top:0","font-size:16px","font-weight:bold","color:#333"].join(";"),p.innerText=t;var d=document.createElement("a");d.style.cssText=["display:block","position:absolute","right:0","top:0","height:52px","line-height:52px","padding:0 20px","color:#999"].join(";"),d.innerText="\u5173\u95ed";var l=document.createElement("iframe");l.style.cssText=["width:100%","height:100%","border:0","overflow:hidden"].join(";"),c>800&&(p.style.cssText=["width:370px","height:52px","background:#EEE","line-height:52px","text-align:left","box-sizing:border-box","padding-left:20px","position:absolute","left:"+(c/2-185)+"px","top:40px","font-size:16px","font-weight:bold","color:#333"].join(";"),l.style.cssText=["position:absolute","top:92px","left:"+(c/2-185)+"px","width:370px","height:480px","border:0","background:#FFF","overflow:hidden"].join(";")),p.appendChild(d),s.appendChild(p),s.appendChild(l),s.className="J_MIDDLEWARE_FRAME_WIDGET",document.body.appendChild(s),l.src=o,d.addEventListener("click",(function(){r.hide();var e=document.createEvent("HTMLEvents");e.initEvent("close",!1,!1),s.dispatchEvent(e)}),!1),this.addEventListener=function(){s.addEventListener.apply(s,arguments)},this.removeEventListener=function(){s.removeEventListener.apply(s,arguments)},this.show=function(){document.addEventListener("touchmove",n,!1),s.style.display="block",window.scrollTo(0,0)},this.hide=function(){document.removeEventListener("touchmove",n),window.scrollTo(0,-a.top),s.parentNode&&s.parentNode.removeChild(s)}}if(!t||!t.mtop||t.mtop.ERROR)throw new Error("Mtop \u521d\u59cb\u5316\u5931\u8d25\uff01");var r=e.Promise,i=t.mtop.CLASS,s=t.mtop.config,a=t.mtop.RESPONSE_TYPE;t.mtop.middlewares.push((function(e){var n=this,o=this.options,r=this.params;return e().then((function(){var e=o.retJson,i=e.ret,c=navigator.userAgent.toLowerCase(),u=c.indexOf("safari")>-1&&c.indexOf("chrome")<0&&c.indexOf("qqbrowser")<0;if(i instanceof Array&&(i=i.join(",")),(i.indexOf("SESSION_EXPIRED")>-1||i.indexOf("SID_INVALID")>-1||i.indexOf("AUTH_REJECT")>-1||i.indexOf("NEED_LOGIN")>-1)&&(e.retType=a.SESSION_EXPIRED,!o.WindVaneRequest&&(!0===s.LoginRequest||!0===o.LoginRequest||!0===r.needLogin))){if(!t.login)throw new Error("LOGIN_NOT_FOUND::\u7f3a\u5c11lib.login");if(!0!==o.safariGoLogin||!u||"taobao.com"===o.pageDomain)return t.login.goLoginAsync().then((function(e){return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])})).catch((function(e){throw"CANCEL"===e?new Error("LOGIN_CANCEL::\u7528\u6237\u53d6\u6d88\u767b\u5f55"):new Error("LOGIN_FAILURE::\u7528\u6237\u767b\u5f55\u5931\u8d25")}));t.login.goLogin()}}))})),t.mtop.loginRequest=function(e,t,n){var o={LoginRequest:!0,H5Request:!0,successCallback:t,failureCallback:n||t};return new i(e).request(o)},t.mtop.antiFloodRequest=function(e,t,n){var o={AntiFlood:!0,successCallback:t,failureCallback:n||t};return new i(e).request(o)},t.mtop.middlewares.push((function(e){var t=this.options;return!0!==t.H5Request||!0!==s.AntiFlood&&!0!==t.AntiFlood?void e():e().then((function(){var e=t.retJson,n=e.ret;n instanceof Array&&(n=n.join(",")),n.indexOf("FAIL_SYS_USER_VALIDATE")>-1&&e.data.url&&(location.href=t.AntiFloodReferer?e.data.url.replace(/(http_referer=).+/,"$1"+t.AntiFloodReferer):e.data.url)}))})),t.mtop.antiCreepRequest=function(e,t,n){var o={AntiCreep:!0,successCallback:t,failureCallback:n||t};return new i(e).request(o)},t.mtop.middlewares.push((function(t){var n=this,i=this.options,a=this.params;return!1!==i.AntiCreep&&(i.AntiCreep=!0),!0!==a.forceAntiCreep&&!0!==i.H5Request||!0!==s.AntiCreep&&!0!==i.AntiCreep?void t():t().then((function(){var t=i.retJson,s=t.ret;if(s instanceof Array&&(s=s.join(",")),(s.indexOf("RGV587_ERROR::SM")>-1||s.indexOf("ASSIST_FLAG")>-1)&&t.data.url){var c="_m_h5_smt",u=function(e){var t=new RegExp("(?:^|;\\s*)"+e+"\\=([^;]+)(?:;\\s*|$)").exec(document.cookie);return t?t[1]:void 0}(c),p=!1;if(!0===i.saveAntiCreepToken&&u)for(var d in u=JSON.parse(u))a[d]&&(p=!0);if(!0===i.saveAntiCreepToken&&u&&!p){for(var d in u)a[d]=u[d];return n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest])}return new r((function(r,s){function u(){d.removeEventListener("close",u),e.removeEventListener("message",p),s("USER_INPUT_CANCEL::\u7528\u6237\u53d6\u6d88\u8f93\u5165")}function p(t){var o;try{o=JSON.parse(t.data)||{}}catch(e){}if(o&&"child"===o.type){var l;d.removeEventListener("close",u),e.removeEventListener("message",p),d.hide();try{for(var f in"string"==typeof(l=JSON.parse(decodeURIComponent(o.content)))&&(l=JSON.parse(l)),l)a[f]=l[f];!0===i.saveAntiCreepToken?(document.cookie=c+"="+JSON.stringify(l)+";",e.location.reload()):n.__sequence([n.__processToken,n.__processRequestUrl,n.__processUnitPrefix,n.middlewares,n.__processRequest]).then(r)}catch(e){s("USER_INPUT_FAILURE::\u7528\u6237\u8f93\u5165\u5931\u8d25")}}}var d=new o("",t.data.url);d.addEventListener("close",u,!1),e.addEventListener("message",p,!1),d.show()}))}}))}))}(window,window.lib||(window.lib={}))}])}));define("@ali/pcom-fetch/index",[],function(e,t,r){r.exports=function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=".package",r(r.s=0)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var o=i(r(1)),n=i(r(3));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"jsonp"===t.mode?(0,n.default)(e,t):"undefined"!=typeof fetch?fetch(e,t):(0,o.default)(e,t)},e.exports=t.default},function(e,t,r){(function(r){Object.defineProperty(t,"__esModule",{value:!0});var o="undefined"!=typeof self?self:void 0!==r?r:"undefined"!=typeof window?window:{};function n(e){return"string"!=typeof e&&(e=String(e)),e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function s(e){this.originHeaders=e,this.map={},e instanceof s?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function a(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader;return t.readAsArrayBuffer(e),u(t)}s.prototype.append=function(e,t){e=n(e),t=i(t);var r=this.map[e];r||(this.map[e]=r=[]),r.push(t)},s.prototype.delete=function(e){delete this.map[n(e)]},s.prototype.get=function(e){var t=this.map[n(e)];return t?t[0]:null},s.prototype.getAll=function(e){return this.map[n(e)]||[]},s.prototype.has=function(e){return this.map.hasOwnProperty(n(e))},s.prototype.set=function(e,t){this.map[n(e)]=[i(t)]},s.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(r){this.map[r].forEach(function(o){e.call(t,o,r,this)},this)},this)};var f={blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(){return this.bodyUsed=!1,this._initBody=function(e,t){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(f.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e,this._options=t;else if(f.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(e){if(!f.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText=""},f.blob?(this.blob=function(){var e=a(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(d)},this.text=function(){var e,t,r,o,n,i,s,d=a(this);if(d)return d;if(this._bodyBlob)return e=this._bodyBlob,t=this._options,r=new FileReader,o=t.headers.map["content-type"]?t.headers.map["content-type"].toString():"",i=e.type.match(n=/charset\=[0-9a-zA-Z\-\_]*;?/)||o.match(n),s=[e],i&&s.push(i[0].replace(/^charset\=/,"").replace(/;$/,"")),r.readAsText.apply(r,s),u(r);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=a(this);return e||Promise.resolve(this._bodyText)},f.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}var c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function h(e,t){var r,o,n=(t=t||{}).body;if(h.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new s(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new s(t.headers)),this.method=(o=(r=t.method||this.method||"GET").toUpperCase(),c.indexOf(o)>-1?o:r),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n,t)}function p(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}}),t}function y(e){var t=new s;return e.getAllResponseHeaders().trim().split("\n").forEach(function(e){var r=e.trim().split(":"),o=r.shift().trim(),n=r.join(":").trim();t.append(o,n)}),t}function m(e,t){t||(t={}),this._initBody(e,t),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof s?t.headers:new s(t.headers),this.url=t.url||""}h.prototype.clone=function(){return new h(this)},l.call(h.prototype),l.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new s(this.headers),url:this.url})},m.error=function(){var e=new m(null,{status:0,statusText:""});return e.type="error",e};var w=[301,302,303,307,308];m.redirect=function(e,t){if(-1===w.indexOf(t))throw new RangeError("Invalid status code");return new m(null,{status:t,headers:{location:e}})};t.default=function(e,t){return new Promise(function(r,o){var n=void 0;n=h.prototype.isPrototypeOf(e)&&!t?e:new h(e,t);var i=function(){if(4===s.readyState){var e=1223===s.status?204:s.status;if(e<100||e>599){if(a)return;return a=!0,void o(new TypeError("Network request failed"))}var t={status:e,statusText:s.statusText,headers:y(s),url:"responseURL"in s?s.responseURL:/^X-Request-URL:/im.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):void 0};a||(a=!0,r(new m("response"in s?s.response:s.responseText,t)))}},s=new XMLHttpRequest,a=!1;s.onreadystatechange=i,s.onload=i,s.onerror=function(){a||(a=!0,o(new TypeError("Network request failed")))},s.ontimeout=function(){o(new TypeError("Network request timeout"))},s.open(n.method,n.url,!0);try{"include"===n.credentials&&("withCredentials"in s?s.withCredentials=!0:console&&console.warn&&console.warn("withCredentials is not supported, you can ignore this warning"))}catch(e){console&&console.warn&&console.warn("set withCredentials error:"+e)}"responseType"in s&&f.blob&&(s.responseType="blob"),n.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),s.send(void 0===n._bodyInit?null:n._bodyInit)})},e.exports=t.default}).call(this,r(2))},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":_typeof(window))&&(r=window)}e.exports=r},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=5e3,o="callback";function n(e){try{delete window[e]}catch(t){window[e]=void 0}}function i(e){document.getElementsByTagName("head")[0].removeChild(e)}t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(s,a){var u=null!=t.timeout?t.timeout:r,d=null!=t.jsonpCallback?t.jsonpCallback:o,f=void 0,l=t.jsonpCallbackFunctionName||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),c=document.createElement("script");window[l]=function(e){s({ok:!0,json:function(){return Promise.resolve(e)}}),f&&clearTimeout(f),i(c),n(l)},c.onreadystatechange=c.onerror=function(){this.readyState&&("loaded"!==this.readyState&&"complete"!==this.readyState||window[l])||(a(new Error("JSONP request to "+e+" error")),f&&clearTimeout(f),n(l),i(c))},e+=-1===e.indexOf("?")?"?":"&",c.setAttribute("src",e+d+"="+l),document.getElementsByTagName("head")[0].appendChild(c),f=setTimeout(function(){a(new Error("JSONP request to "+e+" timed out")),n(l),i(c)},u)})},e.exports=t.default}])});define("@ali/pcom-dynamic/index",[],(function(t,e,a){a.exports=function(t){var e={};function a(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,a),r.l=!0,r.exports}return a.m=t,a.c=e,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p=".package",a(a.s=7)}([function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.requirePromise=e.isWeex=e.each=e.getQueryString=e.unparam=e.isEmptyObject=e.isFunction=e.isPlainObject=e.isObject=e.getQuery=void 0;var n,r=a(1),i=(n=r)&&n.__esModule?n:{default:n};var o={},c=o.toString;function u(t){return null==t?String(t):o[c.call(t)]||"object"}function s(t){return null!=t&&t===t.window}function l(t){return"object"===u(t)}function f(t,e){var a=void 0,n=void 0;if(function(t){var e=!!t&&"length"in t&&t.length,a=u(t);return"function"!==a&&!s(t)&&("array"===a||0===e||"number"==typeof e&&e>0&&e-1 in t)}(t)){for(a=0;a<t.length;a++)if(!1===e.call(t[a],a,t[a]))return t}else for(n in t)if(!1===e.call(t[n],n,t[n]))return t;return t}f("Boolean Number String Function Array Date RegExp Object Error".split(" "),(function(t,e){o["[object "+e+"]"]=e.toLowerCase()}));e.getQuery=function(t){var e="";try{var a=window.location.search,n={};if(-1!==a.indexOf("?"))for(var r=a.substr(1).split("&"),o=0;o<r.length;o++){var c=r[o].split("=");n[c[0]]=unescape(c[1])}e=n[t]||""}catch(t){i.default.log(t)}return e},e.isObject=l,e.isPlainObject=function(t){return l(t)&&!s(t)&&Object.getPrototypeOf(t)===Object.prototype},e.isFunction=function(t){return"function"===u(t)},e.isEmptyObject=function(t){var e=void 0;for(e in t)return!1;return!0},e.unparam=function(t,e,a){if("string"!=typeof t||!t)return{};a=a||"=";for(var n={},r=void 0,i=function(t){return decodeURIComponent(t.replace(/\+/g," "))},o=t.split(e=e||"&"),c=void 0,u=void 0,s=0,l=o.length;s<l;++s){if(-1===(r=o[s].indexOf(a)))c=i(o[s]),u=void 0;else{c=i(o[s].substring(0,r)),u=o[s].substring(r+1);try{u=i(u)}catch(t){}c.endsWith("[]")&&(c=c.substring(0,c.length-2))}c in n?n[c]&&n[c].push?n[c].push(u):n[c]=[n[c],u]:n[c]=u}return n},e.getQueryString=function(){return window&&window.location&&window.location.search?window.location.search.replace(/^\?+/,""):""},e.each=f,e.isWeex=!1,e.requirePromise=function(t){return new Promise((function(e,a){window.require([t],(function(t){e(t)}),(function(t){a(t)}))}))}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){this.checkConsole()&&t&&console.log("[pcom-dynamic]",t)}},{key:"checkConsole",value:function(){return"undefined"!=typeof console}}]),t}();e.default=new a,t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={timeout:3e3},t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n=o(a(10)),r=o(a(11)),i=o(a(2));function o(t){return t&&t.__esModule?t:{default:t}}window.pcomDynamic=window.pcomDynamic||{};var c=Object.assign({api:"mtop.taobao.aladdin.service.AldRecommendService.tmall.recommend2",dataType:"jsonp",v:"1.0",ecode:0,timeout:i.default.timeout},window.pcomDynamic.mtopConfig||{});location.search.indexOf("mtopPre")>0&&(n.default.config("prefix","h5api"),n.default.config("subDomain","wapa"),n.default.config("mainDomain","tmall.com"));function u(t){return"utcp"===t.reqSource||"ald-lamp"===t.reqSource?t.url:c.api}var s=function(t){var e=Object.assign({},t.mtopConfig,c,{data:t.params||{},timeout:t.timeout||i.default.timeout,dataType:t.dataType,api:t.api||u(t)});return new Promise((function(t,a){n.default.request(e,(function(e){var n,r;r=(n=e)?n.retType:void 0,n&&n.ret&&void 0===r&&(n.ret instanceof Array?n.ret.join(","):n.ret).indexOf("SUCCESS")>-1&&(r=0),n&&Array.isArray(n.ret)&&n.ret.length>0&&0!==r?a(new Error("Mtop\u63a5\u53e3\u8c03\u7528\u5931\u8d25")):t(e&&e.data&&e.data.resultValue)}),(function(t){a(new Error(t&&t.ret&&t.ret[0]||"Mtop\u63a5\u53e3\u8c03\u7528\u5931\u8d25"))}))}))};e.default=function(t,e){switch(t){case"mtop":return s(e);case"http":default:return function(t){var e={url:t.url,method:t.dataType,body:Object.keys(t.params).map((function(e){return e+"="+t.params[e]})).join("&"),mode:"jsonp",timeout:t.timeout};return t.callback&&(e.jsonpCallbackFunctionName=t.callback,e.jsonCallback="callback"),(0,r.default)(e.url,e).then((function(t){return t.json()}))}(e)}},t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n=c(a(5)),r=c(a(1)),i=c(a(2)),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(0));function c(t){return t&&t.__esModule?t:{default:t}}var u={timeout:i.default.timeout,directUseBackup:!1,duplication:!1,mtop:!1,params:{},closeBackup:!1,ctx:window||{}},s=n.default,l=/^(https?:|)\/\/(.*)data\.jsonp$/i,f=function(t){return"[object Object]"===Object.prototype.toString.call(t)},d=function(t){return t&&function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&l.test(t)},p=function(){function t(e){_classCallCheck(this,t),this.cfg=Object.assign({},u,e),this.cfg.params=this.cfg.params||{},this.cfg.backupParams=this.cfg.backupParams||{},this.cfg.ctx||(this.cfg.ctx=window||{}),!0!==this.cfg.forceBackupHasParam||this.cfg.closeBackup||this.processBackupParams(),this.isV3Config=!1,this.reqSource="ald",this.requestStack={},this.backUpDataList={},this.resultDataList={}}return _createClass(t,[{key:"getPvuuid",value:function(){if(this.cfg.ctx.__pvuuid)return this.cfg.ctx.__pvuuid;if(this.cfg.ctx.$zebra&&this.cfg.ctx.$zebra.__pvuuid)return this.cfg.ctx.$zebra.__pvuuid;var t=(new Date).getTime();return this.cfg.ctx.__pvuuid=t,t}},{key:"getIOType",value:function(t){return t.mtop||"utcp"===this.reqSource||"ald-lamp"===this.reqSource?"mtop":"http"}},{key:"mergeGlobalDynamicParamsToParams",value:function(t){if(o.isObject(this.cfg.ctx)){var e=this.cfg.ctx.forceDynamicParams;e||o.isObject(this.cfg.ctx.$zebra)&&(e=this.cfg.ctx.$zebra.forceDynamicParams),t.params=Object.assign({},t.params,e)}return t}},{key:"processBackupParams",value:function(){var t=this,e=[];Object.keys(this.cfg.backupParams).forEach((function(a){void 0!==t.cfg.params[a]?(e.push(a),t.cfg.backupParams[a]=t.cfg.params[a]):delete t.cfg.backupParams[a]})),this.cfg.params.isbackup=!0,this.cfg.params.backupParams=e.join(",")}},{key:"push",value:function(t){var e=t.__data_url,a=t.__data_param&&t.__data_param.appId;if(this.reqSource=t.__data_source,a)switch(this.checkBottomConfigVersion(t.__data_default)){case"v3":this.isV3Config||(this.isV3Config=!0);break;case"v2":this.backUpDataList[a]={url:t.__data_default.url,length:t.__data_default.length};break;case"v1":default:this.backUpDataList[a]=t.__data_default}if(this.requestStack[e]){var n=this.requestStack[e].dataParam,r=n.dataBackupParam;this.requestStack[e].dataParam=this._mergeParams(n.dataParam,t.__data_param),this.requestStack[e].dataBackupParam=this._mergeParams(r,t.__data_backup_param||{})}else this.requestStack[e]={dataParam:t.__data_param,dataType:this._getDataType(t.__data_type)};this.cfg.duplication||(this.requestStack[e].dataParam._pvuuid=this.getPvuuid())}},{key:"checkBottomConfigVersion",value:function(t){if(f(t)){if(t.url&&d(t.url))return"v2";if(!t.url&&t.length)return"v3"}return"v1"}},{key:"_mergeParams",value:function(t,e){for(var a in t)t[a]&&e[a]&&t[a].indexOf&&t[a].indexOf(e[a])<0&&(t[a]+=","+e[a]);return Object.assign(e,t)}},{key:"_getDataType",value:function(t){var e=void 0;switch(t){case"json":e="json";break;case"jsonp":default:e="jsonp"}return e}},{key:"_mergeData",value:function(t,e){var a,n,i=this,o="string"==typeof t?(a=t.split(","),n=[],a.forEach((function(t){-1===n.indexOf(t)&&n.push(t)})),n):[t],c=o.map((function(t){var a=e&&e[t];return i._connectTagData(t,!0===i.cfg.extractData?a:a&&a.data,i.backUpDataList[t],e&&e[t]&&e[t].success)}));return new Promise((function(t,e){Promise.all(c).then((function(e){o.forEach((function(t,a){i.resultDataList[t]=e[a]})),t(i.resultDataList)})).catch((function(t){r.default.log(t),e(t)}))}))}},{key:"_connectTagData",value:function(t,e,a,n){var r=this,i=this;return new Promise((function(o){var c=r.cfg.ctx&&r.cfg.ctx.Dynamic_NotEmptyData&&!1===i.cfg.extractData&&e&&e.length<1;""+n!="true"&&(c=!0),i.cfg.closeAllBackup&&(c=!1),e&&!c?o(e):i._getBackupData(a,t).then(o)}))}},{key:"_isCDNBack",value:function(t){return f(t)&&t.url&&t.length}},{key:"_getBackupData",value:function(t,e){var a=this;if(this.isV3Config||this.cfg.forceBackupHasParam)return s.getBottom({appId:e,timeout:this.cfg.timeout||i.default.timeout,reqSource:this.reqSource,backupParams:this.cfg.backupParams}).then((function(t){return s.mergeData([e],t,!0,a.cfg.extractData)})).then((function(t){return t&&t[e]&&(t[e].isBackupData=!0),t[e]})).catch((function(t){return r.default.log(t),[]}));if(this._isCDNBack(t)){var n={url:t.url,dataType:"jsonp",params:{},timeout:this.cfg.timeout||i.default.timeout,callback:"callback_"+e.replace(/-/g,"_")};return this.cfg.io("http",this.mergeGlobalDynamicParamsToParams(n)).then((function(t){return a.cfg.extractData?t:t.data})).catch((function(t){r.default.log(t),Promise.resolve([])}))}return Promise.resolve(t)}},{key:"reset",value:function(){this.isV3Config=!1,this.reqSource="ald",this.requestStack={},this.backUpDataList={},this.resultDataList={}}},{key:"run",value:function(){var t=this,e=this.requestStack;return new Promise((function(a,n){o.each(e,(function(e,i){var c=Object.assign({},t.cfg),u=Object.assign(c.params,i.dataParam);t.isV3Config&&(u.isbackup=!0);var s=u.appId,l=function(e){delete t.requestStack[e],o.isEmptyObject(t.requestStack)&&(a(t.resultDataList),t.reset())},f={url:e,dataType:i.dataType,params:u,api:c.mtopApiName,timeout:c.timeout,reqSource:t.reqSource,mtopConfig:c.mtopConfig,isMtop:c.mtop?"mtop":"http"},d=t.getIOType(c);c.directUseBackup?t._getBackupData(t.backUpDataList[s],s).then((function(a){var n={};n[s]=a,t._mergeData(s,n).then((function(){l(e)})).catch((function(){l(e)}))})).catch((function(){l(e)})):t.cfg.io(d,t.mergeGlobalDynamicParamsToParams(f)).then((function(a){t._mergeData(s,a).then((function(){l(e)})).catch((function(){l(e)}))})).catch((function(a){c.closeBackup||c.closeAllBackup?n(a):t._mergeData(s,void 0,!0).then((function(){l(e)})).catch((function(t){r.default.log(t),l(e)}))}))}))}))}}]),t}();e.default=p,t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n=o(a(3)),r=o(a(1)),i=o(a(2));function o(t){return t&&t.__esModule?t:{default:t}}function c(t){var e={};if("undefined"!=typeof __fedataConfig&&(e=__fedataConfig.dynamicBottomDomain||{}),e[t.reqSource])return e[t.reqSource];switch(t.reqSource){case"utcp":return"kangaroo";case"ald-lamp":return"ald-lamp";case"overseas":return"overseas-aladdin";default:return"aladdin"}}var u=function(){function t(){_classCallCheck(this,t),this.io=n.default}return _createClass(t,[{key:"getIO",value:function(){return this.io}},{key:"setIO",value:function(t){this.io=t}},{key:"getBottom",value:function(t){var e=this;return e.getBottomUrl(t).then((function(a){return e.getBottomData(a,t)}))}},{key:"getBottomUrl",value:function(t){return Promise.resolve(this.createBottomUrl(t))}},{key:"createBottomUrl",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{appId:""};if(!t.appId)return r.default.log("\u521b\u5efa\u6253\u5e95url\u5931\u8d25\uff0c\u8bf7\u4f20\u5165appId"),!1;var e=t.appId.split(","),a=t.backupParams||{},n=c(t),i="//"+n+".alicdn.com/bottom/"+e.sort().join("/");return Object.keys(a).sort().forEach((function(t){i+="/"+t+"="+a[t]})),i+="/data.jsonp"}},{key:"createBottomCallback",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.appId)return r.default.log("\u521b\u5efa\u6253\u5e95Callback\u5931\u8d25\uff0c\u8bf7\u4f20\u5165appId"),!1;var e=t.appId.replace(/-/g,"_").split(",");e=e.sort();var a=t.backupParams||{},n="";return Object.keys(a).sort().forEach((function(t){n+="_"+t+"_"+a[t]})),"callback_"+e.join(",")+n}},{key:"getBottomData",value:function(t,e){return this.getIO()("http",{url:t,dataType:"jsonp",params:{},timeout:e.timeout||i.default.timeout,callback:this.createBottomCallback(e)})}},{key:"mergeData",value:function(t,e,a,n){var r={},i=[];return e&&t.forEach((function(o){1===t.length&&a?r[o]=n?e:e.data:e[o]&&Object.prototype.hasOwnProperty.call(e[o],"data")?r[o]=n?e[o]:e[o].data:i.push(o)})),0===i.length?Promise.resolve(r):Promise.reject(new Error("appId:"+i.join(",")+"\u8fd4\u56de\u7684\u6570\u636e\u683c\u5f0f\u6709\u8bef"))}}]),t}();e.default=new u,t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(0)),r=s(a(12)),i=s(a(13)),o=s(a(14)),c=s(a(15)),u=s(a(16));function s(t){return t&&t.__esModule?t:{default:t}}var l={userId:r.default,utcpDebug:i.default,bottom:o.default,utcp:c.default,oversea:u.default};e.default={checkPlugins:function(t){var e=["userId","utcpDebug","bottom","utcp"],a=t?t.plugins:e,n=Array.isArray(a)?a.concat([]):e;return""+a!="false"&&n},usePlugins:function(t,e,a,r){var i=this,o=t.shift();if(o){var c=l[o];"string"!=typeof o&&(c=o),c&&n.isFunction(c[e])?c[e](a,(function(){i.usePlugins(t,e,a,r)})):i.usePlugins(t,e,a,r)}else r&&r(a)}},t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0}),e.AldBottom=e.IO=e.ChannelDynamic=e.Dynamic=void 0;var n=c(a(8)),r=c(a(17)),i=c(a(3)),o=c(a(5));function c(t){return t&&t.__esModule?t:{default:t}}e.Dynamic=n.default,e.ChannelDynamic=r.default,e.IO=i.default,e.AldBottom=o.default,e.default={Dynamic:n.default,ChannelDynamic:r.default,IO:i.default,AldBottom:o.default}},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n=o(a(9)),r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(0)),i=o(a(3));function o(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t){return _classCallCheck(this,e),t.io=i.default,_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return _inherits(e,t),e}(n.default);e.default=function(t,e,a,n){return r.isFunction(e)&&(n=a,a=e,e=null),new c({data:t,key:e,callback:a,config:n||{}})},t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(0)),r=c(a(4)),i=c(a(6)),o=c(a(2));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(t){return"[object Object]"===Object.prototype.toString.call(t)},s=function(){function t(e){var a=this;_classCallCheck(this,t);var n=e.config,r=window.g_config&&window.g_config.dynamicConfig||{},o=Object.assign({},r,void 0===n?{}:n),c=i.default.checkPlugins(o);e.config=o,c?i.default.usePlugins(c,"argumentPreprocess",e,(function(t){a._init(t)})):this._init(e)}return _createClass(t,[{key:"_init",value:function(t){if(this.cfg=t,this.config=t.config||{},this.cfg.ctx||(this.cfg.ctx=window||{}),!this.cfg.data)throw new Error("conf\u53c2\u6570\u5fc5\u987b\u4e3ajson\u6216json\u5b57\u7b26\u4e32");var e=parseInt(this.config.timeout,10);this.request=new r.default({timeout:e=e?e>100?e:1e3*e:o.default.timeout,ctx:this.cfg.ctx,io:this.cfg.io,closeAllBackup:this.config.closeAllBackup||!1,closeBackup:this.config.closeBackup||!1,directUseBackup:this.config.directUseBackup||!1,duplication:!!this.config.duplication,mtop:!!this.config.mtop,mtopApiName:this.config.mtopApiName,params:u(this.config.params)?this.config.params:{},backupParams:u(this.config.backupParams)?this.config.backupParams:{},mtopConfig:u(this.config.mtopConfig)?this.config.mtopConfig:{},forceBackupHasParam:this.config.forceBackupHasParam||!1}),this.xPathList={},this._stringfiyToResult(this.cfg)}},{key:"_stringfiyToResult",value:function(t){var e="string"==typeof t.data?JSON.parse(t.data):t.data,a=t.key,n=t.callback,r=a?e[a]:e;if(!r)throw new Error(a+" is undefiend");this._getData(r).then((function(t){n&&n(t,[])})).catch((function(t){throw t}))}},{key:"_getData",value:function(t){var e=this;return this._parse(t),n.isEmptyObject(this.request.requestStack)?Promise.resolve(t):(this.cfg.ctx.dynamicDataCnt=this.cfg.ctx.dynamicDataCnt?this.cfg.ctx.dynamicDataCnt+1:1,this.dynamicDataInterval||(this.cfg.ctx.dynamicDataInterval=100),new Promise((function(a){setTimeout((function(){e.request.run().then((function(r){n.each(r,(function(a,r){r=r||[],n.each(e.xPathList,(function(e,n){if(a===n){var i=e.split("."),o=i.pop(),c=t;i.forEach((function(t){t&&(c=c[t])})),o?c[o]=r:t=r}}))})),e.xPathList={},e.cfg.ctx.dynamicDataCnt=0,a(t)}))}),Math.max(e.cfg.ctx.dynamicDataCnt-1,0)*e.cfg.ctx.dynamicDataInterval)})))}},{key:"_parse",value:function(t,e){var a=this;e=e||"",this._isTag(t)&&(this._checkTagIsDynamic(t)?this._push(t,e):n.each(t,(function(t,n){a._isTag(n)&&a._parse(n,e+"."+t)})))}},{key:"_isTag",value:function(t){return Array.isArray(t)||u(t)}},{key:"_push",value:function(t,e){var a=Array.isArray(t)?t[0]:t;this.xPathList[e]=a.__data_param.appId,this.request.push(a)}},{key:"_checkTagIsDynamic",value:function(t){return Array.isArray(t)?!(t.length>1)&&this._checkDataConfig(t[0]):this._checkDataConfig(t)}},{key:"_checkDataConfig",value:function(t){return!(!t||!u(t))&&(t.__data_source&&t.__data_param&&u(t.__data_param))}}]),t}();e.default=s,t.exports=e.default},function(e,a){var n=t("@ali/pcom-mtop/index");e.exports=n},function(e,a){var n=t("@ali/pcom-fetch/index");e.exports=n},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(0)),i=a(1),o=(n=i)&&n.__esModule?n:{default:n};e.default={argumentPreprocess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];try{var a=t.config||{},n=r.getQuery("_oneId"),i=r.getQuery("alideviceid");n?(a.params=Object.assign({_oneId:n},a.params||{}),window.localStorage.removeItem("alideviceid"),window.localStorage.setItem("_oneId",n)):i?(a.params=Object.assign({alideviceid:i},a.params||{}),window.localStorage.removeItem("_oneId"),window.localStorage.setItem("alideviceid",i)):(n=window.localStorage.getItem("_oneId"),i=window.localStorage.getItem("alideviceid"),n?a.params=Object.assign({_oneId:n},a.params||{}):i&&(a.params=Object.assign({alideviceid:i},a.params||{})))}catch(t){o.default.log(t)}e&&e(t)}},t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n,r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(0)),i=a(1),o=(n=i)&&n.__esModule?n:{default:n};e.default={argumentPreprocess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];try{var a=t.config||{},n=r.getQuery("customUserId");n&&(a.params=Object.assign({customUserId:n},a.params||{}));var i=r.getQuery("debug");i&&(a.params=Object.assign({debug:i},a.params||{}))}catch(t){o.default.log(t)}e&&e(t)}},t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n,r=a(1),i=(n=r)&&n.__esModule?n:{default:n};e.default={argumentPreprocess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];try{var a=t.config;window&&window.$zebra&&window.$zebra.forceWholePageUseBackup&&(a.directUseBackup=!0)}catch(t){i.default.log(t)}e&&e(t)}},t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n,r=a(1),i=(n=r)&&n.__esModule?n:{default:n};e.default={argumentPreprocess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];try{var a=t.config;a.params=Object.assign({curPageUrl:encodeURIComponent(window.location.href)},a.params||{})}catch(t){i.default.log(t)}e&&e(t)}},t.exports=e.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={argumentPreprocess:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];window.g_config=window.g_config||{},window.pcomDynamic=window.pcomDynamic||{};var a=t.config,n=t.data,r=window.g_config.pageConfig||{},i=window.g_config.language||a.language||"zh-TW",o=window.g_config.regionID||a.regionId||"TW",c=/127\.0\.0\.1|localhost|daily|waptest|\.test/,u="object"===("undefined"==typeof location?"undefined":_typeof(location))&&location.hostname||"",s=c.test(u)||location.search.indexOf("wh_debug=true")>=0,l=s?"4272":"24677475";n.map&&n.map((function(t){t.__data_source="overseas",Object.assign(t.__data_param,t.__dynamic_param)})),window.pcomDynamic.mtopConfig={api:"mtop.lazada.pegasus.service.AldRecommendService.recommend2",appKey:l,"x-i18n-language":i,"x-i18n-regionID":o};var f=Array.isArray(n)?n[0].__data_param:n,d=a.backupParams||{};Object.assign(d,{language:i,resourceCode:f.resourceCode}),a.backupParams=d,a.mtop=!!a.mtop,a.mtopApiName=a.mtopApiName||"mtop.lazada.pegasus.service.AldRecommendService.recommend2",a.params=Object.assign({terminalType:"msite"===window.g_config.terminalType?2:1,campaignId:r.campaignId,pageId:r.pageId,language:i,regionID:o,backupParams:f.backupParams||"language,resourceCode"},a.params||{}),a.reqSource="overseas",e&&e(t)}},t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n=i(a(18)),r=i(a(3));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(t){return _classCallCheck(this,e),t.io=r.default,_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return _inherits(e,t),e}(n.default);e.default=o,t.exports=e.default},function(t,e,a){Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e.default=t,e}(a(0)),r=c(a(4)),i=c(a(6)),o=c(a(2));function c(t){return t&&t.__esModule?t:{default:t}}var u=function(t){return"[object Object]"===Object.prototype.toString.call(t)},s={url:"//ald.taobao.com/recommend2.htm?",dataType:"jsonp"},l=function(){function t(e){_classCallCheck(this,t);var a=window.g_config&&window.g_config.dynamicConfig||{},n=Object.assign({},a,e),r=i.default.checkPlugins(n);e=n;var o=this;r?i.default.usePlugins(r,"argumentPreprocess",{data:{},callback:e.callback,config:e},(function(t){t.config.callback=t.callback,o._init(t.config)})):o._init(e)}return _createClass(t,[{key:"_init",value:function(t){this._checkDataConfig(t),t.params.appId=""+t.params.appId,t.closeBackup||void 0!==t.forceBackupHasParam||(t.forceBackupHasParam=!0),t=Object.assign({},s,t),this.cfg=t,this.cfg.ctx||(this.cfg.ctx=window||{});var e=parseInt(t.timeout,10);this.request=new r.default({timeout:e=e?e>100?e:1e3*e:o.default.timeout,io:this.cfg.io,ctx:t.ctx,extractData:!0,closeAllBackup:t.closeAllBackup||!1,closeBackup:t.closeBackup||!1,directUseBackup:t.directUseBackup||!1,duplication:!!t.duplication,mtop:!!t.mtop,mtopApiName:t.mtopApiName||"mtop.taobao.aladdin.service.AldRecommendService.tmall.recommend2",mtopConfig:u(t.mtopConfig)?t.mtopConfig:{},params:t.params,backupParams:u(t.backupParams)?t.backupParams:{},forceBackupHasParam:t.forceBackupHasParam||!1}),this._getData(t).then(t.callback).catch((function(e){t.errCallback&&t.errCallback(e)}))}},{key:"_getData",value:function(t){return this._push(t),this.request.run()}},{key:"_push",value:function(t){this.request.push({__data_param:t.params,__data_type:t.dataType,__data_url:t.url,__data_source:t.dataSource,__data_default:{length:50}})}},{key:"_checkDataConfig",value:function(t){if(!t||!u(t))throw new Error("\u4f20\u5165\u7684\u53c2\u6570\u5fc5\u987b\u4e3a\u5bf9\u8c61");if(!t.params||!t.params.appId)throw new Error("\u5fc5\u987b\u4f20\u5165appId");if("string"!=typeof t.params.appId&&"number"!=typeof t.params.appId)throw new Error("\u4f20\u5165\u7684appId\u5fc5\u987b\u4e3a\u5b57\u7b26\u4e32\u6216\u6570\u5b57");if(!n.isFunction(t.callback))throw new Error("\u5fc5\u987b\u4f20\u5165\u56de\u8c03\u51fd\u6570")}}]),t}();e.default=l,t.exports=e.default}])}));define("@ali/pcom-cookie/index",[],function(e,n,t){t.exports=function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p=".package",t(t.s=0)}([function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});var o=t(1),r={};"undefined"!=typeof __weex_options__&&__weex_options__,"function"==typeof callNative||"object"===("undefined"==typeof WXEnvironment?"undefined":_typeof(WXEnvironment))&&WXEnvironment;r.get=function(e){return new Promise(function(n,t){var r,i=document.cookie;r=(0,o.parse)(i),n(e?r[e]:r)})},r.set=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.name){var n=[];["path","domain","maxAge","expires"].forEach(function(t){e[t]&&n.push((0,o.camleToLine)(t)+"="+e[t])}),e.secure&&n.push("secure"),document.cookie=e.name+"="+e.value+"; "+n.join("; ")}},n.default=r,e.exports=n.default},function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.parse=function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"=",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"; ",o={},r=e.split(t),i=0;i<r.length;i++){var u=r[i],f=u.indexOf(n);if(f>-1){var a=u.substring(0,f),c=u.substring(f+1);o[a]=c}}return o},n.camleToLine=function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()}}])});