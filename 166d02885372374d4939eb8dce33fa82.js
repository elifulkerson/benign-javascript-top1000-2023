/*! For license information please see graun.standalone.commercial.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r,i={1284:(e,t,n)=>{n.d(t,{B4:()=>le,ER:()=>ce,Nl:()=>de,Uc:()=>ue});var r,i=n(2500),o=n(1881),a=n(5783);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}var f,p,v=e=>{(0,i.c)("cmp","Framework set to ".concat(e)),r=e},m=()=>r,g=e=>{var t,n;null===(t=window.performance)||void 0===t||null===(n=t.mark)||void 0===n||n.call(t,e),(0,i.c)("cmp","[event]",e)},h="undefined"==typeof window,b=()=>{console.warn("This is a server-side version of the @guardian/consent-management-platform","No consent signals will be received.")},w=e=>()=>(b(),e),y={__disable:b,__enable:w(!1),__isDisabled:w(!1),hasInitialised:w(!1),init:b,showPrivacyManager:b,version:"n/a",willShowPrivacyMessage:w(Promise.resolve(!1)),willShowPrivacyMessageSync:w(!1)},S=()=>(void 0===f&&(f=!!h||window.location.host.endsWith(".theguardian.com")),f),_=1257,E=540252,P=106842,O=540341,k=S()?"https://sourcepoint.theguardian.com":"https://cdn.privacy-mgmt.com",C=()=>{return e="getUSPData",new Promise(((t,n)=>{window.__uspapi?window.__uspapi(e,1,((r,i)=>i?t(r):n(new Error("Unable to get ".concat(e," data"))))):n(new Error("No __uspapi found on window"))}));var e},j=function(){var e=d((function*(){return{personalisedAdvertising:!("Y"===(yield C()).uspString.charAt(2))}}));return function(){return e.apply(this,arguments)}}(),A=()=>{return e="getUSPData",new Promise(((t,n)=>{window.__uspapi?window.__uspapi(e,1,((r,i)=>i?t(r):n(new Error("Unable to get ".concat(e," data"))))):n(new Error("No __uspapi found on window"))}));var e},x=function(){var e=d((function*(){return{doNotSell:"Y"===(yield A()).uspString.charAt(2)}}));return function(){return e.apply(this,arguments)}}(),T=e=>new Promise(((t,n)=>{window.__tcfapi?window.__tcfapi(e,2,((r,i)=>i?t(r):n(new Error("Unable to get ".concat(e," data"))))):n(new Error("No __tcfapi found on window"))})),D={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1},N=function(){var e=d((function*(){var[e,t]=yield Promise.all([T("addEventListener"),T("getCustomVendorConsents")]);if(void 0===e){var n,r=null!==(n=m())&&void 0!==n?n:"undefined";throw new Error("No TC Data found with current framework: ".concat(r))}var i=c(c({},D),e.purpose.consents),{eventStatus:o,gdprApplies:a,tcString:s,addtlConsent:l}=e,{grants:u}=t;return{consents:i,eventStatus:o,vendorConsents:Object.keys(u).sort().reduce(((e,t)=>c(c({},e),{},{[t]:u[t].vendorGrant})),{}),addtlConsent:l,gdprApplies:a,tcString:s}}));return function(){return e.apply(this,arguments)}}(),I=[],M=e=>{var t;return"cmpuishown"===(null===(t=e.tcfv2)||void 0===t?void 0:t.eventStatus)},B=(e,t)=>{if(!M(t)){var n=JSON.stringify(t);n!==e.lastState&&(e.fn(t),e.lastState=n)}},L=e=>{var t=h?void 0:navigator.globalPrivacyControl;if(e.tcfv2){var n=e.tcfv2.consents;return c(c({},e),{},{canTarget:Object.keys(n).length>0&&Object.values(n).every(Boolean),framework:"tcfv2",gpcSignal:t})}return e.ccpa?c(c({},e),{},{canTarget:!e.ccpa.doNotSell,framework:"ccpa",gpcSignal:t}):e.aus?c(c({},e),{},{canTarget:e.aus.personalisedAdvertising,framework:"aus",gpcSignal:t}):c(c({},e),{},{canTarget:!1,framework:null,gpcSignal:t})},F=function(){var e=d((function*(){switch(m()){case"aus":return L({aus:yield j()});case"ccpa":return L({ccpa:yield x()});case"tcfv2":return L({tcfv2:yield N()});default:throw new Error("no IAB consent framework found on the page")}}));return function(){return e.apply(this,arguments)}}(),R=()=>{0!==I.length&&F().then((e=>{M(e)||I.forEach((t=>B(t,e)))}))},Z=e=>{var t={fn:e};I.push(t),F().then((e=>{B(t,e)})).catch((()=>{}))},z=()=>{!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r=n(2);e.exports=!r((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){n(4),function(){if("function"!=typeof window.__tcfapi){var e,t=[],n=window,r=n.document;!n.__tcfapi&&function e(){var t=!!n.frames.__tcfapiLocator;if(!t)if(r.body){var i=r.createElement("iframe");i.style.cssText="display:none",i.name="__tcfapiLocator",r.body.appendChild(i)}else setTimeout(e,5);return!t}()&&(n.__tcfapi=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return t;if("setGdprApplies"===r[0])r.length>3&&2===parseInt(r[1],10)&&"boolean"==typeof r[3]&&(e=r[3],"function"==typeof r[2]&&r[2]("set",!0));else if("ping"===r[0]){var o={gdprApplies:e,cmpLoaded:!1,apiVersion:"2.0"};"function"==typeof r[2]&&r[2](o,!0)}else t.push(r)},n.addEventListener("message",(function(e){var t="string"==typeof e.data,r={};try{r=t?JSON.parse(e.data):e.data}catch(e){}var i=r.__tcfapiCall;i&&n.__tcfapi(i.command,i.version,(function(n,r){var o={__tcfapiReturn:{returnValue:n,success:r,callId:i.callId}};t&&(o=JSON.stringify(o)),e.source.postMessage(o,"*")}),i.parameter)}),!1))}}()},function(e,t,n){var r=n(0),i=n(5).f,o=Function.prototype,a=o.toString,s=/^s*function ([^ (]*)/;r&&!("name"in o)&&i(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){var r=n(0),i=n(6),o=n(10),a=n(11),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(0),i=n(2),o=n(7);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(8),i=n(1),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||Function("return this")()}).call(this,n(9))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(1);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(1);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}}])},H=e=>{"tcfv2"===e?z():function(){var e=!1,t=window,n=document;function r(e){var n="string"==typeof e.data;try{var r=n?JSON.parse(e.data):e.data;if(r.__cmpCall){var i=r.__cmpCall;t.__uspapi(i.command,i.parameter,(function(t,r){var o={__cmpReturn:{returnValue:t,success:r,callId:i.callId}};e.source.postMessage(n?JSON.stringify(o):o,"*")}))}}catch(r){}}!function e(){if(!t.frames.__uspapiLocator)if(n.body){var r=n.body,i=n.createElement("iframe");i.style.cssText="display:none",i.name="__uspapiLocator",r.appendChild(i)}else setTimeout(e,5)}(),"function"!=typeof __uspapi&&(t.__uspapi=function(){var t=arguments;if(__uspapi.a=__uspapi.a||[],!t.length)return __uspapi.a;"ping"===t[0]?t[2]({gdprAppliesGlobally:e,cmpLoaded:!1},!0):__uspapi.a.push([].slice.apply(t))},__uspapi.msgHandler=r,t.addEventListener("message",r,!1))}()},U=new Promise((e=>{p=e})),q=e=>"aus"==e?"https://au.theguardian.com":S()?null:"https://test.theguardian.com";var G,W,V,K,J,$=(e,t)=>{g("cmp-init"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(H(e),window._sp_)throw new Error("Sourcepoint global (window._sp_) is already defined!");v(e),R();var n="tcfv2"==e?"gdpr":"ccpa";(0,i.c)("cmp","framework: ".concat(e)),(0,i.c)("cmp","frameworkMessageType: ".concat(n)),window._sp_queue=[],window._sp_={config:{baseEndpoint:k,accountId:_,propertyHref:q(e),targetingParams:{framework:e},pubData:c(c({},t),{},{cmpInitTimeUtc:(new Date).getTime()}),events:{onConsentReady:(e,t,r)=>{(0,i.c)("cmp","onConsentReady ".concat(e)),e==n&&((0,i.c)("cmp","consentUUID ".concat(t)),(0,i.c)("cmp","euconsent ".concat(r)),g("cmp-got-consent"),setTimeout(R,0))},onMessageReady:e=>{(0,i.c)("cmp","onMessageReady ".concat(e)),e==n&&g("cmp-ui-displayed")},onMessageReceiveData:(e,t)=>{(0,i.c)("cmp","onMessageReceiveData ".concat(e)),e==n&&((0,i.c)("cmp","onMessageReceiveData ",t),p(0!==t.messageId))},onMessageChoiceSelect:(e,t,r)=>{(0,i.c)("cmp","onMessageChoiceSelect message_type: ".concat(e)),console.log(),e==n&&((0,i.c)("cmp","onMessageChoiceSelect choice_id: ".concat(t)),(0,i.c)("cmp","onMessageChoiceSelect choice_type_id: ".concat(r)),11!==r&&13!==r&&15!==r||setTimeout(R,0))},onPrivacyManagerAction:function(e,t){(0,i.c)("cmp","onPrivacyManagerAction message_type: ".concat(e)),e==n&&(0,i.c)("cmp","onPrivacyManagerAction ".concat(t))},onMessageChoiceError:function(e,t){(0,i.c)("cmp","onMessageChoiceError ".concat(e)),e==n&&(0,i.c)("cmp","onMessageChoiceError ".concat(t))},onPMCancel:function(e){(0,i.c)("cmp","onPMCancel ".concat(e))},onSPPMObjectReady:function(){(0,i.c)("cmp","onSPPMObjectReady")},onError:function(e,t,r,o){(0,i.c)("cmp","errorCode: ".concat(e)),e==n&&((0,i.c)("cmp","errorCode: ".concat(t)),(0,i.c)("cmp",r),(0,i.c)("cmp","userReset: ".concat(o)))}}}},"tcfv2"===e?window._sp_.config.gdpr={targetingParams:{framework:e}}:window._sp_.config.ccpa={targetingParams:{framework:e}};var r=document.createElement("script");r.id="sourcepoint-lib",r.src="".concat(k,"/unified/wrapperMessagingWithoutDetection.js"),document.body.appendChild(r)}(e,t)},Y=()=>U,X=function(){var e,t,n,r,i,o,a,s,c;switch(m()){case"tcfv2":null===(e=window._sp_)||void 0===e||null===(t=e.gdpr)||void 0===t||null===(n=t.loadPrivacyManagerModal)||void 0===n||n.call(t,P);break;case"ccpa":null===(r=window._sp_)||void 0===r||null===(i=r.ccpa)||void 0===i||null===(o=i.loadPrivacyManagerModal)||void 0===o||o.call(i,E);break;case"aus":null===(a=window._sp_)||void 0===a||null===(s=a.ccpa)||void 0===s||null===(c=s.loadPrivacyManagerModal)||void 0===c||c.call(s,O)}},Q="gu-cmp-disabled",ee=()=>new RegExp("".concat(Q,"=true(\\W+|$)")).test(document.cookie),te=c(c({},{a9:["5f369a02b8e05c308701f829"],acast:["5f203dcb1f0dea790562e20f"],braze:["5ed8c49c4b8ce4571c7ad801"],comscore:["5efefe25b8e05c06542b2a77"],criteo:["5e98e7f1b8e05c111d01b462"],"google-analytics":["5e542b3a4cd8884eb41b5a72"],"google-mobile-ads":["5f1aada6b8e05c306c0597d7"],"google-tag-manager":["5e952f6107d9d20c88e7c975"],googletag:["5f1aada6b8e05c306c0597d7"],ias:["5e7ced57b8e05c485246ccf3"],inizio:["5e37fc3e56a5e6615502f9c9"],ipsos:["5fa51b29a228638b4a1980e4"],magnite:["5e7ced57b8e05c485246cce5"],nielsen:["5ef5c3a5b8e05c69980eaa5b"],ophan:["5f203dbeeaaaa8768fd3226a"],permutive:["5f369a02b8e05c2f2d546a40"],prebid:["5f92a62aa22863685f4daa4c"],qm:["5f295fa4b8e05c76a44c3149"],remarketing:["5ed0eb688a76503f1016578f"],sentry:["5f0f39014effda6e8bbd2006"],teads:["5eab3d5ab8e05c2bbe33f399"],twitter:["5e71760b69966540e4554f01"],"youtube-player":["5e7ac3fae30e7d1bc1ebf5e8"]}),{redplanet:["not-tcfv2-vendor"]}),ne=(e,t)=>{var n,r=te[e];if(void 0===r||Array.isArray(r)&&0===r.length)throw new Error("Vendor '".concat(e,"' not found, or with no Sourcepoint ID. ")+"If it should be added, raise an issue at https://github.com/guardian/consent-management-platform/issues");if(t.ccpa)return!t.ccpa.doNotSell;if(t.aus)return t.aus.personalisedAdvertising;var i=r.find((e=>{var n;return void 0!==(null===(n=t.tcfv2)||void 0===n?void 0:n.vendorConsents[e])}));if(void 0===i)return console.warn("No consent returned from Sourcepoint for vendor: '".concat(e,"'")),!1;var o=null===(n=t.tcfv2)||void 0===n?void 0:n.vendorConsents[i];return void 0===o?(console.warn("No consent returned from Sourcepoint for vendor: '".concat(e,"'")),!1):o},re={a9:{localStorage:["apstagUserAgentClientHints","apstagCxMEnabled"]},inizio:{localStorage:["__bm_s","__bm_m"]},criteo:{cookies:["cto_bundle"],localStorage:["criteo_fast_bid_expires","cto_bundle","criteo_fast_bid","criteo_pt_cdb_mngr_metrics","__ansync3rdp_criteo"]},comscore:{cookies:["comScore"]},ipsos:{cookies:["DM_SitId1073","DM_SitId1073SecId5802","DotMetrics.AmpCookie"],localStorage:["DotmetricsSiteData","DotMetricsTimeOnPage","DotMetricsUserId","DotMetricsDeviceGuidId"]},permutive:{cookies:["permutive-id"],localStorage:["permutive-data-queries","_pubcid","permutive-pvc","permutive-data-enrichers","permutive-session","permutive-data-misc","permutive-unprocessed-pba","permutive-app","permutive-data-models","permutive-id","permutive-consent","permutive-events-cache","permutive-data-queries","permutive-events-for-page","__permutiveConfigQueryParams"],sessionStorage:["__permutiveConfigQueryParams"]},prebid:{localStorage:["_psegs","_pubcid_exp"]},googletag:{cookies:["__gpi","__gads"]},"google-analytics":{cookies:["_gid","_ga"]}},ie=e=>Object.keys(re).forEach((t=>{var n=ne(t,e),r=re[t];n||("cookies"in r&&r.cookies.forEach((e=>{(0,o.n)({name:e})})),"localStorage"in r&&r.localStorage.forEach((e=>{a.t.local.remove(e)})),"sessionStorage"in r&&r.sessionStorage.forEach((e=>{a.t.session.remove(e)})))}));h||window.guCmpHotFix||(window.guCmpHotFix={});var oe,ae=!1,se=new Promise((e=>{oe=e})),ce=h?y:(G=window.guCmpHotFix).cmp||(G.cmp={init:e=>{var{pubData:t,country:n}=e;if(!ee()&&!h)if(window.guCmpHotFix.initialised){var r,o;"13.7.0"!==(null===(r=window.guCmpHotFix.cmp)||void 0===r?void 0:r.version)&&console.warn("Two different versions of the CMP are running:",["13.7.0",null===(o=window.guCmpHotFix.cmp)||void 0===o?void 0:o.version])}else{if(window.guCmpHotFix.initialised=!0,void 0===n)throw new Error("CMP initialised without `country` property. A 2-letter, ISO ISO_3166-1 country code is required.");var a=(e=>{var t;switch(e){case"US":t="ccpa";break;case"AU":t="aus";break;default:t="tcfv2"}return t})(n);$(a,null!=t?t:{}),Y().then((e=>{J=e,ae=!0,(0,i.c)("cmp","initComplete")})),oe(),Z((e=>{"requestIdleCallback"in window?requestIdleCallback((()=>{ie(e)}),{timeout:2e3}):ie(e)}))}},willShowPrivacyMessage:()=>se.then((()=>Y())),willShowPrivacyMessageSync:()=>{if(void 0!==J)return J;throw new Error("CMP has not been initialised. Use the async willShowPrivacyMessage() instead.")},hasInitialised:()=>ae,showPrivacyManager:()=>{se.then(X)},version:"13.7.0",__isDisabled:ee,__enable:()=>{document.cookie="".concat(Q,"=false")},__disable:()=>{document.cookie="".concat(Q,"=true")}}),le=h?()=>(b(),Promise.resolve({canTarget:!1,framework:null})):(W=window.guCmpHotFix).onConsent||(W.onConsent=()=>new Promise(((e,t)=>{Z((n=>{(n.tcfv2||n.ccpa||n.aus)&&e(n),t("Unknown framework")}))}))),ue=h?()=>b():(V=window.guCmpHotFix).onConsentChange||(V.onConsentChange=Z),de=h?(e,t)=>(console.log("Server-side call for getConsentFor(".concat(e,", ").concat(JSON.stringify(t),")"),"getConsentFor will always return false server-side"),b(),!1):(K=window.guCmpHotFix).getConsentFor||(K.getConsentFor=ne)},3602:(e,t,n)=>{n.d(t,{P:()=>r});var r="Cookie must not contain invalid characters (space, tab and the following characters: '()<>@,;\"/[]?={}')"},8251:(e,t,n)=>{n.d(t,{e:()=>o});var r=n(2510),i=n(2965),o=e=>{var{name:t,shouldMemoize:n=!1}=e,o=i.k.get(t);if(o)return o;var[a]=(0,r.H)(t);return a?(n&&i.k.set(t,a),a):null}},2510:(e,t,n)=>{n.d(t,{H:()=>r});var r=e=>{var t="".concat(e,"=");return document.cookie.split(";").reduce(((e,n)=>{var r=n.trim();return r.startsWith(t)&&e.push(r.substring(t.length,r.length)),e}),[])}},3007:(e,t,n)=>{n.d(t,{B:()=>i});var r=n(7176),i=function(){var{isCrossSubdomain:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,r.W)({isCrossSubdomain:e});return"localhost"===t?"":" domain=".concat(t,";")}},7176:(e,t,n)=>{n.d(t,{W:()=>r});var r=function(){var e,t,n,{isCrossSubdomain:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=document.domain||"";return"localhost"===i||null!==(e=window.guardian)&&void 0!==e&&null!==(t=e.config)&&void 0!==t&&null!==(n=t.page)&&void 0!==n&&n.isPreview?i:r?["",...i.split(".").slice(-2)].join("."):i.replace(/^(www|m\.code|dev|m)\./,".")}},1254:(e,t,n)=>{n.d(t,{I:()=>o});var r=/[()<>@,;"\\/[\]?={} \t]/g,i=e=>!r.test(e),o=(e,t)=>i(e)&&i(t)},2965:(e,t,n)=>{n.d(t,{k:()=>r});var r=new Map},1881:(e,t,n)=>{n.d(t,{n:()=>i});var r=n(7176),i=e=>{var{name:t,currentDomainOnly:n=!1}=e,i="expires=Thu, 01 Jan 1970 00:00:01 GMT;",o="path=/;";document.cookie="".concat(t,"=;").concat(o).concat(i),n||(document.cookie="".concat(t,"=;").concat(o).concat(i," domain=").concat((0,r.W)(),";"))}},4953:(e,t,n)=>{n.d(t,{d:()=>c});var r=n(3602),i=n(2510),o=n(3007),a=n(1254),s=n(2965),c=e=>{var{name:t,value:n,daysToLive:c,isCrossSubdomain:l=!1}=e,u=new Date;if(!(0,a.I)(t,n))throw new Error("".concat(r.P," ").concat(t,"=").concat(n));if(c?u.setUTCDate(u.getUTCDate()+c):(u.setUTCMonth(u.getUTCMonth()+5),u.setUTCDate(1)),document.cookie="".concat(t,"=").concat(n,"; path=/; expires=").concat(u.toUTCString(),";").concat((0,o.B)({isCrossSubdomain:l})),s.k.has(t)){var[d]=(0,i.H)(t);d&&s.k.set(t,d)}}},4367:(e,t,n)=>{n.d(t,{C:()=>r});var r=e=>null!=e},1083:(e,t,n)=>{n.d(t,{K:()=>r});var r=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},5336:(e,t,n)=>{n.d(t,{H:()=>r});var r=e=>"[object String]"===Object.prototype.toString.call(e)},1401:(e,t,n)=>{n.d(t,{v:()=>r});var r=(e,t)=>new Promise(((n,r)=>{var i,o=document.createElement("script");if(o.src=e,Array.from(document.scripts).some((e=>{var{src:t}=e;return o.src===t})))return n(void 0);Object.assign(o,t),o.onload=n,o.onerror=(t,n,i,o,a)=>{if(a)r(a);else if("string"!=typeof t)if(t instanceof Event){var s,c=null!==(s=t.target.getAttribute("src"))&&void 0!==s?s:"";r(new Error("Error loading script: src: ".concat(e," targetSrc: ").concat(c)))}else r(new Error("Error loading script: src: ".concat(e)));else r(new Error("Error loading script: src: ".concat(e," event: ").concat(t)))};var a=document.scripts[0];null==a||null===(i=a.parentNode)||void 0===i||i.insertBefore(o,a)}))},2500:(e,t,n)=>{n.d(t,{c:()=>m});var r=n(5336),i=n(5783),o="gu.logger",a=n(3091);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,d,f=c(c({},a.aH),a.zH),p=e=>{var{background:t,font:n}=f[e];return"background: ".concat(t,"; color: ").concat(n,"; padding: 2px 3px; border-radius:3px")},v=()=>{var e=i.t.local.get(o);return(0,r.H)(e)?e.split(",").filter(a.HU):[]};"undefined"!=typeof window&&((u=window).guardian||(u.guardian={}),(d=window.guardian).logger||(d.logger={subscribeTo:e=>{var t=v();t.includes(e)||t.push(e),i.t.local.set(o,t.join(",")),m(e,"ğŸ”” Subscribed, hello!")},unsubscribeFrom:e=>{m(e,"ğŸ”• Unsubscribed, good-bye!");var t=v().filter((t=>t!==e));i.t.local.set(o,t.join(","))},teams:()=>Object.keys(a.aH)}));var m=function(e){if(v().includes(e)){for(var t=[p("common"),"",p(e),""],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];console.log("%c@guardian%c %c".concat(e,"%c"),...t,...r)}}},3091:(e,t,n)=>{n.d(t,{HU:()=>o,aH:()=>i,zH:()=>r});var r={common:{background:"#052962",font:"#ffffff"}},i={commercial:{background:"#77EEAA",font:"#004400"},cmp:{background:"#FF6BB5",font:"#2F0404"},dotcom:{background:"#000000",font:"#ff7300"},design:{background:"#185E36",font:"#FFF4F2"},tx:{background:"#2F4F4F",font:"#FFFFFF"},supporterRevenue:{background:"#0F70B7",font:"#ffffff"},identity:{background:"#6F5F8F",font:"#ffffff"},openJournalism:{background:"#C74600",font:"#FEF9F5"}},o=e=>Object.keys(i).includes(e)},5783:(e,t,n)=>{n.d(t,{t:()=>p});var r,i,o=n(1083),a=n(5336);function s(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function c(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,u(e,t,"get"))}function l(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,u(e,t,"set"),n),n}function u(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var d=new WeakMap;class f{constructor(e){s(this,d,{writable:!0,value:void 0});try{var t=window[e],n=(new Date).toString();t.setItem(n,n);var r=t.getItem(n)==n;t.removeItem(n),r&&l(this,d,t)}catch(e){}}isAvailable(){return Boolean(c(this,d))}get(e){try{var t,n,r=JSON.parse(null!==(t=null===(n=c(this,d))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:"");if(!(0,o.K)(r))return null;var{value:i,expires:s}=r;return(0,a.H)(s)&&new Date>new Date(s)?(this.remove(e),null):i}catch(e){return null}}set(e,t,n){var r;return null===(r=c(this,d))||void 0===r?void 0:r.setItem(e,JSON.stringify({value:t,expires:n}))}remove(e){var t;return null===(t=c(this,d))||void 0===t?void 0:t.removeItem(e)}clear(){var e;return null===(e=c(this,d))||void 0===e?void 0:e.clear()}getRaw(e){var t,n;return null!==(t=null===(n=c(this,d))||void 0===n?void 0:n.getItem(e))&&void 0!==t?t:null}setRaw(e,t){var n;return null===(n=c(this,d))||void 0===n?void 0:n.setItem(e,t)}}var p=new(r=new WeakMap,i=new WeakMap,class{constructor(){s(this,r,{writable:!0,value:void 0}),s(this,i,{writable:!0,value:void 0})}get local(){return c(this,r)||l(this,r,new f("localStorage"))}get session(){return c(this,i)||l(this,i,new f("sessionStorage"))}})},3876:(e,t,n)=>{n.d(t,{A:()=>r});var r={mobile:320,mobileMedium:375,mobileLandscape:480,phablet:660,tablet:740,desktop:980,leftCol:1140,wide:1300}},4291:(e,t,n)=>{var r;!function(){var t={initialize:function(){this._tasks=new Map},mutate:function(e,t){return i(this,"mutate",e,t)},measure:function(e,t){return i(this,"measure",e,t)},clear:function(e){var t=this._tasks,n=t.get(e);this.fastdom.clear(n),t.delete(e)}};function i(e,t,n,r){var i,o=e._tasks,a=e.fastdom,s=new Promise((function(e,c){i=a[t]((function(){o.delete(s);try{e(r?n.call(r):n())}catch(e){c(e)}}),r)}));return o.set(s,i),s}"f"=="function"[0]?void 0===(r=function(){return t}.call(t,n,t,e))||(e.exports=r):"o"=="object"[0]?e.exports=t:window.fastdomPromised=t}()},8023:function(e,t,n){var r;!function(t){var i=function(){},o=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function a(){var e=this;e.reads=[],e.writes=[],e.raf=o.bind(t),i("initialized",e)}function s(e){e.scheduled||(e.scheduled=!0,e.raf(c.bind(null,e)),i("flush scheduled"))}function c(e){i("flush");var t,n=e.writes,r=e.reads;try{i("flushing reads",r.length),e.runTasks(r),i("flushing writes",n.length),e.runTasks(n)}catch(e){t=e}if(e.scheduled=!1,(r.length||n.length)&&s(e),t){if(i("task errored",t.message),!e.catch)throw t;e.catch(t)}}function l(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}a.prototype={constructor:a,runTasks:function(e){var t;for(i("run tasks");t=e.shift();)t()},measure:function(e,t){i("measure");var n=t?e.bind(t):e;return this.reads.push(n),s(this),n},mutate:function(e,t){i("mutate");var n=t?e.bind(t):e;return this.writes.push(n),s(this),n},clear:function(e){return i("clear",e),l(this.reads,e)||l(this.writes,e)},extend:function(e){if(i("extend",e),"object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var u=t.fastdom=t.fastdom||new a;void 0===(r=function(){return u}.call(u,n,u,e))||(e.exports=r)}("undefined"!=typeof window?window:this)},7577:e=>{function t(e){this.name="RavenConfigError",this.message=e}t.prototype=new Error,t.prototype.constructor=t,e.exports=t},2593:(e,t,n)=>{var r=n(3930);e.exports={wrapMethod:function(e,t,n){var i=e[t],o=e;if(t in e){var a="warn"===t?"warning":t;e[t]=function(){var e=[].slice.call(arguments),s=r.safeJoin(e," "),c={level:a,logger:"console",extra:{arguments:e}};"assert"===t?!1===e[0]&&(s="Assertion failed: "+(r.safeJoin(e.slice(1)," ")||"console.assert"),c.extra.arguments=e.slice(1),n&&n(s,c)):n&&n(s,c),i&&Function.prototype.apply.call(i,o,e)}}}}},8281:(e,t,n)=>{var r=n(2581),i=n(4176),o=n(9655),a=n(7577),s=n(3930),c=s.isErrorEvent,l=s.isDOMError,u=s.isDOMException,d=s.isError,f=s.isObject,p=s.isPlainObject,v=s.isUndefined,m=s.isFunction,g=s.isString,h=s.isArray,b=s.isEmptyObject,w=s.each,y=s.objectMerge,S=s.truncate,_=s.objectFrozen,E=s.hasKey,P=s.joinRegExp,O=s.urlencode,k=s.uuid4,C=s.htmlTreeAsString,j=s.isSameException,A=s.isSameStacktrace,x=s.parseUrl,T=s.fill,D=s.supportsFetch,N=s.supportsReferrerPolicy,I=s.serializeKeysForMessage,M=s.serializeException,B=s.sanitize,L=n(2593).wrapMethod,F="source protocol user pass host port path".split(" "),R=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function Z(){return+new Date}var z="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},H=z.document,U=z.navigator;function q(e,t){return m(t)?function(n){return t(n,e)}:t}function G(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument=!v(H),this._hasNavigator=!v(U),this._lastCapturedException=null,this._lastData=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={release:z.SENTRY_RELEASE&&z.SENTRY_RELEASE.id,logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],headers:null,collectWindowErrors:!0,captureUnhandledRejections:!0,maxMessageLength:0,maxUrlLength:250,stackTraceLimit:50,autoBreadcrumbs:!0,instrument:!0,sampleRate:1,sanitizeKeys:[]},this._fetchDefaults={method:"POST",referrerPolicy:N()?"origin":""},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=z.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=Z(),this._wrappedBuiltIns=[],this._breadcrumbs=[],this._lastCapturedEvent=null,this._keypressTimeout,this._location=z.location,this._lastHref=this._location&&this._location.href,this._resetBackoff(),this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}G.prototype={VERSION:"3.27.2",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(n._globalServer)return this._logDebug("error","Error: Raven has already been configured"),n;if(!e)return n;var i=n._globalOptions;t&&w(t,(function(e,t){"tags"===e||"extra"===e||"user"===e?n._globalContext[e]=t:i[e]=t})),n.setDSN(e),i.ignoreErrors.push(/^Script error\.?$/),i.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),i.ignoreErrors=P(i.ignoreErrors),i.ignoreUrls=!!i.ignoreUrls.length&&P(i.ignoreUrls),i.whitelistUrls=!!i.whitelistUrls.length&&P(i.whitelistUrls),i.includePaths=P(i.includePaths),i.maxBreadcrumbs=Math.max(0,Math.min(i.maxBreadcrumbs||100,100));var o={xhr:!0,console:!0,dom:!0,location:!0,sentry:!0},a=i.autoBreadcrumbs;"[object Object]"==={}.toString.call(a)?a=y(o,a):!1!==a&&(a=o),i.autoBreadcrumbs=a;var s={tryCatch:!0},c=i.instrument;return"[object Object]"==={}.toString.call(c)?c=y(s,c):!1!==c&&(c=s),i.instrument=c,r.collectWindowErrors=!!i.collectWindowErrors,n},install:function(){var e=this;return e.isSetup()&&!e._isRavenInstalled&&(r.report.subscribe((function(){e._handleOnErrorStackInfo.apply(e,arguments)})),e._globalOptions.captureUnhandledRejections&&e._attachPromiseRejectionHandler(),e._patchFunctionToString(),e._globalOptions.instrument&&e._globalOptions.instrument.tryCatch&&e._instrumentTryCatch(),e._globalOptions.autoBreadcrumbs&&e._instrumentBreadcrumbs(),e._drainPlugins(),e._isRavenInstalled=!0),Error.stackTraceLimit=e._globalOptions.stackTraceLimit,this},setDSN:function(e){var t=this,n=t._parseDSN(e),r=n.path.lastIndexOf("/"),i=n.path.substr(1,r);t._dsn=e,t._globalKey=n.user,t._globalSecret=n.pass&&n.pass.substr(1),t._globalProject=n.path.substr(r+1),t._globalServer=t._getGlobalServer(n),t._globalEndpoint=t._globalServer+"/"+i+"api/"+t._globalProject+"/store/",this._resetBackoff()},context:function(e,t,n){return m(e)&&(n=t||[],t=e,e={}),this.wrap(e,t).apply(this,n)},wrap:function(e,t,n){var r=this;if(v(t)&&!m(e))return e;if(m(e)&&(t=e,e=void 0),!m(t))return t;try{if(t.__raven__)return t;if(t.__raven_wrapper__)return t.__raven_wrapper__}catch(e){return t}function i(){var i=[],o=arguments.length,a=!e||e&&!1!==e.deep;for(n&&m(n)&&n.apply(this,arguments);o--;)i[o]=a?r.wrap(e,arguments[o]):arguments[o];try{return t.apply(this,i)}catch(t){throw r._ignoreNextOnError(),r.captureException(t,e),t}}for(var o in t)E(t,o)&&(i[o]=t[o]);return i.prototype=t.prototype,t.__raven_wrapper__=i,i.__raven__=!0,i.__orig__=t,i},uninstall:function(){return r.report.uninstall(),this._detachPromiseRejectionHandler(),this._unpatchFunctionToString(),this._restoreBuiltIns(),this._restoreConsole(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},_promiseRejectionHandler:function(e){this._logDebug("debug","Raven caught unhandled promise rejection:",e),this.captureException(e.reason,{mechanism:{type:"onunhandledrejection",handled:!1}})},_attachPromiseRejectionHandler:function(){return this._promiseRejectionHandler=this._promiseRejectionHandler.bind(this),z.addEventListener&&z.addEventListener("unhandledrejection",this._promiseRejectionHandler),this},_detachPromiseRejectionHandler:function(){return z.removeEventListener&&z.removeEventListener("unhandledrejection",this._promiseRejectionHandler),this},captureException:function(e,t){if(t=y({trimHeadFrames:0},t||{}),c(e)&&e.error)e=e.error;else{if(l(e)||u(e)){var n=e.name||(l(e)?"DOMError":"DOMException"),i=e.message?n+": "+e.message:n;return this.captureMessage(i,y(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}))}if(d(e));else{if(!p(e))return this.captureMessage(e,y(t,{stacktrace:!0,trimHeadFrames:t.trimHeadFrames+1}));t=this._getCaptureExceptionOptionsFromPlainObject(t,e),e=new Error(t.message)}}this._lastCapturedException=e;try{var o=r.computeStackTrace(e);this._handleStackInfo(o,t)}catch(t){if(e!==t)throw t}return this},_getCaptureExceptionOptionsFromPlainObject:function(e,t){var n=Object.keys(t).sort(),r=y(e,{message:"Non-Error exception captured with keys: "+I(n),fingerprint:[o(n)],extra:e.extra||{}});return r.extra.__serialized__=M(t),r},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e)){var n,i=y({message:e+=""},t=t||{});try{throw new Error(e)}catch(e){n=e}n.name=null;var o=r.computeStackTrace(n),a=h(o.stack)&&o.stack[1];a&&"Raven.captureException"===a.func&&(a=o.stack[2]);var s=a&&a.url||"";if((!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(s))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(s))){if(this._globalOptions.stacktrace||t.stacktrace||""===i.message){i.fingerprint=null==i.fingerprint?e:i.fingerprint,(t=y({trimHeadFrames:0},t)).trimHeadFrames+=1;var c=this._prepareFrames(o,t);i.stacktrace={frames:c.reverse()}}return i.fingerprint&&(i.fingerprint=h(i.fingerprint)?i.fingerprint:[i.fingerprint]),this._send(i),this}}},captureBreadcrumb:function(e){var t=y({timestamp:Z()/1e3},e);if(m(this._globalOptions.breadcrumbCallback)){var n=this._globalOptions.breadcrumbCallback(t);if(f(n)&&!b(n))t=n;else if(!1===n)return this}return this._breadcrumbs.push(t),this._breadcrumbs.length>this._globalOptions.maxBreadcrumbs&&this._breadcrumbs.shift(),this},addPlugin:function(e){var t=[].slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(i(this._globalContext))},setEnvironment:function(e){return this._globalOptions.environment=e,this},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){var t=this._globalOptions.dataCallback;return this._globalOptions.dataCallback=q(t,e),this},setBreadcrumbCallback:function(e){var t=this._globalOptions.breadcrumbCallback;return this._globalOptions.breadcrumbCallback=q(t,e),this},setShouldSendCallback:function(e){var t=this._globalOptions.shouldSendCallback;return this._globalOptions.shouldSendCallback=q(t,e),this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=z.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(H){if(!(e=y({eventId:this.lastEventId(),dsn:this._dsn,user:this._globalContext.user||{}},e)).eventId)throw new a("Missing eventId");if(!e.dsn)throw new a("Missing DSN");var t=encodeURIComponent,n=[];for(var r in e)if("user"===r){var i=e.user;i.name&&n.push("name="+t(i.name)),i.email&&n.push("email="+t(i.email))}else n.push(t(r)+"="+t(e[r]));var o=this._getGlobalServer(this._parseDSN(e.dsn)),s=H.createElement("script");s.async=!0,s.src=o+"/api/embed/error-page/?"+n.join("&"),(H.head||H.body).appendChild(s)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout((function(){e._ignoreOnError-=1}))},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),H.createEvent?(n=H.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=H.createEventObject()).eventType=e,t)E(t,r)&&(n[r]=t[r]);if(H.createEvent)H.dispatchEvent(n);else try{H.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_breadcrumbEventHandler:function(e){var t=this;return function(n){if(t._keypressTimeout=null,t._lastCapturedEvent!==n){var r;t._lastCapturedEvent=n;try{r=C(n.target)}catch(e){r="<unknown>"}t.captureBreadcrumb({category:"ui."+e,message:r})}}},_keypressEventHandler:function(){var e=this;return function(t){var n;try{n=t.target}catch(e){return}var r=n&&n.tagName;if(r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)){var i=e._keypressTimeout;i||e._breadcrumbEventHandler("input")(t),clearTimeout(i),e._keypressTimeout=setTimeout((function(){e._keypressTimeout=null}),1e3)}}},_captureUrlChange:function(e,t){var n=x(this._location.href),r=x(t),i=x(e);this._lastHref=t,n.protocol===r.protocol&&n.host===r.host&&(t=r.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),this.captureBreadcrumb({category:"navigation",data:{to:t,from:e}})},_patchFunctionToString:function(){var e=this;e._originalFunctionToString=Function.prototype.toString,Function.prototype.toString=function(){return"function"==typeof this&&this.__raven__?e._originalFunctionToString.apply(this.__orig__,arguments):e._originalFunctionToString.apply(this,arguments)}},_unpatchFunctionToString:function(){this._originalFunctionToString&&(Function.prototype.toString=this._originalFunctionToString)},_instrumentTryCatch:function(){var e=this,t=e._wrappedBuiltIns;function n(t){return function(n,r){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var a=i[0];return m(a)&&(i[0]=e.wrap({mechanism:{type:"instrument",data:{function:t.name||"<anonymous>"}}},a)),t.apply?t.apply(this,i):t(i[0],i[1])}}var r=this._globalOptions.autoBreadcrumbs;function i(n){var i=z[n]&&z[n].prototype;i&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(T(i,"addEventListener",(function(t){return function(i,o,a,s){try{o&&o.handleEvent&&(o.handleEvent=e.wrap({mechanism:{type:"instrument",data:{target:n,function:"handleEvent",handler:o&&o.name||"<anonymous>"}}},o.handleEvent))}catch(e){}var c,l,u;return r&&r.dom&&("EventTarget"===n||"Node"===n)&&(l=e._breadcrumbEventHandler("click"),u=e._keypressEventHandler(),c=function(e){if(e){var t;try{t=e.type}catch(e){return}return"click"===t?l(e):"keypress"===t?u(e):void 0}}),t.call(this,i,e.wrap({mechanism:{type:"instrument",data:{target:n,function:"addEventListener",handler:o&&o.name||"<anonymous>"}}},o,c),a,s)}}),t),T(i,"removeEventListener",(function(e){return function(t,n,r,i){try{n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n)}catch(e){}return e.call(this,t,n,r,i)}}),t))}T(z,"setTimeout",n,t),T(z,"setInterval",n,t),z.requestAnimationFrame&&T(z,"requestAnimationFrame",(function(t){return function(n){return t(e.wrap({mechanism:{type:"instrument",data:{function:"requestAnimationFrame",handler:t&&t.name||"<anonymous>"}}},n))}}),t);for(var o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],a=0;a<o.length;a++)i(o[a])},_instrumentBreadcrumbs:function(){var e=this,t=this._globalOptions.autoBreadcrumbs,n=e._wrappedBuiltIns;function r(t,n){t in n&&m(n[t])&&T(n,t,(function(n){return e.wrap({mechanism:{type:"instrument",data:{function:t,handler:n&&n.name||"<anonymous>"}}},n)}))}if(t.xhr&&"XMLHttpRequest"in z){var i=z.XMLHttpRequest&&z.XMLHttpRequest.prototype;T(i,"open",(function(t){return function(n,r){return g(r)&&-1===r.indexOf(e._globalKey)&&(this.__raven_xhr={method:n,url:r,status_code:null}),t.apply(this,arguments)}}),n),T(i,"send",(function(t){return function(){var n=this;function i(){if(n.__raven_xhr&&4===n.readyState){try{n.__raven_xhr.status_code=n.status}catch(e){}e.captureBreadcrumb({type:"http",category:"xhr",data:n.__raven_xhr})}}for(var o=["onload","onerror","onprogress"],a=0;a<o.length;a++)r(o[a],n);return"onreadystatechange"in n&&m(n.onreadystatechange)?T(n,"onreadystatechange",(function(t){return e.wrap({mechanism:{type:"instrument",data:{function:"onreadystatechange",handler:t&&t.name||"<anonymous>"}}},t,i)})):n.onreadystatechange=i,t.apply(this,arguments)}}),n)}t.xhr&&D()&&T(z,"fetch",(function(t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;++r)n[r]=arguments[r];var i,o=n[0],a="GET";if("string"==typeof o?i=o:"Request"in z&&o instanceof z.Request?(i=o.url,o.method&&(a=o.method)):i=""+o,-1!==i.indexOf(e._globalKey))return t.apply(this,n);n[1]&&n[1].method&&(a=n[1].method);var s={method:a,url:i,status_code:null};return t.apply(this,n).then((function(t){return s.status_code=t.status,e.captureBreadcrumb({type:"http",category:"fetch",data:s}),t})).catch((function(t){throw e.captureBreadcrumb({type:"http",category:"fetch",data:s,level:"error"}),t}))}}),n),t.dom&&this._hasDocument&&(H.addEventListener?(H.addEventListener("click",e._breadcrumbEventHandler("click"),!1),H.addEventListener("keypress",e._keypressEventHandler(),!1)):H.attachEvent&&(H.attachEvent("onclick",e._breadcrumbEventHandler("click")),H.attachEvent("onkeypress",e._keypressEventHandler())));var o=z.chrome,a=!(o&&o.app&&o.app.runtime)&&z.history&&z.history.pushState&&z.history.replaceState;if(t.location&&a){var s=z.onpopstate;z.onpopstate=function(){var t=e._location.href;if(e._captureUrlChange(e._lastHref,t),s)return s.apply(this,arguments)};var c=function(t){return function(){var n=arguments.length>2?arguments[2]:void 0;return n&&e._captureUrlChange(e._lastHref,n+""),t.apply(this,arguments)}};T(z.history,"pushState",c,n),T(z.history,"replaceState",c,n)}if(t.console&&"console"in z&&console.log){var l=function(t,n){e.captureBreadcrumb({message:t,level:n.level,category:"console"})};w(["debug","info","warn","error","log"],(function(e,t){L(console,t,l)}))}},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_restoreConsole:function(){for(var e in this._originalConsoleMethods)this._originalConsole[e]=this._originalConsoleMethods[e]},_drainPlugins:function(){var e=this;w(this._plugins,(function(t,n){var r=n[0],i=n[1];r.apply(e,[e].concat(i))}))},_parseDSN:function(e){var t=R.exec(e),n={},r=7;try{for(;r--;)n[F[r]]=t[r]||""}catch(t){throw new a("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new a("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(e,t){(t=t||{}).mechanism=t.mechanism||{type:"onerror",handled:!1},this._ignoreOnError||this._handleStackInfo(e,t)},_handleStackInfo:function(e,t){var n=this._prepareFrames(e,t);this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,n,t)},_prepareFrames:function(e,t){var n=this,r=[];if(e.stack&&e.stack.length&&(w(e.stack,(function(t,i){var o=n._normalizeFrame(i,e.url);o&&r.push(o)})),t&&t.trimHeadFrames))for(var i=0;i<t.trimHeadFrames&&i<r.length;i++)r[i].in_app=!1;return r=r.slice(0,this._globalOptions.stackTraceLimit)},_normalizeFrame:function(e,t){var n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"};return e.url||(n.filename=t),n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n},_processException:function(e,t,n,r,i,o){var a,s=(e?e+": ":"")+(t||"");if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t)&&!this._globalOptions.ignoreErrors.test(s))&&(i&&i.length?(n=i[0].filename||n,i.reverse(),a={frames:i}):n&&(a={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var c=y({exception:{values:[{type:e,value:t,stacktrace:a}]},transaction:n},o),l=c.exception.values[0];null==l.type&&""===l.value&&(l.value="Unrecoverable error caught"),!c.exception.mechanism&&c.mechanism&&(c.exception.mechanism=c.mechanism,delete c.mechanism),c.exception.mechanism=y({type:"generic",handled:!0},c.exception.mechanism||{}),this._send(c)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message&&(e.message=S(e.message,t)),e.exception){var n=e.exception.values[0];n.value=S(n.value,t)}var r=e.request;return r&&(r.url&&(r.url=S(r.url,this._globalOptions.maxUrlLength)),r.Referer&&(r.Referer=S(r.Referer,this._globalOptions.maxUrlLength))),e.breadcrumbs&&e.breadcrumbs.values&&this._trimBreadcrumbs(e.breadcrumbs),e},_trimBreadcrumbs:function(e){for(var t,n,r,i=["to","from","url"],o=0;o<e.values.length;++o)if((n=e.values[o]).hasOwnProperty("data")&&f(n.data)&&!_(n.data)){r=y({},n.data);for(var a=0;a<i.length;++a)t=i[a],r.hasOwnProperty(t)&&r[t]&&(r[t]=S(r[t],this._globalOptions.maxUrlLength));e.values[o].data=r}},_getHttpData:function(){if(this._hasNavigator||this._hasDocument){var e={};return this._hasNavigator&&U.userAgent&&(e.headers={"User-Agent":U.userAgent}),z.location&&z.location.href&&(e.url=z.location.href),this._hasDocument&&H.referrer&&(e.headers||(e.headers={}),e.headers.Referer=H.referrer),e}},_resetBackoff:function(){this._backoffDuration=0,this._backoffStart=null},_shouldBackoff:function(){return this._backoffDuration&&Z()-this._backoffStart<this._backoffDuration},_isRepeatData:function(e){var t=this._lastData;return!(!t||e.message!==t.message||e.transaction!==t.transaction)&&(e.stacktrace||t.stacktrace?A(e.stacktrace,t.stacktrace):e.exception||t.exception?j(e.exception,t.exception):!e.fingerprint&&!t.fingerprint||Boolean(e.fingerprint&&t.fingerprint)&&JSON.stringify(e.fingerprint)===JSON.stringify(t.fingerprint))},_setBackoffState:function(e){if(!this._shouldBackoff()){var t=e.status;if(400===t||401===t||429===t){var n;try{n=D()?e.headers.get("Retry-After"):e.getResponseHeader("Retry-After"),n=1e3*parseInt(n,10)}catch(e){}this._backoffDuration=n||(2*this._backoffDuration||1e3),this._backoffStart=Z()}}},_send:function(e){var t=this._globalOptions,n={project:this._globalProject,logger:t.logger,platform:"javascript"},r=this._getHttpData();r&&(n.request=r),e.trimHeadFrames&&delete e.trimHeadFrames,(e=y(n,e)).tags=y(y({},this._globalContext.tags),e.tags),e.extra=y(y({},this._globalContext.extra),e.extra),e.extra["session:duration"]=Z()-this._startTime,this._breadcrumbs&&this._breadcrumbs.length>0&&(e.breadcrumbs={values:[].slice.call(this._breadcrumbs,0)}),this._globalContext.user&&(e.user=this._globalContext.user),t.environment&&(e.environment=t.environment),t.release&&(e.release=t.release),t.serverName&&(e.server_name=t.serverName),e=this._sanitizeData(e),Object.keys(e).forEach((function(t){(null==e[t]||""===e[t]||b(e[t]))&&delete e[t]})),m(t.dataCallback)&&(e=t.dataCallback(e)||e),e&&!b(e)&&(m(t.shouldSendCallback)&&!t.shouldSendCallback(e)||(this._shouldBackoff()?this._logDebug("warn","Raven dropped error due to backoff: ",e):"number"==typeof t.sampleRate?Math.random()<t.sampleRate&&this._sendProcessedPayload(e):this._sendProcessedPayload(e)))},_sanitizeData:function(e){return B(e,this._globalOptions.sanitizeKeys)},_getUuid:function(){return k()},_sendProcessedPayload:function(e,t){var n=this,r=this._globalOptions;if(this.isSetup())if(e=this._trimPacket(e),this._globalOptions.allowDuplicates||!this._isRepeatData(e)){this._lastEventId=e.event_id||(e.event_id=this._getUuid()),this._lastData=e,this._logDebug("debug","Raven about to send:",e);var i={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(i.sentry_secret=this._globalSecret);var o=e.exception&&e.exception.values[0];this._globalOptions.autoBreadcrumbs&&this._globalOptions.autoBreadcrumbs.sentry&&this.captureBreadcrumb({category:"sentry",message:o?(o.type?o.type+": ":"")+o.value:e.message,event_id:e.event_id,level:e.level||"error"});var a=this._globalEndpoint;(r.transport||this._makeRequest).call(this,{url:a,auth:i,data:e,options:r,onSuccess:function(){n._resetBackoff(),n._triggerEvent("success",{data:e,src:a}),t&&t()},onError:function(r){n._logDebug("error","Raven transport failed to send: ",r),r.request&&n._setBackoffState(r.request),n._triggerEvent("failure",{data:e,src:a}),r=r||new Error("Raven send failed (no additional details provided)"),t&&t(r)}})}else this._logDebug("warn","Raven dropped repeat event: ",e)},_makeRequest:function(e){var t=e.url+"?"+O(e.auth),n=null,r={};if(e.options.headers&&(n=this._evaluateHash(e.options.headers)),e.options.fetchParameters&&(r=this._evaluateHash(e.options.fetchParameters)),D()){r.body=i(e.data);var o=y({},this._fetchDefaults),a=y(o,r);return n&&(a.headers=n),z.fetch(t,a).then((function(t){if(t.ok)e.onSuccess&&e.onSuccess();else{var n=new Error("Sentry error code: "+t.status);n.request=t,e.onError&&e.onError(n)}})).catch((function(){e.onError&&e.onError(new Error("Sentry error code: network unavailable"))}))}var s=z.XMLHttpRequest&&new z.XMLHttpRequest;s&&(("withCredentials"in s||"undefined"!=typeof XDomainRequest)&&("withCredentials"in s?s.onreadystatechange=function(){if(4===s.readyState)if(200===s.status)e.onSuccess&&e.onSuccess();else if(e.onError){var t=new Error("Sentry error code: "+s.status);t.request=s,e.onError(t)}}:(s=new XDomainRequest,t=t.replace(/^https?:/,""),e.onSuccess&&(s.onload=e.onSuccess),e.onError&&(s.onerror=function(){var t=new Error("Sentry error code: XDomainRequest");t.request=s,e.onError(t)})),s.open("POST",t),n&&w(n,(function(e,t){s.setRequestHeader(e,t)})),s.send(i(e.data))))},_evaluateHash:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];t[n]="function"==typeof r?r():r}return t},_logDebug:function(e){this._originalConsoleMethods[e]&&(this.debug||this._globalOptions.debug)&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){v(t)?delete this._globalContext[e]:this._globalContext[e]=y(this._globalContext[e]||{},t)}},G.prototype.setUser=G.prototype.setUserContext,G.prototype.setReleaseContext=G.prototype.setRelease,e.exports=G},4546:(e,t,n)=>{var r=n(8281),i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},o=i.Raven,a=new r;a.noConflict=function(){return i.Raven=o,a},a.afterLoad(),e.exports=a,e.exports.Client=r},3930:(e,t,n)=>{var r=n(4176),i="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{};function o(e){return void 0===e}function a(e){return"[object Object]"===Object.prototype.toString.call(e)}function s(e){return"[object String]"===Object.prototype.toString.call(e)}function c(e){return"[object Array]"===Object.prototype.toString.call(e)}function l(){if(!("fetch"in i))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function u(e,t){var n,r;if(o(e.length))for(n in e)f(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function d(e,t){if("number"!=typeof t)throw new Error("2nd argument to `truncate` function should be a number");return"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"â€¦"}function f(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function p(e){for(var t,n=[],r=0,i=e.length;r<i;r++)s(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")}function v(e){var t,n,r,i,o,a=[];if(!e||!e.tagName)return"";if(a.push(e.tagName.toLowerCase()),e.id&&a.push("#"+e.id),(t=e.className)&&s(t))for(n=t.split(/\s+/),o=0;o<n.length;o++)a.push("."+n[o]);var c=["type","name","title","alt"];for(o=0;o<c.length;o++)r=c[o],(i=e.getAttribute(r))&&a.push("["+r+'="'+i+'"]');return a.join("")}function m(e,t){return!!(!!e^!!t)}function g(e,t){if(m(e,t))return!1;var n,r,i=e.frames,o=t.frames;if(void 0===i||void 0===o)return!1;if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(n=i[a],r=o[a],n.filename!==r.filename||n.lineno!==r.lineno||n.colno!==r.colno||n.function!==r.function)return!1;return!0}var h=3,b=51200,w=40;function y(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function S(e){if("string"==typeof e){return d(e,40)}if("number"==typeof e||"boolean"==typeof e||void 0===e)return e;var t=Object.prototype.toString.call(e);return"[object Object]"===t?"[Object]":"[object Array]"===t?"[Array]":"[object Function]"===t?e.name?"[Function: "+e.name+"]":"[Function]":e}function _(e,t){return 0===t?S(e):a(e)?Object.keys(e).reduce((function(n,r){return n[r]=_(e[r],t-1),n}),{}):Array.isArray(e)?e.map((function(e){return _(e,t-1)})):S(e)}e.exports={isObject:function(e){return"object"==typeof e&&null!==e},isError:function(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return e instanceof Error}},isErrorEvent:function(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)},isDOMError:function(e){return"[object DOMError]"===Object.prototype.toString.call(e)},isDOMException:function(e){return"[object DOMException]"===Object.prototype.toString.call(e)},isUndefined:o,isFunction:function(e){return"function"==typeof e},isPlainObject:a,isString:s,isArray:c,isEmptyObject:function(e){if(!a(e))return!1;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},supportsErrorEvent:function(){try{return new ErrorEvent(""),!0}catch(e){return!1}},supportsDOMError:function(){try{return new DOMError(""),!0}catch(e){return!1}},supportsDOMException:function(){try{return new DOMException(""),!0}catch(e){return!1}},supportsFetch:l,supportsReferrerPolicy:function(){if(!l())return!1;try{return new Request("pickleRick",{referrerPolicy:"origin"}),!0}catch(e){return!1}},supportsPromiseRejectionEvent:function(){return"function"==typeof PromiseRejectionEvent},wrappedCallback:function(e){return function(t,n){var r=e(t)||t;return n&&n(r)||r}},each:u,objectMerge:function(e,t){return t?(u(t,(function(t,n){e[t]=n})),e):e},truncate:d,objectFrozen:function(e){return!!Object.isFrozen&&Object.isFrozen(e)},hasKey:f,joinRegExp:p,urlencode:function(e){var t=[];return u(e,(function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})),t.join("&")},uuid4:function(){var e=i.crypto||i.msCrypto;if(!o(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},htmlTreeAsString:function(e){for(var t,n=[],r=0,i=0,o=" > ".length;e&&r++<5&&!("html"===(t=v(e))||r>1&&i+n.length*o+t.length>=80);)n.push(t),i+=t.length,e=e.parentNode;return n.reverse().join(" > ")},htmlElementAsString:v,isSameException:function(e,t){return!m(e,t)&&(e=e.values[0],t=t.values[0],e.type===t.type&&e.value===t.value&&(n=e.stacktrace,r=t.stacktrace,(!o(n)||!o(r))&&g(e.stacktrace,t.stacktrace)));var n,r},isSameStacktrace:g,parseUrl:function(e){if("string"!=typeof e)return{};var t=e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/),n=t[6]||"",r=t[8]||"";return{protocol:t[2],host:t[4],path:t[5],relative:t[5]+n+r}},fill:function(e,t,n,r){if(null!=e){var i=e[t];e[t]=n(i),e[t].__raven__=!0,e[t].__orig__=i,r&&r.push([e,t,i])}},safeJoin:function(e,t){if(!c(e))return"";for(var n=[],r=0;r<e.length;r++)try{n.push(String(e[r]))}catch(e){n.push("[value cannot be serialized]")}return n.join(t)},serializeException:function e(t,n,i){if(!a(t))return t;i="number"!=typeof(n="number"!=typeof n?h:n)?b:i;var o=_(t,n);return y(r(o))>i?e(t,n-1):o},serializeKeysForMessage:function(e,t){if("number"==typeof e||"string"==typeof e)return e.toString();if(!Array.isArray(e))return"";if(0===(e=e.filter((function(e){return"string"==typeof e}))).length)return"[object has no keys]";if(t="number"!=typeof t?w:t,e[0].length>=t)return e[0];for(var n=e.length;n>0;n--){var r=e.slice(0,n).join(", ");if(!(r.length>t))return n===e.length?r:r+"â€¦"}return""},sanitize:function(e,t){if(!c(t)||c(t)&&0===t.length)return e;var n,i=p(t),o="********";try{n=JSON.parse(r(e))}catch(t){return e}return function e(t){return c(t)?t.map((function(t){return e(t)})):a(t)?Object.keys(t).reduce((function(n,r){return i.test(r)?n[r]=o:n[r]=e(t[r]),n}),{}):t}(n)}}},2581:(e,t,n)=>{var r=n(3930),i={collectWindowErrors:!0,debug:!1},o="undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},a=[].slice,s="?",c=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/;function l(){return"undefined"==typeof document||null==document.location?"":document.location.href}i.report=function(){var e,t,n=[],u=null,d=null,f=null;function p(e,t){var r=null;if(!t||i.collectWindowErrors){for(var o in n)if(n.hasOwnProperty(o))try{n[o].apply(null,[e].concat(a.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function v(t,n,o,a,u){var d=r.isErrorEvent(u)?u.error:u,v=r.isErrorEvent(t)?t.message:t;if(f)i.computeStackTrace.augmentStackTraceWithInitialElement(f,n,o,v),m();else if(d&&r.isError(d))p(i.computeStackTrace(d),!0);else{var g,h={url:n,line:o,column:a},b=void 0;if("[object String]"==={}.toString.call(v))(g=v.match(c))&&(b=g[1],v=g[2]);h.func=s,p({name:b,message:v,url:l(),stack:[h]},!0)}return!!e&&e.apply(this,arguments)}function m(){var e=f,t=u;u=null,f=null,d=null,p.apply(null,[e,!1].concat(t))}function g(e,t){var n=a.call(arguments,1);if(f){if(d===e)return;m()}var r=i.computeStackTrace(e);if(f=r,d=e,u=n,setTimeout((function(){d===e&&m()}),r.incomplete?2e3:0),!1!==t)throw e}return g.subscribe=function(r){!function(){if(t)return;e=o.onerror,o.onerror=v,t=!0}(),n.push(r)},g.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},g.uninstall=function(){!function(){if(!t)return;o.onerror=e,t=!1,e=void 0}(),n=[]},g}(),i.computeStackTrace=function(){function e(e){if(void 0!==e.stack&&e.stack){for(var t,n,r,i=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|native|eval|webpack|<anonymous>|[a-z]:|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,o=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx(?:-web)|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|moz-extension).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,c=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,u=/\((\S*)(?::(\d+))(?::(\d+))\)/,d=e.stack.split("\n"),f=[],p=(/^(.*) is undefined$/.exec(e.message),0),v=d.length;p<v;++p){if(n=i.exec(d[p])){var m=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=u.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:m?null:n[2],func:n[1]||s,args:m?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=o.exec(d[p]))r={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(d[p])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=c.exec(n[3]))?(n[3]=t[1],n[4]=t[2],n[5]=null):0!==p||n[5]||void 0===e.columnNumber||(f[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}if(!r.func&&r.line&&(r.func=s),r.url&&"blob:"===r.url.substr(0,5)){var g=new XMLHttpRequest;if(g.open("GET",r.url,!1),g.send(null),200===g.status){var h=g.responseText||"",b=(h=h.slice(-300)).match(/\/\/# sourceMappingURL=(.*)$/);if(b){var w=b[1];"~"===w.charAt(0)&&(w=("undefined"==typeof document||null==document.location?"":document.location.origin?document.location.origin:document.location.protocol+"//"+document.location.hostname+(document.location.port?":"+document.location.port:""))+w.slice(1)),r.url=w.slice(0,-4)}}}f.push(r)}return f.length?{name:e.name,message:e.message,url:l(),stack:f}:null}}function t(e,t,n,r){var i={url:t,line:n};if(i.url&&i.line){if(e.incomplete=!1,i.func||(i.func=s),e.stack.length>0&&e.stack[0].url===i.url){if(e.stack[0].line===i.line)return!1;if(!e.stack[0].line&&e.stack[0].func===i.func)return e.stack[0].line=i.line,!1}return e.stack.unshift(i),e.partial=!0,!0}return e.incomplete=!0,!1}function n(e,o){for(var a,c,u=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,d=[],f={},p=!1,v=n.caller;v&&!p;v=v.caller)if(v!==r&&v!==i.report){if(c={url:null,func:s,line:null,column:null},v.name?c.func=v.name:(a=u.exec(v.toString()))&&(c.func=a[1]),void 0===c.func)try{c.func=a.input.substring(0,a.input.indexOf("{"))}catch(e){}f[""+v]?p=!0:f[""+v]=!0,d.push(c)}o&&d.splice(0,o);var m={name:e.name,message:e.message,url:l(),stack:d};return t(m,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),m}function r(t,r){var o=null;r=null==r?0:+r;try{if(o=e(t))return o}catch(e){if(i.debug)throw e}try{if(o=n(t,r+1))return o}catch(e){if(i.debug)throw e}return{name:t.name,message:t.message,url:l()}}return r.augmentStackTraceWithInitialElement=t,r.computeStackTraceFromStackProp=e,r}(),e.exports=i},4176:(e,t)=>{function n(e,t){for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}function r(e,t){var r=[],i=[];return null==t&&(t=function(e,t){return r[0]===t?"[Circular ~]":"[Circular ~."+i.slice(0,n(r,t)).join(".")+"]"}),function(o,a){if(r.length>0){var s=n(r,this);~s?r.splice(s+1):r.push(this),~s?i.splice(s,1/0,o):i.push(o),~n(r,a)&&(a=t.call(this,o,a))}else r.push(a);return null==e?a instanceof Error?function(e){var t={stack:e.stack,message:e.message,name:e.name};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(a):a:e.call(this,o,a)}}(e.exports=function(e,t,n,i){return JSON.stringify(e,r(t,i),n)}).getSerialize=r},9655:e=>{function t(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function n(e,n,r,i,o,a){return t((s=t(t(n,e),t(i,a)))<<(c=o)|s>>>32-c,r);var s,c}function r(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)}function i(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)}function o(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)}function a(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)}function s(e,n){var s,c,l,u,d;e[n>>5]|=128<<n%32,e[14+(n+64>>>9<<4)]=n;var f=1732584193,p=-271733879,v=-1732584194,m=271733878;for(s=0;s<e.length;s+=16)c=f,l=p,u=v,d=m,f=r(f,p,v,m,e[s],7,-680876936),m=r(m,f,p,v,e[s+1],12,-389564586),v=r(v,m,f,p,e[s+2],17,606105819),p=r(p,v,m,f,e[s+3],22,-1044525330),f=r(f,p,v,m,e[s+4],7,-176418897),m=r(m,f,p,v,e[s+5],12,1200080426),v=r(v,m,f,p,e[s+6],17,-1473231341),p=r(p,v,m,f,e[s+7],22,-45705983),f=r(f,p,v,m,e[s+8],7,1770035416),m=r(m,f,p,v,e[s+9],12,-1958414417),v=r(v,m,f,p,e[s+10],17,-42063),p=r(p,v,m,f,e[s+11],22,-1990404162),f=r(f,p,v,m,e[s+12],7,1804603682),m=r(m,f,p,v,e[s+13],12,-40341101),v=r(v,m,f,p,e[s+14],17,-1502002290),f=i(f,p=r(p,v,m,f,e[s+15],22,1236535329),v,m,e[s+1],5,-165796510),m=i(m,f,p,v,e[s+6],9,-1069501632),v=i(v,m,f,p,e[s+11],14,643717713),p=i(p,v,m,f,e[s],20,-373897302),f=i(f,p,v,m,e[s+5],5,-701558691),m=i(m,f,p,v,e[s+10],9,38016083),v=i(v,m,f,p,e[s+15],14,-660478335),p=i(p,v,m,f,e[s+4],20,-405537848),f=i(f,p,v,m,e[s+9],5,568446438),m=i(m,f,p,v,e[s+14],9,-1019803690),v=i(v,m,f,p,e[s+3],14,-187363961),p=i(p,v,m,f,e[s+8],20,1163531501),f=i(f,p,v,m,e[s+13],5,-1444681467),m=i(m,f,p,v,e[s+2],9,-51403784),v=i(v,m,f,p,e[s+7],14,1735328473),f=o(f,p=i(p,v,m,f,e[s+12],20,-1926607734),v,m,e[s+5],4,-378558),m=o(m,f,p,v,e[s+8],11,-2022574463),v=o(v,m,f,p,e[s+11],16,1839030562),p=o(p,v,m,f,e[s+14],23,-35309556),f=o(f,p,v,m,e[s+1],4,-1530992060),m=o(m,f,p,v,e[s+4],11,1272893353),v=o(v,m,f,p,e[s+7],16,-155497632),p=o(p,v,m,f,e[s+10],23,-1094730640),f=o(f,p,v,m,e[s+13],4,681279174),m=o(m,f,p,v,e[s],11,-358537222),v=o(v,m,f,p,e[s+3],16,-722521979),p=o(p,v,m,f,e[s+6],23,76029189),f=o(f,p,v,m,e[s+9],4,-640364487),m=o(m,f,p,v,e[s+12],11,-421815835),v=o(v,m,f,p,e[s+15],16,530742520),f=a(f,p=o(p,v,m,f,e[s+2],23,-995338651),v,m,e[s],6,-198630844),m=a(m,f,p,v,e[s+7],10,1126891415),v=a(v,m,f,p,e[s+14],15,-1416354905),p=a(p,v,m,f,e[s+5],21,-57434055),f=a(f,p,v,m,e[s+12],6,1700485571),m=a(m,f,p,v,e[s+3],10,-1894986606),v=a(v,m,f,p,e[s+10],15,-1051523),p=a(p,v,m,f,e[s+1],21,-2054922799),f=a(f,p,v,m,e[s+8],6,1873313359),m=a(m,f,p,v,e[s+15],10,-30611744),v=a(v,m,f,p,e[s+6],15,-1560198380),p=a(p,v,m,f,e[s+13],21,1309151649),f=a(f,p,v,m,e[s+4],6,-145523070),m=a(m,f,p,v,e[s+11],10,-1120210379),v=a(v,m,f,p,e[s+2],15,718787259),p=a(p,v,m,f,e[s+9],21,-343485551),f=t(f,c),p=t(p,l),v=t(v,u),m=t(m,d);return[f,p,v,m]}function c(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function l(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var r=8*e.length;for(t=0;t<r;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function u(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function d(e){return unescape(encodeURIComponent(e))}function f(e){return function(e){return c(s(l(e),8*e.length))}(d(e))}function p(e,t){return function(e,t){var n,r,i=l(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=s(i,8*e.length)),n=0;n<16;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=s(o.concat(l(t)),512+8*t.length),c(s(a.concat(r),640))}(d(e),d(t))}e.exports=function(e,t,n){return t?n?p(t,e):u(p(t,e)):n?f(e):u(f(e))}},3141:function(e,t,n){var r;!function(t){function i(){}var o=i.prototype,a=t.EventEmitter;function s(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}function l(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&l(e.listener)}o.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},o.addListener=function(e,t){if(!l(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===s(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},o.on=c("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=c("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=s(i[r],t))&&i[r].splice(n,1);return this},o.off=c("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):a.call(this,r,i));return this},o.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},o.removeAllListeners=c("removeEvent"),o.emitEvent=function(e,t){var n,r,i,o,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(n=a[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},o.trigger=c("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=a,i},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})},578:(e,t,n)=>{n.d(t,{N9:()=>d,PH:()=>c,W:()=>g,ZN:()=>v,oe:()=>m});var r=n(8673);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s extends Array{constructor(e){var[t,n]=e;super(),a(this,0,void 0),a(this,1,void 0),this[0]=t,this[1]=n}toString(){return 0===this.width&&0===this.height?"fluid":"".concat(this.width,",").concat(this.height)}toArray(){return[this[0],this[1]]}isProxy(){var e=1===this.width&&1===this.height,t=2===this.width&&2===this.height,n="fluid"===this.toString(),r=88===this.width,i=3===this.width&&3===this.height;return e||t||n||r||i}get width(){return this[0]}get height(){return this[1]}}var c=(e,t)=>new s([e,t]),l={billboard:c(970,250),halfPage:c(300,600),leaderboard:c(728,90),mobilesticky:c(320,50),mpu:c(300,250),portrait:c(300,1050),skyscraper:c(160,600),cascade:c(940,230),portraitInterstitial:c(320,480)},u={"970x250":l.billboard,"300x600":l.halfPage,"728x90":l.leaderboard,"300x250":l.mpu,"300x1050":l.portrait,"160x600":l.skyscraper},d={outstreamDesktop:c(620,350),outstreamGoogleDesktop:c(550,310),outstreamMobile:c(300,197)},f={fluid:c(0,0),googleCard:c(300,274),outOfPage:c(1,1)},p={empty:c(2,2),fabric:c(88,71),inlineMerchandising:c(88,85),merchandising:c(88,88),merchandisingHigh:c(88,87),merchandisingHighAdFeature:c(88,89),sponsorLogo:c(3,3)},v=o(o(o(o(o({},l),u),d),f),p),m={inline:{mobile:[v.outOfPage,v.empty,v.outstreamMobile,v.mpu,v.googleCard,v.fluid],desktop:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.fluid]},right:{mobile:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.halfPage,v.fluid]},comments:{mobile:[v.outOfPage,v.empty,v.outstreamMobile,v.mpu,v.googleCard,v.fluid],desktop:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.fluid]},"comments-expanded":{mobile:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.fluid,v.skyscraper,v.halfPage]},"top-above-nav":{mobile:[v.outOfPage,v.empty,v.fabric,v.outstreamMobile,v.mpu,v.fluid],tablet:[v.outOfPage,v.empty,v.fabric,v.fluid,v.leaderboard],desktop:[v.outOfPage,v.empty,v.leaderboard,c(940,230),c(900,250),v.billboard,v.fabric,v.fluid]},"fronts-banner":{desktop:[v.outOfPage,v.empty,v.billboard,v.merchandisingHigh,v.fluid]},mostpop:{mobile:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.fluid],phablet:[v.outOfPage,v.empty,v.outstreamMobile,v.mpu,v.googleCard,v.halfPage,v.fluid],tablet:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.halfPage,v.fluid],desktop:[v.outOfPage,v.empty,v.mpu,v.googleCard,v.halfPage,v.fluid]},im:{mobile:[v.outOfPage,v.empty,v.inlineMerchandising,v.fluid]},"merchandising-high":{mobile:[v.outOfPage,v.empty,v.merchandisingHigh,v.fluid]},"merchandising-high-lucky":{mobile:[v.outOfPage,v.empty,v.fluid]},merchandising:{mobile:[v.outOfPage,v.empty,v.merchandising,v.fluid]},survey:{desktop:[v.outOfPage]},carrot:{mobile:[v.fluid]},epic:{mobile:[v.fluid]},"mobile-sticky":{mobile:[v.mobilesticky]},"crossword-banner":{phablet:[v.outOfPage,v.empty,v.leaderboard]},"article-end":{mobile:[v.fluid]},exclusion:{mobile:[v.empty]},external:{mobile:[v.outOfPage,v.empty,v.fluid,v.mpu]},"sponsor-logo":{mobile:[v.outOfPage,v.empty,v.fluid,v.sponsorLogo]}},g=(e,t)=>{if(!(0,r.z)(t))return[];for(var n=r.A.findIndex((e=>e===t));n>=0;){var i=e[r.A[n]];if(null!=i&&i.length)return i;n--}return[]}},3517:(e,t,n)=>{n.d(t,{O5:()=>f,dQ:()=>v,iw:()=>p,x8:()=>d});var r=n(2500),i=n(578),o=n(8673);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={im:{label:!1,refresh:!1},"merchandising-high":{refresh:!1},carrot:{label:!1,refresh:!1,name:"carrot"},"mobile-sticky":{label:!0,refresh:!0,name:"mobile-sticky"}},l=(e,t,n)=>{var i="".concat("dfp-ad--").concat(e);if(window.guardian.config.isDotcomRendering&&"top-above-nav"===e){var o=document.getElementById(i);null!=o&&o.parentNode&&((0,r.c)("commercial","warning: cleaning up dom node id: dfp-ad--".concat(e)),o.parentNode.removeChild(o))}var a=document.createElement("div");return a.id=i,a.className="js-ad-slot ad-slot ".concat(n.join(" ")),a.dataset.linkName="ad slot ".concat(e),a.dataset.name=e,a.setAttribute("aria-hidden","true"),Object.entries(t).forEach((e=>{var[t,n]=e;return a.dataset[t]=n})),a},u=(e,t)=>{var n;return[...null!==(n=null==t?void 0:t.split(" "))&&void 0!==n?n:[],e].map((e=>"ad-slot--".concat(e)))},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(t).reduce(((e,t)=>{var[n,r]=t;if((0,o.z)(n)){var a=(0,i.W)(e,n);e[n]=a.concat(r)}return e}),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))},f="ad-slot-container",p=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=document.createElement("div");return r.className="".concat(f," ").concat(null!==(t=n.className)&&void 0!==t?t:""),r.appendChild(e),r},v=function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=null!==(t=c[e])&&void 0!==t?t:{},a=null!==(n=null!==(r=i.name)&&void 0!==r?r:o.name)&&void 0!==n?n:e,s={};return!1===o.label&&(s.label="false"),!1===o.refresh&&(s.refresh="false"),l(a,s,u(a,i.classes))}},8673:(e,t,n)=>{n.d(t,{A:()=>r,z:()=>i});var r=["mobile","phablet","tablet","desktop"],i=e=>r.includes(e)},5172:(e,t,n)=>{n.d(t,{cY:()=>l,jC:()=>c,vD:()=>s});var r=n(5783),i="_papns",o="_pdfps",a=e=>{try{var t=r.t.local.getRaw(e),n=t?JSON.parse(t):null;return Array.isArray(n)?n.slice(0,250).map((e=>Number.parseInt(e,10))).filter((e=>"number"==typeof e&&!Number.isNaN(e))).map(String):[]}catch(e){return[]}},s=()=>a(i),c=()=>a(o),l=()=>{r.t.local.remove(i),r.t.local.remove(o)}},5480:(e,t,n)=>{n.d(t,{I:()=>o});var r=n(675),i=["ab","at","bl","bp","br","cc","ct","dcre","edition","k","rc","rp","s","se","sens","sh","si","skinsize","su","tn","url","urlkw"],o=(e,t,n)=>{var o=(0,r.l)({adFree:t,consentState:e,clientSideParticipations:{},isSignedIn:n});return Object.fromEntries(Object.entries(o).filter((e=>{var t,[n]=e;return t=n,i.includes(t)})))}},675:(e,t,n)=>{n.d(t,{l:()=>_});var r,i=n(1284),o=n(5336),a=n(8251),s=n(5783),c=/^[A-Z]{2}$/,l=e=>(0,o.H)(e)&&c.test(e),u={UK:"GB",US:"US",AU:"AU"},d=()=>{if(r)return r;var e=s.t.local.get("gu.geo.override");if(l(e))return r=e;var t=(0,a.e)({name:"GU_geo_country"});if(t&&l(t))return r=t;var n,i=(n=window.guardian.config.page.edition,u[n]);return r=i},f=["25","30","60","90","120","150","180","210","240","270","300"],p=e=>{var t,n=Math.min(Math.ceil(e/30),10);return null!==(t=f[n])&&void 0!==t?t:null},v=e=>{var t=(Date.now()-e)/1e3/60/60,n=t/24,r=n/30;return t<2?"0":t<24?"1":n<3?"2":n<7?"3":n<30?"4":r<10?"5":r<14?"6":"7"},m=e=>{var t,n,r,{eligibleForDCR:i,path:a,renderingPlatform:s,section:c,sensitive:l,videoLength:u,webPublicationDate:d,keywords:f}=e,m=(t=a.split("/").filter(Boolean).slice(-1)[0],(0,o.H)(t)?t.split("-").filter(Boolean):[]);return{dcre:i?"t":"f",rc:v(d),rp:s,s:c,sens:l?"t":"f",urlkw:m,vl:u?p(u):null,allkw:(n=m,r=f,[...new Set([...n,...r])])}},g=n(166),h=n(876),b=n(4817);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=e=>{var t,n,{adFree:r,clientSideParticipations:s,consentState:c,isSignedIn:l=!1,youtube:u=!1}=e,{page:f,isDotcomRendering:p}=window.guardian.config,v=r?{af:"t"}:{},w=f.sharedAdTargeting?(0,b.y)(f.sharedAdTargeting):{},S=m({webPublicationDate:f.webPublicationDate,eligibleForDCR:f.dcrCouldRender,path:"/".concat(f.pageId),renderingPlatform:p?"dotcom-rendering":"dotcom-platform",section:f.section,sensitive:f.isSensitive,videoLength:f.videoDuration,keywords:null!==(t=w.k)&&void 0!==t?t:[]}),_=(0,h.H)({adTest:(0,a.e)({name:"adtest",shouldMemoize:!0}),countryCode:d(),isSignedIn:l,pageViewId:window.guardian.config.ophan.pageViewId,participations:{clientSideParticipations:s,serverSideParticipations:null!==(n=window.guardian.config.tests)&&void 0!==n?n:{}},referrer:document.referrer||""}),E=(e=>{var t,{viewPortWidth:n,cmpBannerWillShow:r}=e,i=window.guardian.config.page.isPreview;return{bp:(t=n,t>=980?"desktop":t>=660?"tablet":"mobile"),skinsize:n>=1560?"l":"s",inskin:r||i?"f":"t"}})({viewPortWidth:[window.innerWidth||document.body.clientWidth||0,window.innerHeight||document.body.clientHeight][0],cmpBannerWillShow:!i.ER.hasInitialised()||i.ER.willShowPrivacyMessageSync()}),P=(e=>{var t={};for(var n in e){var r=e[n];((0,o.H)(r)||Array.isArray(r)&&r.length>0&&r.every(o.H))&&(t[n]=r)}return t})(y(y(y(y(y(y({},(0,g.s)({state:c,youtube:u})),w),v),S),_),E));return P}},166:(e,t,n)=>{n.d(t,{s:()=>p});var r=n(5783),i=n(5172);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=["0","1","2","3","4","5","6-9","10-15","16-19","20-29","30plus"],c="gu.adManagerGroup",l=["1","2","3","4","5","6","7","8","9","10","11","12"],u=e=>{var t=((e,t)=>t.tcfv2&&t.tcfv2.consents[1]||t.ccpa&&!t.ccpa.doNotSell||t.aus&&t.aus.personalisedAdvertising?r.t.local.getRaw(e):null)("gu.alreadyVisited",e);if(!t)return"0";var n,i=parseInt(t,10);return i<=5?null!==(n=s[i])&&void 0!==n?n:"0":i>=6&&i<=9?"6-9":i>=10&&i<=15?"10-15":i>=16&&i<=19?"16-19":i>=20&&i<=29?"20-29":i>=30?"30plus":"0"},d=e=>{if(!e.framework)return r.t.local.remove(c),null;if(e.tcfv2&&!e.canTarget)return r.t.local.remove(c),null;var t,n,i,o,a=r.t.local.getRaw(c);return o=a,l.some((e=>e===o))?a:(n=Math.floor(Math.random()*l.length),i=null!==(t=l[n])&&void 0!==t?t:"12",r.t.local.setRaw(c,i),i)},f=(e,t)=>e.canTarget?t?(0,i.jC)():(0,i.vD)():((0,i.cY)(),[]),p=e=>{var{state:t,youtube:n}=e;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({amtgrp:d(t),fr:u(t),permutive:f(t,n)},(e=>e.tcfv2?{cmp_interaction:e.tcfv2.eventStatus,pa:e.canTarget?"t":"f",consent_tcfv2:e.canTarget?"t":"f",rdp:"na"}:e.ccpa?{consent_tcfv2:"na",rdp:e.canTarget?"f":"t",pa:e.canTarget?"t":"f"}:e.aus?{consent_tcfv2:"na",rdp:"na",pa:e.canTarget?"t":"f"}:{cmp_interaction:"na",consent_tcfv2:"na",rdp:"na",pa:"f"})(t))}},876:(e,t,n)=>{n.d(t,{H:()=>s});var r=n(5336),i=[{id:"facebook",match:"facebook.com"},{id:"google",match:"www.google"},{id:"twitter",match:"/t.co/"},{id:"reddit",match:"reddit.com"}],o=e=>{var t;if(""===e)return null;var n=null!==(t=i.find((t=>e.includes(t.match))))&&void 0!==t?t:null;return n?n.id:null},a=e=>{var{clientSideParticipations:t,serverSideParticipations:n}=e,i=(e,t)=>"notintest"===t?null:"".concat(e,"-").concat(t).substring(0,40),o=Object.entries(t).map((e=>{var[t,n]=e;return i(t,n.variant)})).filter(r.H),a=Object.entries(n).map((e=>i(...e))).filter(r.H);return o.length+a.length===0?null:[...o,...a]},s=e=>{var{adTest:t,countryCode:n,isSignedIn:r,pageViewId:i,participations:s,referrer:c}=e;return{ab:a(s),at:t,cc:n,pv:i,ref:o(c),si:r?"t":"f"}}},4817:(e,t,n)=>{n.d(t,{y:()=>a});var r=n(5336),i=e=>(0,r.H)(e)&&""!==e,o=e=>{return!!i(e)||(t=e,!!(Array.isArray(t)&&t.filter(i).length>0));var t},a=e=>{return t=e,Object.entries(t).reduce(((e,t)=>{var[n,r]=t;return o(r)&&(e[n]=Array.isArray(r)?r.filter(i):r),e}),{});var t}},1774:(e,t,n)=>{n.d(t,{d:()=>b});var r=n(2500),i=n(8400),o=n(3579),a=n(5783),s="gu.prefs.",c={type:"local"},l=function(e,t){var{type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c;a.t[n].set(s+e,t)},u=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;a.t[t].remove(s+e)},d=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;a.t[t].set("".concat(s,"switch.").concat(e),!0)},f=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;a.t[t].set("".concat(s,"switch.").concat(e),!1)},p=e=>"true"===e||"false"===e,v=e=>{var t,n,r,i=e.hash.substring(1).split("&");for(t=0,n=i.length;t<n;t+=1){var o=i[t];if(o){var a=/^gu\.prefs\.(.*)=(.*)$/.exec(o);if(a){var s=a[1],c=a[2];s&&(void 0!==c?"switchOn"===s?d(c):"switchOff"===s?f(c):(r=c,Number.isNaN(Number(r))?p(c)?l(s,"true"===String(c).toLowerCase()):l(s,c):l(s,+c)):u(s))}}}};v(window.location);const m=function(e){var{type:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return!1===a.t[t].get("".concat(s,"switch.").concat(e))};function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=(e,t)=>(0,r.c)("commercial","Adverts are not shown because ".concat(e," = ").concat(String(t)));for(var[i,o]of Object.entries(e))o||n(i,o);for(var[a,s]of Object.entries(t))s&&n(a,s)}var b=new class{constructor(){g(this,"shouldLoadGoogletag",void 0),g(this,"isSecureContact",void 0),g(this,"articleBodyAdverts",void 0),g(this,"carrotTrafficDriver",void 0),g(this,"highMerch",void 0),g(this,"thirdPartyTags",void 0),g(this,"commentAdverts",void 0),g(this,"liveblogAdverts",void 0),g(this,"adFree",void 0),g(this,"comscore",void 0),g(this,"launchpad",void 0),g(this,"youtubeAdvertising",void 0);var e,t=/[#&]noads(&.*)?$/.test(window.location.hash),n=/[#&]noadsaf(&.*)?$/.test(window.location.hash),r=/[?&]forceads(&.*)?$/.test(window.location.search),a=!t&&!m("adverts"),s=window.guardian.config.page.shouldHideAdverts||"childrens-books-site"===window.guardian.config.page.section,c=window.guardian.config.page.isMinuteArticle,l="Article"===window.guardian.config.page.contentType,u="Interactive"===window.guardian.config.page.contentType,d=window.guardian.config.page.isLiveBlog,f=window.guardian.config.page.isHosted,p="Identity"===window.guardian.config.page.contentType||"identity"===window.guardian.config.page.section,v=window.guardian.config.switches,b="wide"===(0,i.bc)(),w=window.guardian.config.page.showNewRecipeDesign,y=!(null===(e=navigator.userAgent.match(/MSIE|Trident/g))||void 0===e||!e.length);this.isSecureContact=["help/ng-interactive/2017/mar/17/contact-the-guardian-securely","help/2016/sep/19/how-to-contact-the-guardian-securely"].includes(window.guardian.config.page.pageId),this.adFree=!!n||(0,o.isAdFreeUser)(),this.youtubeAdvertising=!this.adFree&&!s;var S={"switches.shouldLoadGoogletag":!!v.shouldLoadGoogletag,externalAdvertising:a},_={sensitiveContent:s,isIdentityPage:p,adFree:this.adFree,isUnsupportedBrowser:y};this.shouldLoadGoogletag=r||Object.values(S).every(Boolean)&&!Object.values(_).some(Boolean),this.shouldLoadGoogletag||h(S,_);var E={isArticle:l},P={isMinuteArticle:c,isLiveBlog:!!d,isHosted:f,newRecipeDesign:!!w};this.articleBodyAdverts=this.shouldLoadGoogletag&&!this.adFree&&Object.values(E).every(Boolean)&&!Object.values(P).some(Boolean),l&&!this.articleBodyAdverts&&h(E,P),this.carrotTrafficDriver=!this.adFree&&this.articleBodyAdverts&&!window.guardian.config.page.isPaidContent,this.highMerch=this.shouldLoadGoogletag&&!this.adFree&&!c&&!f&&!u&&!window.guardian.config.page.isFront&&!window.guardian.config.isDotcomRendering&&!w,this.thirdPartyTags=!this.adFree&&a&&!p&&!this.isSecureContact,this.launchpad=!this.adFree&&a&&!p&&!this.isSecureContact&&!!window.guardian.config.switches.redplanetForAus,this.commentAdverts=this.shouldLoadGoogletag&&!this.adFree&&!c&&!!window.guardian.config.switches.enableDiscussionSwitch&&window.guardian.config.page.commentable&&(!d||b),this.liveblogAdverts=!!d&&this.shouldLoadGoogletag&&!this.adFree,this.comscore=!!window.guardian.config.switches.comscore&&!p&&!this.isSecureContact}}},8400:(e,t,n)=>{n.d(t,{_k:()=>m,bc:()=>d,qZ:()=>v,vv:()=>f});var r,i,o=n(3876),a=n(9900),s={mobile:o.A.mobile,tablet:o.A.tablet,desktop:o.A.desktop,wide:o.A.wide},c={mobileMedium:o.A.mobileMedium,mobileLandscape:o.A.mobileLandscape,phablet:o.A.phablet,leftCol:o.A.leftCol},l=["wide","leftCol","desktop","tablet","phablet","mobileLandscape","mobileMedium","mobile"],u=(e,t)=>{var n=l.find((n=>(e=>e in s)(n)?t>=s[n]:!!e&&t>=c[n]));return null!=n?n:"mobile"},d=()=>{var e,t;return null!==(e=r)&&void 0!==e?e:(t=(0,a.a)().width,u(!1,t))},f=()=>{var e,t;return null!==(e=i)&&void 0!==e?e:(t=(0,a.a)().width,u(!0,t))},p=e=>{var{min:t,max:n}=e,r=t?"number"==typeof t?t:o.A[t]:null,i=n?"number"==typeof n?n:o.A[n]-1:null;return[r?"(min-width: ".concat(r,"px)"):null,i?"(max-width: ".concat(i,"px)"):null].filter(Boolean).join(" and ")},v=e=>{var{min:t,max:n}=e;return window.matchMedia(p({min:t,max:n})).matches},m=e=>{var t=e?f():d();return n=>{var r=e?f():d();r!==t&&(n(r,t),t=r)}};Object.entries(o.A).forEach(((e,t,n)=>{var[a]=e;if(a in o.A){var s=n[t+1],c=window.matchMedia(p({min:a,max:s?s[1]:void 0})),l=e=>e.matches&&(i=a,void(r=u(!1,o.A[i])));void 0!==c.addEventListener?c.addEventListener("change",l):void 0!==c.addListener&&c.addListener(l),l(c)}}))},9900:(e,t,n)=>{n.d(t,{a:()=>r});var r=()=>({width:window.innerWidth||document.body.clientWidth||0,height:window.innerHeight||document.body.clientHeight||0})},606:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(8023),i=n.n(r),o=n(4291),a=n.n(o);const s=i().extend(a())},6385:(e,t,n)=>{n.d(t,{Gj:()=>v,TA:()=>d,g4:()=>p,z5:()=>f});var r,i=n(8251),o=n(6690);function a(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var s=null,c=!!window.guardian.config.switches.okta,l=null!==(r=window.guardian.config.page.idApiUrl)&&void 0!==r?r:"/ID_API_ROOT_URL_NOT_FOUND";o.K.emit("module:identity:api:loaded");var u=()=>{if(null===s){var e=(0,i.e)({name:"GU_U"});if(e){var t,n,r,o=JSON.parse((d=null!==(t=e.split(".")[0])&&void 0!==t?t:"",decodeURIComponent(escape(window.atob(d.replace(/-/g,"+").replace(/_/g,"/").replace(/,/g,"=")))))),a=parseInt(null!==(n=o[0])&&void 0!==n?n:"",10),c=decodeURIComponent(null!==(r=o[2])&&void 0!==r?r:""),l=o[6],u=Boolean(o[7]);a&&l&&(s={id:a,publicFields:{displayName:c},dates:{accountCreatedDate:l},statusFields:{userEmailValidated:u},rawResponse:e})}}var d;return s},d=function(){var e,t=(e=function*(){if(c){try{var{isSignedInWithOktaAuthState:e}=yield Promise.all([n.e(209),n.e(803)]).then(n.bind(n,2803)),t=yield e();if(t.isAuthenticated)return{kind:"SignedInWithOkta",accessToken:t.accessToken,idToken:t.idToken}}catch(e){console.error(e)}return{kind:"SignedOutWithOkta"}}return null!==u()?{kind:"SignedInWithCookies"}:{kind:"SignedOutWithCookies"}},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,c,"next",e)}function c(e){a(o,r,i,s,c,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}(),f=()=>d().then((e=>"SignedInWithCookies"===e.kind||"SignedInWithOkta"===e.kind)),p=e=>"SignedInWithCookies"===e.kind?{credentials:"include"}:{headers:{Authorization:"Bearer ".concat(e.accessToken.accessToken),"X-GU-IS-OAUTH":"true"}},v=()=>d().then((e=>{switch(e.kind){case"SignedInWithCookies":return fetch("".concat(l,"/user/me/identifiers"),{mode:"cors",credentials:"include"}).then((e=>{if(200===e.status)return e.json();throw e.status})).then((e=>e.googleTagId)).catch((e=>(console.log("failed to get Identity user identifiers",e),null)));case"SignedInWithOkta":return e.idToken.claims.google_tag_id;default:return null}}))},573:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(4546),i=n.n(r);function o(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var a=function(){var e,t=(e=function*(){return!window.guardian.config.isDotcomRendering&&new Promise((e=>{window.guardian.adBlockers.active?e(window.guardian.adBlockers.active):window.guardian.adBlockers.onDetect.push(e)}))},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))});return function(){return t.apply(this,arguments)}}()(),{sentryPublicApiKey:s,sentryHost:c,edition:l,contentType:u,revisionNumber:d,isDev:f}=window.guardian.config.page,{enableSentryReporting:p}=window.guardian.config.switches,v="https://".concat(s,"@").concat(c),m=!1,g={whitelistUrls:[/localhost/,/assets\.guim\.co\.uk/,/ophan\.co\.uk/],tags:{edition:l,contentType:u,revisionNumber:d},ignoreErrors:["Can't execute code from a freed script",/There is no space left matching rules from/gi,"Top comments failed to load:","Comments failed to load:",/InvalidStateError/gi,/Fetch error:/gi,"Network request failed","This video is no longer available.","UnknownError","TypeError: Failed to fetch","TypeError: NetworkError when attempting to fetch resource","Fetch error while requesting https://api.nextgen.guardianapps.co.uk/weatherapi/city.json:"],dataCallback(e){var{culprit:t}=e,n=e,r=!!t&&/j.ophan.co.uk/.test(t);return t&&(n.culprit=t.replace(/\/[a-z\d]{32}(\/[^/]+)$/,"$1")),n.tags.origin=r?"ophan":"app",n},shouldSendCallback(e){var t=!!e.tags.ignored,n=Math.random()<.008;return f&&!t&&console.warn("Raven captured event.",e),!!p&&n&&!t&&!m}};a.then((e=>{m=e}));const h=i().config(v,g).install()},3731:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(1881),i=n(4953),o=n(5280),a=()=>{var e=(0,o.E)();return"clear"===e.adtest?(0,r.n)({name:"adtest"}):e.adtest&&(0,i.d)({name:"adtest",value:encodeURIComponent(e.adtest),daysToLive:10}),Promise.resolve()}},1133:(e,t,n)=>{n.d(t,{S:()=>a});var r=n(1881),i=n(4953),o=n(5280),a=()=>{var e=(0,o.E)();return"clear"===e.adtestInLabels?(0,r.n)({name:"adtestInLabels"}):e.adtestInLabels&&(0,i.d)({name:"adtestInLabels",value:"true"}),Promise.resolve()}},7791:(e,t,n)=>{n.d(t,{e:()=>q});var r=n(573),i=n(2500),o=n(7991),a=n(606),s=n(5280);var c=!!(0,s.E)().sfdebug,l="rgb(255 178 178)",u="rgb(200 0 0)",d="rgb(255 213 178)",f="rgb(255 128 0)",p={absoluteMinAbove:{colour:l,reason:"Too close to the top of page"},aboveAndBelow:{colour:d,reason:"Too close to top or bottom of article"},isStartAt:{colour:"rgb(178 178 255)",reason:"Spacefinder is starting from this position"},startAt:{colour:d,reason:"Before the starting element"},custom:{colour:"rgb(254 255 178)",reason:"Too close to other winner"},winner:{colour:"rgb(178 255 184)",reason:"Winner"},tooClose:{colour:"rgb(178 248 255)",reason:"Too close to other element"}},v=e=>e in p,m=(e,t)=>{var n=document.createElement("div");n.className="overlay",n.appendChild(document.createTextNode(t)),e.before(n)},g=(e,t,n)=>{t.forEach((t=>{e.addEventListener("mouseenter",(()=>!!(e=>{var t;return(null===(t=document.querySelector('input[name="sfdebug-pass"]:checked'))||void 0===t?void 0:t.value)===e})(n)&&(document.body.contains(t.element)?(t.element.classList.add("blocking-element"),void m(t.element,"".concat(t.actual,"px/").concat(t.required,"px"))):(m(e,"Blocking element(s) removed from DOM: see console for details"),void(0,i.c)("commercial","Spacefinder: blocking element removed from DOM.\nCandidate:",e,"\nBlocking element:",t.element))))),e.addEventListener("mouseleave",(()=>{t.element.classList.remove("blocking-element"),document.querySelectorAll(".overlay").forEach((e=>e.remove()))}))}))},h=(e,t,n,r)=>{try{((e,t,n)=>{var r=function(e){o.forEach((r=>{var i=r instanceof Element?r:r.element,o=r instanceof Element?null:r.meta,a=v(e)&&p[e];i==t.startAt?i.setAttribute("data-sfdebug-".concat(n),"isStartAt"):a?i.setAttribute("data-sfdebug-".concat(n),e):o&&o.tooClose.length>0&&(i.setAttribute("data-sfdebug-".concat(n),"tooClose"),g(i,o.tooClose,n)),i.classList.add("candidate")}))};for(var[i,o]of Object.entries(e))r(i)})(e,n,r),((e,t)=>{e.forEach((e=>{e.element.setAttribute("data-sfdebug-".concat(t),"winner"),e.element.classList.add("candidate")}))})(t,r),((e,t)=>{var n=document.querySelector(e.bodySelector);n.id="sfdebug-body",n.setAttribute("data-sfdebug-min-above-".concat(t),"".concat(e.minAbove,"px"))})(n,r)}catch(e){console.error("SFDebug Error",e)}},b=e=>{(e=>{var t=document.getElementById("sfdebug-body");if(t){var n=t.getAttribute("data-sfdebug-min-above-".concat(e));if(n){var r=document.querySelector(".line");r||((r=document.createElement("div")).className="line",t.appendChild(r)),r.innerHTML="<div class='label'>Ads below here (".concat(n,")</div>"),r.style.top=n}}})(e),(e=>{document.querySelectorAll(".candidate").forEach((t=>{var n;if(t instanceof HTMLElement){var r=null!==(n=t.getAttribute("data-sfdebug-".concat(e)))&&void 0!==n?n:"";if(v(r)){var i=p[r];t.dataset.reason=i.reason,t.style.backgroundColor=i.colour}}}))})(e)},w=e=>{var t=document.querySelector("#sfdebug-panel .controls");if(t){var n=document.createElement("input");n.type="radio",n.id="sfdebug-".concat(e),n.name="sfdebug-pass",n.value=e;var r=document.createElement("label");r.htmlFor="sfdebug-".concat(e),r.innerText=e,n.addEventListener("change",(e=>{var t=e.target.value;b(t)})),t.appendChild(n),t.appendChild(r)}},y=()=>{if(!document.querySelector("#sfdebug-panel")){var e=document.createElement("div");e.id="sfdebug-panel",e.innerHTML='\n\t\t<div class="logo">\n\t\t\t'.concat('<svg xmlns="http://www.w3.org/2000/svg" width="3042.7" height="954.7" version="1.0" viewBox="0 0 2282 716"><path d="M400 44a374 374 0 0 0-208 64c-20 15-43 38-59 57-21 25-53 89-62 124-8 33-9 96-2 132 4 21 12 42 28 70a2161 2161 0 0 1 25 45c8 10 50 53 65 66 21 18 45 31 90 48 26 9 47 14 81 16l149 4h46v-3c2-8 3-81 3-176l-3-420V45h-4c-6-1-120-2-149-1zm90 94c16 3 27 10 40 23 12 13 17 23 19 39 0 9-1 23-5 33-6 19-25 53-41 72-18 21-51 54-67 67a964 964 0 0 1-98 61c-20 10-27 14-35 15l-17 6a249 249 0 0 1-137 9c-21-7-32-17-37-32-4-14-3-25 3-36 3-7 23-27 36-37 16-13 23-21 27-29 6-12 8-10 8 6 0 10-2 22-6 32-6 14-14 24-28 33-10 6-11 8-8 12 3 3 15 11 21 13 5 2 7 3 38 3 30 0 33-1 44-3 29-6 75-25 114-48 20-12 53-35 64-44 20-17 51-51 65-72 6-9 15-26 17-34 3-11 3-26 0-33s-10-14-16-17c-5-2-7-2-63-3-42-1-57-2-58-3s-1-2 2-4c11-10 37-23 55-28 17-4 45-5 63-1zm-96 321c24 6 36 18 42 39a58 58 0 0 1-52 70c-15 1-28-4-42-15a48 48 0 0 1-20-43c0-19 3-27 14-38 14-13 36-18 58-13zM1835 62l-55 2c-19 4-37 15-47 29-6 8-11 19-13 27-3 15-6 79-4 111 2 46 6 58 23 75 8 8 12 11 26 18l10 6h76l77 1v-56h-13l-69-1-57-1-4-4c-7-8-8-11-9-23v-11h38l59-1h21v-57h-20l-59-1h-39v-21c0-23 1-26 7-29l9-3 104-4h30v-16l-1-28V61h-20l-70 1zM668 63c-16 1-24 3-33 9-25 14-36 48-36 111 0 27 0 32 6 41l7 8c5 2 25 3 76 3 48 0 73 1 77 3 8 5 10 21 3 29-6 6-27 8-115 8h-64v56h65l95-1c36-1 35-1 49-13 13-12 20-22 24-39 2-7 3-11 2-26a79 79 0 0 0-21-60c-16-15-16-15-91-15h-58v-41l7-10 5-6h171V62h-78l-92 1zM907 84c-12 26-14 33-13 34s35 2 105 2h75v59H872v152h53v-86h84l91-2c17-4 23-12 27-31l2-77V63h-27l-106-1h-79l-10 22zM1176 197v134h53v-98c1-101 1-105 5-105 2 0 15 13 26 27a6210 6210 0 0 1 129 172l3 4h53V83h-58l1 75-1 75a640 640 0 0 1-79-106 113 113 0 0 0-13-18c0-2-7-12-21-29l-16-18h-82v135zM1557 63c-12 1-18 3-29 8-27 14-44 46-49 94-2 15-1 63 1 79 5 32 13 48 32 67 19 18 23 18 111 20h51v-56h-26l-45-1c-27 0-44-1-49-4-6-3-13-11-17-18-2-6-5-20-7-36s-1-47 2-57c4-22 13-34 28-37l60-2h55l-1-11-1-28V63h-116zM1973 197v134h53v-86l24 1 37 1h13l6 12c7 15 19 34 35 56l11 16h27l34-1h8l-2-3c-2-6-11-18-25-37l-24-32-10-14 13-1 18-2c12-3 20-9 29-21l5-7V63h-32l-126-1h-94v135zm199-76v29l1 29h-144v-59l71 1h72zM970 384c-30 2-44 7-57 20-11 11-23 33-27 49-5 17-5 23-5 113v83l26 1 26 1v-99h25a2704 2704 0 0 1 122-2h21l-1-29v-29l-82-1h-82v-7l2-12c3-11 14-24 22-27 5-3 26-4 60-4l54-1h30v-56h-24a7849 7849 0 0 1-110 0zM2002 384h-42v266h55V549h16l19 1c7 2 12 8 45 63l22 37h31l33-1c3-1 2-2-3-10l-15-23a653 653 0 0 0-40-63l25-1c28-1 36-2 45-8 9-5 17-17 20-29 1-6 2-82 1-111v-21h-85l-127 1zm160 83v27h-147v-23l2-26c0-3 0-3 7-3l111-2h27v27zM638 385c-2 6-3 45-4 148v115h56v-7l2-89 69-2h68v-59H693v-11l-1-22v-11l4-1c5-1 42-3 99-4h46v-8l1-29v-21H741l-102 1zM1206 388a2372 2372 0 0 0-34 74c-11 23-22 46-28 63l-30 66-25 55c0 2 2 2 30 4l24 2h5l10-23 10-24h151l11 23 11 23h22l29-1c8 0 8 0 8-3l-19-42-31-68a3604 3604 0 0 0-70-151l-49-2h-24l-1 4zm45 68a2087 2087 0 0 1 43 92c-1 2-99 1-101 0a1108 1108 0 0 0 42-92c6-11 8-13 9-12l7 12zM1420 450l2 200 121 3c66 0 72 0 85-4 8-4 18-11 24-19l11-20 7-13v-65c0-74-1-89-5-101-8-28-23-43-45-45l-104-2h-96v66zm192-4c2 8 3 24 3 74 0 48-1 72-3 74s-18 3-77 4h-61V443h137l1 3zM1734 385l-18 1c-1 2-2 45-2 115 0 92 1 119 7 130 3 6 10 13 19 17 5 3 8 3 18 4l87 1 75 1v-56l-74-1h-73v-47h15a1833 1833 0 0 1 111-2h11v-56h-68l-69 1v-53h144v-56h-83l-100 1z"/></svg>','\n\t\t\t<div class="label">debug mode</div>\n\t\t</div>\n\t\t<div class="controls"></div>\n\t'),document.body.appendChild(e);var t=document.createElement("style");t.innerHTML="\n\t\t#sfdebug-panel {\n\t\t\tfont-family: sans-serif;\n\t\t\tposition: fixed;\n\t\t\tbottom: 0;\n\t\t\tright: 0;\n\t\t\tbackground-color: #ffffff;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 10px 0 0 0;\n\t\t\tz-index: 9999999;\n\t\t\tpadding: 5px;\n\t\t\tborder-top: solid gray 2px;\n\t\t\tborder-left: solid gray 2px;\n\t\t\tbackground: #f1f1f1;\n\t\t\topacity: 0.9;\n\t\t}\n\n\t\t#sfdebug-panel .logo {\n\t\t\theight: 90px;\n\t\t\twidth: 245px;\n\t\t}\n\n\t\t#sfdebug-panel .logo svg {\n\t\t\theight: 65px;\n\t\t\twidth: 100%;\n\t\t\tpadding: 5px;\n\t\t\tdisplay: block;\n\t\t}\n\n\t\t#sfdebug-panel .logo .label {\n\t\t\tfont-size: 17px;\n\t\t\tfont-family: cursive;\n\t\t\tcolor: #c80000;\n\t\t\tposition: relative;\n\t\t\ttop: -5px;\n\t\t\tright: -134px;\n\t\t\tfont-style: italic;\n\t\t}\n\n\t\t#sfdebug-panel .controls {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: center;\n\t\t\tpadding: 0px 10px 5px 10px;\n\t\t}\n\n\t\t#sfdebug-panel .controls label {\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: #454545;\n\t\t\tcolor: white;\n\t\t\tpadding: 10px;\n\t\t\tborder-radius: 3px;\n\t\t\tuser-select: none;\n\t\t\tmargin: 0 5px;\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-panel .controls input:checked + label {\n\t\t\tbackground-color: rgb(0 128 0);\n\t\t}\n\n\t\t#sfdebug-panel .controls input {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t#sfdebug-body {\n\t\t\tposition: relative;\n\t\t}\n\n\t\t#sfdebug-body .overlay {\n\t\t\tposition:absolute;\n\t\t\tright:0;\n\t\t\tbackground-color:".concat(l,";\n\t\t\tpadding:5px 5px 10px 20px;\n\t\t\tfont-family: sans-serif;\n\t\t\tz-index:20;\n\t\t}\n\n\t\t#sfdebug-body .blocking-element {\n\t\t\tbox-shadow: 0px 0px 0px 10px ").concat(l,";\n\t\t\tz-index:10;\n\t\t\tposition:relative;\n\t\t\tdisplay:block;\n\t\t}\n\n\t\t#sfdebug-body .line {\n\t\t\tposition: absolute;\n\t\t\twidth: 100%;\n\t\t\tbackground-color: ").concat(f,";\n\t\t\theight: 3px;\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-body .line .label {\n\t\t\tposition: absolute;\n\t\t\ttop: -27px;\n\t\t\tleft: 230px;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 14px;\n\t\t\tbackground-color: white;\n\t\t\tpadding: 5px 10px 5px 10px;\n\t\t\tborder: 3px solid ").concat(f,";\n\t\t\tborder-radius: 5px 5px 0px 0px;\n\t\t}\n\n\t\t#sfdebug-body .candidate {\n\t\t\ttransition: all .2s ease-out;\n\t\t}\n\n\t\t#sfdebug-body .candidate::before {\n\t\t\tcontent: attr(data-reason);\n\t\t\tposition:absolute;\n\t\t\tright:0;\n\t\t\tbackground-color:#fffffff7;\n\t\t\tpadding:10px;\n\t\t\tborder-radius:0 0 0 10px;\n\t\t\tfont-family: sans-serif;\n\t\t\tfont-size: 17px;\n\t\t\tline-height: 1;\n\t\t}\n\n\t\t/* tiny fix for liveblogs */\n\t\t.js-liveblog-body .candidate::before {\n\t\t\tmargin-top: -8px;\n\t\t}\n\n\t\t#sfdebug-body .ad-slot-container {\n\t\t\toutline: 4px solid ").concat(u,"\n\t\t}\n\t\t"),document.body.appendChild(t)}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;c&&(y(),h(e,t,n,r),w(r))};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){O(o,r,i,a,s,"next",e)}function s(e){O(o,r,i,a,s,"throw",e)}a(void 0)}))}}var C=(e,t)=>[...(null!=t?t:document).querySelectorAll(e)],j={waitForImages:!0,waitForInteractives:!1,pass:"inline1"},A=e=>e instanceof HTMLIFrameElement,x=e=>{try{var t;return"complete"===(null===(t=e.contentWindow)||void 0===t?void 0:t.document.readyState)}catch(e){return((e,t,n)=>{if(window.guardian.config.switches.sentinelLogger){var r=window.guardian.config.page.isDev?"//logs.code.dev-guardianapis.com/log":"//logs.guardianapis.com/log",i=[{name:"module_name",value:e},{name:"function_name",value:t},{name:"URL",value:window.location.href}],o={label:"commercial.amiused",properties:n?[...i,...Object.entries(n).map((e=>{var[t,n]=e;return{name:t,value:String(n)}}))]:i};window.navigator.sendBeacon(r,JSON.stringify(o))}})("spacefinder.ts","isIframeLoaded"),!0}},T=e=>e.bodySelector||"document",D=e=>e instanceof HTMLImageElement,N=(0,o.Z)((e=>{var t=C("img",e.body).filter(D).filter((e=>!e.complete&&"lazy"!==e.loading)).map((e=>new Promise((t=>{e.addEventListener("load",t)}))));return Promise.all(t).then((()=>Promise.resolve()))}),T),I=(0,o.Z)(function(){var e=k((function*(e){var t=C(".element-interactive",e.body).filter((e=>{var t=Array.from(e.children).filter(A);return!(t[0]&&x(t[0]))}));if(0===t.length||!("MutationObserver"in window))return Promise.resolve();var n=t.map((e=>new Promise((t=>{new MutationObserver(((e,n)=>{var r,o;null!==(r=e[0])&&void 0!==r&&r.addedNodes[0]&&A(null===(o=e[0])||void 0===o?void 0:o.addedNodes[0])&&((e,t)=>{window.addEventListener("message",(n=>{if(n.source===e.contentWindow)try{var r=JSON.parse(n.data);"set-height"===r.type&&Number(r.value)>0&&t()}catch(e){(0,i.c)("commercial","Unparsable message sent from iframe",e)}}))})(e[0].addedNodes[0],(()=>{n.disconnect(),t()}))})).observe(e,{childList:!0})}))));yield Promise.all(n)}));return function(t){return e.apply(this,arguments)}}(),T),M=(e,t)=>{var n=[],r=[];return e.forEach((e=>{t(e,n[n.length-1])?n.push(e):r.push(e)})),[n,r]},B=(e,t,n)=>{var r=e.candidates,[i,o]=M(r,(n=>!t.absoluteMinAbove||n.top+e.bodyTop>=t.absoluteMinAbove));n.absoluteMinAbove=o,r=i,[i,o]=M(r,(n=>{var r=n.top>=t.minAbove,i=n.top+t.minBelow<=e.bodyHeight;return r&&i})),n.aboveAndBelow=o,r=i;var{clearContentMeta:a}=t;if(a&&([i,o]=M(r,(t=>!!e.contentMeta&&t.top>e.contentMeta.bottom+a)),n.contentMeta=o,r=i),t.selectors){var s=[],c=function(t,a){[i,o]=M(r,(n=>{var r,i;return((e,t,n)=>n.map((n=>((e,t,n)=>{var r=t.top-n.bottom>=e.minAbove,i=n.top-t.top>=e.minBelow,o=r||i;if(!o){var a,s=t.top<n.top,c=s?e.minBelow:e.minAbove,l=s?n.top-t.top:t.top-n.bottom;null===(a=t.meta)||void 0===a||a.tooClose.push({required:c,actual:l,element:n.element})}return o})(e,t,n))).every(Boolean))(a,n,null!==(r=null===(i=e.opponents)||void 0===i?void 0:i[t])&&void 0!==r?r:[])})),n[t]=o,s.push(...o)};for(var[l,u]of Object.entries(t.selectors))c(l,u);r=r.filter((e=>!s.includes(e)))}return t.filter&&([i,o]=M(r,t.filter),n.custom=o,r=i),r};class L extends Error{constructor(e){super(),this.name="SpaceError",this.message="There is no space left matching rules from ".concat(e.bodySelector)}}var F=(e,t)=>Promise.race([new Promise((e=>window.setTimeout((()=>e("timeout")),5e3))),Promise.all([t.waitForImages?N(e):Promise.resolve(),t.waitForInteractives?I(e):Promise.resolve()])]).then((e=>{"timeout"===e&&(0,i.c)("commercial","Spacefinder timeout hit")})),R=(e,t)=>{var n=C(e.bodySelector+e.slotSelector);if(e.fromBottom&&n.reverse(),e.startAt){var r=!0,[i,o]=M(n,(t=>(t===e.startAt&&(r=!1),!r)));t.startAt=o,n=i}if(e.stopAt){var a=!0,[s,c]=M(n,(t=>(t===e.stopAt&&(a=!1),a)));t.stopAt=c,n=s}return n},Z=e=>Object.freeze({top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight,element:e,meta:{tooClose:[]}}),z=(e,t)=>{var n,r=e.clearContentMeta&&null!==(n=document.querySelector(".js-content-meta"))&&void 0!==n?n:void 0,i=e.selectors?Object.keys(e.selectors).map((t=>[t,C(e.bodySelector+t)])):[];return a.Z.measure((()=>{var n=0,o=0;if(e.body instanceof Element){var a=e.body.getBoundingClientRect();n=a.top+window.scrollY,o=a.height}return{bodyTop:n,bodyHeight:o,candidates:t.map(Z),contentMeta:e.clearContentMeta&&r?Z(r):void 0,opponents:i.reduce(((e,t)=>{var[n,r]=t;return e[n]=r.map(Z),e}),{})}}))},H=function(){var e=k((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t=E(E({},j),t),e.body=e.bodySelector&&document.querySelector(e.bodySelector)||document,yield F(e,t);var r=R(e,n),i=yield z(e,r),o=B(i,e,n);if(S(n,o,e,t.pass),!o.length)throw new L(e);return o.map((e=>e.element))}));return function(t,n){return e.apply(this,arguments)}}();function U(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=new class{constructor(){U(this,"queue",Promise.resolve(!0))}fillSpace(e,t,n){return this.queue=this.queue.then((()=>H(e,n).then((e=>t(e))).then((()=>!0)).catch((e=>{if(e instanceof L)return!1;throw e})))).catch((e=>(r.Z.captureException(e),!1))),this.queue}}},6697:(e,t,n)=>{n.d(t,{j:()=>s,M:()=>a});var r=n(3876),i=n(606);function o(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var a=e=>{var t=window.guardian.config.page.isPaidContent?"".concat(61,"px"):0,n=e.reduce(((e,n)=>{var[r,i]=n;return"".concat(e," .").concat(r," { min-height: ").concat(i,"px; } .").concat(r," > * { position: sticky; top: ").concat(t,"; }")}),""),o="\n        @media (min-width: ".concat(r.A.desktop,"px) {\n            ").concat(n,"\n        }\n    "),a=document.createElement("style");return a.appendChild(document.createTextNode(o)),i.Z.mutate((()=>{document.head.appendChild(a)}))},s=function(){var e,t=(e=function*(e,t){var n=[...document.querySelectorAll('[data-spacefinder-role="immersive"]')],{figures:r,winningParas:o,articleBodyElementHeightBottom:a}=yield i.Z.measure((()=>{var r,i;return{figures:n.map((e=>({kind:"figure",top:e.getBoundingClientRect().top,element:e}))),winningParas:e.map((e=>({kind:"winningPara",top:e.getBoundingClientRect().top,element:e}))),articleBodyElementHeightBottom:null!==(r=null===(i=document.querySelector(t))||void 0===i?void 0:i.getBoundingClientRect().bottom)&&void 0!==r?r:0}}));return[...r,...o].sort(((e,t)=>e.top-t.top)).map(((e,t,n)=>{if("figure"!==e.kind){var r=n[t+1];if(void 0===r)return a-e.top-100;var i="winningPara"===r.kind?600:100;return Math.floor(r.top-e.top-i)}})).filter((e=>!(void 0===e)))},function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,c,"next",e)}function c(e){o(a,r,i,s,c,"throw",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},3579:(e,t,n)=>{n.r(t),n.d(t,{ARTICLES_VIEWED_OPT_OUT_COOKIE:()=>D,CONTRIBUTIONS_REMINDER_SIGNED_UP:()=>N,accountDataUpdateWarning:()=>M,canShowContributionsReminderFeature:()=>re,deleteOldData:()=>L,extendContribsCookieExpiry:()=>ne,fakeOneOffContributor:()=>ee,getDaysSinceLastOneOffContribution:()=>V,getLastOneOffContributionDate:()=>G,getLastOneOffContributionTimestamp:()=>q,getLastRecurringContributionDate:()=>W,getPurchaseInfo:()=>ie,isAdFreeUser:()=>te,isDigitalSubscriber:()=>Z,isPayingMember:()=>U,isPostAskPauseOneOffContributor:()=>J,isRecentOneOffContributor:()=>K,isRecurringContributor:()=>$,readerRevenueRelevantCookies:()=>Q,refresh:()=>H,shouldHideSupportMessaging:()=>X,shouldNotBeShownSupportMessaging:()=>Y});var r=n(8251),i=n(1083),o=n(4953),a=n(1881),s="GU_AF1",c=()=>(0,r.e)({name:s}),l=()=>{var e=c();return!!e&&!Number.isNaN(parseInt(e,10))};function u(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var d=function(){var e,t=(e=function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof e)throw new Error("First argument should be of type `string`");var n,r=e;(function(e){return!RegExp("^(https?:)?//").exec(e)})(r)&&(r=(null!==(n=window.guardian.config.page.ajaxUrl)&&void 0!==n?n:"")+e,t.mode="cors");var i=yield fetch(r,t);if(i.ok){if(204===i.status)return{};try{return i.json()}catch(e){throw new Error("Fetch error while requesting ".concat(r,": Invalid JSON response"))}}throw new Error("Fetch error while requesting ".concat(r,": ").concat(i.statusText))},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),f=n(6892),p=n(4492),v={1:"01",2:"02",3:"03",4:"04",5:"05",6:"06",7:"07",8:"08",9:"09",10:"10",11:"11",12:"12",13:"13",14:"14",15:"15",16:"16",17:"17",18:"18",19:"19",20:"20",21:"21",22:"22",23:"23",24:"24",25:"25",26:"26",27:"27",28:"28",29:"29",30:"30",31:"31"},m={1:"01",2:"02",3:"03",4:"04",5:"05",6:"06",7:"07",8:"08",9:"09",10:"10",11:"11",12:"12"},g=n(6385);function h(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,s,"next",e)}function s(e){h(o,r,i,a,s,"throw",e)}a(void 0)}))}}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S="gu_user_features_expiry",_="gu_paying_member",E="gu_action_required_for",P="gu_digital_subscriber",O="gu_hide_support_messaging",k="GU_AF1",C="gu_recurring_contributor",j="gu_one_off_contribution_date",A="gu.contributions.recurring.contrib-timestamp.Monthly",x="gu.contributions.recurring.contrib-timestamp.Annual",T="gu.contributions.contrib-timestamp",D={name:"gu_article_count_opt_out",daysToLive:90},N={name:"gu_contributions_reminder_signed_up",daysToLive:90},I=!!/[#&]noadsaf(&.*)?$/.exec(window.location.hash),M=()=>(0,r.e)({name:E}),B=e=>{var t,n;(0,o.d)({name:S,value:(t=1,n=new Date,n.setDate(n.getDate()+t),n.getTime().toString())}),(0,o.d)({name:_,value:String(e.contentAccess.paidMember)}),(0,o.d)({name:C,value:String(e.contentAccess.recurringContributor)}),(0,o.d)({name:P,value:String(e.contentAccess.digitalPack)}),(0,o.d)({name:O,value:String(!e.showSupportMessaging)}),e.oneOffContributionDate&&(0,o.d)({name:j,value:e.oneOffContributionDate}),(0,a.n)({name:E}),e.alertAvailableFor&&(0,o.d)({name:E,value:e.alertAvailableFor}),e.contentAccess.digitalPack?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=new Date;t.setMonth(t.getMonth()+6),(0,o.d)({name:s,value:t.getTime().toString(),daysToLive:e})}(2):l()&&!I&&(0,a.n)({name:k})},L=()=>{(0,a.n)({name:k}),(0,a.n)({name:S}),(0,a.n)({name:_}),(0,a.n)({name:C}),(0,a.n)({name:E}),(0,a.n)({name:P}),(0,a.n)({name:O}),(0,a.n)({name:j})},F=()=>(0,g.TA)().then((e=>"SignedInWithCookies"===e.kind||"SignedInWithOkta"===e.kind?e:Promise.reject("The user is not signed in"))).then((e=>{var t;return d("".concat(null!==(t=window.guardian.config.page.userAttributesApiUrl)&&void 0!==t?t:"/USER_ATTRIBUTE_API_NOT_FOUND","/me"),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mode:"cors"},(0,g.g4)(e))).then((e=>{if(!(e=>!!(0,i.K)(e)&&("boolean"==typeof e.showSupportMessaging&&(0,i.K)(e.contentAccess)&&"boolean"==typeof e.contentAccess.paidMember&&"boolean"==typeof e.contentAccess.recurringContributor&&e.contentAccess.digitalPack,!0))(e))throw new Error("invalid response");return e})).then(B).catch(f.Z)})),R=()=>(e=>{var t=(0,r.e)({name:e});if(!t)return!0;var n=parseInt(t,10);return(new Date).getTime()>=n})(S),Z=()=>"true"===(0,r.e)({name:P}),z=function(){var e=b((function*(){return!(yield(0,g.z5)())&&!!(null!==(e=null!==(t=null!==(n=null!==(i=null!==(o=null!==(a=null!==(s=c())&&void 0!==s?s:(0,r.e)({name:E}))&&void 0!==a?a:(0,r.e)({name:S}))&&void 0!==o?o:(0,r.e)({name:_}))&&void 0!==i?i:(0,r.e)({name:C}))&&void 0!==n?n:(0,r.e)({name:j}))&&void 0!==t?t:(0,r.e)({name:P}))&&void 0!==e?e:(0,r.e)({name:O}));var e,t,n,i,o,a,s}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=b((function*(){return(yield(0,g.z5)())&&(R()||Z()&&!l())?F():((yield z())&&!I&&L(),Promise.resolve())}));return function(){return e.apply(this,arguments)}}(),U=function(){var e=b((function*(){return(yield(0,g.z5)())&&"false"!==(0,r.e)({name:_})}));return function(){return e.apply(this,arguments)}}(),q=()=>{var e;return null!==(e=(()=>{var e=(0,r.e)({name:T});if(e){var t=parseInt(e,10);if(Number.isInteger(t))return t}return null})())&&void 0!==e?e:(()=>{var e=(0,r.e)({name:j});if(e){var t=Date.parse(e);if(Number.isInteger(t))return t}return null})()},G=()=>{var e=q();if(null===e)return null;var t=new Date(e);return((e,t,n)=>"".concat(e,"-").concat(m[t],"-").concat(v[n]))(t.getUTCFullYear(),t.getUTCMonth()+1,t.getUTCDate())},W=()=>{var e,t=(0,r.e)({name:A}),n=(0,r.e)({name:x}),i=t?parseInt(t,10):null,o=n?parseInt(n,10):null,a=i&&Number.isInteger(i)?i:null,s=o&&Number.isInteger(o)?o:null;return a||s?a&&s?Math.max(a,s):null!==(e=null!=a?a:s)&&void 0!==e?e:null:null},V=()=>{var e=q();return null===e?null:(0,p.y)(e,Date.now())},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90,t=V();return null!==t&&t<=e},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90,t=V();return null!==t&&t>e},$=function(){var e=b((function*(){return(yield(0,g.z5)())&&"false"!==(0,r.e)({name:C})||null!=(0,r.e)({name:A})||null!=(0,r.e)({name:x})}));return function(){return e.apply(this,arguments)}}(),Y=()=>"true"===(0,r.e)({name:O}),X=function(){var e=b((function*(){return Y()||K()||(yield $())}));return function(){return e.apply(this,arguments)}}(),Q=[_,P,C,A,x,T,O],ee=()=>{(0,o.d)({name:T,value:Date.now().toString()})},te=()=>Z()||l(),ne=()=>{var e=(0,r.e)({name:T});if(e){var t=parseInt(e,10);if(Number.isInteger(t)){var n=365-(0,p.y)(t,Date.now());(0,o.d)({name:T,value:t.toString(),daysToLive:n})}}},re=()=>{var e=!!(0,r.e)({name:N.name}),{switches:t}=window.guardian.config;return Boolean(t.showContributionReminder)&&!e},ie=()=>{var e=(0,r.e)({name:"GU_CO_COMPLETE"});if(e){var t=void 0;try{t=JSON.parse(decodeURIComponent(e))}catch(e){}return t}}},6690:(e,t,n)=>{n.d(t,{K:()=>i});var r=n(3141),i=new(n.n(r)())},6892:(e,t,n)=>{n.d(t,{Z:()=>r});var r=function(){}},4492:(e,t,n)=>{n.d(t,{B:()=>i,y:()=>r});var r=(e,t)=>{var n=t-e;return Math.floor(n/864e5)},i=e=>(new Date).setHours(0,0,0,0)>new Date(e).getTime()},5280:(e,t,n)=>{n.d(t,{B:()=>i,E:()=>a});var r=n(7991),i=(0,r.Z)((()=>new URLSearchParams(window.location.search).getAll("pbtest").reduce(((e,t)=>(e[t]=!0,e)),{})),(()=>window.location.search)),o=(0,r.Z)((e=>Array.from(new URLSearchParams(e).entries()).reduce(((e,t)=>{var[n,r]=t;return e[n]=""===r||r,e}),{}))),a=e=>o(null!=e?e:window.location.search)},6802:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n(9307).Z.Symbol},9530:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(6802),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r.Z?r.Z.toStringTag:void 0;const c=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i};var l=Object.prototype.toString;const u=function(e){return l.call(e)};var d="[object Null]",f="[object Undefined]",p=r.Z?r.Z.toStringTag:void 0;const v=function(e){return null==e?void 0===e?f:d:p&&p in Object(e)?c(e):u(e)}},9307:(e,t,n)=>{n.d(t,{Z:()=>o});const r="object"==typeof global&&global&&global.Object===Object&&global;var i="object"==typeof self&&self&&self.Object===Object&&self;const o=r||i||Function("return this")()},1029:(e,t,n)=>{n.d(t,{Z:()=>r});const r=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},7991:(e,t,n)=>{n.d(t,{Z:()=>ae});var r=n(9530),i=n(1029),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";const l=function(e){if(!(0,i.Z)(e))return!1;var t=(0,r.Z)(e);return t==a||t==s||t==o||t==c};var u=n(9307);const d=u.Z["__core-js_shared__"];var f,p=(f=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"";const v=function(e){return!!p&&p in e};var m=Function.prototype.toString;const g=function(e){if(null!=e){try{return m.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var h=/^\[object .+?Constructor\]$/,b=Function.prototype,w=Object.prototype,y=b.toString,S=w.hasOwnProperty,_=RegExp("^"+y.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const E=function(e){return!(!(0,i.Z)(e)||v(e))&&(l(e)?_:h).test(g(e))};const P=function(e,t){return null==e?void 0:e[t]};const O=function(e,t){var n=P(e,t);return E(n)?n:void 0};const k=O(Object,"create");const C=function(){this.__data__=k?k(null):{},this.size=0};const j=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var A="__lodash_hash_undefined__",x=Object.prototype.hasOwnProperty;const T=function(e){var t=this.__data__;if(k){var n=t[e];return n===A?void 0:n}return x.call(t,e)?t[e]:void 0};var D=Object.prototype.hasOwnProperty;const N=function(e){var t=this.__data__;return k?void 0!==t[e]:D.call(t,e)};var I="__lodash_hash_undefined__";const M=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=k&&void 0===t?I:t,this};function B(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}B.prototype.clear=C,B.prototype.delete=j,B.prototype.get=T,B.prototype.has=N,B.prototype.set=M;const L=B;const F=function(){this.__data__=[],this.size=0};const R=function(e,t){return e===t||e!=e&&t!=t};const Z=function(e,t){for(var n=e.length;n--;)if(R(e[n][0],t))return n;return-1};var z=Array.prototype.splice;const H=function(e){var t=this.__data__,n=Z(t,e);return!(n<0)&&(n==t.length-1?t.pop():z.call(t,n,1),--this.size,!0)};const U=function(e){var t=this.__data__,n=Z(t,e);return n<0?void 0:t[n][1]};const q=function(e){return Z(this.__data__,e)>-1};const G=function(e,t){var n=this.__data__,r=Z(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}W.prototype.clear=F,W.prototype.delete=H,W.prototype.get=U,W.prototype.has=q,W.prototype.set=G;const V=W;const K=O(u.Z,"Map");const J=function(){this.size=0,this.__data__={hash:new L,map:new(K||V),string:new L}};const $=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Y=function(e,t){var n=e.__data__;return $(t)?n["string"==typeof t?"string":"hash"]:n.map};const X=function(e){var t=Y(this,e).delete(e);return this.size-=t?1:0,t};const Q=function(e){return Y(this,e).get(e)};const ee=function(e){return Y(this,e).has(e)};const te=function(e,t){var n=Y(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ne.prototype.clear=J,ne.prototype.delete=X,ne.prototype.get=Q,ne.prototype.has=ee,ne.prototype.set=te;const re=ne;var ie="Expected a function";function oe(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(ie);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(oe.Cache||re),n}oe.Cache=re;const ae=oe},5260:(e,t,n)=>{n.r(t),n.d(t,{CLSThresholds:()=>C,FCPThresholds:()=>O,FIDThresholds:()=>M,INPThresholds:()=>U,LCPThresholds:()=>$,TTFBThresholds:()=>Q,getCLS:()=>j,getFCP:()=>k,getFID:()=>B,getINP:()=>J,getLCP:()=>X,getTTFB:()=>te,onCLS:()=>j,onFCP:()=>k,onFID:()=>B,onINP:()=>J,onLCP:()=>X,onTTFB:()=>te});var r,i,o,a,s,c=-1,l=function(e){addEventListener("pageshow",(function(t){t.persisted&&(c=t.timeStamp,e(t))}),!0)},u=function(){return window.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]},d=function(){var e=u();return e&&e.activationStart||0},f=function(e,t){var n=u(),r="navigate";return c>=0?r="back-forward-cache":n&&(document.prerendering||d()>0?r="prerender":document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:r}},p=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var r=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch(e){}},v=function(e,t,n,r){var i,o;return function(a){t.value>=0&&(a||r)&&((o=t.value-(i||0))||void 0===i)&&(i=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},m=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},g=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},h=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},b=-1,w=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},y=function(e){"hidden"===document.visibilityState&&b>-1&&(b="visibilitychange"===e.type?e.timeStamp:0,_())},S=function(){addEventListener("visibilitychange",y,!0),addEventListener("prerenderingchange",y,!0)},_=function(){removeEventListener("visibilitychange",y,!0),removeEventListener("prerenderingchange",y,!0)},E=function(){return b<0&&(b=w(),S(),l((function(){setTimeout((function(){b=w(),S()}),0)}))),{get firstHiddenTime(){return b}}},P=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},O=[1800,3e3],k=function(e,t){t=t||{},P((function(){var n,r=E(),i=f("FCP"),o=p("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=Math.max(e.startTime-d(),0),i.entries.push(e),n(!0)))}))}));o&&(n=v(e,i,O,t.reportAllChanges),l((function(r){i=f("FCP"),n=v(e,i,O,t.reportAllChanges),m((function(){i.value=performance.now()-r.timeStamp,n(!0)}))})))}))},C=[.1,.25],j=function(e,t){t=t||{},k(h((function(){var n,r=f("CLS",0),i=0,o=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];i&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e])}})),i>r.value&&(r.value=i,r.entries=o,n())},s=p("layout-shift",a);s&&(n=v(e,r,C,t.reportAllChanges),g((function(){a(s.takeRecords()),n(!0)})),l((function(){i=0,r=f("CLS",0),n=v(e,r,C,t.reportAllChanges),m((function(){return n()}))})),setTimeout(n,0))})))},A={passive:!0,capture:!0},x=new Date,T=function(e,t){r||(r=t,i=e,o=new Date,I(removeEventListener),D())},D=function(){if(i>=0&&i<o-x){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+i};a.forEach((function(t){t(e)})),a=[]}},N=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){T(e,t),i()},r=function(){i()},i=function(){removeEventListener("pointerup",n,A),removeEventListener("pointercancel",r,A)};addEventListener("pointerup",n,A),addEventListener("pointercancel",r,A)}(t,e):T(t,e)}},I=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,N,A)}))},M=[100,300],B=function(e,t){t=t||{},P((function(){var n,o=E(),s=f("FID"),c=function(e){e.startTime<o.firstHiddenTime&&(s.value=e.processingStart-e.startTime,s.entries.push(e),n(!0))},u=function(e){e.forEach(c)},d=p("first-input",u);n=v(e,s,M,t.reportAllChanges),d&&g(h((function(){u(d.takeRecords()),d.disconnect()}))),d&&l((function(){var o;s=f("FID"),n=v(e,s,M,t.reportAllChanges),a=[],i=-1,r=null,I(addEventListener),o=c,a.push(o),D()}))}))},L=0,F=1/0,R=0,Z=function(e){e.forEach((function(e){e.interactionId&&(F=Math.min(F,e.interactionId),R=Math.max(R,e.interactionId),L=R?(R-F)/7+1:0)}))},z=function(){return s?L:performance.interactionCount||0},H=function(){"interactionCount"in performance||s||(s=p("event",Z,{type:"event",buffered:!0,durationThreshold:0}))},U=[200,500],q=0,G=function(){return z()-q},W=[],V={},K=function(e){var t=W[W.length-1],n=V[e.interactionId];if(n||W.length<10||e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var r={id:e.interactionId,latency:e.duration,entries:[e]};V[r.id]=r,W.push(r)}W.sort((function(e,t){return t.latency-e.latency})),W.splice(10).forEach((function(e){delete V[e.id]}))}},J=function(e,t){t=t||{},P((function(){H();var n,r=f("INP"),i=function(e){e.forEach((function(e){e.interactionId&&K(e),"first-input"===e.entryType&&!W.some((function(t){return t.entries.some((function(t){return e.duration===t.duration&&e.startTime===t.startTime}))}))&&K(e)}));var t,i=(t=Math.min(W.length-1,Math.floor(G()/50)),W[t]);i&&i.latency!==r.value&&(r.value=i.latency,r.entries=i.entries,n())},o=p("event",i,{durationThreshold:t.durationThreshold||40});n=v(e,r,U,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),g((function(){i(o.takeRecords()),r.value<0&&G()>0&&(r.value=0,r.entries=[]),n(!0)})),l((function(){W=[],q=z(),r=f("INP"),n=v(e,r,U,t.reportAllChanges)})))}))},$=[2500,4e3],Y={},X=function(e,t){t=t||{},P((function(){var n,r=E(),i=f("LCP"),o=function(e){var t=e[e.length-1];t&&t.startTime<r.firstHiddenTime&&(i.value=Math.max(t.startTime-d(),0),i.entries=[t],n())},a=p("largest-contentful-paint",o);if(a){n=v(e,i,$,t.reportAllChanges);var s=h((function(){Y[i.id]||(o(a.takeRecords()),a.disconnect(),Y[i.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,s,!0)})),g(s),l((function(r){i=f("LCP"),n=v(e,i,$,t.reportAllChanges),m((function(){i.value=performance.now()-r.timeStamp,Y[i.id]=!0,n(!0)}))}))}}))},Q=[800,1800],ee=function e(t){document.prerendering?P((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},te=function(e,t){t=t||{};var n=f("TTFB"),r=v(e,n,Q,t.reportAllChanges);ee((function(){var i=u();if(i){var o=i.responseStart;if(o<=0||o>performance.now())return;n.value=Math.max(o-d(),0),n.entries=[i],r(!0),l((function(){n=f("TTFB",0),(r=v(e,n,Q,t.reportAllChanges))(!0)}))}}))}}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return i[e].call(n.exports,n,n.exports,a),n.exports}a.m=i,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,a.d(i,o),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>({209:"8bdb0ec5318a8e764791",322:"f27d6349ace3de24ce1a",501:"3d4270dbbc08c5de4b09",803:"61401c93f9b59bf6c24a"}[e]+"/graun."+({322:"Prebid.js",501:"consentless"}[e]||e)+".commercial.js"),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},r="@guardian/commercial:",a.l=(e,t,i,o)=>{if(n[e])n[e].push(t);else{var s,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==r+i){s=d;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",r+i),s.src=e),n[e]=[t];var f=(t,r)=>{s.onerror=s.onload=null,clearTimeout(p);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(r))),t)return t(r)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e+"../"})(),(()=>{var e={364:0};a.f.j=(t,n)=>{var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,i)=>r=e[t]=[n,i]));n.push(r[2]=i);var o=a.p+a.u(t),s=new Error;a.l(o,(n=>{if(a.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,r[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,i,[o,s,c]=n,l=0;if(o.some((t=>0!==e[t]))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(c)c(a)}for(t&&t(n);l<o.length;l++)i=o[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunk_guardian_commercial=self.webpackChunk_guardian_commercial||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{var e=a(1284),t=a(2500);function n(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=()=>"undefined"!=typeof window&&void 0!==window.performance&&"function"==typeof window.performance.mark,i=["top-above-nav","inline1","inline2"],o=["slotReady","adRenderStart","adOnPage"],s=["adRender","defineSlot","prepareSlot","prebid","fetchAd"],c=["commercialStart","commercialModulesLoaded"],l=["commercialBoot","googletagInit"],u=[...o,...s.map((e=>"".concat(e,"Start"))),...s.map((e=>"".concat(e,"End")))],d=["cmp-init","cmp-ui-displayed","cmp-got-consent"],f=e=>{var[t,n]=e.split("_");n||(n=t,t="page");var r=i.includes(t)&&o.includes(n)||"page"===t&&c.includes(n),a=i.includes(t)&&s.includes(n)||"page"===t&&l.includes(n);return r||a};class p{static init(){var e;return(e=window.guardian).commercialTimer||(e.commercialTimer=new p)}static get(){return this.init()}get _externalMarks(){return r()?d.reduce(((e,t)=>{var n=window.performance.getEntriesByName(t);return n.length&&n[0]&&e.set(t,n[0]),e}),new Map):new Map}get marks(){return[...this._marks,...this._externalMarks].map((e=>{var[t,n]=e;return{name:t,ts:n.startTime}}))}get measures(){return[...this._measures].map((e=>{var[t,n]=e;return{name:t,duration:n.duration}}))}constructor(){n(this,"_marks",void 0),n(this,"_measures",void 0),n(this,"properties",void 0),this._marks=new Map,this._measures=new Map,this.properties={},window.navigator.connection&&(this.properties.type=window.navigator.connection.type,this.properties.downlink=window.navigator.connection.downlink,this.properties.effectiveType=window.navigator.connection.effectiveType)}setProperty(e,t){this.properties[e]=t}mark(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"page",n=e;if(u.includes(e)&&"page"!==t&&(n="".concat(t,"_").concat(n)),!this._marks.get(n)&&r()){var i=window.performance.mark(n);"number"==typeof(null==i?void 0:i.startTime)&&f(n)&&this._marks.set(n,i),n.endsWith("End")&&this.measure(n)}}measure(e){var n=e.replace("End","Start"),r=e.replace("End","");if(window.performance.getEntriesByName(n).length>0)try{var i=window.performance.measure(r,n,e);i&&f(r)&&this._measures.set(r,i)}catch(e){(0,t.c)("commercial","error measuring ".concat(r),e)}}}var v=/\s/;const m=function(e){for(var t=e.length;t--&&v.test(e.charAt(t)););return t};var g=/^\s+/;const h=function(e){return e?e.slice(0,m(e)+1).replace(g,""):e};var b=a(1029),w=a(9530);const y=function(e){return null!=e&&"object"==typeof e};var S="[object Symbol]";const _=function(e){return"symbol"==typeof e||y(e)&&(0,w.Z)(e)==S};var E=NaN,P=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,k=/^0o[0-7]+$/i,C=parseInt;const j=function(e){if("number"==typeof e)return e;if(_(e))return E;if((0,b.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,b.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=h(e);var n=O.test(e);return n||k.test(e)?C(e.slice(2),n?2:8):P.test(e)?E:+e};var A=1/0,x=17976931348623157e292;const T=function(e){return e?(e=j(e))===A||e===-A?(e<0?-1:1)*x:e==e?e:0:0===e?e:0};const D=function(e){var t=T(e),n=t%1;return t==t?n?t-n:t:0};var N="Expected a function";const I=function(e,t){var n;if("function"!=typeof t)throw new TypeError(N);return e=D(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}};const M=function(e){return I(2,e)};var B=a(1774),L=a(7991),F={url:window.location.href},R=a(4492),Z=(a(4953),a(8251)),z="GU_mvt_id",H=1,U=1e6,q=()=>{var e,t=parseInt(null!==(e=(0,Z.e)({name:z,shouldMemoize:!0}))&&void 0!==e?e:"NaN",10);return Number.isNaN(t)?null:Math.max(Math.min(t,U),H)},G=()=>U,W="notintest",V={id:W,test:()=>{}},K=a(5783);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var X=(e,t)=>{var n=t[e.id];return n?n.variant===W?V:e.variants.find((e=>e.id===n.variant)):null},Q=e=>{return X(e,null!==(t=K.t.local.get("gu.ab.participations"))&&void 0!==t?t:{});var t};function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=e=>X(e,window.location.hash.startsWith("#ab")?window.location.hash.replace("#ab-","").split(",").reduce(((e,t)=>{var[n,r]=t.split("=");return n&&r?te(te({},e),{},{[n]:{variant:r}}):e}),{}):{});function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var se,ce,le,ue,de,fe,pe,ve,me,ge,he,be,we,ye=e=>{var t,n,r=(0,R.B)(e.expiry),i=window.guardian.config.page.isSensitive,o=!!e.showForSensitive,a=(t=e.id,!!window.guardian.config.switches["ab".concat(t)]),s=e.canRun();return n={key:e.id,value:{test:e,expired:r,isSensitive:i,shouldShowForSensitive:o,isTestOn:a,canTestBeRun:s}},F[n.key]=n.value,(!i||o)&&a&&!r&&s},Se=e=>{var t,n,r=re(e),i=Q(e),o=(e=>{var t=G()*e.audienceOffset,n=t+G()*e.audience,r=q();if(r&&r>t&&r<=n)return e.variants[r%e.variants.length]})(e),a=null!==(t=null!=r?r:i)&&void 0!==t?t:o,s=r&&window.location.hash.includes("ignoreCanRun=true");return a&&s||ye(e)&&a&&((!(n=a).canRun||n.canRun())&&n.id!==W)?oe(oe({},e),{},{variantToRun:a}):null},_e={}.hasOwnProperty;de=("undefined"!=typeof window&&null!==window?window.opanRemoteHost:void 0)||"//ophan.theguardian.com",le=function(){return(new Date).getTime().toString(36)+"xxxxxxxxxxxx".replace(/x/g,(function(){return Math.floor(36*Math.random()).toString(36)}))},we=null!=(fe="undefined"!=typeof guardian&&null!==guardian&&null!=(pe=guardian.config)&&null!=(ve=pe.ophan)?ve.pageViewId:void 0)?fe:le(),ce=function(){return we=le()},ge=function(e){return me(de+"/img/1?".concat(se(e)))},be=function(e){return"string"==typeof e||"number"==typeof e?encodeURIComponent(e):encodeURIComponent(JSON.stringify(e))},he=function(e,t){var n,r,i;if(JSON&&(i=function(){var t;for(n in t=[],e)_e.call(e,n)&&(r=e[n],ue(r)&&t.push("".concat(encodeURIComponent(n),"=").concat(be(r))));return t}()).length)return me(de+"/img/2?viewId=".concat(we,"&").concat(i.join("&")),t)},ue=function(e){return Array.isArray(e)?e.length:null!=e},se=function(e){var t,n;return e.viewId=we,function(){var r;for(t in r=[],e)_e.call(e,t)&&null!=(n=e[t])&&r.push("".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(n)));return r}().join("&")},me=function(e,t){var n,r;return r=new Image,n=setInterval((function(){if(r.complete)return"function"==typeof t&&t(),clearInterval(n)}),10),r.src=e};const Ee={sendInitial:ge,sendMore:he,viewId:we,bumpViewId:ce},Pe={state:function(){return document.visibilityState||document.webkitVisibilityState||document.mozVisibilityState||document.msVisibilityState},changeEvent:document.visibilityState?"visibilitychange":document.webkitVisibilityState?"webkitvisibilitychange":document.mozVisibilityState?"mozvisibilitychange":document.msVisibilityState?"msvisibilitychange":void 0};const Oe={init:function(){var e="offset",t="client",n=function(){},r=void 0===window.addEventListener,i={loopDelay:50,maxLoop:5,debug:!1,found:n,notfound:n,complete:n},o=[],a=null,s={cssClass:"ad-slot pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"},c={nullProps:[e+"Parent"],zeroProps:[]};c.zeroProps=[e+"Height",e+"Left",e+"Top",e+"Width",e+"Height",t+"Height",t+"Width"];var l={quick:null,remote:null},u=null,d={test:0,download:0};function f(e){return"function"==typeof e}function p(e,t){(i.debug||t)&&window.console&&window.console.log&&(t?console.error("[ABD] "+e):console.log("[ABD] "+e))}function v(e){p("start beginTest"),1!=u&&(!0,m(e),l.quick="testing",d.test=setTimeout((function(){g(e,1)}),5))}function m(e){var t,n=document.body,r="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(null!=e&&"string"!=typeof e){for(null!=e.style&&(r+=e.style),a=function(e,t){var n,r,i=t;if(r=document.createElement(e),i)for(n in i)i.hasOwnProperty(n)&&r.setAttribute(n,i[n]);return r}("div",{class:e.cssClass,style:r}),p("adding bait node to DOM"),n.appendChild(a),t=0;t<c.nullProps.length;t++)a[c.nullProps[t]];for(t=0;t<c.zeroProps.length;t++)a[c.zeroProps[t]]}else p("invalid bait being cast")}function g(e,t){var n,r=document.body,l=!1;if(null==a&&(p("recast bait"),m(e||s)),"string"==typeof e)return p("invalid bait used",!0),void(h()&&setTimeout((function(){!1}),5));for(d.test>0&&(clearTimeout(d.test),d.test=0),null!==r.getAttribute("abp")&&(p("found adblock body attribute"),l=!0),n=0;n<c.nullProps.length;n++){if(null==a[c.nullProps[n]]){t>4&&(l=!0),p("found adblock null attr: "+c.nullProps[n]);break}if(1==l)break}for(n=0;n<c.zeroProps.length&&1!=l;n++)0==a[c.zeroProps[n]]&&(t>4&&(l=!0),p("found adblock zero attr: "+c.zeroProps[n]));if(void 0!==window.getComputedStyle){var v=window.getComputedStyle(a,null);"none"!=v.getPropertyValue("display")&&"hidden"!=v.getPropertyValue("visibility")||(t>4&&(l=!0),p("found adblock computedStyle indicator"))}!0,l||t++>=i.maxLoop?(p("exiting test loop - value: "+(u=l)),function(){var e,t;if(null===u)return;for(e=0;e<o.length;e++){t=o[e];try{null!=t&&(f(t.complete)&&t.complete(u),u&&f(t.found)?t.found():!1===u&&f(t.notfound)&&t.notfound())}catch(e){p("Failure in notify listeners "+e.Message,!0)}}}(),h()&&setTimeout((function(){!1}),5)):d.test=setTimeout((function(){g(e,t)}),i.loopDelay)}function h(){if(null===a)return!0;try{f(a.remove)&&a.remove(),document.body.removeChild(a)}catch(e){}return a=null,!0}function b(){var e,t,n,i,o=!1;document.readyState&&"complete"==document.readyState&&(o=!0),e=function(){v(s)},o?e():(t=window,n="load",i=e,r?t.attachEvent("on"+n,i):t.addEventListener(n,i,!1))}return function(e){var t,r;if(e){for(t in r={complete:n,found:n,notfound:n},e)e.hasOwnProperty(t)&&("complete"==t||"found"==t||"notFound"==t?r[t.toLowerCase()]=e[t]:i[t]=e[t]);o.push(r),b()}}}()},ke={run:function(){return new Promise((function(e,t){if(!Oe.init)return t(new Error("Failed to initialise adblock detection"));try{return Oe.init({complete:function(t){return e(t)}})}catch(e){return t(e)}}))}};var Ce,je,Ae,xe,Te,De,Ne,Ie,Me,Be,Le,Fe,Re,Ze,ze={}.hasOwnProperty;Ce=17,De=window.document,Te=null!=window.localStorage&&"undefined"!=typeof JSON&&null!==JSON,Fe=null,Me=function(e,t){return Fe=e,"prerender"!==Pe.state()?Re(t):Pe.changeEvent?De.addEventListener(Pe.changeEvent,(function(){if("visible"===Pe.state())return Re(t)}),!1):void 0},Ne=function(e){var t,n,r,i;for(t=0,r=(i=window.location.search.substring(1).split("&")).length;t<r;t++)if((n=i[t].split("="))[0]===e)return decodeURIComponent(n[1])},Ie=function(e){var t;return e||(null!=(t=Ne("pre-auth-ref"))?t:"")},Re=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.document.referrer;return t={v:Ce,platform:Fe,url:n,ref:Ie(r),visibilityState:Pe.state(),isModernBrowser:"undefined"!=typeof guardian&&null!==guardian?guardian.isModernBrowser:void 0,httpStatus:e,tz:(new Date).getTimezoneOffset()},Ae(t),xe(t),Ee.sendInitial(t),ke.run().then((function(e){return Ee.sendMore({adUnitWasHidden:e})}))},Le=[],Be=function(e){var t,n,r,i;if("complete"===document.readyState){for(n in r={},t=e())i=t[n],r[n]=i;return Ee.sendMore(r)}return Le.push(e)},"function"==typeof window.addEventListener&&window.addEventListener("load",(function(){var e,t,n,r,i,o;for(i={},t=0,r=Le.length;t<r;t++)for(n in e=(0,Le[t])())o=e[n],i[n]=o;return"next-gen"===Fe&&je(i),Ee.sendMore(i)}),!1),xe=function(e){var t,n,r;if(Te){if(null!=(n=JSON.parse(window.localStorage.getItem("ophan_follow"))))for(t in n)ze.call(n,t)&&(r=n[t],e[t]=r);return window.localStorage.removeItem("ophan_follow")}},Ze=function(e){return e.map((function(e){return e.length>50?e.substring(0,50).concat("â€¦"):e}))},je=function(e){var t,n,r,i,o,a,s;if(t=function(){var e,t,r,i;for(i=[],e=0,t=(r=document.querySelectorAll("[data-component]")).length;e<t;e++)n=r[e],i.push(n.getAttribute("data-component"));return i}(),t.length>0){for(s=Ze(t),a={},r=0,o=s.length;r<o;r++)n=s[r],a[n]=1;return e.renderedComponents=function(){var e;for(i in e=[],a)a[i],e.push(i);return e}()}},Ae=function(e){var t,n,r;if(null!=(t="undefined"!=typeof guardian&&null!==guardian&&null!=(n=guardian.config)&&null!=(r=n.page)?r.contentType:void 0)&&""!==t)return e.contentType=t.toLowerCase()};const He={init:Me,storeDataToSendOnNextEvent:function(e){var t,n,r;if(Te){for(n in t=JSON.parse(window.localStorage.getItem("ophan_follow"))||{},e)ze.call(e,n)&&(r=e[n],t[n]=r);return window.localStorage.setItem("ophan_follow",JSON.stringify(t))}},onLoadCapture:Be,servingPlatform:function(){return Fe},viewId:Ee.viewId,sendInitialEvent:Re};var Ue,qe,Ge;qe=[],Ge=null,Ue=class{constructor(e,t,n,r){this.name=e,this.element=t,this.visibilityThreshold=n,this.reportingInterval=r,this.visible=!1,this.totalAttentionMs=0,this.unrecordedAttentionStarted=null,this.reportedTotalAttentionMs=0,this.usingEmitter=!1,this.visCheck=this.checkVisibility.bind(this),null!=Ge?(this.usingEmitter=!0,Ge.on("window:throttledScroll",this.visCheck)):window.addEventListener("scroll",this.visCheck),window.addEventListener("resize",this.visCheck)}isVisible(){var e,t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return!!this.element.offsetParent&&(n=(e=this.element.getBoundingClientRect()).right-e.left,t=e.bottom-e.top,r=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,e.left>=-n*(1-o)&&e.top>=-t*(1-o)&&e.right<=i+n*(1-o)&&e.bottom<=r+t*(1-o))}visibilityHasChanged(){var e;return e=this.visible,this.visible=this.isVisible(this.visibilityThreshold),e!==this.visible}rebindToEventEmitter(){if(!this.usingEmitter&&null!=Ge)return window.removeEventListener("scroll",this.visCheck),this.usingEmitter=!0,Ge.on("window:throttledScroll",this.visCheck)}checkVisibility(){if(this.rebindToEventEmitter(),this.visibilityHasChanged())return this.visible?this.makeActive():this.makeInactive()}makeActive(){return null!=this.unrecordedAttentionStarted?this.unrecordedAttentionStarted:this.unrecordedAttentionStarted=performance.now()}makeInactive(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.unrecordedAttentionStarted=null}hadAttentionSinceLastGet(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.totalAttentionMs!==this.reportedTotalAttentionMs}getAttentionTime(){return this.incrementTotalAttentionTimeByUnrecordedAmount(),this.reportedTotalAttentionMs=this.totalAttentionMs,this.totalAttentionMs}incrementTotalAttentionTimeByUnrecordedAmount(){var e,t;if(null!=this.unrecordedAttentionStarted)return e=performance.now(),t=Math.min(e-this.unrecordedAttentionStarted,this.reportingInterval),this.totalAttentionMs+=t,this.unrecordedAttentionStarted=e}};const We={setEventEmitter:function(e){return Ge=e},startMonitoring:function(){var e,t,n,r;for(r=[],t=0,n=qe.length;t<n;t++)(e=qe[t]).isVisible()&&r.push(e.makeActive());return r},stopMonitoring:function(){var e,t,n,r;for(r=[],t=0,n=qe.length;t<n;t++)e=qe[t],r.push(e.makeInactive());return r},getAttentionTimes:function(){var e,t,n,r;for(r={},t=0,n=qe.length;t<n;t++)(e=qe[t]).hadAttentionSinceLastGet()&&(r[e.name]=Math.round(e.getAttentionTime()));return r},registerComponent:function(e,t,n,r){return qe.push(new Ue(e,t,n,r))}};var Ve,Ke,Je,$e,Ye,Xe,Qe,et,tt,nt,rt,it,ot;Ve=["focus","click","scroll","mousemove","touchstart","touchend","touchcancel","touchleave","touchmove","keyup","keydown"],Ke=1e4,rt=0,it=null,tt=null,$e=null,ot=!1,Je=function(){return null!=$e&&window.clearTimeout($e),$e=null},Qe=function(){return null==it&&(it=performance.now()),We.startMonitoring(),Je(),$e=window.setTimeout((function(){if(!ot)return et()}),5e3)},Ye=function(){var e,t;if(null!=it)return e=performance.now(),t=Math.min(e-it,Ke),rt+=t,it=e},et=function(){return Je(),We.stopMonitoring(),Ye(),it=null},nt=function(){var e,t;if(Ye(),rt!==tt)return t={attentionMs:Math.round(rt)},e=We.getAttentionTimes(),Object.keys(e).length&&(t.componentAttentionMs=e),Ee.sendMore(t),tt=rt},Xe=function(e){var t,n,r;for(n=0,r=Ve.length;n<r;n++)t=Ve[n],window.addEventListener(t,Qe);return document.addEventListener(e.changeEvent,(function(){return"visible"===e.state()?Qe():et()}),!1),document.addEventListener("videoPlaying",(function(){return ot=!0,Qe()})),document.addEventListener("videoEnded",(function(){return ot=!1,et()})),document.addEventListener("videoPause",(function(){return ot=!1,et()})),window.setTimeout(nt,100),window.setInterval(nt,Ke)};const at={init:Xe,initComponent:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;return We.registerComponent(e,t,n,Ke)},setEventEmitter:function(e){return We.setEventEmitter(e)}};var st;const ct=function(){return st((function(e){var t;return t={inPrivateBrowsingMode:e},Ee.sendMore(t)}))};st=function(e){var t,n,r,i;return t=function(){return e(!1)},n=function(){return e(!0)},i=function(){try{return localStorage.length||(localStorage.x=1,localStorage.removeItem("x")),t()}catch(e){return e,n()}},r=function(){var e;try{return(e=indexedDB.open("test")).onsuccess=t,e.onerror=n}catch(e){return e,n()}},window.webkitRequestFileSystem?window.webkitRequestFileSystem(window.TEMPORARY,1,t,n):"MozAppearance"in document.documentElement.style?r():/constructor/i.test(window.HTMLElement)?i():window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?t():n()};var lt;lt=!1;const ut=function(){var e;return e=function(){var e;if("undefined"!=typeof localStorage&&null!==localStorage&&!lt&&(lt=!0,"true"!==(e=window.location.search.replace(/^(?:.*[&\?]heatmap(?:\=([^&]*))?)?.*$/,"$1"))&&"false"!==e||(localStorage.ophan_heatmap=e),"true"===localStorage.ophan_heatmap||"show"===e))return document.body.appendChild(document.createElement("script")).src="//dashboard.ophan.co.uk/assets/js/heatmap-bookmarklet.js"},"complete"===document.readyState?e():"function"==typeof window.addEventListener?window.addEventListener("load",(function(){return e()}),!1):void 0};var dt,ft,pt;pt=function(e){var t,n;return"a"===(t=null!=e&&null!=(n=e.nodeName)?n.toLowerCase():void 0)?e:null==t||"body"===t?null:pt(e.parentNode)},dt=function(e){var t,n;return null==(t=null!=e&&null!=(n=e.nodeName)?n.toLowerCase():void 0)||"body"===t?null:("function"==typeof e.getAttribute?e.getAttribute("data-component"):void 0)||dt(e.parentNode)},ft=function(e){var t,n,r;return t=function(e){var t;return(null!=e&&null!=(t=e.nodeName)?t.toLowerCase():void 0)===document.body.nodeName.toLowerCase()},n=function(e){return e===document},r=function(e,i){var o;return null==e||t(e)||n(e)?i:(null!=(o=e.getAttribute("data-link-name"))&&i.push(o),r(e.parentNode,i))},r(e,(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).slice())},"function"==typeof document.addEventListener&&document.addEventListener("click",(function(e){var t,n;if(t=pt(e.target),null!=(n={from:[location.protocol,"//",location.host,location.pathname].join(""),to:t?t.href:void 0,referringComponent:dt(e.target),referringDataLinkNames:ft(e.target),refPlatform:He.servingPlatform(),refViewId:He.viewId}).referringDataLinkNames&&Ee.sendMore({clickComponent:n.referringComponent,clickLinkNames:n.referringDataLinkNames}),null!=t)return He.storeDataToSendOnNextEvent(n)}),!1);const vt=ft;var mt;mt=window.performance||window.msPerformance||window.webkitPerformance||window.mozPerformance,He.onLoadCapture((function(){var e;return null!=(e=null!=mt?mt.timing:void 0)?{performance:{dns:e.domainLookupEnd-e.domainLookupStart,connection:e.connectEnd-e.connectStart,firstByte:e.responseStart-e.connectEnd,lastByte:e.responseEnd-e.responseStart,domContentLoadedEvent:e.domContentLoadedEventStart-e.responseEnd,loadEvent:e.loadEventStart-e.domContentLoadedEventStart,navType:mt.navigation.type,redirectCount:mt.navigation.redirectCount}}:{}}));var gt,ht,bt,wt,yt,St,_t;St=[".theguardian.com",".dev-theguardian.com",".thegulocal.com"],ht=function(e){var t,n,r;(r=yt(e.origin))&&St.some((e=>r.endsWith(e)))&&("ophan-iframe-click-event"===e.data.type?(t=e.data.value,n=document.getElementById(e.data.iframeId),bt(n,t)):"ophan-iframe-component-event"===e.data.type&&(t=e.data.value,wt(t)))},yt=function(e){var t;try{return new URL(e).host}catch(e){if((t=e)instanceof TypeError)return null;throw t}},bt=function(e,t){e&&(t.clickLinkNames=vt(e,t.clickLinkNames)||t.clickLinkNames),window.guardian.ophan.record(t)},gt=function(e){return!(!e||"object"!=typeof e)&&!(!e.componentEvent||"object"!=typeof e.componentEvent)},wt=function(e){gt(e)&&window.guardian.ophan.record(e)},window.addEventListener("message",ht,!1),null!=(null!=(_t=window.guardian)?_t.ophan:void 0)?window.guardian.ophan:(He.init("next-gen"),ct(),ut(),null!=window.addEventListener&&at.init(Pe),null!=window.guardian?window.guardian:window.guardian={},window.guardian.ophan={setEventEmitter:at.setEventEmitter,trackComponentAttention:at.initComponent,record:Ee.sendMore,viewId:Ee.viewId,pageViewId:Ee.viewId});var Et,Pt=a(573),Ot=e=>e instanceof Error?e:"string"==typeof e?new Error(e):new Error(String(e)),kt=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=Ot(e);if(r>=Math.random()&&Pt.Z.captureException(i,{tags:t}),n)throw i.reported=!0,i},Ct={id:"BillboardsInMerchHigh",author:"@commercial-dev",start:"2022-12-07",expiry:"2023-11-30",audience:0,audienceOffset:0,audienceCriteria:"Opt in only",successMeasure:"Test the commercial impact of showing billboard adverts in merchandising-high slots",description:"Show billboard adverts in merchandising-high slots to browsers in the variant",variants:[{id:"control",test:()=>{}},{id:"variant",test:()=>{}}],canRun:()=>!0},jt=a(6892),At={id:"ConsentlessAds",author:"@commercial-dev",start:"2022-08-11",expiry:"2023-06-01",audience:0,audienceOffset:0,audienceCriteria:"All pageviews",successMeasure:"Testing Opt Out ads in production",description:"Use consentless ad stack rather than consented / standalone",variants:[{id:"control",test:jt.Z},{id:"variant",test:jt.Z}],canRun:()=>!0},xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=Math.pow(10,t);return Math.round(e*n)/n};function Tt(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Dt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Tt(o,r,i,a,s,"next",e)}function s(e){Tt(o,r,i,a,s,"throw",e)}a(void 0)}))}}!function(e){e.PROD="https://performance-events.guardianapis.com/core-web-vitals",e.CODE="https://performance-events.code.dev-guardianapis.com/core-web-vitals"}(Et||(Et={}));var Nt,It,Mt={browser_id:null,page_view_id:null,fid:null,cls:null,lcp:null,fcp:null,ttfb:null,inp:null},Bt=new Set,Lt=!1,Ft=!1,Rt=()=>{Ft||null!==Mt.fcp&&(Ft=navigator.sendBeacon(Nt,JSON.stringify(Mt)),Bt.size>0&&Bt.forEach((e=>{(0,t.c)(e,Ft?"Core Web Vitals payload successfully queued for transfer":"Failed to queue Core Web Vitals payload for transfer")})))},Zt=e=>{switch(e.name){case"FCP":Mt.fcp=xt(e.value);break;case"CLS":Mt.cls=xt(e.value);break;case"LCP":Mt.lcp=xt(e.value);break;case"FID":Mt.fid=xt(e.value);break;case"TTFB":Mt.ttfb=xt(e.value);break;case"INP":Mt.inp=xt(e.value)}},zt=e=>{switch(e.type){case"visibilitychange":return void("hidden"===document.visibilityState&&Rt());case"pagehide":return void Rt()}},Ht=function(){var e=Dt((function*(){var e=yield Promise.resolve().then(a.bind(a,5260)),{onCLS:t,onFCP:n,onFID:r,onLCP:i,onTTFB:o,onINP:s}=e;t(Zt,{reportAllChanges:!1}),r(Zt),i(Zt),n(Zt),o(Zt),s(Zt),addEventListener("visibilitychange",zt),addEventListener("pagehide",zt)}));return function(){return e.apply(this,arguments)}}(),Ut=function(){var e=Dt((function*(e){if(Lt)return e&&Bt.add(e),Ht();console.warn("initCoreWebVitals not yet initialised")}));return function(t){return e.apply(this,arguments)}}(),qt=a(5336),Gt=a(3091),Wt=e=>"getEntriesByType"in window.performance?window.performance.getEntriesByType("measure").flatMap((t=>{var{entryType:n,name:r,duration:i,startTime:o}=t,a=(e=>{var[t,n,r]=e.split(":");return(0,qt.H)(t)&&(0,Gt.HU)(t)&&(0,qt.H)(n)?{team:t,name:n,action:r}:void 0})(r);return"measure"===n&&a&&e.includes(a.team)?{name:r,detail:a,duration:i,entryType:n,startTime:o,toJson:()=>JSON.stringify(void 0)}:[]})):[],Vt=a(4367);function Kt(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Jt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Kt(o,r,i,a,s,"next",e)}function s(e){Kt(o,r,i,a,s,"throw",e)}a(void 0)}))}}!function(e){e.CODE="//performance-events.code.dev-guardianapis.com/commercial-metrics",e.PROD="//performance-events.guardianapis.com/commercial-metrics"}(It||(It={}));var $t,Yt={page_view_id:void 0,browser_id:void 0,platform:"NEXT_GEN",metrics:[],properties:[]},Xt=[],Qt=[],en=!1,tn=e=>Object.entries(e),nn=e=>e.map((e=>{var[t,n]=e;return{name:String(t),value:String(n)}})),rn=(e,t)=>{var n=e.map((e=>{var{name:t,ts:n}=e;return{name:t,value:Math.ceil(n)}})),r=t.map((e=>{var{name:t,duration:n}=e;return{name:t,value:Math.ceil(n)}}));return[...n,...r]};var on=()=>"number"==typeof window.guardian.offlineCount?[{name:"offlineCount",value:window.guardian.offlineCount}]:[],an=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Wt(t).map((e=>{var{detail:{team:t,name:n,action:r},duration:i}=e;return{name:[t,n,r].filter(Vt.C).join("_"),value:i}}))};function sn(){var e=p.get(),n=tn(e.properties).filter((e=>void 0!==e[1])),r=nn(n).concat(Xt).concat(Qt);Yt.properties=r;var i=rn(e.marks,e.measures).concat(on()).concat(an("dotcom"));Yt.metrics=i,(0,t.c)("commercial","About to send commercial metrics",Yt),navigator.sendBeacon($t,JSON.stringify(Yt))}var cn=e=>{switch(e.type){case"visibilitychange":return void("hidden"===document.visibilityState&&sn());case"pagehide":return void sn()}},ln=()=>{window.addEventListener("visibilitychange",cn,{once:!0}),window.addEventListener("pagehide",cn,{once:!0})},un=function(){var t=Jt((function*(){var t=yield(0,e.B4)();if(t.tcfv2){var n=t.tcfv2.consents;return[7,8].every((e=>n[e]))}return!0}));return function(){return t.apply(this,arguments)}}();function dn(){return fn.apply(this,arguments)}function fn(){return(fn=Jt((function*(){en?(yield un())?ln():(0,t.c)("commercial","Metrics won't be sent because consent wasn't given"):console.warn("initCommercialMetrics not yet initialised")}))).apply(this,arguments)}var pn=()=>{dn(),Ut()},vn={id:"EagerPrebid2",author:"@commercial-dev",start:"2023-09-26",expiry:"2023-10-31",audience:.01,audienceOffset:0,audienceCriteria:"All pageviews",successMeasure:"Ads lazy load faster, without affecting the page load time",description:"Test the impact of running prebid lazily",variants:[{id:"control",test:pn},{id:"variant-1",test:pn},{id:"variant-2",test:pn}],canRun:()=>!0},mn={id:"ElementsManager",author:"@commercial-dev",start:"2023-02-23",expiry:"2023-06-30",audience:0,audienceOffset:0,audienceCriteria:"Opt in only",successMeasure:"Able to serve GEM assets in ad slots on page",description:"Test serving GEM assets in ad slots on page",variants:[{id:"control",test:jt.Z},{id:"variant",test:jt.Z}],canRun:()=>!0},gn={id:"PrebidKargo",author:"@commercial-dev",start:"2023-08-10",expiry:"2023-09-29",audience:0,audienceOffset:0,audienceCriteria:"USA only",successMeasure:"",description:"Test Kargo as a prebid bidder for US traffic",variants:[{id:"control",test:()=>{}},{id:"variant",test:()=>{}}],canRun:()=>!0},hn=[{id:"SignInGateMainVariant",start:"2020-05-20",expiry:"2025-12-01",author:"Mahesh Makani",description:"Show sign in gate to 100% of users on 3rd article view of simple article templates, with higher priority over banners and epic. Main/Variant Audience.",audience:.8,audienceOffset:.1,successMeasure:"Users sign in or create a Guardian account",audienceCriteria:"3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics",ophanComponentId:"main_variant_4",dataLinkNames:"SignInGateMain",idealOutcome:"Increase the number of users signed in whilst running at a reasonable scale",showForSensitive:!1,canRun:()=>!0,variants:[{id:"main-variant-4",test:()=>{}}]},{id:"SignInGateMainControl",start:"2020-05-20",expiry:"2025-12-01",author:"Mahesh Makani",description:"Show sign in gate to 100% of users on 3rd article view of simple article templates, with higher priority over banners and epic. Control Audience.",audience:.1,audienceOffset:.9,successMeasure:"N/A - User does not see gate, only to compare to variant.",audienceCriteria:"3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics",ophanComponentId:"main_control_4",dataLinkNames:"SignInGateMain",idealOutcome:"Increase the number of users signed in whilst running at a reasonable scale",showForSensitive:!1,canRun:()=>!0,variants:[{id:"main-control-4",test:()=>{}}]},{id:"SignInGateCopyTestJan2023",start:"2023-01-23",expiry:"2023-05-01",author:"Lindsey Dew",description:"Test varying the copy in the call to action for sign in gate",audience:.1,audienceOffset:0,successMeasure:"Users sign in or create a Guardian account",audienceCriteria:"3rd article of the day, lower priority than consent banner, simple articles (not gallery, live etc.), not signed in, not shown after dismiss, not on help, info sections etc. Exclude iOS 9 and guardian-live-australia. Suppresses other banners, and appears over epics",dataLinkNames:"SignInGateCopyTest",idealOutcome:"One variants performs at least 2% better than the control and/OR 10% better than the other variant. Neither variant performs 5% worse than the control",showForSensitive:!1,canRun:()=>!0,variants:[{id:"quick-and-easy",test:()=>{}},{id:"take-a-moment",test:()=>{}},{id:"sign-in-copy-control",test:()=>{}}]},At,{id:"IntegrateIma",start:"2022-07-14",expiry:"2023-04-04",author:"Zeke Hunter-Green",description:"Test the commercial impact of replacing YouTube ads with Interactive Media Ads on first-party videos",audience:0,audienceOffset:0,audienceCriteria:"Opt in",successMeasure:"IMA integration works as expected without adversely affecting pages with videos",canRun:()=>!0,variants:[{id:"control",test:()=>jt.Z},{id:"variant",test:()=>jt.Z}]},Ct,mn,vn,{id:"PublicGoodTest",author:"@commercial-dev",start:"2023-08-22",expiry:"2023-09-15",audience:.1,audienceOffset:0,audienceCriteria:"USA only",successMeasure:"No significant impact to UX",description:"Test public good messaging on articles",variants:[{id:"control",test:()=>{}},{id:"variant",test:()=>{}}],canRun:()=>!0},gn];var bn,wn=(0,L.Z)((()=>(e=>e.reduce(((e,t)=>{var n=Se(t);return n?[...e,n]:e}),[]))(hn))),yn=()=>wn().reduce(((e,t)=>{var{id:n,variantToRun:r}=t;return $($({},e),{[n]:{variant:r.id}})}),{}),Sn=(e,t)=>wn().some((n=>{var{id:r,variantToRun:i}=n;return r===e.id&&i.id===t})),_n=a(8400),En=a(5280),Pn=En.E,On={renderStartTime:-1,adSlotSelector:".js-ad-slot",lazyLoadEnabled:!1,lazyLoadObserve:"IntersectionObserver"in window,creativeIDs:[],advertIds:{},advertsToLoad:[],adverts:[],shouldLazyLoad:()=>"1"!==Pn().dll&&(!!["mobile","tablet"].includes((0,_n.bc)())||!window.guardian.config.page.hasPageSkin)};window.guardian.commercial=null!==(bn=window.guardian.commercial)&&void 0!==bn?bn:{},window.guardian.commercial.dfpEnv=On;var kn=a(606),Cn=[On.adSlotSelector,".top-banner-ad-container"],jn=()=>Cn.reduce(((e,t)=>[...e,...Array.from(document.querySelectorAll(t))]),[]),An=e=>"none"===window.getComputedStyle(e).display,xn=e=>kn.Z.mutate((()=>e.forEach((e=>{(0,t.c)("commercial","Removing ad slot ".concat(e.id)),e.remove()})))),Tn=()=>Sn(mn,"variant")?Promise.resolve():xn(jn()),Dn=M((()=>xn(jn().filter(An)))),Nn=M((()=>B.d.adFree?Tn():Promise.resolve())),In=a(1401),Mn=e=>{var t,n=On.advertIds[e];return void 0!==n&&null!==(t=On.adverts[n])&&void 0!==t?t:null};const Bn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};var Ln=a(6802),Fn="[object Arguments]";const Rn=function(e){return y(e)&&(0,w.Z)(e)==Fn};var Zn=Object.prototype,zn=Zn.hasOwnProperty,Hn=Zn.propertyIsEnumerable;const Un=Rn(function(){return arguments}())?Rn:function(e){return y(e)&&zn.call(e,"callee")&&!Hn.call(e,"callee")};const qn=Array.isArray;var Gn=Ln.Z?Ln.Z.isConcatSpreadable:void 0;const Wn=function(e){return qn(e)||Un(e)||!!(Gn&&e&&e[Gn])};const Vn=function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=Wn),o||(o=[]);++a<s;){var c=t[a];n>0&&r(c)?n>1?e(c,n-1,r,i,o):Bn(o,c):i||(o[o.length]=c)}return o};const Kn=function(e){return(null==e?0:e.length)?Vn(e,1):[]};var Jn,$n=a(578),Yn=()=>Sn(Ct,"variant"),Xn={UK:"GB",US:"US",AU:"AU"},Qn="GU_geo_country",er=()=>{var e,t,n=window.guardian.config.page.edition,r=K.t.local.get("gu.geo.override");return null!==(e=null!==(t=(0,qt.H)(r)?r:null)&&void 0!==t?t:(0,Z.e)({name:Qn,shouldMemoize:!0}))&&void 0!==e?e:function(){return Xn[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"UK"]}(n)},tr={GBPCountries:{name:"United Kingdom",currency:"GBP",countries:["GB","FK","GI","GG","IM","JE","SH"],supportInternationalisationId:"uk"},UnitedStates:{name:"United States",currency:"USD",countries:["US"],supportInternationalisationId:"us"},AUDCountries:{name:"Australia",currency:"AUD",countries:["AU","KI","NR","NF","TV"],supportInternationalisationId:"au"},EURCountries:{name:"Europe",currency:"EUR",countries:["AD","AL","AT","BA","BE","BG","BL","CH","CY","CZ","DE","DK","EE","ES","FI","FO","FR","GF","GL","GP","GR","HR","HU","IE","IT","LI","LT","LU","LV","MC","ME","MF","IS","MQ","MT","NL","NO","PF","PL","PM","PT","RE","RO","RS","SE","SI","SJ","SK","SM","TF","TR","WF","YT","VA","AX"],supportInternationalisationId:"eu"},International:{name:"International",currency:"USD",countries:["AE","AF","AG","AI","AM","AO","AQ","AR","AS","AW","AZ","BB","BD","BF","BH","BI","BJ","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CC","CD","CF","CG","CI","CL","CM","CN","CO","CR","CU","CV","CW","CX","DJ","DM","DO","DZ","EC","EG","EH","ER","ET","FJ","FM","GA","GD","GE","GH","GM","GN","GQ","GS","GT","GU","GW","GY","HK","HM","HN","HT","ID","IL","IN","IO","IQ","IR","JM","JO","JP","KE","KG","KH","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LK","LR","LS","LY","MA","MD","MG","MH","MK","ML","MM","MN","MO","MP","MR","MS","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NG","NI","NP","NU","OM","PA","PE","PG","PH","PK","PN","PR","PS","PW","PY","QA","RU","RW","SA","SB","SC","SD","SG","SL","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TG","TH","TJ","TK","TL","TM","TN","TO","TT","TW","TZ","UA","UG","UM","UY","UZ","VC","VE","VG","VI","VN","VU","WS","YE","ZA","ZM","ZW"],supportInternationalisationId:"int"},NZDCountries:{name:"New Zealand",currency:"NZD",countries:["NZ","CK"],supportInternationalisationId:"nz"},Canada:{name:"Canada",currency:"CAD",countries:["CA"],supportInternationalisationId:"ca"}},nr=e=>tr[(e=>{var t=Object.keys(tr).find((t=>tr[t].countries.includes(e)));return null!=t?t:"International"})(e)].supportInternationalisationId,rr=()=>{var e;return Jn=null!==(e=Jn)&&void 0!==e?e:er()},ir=()=>"GB"===rr(),or=()=>"US"===rr(),ar=()=>"CA"===rr(),sr=()=>or()||ar(),cr=()=>"AU"===rr()||"NZ"===rr(),lr=()=>!ir()&&!sr()&&!cr(),ur={},dr=(e,t)=>{var n,r=null!==(n=ur[t])&&void 0!==n?n:ur[t]=new RegExp("".concat(t,"$"));return e.replace(r,"")},fr={},pr=(e,t)=>Boolean(e.find((e=>e[0]===t[0]&&e[1]===t[1]))),vr=e=>((e,t)=>{var n,r=null!==(n=fr[t])&&void 0!==n?n:fr[t]=new RegExp("^".concat(t));return e.replace(r,"")})(e,"dfp-ad--"),mr=e=>pr(e,(0,$n.PH)(300,250)),gr=e=>pr(e,(0,$n.PH)(300,600)),hr=e=>pr(e,(0,$n.PH)(728,90)),br=e=>pr(e,(0,$n.PH)(970,250)),wr=e=>br(e)&&!hr(e),yr=e=>mr(e)||gr(e),Sr=e=>pr(e,(0,$n.PH)(320,50)),_r=e=>hr(e)||br(e),Er=()=>{switch((0,_n.vv)()){case"mobile":case"mobileMedium":case"mobileLandscape":default:return"M";case"phablet":case"tablet":return"T";case"desktop":case"leftCol":case"wide":return"D"}},Pr=e=>mr(e),Or=()=>{var e;return!ar()&&!cr()&&null!==(e=window.guardian.config.switches.prebidOzone)&&void 0!==e&&e},kr=M((()=>window.location.hash.includes("#mobile-sticky")||(0,_n.qZ)({min:"mobile",max:"mobileLandscape"})&&(sr()||cr())&&"Article"===window.guardian.config.page.contentType&&!window.guardian.config.page.isHosted)),Cr=e=>dr(dr(e,"--mobile"),"Mobile"),jr=window.location.hash.includes("#only-a9"),Ar=()=>{switch(Er()){case"M":return"mobile";case"T":return"tablet";default:return"desktop"}},xr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{var{key:n,sizes:r}=t;return"inline"!==n?{key:n,sizes:r}:{key:n,sizes:r.filter((t=>{var[n,r]=t;return e.some((e=>n===e.width&&r===e.height))}))}}},Tr=(e,t,n)=>{var r,i,o,a=(e=>Object.keys(e).filter((e=>"inline"!==e)))(n),s=(i=a,o=e.node.dataset.name,i.some((e=>e===o))?o:null!=o&&o.includes("inline")?"inline":null!=o&&o.includes("fronts-banner")?"fronts-banner":void 0);if(!s)return[];var c=null===(r=n[s])||void 0===r?void 0:r[t];return!c||c.length<1?[]:[{key:s,sizes:c}]},Dr=()=>{var{contentType:e,hasShowcaseMainElement:t}=window.guardian.config.page,n="Article"===e,r="Crossword"===e,i=n&&window.guardian.config.switches.extendedMostPopular;return{right:{desktop:t?[$n.ZN.mpu]:[$n.ZN.halfPage,$n.ZN.mpu],tablet:t?[$n.ZN.mpu]:[$n.ZN.halfPage,$n.ZN.mpu],mobile:t?[$n.ZN.mpu]:[$n.ZN.halfPage,$n.ZN.mpu]},"top-above-nav":{desktop:[$n.ZN.billboard,$n.ZN.leaderboard],tablet:[$n.ZN.leaderboard],mobile:[$n.ZN.mpu]},"fronts-banner":{desktop:[$n.ZN.billboard]},inline:{desktop:n?[$n.ZN.skyscraper,$n.ZN.halfPage,$n.ZN.mpu]:[$n.ZN.mpu],tablet:[$n.ZN.mpu],mobile:[$n.ZN.mpu]},inline1:{desktop:n?[$n.ZN.mpu,$n.ZN.outstreamDesktop]:[$n.ZN.mpu],tablet:n?[$n.ZN.mpu,$n.ZN.outstreamDesktop]:[$n.ZN.mpu],mobile:n?[$n.ZN.outstreamMobile,$n.ZN.mpu,$n.ZN.portraitInterstitial]:[$n.ZN.mpu]},inline2:{desktop:n?[$n.ZN.skyscraper,$n.ZN.halfPage,$n.ZN.mpu]:[$n.ZN.mpu],tablet:[$n.ZN.mpu],mobile:n?[$n.ZN.mpu,$n.ZN.portraitInterstitial]:[$n.ZN.mpu]},mostpop:{desktop:i?[$n.ZN.halfPage,$n.ZN.mpu]:[$n.ZN.mpu],tablet:i?[$n.ZN.halfPage,$n.ZN.mpu,$n.ZN.leaderboard]:[$n.ZN.mpu],mobile:[$n.ZN.mpu]},comments:{desktop:[$n.ZN.skyscraper,$n.ZN.mpu,$n.ZN.halfPage]},banner:{desktop:[(0,$n.PH)(88,70),$n.ZN.leaderboard,$n.ZN.cascade,(0,$n.PH)(900,250),$n.ZN.billboard]},"mobile-sticky":{mobile:kr()?[$n.ZN.mobilesticky]:[]},"crossword-banner":{desktop:r?[$n.ZN.leaderboard]:[],tablet:r?[$n.ZN.leaderboard]:[]},"merchandising-high":{desktop:Yn()?[$n.ZN.billboard]:[]}}},Nr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>[e],n=Ar();return Tr(e,n,Dr()).map(xr(e.sizes[n])).map(t).reduce(((e,t)=>e.concat(t)),[])};function Ir(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Mr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Br{constructor(e,t){Mr(this,"slotID",void 0),Mr(this,"slotName",void 0),Mr(this,"sizes",void 0),this.slotID=e.id,this.slotName=window.guardian.config.page.adUnit,this.sizes=t.sizes.map((e=>Array.from(e)))}}var Lr=!1,Fr=Promise.resolve(),Rr={initialise:()=>{!Lr&&window.apstag&&(Lr=!0,window.apstag.init({pubID:window.guardian.config.page.a9PublisherId,adServer:"googletag",bidTimeout:1500}))},requestBids:function(){var e,t=(e=function*(e,t){if(!Lr)return Fr;if(!window.guardian.config.switches.a9HeaderBidding)return Fr;var n=Kn(e.map((e=>Nr(e,t).map((t=>new Br(e,t))))));return 0===n.length?Fr:Fr=Fr.then((()=>new Promise((e=>{var t;null===(t=window.apstag)||void 0===t||t.fetchBids({slots:n},(()=>{window.googletag.cmd.push((()=>{var t;null===(t=window.apstag)||void 0===t||t.setDisplayBids(),e()}))}))})))).catch(jt.Z)},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ir(o,r,i,a,s,"next",e)}function s(e){Ir(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}()},Zr=function(e,t,n,r,i){if(i)e=i(e,t,n);else{var o=[];try{var a=JSON.parse(localStorage._psegs||"[]").map(String),s=JSON.parse(localStorage._ppam||"[]"),c=JSON.parse(localStorage._pcrprs||"[]");o=[...a,...s,...c]}catch(e){}n&&t.ac&&t.ac.length>0&&(o=o.concat(t.ac)),o=o.map((function(e){return{id:e}})),pbjs.setBidderConfig({bidders:["pubmatic"],config:{ortb2:{user:{data:[{name:"permutive.com",segment:o}]}}}})}},zr=a(675),Hr=M((e=>{return t={sens:e.sens,pt1:e.url,pt2:e.edition,pt3:e.ct,pt4:e.p,pt5:e.k,pt6:e.su,pt7:e.bp,pt9:[e.pv,e.co,e.tn].join("|"),permutive:e.permutive},Object.entries(t).reduce(((e,t)=>{var[n,r]=t;return r?((0,qt.H)(r)&&(e[n]=r),Array.isArray(r)&&r.length>0&&r.some(Boolean)&&r.every(qt.H)&&(e[n]=r.filter(Boolean)),e):e}),{});var t})),Ur=M((e=>{return t=Hr(e),n=Object.entries(t).map((e=>{var[t,n]=e;return Array.isArray(n)?n.map((e=>"".concat(t,"=").concat(e))):"".concat(t,"=").concat(n)})),Array.prototype.concat.apply([],n).join(",");var t,n})),qr=(e,n)=>{var{page:r}=window.guardian.config,i=(0,zr.l)({adFree:B.d.adFree,clientSideParticipations:yn(),consentState:e,isSignedIn:n});return r.appNexusPageTargeting=Ur(i),r.pageAdTargeting=i,(0,t.c)("commercial","pageTargeting object:",i),i},Gr=a(6385);function Wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wr(Object(n),!0).forEach((function(t){Kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr=(e,t)=>{if(cr())return"11016434";var n="9251752";switch(Er()){case"D":return(t||Yn())&&wr(e)?"30017511":yr(e)?"9251752":_r(e)?"9926678":n;case"M":return mr(e)?"4298191":n;case"T":return mr(e)?"4371641":hr(e)?"4371640":n;default:return n}},$r=(e,t,n)=>{if(cr()&&window.guardian.config.switches.prebidAppnexusInvcode){var r=(e=>{var t="M"===Er()?"M":"D",n=window.guardian.config.page.section||window.guardian.config.page.sectionName.replace(/ /g,"-"),r=(e=>e.length>0?e.reduce(((e,t)=>e[0]>=t[0]&&e[1]>=t[1]?e:t)):null)(e);if(r)return"".concat(t).concat(n.toLowerCase()).concat(r.join("x"))})(e);if(r)return{invCode:r,member:"7012",keywords:Vr({invc:[r]},Hr(t))}}return{placementId:Jr(e,n),keywords:Hr(t)}},Yr=(e,t)=>{if(ir())switch(Er()){case"D":return(t||Yn())&&wr(e)?22987847:yr(e)?1116396:_r(e)?1116397:-1;case"M":return yr(e)?1116400:-1;case"T":return yr(e)?1116398:_r(e)?1116399:-1;default:return-1}if(lr())switch(Er()){case"D":return yr(e)?1116420:_r(e)?1116421:-1;case"M":return yr(e)?1116424:-1;case"T":return yr(e)?1116422:_r(e)?1116423:-1;default:return-1}return-1},Xr=(e,t)=>{var n,r=(n=Cr(e),dr(n,"([2-9]|\\d{2,})"));return r&&(r.endsWith("mostpop")||r.endsWith("comments")||r.endsWith("inline1")||r.endsWith("inline")&&!t)?{w:300,h:250}:{}};function Qr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qr(Object(n),!0).forEach((function(t){ti(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ti(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ni="Article"===window.guardian.config.page.contentType,ri="D"===Er()&&ni,{tests:ii}=window.guardian.config,oi="variant"===(null==ii?void 0:ii.frontsBannerAdsVariant),ai=(e,n)=>{switch(Cr(e)){case"dfp-ad--inline1":return"2960";case"dfp-ad--inline2":return n?"3826":"3827";case"dfp-ad--inline3":return n?"3828":"3829";case"dfp-ad--inline4":return n?"3830":"3831";case"dfp-ad--inline5":return n?"3832":"3833";case"dfp-ad--inline6":return n?"3834":"3835";case"dfp-ad--inline7":return n?"3836":"3837";case"dfp-ad--inline8":return n?"3838":"3839";case"dfp-ad--inline9":return n?"3840":"3841";case"dfp-ad--mostpop":return"2961";case"dfp-ad--right":return"2962";case"dfp-ad--top-above-nav":return"2963";case"dfp-ad--comments":return"3840";case"dfp-ad--mobile-sticky":return"8519";default:return e.startsWith("dfp-ad--inline")?n?"3840":"3841":((0,t.c)("commercial","PREBID: Failed to get TrustX ad unit for slot ".concat(e,".")),"")}},si=()=>{var e=window.guardian.config.page.pbIndexSites.find((e=>e.bp===Er()));return null!=e&&e.id?e.id.toString():""},ci=e=>{switch(Er()){case"D":return yr(e)?20943665:_r(e)?20943666:20943668;case"M":return yr(e)?20943669:20943670;case"T":return yr(e)?20943671:_r(e)?20943672:20943674;default:return-1}},li=(e,t)=>{if(hr(t)){if(sr())return"theguardian_topbanner_728x90_prebid";if(cr())return"theguardian_topbanner_728x90_prebid_AU"}if(mr(t)){if(sr())return ni?"theguardian_article_300x250_prebid":"theguardian_sectionfront_300x250_prebid";if(cr())return ni?"theguardian_article_300x250_prebid_AU":"theguardian_sectionfront_300x250_prebid_AU"}if(Sr(t)){if(sr())return"theguardian_320x50_HDX";if(cr())return"theguardian_320x50_HDX_AU"}return""},ui=()=>Object.keys((0,En.B)()).length>0,di=e=>({name:"and",switchName:"prebidAppnexus",bidParams:(t,n)=>$r(n,e,oi)}),fi=e=>({name:"oxd",switchName:"prebidOpenx",bidParams:()=>sr()?{delDomain:"guardian-us-d.openx.net",unit:"540279544",customParams:Hr(e)}:cr()?{delDomain:"guardian-aus-d.openx.net",unit:"540279542",customParams:Hr(e)}:{delDomain:"guardian-d.openx.net",unit:"540279541",customParams:Hr(e)}}),pi=e=>{if(or()){if("D"===Er()){if(br(e))return"3500010912";if(mr(e))return"3500010911"}return"1420436308"}return"0420420500"},vi=e=>({name:"ozone",switchName:"prebidOzone",bidParams:(t,n)=>({publisherId:"OZONEGMG0001",siteId:"4204204209",placementId:pi(n),customData:[{settings:{},targeting:ei({testgroup:String(Math.floor(100*Math.random()))},Hr(e))}],ozoneData:{}})}),mi=e=>({name:"sonobi",switchName:"prebidSonobi",bidParams:t=>({ad_unit:window.guardian.config.page.adUnit,dom_id:t,appNexusTargeting:Ur(e),pageViewId:window.guardian.ophan.pageViewId})}),gi=e=>"D"===Er()?_r(e)?"_yflg9S7c2x":mr(e)&&gr(e)?"_zOpeEAyfiz":"_qDBbBXYtzA":Sr(e)?"_odszPLn2hK":"_y9LINEsbfh",hi=e=>{var t={name:"pubmatic",switchName:"prebidPubmatic",bidParams:e=>({publisherId:sr()?"157206":cr()?"157203":"157207",adSlot:vr(e)})};return(oi||Yn())&&wr(e)?ei(ei({},t),{},{bidParams:e=>ei(ei({},t.bidParams(e)),{},{placementId:"theguardian_970x250_only"})}):t},bi={name:"trustx",switchName:"prebidTrustx",bidParams:e=>({uid:ai(e,ri)})},wi={name:"triplelift",switchName:"prebidTriplelift",bidParams:(e,t)=>({inventoryCode:li(0,t)})},yi={name:"improvedigital",switchName:"prebidImproveDigital",bidParams:(e,t)=>({publisherId:995,placementId:Yr(t,oi),size:Xr(e,ri)})},Si={name:"improvedigital",switchName:"prebidImproveDigitalSkins",bidParams:()=>({placementId:ir()?"D"===Er()?22526482:-1:lr()&&"D"===Er()?22526483:-1,size:{}})},_i={name:"xhb",switchName:"prebidXaxis",bidParams:(e,t)=>({placementId:ci(t)})},Ei={name:"adyoulike",switchName:"prebidAdYouLike",bidParams:()=>ir()?{placement:"2b4d757e0ec349583ce704699f1467dd"}:sr()?{placement:"7fdf0cd05e1d4bf39a2d3df9c61b3495"}:cr()?{placement:"5cf05e1705a2d57ba5d51e03f2af9208"}:{placement:"c1853ee8bfe0d4e935cbf2db9bb76a8b"}},Pi=e=>{var t={name:"criteo",switchName:"prebidCriteo"};return(oi||Yn())&&wr(e)?ei(ei({},t),{},{bidParams:()=>({zoneId:1759354})}):ei(ei({},t),{},{bidParams:()=>({networkId:337})})},Oi={name:"smartadserver",switchName:"prebidSmart",bidParams:()=>({siteId:465656,pageId:1472549,formatId:105870})},ki={name:"kargo",switchName:"prebidKargo",bidParams:(e,t)=>({placementId:gi(t)})},Ci=(e,t)=>{var n=si();return(t||Yn())&&wr(e)&&(n="983842"),e.map((e=>({name:"ix",switchName:"prebidIndexExchange",bidParams:()=>({siteId:n,size:e})})))},ji=e=>e.filter((e=>(e=>{var t;return null!==(t=window.guardian.config.switches[e.switchName])&&void 0!==t&&t})(e))),Ai=(e,t)=>{var n=[[!cr(),Pi(e)],[ir()||lr(),Oi],[sr(),mi(t)],[sr(),bi],[sr()||cr(),wi],[cr()||window.guardian.config.switches.prebidAppnexusUkRow&&!sr()||!!(0,En.B)().and,di(t)],[ir()||lr(),yi],[!!window.guardian.config.switches.prebidImproveDigitalSkins&&window.guardian.config.page.isFront&&(ir()||lr())&&"D"===Er(),Si],[ir(),_i],[!0,hi(e)],[Pr(e),Ei],[Or(),vi(t)],[!sr(),fi(t)],[or()&&Sn(gn,"variant"),ki]].filter((e=>{var t,[n]=e;return t=n,ui()||t})).map((e=>{var[,t]=e;return t})),r=Ci(e,oi).concat(n);return ui()?(e=>e.filter((e=>(0,En.B)()[e.name])))(r):ji(r)},xi={buckets:[{max:10,increment:.01},{max:15,increment:.1},{max:100,increment:1}]},Ti={buckets:[{max:12,increment:.01},{max:20,increment:.05},{max:500,increment:1}]},Di=(e,t)=>{var n=[e,t].join(",");return n===$n.ZN.skyscraper.toString()||n===$n.ZN.halfPage.toString()?{buckets:[{max:10,increment:.01},{max:15,increment:.1},{max:50,increment:1}]}:n===$n.ZN.leaderboard.toString()||n===$n.ZN.billboard.toString()||n===$n.ZN.mpu.toString()||n===$n.ZN.outstreamDesktop.toString()||n===$n.ZN.outstreamMobile.toString()?{buckets:[{max:12,increment:.01},{max:20,increment:.1},{max:50,increment:1}]}:void 0},Ni=(e,t)=>{var n=[e,t].join(",");return n===$n.ZN.skyscraper.toString()||n===$n.ZN.halfPage.toString()?{buckets:[{max:10,increment:.01},{max:15,increment:.05},{max:50,increment:1}]}:n===$n.ZN.leaderboard.toString()||n===$n.ZN.billboard.toString()||n===$n.ZN.mpu.toString()?{buckets:[{max:12,increment:.01},{max:20,increment:.05},{max:50,increment:1}]}:void 0};function Ii(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Mi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ii(o,r,i,a,s,"next",e)}function s(e){Ii(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Bi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Li{constructor(e,n,r){Bi(this,"code",void 0),Bi(this,"bids",void 0),Bi(this,"mediaTypes",void 0),this.code=e.id,this.bids=((e,t,n)=>Ai(t,n).map((n=>({bidder:n.name,params:n.bidParams(e,t)}))))(e.id,n.sizes,r),this.mediaTypes={banner:{sizes:n.sizes}},e.headerBiddingSizes=n.sizes,(0,t.c)("commercial","PrebidAdUnit ".concat(this.code),this.bids)}isEmpty(){return null==this.code}}var Fi=400,Ri=1500,Zi=Promise.resolve(),zi=!1,Hi=function(){var n=Mi((function*(n,r){if(!zi)return Zi;if(!window.guardian.config.switches.prebidHeaderBidding)return Zi;var i=yield(0,e.B4)().then(function(){var e=Mi((function*(e){var t=yield(0,Gr.z5)(),i=qr(e,t);return Kn(n.map((e=>Nr(e,r).map((t=>new Li(e,t,i))).filter((e=>!e.isEmpty())))))}));return function(t){return e.apply(this,arguments)}}()).catch((e=>((0,t.c)("commercial","Failed to execute prebid onConsent",e),[]))),o=p.get();return Zi=Zi.then((()=>new Promise((e=>{var t;i.forEach((e=>{(0,qt.H)(e.code)&&o.mark("prebidStart",vr(e.code))})),null===(t=window.pbjs)||void 0===t||t.que.push((()=>{var t;null===(t=window.pbjs)||void 0===t||t.requestBids({adUnits:i,bidsBackHandler:()=>{((e,t)=>new Promise((n=>{var r;null===(r=window.pbjs)||void 0===r||r.setTargetingForGPTAsync(e.map((e=>e.code)).filter(qt.H)),n(),e.forEach((e=>{(0,qt.H)(e.code)&&t.mark("prebidEnd",vr(e.code))}))})))(i,o).then(e)}})}))})))),Zi}));return function(e,t){return n.apply(this,arguments)}}(),Ui={initialise:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tcfv2";if(e.pbjs){zi=!0;var r,i=e.guardian.config.switches.prebidUserSync?{syncsPerBidder:0,filterSettings:{all:{bidders:"*",filter:"include"}}}:{syncEnabled:!1},o=Object.assign({},{bidderTimeout:Ri,timeoutBuffer:Fi,priceGranularity:xi,userSync:i});if(e.pbjs.bidderSettings={},e.guardian.config.switches.consentManagement&&(o.consentManagement=(()=>{switch(n){case"aus":case"ccpa":return{usp:{cmpApi:"iab",timeout:1500}};default:return{gdpr:{cmpApi:"iab",timeout:200,defaultGdprScope:!0}}}})()),e.guardian.config.switches.permutive&&e.guardian.config.switches.prebidPermutiveAudience&&(o.realTimeData={dataProviders:[{name:"permutive",params:{acBidders:["appnexus","ix","ozone","pubmatic","trustx"],overwrites:{pubmatic:Zr}}}]}),e.guardian.config.switches.prebidCriteo&&(e.pbjs.bidderSettings.criteo={storageAllowed:!0},o.criteo={fastBidVersion:"latest"},e.pbjs.setBidderConfig({bidders:["criteo"],config:{customPriceBucket:Ti}})),e.guardian.config.switches.prebidOzone&&e.pbjs.setBidderConfig({bidders:["ozone"],config:{guCustomPriceBucket:e=>{var{width:n,height:r}=e,i=Di(n,r);return(0,t.c)("commercial","Custom Prebid - Ozone price bucket for size (".concat(n,",").concat(r,"):"),i),i}}}),e.guardian.config.switches.prebidIndexExchange&&e.pbjs.setBidderConfig({bidders:["ix"],config:{guCustomPriceBucket:e=>{var{width:n,height:r}=e,i=Ni(n,r);return(0,t.c)("commercial","Custom Prebid - Index price bucket for size (".concat(n,",").concat(r,"):"),i),i}}}),e.guardian.config.switches.prebidAnalytics)e.pbjs.enableAnalytics([{provider:"gu",options:{ajaxUrl:null!==(r=e.guardian.config.page.ajaxUrl)&&void 0!==r?r:"",pv:e.guardian.ophan.pageViewId}}]);if(e.guardian.config.switches.prebidXaxis&&(e.pbjs.bidderSettings.xhb={adserverTargeting:[{key:"hb_buyer_id",val(e){var t,n;return null!==(t=null===(n=e.appnexus)||void 0===n?void 0:n.buyerMemberId)&&void 0!==t?t:""}}],bidCpmAdjustment:e=>1.05*e}),e.guardian.config.switches.prebidImproveDigital){var a=new RegExp(/placement_id=\\?"(\d+)\\?"/);e.pbjs.bidderSettings.improvedigital={adserverTargeting:[{key:"hb_pid",val(e){if((0,qt.H)(e.ad)){var t=a.exec(e.ad);return null==t?void 0:t[1]}}}],suppressEmptyKeys:!0},o.improvedigital={usePrebidSizes:!0}}e.guardian.config.switches.prebidKargo&&(e.pbjs.bidderSettings.kargo={storageAllowed:!0}),e.pbjs.setConfig(o),e.pbjs.onEvent("bidWon",(e=>{var{width:t,height:n,adUnitCode:r}=e;if(t&&n&&r){var i=(0,$n.PH)(t,n),o=Mn(r);o&&(o.size=i,o.hasPrebidSize=!0)}}))}else(0,t.c)("commercial","window.pbjs not found on window")},requestBids:Hi};function qi(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Gi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){qi(o,r,i,a,s,"next",e)}function s(e){qi(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wi(Object(n),!0).forEach((function(t){Ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ki(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ji=(e,t)=>"top-above-nav"===t.key||t.key.startsWith("fronts-banner")?1===t.sizes.length?[t]:Array.isArray(e)?[Vi(Vi({},t),{},{sizes:[[e[0],e[1]]]})]:[]:[t],$i=function(){var e=Gi((function*(e){var t=e.filter((e=>!e.headerBiddingBidRequest)),n=Promise.all([Ui.requestBids(t),Rr.requestBids(t)]);t.forEach((e=>{e.headerBiddingBidRequest=n})),yield n}));return function(t){return e.apply(this,arguments)}}(),Yi=function(){var e=Gi((function*(e){e.headerBiddingBidRequest=$i([e]),yield e.headerBiddingBidRequest}));return function(t){return e.apply(this,arguments)}}(),Xi=function(){var e=Gi((function*(e){var t=Ui.requestBids([e],(t=>Ji(e.size,t))),n=Rr.requestBids([e],(t=>Ji(e.size,t)));yield Promise.all([t,n])}));return function(t){return e.apply(this,arguments)}}(),Qi=p.get(),eo=e=>{var t=vr(e.id);Qi.mark("adRenderStart",t),e.whenSlotReady.catch((()=>{})).then((()=>(Qi.mark("prepareSlotStart",t),e.headerBiddingBidRequest?e.headerBiddingBidRequest:Yi(e)))).then((()=>{Qi.mark("prepareSlotEnd",t),Qi.mark("fetchAdStart",t),window.googletag.display(e.id)}))},to=e=>{e.whenSlotReady.then((()=>Xi(e))).then((()=>{if(e.slot.setTargeting("refreshed","true"),"dfp-ad--top-above-nav"===e.id&&Array.isArray(e.size)){var t=window.googletag.sizeMapping();t.addSize([0,0],e.size),e.slot.defineSizeMapping(t.build())}window.googletag.pubads().refresh([e.slot])}))};function no(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var ro=e=>{(0,t.c)("commercial","Failed to load Confiant:",e)},io=[],oo=(e,n,r,i,o,a)=>{var s,c,l=null==a||null===(s=a.prebid)||void 0===s?void 0:s.s,u=null==a||null===(c=a.dfp)||void 0===c?void 0:c.s,d=null!=l?l:u;if((0,t.c)("commercial","".concat(r?"ğŸš« Blocked":"ğŸš¨ Screened"," bad ad with Confiant"),{blockedSlotPath:d,blockingType:e,blockingId:n,wrapperId:i,tagId:o}),r&&d){var f=Mn(d);if(!f)throw new Error("No slot found for ".concat(d));p.get().mark("".concat(vr(f.id),"-blockedByConfiant")),dn(),f.slot.setTargeting("confiant",String(e)),io.includes(d)||(to(f),io.push(d))}},ao=function(){var e,t=(e=function*(){var e="//".concat("cdn.confiant-integrations.net","/").concat("7oDgiTsq88US4rrBG0_Nxpafkrg","/gpt_and_prebid/config.js");if(window.guardian.config.switches.confiantAdVerification){var t;if(yield(0,In.v)(e,{async:!0}).catch(ro),null===(t=window.confiant)||void 0===t||!t.settings)return;"#confiantDevMode"===window.location.hash&&(window.confiant.settings.devMode=!0),window.confiant.settings.callback=oo}},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){no(o,r,i,a,s,"next",e)}function s(e){no(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),so=a(3579),co=/(support.theguardian.com)\/(contribute|subscribe)/,lo=()=>{return e="https://support.theguardian.com/subscribe",t=er(),n=nr(t),e.replace(co,((e,t,r)=>"".concat(t,"/").concat(n.toLowerCase(),"/").concat(r)));var e,t,n};function uo(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function fo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){uo(o,r,i,a,s,"next",e)}function s(e){uo(o,r,i,a,s,"throw",e)}a(void 0)}))}}var po=new URLSearchParams;po.set("acquisitionData",JSON.stringify({componentType:"ACQUISITIONS_OTHER",source:"GUARDIAN_WEB",campaignCode:"shady_pie_open_2019",componentId:"shady_pie_open_2019"})),po.set("INTCMP","shady_pie_open_2019");var vo="".concat("".concat(lo(),"/digital"),"?").concat(po.toString()),mo='\n<div class="contributions__adblock">\n    <a href="'.concat(vo,'">\n        <img src="https://uploads.guim.co.uk/2020/10/02/Digisubs_MPU_c1_my_opt.png" width="300" alt="" />\n    </a>\n</div>\n'),go=function(){var e=fo((function*(){return!(yield(0,so.shouldHideSupportMessaging)())&&!(()=>{var e;return null!==(e=window.guardian.config.page.shouldHideReaderRevenue)&&void 0!==e?e:"paid-content"===window.guardian.config.page.sponsorshipType})()&&!window.guardian.config.page.hasShowcaseMainElement}));return function(){return e.apply(this,arguments)}}(),ho=function(){var e=fo((function*(){return(yield go())?kn.Z.measure((()=>document.querySelector(".js-aside-slot-container"))).then((e=>{if(e)return kn.Z.mutate((()=>{e.insertAdjacentHTML("beforeend",mo)}))})):Promise.resolve()}));return function(){return e.apply(this,arguments)}}();function bo(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var wo="//sb.scorecardresearch.com/cs/6035250/beacon.js",yo="6035250",So=e=>{var t={c1:"2",c2:yo,cs_ucfr:"1"};return"Network Front"!==e&&(t.comscorekw=e),t},_o=function(){var n,r=(n=function*(){if(!B.d.comscore)return Promise.resolve();try{var n=yield(0,e.B4)(),r=n.tcfv2&&(0,e.Nl)("comscore",n),i=!!n.aus,o=!!n.ccpa&&!n.ccpa.doNotSell;if(!(r||i||o))throw Error("No consent for comscore");return void(yield(window._comscore=null!==(a=window._comscore)&&void 0!==a?a:[],window._comscore.push(So(window.guardian.config.page.keywords)),(0,In.v)(wo,{id:"comscore",async:!0})))}catch(e){(0,t.c)("commercial","âš ï¸� Failed to execute comscore",e)}var a},function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){bo(o,r,i,a,s,"next",e)}function s(e){bo(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),Eo=M(_o),Po="dfp-ad--",Oo=()=>Boolean(navigator.userAgent.includes("Google Web Preview")||navigator.userAgent.includes("googleweblight")),ko=()=>((B.d.isSecureContact||Oo()||!window.guardian.config.switches.a9HeaderBidding||!B.d.shouldLoadGoogletag||B.d.adFree||window.guardian.config.page.hasPageSkin||ar())&&!jr||(!function(e,t,n,r,i,o,a){function s(n,r){t[e]._Q.push([n,r])}t[e]||(t[e]={init(){s("i",arguments)},fetchBids(){s("f",arguments)},setDisplayBids(){},targetingKeys:()=>[],_Q:[]},(o=n.createElement(r)).async=!0,o.src="//c.amazon-adsystem.com/aax2/apstag.js",(a=n.getElementsByTagName(r)[0]).parentNode.insertBefore(o,a))}("apstag",window,document,"script"),Rr.initialise()),Promise.resolve()),Co=M(ko),jo=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";t.postMessage(JSON.stringify(e),{targetOrigin:n})};function Ao(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var xo={},To=0,Do=()=>{},No={code:405,message:"Service %% not implemented"},Io={code:500,message:"Internal server error\n\n%%"},Mo=(e,t)=>{if(e.slotId){var n,r=document.getElementById("dfp-ad--".concat(e.slotId));return null!==(n=null==r?void 0:r.querySelector("iframe"))&&void 0!==n?n:void 0}if(e.iframeId){var i=document.getElementById(e.iframeId);return i instanceof HTMLIFrameElement?i:void 0}if(t){var o=document.querySelectorAll("iframe");return Array.from(o).find((e=>e.contentWindow===t))}},Bo=/^[a-f0-9]{8}-([a-f0-9]{4}-){3}[a-f0-9]{12}$/,Lo=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((e,t)=>(e.message=e.message.replace("%%",t),e)),e)},Fo=e=>{try{var t=JSON.parse(e.data),n="set-ad-height"===(r=t).type&&("id"in r.value||"slotId"in r.value)&&"height"in r.value?(e=>({id:"aaaa0000-bb11-cc22-dd33-eeeeee444444",type:"resize",iframeId:e.value.id,slotId:e.value.slotId,value:{height:e.value.height,width:e.value.width}}))(t):t;if((e=>{var t=e;return"type"in t&&"value"in t&&"id"in t&&t.type in xo&&Bo.test(t.id)})(n))return n}catch(e){}var r},Ro=(e,t,n,r)=>{jo({id:e,error:n,result:r},null!=t?t:window)},Zo=function(){var e,t=(e=function*(e){var t=Fo(e);if(t){var n=xo[t.type];if(Array.isArray(n)&&n.length){var r=n.reduce(((n,r)=>n.then((n=>{var i=r(t.value,n,Mo(t,e.source));return void 0===i?n:i}))),Promise.resolve());return r.then((n=>{Ro(t.id,e.source,null,n)})).catch((n=>{Do(n,{feature:"native-ads"}),Ro(t.id,e.source,Lo(Io,n.toString()),null)}))}"function"==typeof n?n(((n,r)=>Ro(t.id,e.source,n,r)),t.value,Mo(t,e.source)):Ro(t.id,e.source,Lo(No,t.type),null)}},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ao(o,r,i,a,s,"next",e)}function s(e){Ao(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),zo=e=>{e.addEventListener("message",(e=>{Zo(e)}))},Ho=(e,t,n)=>{var r,i;0===To&&zo(null!==(i=null==n?void 0:n.window)&&void 0!==i?i:window);var o=null!==(r=xo[e])&&void 0!==r?r:[];Array.isArray(o)&&!o.includes(t)&&(xo[e]=[...o,t],To+=1)},Uo=(e,t,n)=>{var r;0===To&&zo(null!==(r=null==n?void 0:n.window)&&void 0!==r?r:window);xo[e]=t,To+=1},qo=a(1083),Go=e=>(0,qo.K)(e)&&(0,qt.H)(e.slotId)?e.slotId:void 0,Wo=p.get();var Vo=e=>kn.Z.measure((()=>{if((e=>!(e.classList.contains("ad-slot--fluid")&&!e.classList.contains("ad-slot--interscroller")&&!e.classList.contains("ad-slot--article-end")||e.classList.contains("ad-slot--frame")||e.classList.contains("ad-slot--gc")||e.classList.contains("u-h")||e.classList.contains("ad-slot--collapse")||"false"===e.getAttribute("data-label")))(e)){var t,n,r=(e=>!!(0,Z.e)({name:"adtestInLabels",shouldMemoize:!0})&&!e.classList.contains("ad-slot--sky"))(e),i=(null===(t=e.parentNode)||void 0===t||null===(n=t.firstElementChild)||void 0===n?void 0:n.firstElementChild)instanceof HTMLAnchorElement,o=(0,Z.e)({name:"adtest",shouldMemoize:!0}),a="Advertisement".concat((s=o,c="",r&&s&&(c+=" [?adtest=".concat(s,"] ")),c));return kn.Z.mutate((()=>{var t,n;(e.setAttribute("data-label-show","true"),e.setAttribute("ad-label-text",a),null!==(t=e.parentElement)&&void 0!==t&&t.classList.contains("ad-slot-container")&&"dfp-ad--top-above-nav"===e.id&&e.parentElement.setAttribute("top-above-nav-ad-rendered","true"),(e=>e.classList.contains("ad-slot--mobile-sticky"))(e)&&e.insertBefore((()=>{var e=document.createElement("button");e.className="ad-slot__close-button",e.innerHTML='<svg width="18" height="18" viewBox="0 0 18 18"><path d="M7.5 9l-6.5-7 1-1 7 6.5 7-6.5 1 1-6.5 7 6.5 7-1 1-7-6.5-7 6.5-1-1 6.5-7z"/></svg>\n',e.onclick=()=>{var t=e.closest(".mobilesticky-container");t&&t.remove()};var t=document.createElement("div");return t.style.cssText="position: relative;padding: 0;height: 0",t.appendChild(e),t})(),e.firstChild),r&&o&&!i)&&(null===(n=e.parentNode)||void 0===n||n.insertBefore((()=>{var e=document.createElement("div");e.style.cssText="position: relative;padding: 0;text-align: left;box-sizing: border-box;display: block;width: 0;height: 0";var t=new URL(window.location.href);t.searchParams.set("adtest","clear");var n=document.createElement("a");return n.className="ad-slot__adtest-cookie-clear-link",n.href=t.href,n.innerHTML="clear",e.appendChild(n),e})(),e))}))}var s,c;return Promise.resolve()}));function Ko(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Jo(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ko(o,r,i,a,s,"next",e)}function s(e){Ko(o,r,i,a,s,"throw",e)}a(void 0)}))}}function $o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xo,Qo,ea,ta=window.guardian.config.isDotcomRendering,na=e=>{var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$o(Object(n),!0).forEach((function(t){Yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.scrollType,delete t.ctaUrl,delete t.videoSource,t.backgroundColour&&(t.backgroundColor=t.backgroundColour,delete t.backgroundColour),t},ra=function(){var e=Jo((function*(e,t){var{backgroundParent:n,background:r}=((e,t)=>{var n=e.querySelector(".creative__background-parent"),r=e.querySelector(".creative__background");return n&&r||(n=document.createElement("div"),r=document.createElement("div"),n.classList.add("creative__background-parent"),r.classList.add("creative__background"),t&&(n.classList.add("creative__background-parent--".concat(t)),r.classList.add("creative__background--".concat(t))),n.appendChild(r),ta&&(n.style.zIndex="-1",n.style.position="absolute",n.style.inset="0",n.style.clipPath="polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%)",n.style.overflow="hidden",r.style.inset="0",r.style.transition="background 100ms ease")),{backgroundParent:n,background:r}})(t,e.scrollType);return kn.Z.mutate((()=>{if(((e,t)=>{var n=na(e);Object.assign(t.style,n)})(e,r),"parallax"===e.scrollType&&((e,t,n)=>{t.style.position="absolute",e.style.position="relative";var r=e=>kn.Z.measure((()=>e.getBoundingClientRect())).then((t=>kn.Z.mutate((()=>{var n=t.height,r=window.innerHeight,i=Math.floor(t.bottom/(r+n)*130);e.style.backgroundPositionY="".concat(i,"%")}))));new IntersectionObserver((e=>e.filter((e=>e.isIntersecting)).forEach((()=>{window.addEventListener("scroll",(()=>{r(t)}),{passive:!0}),r(t)}))),{rootMargin:"10px"}).observe(n)})(t,r,n),"fixed"===e.scrollType&&(t.style.position="relative",ta&&(r.style.position="fixed"),e.backgroundColor&&(n.style.backgroundColor=e.backgroundColor)),"interscroller"===e.scrollType){if(ta&&(t.style.height="85vh",t.style.marginBottom="12px",t.style.position="relative"),Vo(t),a=n,kn.Z.mutate((()=>{var e=document.createElement("div");e.classList.add("ad-slot__scroll"),e.innerHTML="Scroll for More",e.setAttribute("role","button"),e.onclick=e=>{a.scrollIntoView({behavior:"smooth",block:"start"}),e.preventDefault()},a.appendChild(e)})),ta&&((e,t)=>{e.style.position="fixed";var n=document.createElement("div");n.classList.add("ad-slot__line"),n.style.position="absolute",n.style.width="100%",n.style.bottom="0",n.style.borderBottom="1px solid #dcdcdc",t.appendChild(n)})(r,n),e.ctaUrl){var i=((e,t)=>{var n=document.createElement("a");return n.href=e,n.target="_new",n.appendChild(t),n.style.width="100%",n.style.height="100%",n.style.display="inline-block",n})(e.ctaUrl,n);t.insertBefore(i,t.firstChild)}if(e.videoSource){var o=document.createElement("video");o.autoplay=!0,o.muted=!0,o.playsInline=!0,o.src=e.videoSource,o.style.inset="0",o.style.position="fixed",o.style.height="100%",r.appendChild(o)}}else t.insertBefore(n,t.firstChild);var a}))}));return function(t,n){return e.apply(this,arguments)}}(),ia=a(5260),oa=null!==(Xo=null===(Qo=window.guardian.config.googleAnalytics)||void 0===Qo||null===(ea=Qo.trackers)||void 0===ea?void 0:ea.editorial)&&void 0!==Xo?Xo:"no-ga-tracker-found",aa="".concat(oa,".send"),sa=e=>{var{name:t,delta:n,id:r}=e,{ga:i}=window;i&&i(aa,"event",{eventCategory:"Web Vitals",eventAction:t,eventValue:Math.round("CLS"===t?1e3*n:n),eventLabel:r,nonInteraction:!0})};100*Math.random()<=5&&((0,ia.getCLS)(sa),(0,ia.getLCP)(sa),(0,ia.getFID)(sa));var ca=(e,t)=>{var n,r;n=e.id,r=t,window.ga(aa,"event","click","native ad",r,{nonInteraction:!0,dimension25:n})},la=a(8023),ua=a.n(la),da=(e,t)=>ua().mutate((()=>{e?t.classList.add("ad-slot--full-width"):t.classList.remove("ad-slot--full-width")})),fa=e=>(0,qo.K)(e)&&"selector"in e,pa=(e,t)=>{for(var n=[],r=0;r<t.length;r+=1){var i,o=null===(i=t[r])||void 0===i?void 0:i.ownerNode;o instanceof HTMLStyleElement&&o.matches(e.selector)&&null!==o.textContent&&n.push(o.textContent)}return n},va=a(3876),ma=[$n.ZN.mpu.width,$n.ZN.mpu.height],ga=[$n.ZN.outstreamDesktop.width,$n.ZN.outstreamDesktop.height],ha=[$n.ZN.outstreamMobile.width,$n.ZN.outstreamMobile.height],ba=(e,t)=>e.map((e=>[e,t(e)])),wa=e=>{var t="mobile"===(0,_n.bc)();return"".concat(e).concat(t?"mobile":"desktop")},ya=(e,t)=>{var n=Mn(t.id);n&&(n.slot.setTargeting("passback",e),to(n))},Sa=e=>{var t=/^(\d+)(%|px|em|ex|ch|rem|vh|vw|vmin|vmax)?/.exec(String(e));if(!t)return"";var n=t[1],r=void 0===t[2]?"px":t[2];return n?n+r:""},_a=(e,t,n,r)=>{if(!(e=>(0,qo.K)(e)&&(void 0===e.width||(0,qt.H)(e.width)||"number"==typeof e.width)&&(void 0===e.height||(0,qt.H)(e.height)||"number"==typeof e.height))(e)||!r)return Promise.resolve();var i={};return e.width&&(i.width=Sa(e.width)),e.height&&(i.height=Sa(e.height)),kn.Z.mutate((()=>{Object.assign(t.style,i),n&&Object.assign(n.style,i)}))},Ea=a(9900),Pa=!1;try{var Oa={get passive(){return Pa=!0,!1}};window.addEventListener("test",null,Oa),window.removeEventListener("test",null,Oa)}catch(e){}var ka,Ca=window,ja="IntersectionObserver"in Ca,Aa=!1,xa={},Ta=0,Da=[],Na=(e,t)=>{var n,r;null===(n=xa[e])||void 0===n||n.respond(null,{width:(r=t).width,height:r.height,top:r.top,bottom:r.bottom,left:r.left,right:r.right})},Ia=e=>{var t;return[e,(null===(t=xa[e])||void 0===t?void 0:t.node).getBoundingClientRect()]},Ma=function(e){return e[1].bottom>0&&e[1].top<this.height},Ba=e=>{Da=e.filter((e=>e.intersectionRatio>0)).map((e=>e.target.id))},La=()=>{if(!Aa){var e=(0,Ea.a)();Aa=!0,kn.Z.measure((()=>{Aa=!1;var t=Object.keys(xa);ja?Da.map(Ia).forEach((e=>{Na(e[0],e[1])})):t.map(Ia).filter(Ma,e).forEach((e=>{Na(e[0],e[1])}))}))}},Fa=(e,t)=>{0===Ta&&(!function(e,t,n){var{passive:r=!1,capture:i=!1,once:o=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Pa?e.addEventListener(t,n,{passive:r,capture:i,once:o}):o?e.addEventListener(t,(function r(i){n.call(this,i),e.removeEventListener(t,r)}),i):e.addEventListener(t,n,i)}(Ca,"scroll",La,{passive:!0}),ja&&(ka=new Ca.IntersectionObserver(Ba))),xa[e.id]={node:e,visible:!ja,respond:t},Ta+=1,ka&&ka.observe(e),kn.Z.measure((()=>e.getBoundingClientRect())).then((t=>{Na(e.id,t)}))},Ra=e=>{e.id in xa&&(ja&&ka&&ka.unobserve(e),delete xa[e.id],Ta-=1),0===Ta&&(Ca.removeEventListener("scroll",La),ja&&ka&&(ka.disconnect(),ka=null))},Za=window,za={},Ha=0,Ua=!1,qa=()=>kn.Z.measure((()=>(0,Ea.a)())),Ga=(e,t)=>{var n;null===(n=za[e])||void 0===n||n.respond(null,t)},Wa=()=>{Ua||(Ua=!0,qa().then((e=>{Object.keys(za).forEach((t=>{Ga(t,e)})),Ua=!1})))},Va=(e,t)=>(0===Ha&&Za.addEventListener("resize",Wa),za[e.id]={node:e,respond:t},Ha+=1,qa().then((t=>{Ga(e.id,t)}))),Ka=e=>{delete za[e.id],0===(Ha-=1)&&Za.removeEventListener("resize",Wa)},Ja=(e,t,n)=>{n&&"boolean"==typeof t&&(t?Va(n,e):Ka(n))},$a=a(3517),Ya=/([a-z])([A-Z])/g,Xa={shouldRun:!0,url:"//cdn.adsafeprotected.com/iasPET.1.js",name:"ias"},Qa=(e,t)=>{e&&(window.googletag&&window.googletag.cmd.push((()=>{window.googletag.pubads().setTargeting("inizio","t")})),console.log("surveyAvailable: ".concat(t.measurementId)))},es=()=>{var e;(e=window)._brandmetrics||(e._brandmetrics=[]),window._brandmetrics.push({cmd:"_querySurvey",val:{callback:Qa}})},ts=e=>{var{shouldRun:t}=e;return{shouldRun:t,url:"//cdn.brandmetrics.com/survey/script/e96d04c832084488a841a06b49b8fb2d.js",name:"inizio",onLoad:es}};a(5172);a(166),a(876),a(4817),a(5480);var ns=e=>0===e[0]&&0===e[1]?"fluid":[e[0],e[1]];function rs(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var is=M((()=>{var e=(0,En.E)();return e["ad-unit"]?"/".concat(window.guardian.config.page.dfpAccountId,"/").concat(String(e["ad-unit"])):window.guardian.config.page.adUnit})),os=function(){var e,t=(e=function*(e,t){var n;return Promise.race([e,new Promise((e=>{n=window.setTimeout(e,t)}))]).then((e=>(window.clearTimeout(n),e)))},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){rs(o,r,i,a,s,"next",e)}function s(e){rs(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),as=(e,t)=>os(new Promise((n=>{var r,i;window.__iasPET=null!==(r=window.__iasPET)&&void 0!==r?r:{};var o=window.__iasPET;o.queue=null!==(i=o.queue)&&void 0!==i?i:[],o.pubId="10249";var a=t.getSizes(),s=[{adSlotId:e,size:a.filter((e=>"fluid"!==e)).map((e=>[e.getWidth(),e.getHeight()])),adUnitPath:is()}];o.queue.push({adSlots:s,dataHandler:r=>{var i,o=JSON.parse(r);Object.keys(o.brandSafety).forEach((e=>{var t=o.brandSafety[e];t&&window.googletag.pubads().setTargeting(e,t)})),o.fr&&window.googletag.pubads().setTargeting("fra",o.fr),null!==(i=o.custom)&&void 0!==i&&i["ias-kw"]&&window.googletag.pubads().setTargeting("ias-kw",o.custom["ias-kw"]);var a=["pub"],s=o.slots[e];s&&Object.keys(s).filter((e=>!a.includes(e))).forEach((n=>{var r=o.slots[e];if(r){var i=r[n];i&&t.setTargeting(n,i)}})),n()}})})),1e3),ss={mobile:[0,0],phablet:[va.A.phablet,0],tablet:[va.A.tablet,0],desktop:[va.A.desktop,0]},cs=M((()=>{var e=(0,En.E)();return e["ad-unit"]?"/".concat(window.guardian.config.page.dfpAccountId,"/").concat(String(e["ad-unit"])):window.guardian.config.page.adUnit})),ls=e=>{var t=window.googletag.sizeMapping();return Object.entries(e).forEach((e=>{var[n,r]=e;(e=>e in ss)(n)&&t.addSize(ss[n],r.map(ns))})),t.build()},us=e=>{var t=[];return null==e||e.forEach((e=>{var n,[,r]=e;n=r,Array.isArray(n)&&n.length&&r.forEach((e=>{((e,t)=>"fluid"===e?t.includes("fluid"):!!Array.isArray(e)&&!!t.find((t=>t[0]===e[0]&&t[1]===e[1])))(e,t)||t.push(e)}))})),t},ds=e=>"string"==typeof e&&("inline1"===e||"top-above-nav"===e),fs=e=>(e.setSafeFrameConfig({allowOverlayExpansion:!1,allowPushExpansion:!0,sandbox:!0}),e);function ps(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function vs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ms=e=>e.split("|").map((e=>(0,$n.PH)(...(e=>{var t=e.split(",",2).map(Number);return 2===t.length&&t[0]&&t[1]&&!t.some((e=>isNaN(e)))?[t[0],t[1]]:[0,0]})(e)))),gs=e=>Object.entries(va.A).reduce(((t,n)=>{var[r]=n,i=e.getAttribute("data-".concat((e=>e.replace(Ya,"$1-$2").toLowerCase())(r)));return i&&(t[r]=ms(i)),t}),{}),hs=e=>{var t;return(e=>e in $n.oe)(t=e.includes("inline")?"inline":e.includes("fronts-banner")?"fronts-banner":e.includes("external")?"external":e)?$n.oe[t]:{}},bs=e=>0===Object.keys(e).length||Object.entries(e).every((e=>{var[,t]=e;return 0===t.length}));class ws{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};vs(this,"id",void 0),vs(this,"node",void 0),vs(this,"sizes",void 0),vs(this,"headerBiddingSizes",null),vs(this,"size",null),vs(this,"slot",void 0),vs(this,"isEmpty",null),vs(this,"isRendered",!1),vs(this,"shouldRefresh",!1),vs(this,"whenSlotReady",void 0),vs(this,"extraNodeClasses",[]),vs(this,"hasPrebidSize",!1),vs(this,"headerBiddingBidRequest",null),vs(this,"lineItemId",null),this.id=e.id,this.node=e,this.sizes=this.generateSizeMapping(t);var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.getAttribute("data-name");p.get().mark("defineSlotStart",r);var i=e.id,o=ls(t);if(!o)throw new Error("Could not define slot for ".concat(i,". A googletag size mapping could not be created."));var a,s,c,l=us(o);if(e.getAttribute("data-out-of-page")?null===(s=a=window.googletag.defineOutOfPageSlot(cs(),i))||void 0===s||s.defineSizeMapping(o):(null===(c=a=window.googletag.defineSlot(cs(),l,i))||void 0===c||c.defineSizeMapping(o),a&&ds(r)&&fs(a)),!a)throw new Error("Could not define slot for ".concat(i));var u=as(i,a);u.then((()=>{p.get().mark("defineSlotEnd",r),p.get().mark("slotReady",r)}));var d=window.guardian.config.page.isbn;"im"===r&&d&&a.setTargeting("isbn",d);var f=new Map([["top-above-nav","fabric1"],["merchandising-high","fabric2"],["merchandising","fabric3"]]).get(r);return f&&a.setTargeting("slot-fabric",f),Object.entries(n).forEach((e=>{var t,[n,r]=e;null===(t=a)||void 0===t||t.setTargeting(n,r)})),a.addService(window.googletag.pubads()).setTargeting("slot",r),{slot:a,slotReady:u}}(e,this.sizes,n);this.slot=r.slot,this.whenSlotReady=r.slotReady}finishedRendering(e){this.isRendered=e}updateExtraSlotClasses(){var e,t=arguments,n=this;return(e=function*(){for(var e=t.length,r=new Array(e),i=0;i<e;i++)r[i]=t[i];var o=n.extraNodeClasses.filter((e=>!r.includes(e)));yield kn.Z.mutate((()=>{n.node.classList.remove(...o),n.node.classList.add(...r)})),n.extraNodeClasses=r},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ps(o,r,i,a,s,"next",e)}function s(e){ps(o,r,i,a,s,"throw",e)}a(void 0)}))})()}generateSizeMapping(e){var t,n=this.node.dataset.name?hs(this.node.dataset.name):{},r=(0,$a.x8)(n,e);if(bs(r)&&(r=gs(this.node),bs(r)))throw new Error("Tried to render ad slot '".concat(null!==(t=this.node.dataset.name)&&void 0!==t?t:"","' without any size mappings"));return r}updateSizeMapping(e){var t=this.generateSizeMapping(e);this.sizes=t;var n=ls(t);n&&this.slot.defineSizeMapping(n)}}var ys=(e,n,r)=>{try{return new ws(e,n,r)}catch(r){var i="Could not create advert. Ad slot: ".concat(e.id,". Additional Sizes: ").concat(JSON.stringify(n),". Error: ").concat(r instanceof Error?r.message:"Unknown error");return(0,t.c)("commercial",i),navigator.userAgent.includes("DuckDuckGo")||kt(new Error(i),{feature:"commercial"},!1,.01),null}},Ss=(0,L.Z)((()=>{var e=wn().find((e=>e.id===vn.id));return e?e.variantToRun.id:null})),_s=Ss(),Es={control:"20% 0px","variant-1":"20% 0px","variant-2":"10% 0px"},Ps=e=>{var t=Mn(e);t&&(t.isRendered?to(t):eo(t))},Os=(e,n)=>{var r=[];e.filter((e=>!("isIntersecting"in e)||e.isIntersecting)).forEach((e=>{(0,t.c)("commercial","display observer triggered for: ",e.target.id),n.unobserve(e.target),Ps(e.target.id),r.push(e.target.id)})),On.advertsToLoad=On.advertsToLoad.filter((e=>!r.includes(e.id)))},ks=(e,n)=>{var r=[];e.filter((e=>!("isIntersecting"in e)||e.isIntersecting)).forEach((e=>{var i,o;(0,t.c)("commercial","prebid observer triggered for: ",e.target.id),n.unobserve(e.target),i=e.target.id,(o=Mn(i))&&Yi(o),r.push(e.target.id)}))},Cs=M((()=>new window.IntersectionObserver(Os,{rootMargin:_s?Es[_s]:"20% 0px"}))),js=M((()=>new window.IntersectionObserver(ks,{rootMargin:"50% 0px"}))),As=e=>{On.lazyLoadObserve?(Cs().observe(e.node),null!==Ss()&&"control"!==Ss()&&js().observe(e.node)):Ps(e.id)},xs=e=>{On.advertsToLoad.push(e)},Ts=(e,n,r,i)=>new Promise((o=>{window.googletag.cmd.push((()=>{if(e.id in On.advertIds){var a="Attempting to add slot with exisiting id ".concat(e.id);return(0,t.c)("commercial",a),void kt(Error(a),{feature:"commercial",slotId:e.id},!1)}var s=ys(e,r,i);null!==s&&(On.advertIds[s.id]=On.adverts.push(s)-1,((e,t)=>{On.shouldLazyLoad()&&!t?(xs(e),As(e)):eo(e)})(s,n),o(s))}))})),Ds=a(6690),Ns=()=>{var e=document.body,t=window.guardian.config.page.hasPageSkin,n="au"===window.guardian.config.page.edition.toLowerCase(),r=0,i=!1,o=!1,a=()=>{t&&(0,_n._k)(!0)&&!B.d.adFree&&ua().mutate((()=>{e.classList.toggle("has-active-pageskin",(0,_n.qZ)({min:"wide"}))}))},s=t=>{e.style.backgroundPosition="50% ".concat(t,"px")},c=()=>{if(0===r){var e=document.querySelector(".new-header");e&&(r=i?e.offsetTop+24:e.offsetTop+e.offsetHeight)}},l=e=>{var t=document.querySelector(".fc-container__inner");t&&(e.style.cssText="max-width: ".concat(t.clientWidth,"px; margin-right: auto; margin-left: auto;"))},u=()=>{i&&t&&(()=>{var e=document.querySelector(".new-header"),t=document.querySelector(".l-footer"),n=document.querySelector(".ad-slot--top-banner-ad");if(e&&t&&n){var i=document.querySelector(".top-banner-ad-container");i&&(i.style.borderBottom="none",i.style.minHeight="0"),c(),l(e),l(t),0===window.pageYOffset&&s(r);var o=e.getBoundingClientRect(),a=n.getBoundingClientRect(),u=o.top,d=a.bottom;u<=a.height+24-o.height&&d>0?s(d):d<=0&&s(0)}})(),o&&t&&n&&(c(),0===window.pageYOffset?s(r):window.pageXOffset<=r&&s(r-window.pageYOffset),window.pageYOffset>r&&s(0))};a(),window.addEventListener("message",(e=>{"pageskinRendered"===e.data&&(o=!0,u()),"truskinRendered"===e.data&&(i=!0,u())}),!1),Ds.K.on("window:throttledResize",a),t&&Ds.K.on("window:throttledScroll",u)},Is=["dfp-ad--im"];function Ms(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Bs=function(){var e,t=(e=function*(e){Oo()||!window.guardian.config.switches.prebidHeaderBidding||!B.d.shouldLoadGoogletag||B.d.adFree||window.guardian.config.page.hasPageSkin||jr||ar()||(yield a.e(322).then(a.t.bind(a,1601,23)),Ui.initialise(window,e))},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ms(o,r,i,a,s,"next",e)}function s(e){Ms(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Ls=()=>(0,e.B4)().then((t=>t.framework?(0,e.Nl)("prebid",t)?Bs(t.framework):Promise.reject("No consent for prebid"):Promise.reject("Unknown framework"))).catch((e=>{(0,t.c)("commercial","âš ï¸� Failed to execute prebid",e)})),Fs=M(Ls);function Rs(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Zs=function(){var e,n=(e=function*(){var e=[Dn()];if(yield Promise.all(e),yield Fs().catch((e=>(0,t.c)("commercial","could not load Prebid.js",e))),B.d.adFree)return Promise.resolve();var n=window.guardian.config.isDotcomRendering&&"mobile"===(0,_n.bc)(),r=[...document.querySelectorAll(On.adSlotSelector)].filter((e=>!(e.id in On.advertIds))).filter((e=>!(n&&"dfp-ad--top-above-nav"===e.id))).map((e=>{var t=(e=>{var{contentType:t}=window.guardian.config.page,{name:n}=e.dataset;return"Gallery"===t&&null!=n&&n.includes("inline")?{desktop:[$n.ZN.billboard,(0,$n.PH)(900,250)]}:"merchandising-high"===n&&Yn()?{desktop:[$n.ZN.billboard]}:"LiveBlog"===t&&null!=n&&n.includes("inline")?{phablet:[$n.ZN.outstreamDesktop,$n.ZN.outstreamGoogleDesktop],desktop:[$n.ZN.outstreamDesktop,$n.ZN.outstreamGoogleDesktop]}:{}})(e);return ys(e,t)})).filter(Vt.C),i=On.adverts.length;On.adverts=On.adverts.concat(r),r.forEach(((e,t)=>{On.advertIds[e.id]=i+t})),r.forEach(xs),On.shouldLazyLoad()?(()=>{window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices();var e,t,[n,r]=(e=On.advertsToLoad,t=e=>Is.includes(e.id),e.reduce(((n,r,i)=>(t(r,i,e)?n[0].push(r):n[1].push(r),n)),[[],[]]));On.advertsToLoad=r,n.forEach(eo),r.forEach(As)})():(()=>{window.googletag.pubads().enableSingleRequest(),window.googletag.pubads().collapseEmptyDivs(),window.googletag.enableServices();var e=On.advertsToLoad.length?On.advertsToLoad[0]:void 0;e&&(eo(e),On.advertsToLoad=[]),Ns()})()},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Rs(o,r,i,a,s,"next",e)}function s(e){Rs(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}(),zs="".concat(window.location.protocol,"//").concat(window.location.host),Hs=e=>{var t=Mn(e.slot.getSlotElementId());if(t){var n=t.node.getElementsByTagName("iframe").item(0);null!=n&&n.contentWindow?jo({id:n.id,host:zs},n.contentWindow):console.log("No iFrame found for slot",t.id,t.slot)}},Us=e=>{ua().mutate((()=>{window.googletag.destroySlots([e.slot]),(e=>{var t=e.node.parentElement;null!=t&&t.classList.contains("ad-slot-container")?t.remove():e.node.remove()})(e),(e=>{var t=t=>t.filter((t=>t!==e));On.adverts=t(On.adverts),On.advertsToLoad=t(On.advertsToLoad),On.advertIds={},On.adverts.forEach(((e,t)=>{On.advertIds[e.id]=t}))})(e)}))};function qs(e,t,n){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.set(e,n)}function Gs(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,Vs(e,t,"get"))}function Ws(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,Vs(e,t,"set"),n),n}function Vs(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}var Ks=new WeakMap;class Js{constructor(e,t){qs(this,Ks,{writable:!0,value:void 0}),Ws(this,Ks,Array.from((null!=t?t:document).querySelectorAll(e)))}get(e){return"number"==typeof e?Gs(this,Ks)[e]:Gs(this,Ks)}setAttributes(e){return Object.entries(e).forEach((e=>{var[t,n]=e;return Gs(this,Ks).forEach((e=>e.setAttribute(t,n)))})),this}css(e){return Object.entries(e).forEach((e=>{var[t,n]=e;Gs(this,Ks).forEach((e=>e.style.setProperty(t,n)))})),this}remove(){Gs(this,Ks).forEach((e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}))}}var $s=(e,t)=>new Js(e,t),Ys=e=>(e=>new Promise(((t,n)=>{var r=e.querySelector('iframe:not([id*="__hidden__"])');if(r)if(r.readyState&&"complete"!==r.readyState){var i=e=>{var n=e.srcElement;n&&"complete"===n.readyState&&(n.removeEventListener("readystatechange",i),t(r))};r.addEventListener("readystatechange",i)}else t(r);else n()})))(e).then((()=>!0)).catch((()=>!1)),Xs=e=>function(t){return function(n){return t.some((e=>n.node.classList.contains(e)))?kn.Z.mutate((()=>{e.forEach((e=>{n.node.classList.add(e)}))})):Promise.resolve()}},Qs=Xs(["ad-slot--fluid250"]),ec=Xs(["ad-slot--fluid"]),tc={};tc[$n.ZN.fluid.toString()]=e=>ec(["ad-slot"])(e).then((()=>((e,t)=>{var n=e.node.querySelector("iframe");kn.Z.mutate((()=>{n&&n.style.removeProperty(t)}))})(e,"vertical-align"))),tc[$n.ZN.mpu.toString()]=e=>e.updateExtraSlotClasses(),tc[$n.ZN.halfPage.toString()]=e=>e.updateExtraSlotClasses(),tc[$n.ZN.skyscraper.toString()]=e=>e.updateExtraSlotClasses("ad-slot--sky"),tc[$n.ZN.outstreamDesktop.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),tc[$n.ZN.outstreamGoogleDesktop.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),tc[$n.ZN.outstreamMobile.toString()]=e=>e.updateExtraSlotClasses("ad-slot--outstream"),tc[$n.ZN.googleCard.toString()]=e=>e.updateExtraSlotClasses("ad-slot--gc");var nc=e=>{var t=e.node.parentNode;return kn.Z.mutate((()=>{if(e.node.classList.add("ad-slot--collapse"),e.id.includes("top-above-nav")){var n=e.node.closest(".top-banner-ad-container");n&&(n.style.display="none")}t.classList.contains("fc-slice__item--mpu-candidate")&&t.classList.add("fc-slice__item--no-mpu")}))};tc[$n.ZN.outOfPage.toString()]=nc,tc[$n.ZN.empty.toString()]=nc,tc[$n.ZN.merchandising.toString()]=Qs(["ad-slot--commercial-component"]);var rc=(e,t)=>{var n,r;return n=e.node,(r=$s("#".concat(n.id," > div:not(.ad-slot__label)"),n).get()).length&&kn.Z.mutate((()=>{var e;null===(e=r[0])||void 0===e||e.classList.add("ad-slot__content")})),Ys(e.node).then((n=>(()=>{if(e.size){e.hasPrebidSize=!1;var n=tc[e.size.toString()];return Promise.resolve(void 0!==n?n(e,t):e.updateExtraSlotClasses())}return Promise.resolve()})().then((()=>Vo(e.node))).then((()=>n?kn.Z.mutate((()=>{e.node.classList.add("ad-slot--rendered")})):Promise.resolve())).then((()=>n)))).catch((e=>(kt(e,{feature:"commercial"},!1),Promise.resolve(!1))))},ic=e=>{var t,n=Mn(e.slot.getSlotElementId());n&&(n.isEmpty=e.isEmpty,e.isEmpty?(Us(n),((e,t)=>{if(Math.random()<1e-4){var n=t.slot.getAdUnitPath(),r=(t.slot.getTargetingKeys().includes("k")?t.slot.getTargeting("k"):[]).join(", ");kt(new Error("dfp returned an empty ad response"),{feature:"commercial",adUnit:n,adSlot:e,adKeywords:r},!1)}})(n.id,e),n.finishedRendering(!1)):(!n.hasPrebidSize&&e.size&&(n.size=(t=e.size,(0,qt.H)(t)?"fluid":(0,$n.PH)(Number(t[0]),Number(t[1])))),e.creativeId&&On.creativeIDs.push(String(e.creativeId)),n.lineItemId=e.lineItemId,rc(n,e).then((e=>{n.finishedRendering(e)}))))};function oc(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var ac=function(){var e,t=(e=function*(){var{host:e,isProd:t}=window.guardian.config.page,n=new URL("/commercial/non-refreshable-line-items.json",t?e:"https://m.code.dev-theguardian.com"),r=yield fetch(n.toString());if(r.ok){var i=yield r.json();if(!Array.isArray(i))throw Error("Failed to parse non-refreshable line items as an array");var o=i.reduce(((e,t)=>e instanceof Error||"number"!=typeof t?Error("Failed to parse element in non-refreshable line item array as number"):{lineItems:[...e.lineItems,t]}),{lineItems:[]});if(o instanceof Error)throw o;return o.lineItems}var a=Error("Failed to fetch non-refreshable line items");throw kt(a,{feature:"commercial",status:String(r.status)},!1),a},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){oc(o,r,i,a,s,"next",e)}function s(e){oc(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),sc=(0,L.Z)(ac),cc=e=>{var n=Mn(e.slot.getSlotElementId());if(n){(e=>{if((e=>null!==e&&"fluid"!==e)(e.size)){var{size:t,node:n}=e;Object.values($n.N9).some((e=>{var{width:n,height:r}=e;return n===t.width&&r===t.height}))||(t.isProxy()?kn.Z.mutate((()=>{n.style.minHeight=""})):kn.Z.measure((()=>"true"===n.getAttribute("data-label"))).then((e=>{var r=e?24:0;kn.Z.mutate((()=>{var e=t.height+r;n.style.minHeight="".concat(e,"px")}))})))}})(n),sc().then((e=>{n.shouldRefresh=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=null===(t=e.size)||void 0===t?void 0:t.toString();return!("false"===e.node.dataset.refresh||"fluid"===r||Object.values($n.N9).map((e=>e.toString())).includes(r)||e.lineItemId&&n.includes(e.lineItemId)||window.guardian.config.page.hasPageSkin)}(n,e)})).catch((e=>{(0,t.c)("commercial","âš ï¸� Error fetching non-refreshable line items",e)}));var r=()=>{document.hidden||(document.removeEventListener("visibilitychange",r),As(n))};setTimeout((()=>{n.shouldRefresh&&(document.hidden?document.addEventListener("visibilitychange",r):As(n))}),3e4)}};function lc(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}((e,t,n)=>{Do=n,e.forEach((e=>e(Ho,n))),t.forEach((e=>e(Uo,n)))})([e=>{e("type",((e,t,n)=>{var r=null==n?void 0:n.closest(".js-ad-slot");r&&(0,qt.H)(e)&&((e,t)=>{kn.Z.mutate((()=>{t.classList.add("ad-slot--".concat(e))}))})(e,r)}))},e=>{e("get-styles",(e=>{if(fa(e))return pa(e,document.styleSheets)}))},e=>{e("get-page-targeting",(()=>window.guardian.config.page.sharedAdTargeting))},e=>{e("get-page-url",(()=>window.location.origin+window.location.pathname))},e=>{e("measure-ad-load",(e=>{Wo.mark("adOnPage",Go(e)),Wo.mark("fetchAdEnd",Go(e)),Wo.mark("adRenderEnd",Go(e))}))},e=>{e("passback-refresh",((e,t,n)=>{if(n&&(0,qt.H)(e)){var r,i=null!==(r=n.closest(".js-ad-slot"))&&void 0!==r?r:void 0;if(!i)return;return ya(e,i)}}))},e=>{e("resize",((e,t,n)=>{if(n&&e){var r,i,o=null!==(r=n.closest(".js-ad-slot"))&&void 0!==r?r:void 0;o&&(e=>{kn.Z.mutate((()=>{e.classList.remove("ad-slot--outstream")}))})(o);var a=null!==(i=n.closest(".ad-slot__content"))&&void 0!==i?i:void 0;return _a(e,n,a,o)}}))},e=>{e("full-width",((e,t,n)=>{if(n&&e){var r;if(!(e=>"boolean"==typeof e)(e))return;var i=null!==(r=n.closest(".js-ad-slot"))&&void 0!==r?r:void 0,o=null==i?void 0:i.dataset.name;if(null==o||!o.startsWith("fronts-banner")||!i)return;return da(e,i)}}))},e=>{e("click",((e,t,n)=>{var r;return ca(null!==(r=null==n?void 0:n.closest(".js-ad-slot"))&&void 0!==r?r:{id:"unknown"},(0,qt.H)(e)?e:"")}))},e=>{e("background",function(){var e=Jo((function*(e,t,n){if(!(e=>(0,qo.K)(e)&&"backgroundImage"in e)(e))return Promise.resolve();var r=null==n?void 0:n.closest(".js-ad-slot");return r?ra(e,r):void 0}));return function(t,n,r){return e.apply(this,arguments)}}())},e=>{e("disable-refresh",((e,t,n)=>{if(n){var r=n.closest(".js-ad-slot");if(r instanceof HTMLElement){var i=(e=>On.adverts.find((t=>t.node.isSameNode(e))))(r);i&&(i.shouldRefresh=!1)}}}))},e=>{e("passback",((e,n,r)=>{window.googletag.cmd.push((()=>{var{source:n}=e;if(n)if(r){var i=r.closest(".ad-slot"),o=null==i?void 0:i.dataset.name;if(o){var a="".concat(Po).concat(o);(0,t.c)("commercial","Passback: from source '".concat(n,"' for slot '").concat(a,"'"));var s=r.closest(".ad-slot__content");if(s)kn.Z.mutate((()=>{s.style.visibility="hidden",i.style.position="relative",i.classList.remove("ad-slot--outstream")})).then((()=>{var e=document.createElement("div");return e.id="".concat(a,"--passback"),e.classList.add("ad-slot","js-ad-slot"),e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.top="".concat(24,"px"),e.style.width="100%",kn.Z.mutate((()=>{i.insertAdjacentElement("beforeend",e)})).then((()=>e.id))})).then((e=>{var c=window.googletag.pubads().getSlots().find((e=>e.getSlotElementId()===a));if(c){var l=ba(window.googletag.pubads().getTargetingKeys(),(e=>window.googletag.pubads().getTargeting(e))),u=ba(c.getTargetingKeys(),(e=>c.getTargeting(e)));(0,t.c)("commercial","Passback: initial slot targeting",Object.fromEntries([...l,...u]));var d=[...l,...u,["passback",[wa(n)]],["slot",[o]]];googletag.pubads().addEventListener("slotRenderEnded",(function(n){if(n.slot.getSlotElementId()===e){var o=n.size;if(Array.isArray(o)&&o[1]){var a=o[1];(0,t.c)("commercial","Passback: ad height is ".concat(a)),kn.Z.mutate((()=>{var e="".concat(a+24,"px");(0,t.c)("commercial","Passback: setting height of passback slot to ".concat(e)),i.style.height=e,r.style.height=e,s.style.height=e}))}}})),window.googletag.cmd.push((()=>{var n=googletag.defineSlot(c.getAdUnitPath(),[ma,ha,ga],e);n&&(n.defineSizeMapping([[[va.A.phablet,0],[ma,ga]],[[va.A.mobile,0],[ma,ha]]]),n.addService(window.googletag.pubads()),d.forEach((e=>{var[t,r]=e;n.setTargeting(t,r)})),(0,t.c)("commercial","Passback: passback slot targeting map",n.getTargetingMap()),(0,t.c)("commercial","Passback: displaying slot '".concat(e,"'")),googletag.display(e))}))}else(0,t.c)("commercial","Passback: cannot determine the googletag slot from the slotId")}));else(0,t.c)("commercial","Passback: cannot determine the iFrameContainer from the calling iFrame")}else(0,t.c)("commercial","Passback: cannot determine the slot from the calling iFrame")}else(0,t.c)("commercial","Passback: iframe has not been passed by messenger");else(0,t.c)("commercial","Passback: postMessage does not have source set")}))}))}],[e=>{e("scroll",((e,t,n)=>{n&&(t&&"function"==typeof e?Fa(n,e):Ra(n))}))},e=>{e("viewport",Ja)}],kt);var uc=()=>{var e=window.googletag.pubads();e.addEventListener("slotRenderEnded",Pt.Z.wrap(ic)),e.addEventListener("slotOnload",Pt.Z.wrap(Hs)),e.addEventListener("impressionViewable","false"!==(0,En.E)().adrefresh?cc:()=>{})},dc=()=>{(0,Gr.Gj)().then((e=>{null!==e&&window.googletag.pubads().setPublisherProvidedId(e)}))},fc=()=>{if(Sn(mn,"variant"))return Promise.resolve();return B.d.shouldLoadGoogletag?(0,e.B4)().then(function(){var n,r=(n=function*(n){p.get().mark("googletagInitStart");var r=!0;if(n.canTarget&&window.googletag.cmd.push(dc),n.ccpa)window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({restrictDataProcessing:!n.canTarget})}));else if(n.tcfv2)r=(0,e.Nl)("googletag",n);else if(n.aus){var i=!(0,e.Nl)("googletag",n);window.googletag.cmd.push((()=>{window.googletag.pubads().setPrivacySettings({nonPersonalizedAds:i})}))}if(r){var o,a,s=yield(0,Gr.z5)();window.googletag.cmd.push((()=>p.get().mark("googletagInitEnd")),uc,(()=>{((e,t)=>{Object.entries(qr(e,t)).forEach((e=>{var[t,n]=e;n&&window.googletag.pubads().setTargeting(t,n)}))})(n,s)}),(()=>{document.addEventListener("gu.commercial.slot.fill",(e=>{if((e=>"detail"in e)(e)){var{slotId:t}=e.detail,n=document.getElementById(t);n&&Ts(n,!1)}})),Zs()})),(0,In.v)(null!==(o=null===(a=window.guardian.config.page.libs)||void 0===a?void 0:a.googletag)&&void 0!==o?o:"//securepubads.g.doubleclick.net/tag/js/gpt.js",{async:!1}).catch((e=>{if(!navigator.userAgent.includes("DuckDuckGo"))throw e;(0,t.c)("commercial","ğŸ¦† Caught loadScript error on DuckDuckGo",e)}))}return Promise.resolve()},function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){lc(o,r,i,a,s,"next",e)}function s(e){lc(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}()).catch(Tn):Tn()},pc=e=>""===e||null==e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length,vc=e=>{var t;for(t in e)"object"==typeof e[t]&&vc(e[t]),pc(e[t])&&delete e[t];return e},mc=e=>{var{page:t,user:n}=e,{isPaidContent:r,pageId:i,headline:o,contentType:a,section:s,author:c,keywords:l,webPublicationDate:u,series:d,edition:f,toneIds:p}=t,v=(c&&"string"==typeof c?c.split(","):[]).map((e=>e.trim())),m=(l&&"string"==typeof l?l.split(","):[]).map((e=>e.trim())),g=u&&"number"==typeof u?new Date(u).toISOString():"",h=(p&&"string"==typeof p?p.split(","):[]).map((e=>e.trim()));return vc({content:{premium:r,id:i,title:o,type:a,section:s,authors:v,keywords:m,publishedAt:g,series:d,tone:h},user:{edition:f,identity:!pc(n)&&!pc(null==n?void 0:n.id)}})},gc=e=>"object"==typeof e.ophan&&"string"==typeof e.ophan.browserId&&e.ophan.browserId.length>0?[{tag:"ophan",id:e.ophan.browserId}]:[],hc=(e,t,n)=>{try{if(null==t||!t.addon)throw new Error("Global Permutive setup error");var r=gc(e);t.identify&&r.length>0&&t.identify(r);var i=mc(e);t.addon("web",{page:i})}catch(e){n(e,{feature:"commercial"},!1)}},bc=!1,wc=()=>(0,e.B4)().then((t=>t.aus?(0,e.Nl)("redplanet",t)?void 0:Promise.reject("No consent for redplanet"):Promise.reject("Redplanet should only run in Australia on AUS mode"))).then((()=>{if(bc)return Promise.reject("replanet already initialised");var e,t,n,r,i,o;bc=!0,e=window,t=document,n="script",e[r="launchpad"]||(e.GlobalSnowplowNamespace=e.GlobalSnowplowNamespace||[],e.GlobalSnowplowNamespace.push(r),e[r]=function(){(e[r].q=e[r].q||[]).push(arguments)},e[r].q=e[r].q||[],i=t.createElement(n),o=t.getElementsByTagName(n)[0],i.async=1,i.src="https://lps.qantas.com/sp.js",o.parentNode.insertBefore(i,o))})).then((()=>{(()=>{var e;window.launchpad&&(window.launchpad("newTracker","launchpad","lpx.qantas.com",{discoverRootDomain:!0,appId:"the-guardian"}),window.launchpad("trackUnstructEvent",{schema:"iglu:com.qantas.launchpad/hierarchy/jsonschema/1-0-0",data:{u1:"theguardian.com",u2:window.guardian.config.page.section,u3:window.guardian.config.page.sectionName,u4:window.guardian.config.page.contentType,uid:null!==(e=window.guardian.config.ophan.browserId)&&void 0!==e?e:""}}))})()})).catch((e=>{(0,t.c)("commercial","âš ï¸� Failed to execute redplanet",e)})),yc=a(3602),Sc=a(2510),_c=a(3007),Ec=a(1254),Pc=a(2965);function Oc(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var kc,Cc=/^[A-Z]{2}$/,jc=e=>(0,qt.H)(e)&&Cc.test(e),Ac=function(){var e,t=(e=function*(){if(kc)return kc;var e=K.t.local.get("gu.geo.override");if(jc(e))return kc=e;var t=(0,Z.e)({name:"GU_geo_country"});if(t&&jc(t))return kc=t;try{var{country:n}=yield fetch("https://api.nextgen.guardianapps.co.uk/geolocation").then((e=>e.json()));if(jc(n))return(e=>{var{name:t,value:n}=e;if(!(0,Ec.I)(t,n))throw new Error("".concat(yc.P," ").concat(t,"=").concat(n));if(document.cookie="".concat(t,"=").concat(n,"; path=/;").concat((0,_c.B)()),Pc.k.has(t)){var[r]=(0,Sc.H)(t);r&&Pc.k.set(t,r)}})({name:"GU_geo_country",value:n}),kc=n}catch(e){}return null},function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Oc(o,r,i,a,s,"next",e)}function s(e){Oc(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();function xc(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var Tc=e=>{window.dm=window.dm||{AjaxData:[]},window.dm.AjaxEvent=(e,t,n,r)=>{dm.AjaxData.push({et:e,d:t,ssid:n,ad:r}),window.DotMetricsObj&&DotMetricsObj.onAjaxDataUpdate()};var t=window.guardian.config.page.ipsosTag;if(void 0===t)throw Error("Ipsos tag undefined");var n="https://".concat(e,"-script.dotmetrics.net/door.js?d=").concat(document.location.host,"&t=").concat(t);return(0,In.v)(n,{id:"ipsos",async:!0,type:"text/javascript"})},Dc=function(){var n,r=(n=function*(){var n=yield Ac(),r=yield(0,e.B4)(),i="AU"===n&&!!r.aus,o="GB"===n&&!!r.tcfv2;i||o||(0,t.c)("commercial","Skipping ipsos process outside GB or AU"),i?Tc("au"):o&&((0,e.Nl)("ipsos",r)?Tc("uk"):(0,t.c)("commercial","No consent for ipsos in GB"))},function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){xc(o,r,i,a,s,"next",e)}function s(e){xc(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}(),Nc=()=>window.guardian.config.isDotcomRendering?(()=>{var e=document.querySelector(".mobilesticky-container");if(e){var t=(0,$a.dQ)("mobile-sticky",{});e.appendChild(t)}return e})():(()=>{var e=document.createElement("div");e.className="mobilesticky-container";var t=(0,$a.dQ)("mobile-sticky",{});return e.appendChild(t),e})(),Ic=M((()=>Promise.resolve(void(0,e.Uc)((e=>{"tcfv2"!==e.framework||e.canTarget||Tn()}))))),Mc=a(3731),Bc=a(1133),Lc=e=>{e.forEach((e=>{e.classList.remove("right-sticky"),e.classList.remove("js-sticky-mpu"),e.classList.remove("is-sticky")}))},Fc=e=>{if(!e)return 0;var t=e.ownerDocument.documentElement;return e.getBoundingClientRect().top+(window.scrollY||document.documentElement.scrollTop)-Math.max(0,t.clientTop,window.document.body.clientTop)},Rc=a(7791),Zc=(0,L.Z)((e=>new Promise((t=>{var n=()=>{var r=Mn(e);r?t(r):window.setTimeout(n,200)};n()}))));function zc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zc(Object(n),!0).forEach((function(t){Uc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qc,Gc={bodySelector:".article-body-commercial-selector",slotSelector:" > p",minAbove:500,minBelow:400,clearContentMeta:0,selectors:{" .element-rich-link":{minAbove:100,minBelow:400}," .element-image":{minAbove:440,minBelow:440}," .player":{minAbove:50,minBelow:50}," > h1":{minAbove:50,minBelow:50}," > h2":{minAbove:50,minBelow:50}," > *:not(p):not(h2):not(blockquote):not(#sign-in-gate)":{minAbove:50,minBelow:50}," .ad-slot":{minAbove:100,minBelow:100}," .element-pullquote":{minAbove:400,minBelow:400},' > figure[data-spacefinder-role="inline"]':{minAbove:400,minBelow:400}},fromBottom:!0},Wc=Hc(Hc({},Gc),{},{selectors:Hc(Hc({},Gc.selectors),{},{" .element-rich-link":{minAbove:400,minBelow:400}," .ad-slot":{minAbove:400,minBelow:400}," .ad-slot--im":{minAbove:400,minBelow:400}})}),Vc=e=>{var t=(0,$a.dQ)("carrot"),n=e.slice(1);return kn.Z.mutate((()=>{var e;null!==(e=n[0])&&void 0!==e&&e.parentNode&&n[0].parentNode.insertBefore(t,n[0])})).then((()=>{Ts(t,!0)}))},Kc=()=>B.d.carrotTrafficDriver?Rc.e.fillSpace((()=>{switch((0,_n.vv)()){case"leftCol":case"wide":return Gc;default:return Wc}})(),Vc,{waitForImages:!0,waitForInteractives:!0,pass:"carrot"}):Promise.resolve(!1),Jc=a(6697);function $c(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Yc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){$c(o,r,i,a,s,"next",e)}function s(e){$c(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Xc=".article-body-commercial-selector",Qc=window.guardian.config.page.isPaidContent,el=!(null===(qc=window.guardian.config.page.lightboxImages)||void 0===qc||!qc.images.length),tl=window.guardian.config.page.hasShowcaseMainElement,nl={minAbove:500,minBelow:500},rl=e=>"".concat($a.O5,"-").concat(e+2),il=function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=(0,$a.dQ)(n,{name:t,classes:r}),s=(0,$a.iw)(a,o);return kn.Z.mutate((()=>{e.parentNode&&e.parentNode.insertBefore(s,e)})).then(Yc((function*(){var e=["im","carrot"].includes(t);yield Ts(a,e,i)})))},ol=e=>(t,n)=>void 0===n||Math.abs(t.top-n.top)-e>=nl.minBelow,al=function(){var e=Yc((function*(e,t,n){if(!n)return t;var r=yield kn.Z.measure((()=>{var t,n=e.getBoundingClientRect().top,r=null===(t=document.querySelector(Xc))||void 0===t?void 0:t.getBoundingClientRect().bottom;return r?Math.abs(n-r):void 0}));return t.filter((e=>!!r&&r>=e.height))}));return function(t,n,r){return e.apply(this,arguments)}}(),sl=e=>{var t=(0,_n.vv)(),n=["leftCol","wide"].includes(t),r=" > :not(p):not(h2):not(ul):not(.".concat($a.O5,"):not(#sign-in-gate)");n&&(r+=':not([data-spacefinder-role="richLink"]):not([data-spacefinder-role="thumbnail"])');var i=window.guardian.config.page.isImmersive,o={bodySelector:Xc,slotSelector:" > p",minAbove:i?700:300,minBelow:300,selectors:{" > h2":{minAbove:5,minBelow:190},[" .".concat($a.O5)]:nl,[r]:{minAbove:35,minBelow:400},' [data-spacefinder-role="immersive"]':{minAbove:0,minBelow:600}," figure.element--supporting":{minAbove:500,minBelow:0}},filter:ol($n.ZN.mpu.height)},a=1e3;Qc&&(a+=600),el?tl&&(a+=100):a+=600;var s={bodySelector:Xc,slotSelector:" > p",minAbove:a,minBelow:300,selectors:{[" .".concat($a.O5)]:nl,' [data-spacefinder-role="immersive"]':{minAbove:0,minBelow:600}},filter:ol($n.ZN.halfPage.height)},c=e?o:s,l=function(){var t=Yc((function*(t){var n=!e;if(n){var r=yield(0,Jc.j)(t,Xc);(0,Jc.M)(r.map(((e,t)=>[rl(t),e])))}var i=t.slice(0,e?1:t.length).map(function(){var r=Yc((function*(r,i){var o=i+(e?1:2),a=i===t.length-1,s="";n&&(s+=rl(i)),e||(s+=" offset-right ad-slot--offset-right ad-slot-container--offset-right");var c={sticky:n,className:s};return il(r,"inline".concat(o),"inline","inline",e?{phablet:[$n.ZN.outstreamDesktop,$n.ZN.outstreamGoogleDesktop],desktop:[$n.ZN.outstreamDesktop,$n.ZN.outstreamGoogleDesktop]}:{desktop:yield al(r,[$n.ZN.halfPage,$n.ZN.skyscraper],a)},c)}));return function(e,t){return r.apply(this,arguments)}}());yield Promise.all(i)}));return function(e){return t.apply(this,arguments)}}();return Rc.e.fillSpace(c,l,{waitForImages:!0,waitForInteractives:!0,pass:e?"inline1":"inline2"})},cl=()=>{var e={bodySelector:Xc,slotSelector:" > p",minAbove:200,minBelow:200,selectors:{" > h2":{minAbove:100,minBelow:250},[" .".concat($a.O5)]:nl,[" > :not(p):not(h2):not(.".concat($a.O5,"):not(#sign-in-gate)")]:{minAbove:35,minBelow:200}},filter:ol($n.ZN.mpu.height)},t=function(){var e=Yc((function*(e){var t=e.map(((e,t)=>il(e,0===t?"top-above-nav":"inline".concat(t),0===t?"top-above-nav":"inline","inline",1==t||2==t?{mobile:[$n.ZN.portraitInterstitial]}:void 0)));yield Promise.all(t)}));return function(t){return e.apply(this,arguments)}}();return Rc.e.fillSpace(e,t,{waitForImages:!0,waitForInteractives:!0,pass:"inline1"})},ll=function(){var e=Yc((function*(){if(!B.d.articleBodyAdverts)return Promise.resolve(!1);var e,t,n=window.guardian.config.page.hasInlineMerchandise?(e=(0,_n.bc)(),t={bodySelector:Xc,slotSelector:" > p",minAbove:300,minBelow:300,selectors:{" > .merch":{minAbove:0,minBelow:0}," > header":{minAbove:"mobile"===e||"tablet"===e?300:700,minBelow:0}," > h2":{minAbove:100,minBelow:250},[" .".concat($a.O5)]:nl,[" > :not(p):not(h2):not(.".concat($a.O5,"):not(#sign-in-gate)")]:{minAbove:200,minBelow:400}}},Rc.e.fillSpace(t,(e=>{if(void 0===e[0])throw new Error("Trying to insert inline merch before a node that does not exist");return il(e[0],"im","im","",{},{className:"ad-slot-container--im"})}),{waitForImages:!0,waitForInteractives:!0,pass:"im"})):Promise.resolve(!1);return(yield n)&&(yield Zc("dfp-ad--im")),yield"mobile"===(0,_n.bc)()?cl():Qc?sl(!1):sl(!0).then((()=>sl(!1))),yield Kc(),n}));return function(){return e.apply(this,arguments)}}();function ul(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ul(Object(n),!0).forEach((function(t){fl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ul(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pl(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function vl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){pl(o,r,i,a,s,"next",e)}function s(e){pl(o,r,i,a,s,"throw",e)}a(void 0)}))}}var ml=()=>{var e=(0,$a.dQ)("comments");return e.classList.add("js-sticky-mpu"),e},gl=(e,t,n)=>{var r=ml();return kn.Z.mutate((()=>(e.classList.add("discussion__ad-wrapper"),window.guardian.config.page.isLiveBlog||window.guardian.config.page.isMinuteArticle||e.classList.add("discussion__ad-wrapper-wider"),t.appendChild(r),r))).then(function(){var e=vl((function*(e){yield Ts(e,!1,n?{desktop:[$n.ZN.halfPage,$n.ZN.skyscraper]}:{}),Promise.resolve(Ds.K.emit("page:commercial:comments"))}));return function(t){return e.apply(this,arguments)}}())},hl=e=>{var t;return!(null===(t=e.sizes.desktop)||void 0===t||!t.some((e=>300===e[0]&&600===e[1]||160===e[0]&&600===e[1])))},bl=e=>(!hl(e)&&e.sizes.desktop&&e.updateSizeMapping(dl(dl({},e.sizes),{},{desktop:[...e.sizes.desktop,$n.ZN.halfPage,$n.ZN.skyscraper]})),e),wl=(e,t)=>{var n=t.querySelector(".js-ad-slot"),r=Mn("dfp-ad--comments");r&&n&&to(bl(r)),r||gl(e,t,!0)},yl=function(){var e=vl((function*(){var e=document.querySelector(".js-discussion__ad-slot"),t="mobile"===(0,_n.bc)();if(!B.d.commentAdverts||!e||t)return Promise.resolve(!1);var n=yield(0,Gr.z5)();return Ds.K.once("modules:comments:renderComments:rendered",(()=>{var t=document.querySelector(".js-comments .content__main-column");t&&kn.Z.measure((()=>t.offsetHeight)).then((r=>{r>=800||n&&r>=600?gl(t,e,!0):n&&gl(t,e,!1),Ds.K.on("discussion:comments:get-more-replies",(()=>{wl(t,e)}))}))})),Promise.resolve(!0)}));return function(){return e.apply(this,arguments)}}();function Sl(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function _l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Sl(o,r,i,a,s,"next",e)}function s(e){Sl(o,r,i,a,s,"throw",e)}a(void 0)}))}}var El=$n.ZN.mpu.height+24,Pl=$n.ZN.halfPage.height+24,Ol=e=>{(0,t.c)("commercial","Inserting comments-expanded advert");var n=(0,$a.dQ)("comments-expanded",{classes:"comments-expanded"}),r=document.createElement("div");r.className="ad-slot-container",r.style.position="sticky",r.style.top="0",r.appendChild(n);var i=document.createElement("div");return i.style.flexGrow="1",i.appendChild(r),kn.Z.mutate((()=>{e.appendChild(r)})).then((()=>Ts(n,!1)))},kl=function(){var e=_l((function*(){return kn.Z.measure((()=>{var e=document.querySelector(".commentsRightColumn");if(!e)throw new Error("Could not find right column.");return e}))}));return function(){return e.apply(this,arguments)}}(),Cl=e=>{var t=El+Pl+window.innerHeight;return e.offsetHeight>=t},jl=function(){var e=_l((function*(){if(B.d.commentAdverts){var e=yield kl();Cl(e)?Ol(e):(e=>{var t=new ResizeObserver((()=>{Cl(e)&&(Ol(e),t.unobserve(e))}));t.observe(e)})(e)}else(0,t.c)("commercial","Adverts in comments are disabled in commercialFeatures")}));return function(){return e.apply(this,arguments)}}();function Al(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function xl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Al(o,r,i,a,s,"next",e)}function s(e){Al(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Tl,Dl,Nl=1.5,Il=2,Ml=0,Bl=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{bodySelector:".js-liveblog-body",slotSelector:" > .block",fromBottom:n,startAt:n?Dl:void 0,absoluteMinAbove:n?0:Tl*Nl,minAbove:0,minBelow:0,clearContentMeta:0,selectors:{},filter:r=>t?!!((t,n)=>Math.abs(n.top-t.top)>e*Il)(t,r)&&(t=r,!0):(t=r,!n)}},Ll=(e,t)=>e&&0===t?"top-above-nav":"inline".concat(e?t:t+1),Fl=e=>{var t="mobile"===(0,_n.bc)(),n=document.createElement("div");n.className="ad-slot-container";var r=(0,$a.dQ)("inline",{name:Ll(t,Ml),classes:"liveblog-inline"});return n.appendChild(r),kn.Z.mutate((()=>{e.parentNode&&e.parentNode.insertBefore(n,e.nextSibling)})).then(xl((function*(){return Ts(r,!1,{phablet:[$n.ZN.outstreamDesktop,$n.ZN.outstreamGoogleDesktop],desktop:[$n.ZN.outstreamDesktop,$n.ZN.outstreamGoogleDesktop]})})))},Rl=function(){var e=xl((function*(e){for(var t=[],n=0;n<e.length&&Ml<8;n+=1){var r=e[n];if(null!=r&&r.parentNode){var i=Fl(r);t.push(i),Ml+=1}}yield Promise.all(t)}));return function(t){return e.apply(this,arguments)}}(),Zl=()=>{zl();var e=Bl(Tl,!0);Hl(e)},zl=()=>{document.removeEventListener("liveblog:blocks-updated",Zl)},Hl=e=>Rc.e.fillSpace(e,Rl,{pass:"inline1"}).then((()=>{if(Ml<8){var t=document.querySelector("".concat(e.bodySelector," > .ad-slot-container"));Dl=t&&t.previousSibling instanceof HTMLElement?t.previousSibling:void 0,document.addEventListener("liveblog:blocks-updated",Zl)}else Dl=void 0}));function Ul(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var ql=function(){var t,n=(t=function*(){var t,n,r=yield(0,e.B4)();(0,e.Nl)("teads",r)&&["Article","LiveBlog"].includes(window.guardian.config.page.contentType)&&(window.teads_analytics=null!==(t=window.teads_analytics)&&void 0!==t?t:{},window.teads_analytics.analytics_tag_id="PUB_2167",window.teads_analytics.share=null!==(n=window.teads_analytics.share)&&void 0!==n?n:function(){var e;window.teads_analytics&&(window.teads_analytics.shared_data=null!==(e=window.teads_analytics.shared_data)&&void 0!==e?e:[]).push(...arguments)},yield(0,In.v)("https://a.teads.tv/analytics/tag.js",{async:!1}))},function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){Ul(o,r,i,a,s,"next",e)}function s(e){Ul(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();(0,e.Uc)((t=>{var n=(0,e.Nl)("teads",t),r=(0,Z.e)({name:"_tfpvi"});!n&&r&&(document.cookie="_tfpvi=;path=/")}));var Gl=e=>{var{shouldRun:t}=e;return{shouldRun:t,url:"//cdn.permutive.com/d6691a17-6fdb-4d26-85d6-b3dd27f55f08-web.js",name:"permutive"}},Wl=()=>{var e,t;null===(e=(t=window).google_trackConversion)||void 0===e||e.call(t,{google_conversion_id:971225648,google_custom_params:window.google_tag_params,google_remarketing_only:!0})},Vl=e=>{var{shouldRun:t}=e;return{shouldRun:t,url:"//www.googleadservices.com/pagead/conversion_async.js",name:"remarketing",onLoad:Wl}},Kl=()=>{var e,t,n,r,i,o;e=window,t=document,n="script",e.twq||((r=e.twq=function(){r.exe?r.exe(...arguments):r.queue.push(arguments)}).version="1.1",r.queue=[],(i=t.createElement(n)).async=!0,i.src="//static.ads-twitter.com/uwt.js",(o=t.getElementsByTagName(n)[0]).parentNode.insertBefore(i,o)),twq("init","nyl43"),twq("track","PageView"),twq("init","ny4k9"),twq("track","PageView")},Jl=e=>{var{shouldRun:t}=e;return{shouldRun:t,name:"twitter",insertSnippet:Kl}},$l={books:"P5033A084-E9BF-453A-91D3-C558751D9A85",business:"P5B109609-6223-45BA-B052-55F34A79D7AD",commentisfree:"PA878EFC7-93C8-4352-905E-9E03883FD6BD",artanddesign:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",culture:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",stage:"PE5076E6F-B85D-4B45-9536-F150EF3FC853",education:"P4A01DB74-5B97-435A-89F0-C07EA2C739EC",environment:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",cities:"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","global-development":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1","sustainable-business":"P2F34A388-A280-4C3F-AF43-FAF16EFCB7B1",fashion:"PCF345621-F34D-40B2-852C-6223C9C8F1E2",film:"P878ECFA5-14A7-4038-9924-3696C93706FC",law:"P1FA129DD-9B9E-49BB-98A4-AA7ED8523DFD",lifeandstyle:"PCFE04250-E5F6-48C7-91DB-5CED6854818C",media:"P1434DC6D-6585-4932-AE17-2864CD0AAE99",money:"PB71E7F1E-F231-4F73-9CC8-BE8822ADD0C2",music:"P78382DEE-CC9B-4B36-BD27-809007BFF300",international:"P505182AA-1D71-49D8-8287-AA222CD05424",au:"P505182AA-1D71-49D8-8287-AA222CD05424","australia-news":"P505182AA-1D71-49D8-8287-AA222CD05424",uk:"P505182AA-1D71-49D8-8287-AA222CD05424","uk-news":"P505182AA-1D71-49D8-8287-AA222CD05424",us:"P505182AA-1D71-49D8-8287-AA222CD05424","us-news":"P505182AA-1D71-49D8-8287-AA222CD05424",world:"P505182AA-1D71-49D8-8287-AA222CD05424",politics:"P5B7468E3-CE04-40FD-9444-22FB872FE83E",careers:"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","culture-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","global-development-professionals-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","government-computing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","guardian-professional":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","healthcare-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","higher-education-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","housing-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-government-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","local-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","public-leaders-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","small-business-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","social-care-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","teacher-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","voluntary-sector-network":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA","women-in-leadership":"P3637DC6B-E43C-4E92-B22C-3F255CC573DA",science:"PDAD6BC22-C97B-4151-956B-7F069B2C56E9",society:"P7AF4A592-96FB-4255-B33F-352406F4C7D2",sport:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",football:"PCC1AEBB6-7D1A-4F34-8256-EFC314E5D0C3",technology:"P29EF991A-3FEE-4215-9F03-58EACA8286B9",travel:"PD1CEDC3E-2653-4CB6-A4FD-8A315DE07548","tv-and-radio":"P66E48909-8FC9-49E8-A7E6-0D31C61805AD","brand-only":"P0EE0F4F4-8D7C-4082-A2A4-82C84728DC59"},Yl={shouldRun:!!window.guardian.config.switches.imrWorldwide&&cr(),url:"//secure-dcr.imrworldwide.com/novms/js/2/ggcmb510.js",onLoad:()=>{var e,t=window.guardian.config.page.section.toLowerCase(),n=null!==(e=$l[t])&&void 0!==e?e:$l["brand-only"],r=t in $l?t:"The Guardian - brand only",i={sfcode:"dcr",apid:n,apn:"theguardian"},o=window.NOLCMB.getInstance(i.apid);o.ggInitialize(i);var a={type:"static",assetid:window.guardian.config.page.pageId,section:r};o.ggPM("staticstart",a)}},Xl={shouldRun:!!window.guardian.config.switches.imrWorldwide&&cr(),url:"//secure-au.imrworldwide.com/v60.js",onLoad:()=>{window.nol_t({cid:"au-guardian",content:"0",server:"secure-gl"}).record().post()}};function Ql(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function eu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ql(o,r,i,a,s,"next",e)}function s(e){Ql(o,r,i,a,s,"throw",e)}a(void 0)}))}}var tu=e=>{var t=document.scripts[0],n=document.createDocumentFragment(),r=!1;return e.forEach((e=>{if(!0!==e.loaded){if(e.beforeLoad&&e.beforeLoad(),!0===e.useImage&&void 0!==e.url)(new Image).src=e.url;else if(e.insertSnippet)e.insertSnippet();else{var t;r=!0;var i=document.createElement("script");void 0!==e.url&&(i.src=e.url),i.onload=null!==(t=e.onLoad)&&void 0!==t?t:null,!0===e.async&&i.setAttribute("async",""),e.attrs&&e.attrs.forEach((e=>{i.setAttribute(e.name,e.value)})),n.appendChild(i)}e.loaded=!0}})),r?kn.Z.mutate((()=>{null!=t&&t.parentNode&&t.parentNode.insertBefore(n,t)})):Promise.resolve()},nu=function(){var t=eu((function*(t,n){yield tu(n);var r=yield(0,e.B4)(),i=t.filter((t=>void 0!==t.name&&(0,e.Nl)(t.name,r)));i.length>0&&(yield tu(i))}));return function(e,n){return t.apply(this,arguments)}}(),ru=()=>{var e,t,n,r,i=[Vl({shouldRun:null!==(e=window.guardian.config.switches.remarketing)&&void 0!==e&&e}),Gl({shouldRun:null!==(t=window.guardian.config.switches.permutive)&&void 0!==t&&t}),Xa,ts({shouldRun:null!==(n=window.guardian.config.switches.inizio)&&void 0!==n&&n}),Jl({shouldRun:null!==(r=window.guardian.config.switches.twitterUwt)&&void 0!==r&&r})].filter((e=>e.shouldRun)),o=[Yl,Xl].filter((e=>e.shouldRun));return nu(i,o)},iu=function(){var e=eu((function*(){return B.d.thirdPartyTags?(yield ru(),Promise.resolve(!0)):Promise.resolve(!1)}));return function(){return e.apply(this,arguments)}}();function ou(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var au=function(){var n,r=(n=function*(){var n=yield(0,e.B4)();n.canTarget?((e=>{var n=void 0===e.gpcSignal?-1:+e.gpcSignal,r=p.get();(0,t.c)("commercial","gpcSignal ".concat(n)),r.setProperty("gpcSignal",n)})(n),(0,t.c)("commercial","tracking gpc signal")):(0,t.c)("commercial","No consent to track gpc signal")},function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){ou(o,r,i,a,s,"next",e)}function s(e){ou(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();function su(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}var cu=function(){var n,r=(n=function*(){var n,r=yield(0,e.B4)();"tcfv2"==r.framework&&null!==(n=r.tcfv2)&&void 0!==n&&n.consents[8]||r.canTarget?((()=>{var e=document.body.offsetHeight,n=window.innerHeight,r=Math.floor(e/n),i=p.get();i.setProperty("pageHeightVH",r);for(var o=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){var n=String(e.target.getAttribute("data-depth"));(0,t.c)("commercial","current scroll depth ".concat(n)),i.mark("scroll-depth-vh-".concat(n)),o.unobserve(e.target)}}))})),a=1;a<=r;a++){var s=document.createElement("div");s.dataset.depth=String(a),s.style.top=String(100*a)+"%",s.style.position="absolute",s.className="scroll-depth-marker",document.body.appendChild(s),o.observe(s)}})(),(0,t.c)("commercial","tracking scroll depth")):(0,t.c)("commercial","No consent to track scroll depth")},function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){su(o,r,i,a,s,"next",e)}function s(e){su(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var du=(e,t,n)=>{window.console.warn("Caught error.",t.stack),kt(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(n),!0).forEach((function(t){uu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({module:e},n),!1)},fu=(e,t,n)=>{var r=(e=>{var t;try{e()}catch(e){t=Ot(e)}return t})(t);r&&du(e,r,n)},pu=(e,t)=>{e.forEach((e=>{var[n,r]=e;return fu(n,r,t)}))};function vu(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function mu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){vu(o,r,i,a,s,"next",e)}function s(e){vu(o,r,i,a,s,"throw",e)}a(void 0)}))}}var gu,{isDotcomRendering:hu,frontendAssetsFullURL:bu,switches:wu,page:yu}=window.guardian.config;a.p=(gu=null!=bu?bu:yu.assetsPath,"".concat(gu,"javascripts/commercial/"));var Su={feature:"commercial",bundle:"standalone"},_u=[],Eu=[["cm-adFreeSlotRemoveFronts",Nn],["cm-removeConsentedAdsOnConsentChange",Ic],["cm-closeDisabledSlots",Dn],["cm-comscore",()=>Eo()],["cm-ipsosmori",Dc],["cm-teadsCookieless",ql],["cm-trackScrollDepth",cu],["cm-trackGpcSignal",au]];B.d.adFree||(_u.push(["cm-setAdTestCookie",Mc.S],["cm-setAdTestInLabelsCookie",Bc.S],["cm-prepare-prebid",()=>Fs()],["cm-prepare-googletag",()=>(()=>{!function(e,t,n,r,i){if(!t){t=t||{},window.permutive=t,t.q=[],t.config={}||{},t.config.projectId="d6691a17-6fdb-4d26-85d6-b3dd27f55f08",t.config.apiKey="359ba275-5edd-4756-84f8-21a24369ce0b",t.config.environment=t.config.environment||"production";for(var o=["addon","identify","track","trigger","query","segment","segments","ready","on","once","user","consent"],a=0;a<o.length;a++){var s=o[a];t[s]=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);t.q.push({functionName:e,arguments:n})}}(s)}}}(document,window.permutive),window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((()=>{if(0===window.googletag.pubads().getTargeting("permutive").length){var e=window.localStorage.getItem("_pdfps");window.googletag.pubads().setTargeting("permutive",e?JSON.parse(e):[])}}));var e={user:window.guardian.config.user,page:window.guardian.config.page,ophan:window.guardian.config.ophan};return hc(e,window.permutive,kt),Promise.resolve()})().then(fc)],["cm-prepare-a9",()=>(0,e.B4)().then((t=>{if((0,e.Nl)("a9",t))return Co();throw Error("No consent for a9")})).catch((e=>{(0,t.c)("commercial","âš ï¸� Failed to execute a9",e)}))]),Eu.push(["cm-prepare-adverification",ao],["cm-mobileSticky",()=>{if(kr()){var e=Nc();return kn.Z.mutate((()=>{document.body&&e&&document.body.appendChild(e)})).then((()=>{if(e){var t=e.querySelector("#dfp-ad--mobile-sticky");t&&Ts(t,!0)}}))}return Promise.resolve()}],["cm-highMerch",()=>{if(B.d.highMerch){var e=window.guardian.config.page.commentable?"#comments + *":".content-footer > :first-child",t=document.querySelector(e),n=(0,$a.dQ)("merchandising-high"),r=(0,$a.iw)(n,{className:"fc-container fc-container--commercial"});return r.style.display="flex",r.style.justifyContent="center",kn.Z.mutate((()=>{null!=t&&t.parentNode&&t.parentNode.insertBefore(r,t)}))}return Promise.resolve()}],["cm-articleAsideAdverts",()=>{var e=$s(".js-secondary-column");if(!e.get().length||"none"===e.get(0).style.display)return Promise.resolve(!1);var t=$s(".js-content-main-column"),n=$s(".js-ad-slot",e.get(0)),r=$s(".element--immersive",t.get(0)),i=n.get(),o=r.get();return i.length&&t.get().length?kn.Z.measure((()=>{var e=Fc(o[0]),n=Fc(t.get(0));return[t.get(0).offsetHeight,e-n]})).then((e=>{var[t,n]=e;return window.guardian.config.page.hasShowcaseMainElement?i[0]:window.guardian.config.page.isImmersive&&o.length>0?kn.Z.mutate((()=>{var e,t;return Lc(i),null===(e=i[0])||void 0===e||e.setAttribute("data-mobile",(t=n)>600?"1,1|2,2|300,250|300,274|300,600|fluid":t>274?"1,1|2,2|300,250|300,274":t>250?"1,1|2,2|300,250":"1,1|2,2"),i[0]})):t<1300?kn.Z.mutate((()=>{var e;return Lc(i),null===(e=i[0])||void 0===e||e.setAttribute("data-mobile","1,1|2,2|300,250|300,274|fluid"),i[0]})):i[0]})).then((e=>(Ds.K.emit("page:defaultcommercial:right",e),!0))):Promise.resolve(!1)}],["cm-articleBodyAdverts",()=>(Ds.K.on("page:article:redisplayed",ll),document.addEventListener("article:sign-in-gate-dismissed",(()=>{ll()})),ll())],["cm-liveblogAdverts",()=>{var e;return B.d.liveblogAdverts?"variant"===(null===(e=window.guardian.config.tests)||void 0===e?void 0:e.serverSideLiveblogInlineAdsVariant)?((0,t.c)("commercial","Server side inline ads mode. No client-side inline ad slots inserted"),Promise.resolve()):kn.Z.measure((()=>(Tl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.documentElement.clientHeight?e.documentElement.clientHeight:0}(),Tl))).then(Bl).then(Hl):Promise.resolve()}],["cm-commentAdverts",yl],["cm-commentsExpandedAdverts",()=>(document.addEventListener("comments-expanded",(()=>{jl()})),Promise.resolve())],["rr-adblock-ask",ho],["cm-thirdPartyTags",iu],["cm-redplanet",()=>B.d.launchpad&&cr()?wc():Promise.resolve()]));var Pu=function(){var e=mu((function*(){if(hu){var e=yield Promise.resolve().then(a.bind(a,3579));Eu.push(["c-user-features",e.refresh])}}));return function(){return e.apply(this,arguments)}}(),Ou=()=>{var e=p.get();e.mark("commercialBootEnd"),e.mark("commercialModulesLoaded");var t=document.querySelectorAll('[id^="'.concat(Po,'"]')).length;e.setProperty("adSlotsTotal",t);var n=document.querySelectorAll('[id^="'.concat(Po,'inline"]')).length;e.setProperty("adSlotsInline",n)},ku=function(){var e=mu((function*(){(0,t.c)("commercial","ğŸ“¦ standalone.commercial.ts",a.p),(0,t.c)("commercial","@guardian/commercial commit https://github.com/guardian/commercial/blob/".concat("aaf5e2fb6f0f1329645b0fbf3c15bb5cd18c3802")),p.init(),pu([["ga-user-timing-commercial-start",function(){p.get().mark("commercialStart"),p.get().mark("commercialBootStart")}]],Su),window.googletag={cmd:[]};try{yield Pu();var e=[[_u,"commercialBaseModulesLoaded"],[Eu,"commercialExtraModulesLoaded"]].map((e=>((e,t)=>{var n=[];return e.forEach((e=>{var[t,r]=e;pu([[t,function(){var e=r();n.push(e)}]],Su)})),Promise.allSettled(n).then((()=>{p.get().mark(t)}))})(...e)));yield Promise.all(e).then(Ou)}catch(e){kt(e,Su,!1)}}));return function(){return e.apply(this,arguments)}}(),Cu=()=>{window.guardian.mustardCut||window.guardian.polyfilled?ku():window.guardian.queue.push(ku)},ju=function(){var t=mu((function*(){var t=yield(0,e.B4)();!t.tcfv2||(0,e.Nl)("googletag",t)||B.d.adFree?Cu():a.e(501).then(a.bind(a,985)).then((e=>{var{bootConsentless:n}=e;return n(t,hu)}))}));return function(){return t.apply(this,arguments)}}();wu.optOutAdvertising?ju():Cu()})()})();
//# sourceMappingURL=graun.standalone.commercial.js.map