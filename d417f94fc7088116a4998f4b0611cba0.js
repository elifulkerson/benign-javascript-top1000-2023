(self.webpackChunkheifetz=self.webpackChunkheifetz||[]).push([[179],{49978:function(e,t){"use strict";t.Z={Popover:"ddLajxN_Q0AuobBZjX9m",arrow:"W329ne7r9Ot4gzRWR_AA","arrow--top":"w2j9r5Z9lHt9PvAmRayf","arrow--bottom":"cApyvfK_BuxctlL0gXe_","arrow--left":"saunLECwfTBPsqThUWtO","arrow--right":"RhQaE5TkssFiFDfVK18R",content:"Hd4HpgivEXthJjQIraJI","content-enter":"ANnfP2VN3I39bhxQBO6U","content-enter-active":"IJ34IiXWG8RSIazVpj4O","content-leave":"i5jbKhy30Rl2CfXvIatH","content-leave-active":"MOQr6PlCSuOsv44V0nUy","content--fixed":"iu6FC73GJyA4U_F5hVlW","content--top":"Q3aW4lGNloPwsNZozG74","content--arrowed":"ppT2GYHiMrV3Rj29VP7O","content--enter":"qNMJ8yjaJck7PqHKsACa","content--bottom":"PyIzdhf5t6OptzHvhQKO","content--left":"J1kFp8NPNRphbsX0iU3g","content--right":"w7Vrabm02QLkRZ5iseWC"}},26348:function(e,t,n){"use strict";var r,o,i,u,a,c,s=n(85879),l=n(49899);n(73439);var d=n(82452),_=n(61763),p=n(51384),f=n(53862),T=n(54231),E=n(25442),h=n(82096),v=n(87363),m=n(78193),A=n.n(m),I=n(87804),y=n(79855),O=n(67516),S=n.n(O),g=n(80714),C=n(97476),N=n(66263),R=n(45732),P=n(23113),D=n(55164),L=n(57477),w=n(74135),b=n(54422),G=function(e){if(204===e.status||"0"===e.headers.get("content-length"))return!1;var t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")};function U(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(t,n).catch(function(e){throw e.fetchOptions=n,e}).then(function(e){return n.responseProcessor?n.responseProcessor(e):G(e)?e.json().then(function(t){return{json:t,res:e}}):e.text().then(function(t){return{text:t,res:e}})}).then(function(e){var t=e.json,r=e.text,o=e.res,i=e.payload,u=(0,w.camelizeKeys)(t),a=u||r||i,c=t||r||i,s=u&&u.code;if(o.status>=300||s&&!n.ignoreCode){var l,d=new _.VL(o,n);throw d.payload=null!==(l=null==a?void 0:a.error)&&void 0!==l?l:a,d.res=o,d}return u&&Array.isArray(u)&&(a={count:Number(o.headers.get("x-result-count")),data:u},c=(0,L._)((0,D._)({},a),{data:t})),Object.assign(o,{res:o,payload:a,payloadOrigin:c})})}}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(0,_.SQ)(fetch,e);return function(e,r){return e=e.replace("zhuanlan.zhihu.com/api/api","zhuanlan.zhihu.com/api"),!(0,b.sD)(e)&&t&&(e="".concat(/zhihu.(com|dev)$/.test(t)?"":"http".concat("s",":"),"//").concat(t).concat(e)),n(e,r)}}var M=n(22107),F=n(94707),Z=n(87320),B=n(15030),H=n(71728),q=n(94009),x=function(){function e(){var t=this;(0,M._)(this,e),(0,Z._)(this,"_apiStatus",void 0),(0,Z._)(this,"_timer",null),(0,Z._)(this,"prefer",function(e,n){var r=(0,q._)(t._getApiStatus(e),2),o=r[0];return!1===r[1]?(T.ZP.increment("HCP.checking_again.default.count"),t.check(o),n):e}),(0,Z._)(this,"check",function(e){var n=(0,q._)(t._getApiStatus(e),2),r=n[0];!1===n[1]&&t._timer||(t._deactivate(r),t._ticktock())}),(0,Z._)(this,"_getApiStatus",function(e){var n=e.split("?")[0];return[n,t._apiStatus.get(n)]}),(0,Z._)(this,"_healing",function(e){t._apiStatus.delete(e),T.ZP.increment("HCP.healing.default.count")}),(0,Z._)(this,"_deactivate",function(e){t._apiStatus.set(e,!1)}),(0,Z._)(this,"_ticktock",function(){if(!t._timer){var e=1e3*(Math.floor(7*Math.random())+8);console.log("HealthCheckProbe will check after ".concat(e,"ms.")),t._timer=setTimeout(function(){Promise.all(Array.from(t._apiStatus.entries()).map(function(e){return(0,q._)(e,1)[0]}).map(function(e){return fetch(e).then(function(t){return[e,t.ok]},function(){return[e,!1]})})).then(function(e){e.forEach(function(e){var n=(0,q._)(e,2),r=n[0];t[n[1]?"_healing":"_deactivate"](r)}),T.ZP.increment("HCP.checked.default.count")}).finally(function(){t._timer&&clearTimeout(t._timer),t._timer=null})},e)}}),this._apiStatus=new Map}return(0,F._)(e,null,[{key:"instance",value:function(){return this._instance||(this._instance=new e),this._instance}}]),e}();(0,Z._)(x,"_instance",null);var V=n(57045),z="UNAUTHORIZED_RELOAD",K=Object.values(N.AW);function W(e){var t=e.payload,n=e.res,r=t||{},o=r.code,i=r.message,u=n&&n.status;if(401===u&&100===o){var a=S().get(z);(!a||Date.now()-a.time>36e4)&&(S().set(z,{time:Date.now()}),location.reload())}if(403===u&&K.includes(o)){var c=Object.keys(N.AW).find(function(e){return N.AW[e]===o});location.href="/account/unhuman?".concat(V.stringify({type:c,message:i,next:location.href}))}throw e}var Y=n(4667),Q=n.n(Y)()(function(){var e,t={xZst81:void 0};try{window.addEventListener("wdfs1",function(e){var n;t.xZst81=null==e?void 0:null===(n=e.detail)||void 0===n?void 0:n.xzst81}),n.e(1243).then(n.t.bind(n,80177,23)).then(function(e){var n=e.wdfs1;t.xZst81=n()})}catch(t){null===(e=window.Raven)||void 0===e||e.captureException(t,{fingerprint:["zswsdid-sdk"],level:"warning"})}return t}),j=n(62082);function X(e){var t=e.protocol,n=e.host;return[t?t.replace(":",""):"",n?n.replace(/\.|:/g,"-"):""].join("-")}var J=function(e,t){var n,r=null==t?void 0:t();if(r){var o={type:"ZERR_NO_AUTH_TOKEN",appName:"heifetz",spanName:"default",error:{name:e.name,message:e.message,payload:e.payload||"Unknown"},currentUser:r};(0,j.zB)(o),null===(n=window.Raven)||void 0===n||n.captureMessage("ZERR_NO_AUTH_TOKEN",{extra:o})}},$=n(10840),ee=n(20382),et={skipAutoSign:function(e){return!1},captureException:function(e,t){var n;null===(n=window.Raven)||void 0===n||n.captureException(e,{fingerprint:["ZsAutoSignature"],extra:t})}},en=function(e){var t=e.ua,n=e.authInfo,r=e.passVars,o=e.xUDId;return t.ZhihuHybrid||t.Zhihu?(0,_.jO)({userAgent:t,authInfo:n,xUDId:o,xAppVersion:null==r?void 0:r["x-app-version"],xZst81:null==r?void 0:r["x-zst-81"]},et):(0,_.OB)({},et)},er=function(){if(!new URLSearchParams(location.search).has("utm_id")){var e=new URL(location.href);e.searchParams.append("utm_id","0"),history.replaceState({},"",e.toString())}},eo=function(){return null},ei=n(39288),eu=n(58909),ea=n(7407),ec=n(54826),es=n(63315),el=n(29065),ed=n(3803),e_=function(e,t){try{var n=new URL(e,"https://www.zhihu.com"),r=new URLSearchParams(n.search),o=r.get("member_id"),i=r.get("creator_token"),u={};return!o&&t.member_id&&(u.member_id=t.member_id),!i&&t.creator_token&&(u.creator_token=t.creator_token),(0,ed.r)(e,u)}catch(e){console.error(e)}return e},ep=["Creator","OrgAnalyticsWork"],ef=function(e){var t=e.query,n=t.member_id,r=t.creator_token,o=e.spanName,i=e.isOffice,u=(n||r)&&ep.some(function(e){return o.includes(e)});return function(e){return u?function(t){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=u.method;return"GET"===(void 0===a?"GET":a)&&(t=e_(t,i?{member_id:n,creator_token:r}:"OrgAnalyticsWork"===o?{creator_token:r}:{})),e(t,u)}:e}},eT=n(61533),eE=n(39658),eh=n(44259),ev=n(83697),em=n(26144),eA=n(6080),eI=n(43241),ey=n(41402),eO=n(77349),eS=n(53778),eg=n(43384),eC=n(35374),eN=n(27500),eR=(0,v.createContext)(),eP=n(67689),eD=n(90381),eL=n(76435),ew=function(e){var t=e.store,n=e.canaryConfig,r=e.children,o=t.getState().env,i=o.theme,u=o.userAgent,a=o.ctx,c=(0,q._)((0,v.useState)("dark"===i),2),l=c[0],d=c[1],_=(0,q._)((0,v.useState)(function(){return(0,eI.Z)()}),1)[0];return(0,v.useEffect)(function(){if(u.ZhihuHybrid)return(0,I.Z)("base/themeChange").listen(function(e){d("dark"===e.theme)})},[u.ZhihuHybrid]),(0,s.tZ)(eS.Provider,{store:t,children:(0,s.tZ)(eO.HK,{children:(0,s.BX)(eg.PU,{children:[(0,s.tZ)(eE.ql,{htmlAttributes:{"data-theme":l?"dark":"light"}}),(0,s.tZ)(ev.I.Provider,{value:u,children:(0,s.tZ)(eR.Provider,{value:l,children:(0,s.tZ)(ey.nq,{value:_,children:(0,s.tZ)(em.d,{isDarkMode:l,ua:u,children:(0,s.tZ)(eN.pz,{children:(0,s.tZ)(eP.j,{children:(0,s.tZ)(eA.a,{value:n,children:(0,s.tZ)(j.ZP,{appName:"heifetz",fallback:(0,s.tZ)(eL.ds,{}),release:g.Z.release,children:(0,s.tZ)(eh.c6,{preProxyUrl:null,useDevProxy:!0,children:(0,s.tZ)(eC.iH,{children:(0,s.tZ)(eD.Ho,{path:a.path,children:r})})})})})})})})})})})]})})})},eb=n(85456),eG=n.n(eb),eU=[],ek=function(e){eU.push(e)},eM=eG()(function(){if(console.groupCollapsed){var e,t=eU.reduce(function(e,t){return e+t.actualDuration},0);console.groupCollapsed("[Click to expand]: React Profiler, ".concat(eU.length," updates in ").concat(t.toFixed(2),"ms"))}for(;e=eU.shift();)e.actualDuration>=5?console.warn(e):console.info(e);console.groupEnd&&console.groupEnd()},300);function eF(e,t,n,r,o,i,u){ek({id:e,phase:t,actualDuration:n,baseDuration:r,startTime:o,commitTime:i,interactions:u}),eM()}var eZ=n(81956),eB=n(75597),eH=n(90394),eq=n(94057),ex=n(31252),eV=(0,eq.combineReducers)({global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:0},t=arguments.length>1?arguments[1]:void 0;if("undefined"==typeof window)return e;var n=t.type;return n.endsWith("request")?{count:e.count+1}:n.endsWith("success")||n.endsWith("failure")?{count:e.count?e.count-1:0}:e},local:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.id,o=t.urlToken;return["request","success","failure"].includes(n.split("/").pop())?(0,L._)((0,D._)({},e),(0,Z._)({},"".concat(n.slice(0,n.lastIndexOf("/")),"/").concat(r||o||""),n.endsWith("request"))):e}}),ez=n(6366),eK=n(22712),eW=n(8866),eY=n(89250),eQ=n(58857),ej=n(79540),eX=n(64120),eJ=n(13737),e$=n(79281),e0=n(33068),e1=n(64813),e2=n(73135),e5=n(19532),e3=n(25130),e7=(0,eq.combineReducers)({recents:e0.ZP,strangers:e1.Z,friends:e2.ZP,search:e5.ZP,config:e3.ZP}),e4={isChatMqttExisted:!1},e8=(0,ei.co)("chatGlobal",["SET_CHAT_MQTT_STATUS"]),e6=(0,eq.combineReducers)({chats:e$.ZP,inbox:e7,global:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e4,t=arguments.length>1?arguments[1]:void 0;if(t.type===e8.SET_CHAT_MQTT_STATUS){var n=t.meta.status;return(0,L._)((0,D._)({},e),{isChatMqttExisted:n})}return e}}),e9=n(98171),te=n(81204),tt=n(803);n(28953);var tn=n(69906),tr=n(67927),to=(0,D._)({},(0,ei.FH)("comment",["GET","GET_COLLAPSED","GET_REVERSE","GET_REVIEWING","GET_CONVERSATION","UPDATE_LIKE","UPDATE_DISLIKE","UPDATE_FEATURED","UPDATE_COLLAPSED","APPROVE","REJECT","DELETE","ADD","GET_MORE_REPLY_COMMENT","GET_CONVERSATION_MORE","GET_STICKERS","GET_COMMENT_WITH_PIC_PERMISSION","LOAD_NOTI_COMMENTS"]),(0,ei.co)("comment",["ORDER"])),ti=function(e){var t=e.parentType,n=e.parentId;return"".concat(t,"_").concat(n)},tu=(0,eq.combineReducers)({pagination:(0,tn.Fd)(to.GET,{mapActionToKey:ti,additionalCaseTypes:[to.APPROVE.success,to.ADD.success,to.GET_CONVERSATION.success].concat((0,l._)(Object.values(to.UPDATE_FEATURED)),(0,l._)(Object.values(to.UPDATE_COLLAPSED))),additionalCase:function(e,t){switch(t.type){case to.APPROVE.success:return(0,L._)((0,D._)({},e),{totals:e.totals+1,ids:(0,l._)(e.ids).concat([t.id])});case to.ADD.success:var n=t.replyToId,r=t.id;if(n&&!r){var o=e.ids.indexOf(n);return(0,L._)((0,D._)({},e),{totals:e.totals+1,ids:(0,l._)(e.ids.slice(0,o+1)).concat([t.result],(0,l._)(e.ids.slice(o+1))),newIds:(0,l._)(e.newIds.slice(0,o+1)).concat([t.result],(0,l._)(e.newIds.slice(o+1)))})}return(0,L._)((0,D._)({},e),{totals:e.totals+1,ids:(0,l._)(e.ids).concat([t.result]),newIds:(0,l._)(e.newIds).concat([t.result])});case to.UPDATE_COLLAPSED.request:var i=e.ids,u=i.indexOf(t.id),a=i.slice();return t.expect?a.splice(u,1):a.push(t.id),(0,L._)((0,D._)({},e),{ids:a,newIds:a,index:u});case to.UPDATE_COLLAPSED.success:return delete e.index,(0,D._)({},e);case to.UPDATE_COLLAPSED.failure:var c=e.ids.slice(),s=c.indexOf(t.id);return t.expect?c.splice(s,0,t.id):c.splice(s,1),delete e.index,(0,L._)((0,D._)({},e),{ids:c,newIds:c});default:return e}}}),collapsed:(0,tn.Fd)(to.GET_COLLAPSED,{mapActionToKey:ti,additionalCaseTypes:(0,l._)(Object.values(to.UPDATE_COLLAPSED)),additionalCase:function(e,t){switch(t.type){case to.UPDATE_COLLAPSED.request:var n=e.ids,r=n.indexOf(t.id),o=n.slice();return t.expect?o.push(t.id):o.splice(r,1),(0,L._)((0,D._)({},e),{ids:o,newIds:o,index:r});case to.UPDATE_COLLAPSED.success:return delete e.index,(0,D._)({},e);case to.UPDATE_COLLAPSED.failure:var i=e.ids,u=e.index,a=i.slice();return t.expect?a.splice(u,1):a.splice(u,0,t.id),delete e.index,(0,L._)((0,D._)({},e),{ids:i,newIds:a});default:return e}}}),reverse:(0,tn.Fd)(to.GET_REVERSE,{mapActionToKey:ti,additionalCaseTypes:[to.APPROVE.success,to.ADD.success],additionalCase:function(e,t){switch(t.type){case to.APPROVE.success:return(0,L._)((0,D._)({},e),{totals:e.totals+1,ids:[t.id].concat((0,l._)(e.ids))});case to.ADD.success:var n=t.replyToId,r=t.id;if(n&&!r){var o=e.ids.indexOf(n);return(0,L._)((0,D._)({},e),{totals:e.totals+1,newIds:(0,l._)(e.newIds.slice(0,o+1)).concat([t.result],(0,l._)(e.newIds.slice(o+1))),ids:(0,l._)(e.ids.slice(0,o+1)).concat([t.result],(0,l._)(e.ids.slice(o+1)))})}return(0,L._)((0,D._)({},e),{totals:e.totals+1,ids:(0,l._)(e.ids).concat([t.result]),newIds:(0,l._)(e.newIds).concat([t.result])});default:return null}}}),reviewing:(0,tn.Fd)(to.GET_REVIEWING,{mapActionToKey:ti,additionalCaseTypes:[to.APPROVE.success],additionalCase:function(e,t){if(t.type===to.APPROVE.success){var n=e.ids;return n.splice(n.indexOf(t.id),1),(0,L._)((0,D._)({},e),{ids:n})}return e}}),conversation:(0,tn.Fd)(to.GET_CONVERSATION,{additionalCaseTypes:[to.ADD.success].concat((0,l._)(Object.values(to.UPDATE_FEATURED))),additionalCase:function(e,t){return t.type===to.ADD.success?(0,L._)((0,D._)({},e),{totals:e.totals+1,ids:(0,l._)(e.ids).concat([t.payload.id])}):e}}),parent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=ti(t);switch(t.type){case to.GET.success:var r=t.payload,o=r.featuredCounts,i=r.collapsedCounts,u=r.reviewingCounts,a=r.commonCounts,c=r.commentStatus;return(0,L._)((0,D._)({},e),(0,Z._)({},n,{featuredCounts:o,collapsedCounts:i,reviewingCounts:u,commonCounts:a,commentStatus:c}));case to.APPROVE.success:var s=e[n].reviewingCounts-1;return(0,L._)((0,D._)({},e),(0,Z._)({},n,(0,L._)((0,D._)({},e[n]),{reviewingCounts:s})));case to.REJECT.success:var l=e[n].reviewingCounts+1;return(0,L._)((0,D._)({},e),(0,Z._)({},n,(0,L._)((0,D._)({},e[n]),{reviewingCounts:l})));case to.UPDATE_COLLAPSED.success:var d=e[n]||{};return(0,L._)((0,D._)({},e),(0,Z._)({},n,(0,L._)((0,D._)({},d),{collapsedCounts:d.collapsedCounts+(t.expect?1:-1)})));case to.DELETE.success:var _=e[n]||{};return(0,L._)((0,D._)({},e),(0,Z._)({},n,(0,D._)({},_,t.collapsed&&{collapsedCounts:_.collapsedCounts-1},t.reviewing?{reviewingCounts:_.reviewingCounts-1}:{commonCount:_.commonCount-1})));default:return e}}}),ta=n(26215),tc=(0,ei.FH)("commercialReport",["GET_COMMERCIAL_REPORT_INFO"]).GET_COMMERCIAL_REPORT_INFO,ts=(0,ei.co)("commercialReport",["UPDATE_LOCAL_ANSWER_COMMERCIAL_REPORT_INFO"]).UPDATE_LOCAL_ANSWER_COMMERCIAL_REPORT_INFO,tl={commercialTypes:[]},td=n(65514),t_=n(11345),tp=(0,eq.combineReducers)({ask:td.ZP,cities:t_.Z}),tf=n(99736),tT=n(19958),tE=n(105),th=n(26267),tv=n(49249),tm=n(1047),tA=n(74065),tI=n(33824),ty=n(20765),tO=n(62039),tS=n(87441),tg=n(34797),tC=(0,eq.combineReducers)({recommendations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===tg.Hp.GET_RECOMMENDATIONS.request?{isLoading:!0}:t.type===tg.Hp.GET_RECOMMENDATIONS.success?{isDrained:!0,items:t.payload.data}:t.type===tg.Hp.GET_RECOMMENDATIONS.failure?{isError:!0}:e},specials:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{entities:{},order:[]},t=arguments.length>1?arguments[1]:void 0;if(t.type===tg.Hp.GET_LATEST_SPECIALS.success){var n=t.payload.data;return{entities:n.reduce(function(e,t){return(0,L._)((0,D._)({},e),(0,Z._)({},t.id,t))},{}),order:n.map(function(e){return e.id})}}if([tg.Hp.FOLLOW_SPECIAL.request,tg.Hp.UNFOLLOW_SPECIAL.failure].includes(t.type)){var r=t.meta.id,o=e.entities;return o[r]?(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},o),(0,Z._)({},r,(0,L._)((0,D._)({},o[r]),{isFollowing:!0})))}):e}if([tg.Hp.UNFOLLOW_SPECIAL.request,tg.Hp.FOLLOW_SPECIAL.failure].includes(t.type)){var i=t.meta.id,u=e.entities;return u[i]?(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},u),(0,Z._)({},i,(0,L._)((0,D._)({},u[i]),{isFollowing:!1})))}):e}return e},roundtables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{entities:{},order:[]},t=arguments.length>1?arguments[1]:void 0;if(t.type===tg.Hp.GET_LATEST_ROUNDTABLES.success){var n=t.payload.data;return{entities:n.reduce(function(e,t){return(0,L._)((0,D._)({},e),(0,Z._)({},t.urlToken,t))},{}),order:n.map(function(e){return e.urlToken})}}if([tg.Hp.FOLLOW_ROUNDTABLE.request,tg.Hp.UNFOLLOW_ROUNDTABLE.failure].includes(t.type)){var r=t.meta.urlToken,o=e.entities;return o[r]?(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},o),(0,Z._)({},r,(0,L._)((0,D._)({},o[r]),{followersCount:o[r].followersCount+1,isFollowing:!0})))}):e}if([tg.Hp.UNFOLLOW_ROUNDTABLE.request,tg.Hp.FOLLOW_ROUNDTABLE.failure].includes(t.type)){var i=t.meta.urlToken,u=e.entities;return u[i]?(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},u),(0,Z._)({},i,(0,L._)((0,D._)({},u[i]),{followersCount:u[i].followersCount-1,isFollowing:!1})))}):e}return e},collections:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===tg.Hp.GET_HOT_COLLECTIONS.success)return t.payload.data.reduce(function(e,t){return(0,L._)((0,D._)({},e),(0,Z._)({},t.id,t))},{});if([tg.Hp.FOLLOW_COLLECTION.request,tg.Hp.UNFOLLOW_COLLECTION.failure].includes(t.type)){var n=t.meta.id;return e[n]?(0,L._)((0,D._)({},e),(0,Z._)({},n,(0,L._)((0,D._)({},e[n]),{followerCount:e[n].followerCount+1,isFollowing:!0}))):e}if([tg.Hp.UNFOLLOW_COLLECTION.request,tg.Hp.FOLLOW_COLLECTION.failure].includes(t.type)){var r=t.meta.id;return e[r]?(0,L._)((0,D._)({},e),(0,Z._)({},r,(0,L._)((0,D._)({},e[r]),{followerCount:e[r].followerCount-1,isFollowing:!1}))):e}return e},columns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===tg.Hp.GET_RECOMMEND_COLUMNS.success?t.payload.data.reduce(function(e,t){return(0,L._)((0,D._)({},e),(0,Z._)({},t.urlToken,t))},{}):e},square:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hotQuestionList:[],potentialList:[]},t=arguments.length>1?arguments[1]:void 0;if(t.type===tg.Hp.GET_RECENT_HOT_QUESTION.success){var n=t.payload.data;return(0,L._)((0,D._)({},e),{hotQuestionList:(void 0===n?[]:n).slice(0,4)})}if(t.type===tg.Hp.GET_POTENTIAL_QUESTION.success){var r=t.payload.data;return(0,L._)((0,D._)({},e),{potentialList:r.slice(0,4)})}return e}}),tN=n(35528),tR=(0,D._)({},(0,ei.FH)("guide",["GET_TOPICS","SUBMIT_TOPICS"]),(0,ei.co)("guide",["CHANGE_SELECT_TOPIC"])),tP=(0,eq.combineReducers)({guide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isShowGuide:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case tR.SUBMIT_TOPICS.request:case tR.SUBMIT_TOPICS.failure:return(0,L._)((0,D._)({},e),{isSubmitTopic:"fail"});case tR.SUBMIT_TOPICS.success:var n=t.payload.success;return(0,L._)((0,D._)({},e),{isSubmitTopic:n?"done":"fail"});case tR.GET_TOPICS.request:case tR.GET_TOPICS.failure:return(0,L._)((0,D._)({},e),{isFetching:!1});case tR.GET_TOPICS.success:var r=t.payload.data;return(0,L._)((0,D._)({data:r},e),{isFetching:!0});case tR.CHANGE_SELECT_TOPIC:var o=t.data.index,i=e.data,u=e.data[o],a=u.relatedTopics,c=u.isFollowing,s=u.isSelected,d=Object.entries(i).map(function(e,t){var n=(0,q._)(e,2),r=(n[0],n[1]);return t===o?(0,L._)((0,D._)({},r),{isFollowing:!c,isSelected:!0}):r}),_=[];if(a&&!s){var p=a.map(function(e){return(0,L._)((0,D._)({},e),{isRelated:!0})});_=(0,l._)(d.slice(0,o+1)).concat((0,l._)(p),(0,l._)(d.slice(o+1)))}else _=d;return{data:(0,D._)({},_),isFetching:!0};default:return e}}}),tD=n(29270),tL={entities:{question:{},category:{}},categories:[],commonQuestions:[],relatedQuestions:{},faqTypes:[]},tw=n(25506),tb=n(56683),tG=n(10416),tU=n(71240),tk=(0,ei.FH)("mcn",["LOAD_RANK_LIST","VOTE_PRODUCT","LOAD_ELIGIBLE_CONTENT","LOAD_CONTENT_PRODUCTS","POST_CONTENT_PRODUCTS"]),tM={products:{},rankList:{total:{},yesterday:{}}},tF=(0,eq.combineReducers)({household:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tM,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,o=t.meta;if(n===tk.LOAD_RANK_LIST.success){var i={},u={};for(var a in r){var c=function(e){var t={},n=[];return e.forEach(function(e){var r=e.linkcardId;t[r]=e,n.push(r)}),{entities:t,ids:n}}(r[a]),s=c.entities,l=c.ids;Object.assign(i,s),u[a]=l}return(0,L._)((0,D._)({},e),{products:(0,D._)({},e.products,i),rankList:(0,L._)((0,D._)({},e.rankList),(0,Z._)({},o.type,u))})}if(n===tk.VOTE_PRODUCT.request){var d=o.id,_=o.topicStatus;return(0,L._)((0,D._)({},e),{products:(0,L._)((0,D._)({},e.products),(0,Z._)({},d,(0,L._)((0,D._)({},e.products[d]),{topicStatus:_})))})}if(n===tk.VOTE_PRODUCT.failure){var p=o.id,f=o.originalStatus;return(0,L._)((0,D._)({},e),{products:(0,L._)((0,D._)({},e.products),(0,Z._)({},p,(0,L._)((0,D._)({},e.products[p]),{topicStatus:f})))})}return e}}),tZ=n(38030),tB={isFetching:!1,isDrained:!1,isPrevDrained:!1,result:[],next:null,key:null},tH=function(e,t){var n=e.request,r=e.success,o=e.failure;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tB,i=arguments.length>1?arguments[1]:void 0;switch(i.type){case t:return tB;case n:var u=i.key,a=u!==e.key;return(0,L._)((0,D._)({},a?tB:e),{key:u,isFetching:!0});case r:var c=i.result,s=i.next,d=i.isDrained,_=i.isPrevDrained;return(0,L._)((0,D._)({},e),{result:(0,l._)(e.result).concat((0,l._)(c)),next:s,isDrained:d||c.length<10,isPrevDrained:_,isFetching:!1});case o:return(0,L._)((0,D._)({},e),{isFetching:!1});default:return e}}},tq=n(78303),tx=tH(tq.Hp.GET_RECENT,tq.Hp.CHANGE_RECENT_NOTIFICATION_ENTRY),tV=tH(tq.Hp.GET_HISTORY),tz=tH(tq.Hp.GET_NOTIFICATION_ACTORS,tq.Hp.CLEAR_NOTIFICATION_ACTORS),tK=(0,eq.combineReducers)({recent:tx,history:tV,notificationActors:tz,recentNotificationEntry:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",t=arguments.length>1?arguments[1]:void 0;return t.type===tq.Hp.CHANGE_RECENT_NOTIFICATION_ENTRY?t.entry:e}}),tW=n(6438),tY=n(26797),tQ=n(93220),tj=n(19680),tX=n(9435),tJ=n(35586),t$=n(72238),t0=n(39041),t1=n(67036),t2=n(37208),t5=n(32023),t3=n(39874),t7=n(40861),t4=n(14304),t8=n(23017),t6={entities:{},all:{data:[],paging:{},isLoading:!1}},t9=n(4276),ne=n(55344),nt=n(31857),nn=n(63475),nr=n(48825),no=n(96354),ni=n(37209),nu=n(6484),na=(0,ei.FH)("zhiPlus",["LOAD_ZHIPLUS_PERMISSION"]),nc={permissionStatus:9999},ns=n(41492),nl={common:tp,loading:eV,entities:tS.ZP,currentUser:eu.ZP,account:ez.ZP,settings:t3.ZP,notification:tr.ZP,people:tW.ZP,env:ea.ZP,me:eu.me,label:tG.ZP,ecommerce:ex.B},nd={comments:tu,commentsV2:ta.ZP,pushNotifications:tj.ZP,messages:tZ.ZP,register:t$.ZP,login:es.ZP,switches:ne.ZP,captcha:eJ.ZP,sms:t4.Z,chat:e6,emoticons:tO.ZP,creator:tT.ZP,creators:tv.ZPm},n_=(0,eq.combineReducers)((0,L._)((0,D._)({},nl,nd),{question:tX.ZP,shareTexts:t7.ZP,answers:eW.ZP,banner:eQ.ZP,topic:nt.ZP,captcha:eJ.ZP,sms:t4.Z,explore:tC,articles:eY.ZP,favlists:tN.ZP,pins:tY.ZP,topstory:nn.ZP,upload:nr.ZP,video:ni.ZP,zvideos:ns.ZP,guide:tP,reward:t1.ZP,search:t5.ZP,creator:tT.ZP,creatorSalt:tm.ZP,publicEditPermission:tQ.Z,readStatus:tJ.ZP,draftHistory:tA.ZP,notifications:tK,specials:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t6,t=arguments.length>1?arguments[1]:void 0;if(t.type===t8.Hp.GET_SPECIALS.request)return(0,L._)((0,D._)({},e),{all:(0,L._)((0,D._)({},e.all),{isLoading:!0})});if(t.type===t8.Hp.GET_SPECIALS.success){var n=t.payload,r=n.data,o=n.paging;return(0,L._)((0,D._)({},e),{entities:(0,D._)({},e.entities||{},r.reduce(function(e,t){return(0,D._)((0,Z._)({},t.id,t),e)},{})),all:{data:(0,l._)(e.all.data).concat((0,l._)(r.map(function(e){return e.id}))),paging:o,isLoading:!1}})}if(t.type===t8.Hp.GET_SPECIALS.failure)return(0,L._)((0,D._)({},e),{all:(0,L._)((0,D._)({},e.all),{paging:(0,L._)((0,D._)({},e.all.paging),{isEnd:!0}),isLoading:!1})});if([t8.Hp.FOLLOW_SPECIAL.request,t8.Hp.UNFOLLOW_SPECIAL.failure].includes(t.type)){var i=t.meta.id,u=e.entities;return u[i]?(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},u),(0,Z._)({},i,(0,L._)((0,D._)({},u[i]),{isFollowing:!0})))}):e}if([t8.Hp.UNFOLLOW_SPECIAL.request,t8.Hp.FOLLOW_SPECIAL.failure].includes(t.type)){var a=t.meta.id,c=e.entities;return c[a]?(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},c),(0,Z._)({},a,(0,L._)((0,D._)({},c[a]),{isFollowing:!1})))}):e}return e},collections:e9.ZP,userProfit:no.ZP,mcn:tU.ZP,mcnActivity:tF,brand:ej.ZP,host:tw.ZP,campaign:eX.ZP,knowledgePlan:tb.ZP,wallE:nu.Z,roundtables:t2.ZP,helpCenter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tL,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,o=t.meta;if(n===tD.Hp.LOAD_QUESTION_CATEGORIES.success){var i={},u=r.data.map(function(e){var t=e.id;return i[t]=(0,L._)((0,D._)({},e),{questions:[]}),t});return(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},e.entities),{category:i}),categories:u})}if(n===tD.Hp.LOAD_CATEGORY_QUESTIONS.success){var a={},c=r.data.map(function(e){var t=e.id;return a[t]=e,t});return(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},e.entities),{category:(0,L._)((0,D._)({},e.entities.category),(0,Z._)({},o.categoryId,(0,L._)((0,D._)({},e.entities.category[o.categoryId]),{questions:c}))),question:(0,D._)({},e.entities.question,a)})})}if(n===tD.Hp.LOAD_COMMON_QUESTIONS.success){var s={},l=r.data.map(function(e){var t=e.id;return s[t]=e,t});return(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},e.entities),{question:(0,D._)({},e.entities.question,s)}),commonQuestions:l})}if(n===tD.Hp.LOAD_QUESTION_DETAIL.success)return(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},e.entities),{question:(0,L._)((0,D._)({},e.entities.question),(0,Z._)({},r.id,r))})});if(n===tD.Hp.LOAD_RELATED_QUESTIONS.success){var d={},_=r.data.map(function(e){var t=e.id;return d[t]=e,t});return(0,L._)((0,D._)({},e),{entities:(0,L._)((0,D._)({},e.entities),{question:(0,D._)({},e.entities.question,d)}),relatedQuestions:(0,L._)((0,D._)({},e.relatedQuestions),(0,Z._)({},o.questionId,_))})}return n===tD.Hp.LOAD_QUESTION_ALL_TYPES.success?(0,L._)((0,D._)({},e),{faqTypes:null==r?void 0:r.data}):e},republish:t0.ZP,commercialReport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tl,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,o=t.meta;if(n===tc.success){var i=r.data||{},u=i.isReported,a=i.commercialTypes,c=void 0===a?[]:a,s=o.type,l=o.urlToken;return(0,D._)((0,L._)((0,D._)({},e),{commercialTypes:c}),l&&(0,Z._)({},"".concat(s,"s"),(0,Z._)({},l,{isCommercialReported:u,selectedCommercialTypes:c.filter(function(e){return e.isRecognized})})))}if(n===ts){var d=o.questionId,_=r.isCommercialReported;return(0,L._)((0,D._)({},e),{questions:(0,Z._)({},d,{isCommercialReported:_})})}return e},creatorMCN:tE.ZP,commentManage:te.ZP,commentPermission:tt.ZP,creatorRightStatus:th.ZP,zhiPlus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nc,t=arguments.length>1?arguments[1]:void 0;if(t.type===na.LOAD_ZHIPLUS_PERMISSION.success){var n=t.payload.permissionStatus;return(0,L._)((0,D._)({},e),{permissionStatus:null==n?void 0:n.zhiZixuan})}return e},streaming:t9.ZP,creationRanking:tf.ZP,eduSections:ty.ZP,adPromotion:eK.ZP,editVideo:tI.Z})),np=n(86616),nf=n(20857),nT=n(86325),nE=n(85626),nh=n(14168),nv=n.n(nh),nm=n(11786),nA=n(54616),nI=n(258),ny=function(e){var t=(0,eS.useSelector)(ea.cM),n=t.sogouInput,r=t.oppoSearch,o=t.huaweiSearch,i=(0,eS.useSelector)(eu.ib),u=(0,eg.Q4)().trackEvent,a=(0,q._)(r?["slogan","highlight"]:["searchBox","default"],2),c=a[0],l=a[1];return!n&&(0,s.tZ)(nA.Z,(0,L._)((0,D._)({allowSignUp:g.Z.allowSignUp,currentUser:i,handleAriaClick:C.Gb},e),{searchHeaderPreset:c,oiaButtonPreset:l,showOpenAppButton:!0,handleOpenAppClick:o?function(){return location.href="https://onelink.zhihu.com/onelink?id=711"}:function(){return(0,nI.Z)({trackEvent:u,zaV3Text:"顶部打开App按钮",noEnteringSignin:!!i})}}))},nO=n(91850),nS=n(65733),ng=n(7835),nC=n(79446),nN=n(45471);function nR(e){var t=e.onClose,n=e.shown,r=void 0!==n&&n,o=e.delay,i=void 0===o?300:o,u=(0,ev.n)(),a=(0,eS.useSelector)(function(e){return(0,eu.ib)(e)}),c=(0,q._)((0,nO.Z)(r),2),l=c[0],d=c[1],_=(0,nS.Z)(function(){var e=d.off;i?setTimeout(e,i):e(),null==t||t()}),p=(0,nS.Z)(function(){return d.toggle()});(0,v.useEffect)(function(){r!==l&&p()},[r,l,p]);var f=(0,q._)((0,v.useState)("register"),2),T=f[0],E=f[1];return((0,ng.Z)(function(){!a&&(0,nN.gl)()&&E("login")}),l)?g.Z.isMobileEntry?(0,s.tZ)(nN.uq,{onClose:_}):u.Zhihu?(0,s.tZ)(nN.uq,{isAppView:!0,onClose:_}):(0,s.tZ)(nN.Vy,{defaultType:T,onClose:_}):null}function nP(e){return(0,nC.n)()?null:(0,s.tZ)(nR,(0,D._)({},e))}var nD=n(16836),nL=n(7621),nw=n(94935),nb=n(32546),nG=n(28248),nU=n(26299),nk=n(49998),nM=function(){var e=(0,q._)((0,nO.Z)(),2),t=e[0],n=e[1],r=(0,eS.useSelector)(function(e){return e.loading.global.count});return(0,v.useEffect)(function(){r?n.on():n.off()},[n,r]),(0,s.tZ)(nk.Z,{active:t})},nF=n.p+"assets/apple-touch-icon-152.81060cab.png",nZ=n.p+"assets/apple-touch-icon-120.d5793cac.png",nB=n.p+"assets/apple-touch-icon-76.7abf3393.png",nH=n.p+"assets/apple-touch-icon-60.362a8eac.png",nq=function(e){(0,nT._)(n,e);var t=(0,nE._)(n);function n(){return(0,M._)(this,n),t.apply(this,arguments)}return(0,F._)(n,[{key:"render",value:function(){var e=this.props.ua;return(0,s.tZ)(eE.ql,{title:"知乎",titleTemplate:e.Zhihu?"%s":"%s - 知乎",link:[{rel:"apple-touch-icon",href:nF},{rel:"apple-touch-icon",href:nF,sizes:"152x152"},{rel:"apple-touch-icon",href:nZ,sizes:"120x120"},{rel:"apple-touch-icon",href:nB,sizes:"76x76"},{rel:"apple-touch-icon",href:nH,sizes:"60x60"}]})}}]),n}(v.Component),nx=(0,eS.connect)(function(e){return{ua:e.env.userAgent}})(nq),nV=n(4416);function nz(e){(0,nL.yZ)(window,{behavior:"smooth",top:window.innerHeight/2*(e?1:-1)})}function nK(e){(0,nL.zT)(document.body,{behavior:"smooth",block:e})}var nW=function(){(0,nV.n)("shift+u",function(){return nz(!1)}),(0,nV.n)("shift+d",function(){return nz(!0)}),(0,nV.n)("g g",function(){return nK("start")}),(0,nV.n)("shift+g",function(){return nK("end")})};function nY(){return nW(),(0,s.tZ)(s.HY,{children:!1})}var nQ=n(25628),nj=n.n(nQ),nX=n(47842),nJ=function(e){var t=e.keyMap,n=t.key,r=t.hint,o=n.split(/[ +]/),i=n.includes("+")?"+":" ";return(0,s.BX)("div",{className:"KeyHint",children:[(0,s.tZ)("div",{className:"KeyHint-keyContainer",children:o.map(function(e,t){return(0,s.BX)("div",{className:"KeyHint-key",children:[(0,s.tZ)("kbd",{className:"KeyHint-kbd",children:e}),t<o.length-1&&(0,s.tZ)("div",{className:nj()("KeyHint-separator",{"KeyHint-separator--space":" "===i}),children:i})]},t)})}),(0,s.BX)("div",{children:["：",r]})]})},n$=[["操作",[{key:"V",hint:"赞同"},{key:"D",hint:"反对"},{key:"L",hint:"喜欢"},{key:"C",hint:"展开 / 收起评论"},{key:"O",hint:"展开 / 收起全文"},{key:"F",hint:"收藏"},{key:"S",hint:"分享"}]],["导航",[{key:"J",hint:"主内容下一项"},{key:"K",hint:"主内容上一项"},{key:"G G",hint:"滚动到页面顶部"},{key:"Shift+G",hint:"滚动到页面底部"},{key:"Shift+U",hint:"向上滚动半屏"},{key:"Shift+D",hint:"向下滚动半屏"},{key:"Shift+S",hint:"侧边栏第一项"},{key:"/",hint:"搜索"},{key:"?",hint:"快捷键帮助"}]]],n0=function(){var e=(0,q._)((0,nO.Z)(),2),t=e[0],n=e[1];return(0,s.BX)(s.HY,{children:[(0,s.tZ)(nV.y,{input:"?",action:n.toggle}),(0,s.tZ)(nV.y,{input:"？",action:n.toggle}),(0,s.tZ)(nX.Z,{className:"ShortcutHintModal",title:"快捷键帮助",onClose:n.off,children:t&&(0,s.tZ)("div",{className:"ShortcutHintModal-content",children:(0,s.tZ)("div",{className:"ShortcutHintModal-hintListContainer",children:n$.map(function(e){var t=(0,q._)(e,2),n=t[0],r=t[1];return(0,s.BX)("div",{className:"ShortcutHintModal-hintList",children:[(0,s.tZ)("div",{className:"ShortcutHintModal-hintTitle",children:n}),r.map(function(e){return(0,s.tZ)(nJ,{keyMap:e},e.key)})]},n)})})})})]})},n1=n(83821),n2=n(62317),n5=function(e,t){if(e.closest)return e.closest(t);do{if(e.matches(t))break;e=e.parentElement}while(e);return e},n3=function(e){(0,nT._)(n,e);var t=(0,nE._)(n);function n(){var e;return(0,M._)(this,n),(e=t.call(this)).state={show:!1},e.onGlobalMouseover=e.handleGlobalMouseover.bind((0,nf._)(e)),e.onCancelEvent=e.handleCancelEvent.bind((0,nf._)(e)),e}return(0,F._)(n,[{key:"componentDidMount",value:function(){document.body.addEventListener("mouseover",this.onGlobalMouseover),window.addEventListener("scroll",this.onCancelEvent),window.addEventListener("resize",this.onCancelEvent)}},{key:"componentWillUnmount",value:function(){document.body.removeEventListener("mouseover",this.onGlobalMouseover),window.removeEventListener("scroll",this.onCancelEvent),window.removeEventListener("resize",this.onCancelEvent)}},{key:"handleGlobalMouseover",value:function(e){var t=this;clearTimeout(this.showTimeout),clearTimeout(this.hideTimeout);var n=n5(e.target,"[data-tooltip]");n&&!n.disabled?this.showTimeout=setTimeout(function(){var e,r,o=n.getAttribute("data-tooltip-position")||"top",i=n.getAttribute("data-tooltip"),u=n.getAttribute("data-tooltip-classname"),a=n.getAttribute("data-tooltip-preset")||"black",c=null!==n.getAttribute("data-tooltip-will-hide-on-click"),s=n.getBoundingClientRect(),l=s.left,d=s.right,_=s.top,p=s.bottom;switch(o){case"left":e=l-4,r=(_+p)/2;break;case"right":e=d+4,r=(_+p)/2;break;case"bottom":e=(l+d)/2,r=p+4;break;default:e=(l+d)/2,r=_-4}t.setState({show:!0,content:i,position:o,className:u,preset:a,willHideOnClick:c,x:Math.round(e),y:Math.round(r)})},100):this.state.show&&(this.hideTimeout=setTimeout(function(){n5(e.target,".GlobalTooltip")||t.setState({show:!1})},120))}},{key:"handleCancelEvent",value:function(){clearTimeout(this.showTimeout),clearTimeout(this.hideTimeout),this.state.show&&this.setState({show:!1})}},{key:"render",value:function(){var e=this.state,t=e.show,n=e.content,r=e.position,o=e.preset,i=e.restricted,u=e.className,a=e.contentClassName,c=e.contentChildrenClassName,l=e.x,d=e.y;return(0,s.tZ)(n2.Z,{className:nj()("GlobalTooltip",u),contentClassName:a,contentChildrenClassName:c,shown:t,content:n,position:r,preset:o,restricted:i,x:l,y:d})}}]),n}(v.Component),n7=function(e){var t=e.whitelist,n=void 0===t?["/term","/terms","/unregister"]:t,r=e.currentUrlPath,o=(0,nC.Z)(["isDestroyWaiting"]),i=(0,nS.Z)(function(){(null==n?void 0:n.some(function(e){return r.startsWith(e)}))||(window.location.href="".concat(g.Z.protocol,"//").concat(g.Z.wwwHost,"/unregister?version=2&is_waiting_page=1"))});return(0,v.useEffect)(function(){(null==o?void 0:o.isDestroyWaiting)&&i()},[o,i]),null},n4=function(e){var t=(0,$._)({},(0,ee._)(e)),n=t.currentUrlPath;return(0,v.useMemo)(function(){return!(n.match(/\/story\/\d+$/)||n.match(/\/authorize$/))},[n])?(0,s.tZ)(n7,(0,D._)({},t)):null};function n8(){var e=(0,eZ.Z)();return(0,ng.Z)(function(){window.__ZHToolkit__={fetch:e}}),null}var n6=function(){console.log("\n          _____                    _____                    _____                    _____          \n         /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         \n        /::\\____\\                /::\\    \\                /::\\    \\                /::\\    \\        \n       /:::/    /                \\:::\\    \\              /::::\\    \\              /::::\\    \\       \n      /:::/    /                  \\:::\\    \\            /::::::\\    \\            /::::::\\    \\      \n     /:::/    /                    \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     \n    /:::/____/                      \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    \n   /::::\\    \\                      /::::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   \n  /::::::\\    \\   _____    ____    /::::::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  \n /:::/\\:::\\    \\ /\\    \\  /\\   \\  /:::/\\:::\\    \\  /:::/\\:::\\   \\:::\\____\\  /:::/\\:::\\   \\:::\\    \\ \n/:::/  \\:::\\    /::\\____\\/::\\   \\/:::/  \\:::\\____\\/:::/  \\:::\\   \\:::|    |/:::/__\\:::\\   \\:::\\____\\\n\\::/    \\:::\\  /:::/    /\\:::\\  /:::/    \\::/    /\\::/   |::::\\  /:::|____|\\:::\\   \\:::\\   \\::/    /\n \\/____/ \\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\/____|:::::\\/:::/    /  \\:::\\   \\:::\\   \\/____/ \n          \\::::::/    /    \\::::::/    /                 |:::::::::/    /    \\:::\\   \\:::\\    \\     \n           \\::::/    /      \\::::/____/                  |::|\\::::/    /      \\:::\\   \\:::\\____\\    \n           /:::/    /        \\:::\\    \\                  |::| \\::/____/        \\:::\\   \\::/    /    \n          /:::/    /          \\:::\\    \\                 |::|  ~|               \\:::\\   \\/____/     \n         /:::/    /            \\:::\\    \\                |::|   |                \\:::\\    \\         \n        /:::/    /              \\:::\\____\\               \\::|   |                 \\:::\\____\\        \n        \\::/    /                \\::/    /                \\:|   |                  \\::/    /        \n         \\/____/                  \\/____/                  \\|___|                   \\/____/         \n\n知乎(zhihu.com)，招聘前端开发工程师 http://zhi.hu/BDXoD\n    ")},n9=function(e){var t=e.location;return(0,eg._E)(t),null},re=function(e){var t=e.location;return(0,eg.DI)(t),null},rt=function(e){(0,nT._)(n,e);var t=(0,nE._)(n);function n(){return(0,M._)(this,n),t.apply(this,arguments)}return(0,F._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.silent,n=e.fillCurrentUserIfNeeded,r=e.location.pathname;!t&&(n6(),r.match(/\/story\/\d+$/)||r.match(/\/authorize$/)||n(["email","accountStatus","isBindPhone"]))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.location,r=e.userAgent,o=e.disableMainHelmet,i=e.disableCornerButtons;return(0,s.BX)("div",{className:t,children:[!o&&(0,s.tZ)(nx,{}),r.Wechat&&(0,s.tZ)(nb.J,{}),!r.Zhihu&&(0,s.tZ)(nM,{}),(0,s.tZ)(n9,{location:n}),(0,s.tZ)(re,{location:n}),(0,s.tZ)(nw.z,{}),this.props.children,(0,s.tZ)(nG.Z,{}),(0,s.tZ)(n3,{}),(0,s.tZ)(nD.Z,{style:{display:"none"},children:(0,s.tZ)("i",{children:"想来知乎工作？请发送邮件到 jobs@zhihu.com"})}),!(void 0!==i&&i)&&!r.Mobile&&(0,s.tZ)(n1.Z,{children:(0,s.tZ)("div",{role:"complementary",children:(0,s.tZ)(nU.ZP,{children:(0,s.tZ)(nU.zV,{onClick:function(e){e.preventDefault(),(0,nL.X5)(window,{top:0,behavior:"smooth"})}})})})}),(0,s.tZ)(n1.Z,{children:(0,s.tZ)(n4,{currentUrlPath:n.pathname})}),(0,s.tZ)(n0,{}),(0,s.tZ)(nY,{}),(0,s.tZ)(n8,{})]})}}]),n}(v.Component),rn=(0,eq.compose)((0,eS.connect)(function(e){var t="/launcher"===e.env.ctx.path;return{currentUser:(0,eu.ib)(e),account:e.account,userAgent:e.env.userAgent,disableMainHelmet:t,ua:(0,ea.Uh)(e)}},{fillCurrentUserIfNeeded:eu.sF}),np.withRouter)(rt),rr=n(36798),ro=(0,eS.connect)(function(e){return{account:e.account,notification:(0,tr._X)(e)}})(function(e){var t,n=e.account,r=e.notification,o=n.isAppealed,i=n.spamLevel,u=(0,v.useMemo)(function(){var e=o||i?N.Wy:N.If,t=6===i?(0,L._)((0,D._)({},r),{theme:"red"}):r;return(0,s.tZ)(rr.Z,{notification:t,delay:e})},[o,i,r]);if(!(null==r?void 0:null===(t=r.zaProps)||void 0===t?void 0:t.shouldTrackShow))return u;var a=r.zaProps,c=a.zaText,l=a.zaBlock,d=a.key;return(0,s.tZ)(eg.Wi,{zaType:"Text",zaText:c||r.text,zaBlock:l,children:u},d)}),ri=n(74351),ru=n(18645);function ra(e){return e.routes[e.routes.length-1].name}var rc=n(76028),rs=n(69140),rl=n(65357),rd=n(82865),r_=(0,eS.connect)(function(e){var t=e.entities.users[e.currentUser],n=t.isActive,r=t.email,o=t.isZombie,i=t.isBindPhone,u=e.account;return{isActive:n,email:r,isZombie:o,errorStatus:u.errorStatus,challenge:u.challenge,isBindPhone:i}},{getUnlockRequest:ez.F4})(function(e){var t=e.globalShow,n=e.toggleGlobalShow,r=e.isZombie,o=e.getUnlockRequest,i=e.isActive,u=e.email,a=e.challenge,c=e.errorStatus,l=e.isBindPhone,d=(0,q._)((0,v.useState)(!1),2),_=d[0],p=d[1],f=(0,q._)((0,v.useState)(""),2),E=f[0],h=f[1],m=(0,nS.Z)(function(){r&&(T.ZP.increment("logIn.zombieStatus.closeModal.count"),(0,rd.Fu)())}),A=(0,nS.Z)(function(){m(),(0,rl.o$)(),h("")}),I=(0,nS.Z)(function(){m(),(0,rl.o$)()}),y=(0,v.useCallback)(function(){_&&A(),n(!_)},[n,_,A]);(0,v.useEffect)(function(){r&&(T.ZP.increment("logIn.zombieStatus.showModal.count"),p(!0))},[r]),(0,v.useEffect)(function(){void 0!==l&&!l&&(0,rl.wb)()&&p(!0)},[l]),(0,v.useEffect)(function(){t&&T.ZP.increment("logIn.GlobalVerificationModal.show.count"),p(t)},[t]);var O=(0,nS.Z)(function(){var e=document.querySelector(".VerificationDialogModalHeader"),t="";t=r?(null==a?void 0:a.length)?rs.SAFETY_VERIFICATION:rs.BIND_PHONE:i&&u?rs.CONFIRM_BIND_PHONE:c&&!e&&a&&a.length?rs.SAFETY_VERIFICATION:rs.BIND_PHONE,T.ZP.increment("logIn.GlobalVerificationModal.initialStep.".concat(t,".count")),h(t)});return(0,v.useEffect)(function(){_&&o().then(function(){O()})},[_]),(0,s.tZ)(nN.t,{currentStep:E,onToggle:y,shown:_,onSuccess:I})}),rp=n(76295),rf=n(82644),rT=n(38889),rE="AdblockBanner::dismiss",rh=function(e){(0,nT._)(r,e);var t=(0,nE._)(r);function r(){var e;return(0,M._)(this,r),e=t.apply(this,arguments),(0,Z._)((0,nf._)(e),"state",{shown:!1}),(0,Z._)((0,nf._)(e),"handleClose",function(){S().set(rE,!0),e.setState({shown:!1})}),e}return(0,F._)(r,[{key:"componentDidMount",value:function(){var e,t;!0!==S().get(rE)&&!(n.g.navigator&&/Mobile/.test(navigator.userAgent))&&((e=document.createElement("div")).className="adsbox",document.body.appendChild(e),t="none"===getComputedStyle(e).display,document.body.removeChild(e),t)&&this.setState({shown:!0})}},{key:"render",value:function(){return this.state.shown&&(0,s.BX)("div",{className:"AdblockBanner",children:[(0,s.BX)("div",{className:"AdblockBanner-inner",children:["我们检测到你可能使用了 AdBlock 或 Adblock Plus，它的部分策略可能会影响到正常功能的使用（如关注）。",(0,s.tZ)("br",{}),"你可以设定特殊规则或将知乎加入白名单，以便我们更好地提供服务。 （",(0,s.tZ)("a",{href:"//www.zhihu.com/question/54919485",target:"_blank",rel:"noreferrer",children:"为什么？"}),"）"]}),(0,s.tZ)(rT.ZP,{preset:"plain",className:"AdblockBanner-close",onClick:this.handleClose,icon:rf.HN})]})}}]),r}(v.Component),rv=n(87641),rm=n(69383),rA=n(26113),rI=n(21060),ry=n(30016),rO=n(93653),rS=function(e){(0,nT._)(n,e);var t=(0,nE._)(n);function n(){return(0,M._)(this,n),t.apply(this,arguments)}return(0,F._)(n,[{key:"render",value:function(){var e=this.props.hideSubtitle;return(0,s.BX)("a",{className:"OrgZhihuLogo",href:"/organization","aria-label":"知乎机构号",children:[(0,s.tZ)(rO.Z,{}),!e&&(0,s.tZ)("span",{className:"OrgZhihuLogo-appName",children:"机构号"})]})}}]),n}(v.PureComponent);function rg(){var e=(0,nC.Z)(["email"]);return(0,s.tZ)("header",{role:"banner",className:"OrgAppHeader","data-za-module":"TopNavBar",children:(0,s.BX)("div",{className:"OrgAppHeader-inner",children:[(0,s.tZ)(rS,{}),(0,s.BX)("div",{className:"OrgAppHeader-userInfo",children:[(0,s.tZ)(eE.ql,{title:"机构号 - 知乎"}),(null==e?void 0:e.email)||"",(0,s.tZ)(rT.ZP,{preset:"link",onClick:function(){location.href="/logout?next=/org/signup"},children:"退出"})]})]})})}var rC=n(24405);function rN(){var e=(0,ev.n)(),t=(0,rC.F)().colors;return e.Safari?(0,s.tZ)(ey.xB,{styles:{html:{"&:after":{content:'""',width:"100%",height:100,background:t.GBK99A,position:"fixed",top:-100,zIndex:2}}}}):null}var rR=n(9388),rP=n(17518),rD=n(85576),rL=n(25734),rw=n(67094),rb=n(32854),rG=n(14253),rU=n(34473),rk=(0,v.forwardRef)(function(e,t){var n=e.Icon,r=e.count,o=e.name,i=e.theme,u=(0,H._)(e,["Icon","count","name","theme"]),a=(0,rL.ZP)(),c=a.bgColor,l=a.icon,d=a.iconOpacity,_=a.themeTransition;return(0,s.BX)(rT.ZP,(0,L._)((0,D._)({ref:t,preset:"plain",css:{position:"relative"}},u),{children:[(0,s.tZ)(n,{size:18,center:!0,css:function(e){return(0,D._)({color:e.colors[l],opacity:d,"&:hover":{opacity:1}},_("color","opacity"))}}),r>0&&(0,s.BX)(rv.Box,{color:"GBK99B",bg:"GRD03A",px:"4px",css:function(e){return{position:"absolute",bottom:"65%",left:"42%",fontSize:11,borderRadius:20,border:"2px solid",transform:"scale(0.8)",borderColor:(0,rL.pe)(e)(c)}},children:[Math.min(r,99),r>99&&"+"]}),o&&(0,s.tZ)(rv.Box,{fontSize:"12px",lineHeight:"14px",css:function(e){return i&&(0,D._)({color:"".concat(e.colors[null==i?void 0:i.navColor]," !important"),opacity:null==i?void 0:i.navOpacity,"&.is-active, &:hover":{opacity:1},"&.is-active::after":{backgroundColor:"".concat(e.colors[null==i?void 0:i.navActiveColor]," !important")}},_("color"))},children:o})]}))}),rM=(0,v.forwardRef)(function(e,t){return(0,s.tZ)(rk,(0,D._)({ref:t,Icon:rU.Z,name:"创作中心"},e))}),rF=(0,np.withRouter)(function(e){var t=e.location.pathname,n=(0,H._)(e,["location"]);return(0,s.tZ)(s.HY,{children:"/creator"===t||"/creator/"===t?null:(0,s.tZ)(eg.Wi,{zaType:"Button",zaText:"创作中心入口",zaBlock:"AppHeader-CreatorEntrance",children:(0,s.tZ)(eg.$U,{zaBlock:"AppHeader-CreatorEntranceClick",zaType:"Button",zaText:"创作中心",zaAction:"OpenUrl",as:rv.Link,target:"_blank",href:"https://".concat(g.Z.wwwHost,"/creator"),css:{display:"inline-block",marginRight:"24px",marginTop:"2px"},children:(0,s.tZ)(rM,(0,D._)({},n))})})})}),rZ=n(29229),rB=n(7522),rH=(0,v.forwardRef)(function(e,t){return(0,s.tZ)(rk,(0,D._)({ref:t,Icon:rB.Z,name:"私信",theme:e.theme},e))}),rq=function(e){var t=e.className,r=(0,H._)(e,["className"]),o=(0,rZ.Z)(function(){return Promise.all([n.e(7232),n.e(8484),n.e(5379),n.e(3786)]).then(n.bind(n,37700))});return o?(0,s.tZ)(o,(0,D._)({IconButton:rH,className:t},r)):(0,s.tZ)(rH,(0,D._)({className:t},r))};function rx(e){var t=e.theme,n=e.url,r=e.isActive,o=e.children,i=(0,H._)(e,["theme","url","isActive","children"]);return(0,s.tZ)(ry.O,{className:"AppHeader-Tab",children:(0,s.tZ)("a",(0,L._)((0,D._)({className:nj()("AppHeader-TabsLink",{"is-active":r}),tabIndex:0,"data-za-not-track-link":!0,css:function(e){return(0,D._)({color:"".concat(e.colors[t.navColor]," !important"),opacity:t.navOpacity,"&.is-active, &:hover":{opacity:1},"&.is-active::after":{backgroundColor:"".concat(e.colors[t.navActiveColor]," !important")}},(0,rL.W5)("color"))},href:n},i),{children:o}))})}var rV=n(97813),rz=(0,v.forwardRef)(function(e,t){return(0,s.tZ)(rk,(0,D._)({ref:t,Icon:rV.Z,name:"消息"},e))}),rK=function(e){var t=e.className,r=(0,H._)(e,["className"]),o=(0,rZ.Z)(function(){return Promise.all([n.e(7232),n.e(358)]).then(n.bind(n,50838))});return o?(0,s.tZ)(o,(0,D._)({IconButton:rz,className:t},r)):(0,s.tZ)(rz,(0,D._)({className:t},r))},rW=n(42735),rY=function(e){(0,nT._)(n,e);var t=(0,nE._)(n);function n(){var e;return(0,M._)(this,n),e=t.apply(this,arguments),(0,Z._)((0,nf._)(e),"state",{signFlowModalShown:!1}),(0,Z._)((0,nf._)(e),"getPathname",function(){return e.props.pathname||e.props.location.pathname}),(0,Z._)((0,nf._)(e),"isInTopstory",function(){var t=e.getPathname(),n=new rw.Yb().TABS_TABLE.map(function(e){return e.path});return n.push(rw.RV.institutionIndex),n.includes(t)}),(0,Z._)((0,nf._)(e),"getMsgNoteTitle",function(){var t=e.props,n=t.notificationsCount,r=t.messageCount;if(t.isMobile)return"";var o=[],i="".concat(99,"+");r&&o.push("".concat(r>99?i:r," 封私信"));var u=Object.keys(n).reduce(function(e,t){return e+n[t]},0);return u&&o.push("".concat(u>99?i:u," 条消息")),o.length?"(".concat(o.join(" / "),") "):""}),(0,Z._)((0,nf._)(e),"handleAuth",e.props.authRequired(function(){return{}})),(0,Z._)((0,nf._)(e),"createNavClickHandler",function(e){return function(t){rm.Z.trackEvent(t.target,{action:"OpenUrl",id:2730},{button:{text:{home:"首页",learning:"知乎知学堂",explore:"发现",topic:"话题",questionWaiting:"等你来答"}[e]}})}}),e}return(0,F._)(n,[{key:"componentDidMount",value:function(){var e=this.getPathname(),t=this.props,n=t.currentUser,r=t.fillCurrentUserIfNeeded,o=t.referer;if(!n||"guest"===n.userType){o&&(o.startsWith("https://www.zhihu.com")||o.startsWith("https://zhuanlan.zhihu.com"))&&e.startsWith("/p/")&&this.setState({signFlowModalShown:!0});return}r(["availableMessageTypes","defaultNotificationsCount","followNotificationsCount","voteThankNotificationsCount","messagesCount"]);var i=this.props,u=i.handleNewPushNotifications,a=i.handleReceiveMessages;(0,rP.Z)([{name:"zhihu/notification/badge/web/v1/".concat(n.id,"/"),onMessage:u},{name:"zhihu/message/web/v1/user/".concat(n.id,"/"),onMessage:a}])}},{key:"handleSignFlowModalClose",value:function(){this.setState({signFlowModalShown:!1})}},{key:"renderUserInfo",value:function(){var e=this.props,t=e.currentUser,n=e.ua,r=e.currentUserIsCreator,o=e.appHeaderTheme;return(0,s.BX)("div",{className:"AppHeader-userInfo",children:[t&&(0,s.BX)(s.HY,{children:[(0,s.tZ)(rK,{theme:o,className:"AppHeader-notifications"}),(0,s.tZ)(rq,{theme:o,className:"AppHeader-messages"})]}),r&&(0,s.tZ)(rF,{theme:o}),(0,s.tZ)(eE.ql,{titleTemplate:n.Zhihu?"".concat(this.getMsgNoteTitle(),"%s"):"".concat(this.getMsgNoteTitle(),"%s - 知乎")}),!t&&(0,s.tZ)("div",{children:(0,s.tZ)(rb.Z,{})}),(0,s.tZ)("div",{className:"AppHeader-profile",children:(0,s.tZ)(rR.Z,{currentUser:t,enableGuidesForLogin:!0})})]})}},{key:"render",value:function(){var e=this,t=this.getPathname(),n=this.state.signFlowModalShown,r=this.props,o=r.currentUser,i=r.outlet,u=r.inletProps,a=r.headerTitle,c=r.appHeaderTheme,l=!t.startsWith("/creator")&&!t.startsWith("/mcn");return t.startsWith("/organization/enter")?(0,s.tZ)(s.HY,{children:(0,s.tZ)(rg,{})}):(0,s.tZ)(rI.Z,{getStyle:function(){return{width:"100%",top:0}},children:(0,s.BX)("header",{role:"banner",className:nj()("AppHeader",{"is-hidden":u.shown}),"data-za-module":"TopNavBar",css:function(e){return(0,D._)({backgroundColor:(0,rL.pe)(e)(c.bgColor),boxShadow:c.boxShadow},(0,rL.W5)("background-color","box-shadow"))},children:[n&&(!o||"guest"===o.userType)&&(0,s.tZ)(nN.Vy,{defaultType:"login",onClose:function(){e.handleSignFlowModalClose()}}),(0,s.tZ)(rN,{}),(0,s.BX)("div",{className:"AppHeader-inner",css:function(e){return l&&{width:"auto",maxWidth:1156,minWidth:1e3,paddingLeft:16,paddingRight:55,".AppHeader-userInfo":{marginLeft:30,width:"auto"},".AppHeader-TabsLink.is-active, .AppHeader-TabsLink:hover":{color:e.colors.GBK02A}}},children:[(0,s.tZ)(rW.Z,{color:c.logo}),a?(0,s.tZ)(rv.Text,{color:c.headerTitle,fontSize:"18px",ml:"16px",flex:"1",children:a}):(0,s.BX)(s.HY,{children:[(0,s.BX)(ry.Z,{className:"AppHeader-Tabs",css:l&&{marginLeft:25,marginRight:15,".AppHeader-Tab":{paddingLeft:15,paddingRight:15},".Tabs-link.is-active::after":{height:4}},children:[o&&o.isOrg&&(0,s.BX)(s.HY,{children:[(0,s.tZ)(ry.O,{className:"AppHeader-Tab",children:(0,s.tZ)("a",{tabIndex:0,className:nj()("AppHeader-TabsLink",{"is-active":"/organization"===t||t.startsWith("/organization/question")}),href:"".concat(N.i7,"/organization"),children:"管理中心"})}),(0,s.tZ)("div",{className:"AppHeader-navDivider"})]}),(0,s.tZ)(rx,{theme:c,isActive:this.isInTopstory(),url:"".concat(N.i7).concat(o&&o.isOrg?"/index":"/"),onClick:this.createNavClickHandler("home"),children:"首页"}),(0,s.tZ)(rx,{theme:c,isActive:"/education/learning"===t,url:"".concat(N.i7,"/education/learning"),onClick:this.createNavClickHandler("learning"),children:"知乎知学堂"}),(0,s.tZ)(rx,{theme:c,isActive:"/explore"===t,url:"".concat(N.i7,"/explore"),onClick:this.createNavClickHandler("explore"),children:"发现"}),(0,s.tZ)(rx,{theme:c,isActive:t.startsWith("/question/waiting"),url:"".concat(N.i7,"/question/waiting"),onClick:this.createNavClickHandler("questionWaiting"),children:"等你来答"})]}),(0,s.tZ)(rv.Flex,{flex:"1",justifyContent:"center",children:(0,s.tZ)(rG.Z,{theme:c,css:l&&{maxWidth:482,".SearchBar-input":{borderRadius:999,paddingLeft:16},".SearchBar-askButton":{borderRadius:999,width:70,marginLeft:12},".SearchBar-searchButton":{borderBottomRightRadius:999,borderTopRightRadius:999}}})})]}),this.renderUserInfo()]}),i]})})}}]),n}(v.PureComponent),rQ=(0,eq.compose)(np.withRouter,rD.Z,(0,eS.connect)(function(e,t){var n=e.account,r=e.env,o=t.inletProps.shown||r.appHeaderTheme.disable?"normal":"custom";return{messageCount:e.messages.messageCount,notificationsCount:e.pushNotifications.notificationsCount,account:n,ua:e.env.userAgent,isMobile:(0,ea.Hu)(e),referer:(0,ea.Kv)(e),appHeaderTheme:(0,D._)({type:o,bgColor:r.appHeaderTheme[o].bgColor},rL.mv[o]),currentUserIsCreator:e.switches.isCreator,creatorNotification:(0,tv.EtQ)(e).notification||{}}},{handleNewPushNotifications:tj.F7,handleReceiveMessages:tZ.nB,fillCurrentUserIfNeeded:eu.sF}))(rY),rj=v.memo(function(e){return(0,s.tZ)(rQ,(0,D._)({outlet:(0,s.tZ)(rA.Z.Outlet,{}),inletProps:rA.Z.useInletProps()},e))}),rX=n(49274),rJ=n(84871),r$=n.n(rJ),r0=n(34459),r1=n(38020);function r2(){return(0,s.tZ)("div",{css:function(e){return{backgroundColor:e.colors.GBK99A,boxSizing:"border-box",width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center"}},children:(0,s.tZ)(r1.Z,{})})}var r5=function(e){var t;return null===(t=e.reverse().find(function(e){return void 0!==e.loadingUI}))||void 0===t?void 0:t.loadingUI};function r3(e){var t=e.routes,n=e.params,r=e.location,o=e.children,i=e.csrType,u=e.Component,a=(0,H._)(e,["Component"]),c=(0,q._)((0,nO.Z)("render"===i),2),l=c[0],d=c[1],p=(0,q._)((0,nO.Z)(!1),2),f=p[0],T=p[1],E=(0,q._)((0,v.useState)(null),2),h=E[0],m=E[1],A=(0,q._)((0,v.useState)(0),2),I=A[0],y=A[1],O=(0,ev.n)(),S=(0,eS.useStore)(),g=(0,eZ.Z)(),C=(0,nS.Z)(function(){d.on(),f&&T.off(),h&&m(null),y(function(e){return e+1}),(0,r0.R)(t,function(e){return{route:e,params:n,location:r,dispatch:S.dispatch,getState:S.getState,ua:O,ctx:null,http:g}}).catch(m).finally(function(){return T.on()})}),N=(0,v.useMemo)(function(){return r5(t)},[t]);return((0,v.useEffect)(function(){"render"===i&&C()},[i,C]),!l||h)?(0,s.tZ)("div",{css:function(e){return{backgroundColor:e.colors.GBK99A,position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},children:(0,s.tZ)(rX.H.EI1,(0,L._)((0,D._)({image:"loadingError",content:(0,_.n$)(h)},I<=1&&{buttonText:"点击重试",buttonOnClick:C}),{preset:"normal"}))}):f?u?(0,s.tZ)(u,(0,D._)({},a)):o:void 0!==N?N:(0,s.tZ)(r2,{})}function r7(e){var t=e.Component,n=e.children;return e.enable?(0,s.tZ)(r3,(0,D._)({},e)):t?(0,s.tZ)(t,(0,D._)({},e)):n}var r4=function(e){for(var t=e.length-1;t>=0;t--){var n=e[t].showAppHeader;if(void 0!==n)return n}return!0};function r8(){return"undefined"==typeof document?null:document.querySelector(".VerificationDialogModalHeader")}var r6=function(e){(0,nT._)(n,e);var t=(0,nE._)(n);function n(){var e;return(0,M._)(this,n),e=t.apply(this,arguments),(0,Z._)((0,nf._)(e),"state",{authModalShown:!1,bindPhoneModalShown:!1}),(0,Z._)((0,nf._)(e),"handleAuthModalClose",function(){return e.setState({authModalShown:!1})}),(0,Z._)((0,nf._)(e),"closeModal",function(){var t=e.props.recoverDefaultType;nm.c.close(),t()}),(0,Z._)((0,nf._)(e),"handleInitAccount",function(t){var n=t||e.props,r=n.currentUser,o=n.account,i=n.getUnblockInfo;r&&r.accountStatus.find(function(e){return"lock"===e.name})&&!o.isUnblockInfoFetched&&i()}),(0,Z._)((0,nf._)(e),"handleBindPhoneModalToggle",function(){e.setState(function(e){return{bindPhoneModalShown:!e.bindPhoneModalShown}})}),(0,Z._)((0,nf._)(e),"renderUniversalAppHeader",function(t){var n=t.policy,r=t.headerTitle,o=e.props,i=o.currentUser,u=o.isMobile,a=o.isZhihu,c=function(){return(0,s.BX)(s.HY,{children:[(0,s.tZ)(rj,{currentUser:i,headerTitle:r}),(0,s.tZ)(eN.eB,{id:"PCAppHeader",height:52})]})};if("universal"===n){if(a)return null;if(u){var l=e.props.location.pathname,d=["/campaign/gaokao-evaluation","/campaign/school"].some(function(e){return l.startsWith(e)});return(0,s.BX)(s.HY,{children:[(0,s.tZ)(ny,{currentUser:i,neverHide:d}),(0,s.tZ)(eN.eB,{id:"MobileAppHeader",height:52})]})}return c()}return n?c():null}),e}return(0,F._)(n,[{key:"getChildContext",value:function(){var e=this,t=this.props,n=t.isMobile,r=t.userAgent,o=t.currentUser,i=t.showNotification;return{currentUser:o,authRequired:(0,rc.es)(function(){return e.props.currentUser},N.xR,function(){return e.props.account},function(){return n?(0,rp.ZP)(r.ZhihuHybrid):e.setState({authModalShown:!0})},function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return i.apply(void 0,[e,"white"].concat((0,l._)(n)))},this.handleBindPhoneModalToggle),handleBindPhoneModalToggle:this.handleBindPhoneModalToggle}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.account,n=e.currentUser,r=e.getUnlockRequest,o=t.errorStatus;if(!t.isFetching){var i=r8();o&&!i&&n&&"guest"!==n.userType&&r()}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.requestUnlockTicket,r=t.unlockTicketByDigits,o=t.unlockTicketByPassword,i=t.account,u=i.unlockTicketStatus,a=i.isFetching,c=i.errorStatus,l=i.challenge;!a&&c&&l&&l.length&&!r8()&&nm.c.show((0,s.tZ)(nm.c,{account:i,unlockTicketByDigits:r,requestUnlockTicket:n,unlockTicketByPassword:o,onClose:this.closeModal})),u&&nm.c.close(),this.props.currentUser&&e.currentUser&&(void 0===e.currentUser.isBindPhone&&void 0!==this.props.currentUser.isBindPhone&&this.unlockRequestIfNeed(),!e.currentUser.accountStatus&&this.props.currentUser.accountStatus&&this.handleInitAccount())}},{key:"componentWillUnmount",value:function(){(0,this.props.recoverDefaultType)()}},{key:"unlockRequestIfNeed",value:function(){var e=this.props,t=e.currentUser,n=e.getUnlockRequest;t&&!1===t.isBindPhone&&"guest"!==t.userType&&n()}},{key:"render",value:function(){var e,t=this.state,n=t.authModalShown,r=t.bindPhoneModalShown,o=this.props,i=o.currentUser,u=o.routes,a=o.children,c=(i||{}).urlToken,d=r4(u),_=null===(e=(0,l._)(u).reverse().find(function(e){return!!e.appHeaderTitle}))||void 0===e?void 0:e.appHeaderTitle;return(0,s.BX)(rn,{children:[(0,s.tZ)(rh,{}),this.renderUniversalAppHeader({policy:d,headerTitle:_}),(0,s.tZ)(ro,{}),(0,s.tZ)("main",{role:"main",className:"App-main",children:a}),(0,s.tZ)("div",{"data-zop-usertoken":JSON.stringify({urlToken:c})}),(0,s.tZ)(nP,{shown:n,onClose:this.handleAuthModalClose}),i&&(0,s.tZ)(r_,{globalShow:r,toggleGlobalShow:this.handleBindPhoneModalToggle}),(0,s.tZ)(eD.w,{})]})}}]),n}(v.Component);(0,Z._)(r6,"childContextTypes",{currentUser:nv().object,authRequired:nv().func,handleBindPhoneModalToggle:nv().func});var r9=(0,eq.compose)(function(e){return r$()(function(t){var n=(0,eS.useSelector)(function(e){return e.env.mode}),r=(0,eS.useSelector)(function(e){return e.env.vars.csrType})||"downgrade";return(0,s.tZ)(r7,(0,L._)((0,D._)({},t),{enable:"csr"===n,csrType:r,Component:e}))},e)},(0,eS.connect)(function(e){return{isMobile:(0,ea.Hu)(e),isZhihu:(0,ea.nR)(e),currentUser:(0,eu.ib)(e),account:e.account,userAgent:e.env.userAgent}},{showNotification:tr.c0,unlockTicketByDigits:ez.LC,unlockTicketByPassword:ez.Hr,getUnlockRequest:ez.F4,getUnblockInfo:ez.sQ,requestUnlockTicket:ez.MM,recoverDefaultType:ez.Z3}))(r6),oe=(0,ri.isBrowser)()?(0,s.tZ)(np.Route,{path:"*",onEnter:function(e){var t=e.location;if(/^\/{2,}/.test(t.pathname)){var n=(0,q._)(/^\/{1,}(\/.*)$/.exec(t.pathname),2)[1];t.pathname=n}window.location="".concat(t.pathname).concat(t.search)}}):null,ot=n(75157),on=(0,s.BX)(s.HY,{children:[(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-signin-routes",path:"/signin",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(8368),n.e(1632)]).then(n.bind(n,22676))})}),0),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-signup-routes",path:"/signup",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(8368),n.e(9956)]).then(n.bind(n,58977))})}),1),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-email-register-routes",path:"/email-register",getChildRoutes:(0,ot.QC)(function(){return n.e(5117).then(n.bind(n,66736))})}),2),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-notifications-routes",path:"/notifications",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(7232),n.e(6776),n.e(8484),n.e(8608),n.e(3795),n.e(4621),n.e(1869),n.e(2121)]).then(n.bind(n,78167))})}),3),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-creator-routes",path:"/creator",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(7232),n.e(2433),n.e(4995),n.e(6229),n.e(6776),n.e(8484),n.e(3591),n.e(8691),n.e(4306),n.e(8089),n.e(3201),n.e(7359),n.e(8400),n.e(4621),n.e(2540),n.e(8091),n.e(2855),n.e(5375),n.e(2394),n.e(3634)]).then(n.bind(n,15189))})}),4),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-creator-salt-routes",path:"/creator-salt",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(6754),n.e(4117),n.e(2433),n.e(6229),n.e(8691),n.e(7359),n.e(8400),n.e(2540),n.e(7511),n.e(9438),n.e(9768)]).then(n.bind(n,26241))})}),5),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-people-routes",path:"/people",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(8885),n.e(6754),n.e(3550),n.e(7050),n.e(620),n.e(6272),n.e(7232),n.e(2433),n.e(5954),n.e(4995),n.e(4862),n.e(1167),n.e(8671),n.e(5829),n.e(6776),n.e(4428),n.e(8484),n.e(3591),n.e(8608),n.e(6890),n.e(7359),n.e(4621),n.e(4213),n.e(9165),n.e(5857)]).then(n.bind(n,23812))})}),6),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-org-routes",path:"/org",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(8885),n.e(6754),n.e(3550),n.e(7050),n.e(620),n.e(6272),n.e(7232),n.e(2433),n.e(5954),n.e(4995),n.e(4862),n.e(1167),n.e(8671),n.e(5829),n.e(6776),n.e(4428),n.e(8484),n.e(3591),n.e(8608),n.e(6890),n.e(7359),n.e(4621),n.e(4213),n.e(9165),n.e(5857)]).then(n.bind(n,23812))})}),7),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-question-routes",path:"/question",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(8885),n.e(6754),n.e(3550),n.e(7050),n.e(620),n.e(6272),n.e(7232),n.e(2433),n.e(5954),n.e(4995),n.e(4862),n.e(1167),n.e(8671),n.e(5829),n.e(6776),n.e(4428),n.e(8484),n.e(3591),n.e(8608),n.e(3795),n.e(4813),n.e(7359),n.e(4213),n.e(2520)]).then(n.bind(n,4338))})}),8),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-search-routes",path:"/search",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(8885),n.e(6754),n.e(3550),n.e(7050),n.e(620),n.e(6272),n.e(7232),n.e(2433),n.e(5954),n.e(4995),n.e(4862),n.e(1167),n.e(8671),n.e(5829),n.e(6776),n.e(4428),n.e(3591),n.e(7359),n.e(4621),n.e(4213),n.e(2855),n.e(2936),n.e(101)]).then(n.bind(n,4547))})}),9),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-topic-routes",path:"/topic",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(8885),n.e(6754),n.e(3550),n.e(7050),n.e(620),n.e(6272),n.e(7232),n.e(2433),n.e(5954),n.e(4995),n.e(4862),n.e(1167),n.e(8671),n.e(5829),n.e(6776),n.e(4428),n.e(3591),n.e(6890),n.e(7359),n.e(4621),n.e(4213),n.e(4361)]).then(n.bind(n,70678))})}),10),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-wiki-routes",path:"/wiki",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(7232),n.e(7248),n.e(9202)]).then(n.bind(n,45405))})}),11),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-settings-routes",path:"/settings",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(7232),n.e(1599),n.e(5667)]).then(n.bind(n,96869))})}),12),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-messages-routes",path:"/messages",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(7232),n.e(8484),n.e(4734),n.e(1306)]).then(n.bind(n,65894))})}),13),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-special-routes",path:"/special",getChildRoutes:(0,ot.QC)(function(){return n.e(2492).then(n.bind(n,88506))})}),14),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-collection-routes",path:"/collection",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(8885),n.e(6754),n.e(3550),n.e(7050),n.e(620),n.e(6272),n.e(7232),n.e(2433),n.e(5954),n.e(4995),n.e(4862),n.e(1167),n.e(8671),n.e(5829),n.e(6776),n.e(4428),n.e(3591),n.e(7359),n.e(4621),n.e(4213),n.e(9165),n.e(6414)]).then(n.bind(n,91574))})}),15),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-collections-routes",path:"/collections",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(7232),n.e(8608),n.e(3795),n.e(4621),n.e(9165),n.e(9461),n.e(5290)]).then(n.bind(n,49629))})}),16),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-explore-routes",path:"/explore",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(5633),n.e(6869)]).then(n.bind(n,56370))})}),17),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-roundtable-routes",path:"/roundtable",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(8885),n.e(6754),n.e(3550),n.e(7050),n.e(620),n.e(6272),n.e(7232),n.e(2433),n.e(5954),n.e(4995),n.e(4862),n.e(1167),n.e(8671),n.e(5829),n.e(6776),n.e(4428),n.e(3591),n.e(7359),n.e(4621),n.e(4213),n.e(1353)]).then(n.bind(n,133))})}),18),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-host-routes",path:"/host",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(4995),n.e(1529),n.e(5316)]).then(n.bind(n,23807))})}),19),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-knowledge-plan-routes",path:"/knowledge-plan",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(8089),n.e(3032),n.e(5453),n.e(4713)]).then(n.bind(n,97742))})}),20),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-campaign-routes",path:"/campaign",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(3550),n.e(5518),n.e(4995),n.e(4862),n.e(1167),n.e(2855),n.e(3775),n.e(3032),n.e(1057),n.e(4377),n.e(6478)]).then(n.bind(n,58127))})}),21),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-mcn-routes",path:"/mcn",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(2433),n.e(4995),n.e(6229),n.e(8691),n.e(1339),n.e(3201),n.e(7359),n.e(8400),n.e(2540),n.e(7511),n.e(872),n.e(6668)]).then(n.bind(n,53409))})}),22),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{}),{chunk:"main-help-center-routes",path:"/help-center",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(7232),n.e(2433),n.e(6229),n.e(8484),n.e(8691),n.e(7359),n.e(8400),n.e(2540),n.e(5375),n.e(8743),n.e(8214)]).then(n.bind(n,24090))})}),23),(0,s.tZ)(np.Route,(0,L._)((0,D._)({},{chunk:"main-topstory-routes"}),{chunk:"main-topstory-routes",getChildRoutes:(0,ot.QC)(function(){return Promise.all([n.e(2850),n.e(887),n.e(8885),n.e(6754),n.e(3550),n.e(7050),n.e(620),n.e(6272),n.e(7232),n.e(2433),n.e(5954),n.e(4995),n.e(4862),n.e(1167),n.e(8671),n.e(5829),n.e(6776),n.e(4428),n.e(3591),n.e(8608),n.e(3795),n.e(7359),n.e(4621),n.e(4213),n.e(5898)]).then(n.bind(n,76724))})}),24)]}),or=(0,s.BX)(np.Route,{component:r9,name:"Index",onChange:function(e,t){R.jS.onChange(e,t),(0,T.t0)(ra(t))},onEnter:function(e){if(R.jS.onEnter(e),(0,ri.isBrowser)()){var t,n=ra(e);(0,T.t0)(n),(t=window.performance)&&t.timing&&((0,ru.uK)(function(e){return(0,T.pp)(e)}),(0,ru.I)({report:function(e){return T.ZP.increment("".concat((0,T.j0)(),".").concat(e,".count"))}}))}},children:[(0,s.tZ)(np.Redirect,{from:"wiki-landing",to:"wiki"}),on,oe]});function oo(){return(0,s.tZ)(np.Router,{history:np.browserHistory,children:or})}o=(r={rootReducer:n_,renderCallback:function(e,t){var n=t.store;e(oo),window.addEventListener("load",function(){n&&n.getState().currentUser||(0,eH.Y)()})},routes:on}).rootReducer,i=r.renderCallback,a=(u={routes:r.routes,createStore:(0,eB.getCreateStore)(o),onRequestRender:function(e){var t=e.store,n=e.canaryConfig,r=e.http,o=e.container,u=e.afterHydrate,a=function(e){("csr"===t.getState().env.mode?eT.render:eT.hydrate)((0,s.tZ)(eE.B6,{children:(0,s.tZ)(v.Profiler,{id:"App",onRender:eF,children:(0,s.tZ)(ew,{store:t,canaryConfig:n,children:(0,s.tZ)(eZ.q.Provider,{value:r,children:(0,s.tZ)(e,{})})})})}),o),null==u||u()};new Promise(function(e){/interactive|complete/.test(document.readyState)?e():document.addEventListener("DOMContentLoaded",e)}).then(function(){return i(a,e)})}}).createStore,c=u.onRequestRender,document.addEventListener("DOMContentLoaded",function(){window.Raven||(window.Raven={captureException:eo,captureMessage:eo,captureBreadcrumb:eo});var e,t,r,o,i,u,s,m,O=JSON.parse(document.getElementById("js-initialData").textContent),C=O.initialState,w=O.subAppName,b=O.spanName,G=O.fetchHost,M=O.canaryConfig,F=(0,ea.Xj)(C),Z=C.env,q=Z.vars.passThroughHeaders,V=!!(Z.userAgent.ZhihuHybrid||Z.userAgent.Zhihu),z=V?{}:Q(),K=[!1,h.Z.headers({config:Z.ab.config,onTrigger:function(){}}),(0,_.JT)(),(0,_.DH)(),(0,p.Yq)(),function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.allowPassThroughHeaders,o=(0,H._)(n,["allowPassThroughHeaders"]);return e(t,(0,L._)((0,D._)({},o),{headers:void 0!==r&&r?(0,D._)({},q,o.headers):o.headers}))}},!V&&function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,$._)({},(0,ee._)(n));return e(t,(0,L._)((0,D._)({},r),{headers:(0,D._)({},r.headers,z.xZst81&&{"x-zst-81":z.xZst81})}))}},ef({query:Z.ctx.query,spanName:b,isOffice:F}),en({ua:Z.userAgent,authInfo:{id:C.currentUser},xUDId:Z.xUDId,passVars:q}),(e=Z.xTrafficFreeOrigin,function(t){return e?function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t(n,(0,L._)((0,D._)({},r),{headers:(0,L._)((0,D._)({},r.headers),{"x-traffic-free":e})}))}:t}),function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(t,n).then(null,W)}},(t={namespace:w,getCurrentUser:function(){return C.currentUser}},function(e){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(n,r).catch(function(e){throw/--(mr|box)/.test(location.host)||/--(mr|box)/.test(n)||function(e,t){var n,r=t.url,o=t.options,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=i.namespace,a=void 0===u?"Unknown":u,c=i.entryName,s=void 0===c?"FetchErrorV2":c,l=i.getCurrentUser,d=o||{},_=d.method,p=void 0===_?"GET":_,f=d.headers,E=f?Object.keys(f).length:0,h=location.protocol,v=location.host,m=location.href,A=X({protocol:h,host:v}),I=new URL(r,m),y=I.pathname.replace(/(members|people|roundtables?)\/(\w+)/g,"$1").replace(/(\/appview|\/api|\/v4|\/\d+|-|\w{32})/g,"").substring(1).replace(/\//g,"-")||"Unknown";if(!(I.host!==v||I.protocol!==h)){var O=[a,s,"SameOriginV1",A,p,y,"count"].join(".");T.ZP.increment({name:O,options:{version:"all"}}),401===e.status&&J(e,void 0===l?function(){return"Unknown"}:l);return}var S="CrossOrigin",g=[a,s,S,A,p,X(I),"H_".concat(E),y,"count"].join(".");T.ZP.increment({name:g,options:{version:"all"}}),e.name="FetchError",null===(n=window.Raven)||void 0===n||n.captureException(e,{fingerprint:["FetchError",S],level:"warning",extra:{local:location.href,remote:r,method:p,headers:f}})}(e,{url:n,options:r},t),e})}}),function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.downgradeProbe,o=(0,H._)(n,["downgradeProbe"]);if(!r)return e(t,o);var i=r.url,u=x.instance();return e(u.prefer(t.toString(),i),o).catch(function(t){if((0,B._)(t,_.VL)&&t.status>=500&&t.url!==i)return T.ZP.increment("HCP.downgrading.default.count"),u.check(t.url),e(i,o);throw t})}},U].filter(Boolean),Y=k(K,G),j=a(C,{http:Y});j.dispatch((0,ea.GM)(navigator.userAgent)),!1===S().get(N.Xq)&&j.dispatch((0,ea.JT)(!1)),"production"===Z.trafficSource&&A()(v,function(e,t){return window.Raven.captureException(e,{extra:t}),null}),f.Z.install({appName:"main"===w?"heifetz":"heifetz-".concat(w),timingSampleRate:.001});var et=(0,eu.ib)(j.getState()),ed=(0,ea.Uh)(j.getState()),e_=(0,ea.Hu)(j.getState());F&&!e_&&(i=(o=(r=JSON.parse(document.getElementById("js-initialData").textContent).initialState).env).vars.passThroughHeaders,u=[(0,_.JT)(),(0,p.Yq)(),en({ua:o.userAgent,authInfo:{id:r.currentUser},xUDId:o.xUDId,passVars:i}),U],s=(0,_.SQ)(fetch,[function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(void 0,(0,l._)(n)).then(function(e){var t=e.payload,n=void 0===t?{}:t;return n.data&&!n.paging?n.data:n})}}].concat((0,l._)(u))),window.addEventListener("message",function(e){var t=e.data,n=t.url,r=t.params;"zop"===t.source&&s(n,(0,D._)({},r)).then(function(e){window.postMessage({source:"heifetz",sign:e,err:null},window.location.origin)}).catch(function(e){window.postMessage({source:"heifetz",sign:null,err:e},window.location.origin)})},!1)),(0,ei.N4)(k([function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(void 0,(0,l._)(n)).then(function(e){var t=e.payload,n=void 0===t?{}:t;return n.data&&!n.paging?n.data:n})}}].concat((0,l._)(K)),G)),c({store:j,http:Y,container:document.getElementById("root"),canaryConfig:M,afterHydrate:function(){e_&&"errorpage"!==w.toLowerCase()&&er(),ed.Wechat&&(T.ZP.increment("WechatSDK.config.intention.count"),(0,d.S0)().catch(function(e){throw T.ZP.increment("WechatSDK.config.fail.count"),e})),ed.JDMiniProgram&&(0,y.v)("https://beta-mini-app-static.jd.com/apps/jssdktest/js/jssdk.js"),ed.MQQBrowser&&e_&&(0,y.v)("https://jsapi.qq.com/get?api=app.openPhotoBrowser")}}),(0,R.Hf)(et,ed).then(function(){n.e(4299).then(n.bind(n,14299)).then(function(e){(null==e?void 0:e.default)&&new e.default({performance:!0,resourceError:!1,request:!1,resourcePerformance:!0,runtimeError:!1,common:{disableLog:!1,projectId:"heifetz"}})})});var ep=null===(m=Z.abV2)||void 0===m?void 0:m.config;if(null==ep?void 0:ep.abMap){var eT={abConfig:ep,idInfo:{memberHashId:null==et?void 0:et.id}};(0,E.M)(eT)}ed.ZhihuHybrid&&F&&I.Z.enableLog(),P.Z.config({userId:C.currentUser}),et&&!V&&["www.zhihu.com","zhuanlan.zhihu.com","www-zhihu-com","zhuanlan-zhihu-com"].some(function(e){return location.host.includes(e)})&&function(e){var t=g.Z.refreshValidityPeriod,n=Date.now(),r=(0,ec.LP)();if(r){var o=JSON.parse(r),i=o.token;n-o.timestamp>864e5*Number(t)&&e((0,es.zq)((0,el.Z)("refresh_token",{refreshToken:i})));return}(0,_.dJ)("/api/account/prod/token/refresh",{method:"POST"}).then(function(t){var n=t.refresh_token;e((0,es.zq)((0,el.Z)("refresh_token",{refreshToken:n})))}).catch(function(e){var t=e.error;T.ZP.increment("token.error.getRefreshToken.".concat(null==t?void 0:t.code))})}(j.dispatch)})},42735:function(e,t,n){"use strict";var r=n(55164),o=n(57477),i=n(71728),u=n(85879),a=n(69383),c=n(93653),s=n(80714),l=n(25734);t.Z=function(e){var t=e.color,n=e.onClick,d=(0,i._)(e,["color","onClick"]),_=(0,l.ZP)().themeTransition;return(0,u.tZ)("a",(0,o._)((0,r._)({href:"//".concat(s.Z.wwwHost),"aria-label":"知乎",onClick:function(e){n&&n(e),a.Z.trackEvent(e.target,{action:"OpenUrl",id:2730},{button:{text:"知乎"}})}},d),{children:(0,u.tZ)(c.Z,{color:void 0===t?"primary":t,css:(0,r._)({},_("fill"))})}))}},37705:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(55164),o=n(85879),i=n(87363),u=n(50373),a=n(80714);function c(){return Promise.all([n.e(2850),n.e(887),n.e(8885),n.e(6752),n.e(2433),n.e(5954),n.e(6229),n.e(8691),n.e(4306),n.e(8689),n.e(961),n.e(7359),n.e(8400),n.e(2540),n.e(4966),n.e(7936)]).then(n.bind(n,39772))}var s=(0,i.forwardRef)(function(e,t){return(0,o.tZ)(u.Z,(0,r._)({ref:t,getComponent:c,newLinkCard:!0,shouldAdaptNative:"1"===a.Z.apollo.editor_adapt_native},e))});t.Z=s},90656:function(e,t,n){"use strict";n.d(t,{Ci:function(){return a},F:function(){return u}});var r=n(55164),o=n(49899);function i(e,t){var n,o,i,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3?arguments[3]:void 0;return fetch((i=Object.keys(o=(0,r._)({token:t,max_matches:10,use_similar:0},a)).map(function(e){return"".concat(e,"=").concat(encodeURIComponent(o[e]))}).join("&"),"".concat((n="undefined"!=typeof window?window.location.host:null)?"//".concat(n.replace(/[a-z|A-Z]+(\d?)(?=\.zhihu)/,function(e,t){return"www".concat(t)}),"/"):"//www.zhihu.com/").concat(e?"".concat(e,"/"):"","autocomplete?").concat(i))).then(function(e){return e.json().then(function(t){return{res:e,json:t}})}).then(function(t){var n=t.res,r=t.json;if(n.ok)return r[0].filter(Array.isArray).filter(function(t){return!e||t[0]===e}).filter(function(e){return!u.includes(e[1])});throw Error("fetch ".concat(e," error"))})}function u(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(void 0,["topic"].concat((0,o._)(t))).then(function(e){return e.map(function(e){return{name:e[1],urlToken:e[2],avatarUrl:e[3]}})})}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.apply(void 0,["question"].concat((0,o._)(t))).then(function(e){return e.map(function(e){return{name:e[1],urlToken:e[3],answersCount:e[5]}})})}},5941:function(e,t,n){"use strict";n.d(t,{E:function(){return _},Z:function(){return P}});var r=n(85879),o=n(55698),i=n(25628),u=n.n(i),a=n(14168),c=n.n(a),s=n(87038),l={UserItem:"vjaMgh32RKN4CuPW6jIJ",UserDetail:"cFoxZvXNWrkYyCkQXQIH",UserName:"AxKNrwvUPWqm5KduQgQ0",UserHeadline:"jmrA9Ix6WBNaYzTQfFvJ",UserAvatar:"xTD6Xv3rAinkjN6QMG_v"},d=function(e){var t=e.name,n=e.avatarUrl,i=e.headline;return(0,r.BX)("div",{className:u()("AutoComplete-UserItem",l.UserItem),children:[(0,r.tZ)(o.qE,{className:u()("AutoComplete-UserAvatar",l.UserAvatar),url:n,alt:t}),(0,r.BX)("div",{className:u()("AutoComplete-UserDetail",l.UserDetail),children:[(0,r.tZ)("div",{className:u()("AutoComplete-UserName",l.UserName),children:t}),(0,r.tZ)(s.Z,{className:u()("AutoComplete-UserHeadline",l.UserHeadline),html:i})]})]})};d.propTypes={name:c().string,avatarUrl:c().string,headline:c().string};var _=d,p=n(20857),f=n(22107),T=n(94707),E=n(87320),h=n(86325),v=n(55164),m=n(57477),A=n(85626),I=n(99178),y=n(95548),O=n.n(y),S=n(87363),g=n(1733),C=n(95377),N=function(e){var t=e.name;return(0,r.tZ)("div",{className:"AutoComplete-DefaultItem",css:{lineHeight:"40px"},children:t})};N.propTypes={name:c().string},N.defaultProps={name:""};var R=function(e){(0,h._)(n,e);var t=(0,A._)(n);function n(e){(0,f._)(this,n),r=t.call(this,e),(0,E._)((0,p._)(r),"handleOpen",function(){var e=r.props,t=e.onChange,n=e.onOpen,o=r.state,i=o.value,u=o.menuOpened;r.isEmpty()||u||!r.menu||(r.menu.popover.open(),r.setState({selectedIndex:r.getDefaultSelectIndex(),menuOpened:!0},function(){"function"==typeof n&&n(),t(i)}))}),(0,E._)((0,p._)(r),"handleClose",function(e,t,n){if(r.state.menuOpened){var o,i=r.state.value,u=r.props,a=u.items,c=u.groups,s=u.getText,l=u.onSelect,d=u.onClose,_=u.onEnterInput;t=t||r.state.selectedIndex,e&&(r.openAvailable=!1,-1===t?_():(a?o=a[t]:c[n||r.state.selectedGroupKey]&&(o=c[n||r.state.selectedGroupKey][t]),o&&l(i=s(o),o))),r.menu&&r.menu.popover.close(),r.setState({value:i,menuOpened:!1,selectedIndex:r.getDefaultSelectIndex()},function(){"function"==typeof d&&d()})}}),(0,E._)((0,p._)(r),"handleChange",function(e){var t=e.target.value,n=r.props,o=n.onChange,i=n.inputProps.onChange;r.openAvailable=!0,r.setState({value:t}),i&&i(t),o(t)}),(0,E._)((0,p._)(r),"handleFocus",function(e){var t=r.props.onFocus;r.openAvailable=!0,r.handleOpen(),t&&t(e)}),(0,E._)((0,p._)(r),"handleBlur",function(e){var t=r.props.onBlur;r.openAvailable=!1,r.handleClose(),"function"==typeof t&&t(e)}),(0,E._)((0,p._)(r),"handleKeyDown",function(e){var t=e.keyCode;13!==t||r.isCompositing||(r.isAbleEnterToSearch=!0),(38===t||40===t)&&e.preventDefault();var n=r.props.inputProps;n&&n.onKeyDown&&n.onKeyDown(e)}),(0,E._)((0,p._)(r),"handleKeyUp",function(e){var t=r.props,n=t.items,o=t.groups,i=t.onEnterInput,u=e.keyCode;if(!r.isAbleEnterToSearch&&13===u){r.isAbleEnterToSearch=!0;return}if(13===u||27===u){if(r.state.menuOpened)r.openAvailable=!1,r.handleClose(13===u);else if(13===u){i();return}}else 38===u?n?r.setState(function(e){var t=e.selectedIndex;return{selectedIndex:t<=0?n.length-1:t-1}}):r.groupKeyArray&&r.groupKeyArray.length&&r.setState(function(e){var t=e.selectedIndex,n=e.selectedGroupKey,i=t-1,u=n;if(i<0){var a=r.groupKeyArray.indexOf(n),c=0===a?r.groupKeyArray.length-1:a-1;i=o[u=r.groupKeyArray[c]].length-1}return{selectedIndex:i,selectedGroupKey:u}}):40===u&&(n?r.setState(function(e){var t=e.selectedIndex;return{selectedIndex:t===n.length-1?0:t+1}}):r.groupKeyArray&&r.groupKeyArray.length&&r.setState(function(e){var t=e.selectedIndex,n=e.selectedGroupKey,i=t+1,u=n;if(i===o[n].length){var a=r.groupKeyArray.indexOf(n),c=a===r.groupKeyArray.length-1?0:a+1;u=r.groupKeyArray[c],i=0}return{selectedIndex:i,selectedGroupKey:u}}))}),(0,E._)((0,p._)(r),"handleCompositionStart",function(){r.isCompositing=!0,r.isAbleEnterToSearch=!1}),(0,E._)((0,p._)(r),"handleCompositionEnd",function(){r.isCompositing=!1});var r,o=r.props,i=o.value,u=o.items,a=o.groups;return r.state={id:null,value:i,selectedIndex:r.getDefaultSelectIndex(),selectedGroupKey:null,menuOpened:!1},r.openAvailable=!1,r.isCompositing=!1,r.isAbleEnterToSearch=!0,r.previous={items:u,groups:a},r}return(0,T._)(n,[{key:"componentDidMount",value:function(){this.setState({id:O()("AutoComplete")}),this.checkMenuStatus()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.value,n=e.value,r=e.items,o=e.groups;t!==n&&this.setState({value:n}),o&&(this.groupKeyArray=Object.keys(o).filter(function(e){return o[e].length>0}),this.groupKeyArray.length&&this.setState({selectedIndex:this.getDefaultSelectIndex(),selectedGroupKey:this.groupKeyArray[0]})),this.isEmpty(e)||(this.previous={items:r,groups:o})}},{key:"componentDidUpdate",value:function(){this.checkMenuStatus()}},{key:"getDefaultSelectIndex",value:function(){return this.props.autoSelect?0:-1}},{key:"checkMenuStatus",value:function(){var e=this.state.menuOpened,t=this.isEmpty();t||e||!this.openAvailable?t&&e&&this.handleClose():this.handleOpen()}},{key:"isEmpty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.items,n=e.groups,r=e.isItemDisabled,o="function"==typeof r&&t?t.filter(function(e){return!r(e)}):t;return(!o||0===o.length)&&(!n||!Object.values(n).some(function(e){return e.length>0}))}},{key:"renderItems",value:function(e){var t=this,n=this.props,o=n.renderItem,i=n.isItemDisabled,u=this.state,a=u.id,c=u.selectedIndex;return e.map(function(e,n){return(0,r.tZ)(g.sN,{id:"".concat(a,"-").concat(n),tag:"div",disabled:i(e),hovered:n===c,onMouseEnter:function(){t.setState({selectedIndex:n})},onClick:function(){return t.handleClose(!0,n)},onMouseDown:function(e){return e.preventDefault()},role:"option",children:o(e)},n)})}},{key:"renderGroupItems",value:function(e,t){var n=this,o=this.props,i=o.renderItem,u=o.isItemDisabled,a=this.state,c=a.id,s=a.selectedIndex,l=a.selectedGroupKey;return e.map(function(e,o){return(0,r.tZ)(g.sN,{id:"".concat(c,"-").concat(t,"-").concat(o),tag:"div",disabled:u(e),hovered:o===s&&t===l,onMouseEnter:function(){n.setState({selectedIndex:o,selectedGroupKey:t})},onClick:function(){return n.handleClose(!0,o,t)},onMouseDown:function(e){return e.preventDefault()},role:"option",children:i(e)},o)})}},{key:"renderGroups",value:function(){var e=this,t=this.props,n=t.labels,o=t.groups,i=t.renderLabel;return Object.keys(o).filter(function(e){return o[e].length>0}).map(function(t,u){return(0,r.BX)("div",{className:"AutoComplete-group",children:[n[t]&&i("".concat(n[t])),e.renderGroupItems(o[t],t)]},u)})}},{key:"renderInner",value:function(){var e=this.props,t=e.items,n=e.groups,o=this.isEmpty(),i=o?this.previous.items:t,u=o?this.previous.groups:n;return(0,r.BX)(r.HY,{children:[i&&this.renderItems(i),u&&this.renderGroups(u)]})}},{key:"renderInfiLoading",value:function(){var e=this.props.infiLoaderProps;return(0,r.tZ)(I.ZP,(0,m._)((0,v._)({},e),{children:this.renderInner()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.inputProps,o=t.menuProps,i=t.infiLoaderProps,a=t.className,c=t.onRef,s=t.autoFocus,l=this.state,d=l.id,_=l.value,p=l.selectedIndex,f=l.selectedGroupKey,T=(0,r.tZ)(C.Z,(0,m._)((0,v._)({},n),{value:_,onRef:function(t){e.inputNode=t,c&&c(t)},onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd,autoComplete:"off",autoFocus:s,role:"combobox","aria-expanded":!1,"aria-autocomplete":"list","aria-activedescendant":"".concat(d).concat(f?"-".concat(f):"","-").concat(p)}));return(0,r.tZ)("div",{className:a,children:(0,r.tZ)(g.ZP,(0,m._)((0,v._)({},o),{menuClassName:u()("AutoComplete-menu",o.menuClassName),menuContainerClassName:o.menuContainerClassName,preventCloseOnTarget:void 0===o.preventCloseOnTarget||o.preventCloseOnTarget,toggler:T,placement:"bottom-left",arrowed:!1,ref:function(t){e.menu=t},toggleEvent:"keyup",ariaProps:{role:"listbox"},noLayer:!0,children:i?this.renderInfiLoading():this.renderInner()}))})}}]),n}(S.Component);R.defaultProps={renderItem:function(e){return(0,r.tZ)(N,(0,v._)({},e))},renderLabel:function(e){return(0,r.tZ)("span",{children:e})},getText:function(e){return e.name},value:"",autoFocus:!1,autoSelect:!0,onEnterInput:function(){},isItemDisabled:function(){return!1},inputProps:{},menuProps:{},onChange:function(){},onSelect:function(){}},R.propTypes={autoFocus:c().bool,autoSelect:c().bool,onRef:c().func,items:c().array,labels:c().object,groups:c().object,onChange:c().func,onSelect:c().func,onOpen:c().func,onClose:c().func,onFocus:c().func,onBlur:c().func,onEnterInput:c().func,inputProps:c().object,menuProps:c().object,isItemDisabled:c().func,renderItem:c().func,renderLabel:c().func,getText:c().func,value:c().string};var P=R},38889:function(e,t,n){"use strict";n.d(t,{rp:function(){return u},EE:function(){return i},ZP:function(){return A}});var r,o,i,u,a,c=n(87320),s=n(55164),l=n(57477),d=n(71728),_=n(85879),p=n(65733),f=n(17103),T=n(25628),E=n.n(T),h=n(87363),v=n.n(h),m={Button:"FEfUrdfMIKpQDJDqkjte",grey:"ZdfrHW7Ef5ZjwFiiBJuS",blue:"JmYzaky7MEPMFcJDLNMG",green:"_uLbatyxkRXPgimqvo45",red:"izzcAj8OQYu6ydgaw42c",primary:"epMJl0lFQuYbC7jrwr_o",secondary:"E211w_M7Hzs0GMB7BEyA",plain:"fEPKGkUK5jyc4fUuT0QP",link:"yXNqP8Bkgas9d_XumHbv",spread:"GMKy5J1UWc7y8NF_V8YA",withIcon:"B46v1Ak6Gj5sL2JTS4PY",iconOnly:"hIwDV_tcL6XN1HprrnAq",withLabel:"RuuQ6TOh2cRzJr6WlyQp",icon:"t2ntD6J1DemdOdvh5FB4"};(r=i||(i={})).Primary="primary",r.Secondary="secondary",r.Outline="outline",r.Plain="plain",r.Link="link",(o=u||(u={})).Grey="grey",o.Blue="blue",o.Green="green",o.Red="red",(a||(a={})).Spread="spread";var A=v().forwardRef(function(e,t){var n,r=e.children,o=e.className,u=e.color,a=e.icon,T=e.label,h=e.size,v=e.onRef,A=e.onClick,I=e.preset,y=void 0===I?i.Outline:I,O=e.component,S=void 0===O?"button":O,g=e.type,C=e.disabled,N=(0,d._)(e,["children","className","color","icon","label","size","onRef","onClick","preset","component","type","disabled"]),R=(0,p.Z)(function(e){e.currentTarget.disabled||C||!A||A(e)}),P=E()("Button",o,m.Button,(n={},(0,c._)(n,"Button--".concat(y),!!y&&y!==i.Outline),(0,c._)(n,"Button--".concat(u),!!u&&y!==i.Link),(0,c._)(n,"Button--".concat(h),!!h),(0,c._)(n,"Button--withIcon",!!a),(0,c._)(n,"Button--withLabel",!!T),(0,c._)(n,"Button--iconOnly",a&&!T),(0,c._)(n,m["".concat(y)],!!y&&y!==i.Outline),(0,c._)(n,m["".concat(u)],!!u&&y!==i.Link),(0,c._)(n,m["".concat(h)],!!h),(0,c._)(n,m.withIcon,!!a),(0,c._)(n,m.withLabel,!!T),(0,c._)(n,m.iconOnly,a&&!T),n));return(0,_.BX)(S,(0,l._)((0,s._)({},N),{type:void 0===g?"button":g,disabled:C,ref:(0,f.Z)(t,v),className:P,onClick:R,children:[a&&(0,_.tZ)(a,{center:!0,text:!!T||y===i.Plain||y===i.Link,className:E()("Button-zi",m.icon)}),T,r]}))})},60683:function(e,t,n){"use strict";n.d(t,{AX:function(){return u},Gs:function(){return o},HG:function(){return i},WG:function(){return d},X:function(){return s},YX:function(){return a},g1:function(){return l},wF:function(){return c}});var r=n(94009),o={success:"success",failure:"failure",loading:"loading"},i={0:"text",1:"image",2:"sticker",5:"csevaluationcard",6:"ecomcard",7:"plugin"},u={GUESS_YOU_WANT_ASK:"GUESS_YOU_WANT_ASK"},a=Object.entries(i).reduce(function(e,t){var n=(0,r._)(t,2),o=n[0];return e[n[1]]=Number(o),e},{}),c={text:"text",image:"image",sticker:"sticker",ecomcard:"ecomcard",plugin:"plugin",csevaluationcard:"csevaluationcard"},s=3e5,l=320,d=20},26299:function(e,t,n){"use strict";n.d(t,{zV:function(){return m},sJ:function(){return P},ZP:function(){return A}});var r=n(94009),o=n(85879),i=n(16836),u=n(75798),a=n(43897),c=n(55164),s=n(57477),l=n(71728),d=n(68339),_=n(19818),p=n(25628),f=n.n(p),T=n(14168),E=n.n(T),h=function(e){var t=e.visible,n=e.children;return(0,o.tZ)("div",{className:f()("CornerAnimayedFlex",{"CornerAnimayedFlex--hidden":!t}),children:n})};h.defaultProps={visible:!0};var v=function(e){var t=e.className,n=e.visible,r=e.tooltip,i=e.children,u=(0,l._)(e,["className","visible","tooltip","children"]);return(0,o.tZ)(h,{visible:n,children:(0,o.tZ)(d.ZP,(0,s._)((0,c._)({},u),{"data-tooltip":r,"data-tooltip-position":"left","data-tooltip-will-hide-on-click":!0,className:f()(t,"CornerButton"),"aria-label":r,preset:"plain",css:function(e){return(0,s._)((0,c._)({display:"flex",alignItems:"center",justifyContent:"center",background:e.colors.GBK99A,borderRadius:"4px",width:"40px",height:"40px",color:e.colors.GBL05A},(0,_.d)(e)),{"&:hover":{background:e.colors.GBK08A}})},children:i}))})};v.propTypes={className:E().string,tooltip:E().string.isRequired,visible:E().bool,children:E().node};var m=function(e){var t=e.className,n=e.onClick,c=e.threshold,s=(0,r._)((0,u.Z)(),3),l=s[0],d=s[1],_=s[2];return(0,o.BX)(o.HY,{children:[(0,o.tZ)(v,{visible:!d&&!!_,className:t,tooltip:"回到顶部",onClick:function(e){n&&n(e),e.defaultPrevented||window.scrollTo({top:0,behavior:"smooth"})},children:(0,o.tZ)(a.z,{"aria-hidden":!0})}),(0,o.tZ)(i.Z,{children:(0,o.tZ)("div",{ref:l,css:{position:"absolute",top:0,height:void 0===c?1200:c}})})]})},A=function(e){var t=e.className,n=e.children;return(0,o.tZ)("div",{className:f()("CornerButtons",t),children:n})},I=n(22107),y=n(94707),O=n(87320),S=n(86325),g=n(85626),C=n(87363),N=n(73480),R=function(e){(0,S._)(n,e);var t=(0,g._)(n);function n(){return(0,I._)(this,n),t.apply(this,arguments)}return(0,y._)(n,[{key:"navigationToZhiyisheng",value:function(){location.href="https://www.zhihu.com/messages/3d198a56310c02c4a83efb9f4a4c027e?message=".concat(encodeURIComponent("您好，我遇到的问题的场景是：\n具体功能是：\n具体反馈是："))}},{key:"render",value:function(){var e=this.props.className;return(0,o.tZ)(v,{className:e,tooltip:"建议反馈",onClick:this.navigationToZhiyisheng,children:(0,o.tZ)(N.a,{"aria-label":"建议反馈"})})}}]),n}(C.Component);(0,O._)(R,"propTypes",{className:E().string});var P=R},25773:function(e,t,n){"use strict";var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(57477),l=n(71728),d=n(85626),_=n(85879),p=n(25628),f=n.n(p),T=n(92769),E=n.n(T),h=n(14168),v=n.n(h),m=n(87363),A=n(38889),I=function(e){(0,a._)(n,e);var t=(0,d._)(n);function n(e){var i;return(0,o._)(this,n),i=t.call(this,e),(0,u._)((0,r._)(i),"clearTimer",function(){i.timer&&window.clearInterval(i.timer)}),(0,u._)((0,r._)(i),"handleClick",function(e){i.state.isCounting||i.startTiming(e)}),i.state={countDownTime:e.countDownTime,isCounting:!1},i.isInitialState=!0,i}return(0,i._)(n,[{key:"componentDidMount",value:function(){this.props.startAtOnce&&this.startTiming()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.interceptTime,r=t.reStartTime,o=e.interceptTime,i=e.reStartTime;n!==o&&this.resetTiming(),r!==i&&(this.resetTiming(),this.startTiming())}},{key:"componentWillUnmount",value:function(){this.clearTimer()}},{key:"resetTiming",value:function(){this.clearTimer(),this.setState({countDownTime:this.props.countDownTime,isCounting:!1})}},{key:"startTiming",value:function(e){var t=this,n=this.props,r=n.event,o=n.countDownEndEvent,i=null,u=function(){t.isInitialState=!1,t.setState({isCounting:!0}),t.timer=setInterval(function(){var e=t.state.countDownTime;e<=0?(o&&o(),t.resetTiming()):t.setState({countDownTime:e-1})},1e3)};"function"==typeof r&&(i=r(e,u)),!1!==i&&u()}},{key:"renderText",value:function(){var e=this.props,t=e.initialText,n=e.resetText,r=e.countingText,o=this.state,i=o.countDownTime;return o.isCounting?r({count:i}):this.isInitialState?t:n||t}},{key:"render",value:function(){var e=E()(this.props,["initialText","resetText","countingText","startAtOnce","countDownTime","event","interceptTime","countDownEndEvent","reStartTime"]),t=e.className,n=e.disabled,r=(0,l._)(e,["className","disabled"]),o=this.state.isCounting;return(0,_.tZ)(A.ZP,(0,s._)((0,c._)({className:f()("CountingDownButton",t,{"is-counting":o})},r),{onClick:this.handleClick,disabled:n||o,children:this.renderText()}))}}]),n}(m.Component);(0,u._)(I,"propTypes",{countDownTime:v().number,startAtOnce:v().bool,initialText:v().string.isRequired,resetText:v().string,countingText:v().func.isRequired,event:v().func,countDownEndEvent:v().func,interceptTime:v().number,reStartTime:v().number}),(0,u._)(I,"defaultProps",{countDownTime:60,startAtOnce:!1,interceptTime:-1,reStartTime:-1}),t.Z=I},68455:function(e,t,n){"use strict";n.d(t,{GM:function(){return T},Uh:function(){return _},Wb:function(){return d},Wf:function(){return f},yN:function(){return E}});var r,o=n(49899),i=n(41807),u=n.n(i),a=n(67516),c=n.n(a),s="EMOTICON_EMOJI",l=c().get(s);function d(){return!!r}function _(e){l=e,c().set(s,e)}function p(e){var t=function(){if(r)return r;var e=(l&&(l=c().get(s)),l);return e?(r={},e.forEach(function(e){r[e.placeholder]=e.staticImageUrl}),r):{}}()[e];return t?'<img data-zhihu-emoticon="'.concat(e,'" src="').concat(t,'" alt="').concat(e,'" />'):e}function f(e){return e.replace(/\[.{1,8}?\]/g,p)}function T(e,t){return t.map(function(t){var n=t.id,r=t.type,i=e[n],a="emoji"===r?45:8;return i?u()(i.stickers,a).map(function(e,t){return{groupId:n,id:"".concat(n,"-").concat(t),data:e,type:r}}):u()((0,o._)(Array(t.stickerCount)),a).map(function(e,t){return{groupId:n,id:"".concat(n,"-").concat(t),data:[],type:r}})}).flat()}function E(e,t){return e?t:t.filter(function(e){return"vip"!==e.type})}},60189:function(e,t,n){"use strict";var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(57477),l=n(71728),d=n(97614),_=n(85626),p=n(85879),f=n(62082),T=n(54231),E=n(87363),h=n(80714),v=n(37071),m=function(e,t){var n,r,o,i,u,a,c,s=t.name,l=t.errorInfo;return{type:s,appName:"heifetz",pageName:null!==(n=(0,T.j0)())&&void 0!==n?n:"Unknown",errorName:null!==(r=null==e?void 0:e.name)&&void 0!==r?r:"Unknown",release:h.Z.release,error:{name:null!==(o=null==e?void 0:e.name)&&void 0!==o?o:"Unknown",message:null!==(i=null==e?void 0:e.message)&&void 0!==i?i:"Unknown",stack:null!==(u=null==e?void 0:e.stack)&&void 0!==u?u:"Unknown",payload:null!==(a=null==e?void 0:e.payload)&&void 0!==a?a:"Unknown",componentStack:null!==(c=null==l?void 0:l.componentStack)&&void 0!==c?c:"Unknown"}}},A=function(e){(0,a._)(n,e);var t=(0,_._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{hasError:!1}),e}return(0,i._)(n,[{key:"componentDidCatch",value:function(e,t){var n,r=this.props,o=r.target,i=r.config,u=r.config,a=void 0===u?{}:u,s=a.name,l=a.presets,d=void 0===l?[]:l;if(window.Raven&&window.Raven.captureException(e,{logger:"ErrorBoundary",fingerprint:["ErrorBoundary"],extra:(0,c._)({info:t},o&&{target:o})}),i){var _=m(e,{name:s,errorInfo:t});d.includes("sc-report")&&(0,f.zB)(_),d.includes("web-report")&&(null===(n=window.webReporter)||void 0===n||n.report(s,_))}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.replacement,r=e.message,o=(0,l._)(e,["children","replacement","message"]);if(this.state.hasError){var i=void 0===n?"undefined":(0,d._)(n);return"undefined"===i?(0,p.tZ)(v.Z,{message:r||"遇到不可预料的问题"}):"function"===i?n((0,s._)((0,c._)({},o),{children:t})):n}return t}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(E.Component);t.Z=A},38267:function(e,t,n){"use strict";var r=n(85879),o=n(39658),i=n(53778),u=n(26299),a=n(31142);t.Z=function(e){var t=e.subtitle,n=e.errorImage,c=(0,i.useSelector)(function(e){return e.env.ctx.query.error_title})||e.title;return(0,r.BX)("div",{className:"ErrorPage",children:[(0,r.tZ)(o.ql,{title:c}),(0,r.BX)("div",{className:"ErrorPage-container",children:[(0,r.BX)("div",{className:"ErrorPage-text",children:[(0,r.tZ)("h1",{className:"ErrorPage-title",children:c}),(0,r.tZ)("p",{className:"ErrorPage-subtitle",children:t}),(0,r.tZ)(a.Z,{a:!0,preset:"primary",color:"blue",className:"ErrorPage-primaryButton",to:"https://www.zhihu.com",children:"去往首页"})]}),(0,r.tZ)("div",{className:"ErrorPage-errorImageContainer",children:(0,r.tZ)("img",{className:"ErrorPage-errorImage",src:void 0===n?"//zhstatic.zhihu.com/assets/error/liukanshan_wire.svg":n,alt:"page error"})})]}),(0,r.tZ)(u.ZP,{children:(0,r.tZ)(u.sJ,{})})]})}},39338:function(e,t,n){"use strict";n.d(t,{ht:function(){return u},CA:function(){return c},ds:function(){return I},YX:function(){return m},IR:function(){return h},NJ:function(){return a},ZP:function(){return r.Z},mP:function(){return N}});var r=n(38267),o=n(85879),i=n.p+"assets/liukanshan_wire.dc5adecf.svg",u=function(){return(0,o.tZ)(r.Z,{title:"请求错误",subtitle:"无法访问当前页面",errorImage:i})},a=function(){return(0,o.tZ)(r.Z,{title:"未认证",subtitle:"无法访问当前页面",errorImage:i})},c=function(){return(0,o.tZ)(r.Z,{title:"没有权限",subtitle:"无法访问当前页面",errorImage:i})},s=n(53778),l=n(94009),d=n(87363),_=n(76867),p=n(76435),f=n(88729),T=function(e){var t=/^\/question\/(\d+)\/answer\/(\d+)/.exec(e);return t&&t[1]&&t[2]?{destination:"回答所在的问题页",targetUrl:"/question/".concat(t[1])}:{destination:"知乎首页",targetUrl:"https://www.zhihu.com"}};function E(e){var t=e.seconds,n=e.source,r=e.title,i=(0,l._)((0,d.useState)(void 0===t?5:t),2),u=i[0],a=i[1],c=T(n),s=c.targetUrl,E=c.destination;return(0,_.Z)(function(){a(u-1)},0===u?null:1e3),(0,d.useEffect)(function(){0===u&&(location.href=s)},[u,s]),(0,o.tZ)(p.mf,{title:r,subtitle:"".concat(u," 秒后自动跳转至").concat(E),errorImage:f})}var h=function(){var e=(0,s.useSelector)(function(e){return e.env.ctx.query}),t=e.redirect,n=e.error_title,u=e.error_from;return t?(0,o.tZ)(E,{source:u,seconds:5,title:n}):(0,o.tZ)(r.Z,{title:"404",subtitle:"你似乎来到了没有知识存在的荒原",errorImage:i})},v=n.p+"assets/liukanshan_delete.5086fe3e.png",m=function(){return(0,o.tZ)(r.Z,{title:"该内容已删除",subtitle:"你似乎来到了没有知识存在的荒原",errorImage:v})},A=n.p+"assets/liukanshan_delivery.a6651701.svg",I=function(){return(0,o.tZ)(r.Z,{title:"出了一点问题",subtitle:"我们正在解决",errorImage:A})},y=n(55164),O=n(84871),S=n.n(O),g=n.p+"assets/reviewing.0806d716.svg";function C(e){var t=e.title;return(0,o.tZ)(r.Z,{title:void 0===t?"该内容正在审核中":t,errorImage:g})}var N=function(e){return function(t){return S()(function(n){var r=e(n);return r?(0,o.tZ)(C,{title:null==r?void 0:r.message}):(0,o.tZ)(t,(0,y._)({},n))},t)}}},37071:function(e,t,n){"use strict";var r=n(22107),o=n(94707),i=n(86325),u=n(85626),a=n(85879),c=n(87363),s=n(86616),l=function(e){(0,i._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,o._)(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.location.pathname;return(0,a.tZ)("div",{className:"UnknownError",children:t||(0,a.BX)("div",{children:["遇到不可预料的问题，请检查「网络连接」或",(0,a.tZ)("a",{href:n,children:"刷新重试"}),"。"]})})}}]),n}(c.Component);t.Z=(0,s.withRouter)(l)},76435:function(e,t,n){"use strict";n.d(t,{SV:function(){return r.Z},mf:function(){return o.ZP},ds:function(){return o.ds},Ko:function(){return i.Z},mP:function(){return o.mP}});var r=n(60189),o=n(39338),i=n(37071);n(22107),n(94707),n(86325),n(85626);var u=n(85879);n(44812);var a=n(87363);n(38889),a.Component;var c=n(86616),s=n(58909),l=n(7407),d=[{name:"BadRequestErrorPage",path:"/400",component:o.ht},{name:"UnauthorizedErrorPage",path:"/401",component:o.NJ},{name:"ForbiddenErrorPage",path:"/403",component:o.CA},{name:"NotFoundErrorPage",path:"/404",component:o.IR,revalidate:864e5,getStaticPath:function(e){var t,n=e.data,r="NotFoundErrorPageCacheKey",o=null==n?void 0:n.initialState;o&&(r+=((0,l.Hu)(o)?"_mobile":"_pc")+((0,s.dd)(o)?"_login":"_notLogin"));var i=/error_title=([^&]+)/.exec(null==n?void 0:null===(t=n.ctx)||void 0===t?void 0:t.originalUrl);return i&&i[1]&&(r+="data-".concat(i[1])),r}},{name:"GoneErrorPage",path:"/410",component:o.YX,revalidate:864e5,getStaticPath:function(e){var t=e.data,n="GoneErrorPageCacheKey",r=null==t?void 0:t.initialState;return r&&(n+=((0,l.Hu)(r)?"_mobile":"_pc")+((0,s.dd)(r)?"_login":"_notLogin")),n}}];c.Route,d.map(function(e){return(0,u.tZ)(c.Route,{revalidate:e.revalidate,getStaticPath:e.getStaticPath,name:e.name,path:e.path,component:e.component},e.path)})},87843:function(e,t,n){"use strict";n.d(t,{$:function(){return C},Z:function(){return R}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(57477),l=n(71728),d=n(49899),_=n(85626),p=n(85879),f=n(14168),T=n.n(f),E=n(87363),h=n(61533),v=n(53778),m=n(12592),A=n.n(m),I=n(92769),y=n.n(I);function O(e,t){return t?e.trim():e}var S={useTrim:!0},g={required:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=(arguments.length>1&&arguments[1],(arguments.length>2&&void 0!==arguments[2]?arguments[2]:S).useTrim);return""!==O(e,t)},maxLength:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:S).useTrim;return O(e,n).length<=t},minLength:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:S).useTrim;return O(e,n).length>=t},pattern:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:S).useTrim;return t.test(O(e,n))}};function C(){return function(e){var t,n,r,o;return t=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=o[e];return"function"==typeof i?i.apply(void 0,(0,d._)(n)):void 0},n=e.contextTypes,r=e.defaultProps,o=Object.assign({},e.prototype),Object.assign(e.prototype,{UNSAFE_componentWillMount:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=this.context.form;return o&&(o.attachToForm(this),this.setState({_value:"",_validations:[]})),t.apply(void 0,["componentWillMount"].concat((0,d._)(n)))},componentWillUnmount:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=this.context.form;return o&&o.detachFromForm(this),t.apply(void 0,["componentWillUnmount"].concat((0,d._)(n)))},getValue:function(){var e=(this.state||{})._value;return null==e?"":e},setValue:function(e,t){this.setState({_value:e},function(){"function"==typeof t&&t()})},getValidationMessage:function(){var e=this.getValidationMessages();return e&&e[0]},getValidationClassName:function(){var e=(this.state||{})._validations;return e&&e[0]&&e[0].className},getValidationMessages:function(){var e=(this.state||{})._validations;return null==e?void 0:e.map(function(e){var t=e.message;return t?"string"==typeof t?t:t.message||"未知错误":""})},setValidations:function(e){var t=this;this.setState({_validations:e},function(){return t.forceUpdate()})},clearValidations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=(this.state||{})._validations;n&&n.length>0&&this.setState((0,s._)((0,c._)({},e),{_validations:[]}),t)},addValidation:function(e){this.setState(function(t){var n=t._validations;return{_validations:[e].concat((0,d._)(n||[]))}})},addManualValidation:function(e){this.addValidation({type:"manual",message:e})},validate:function(){this.context.form.validate(this)}}),Object.assign(e,{contextTypes:(0,s._)((0,c._)({},n),{form:T().object}),defaultProps:(0,s._)((0,c._)({},r),{validations:[]})}),e}}var N=function(e){(0,a._)(n,e);var t=(0,_._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{isValid:!0}),(0,u._)((0,r._)(e),"inputs",[]),(0,u._)((0,r._)(e),"attachToForm",function(t){var n=t.props.name;if(!n||e.inputs.includes(n))throw Error("form input must specify a unqie name, but current is ".concat(n));e.inputs.push(t)}),(0,u._)((0,r._)(e),"detachFromForm",function(t){var n=e.inputs.indexOf(t);-1!==n&&(e.inputs=(0,d._)(e.inputs.slice(0,n)).concat((0,d._)(e.inputs.slice(n+1))))}),(0,u._)((0,r._)(e),"validate",function(e){var t=e.state._value,n=e.props.validations,r=[],o=[];return n?(!Array.isArray(n)&&n.type&&(n=[n]),n.forEach(function(e){var n=e.type,i=e.value,u=e.options,a=g[n];if(!a)throw Error("no ".concat(n," rules, please define it at Form.validateRules"));var c=a(t,i,u);A()(c)?o=(0,d._)(o).concat([c.then(function(){},function(){r.push(e)})]):c||(r=(0,d._)(r).concat([e]))}),Promise.all(o).then(function(){return e.setValidations(r),r})):r}),(0,u._)((0,r._)(e),"handleSubmit",function(t){t.preventDefault();var n=e.props,r=n.onPreSubmit,o=n.onSubmit,i=n.isWechat;if(r(),i){new Promise(function(t){var n=e.inputs.find(function(e){return"username"===e.props.name});n&&!n.state._value&&(0,h.findDOMNode)(n.inputEl).value&&n.handleChange({target:{value:(0,h.findDOMNode)(n.inputEl).value}});var r=e.inputs.find(function(e){return"password"===e.props.name});r&&!r.state._value&&n&&(0,h.findDOMNode)(n.inputEl).value&&r.handleChange({target:{value:(0,h.findDOMNode)(r.inputEl).value}}),t()}).then(function(){e.validateAll().then(function(t){t&&o(e.inputs.reduce(function(e,t){return(0,s._)((0,c._)({},e),(0,u._)({},t.props.name,t.state._value))},{}))})});return}e.validateAll().then(function(t){t&&o(e.inputs.reduce(function(e,t){return(0,s._)((0,c._)({},e),(0,u._)({},t.props.name,t.state._value))},{}))})}),e}return(0,i._)(n,[{key:"getChildContext",value:function(){return{form:{attachToForm:this.attachToForm,detachFromForm:this.detachFromForm,getValue:this.getValue,setValue:this.setValue,validate:this.validate}}}},{key:"componentDidMount",value:function(){}},{key:"validateAll",value:function(){var e=this,t=this.props,n=t.onValid,r=t.onInvalid,o=[],i=[];return this.inputs.forEach(function(t){var n=e.validate(t);A()(n)?i=(0,d._)(i).concat([n.then(function(e){o=(0,d._)(o).concat((0,d._)(e))})]):n&&(o=(0,d._)(o).concat((0,d._)(n)))}),Promise.all(i).then(function(){var t=0===o.length;return e.setState({isValid:t},function(){t?n():r(o.map(function(e){return e.message}))}),t})}},{key:"render",value:function(){var e=y()(this.props,["onValid","onInvalid","onSubmit","onPreSubmit","isWechat","dispatch"]),t=e.children,n=e.onRef,r=(0,l._)(e,["children","onRef"]);return(0,p.tZ)("form",(0,s._)((0,c._)({noValidate:!0,onSubmit:this.handleSubmit,ref:n},r),{children:t}))}}]),n}(E.Component);(0,u._)(N,"childContextTypes",{form:T().object}),(0,u._)(N,"propTypes",{onValid:T().func,onInvalid:T().func,onSubmit:T().func,onPreSubmit:T().func}),(0,u._)(N,"validateRules",g),(0,u._)(N,"defaultProps",{onValid:function(){},onInvalid:function(){},onSubmit:function(){},onPreSubmit:function(){}});var R=(0,v.connect)(function(e){return{isWechat:e.env.userAgent.Wechat}})(N)},35374:function(e,t,n){"use strict";n.d(t,{A6:function(){return q},qH:function(){return H},iH:function(){return M}});var r=n(85879),o=n(68339),i=n(3028),u=n(94009),a=n(3331),c=n(87363),s=n.n(c),l=n(32210),d=n(91850),_=n(36892),p=n(65733),f=n(24405),T=n(24486),E=n(87641),h=n(43384),v=n.p+"assets/liukanshan-peek.a71ecf3e.png",m=function(e){var t=e.onLoginClick,n=e.onXMarkClick,i=(0,f.F)().colors;return(0,r.tZ)(h.eV,{block:"bottom_layer",children:(0,r.BX)(h.Wi,{as:E.Box,bg:"GBK99A",p:"32px 20px",css:{borderRadius:4},zaType:"Popup",children:[(0,r.tZ)(h.$U,{zaType:"Button",zaText:"关闭",as:T.ZP,size:12,css:{position:"absolute",right:12,top:12,color:i.GBK06A,cursor:"pointer"},onClick:n}),(0,r.tZ)(E.Image,{css:{position:"absolute",right:0,top:44},width:82,src:v}),(0,r.BX)(E.Text,{as:"span",fontWeight:"bold",fontSize:17,color:"GBK02A",children:["登录即可查看",(0,r.tZ)(E.Text,{as:"span",color:"GBL01A",children:" 超5亿 "}),"专业优质内容"]}),(0,r.tZ)(E.Text,{color:"GBK03A",lineHeight:1.6,mt:12,fontSize:14,pr:36,children:"超 5 千万创作者的优质提问、专业回答、深度文章和精彩视频尽在知乎。"}),(0,r.tZ)(h.$U,{zaType:"Button",zaText:!0,as:o.ZP,css:{marginTop:24,width:"100%",position:"relative"},preset:"primary",onClick:function(){t(),n()},color:"blue",children:"立即登录/注册"})]})})},A={from:{opacity:0,translateY:4},enter:{opacity:1,translateY:0},leave:{opacity:0,translateY:4},config:{ease:"easeOut",duration:.3}},I=(0,i.Z)(null)(function(e){var t=e.onLoginClick,n=(0,u._)((0,d.Z)(!1),2),o=n[0],i=n[1],s=(0,c.useRef)(null),f=(0,_.Z)(function(){window.scrollY>700&&i.on()},100),T=(0,p.Z)(function(){var e;i.off(),null===(e=s.current)||void 0===e||e.unsubscribe()});return(0,c.useEffect)(function(){return s.current=(0,l.subscribe)("scroll",f),function(){var e;null===(e=s.current)||void 0===e||e.unsubscribe()}},[f]),(0,r.tZ)(a.Z,{target:null,isOpen:o,animation:A,css:{position:"fixed",bottom:50,right:64,width:336,zIndex:2},arrowed:!1,children:(0,r.tZ)(m,{onLoginClick:t,onXMarkClick:T})})}),y=n(10748),O=n(66980),S=Object.assign,g=Object.assign,C=Object.assign,N=Object.assign,R=[{Icon:function(e){return s().createElement(O.Z,S({width:"28",height:"28",fill:"none",viewBox:"0 0 28 28"},e),s().createElement("circle",{cx:"14",cy:"14",r:"14",fill:"url(#id-2307047740-a)"}),s().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M11.111 7.972c-.181 0-.506.22-.506.734v7.627a.583.583 0 1 1-1.167 0v-3.957H7.591a.77.77 0 0 0-.008.114v5.81a.77.77 0 0 0 .008.115H10.02c.322 0 .584.261.584.583v.685c0 .513.325.733.506.733h7.632c.181 0 .506-.22.506-.733V8.706c0-.513-.325-.734-.506-.734h-7.631Zm-1.673 11.61v.1c0 .942.65 1.901 1.673 1.901h7.632c1.022 0 1.673-.959 1.673-1.9V8.706c0-.942-.65-1.9-1.673-1.9h-7.631c-1.023 0-1.674.958-1.674 1.9v2.503h-2.09c-.436 0-.674.338-.768.527a1.71 1.71 0 0 0-.164.754v5.81c0 .264.052.532.164.755.094.188.332.527.768.527h2.09Zm2.811-8.693c0-.322.261-.584.584-.584h3.889a.583.583 0 0 1 0 1.167h-3.89a.583.583 0 0 1-.583-.583Zm.584 2.139a.583.583 0 0 0 0 1.166h3.889a.583.583 0 0 0 0-1.166h-3.89Zm-.584 3.305c0-.322.261-.583.584-.583h2.333a.583.583 0 1 1 0 1.166h-2.333a.583.583 0 0 1-.584-.583Zm-4.623 2.205-.001-.002v.002Zm0-6.285-.001.001v-.001Z",clipRule:"evenodd"}),s().createElement("defs",null,s().createElement("linearGradient",{id:"id-2307047740-a",x1:"1.5",x2:"26",y1:"-2",y2:"32",gradientUnits:"userSpaceOnUse"},s().createElement("stop",{stopColor:"#CDE1FF"}),s().createElement("stop",{offset:".155",stopColor:"#D5E5FE",stopOpacity:".869"}),s().createElement("stop",{offset:".758",stopColor:"#E2E2FF",stopOpacity:".256"}),s().createElement("stop",{offset:".942",stopColor:"#E5E1FF",stopOpacity:".115"}))))},text:"更懂你的优质内容"},{Icon:function(e){return s().createElement(O.Z,g({width:"28",height:"28",fill:"none",viewBox:"0 0 28 28"},e),s().createElement("circle",{cx:"14",cy:"14",r:"14",fill:"url(#id-2832850787-a)"}),s().createElement("path",{stroke:"#06F",strokeWidth:"1.167",d:"M20.028 12.444c0 3.082-2.665 5.64-6.028 5.64-3.363 0-6.028-2.558-6.028-5.64 0-3.081 2.665-5.639 6.028-5.639 3.363 0 6.028 2.558 6.028 5.64Z"}),s().createElement("path",{stroke:"#06F",strokeLinecap:"round",strokeWidth:"1.167",d:"M10.111 19.055v1.804c0 .44.445.74.854.577l2.573-1.029c.297-.119.628-.119.924 0l2.574 1.03a.622.622 0 0 0 .853-.578v-1.804"}),s().createElement("path",{stroke:"#06F",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.167",d:"M11.666 12.574c.273-.348.549-.693 1.152-.746 1.214-.106 1.328 1.189 2.542 1.082.61-.053.885-.406 1.162-.758"}),s().createElement("defs",null,s().createElement("linearGradient",{id:"id-2832850787-a",x1:"1.5",x2:"26",y1:"-2",y2:"32",gradientUnits:"userSpaceOnUse"},s().createElement("stop",{stopColor:"#CDE1FF"}),s().createElement("stop",{offset:".155",stopColor:"#D5E5FE",stopOpacity:".869"}),s().createElement("stop",{offset:".758",stopColor:"#E2E2FF",stopOpacity:".256"}),s().createElement("stop",{offset:".942",stopColor:"#E5E1FF",stopOpacity:".115"}))))},text:"更专业的大咖答主"},{Icon:function(e){return s().createElement(O.Z,C({width:"28",height:"28",fill:"none",viewBox:"0 0 28 28"},e),s().createElement("circle",{cx:"14",cy:"14",r:"14",fill:"url(#id-2666423292-a)"}),s().createElement("path",{fill:"#06F",d:"m8.077 17.025.408-.417a.583.583 0 0 1 .148.593l-.556-.176Zm2.268 1.414-.174-.557a.583.583 0 0 1 .37.007l-.196.55Zm-2.222.694.174.557-.174-.557Zm-.54-.542-.557-.176.556.176Zm-.653-5.602c0 1.397.586 2.672 1.555 3.62l-.816.833c-1.175-1.149-1.906-2.718-1.906-4.453H6.93Zm5.639-5.25c-3.15 0-5.64 2.385-5.64 5.25H5.764c0-3.579 3.083-6.417 6.806-6.417V7.74Zm5.639 5.25c0-2.865-2.489-5.25-5.64-5.25V6.572c3.723 0 6.806 2.838 6.806 6.417h-1.166Zm-5.64 5.25c3.151 0 5.64-2.386 5.64-5.25h1.166c0 3.579-3.083 6.416-6.805 6.416V18.24Zm-2.026-.35c.628.226 1.31.35 2.027.35v1.166a7.16 7.16 0 0 1-2.421-.418l.394-1.098Zm-2.593.687 2.222-.694.348 1.113-2.222.695-.348-1.114Zm.19.19a.152.152 0 0 0-.19-.19l.348 1.114a1.015 1.015 0 0 1-1.271-1.275l1.113.352Zm.494-1.565-.494 1.566-1.113-.352.494-1.565 1.113.35Z"}),s().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M20.423 12.742a.583.583 0 0 1 .764.311c.376.893.542 1.879.454 2.876-.09 1.023-.478 2.03-1.065 2.917a.39.39 0 0 1-.005.006l.003.012a.7.7 0 0 1 .006.028l.257 1.249.002.011c.065.353-.06.7-.337.914a.943.943 0 0 1-.936.117l-1.064-.42-.015-.006a.083.083 0 0 0-.027-.008c-.004 0-.013 0-.034.004a1.31 1.31 0 0 0-.276.114l-.008.005c-.936.446-2.05.612-3.032.526a6.05 6.05 0 0 1-1.83-.46.584.584 0 0 1 .457-1.074c.473.201.972.327 1.475.371.795.07 1.695-.068 2.424-.415l.004-.002c.277-.137.745-.37 1.297-.137l.668.264-.165-.806a1.155 1.155 0 0 1 .17-.948c.493-.746.799-1.566.869-2.364a4.877 4.877 0 0 0-.367-2.32.583.583 0 0 1 .31-.765Z",clipRule:"evenodd"}),s().createElement("defs",null,s().createElement("linearGradient",{id:"id-2666423292-a",x1:"1.5",x2:"26",y1:"-2",y2:"32",gradientUnits:"userSpaceOnUse"},s().createElement("stop",{stopColor:"#CDE1FF"}),s().createElement("stop",{offset:".155",stopColor:"#D5E5FE",stopOpacity:".869"}),s().createElement("stop",{offset:".758",stopColor:"#E2E2FF",stopOpacity:".256"}),s().createElement("stop",{offset:".942",stopColor:"#E5E1FF",stopOpacity:".115"}))))},text:"更深度的互动交流"},{Icon:function(e){return s().createElement(O.Z,N({width:"28",height:"28",fill:"none",viewBox:"0 0 28 28"},e),s().createElement("circle",{cx:"14",cy:"14",r:"14",fill:"url(#id-2355950134-a)"}),s().createElement("path",{stroke:"#06F",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.167",d:"M15.457 8.089H9.29a1.2 1.2 0 0 0-1.2 1.2v9.42a1.2 1.2 0 0 0 1.2 1.2h9.422a1.2 1.2 0 0 0 1.2-1.2v-6.167M13.999 14.002l5.835-5.836"}),s().createElement("defs",null,s().createElement("linearGradient",{id:"id-2355950134-a",x1:"1.5",x2:"26",y1:"-2",y2:"32",gradientUnits:"userSpaceOnUse"},s().createElement("stop",{stopColor:"#CDE1FF"}),s().createElement("stop",{offset:".155",stopColor:"#D5E5FE",stopOpacity:".869"}),s().createElement("stop",{offset:".758",stopColor:"#E2E2FF",stopOpacity:".256"}),s().createElement("stop",{offset:".942",stopColor:"#E5E1FF",stopOpacity:".115"}))))},text:"更高效的创作环境"}],P=function(e){var t=e.onLoginClick,n=e.onMouseEnter,i=e.onMouseLeave;return(0,r.tZ)(h.eV,{block:"top_layer",children:(0,r.BX)(h.Wi,{zaType:"Popup",as:E.Box,p:24,fontSize:14,css:{borderRadius:4},width:361,bg:"GBK99A",onMouseEnter:n,onMouseLeave:i,children:[(0,r.tZ)(E.Text,{fontWeight:"bold",children:"登录知乎，您可以享受以下权益："}),(0,r.tZ)(E.Flex,{mt:"24px",flexWrap:"wrap",justifyContent:"space-between",css:{"@supports (gap: 16px)":{gap:"16px"}},children:R.map(function(e){var t=e.Icon,n=e.text;return(0,r.BX)(E.Flex,{alignItems:"center",css:{flex:"none","@supports not (gap: 16px)":{marginTop:16}},children:[(0,r.tZ)(t,{width:"28px"}),(0,r.tZ)(E.Text,{ml:"6px",children:n})]},n)})}),(0,r.tZ)(h.$U,{zaType:"Button",zaText:!0,as:o.ZP,css:{marginTop:16,width:"100%"},preset:"primary",onClick:t,color:"blue",children:"立即登录/注册"})]})})},D=n(7835),L=n(83537),w=n(88329),b=n.n(w),G=n(66263),U=(0,c.createContext)(null),k=(0,c.createContext)(!1),M=function(e){var t=e.children,n=(0,u._)((0,d.Z)(!1),2),o=n[0],i=n[1],a=i.on,s=i.off,l=(0,c.useRef)({authModalOpenCount:0,firstGuideConsumed:!1}),_=(0,p.Z)(function(e){e?(l.current.authModalOpenCount++,a()):s()}),f=(0,p.Z)(function(){l.current.firstGuideConsumed=!0});return(0,r.tZ)(U.Provider,{value:(0,c.useState)({statusRef:l,collectModalOpen:_,consumeFirstGuide:f})[0],children:(0,r.tZ)(k.Provider,{value:o,children:t})})},F=function(){var e=(0,c.useContext)(U);(0,D.Z)(function(){return null==e||e.collectModalOpen(!0),function(){null==e||e.collectModalOpen(!1)}})},Z=function(e){var t=(0,c.useContext)(U),n=(0,c.useContext)(k);(0,L.Z)(function(){if(!t)return b();var r=t.consumeFirstGuide,o=t.statusRef.current,i=o.authModalOpenCount,u=o.firstGuideConsumed;n||1!==i&&0!==i||u||!(window.scrollY<G.BR)||(r(),e())},n?null:0)},B=function(e){var t=e.onLoginClick,n=(0,c.useRef)(null),i=(0,u._)((0,d.Z)(!1),2),s=i[0],l=i[1],_=l.on,f=l.off,T=(0,c.useRef)(!1);Z(_);var E=(0,p.Z)(function(){f(),null==t||t()}),v=(0,p.Z)(function(){s&&f()}),m=(0,p.Z)(function(){_(),T.current=!0}),A=(0,p.Z)(function(){T.current=!1,setTimeout(function(){T.current||f()},300)});return(0,r.BX)(r.HY,{children:[(0,r.tZ)(h.Wi,{as:o.ZP,zaType:"Button",zaText:"login",preset:"primary",color:"blue",css:{marginRight:16},ref:n,onMouseEnter:m,onMouseLeave:A,onClick:E,children:"登录/注册"}),(0,r.tZ)(y.Z,{onScrollDown:v,threshold:20}),(0,r.tZ)(a.Z,{isOpen:s,target:n.current,placement:"bottom",onClose:f,globalClose:!0,listenResize:!0,arrowed:!0,fixed:!0,children:(0,r.tZ)(P,{onLoginClick:E,onMouseEnter:m,onMouseLeave:A})})]})},H=(0,i.Z)((0,r.tZ)(o.ZP,{className:"AppHeader-login",children:"登录"}))(function(e){var t=e.onClick;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(B,{onLoginClick:t}),(0,r.tZ)(I,{onLoginClick:t})]})}),q=function(){return F(),null}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return $}});var r=n(85879),o=n(14168),i=n.n(o),u=n(87363),a=n(43384),c=n(20857),s=n(9338),l=n(22107),d=n(94707),_=n(87320),p=n(86325),f=n(55164),T=n(71728),E=n(85626),h=n(55846),v=n(55698),m=n(72111),A=n(42849),I=n(9219),y=n(27723),O=n(6779),S=n(13707),g=n(34473),C=n(82644),N=n(25628),R=n.n(N),P=n(4667),D=n.n(P),L=n(53778),w=n(86616),b=n(87641),G=n(94057),U=n(69383),k=n(1733),M=n(97476),F=n(38889),Z=n(7181),B=n(80714),H=n(45842),q=(0,u.createContext)(""),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://www.zhihu.com",n=(0,u.useContext)(q);return e?n?((e=new URL(e,t)).searchParams.append("utm_source",n),e.toString()):e:n},V=n(49249),z=n(55344),K=n(83821),W=function(e){var t=e.href,n=e.className,o=(0,T._)(e,["href","className"]);return(0,r.tZ)(m._o,{zaText:!0,children:(0,r.tZ)(k.sN,(0,f._)({tag:b.Link,className:R()("AppHeaderProfileMenu-item",n),css:function(e){return{color:e.colors.GBL05A,fontSize:"14px"}},href:x(t)},o))})},Y=function(e){(0,p._)(n,e);var t=(0,E._)(n);function n(){var e;return(0,l._)(this,n),e=t.apply(this,arguments),(0,_._)((0,c._)(e),"state",{isMenuOpen:!1}),(0,_._)((0,c._)(e),"handleMenuOpen",function(){U.Z.trackEvent((0,c._)(e),{id:2764,action:"Click"}),e.setState({isMenuOpen:!0}),e.closeCreatorHint()}),(0,_._)((0,c._)(e),"handleMenuClose",function(){e.setState({isMenuOpen:!1}),e.openCreatorHint()}),(0,_._)((0,c._)(e),"handleCreatorHintRef",function(t){e.creatorHintPopover=t,e.openCreatorHint()}),(0,_._)((0,c._)(e),"openCreatorHint",function(){e.props.creatorNotification.invitationBubble>0&&e.creatorHintPopover&&!e.props.routes.find(function(e){return"Creator"===e.name})&&(e.creatorHintPopover.open(),e.trackCreatorHintCardshow())}),(0,_._)((0,c._)(e),"closeCreatorHint",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.closeForever;e.creatorHintPopover.close(),void 0!==n&&n&&e.props.readNotification("invitation_bubble")}),(0,_._)((0,c._)(e),"trackCreatorHintCardshow",D()(function(){U.Z.trackCardShow(null,{id:4229})})),(0,_._)((0,c._)(e),"handleCreatorHintCloseIconClick",function(){U.Z.trackEvent(null,{id:4232,action:"Click"}),e.closeCreatorHint({closeForever:!0})}),e}return(0,d._)(n,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"loadData",value:function(){var e=this;return(0,s._)(function(){return(0,h.__generator)(this,function(t){switch(t.label){case 0:return[4,e.props.loadSwitches(["isCreator"])];case 1:if(!t.sent().isCreator)return[3,3];return[4,e.props.loadCreatorApplyStatus()];case 2:t.sent(),t.label=3;case 3:return e.props.creatorNotification.invitationBubble>0&&e.openCreatorHint(),[2]}})})()}},{key:"render",value:function(){if(!this.props.isLogin)return null;var e=this.props,t=e.className,n=e.currentUser,o=e.currentUserIsCreator,i=e.creatorNotification,u=e.location,c=this.state.isMenuOpen,s=B.Z.isMobileEntry?24:30,l="https://".concat(B.Z.wwwHost,"/").concat("organization"===n.userType?"org":"people","/").concat(n.urlToken||n.id),d=(0,r.BX)(a.$U,{as:F.ZP,zaType:"Image",zaAction:"Unknown",zaText:"用户头像",className:"AppHeader-profileEntry",preset:"plain",children:[(0,r.tZ)(v.qE,{className:"AppHeader-profileAvatar",size:s,url:n.avatarUrl,alt:"点击打开".concat(n.name,"的主页")}),!c&&o&&i.accessed>0&&(0,r.tZ)("div",{className:"AppHeader-profileAvatarRedDot"})]});return(0,r.BX)(K.Z,{placeholder:d,children:[(0,r.BX)(k.ZP,{className:t,menuClassName:"AppHeaderProfileMenu",menuContainerClassName:"AppHeaderProfileMenu-container",positionStatus:"fixed",toggler:d,boundary:{padding:16},onOpen:this.handleMenuOpen,onClose:this.handleMenuClose,arrowed:!0,children:[(0,r.BX)(W,{href:l,children:[(0,r.tZ)(A.Z,{size:16}),"我的主页"]}),(0,r.BX)(W,{href:"",onClick:function(e){e.preventDefault(),(0,M.Gb)()},children:[(0,r.tZ)(I.Z,{}),"无障碍"]}),(0,r.BX)(W,{href:(0,M.cg)((null==u?void 0:u.pathname)||""),children:[(0,r.tZ)(y.Z,{}),"关怀版"]}),(0,r.BX)(W,{href:"https://".concat(B.Z.wwwHost,"/settings/profile"),children:[(0,r.tZ)(O.Z,{size:16}),"设置"]}),(0,r.BX)(W,{href:"https://".concat(B.Z.wwwHost,"/logout"),children:[(0,r.tZ)(S.Z,{size:16}),"退出"]})]}),(0,r.BX)(Z.Z,{className:"AppHeaderProfileMenu-creatorHintPopover",toggler:(0,r.tZ)("div",{className:R()("AppHeaderProfileMenu-creatorHintToggler",B.Z.isMobileEntry&&"AppHeaderProfileMenu-creatorHintToggler--small")}),toggleEvent:null,targetClassName:"AppHeaderProfileMenu-creatorHint",placement:"bottom",positionStatus:"fixed",globalClose:!1,boundary:{padding:16},ref:this.handleCreatorHintRef,arrowed:!0,children:[(0,r.tZ)(g.Z,{className:"AppHeaderProfileMenu-creatorHintCreatorIcon",size:20}),(0,r.tZ)("div",{className:"AppHeaderProfileMenu-creatorHintText",children:"你已被邀请入驻创作中心，"}),(0,r.tZ)("a",{className:"AppHeaderProfileMenu-creatorHintLink",href:"https://".concat(B.Z.wwwHost,"/creator"),"data-za-detail-view-id":4231,children:"立即入驻"}),(0,r.tZ)("div",{className:"AppHeaderProfileMenu-creatorHintCloseContainer",onClick:this.handleCreatorHintCloseIconClick,children:(0,r.tZ)(C.ZP,{size:20})})]})]})}}]),n}(u.PureComponent);(0,_._)(Y,"propTypes",{currentUser:i().object,currentUserIsCreator:i().bool});var Q=(0,G.compose)(H.Z,w.withRouter,(0,L.connect)(function(e){return{currentUserIsCreator:e.switches.isCreator,creatorNotification:(0,V.EtQ)(e).notification||{}}},{readNotification:V.iGT,loadSwitches:z.X2,loadCreatorApplyStatus:V.bGQ}))(Y),j=n(35374),X=n(45471);function J(e){var t=e.currentUser,n=e.enableGuidesForLogin;return t&&"guest"!==t.userType?(0,r.tZ)(Q,{className:"AppHeader-menu"}):(0,r.tZ)(X.Vy,{loginButtonWithZa:void 0!==n&&n?(0,r.tZ)(j.qH,{}):(0,r.tZ)(a.Wi,{as:F.ZP,className:"AppHeader-login",zaType:"Button",zaText:"login",color:"blue",css:{whiteSpace:"nowrap"},children:"登录/注册"})})}var $=(0,u.memo)(J);J.propTypes={currentUser:i().object}},13844:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(55164),o=n(71728),i=n(85879),u=n(25628),a=n.n(u),c=n(87363),s=n(38889),l={InputButton:"W2ewFU1c0bx6tahox08q"},d=n(57477),_={InputLike:"EQvEDwRqICOvs_x_kUWW"},p=(0,c.forwardRef)(function(e,t){var n=e.as,u=void 0===n?"div":n,c=e.className,s=e.large,l=e.isFocus,p=(0,o._)(e,["as","className","large","isFocus"]);return(0,i.tZ)(u,(0,d._)((0,r._)({},p),{ref:t,className:a()("InputLike",_.InputLike,c,{"is-focus":l,"is-large":s})}))}),f=(0,c.forwardRef)(function(e,t){var n=e.className,u=e.large,c=(0,o._)(e,["className","large"]);return(0,i.tZ)(p,(0,r._)({as:s.ZP,className:a()("InputButton",l.InputButton,n),large:u,ref:t},c))})},95377:function(e,t,n){"use strict";n.d(t,{Z:function(){return T}});var r=n(87320),o=n(55164),i=n(57477),u=n(71728),a=n(94009),c=n(85879),s=n(17103),l=n(25628),d=n.n(l),_=n(87363),p=n.n(_),f={wrapper:"QZcfWkCJoarhIYxlM_sG",grey:"evPjxqnqXpIBzSRrcIDv",spread:"qfAmOtjvjgHNSfCPTpcX",multiline:"SPwbMsVc_0aH1eDVWflY",large:"ju2X6TRIjoJMT4oPHAtz",disabled:"boPCcYOmq77n3IFk97nE",noPadding:"wwIaO3dKFgOr8Ft1HHUg",Input:"i7cW1UcwT6ThdhTakqFm",validationError:"re7iEHUAbZCEqcG5SwA8"},T=p().forwardRef(function(e,t){var n,l=e.onRef,p=e.className,T=e.targetClassName,E=e.multiline,h=void 0!==E&&E,v=e.grey,m=void 0!==v&&v,A=e.spread,I=void 0!==A&&A,y=e.before,O=e.after,S=e.large,g=void 0!==S&&S,C=e.disabled,N=e.placeholder,R=e.validationError,P=e.tag,D=e.noPadding,L=void 0!==D&&D,w=e.onFocus,b=e.onBlur,G=(0,u._)(e,["onRef","className","targetClassName","multiline","grey","spread","before","after","large","disabled","placeholder","validationError","tag","noPadding","onFocus","onBlur"]),U=(0,a._)((0,_.useState)(!1),2),k=U[0],M=U[1],F=P||(h?"textarea":"input");return(0,c.BX)("label",{className:d()(p,"Input-wrapper",f.wrapper,(n={"Input-wrapper--grey":m,"Input-wrapper--spread":I,"Input-wrapper--multiline":h,"Input-wrapper--large":g,"Input-wrapper--disabled":C,"Input-wrapper--noPadding":L,"is-focus":k},(0,r._)(n,f.grey,m),(0,r._)(n,f.spread,I),(0,r._)(n,f.multiline,h),(0,r._)(n,f.large,g),(0,r._)(n,f.disabled,C),(0,r._)(n,f.noPadding,L),n)),children:[y,(0,c.tZ)(F,(0,i._)((0,o._)({},G),{disabled:C,className:d()("Input",f.Input,T,(0,r._)({"Input--validationError":!!R},f.validationError,!!R)),placeholder:R||N,ref:(0,s.Z)(t,l),onFocus:function(e){w&&w(e),M(!0)},onBlur:function(e){b&&b(e),M(!1)}})),O]})})},31142:function(e,t,n){"use strict";var r=n(22107),o=n(94707),i=n(86325),u=n(55164),a=n(71728),c=n(85626),s=n(85879),l=n(14168),d=n.n(l),_=n(87363),p=n(86616),f=n(38889),T=function(e){(0,i._)(n,e);var t=(0,c._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,o._)(n,[{key:"render",value:function(){var e=this.props,t=e.a,n=e.to,r=e.activeClassName,o=(0,a._)(e,["a","to","activeClassName"]);return t?(o.component="a",o.href=n):(o.component=p.Link,o.to=n,o.activeClassName=r),(0,s.tZ)(f.ZP,(0,u._)({},o))}}]),n}(_.Component);T.propTypes={a:d().bool,to:d().string},T.defaultProps={a:!1},t.Z=T},92868:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(55164),o=n(85879),i=n(25628),u=n.n(i),a=function(e){return(0,o.tZ)("span",(0,r._)({css:function(e){return{fontSize:"14px",color:e.colors.GBL05A,"&.is-error":{color:e.colors.GRD03A}}}},e))};function c(e){var t=e.current,n=e.max,r=e.className,i=e.name,c=n-t;return t>n?(0,o.BX)(a,{className:u()(r,"MaxLength","is-error"),children:[void 0===i?"字数":i,"已超过 ",-c," 个字"]}):(0,o.tZ)(a,{className:u()(r,"MaxLength"),children:c<=10&&"还可以输入 ".concat(c," 个字")})}},258:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(82452),o=n(57138);function i(e,t){var n=e.trackEvent,i=e.zaV3Text,u=e.href||(0,o.MN)((0,o.Qu)(location.pathname));null==n||n({eventType:"Click",action:"OpenUrl",block:"OpenInAppButton",elementLocation:{type:"Button",text:i}},{link:{url:u}}),(0,r.rH)(u,t)}},90746:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.getElement,r=e.padding,o=void 0===r?0:r,i=e.getBoundaryInfo;if(i)return i();var u={};n?u=n():t&&(u=t);var a=u.getBoundingClientRect();return{top:a.top+o,right:a.right-o,bottom:a.bottom-o,left:a.left+o}}n.d(t,{Z:function(){return r}})},7181:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(57477),l=n(49899),d=n(85626),_=n(85879),p=n(25628),f=n.n(p),T=n(95548),E=n.n(T),h=n(14168),v=n.n(h),m=n(87363),A=n(61533),I=n(32210),y=n(65522),O=n(17002),S=n(90746),g=n(4526),C=n(49978),N=n(58357),R=C.Z.content,P=["appear","enter","enter-active","exit","exit-active","leave","leave-active"].map(function(e){return"".concat(R,"-").concat(e)}),D=function(e){(0,a._)(n,e);var t=(0,d._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{id:null,opened:!1,arrowStyle:null,targetContainerStyle:null,placement:null}),(0,u._)((0,r._)(e),"handleMouseEnter",function(t){var n=e.props,r=n.delay,o=n.enterDelay,i=n.onMouseEnter;i&&i(t),t.isDefaultPrevented()||(clearTimeout(e.openTask),clearTimeout(e.closeTask),e.openTask=setTimeout(function(){e.openTask=null,e.open()},null!=o?o:r))}),(0,u._)((0,r._)(e),"handleMouseLeave",function(){var t=e.props,n=t.stickHover,r=t.delay,o=t.leaveDelay;!n&&(clearTimeout(e.openTask),clearTimeout(e.closeTask),e.state.opened&&(e.closeTask=setTimeout(function(){e.closeTask=null,e.close()},null!=o?o:r)))}),(0,u._)((0,r._)(e),"handleClick",function(t){var n=e.props.onClick;n&&n(t),t.isDefaultPrevented()||e.open()}),(0,u._)((0,r._)(e),"position",function(){if(!e.toggler||!e.targetContainer)return null;var t=e.props,n=t.placement,r=t.getContainer,o=t.position,i=t.positionStatus,u=t.boundary,a=(0,A.findDOMNode)(e.toggler),c=r(),s=e.targetContainer.getBoundingClientRect(),l=o?o(a,e.targetContainer):(0,N.Z)(a.getBoundingClientRect(),(0,S.Z)(void 0===u?{}:u,c),s,n);return"fixed"!==i&&l&&l.targetContainerStyle&&(l.targetContainerStyle.top+=window.pageYOffset,l.targetContainerStyle.left+=window.pageXOffset),e.setState(l),l}),(0,u._)((0,r._)(e),"close",function(){if(e.state.opened){var t=e.props.onClose;e.setState({opened:!1},function(){e.removeGlobalListener(),t&&t()})}}),(0,u._)((0,r._)(e),"open",function(){e.state.opened||e.setState({opened:!0})}),(0,u._)((0,r._)(e),"handleAfterEnter",function(){var t=e.props.onOpen,n=e.position();setTimeout(function(){e.addGlobalListener()},0),t&&t(n)}),(0,u._)((0,r._)(e),"handleGlobalClose",function(t){var n=e.props,r=n.preventCloseOnTarget;n.globalClose&&(r?e.toggler&&e.targetContainer&&document.body.contains(t.target)&&t.target.classList&&!e.targetContainer.contains(t.target)&&!(0,A.findDOMNode)(e.toggler).contains(t.target)&&!t.target.classList.contains("preventCloseOnTarget")&&e.close():e.close())}),(0,u._)((0,r._)(e),"handleGlobalKeyDown",function(t){27===t.keyCode&&e.close()}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){this.setState({id:E()("Popover")})}},{key:"getSnapshotBeforeUpdate",value:function(){return this.targetContainer?Array.from(this.targetContainer.classList).filter(function(e){return P.includes(e)}):null}},{key:"componentDidUpdate",value:function(e,t,n){if(n&&n.length>0&&this.targetContainer&&this.targetContainer.classList){var r;(r=this.targetContainer.classList).add.apply(r,(0,l._)(n))}}},{key:"componentWillUnmount",value:function(){clearTimeout(this.openTask),clearTimeout(this.closeTask),this.removeGlobalListener()}},{key:"getEventProps",value:function(){var e=this.props.toggleEvent;return"hover"===e?{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}:"click"===e?{onClick:this.handleClick}:{}}},{key:"addGlobalListener",value:function(){var e=this;document.addEventListener("click",this.handleGlobalClose),document.addEventListener("keydown",this.handleGlobalKeyDown),this.subscriptions=[(0,I.subscribe)("resize",this.position)],(this.props.scrollOutClear||this.props.hideOnScroll)&&this.subscriptions.push((0,I.subscribe)("scroll",function(){var t;!e.props.hideOnScroll&&(t=e.targetContainer.getBoundingClientRect()).top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)||e.handleGlobalClose()}))}},{key:"removeGlobalListener",value:function(){document.removeEventListener("click",this.handleGlobalClose),document.removeEventListener("keydown",this.globalKeyDown),this.subscriptions&&(this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions=null)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.toggler,o=n.toggleEvent,i=n.arrowed,a=n.children,l=n.className,d=n.targetClassName,p=n.positionStatus,T=n.noLayer,E=n.transitionEnterTimeout,h=n.transitionLeaveTimeout,v=this.state,A=v.id,I=v.opened,S=this.getEventProps(),g=(0,c._)({ref:function(e){t.toggler=e},id:"".concat(A,"-toggle"),"aria-haspopup":!0,"aria-expanded":I,"aria-owns":"".concat(A,"-content")},S),N=this.state,P=N.arrowStyle,D=N.targetContainerStyle,L=N.placement,w=I&&(0,_.BX)("div",(0,s._)((0,c._)({className:f()("Popover-content","Popover-content--".concat(L),C.Z.content,C.Z["content--".concat(L)],d,(e={"Popover-content--fixed":"fixed"===p,"Popover-content--arrowed":i},(0,u._)(e,C.Z["content--fixed"],"fixed"===p),(0,u._)(e,C.Z["content--arrowed"],i),e)),ref:function(e){t.targetContainer=e},style:D,id:"".concat(A,"-content"),"aria-labelledby":"".concat(A,"-toggle")},"hover"===o&&S),{children:[i&&(0,_.tZ)("span",{className:f()("Popover-arrow","Popover-arrow--".concat(L),C.Z.arrow,C.Z["arrow--".concat(L)]),style:P}),a]}));return I&&!T&&(w=(0,_.tZ)(y.Z,{children:w})),(0,_.BX)("div",{className:f()("Popover",C.Z.Popover,l),children:[(0,m.cloneElement)(r,g),(0,_.tZ)(O.Z,{transitionName:R,timeout:{enter:E,exit:h},onAfterEnter:this.handleAfterEnter,children:w})]})}}]),n}(m.Component);D.propTypes={toggler:v().node.isRequired,toggleEvent:v().string,targetClassName:v().string,delay:v().number,enterDelay:v().number,leaveDelay:v().number,onOpen:v().func,onClose:v().func,noLayer:v().bool,getContainer:v().func,placement:v().oneOf(Object.keys(g).map(function(e){return g[e]})),arrowed:v().bool,stickHover:v().bool,position:v().func,positionStatus:v().string,preventCloseOnTarget:v().bool,globalClose:v().bool,scrollOutClear:v().bool,hideOnScroll:v().bool,boundary:v().shape({padding:v().number,getElement:v().func,getBoundaryInfo:v().func})},D.defaultProps={toggleEvent:"click",delay:200,getContainer:function(){return document.body},placement:"bottom",arrowed:!1,preventCloseOnTarget:!1,globalClose:!0,stickHover:!1,noLayer:!1,scrollOutClear:!1,transitionEnterTimeout:200,transitionLeaveTimeout:200}},4526:function(e,t,n){"use strict";n.r(t),n.d(t,{BOTTOM:function(){return u},BOTTOM_LEFT:function(){return a},BOTTOM_RIGHT:function(){return c},LEFT:function(){return r},LEFT_BOTTOM:function(){return _},LEFT_TOP:function(){return d},RIGHT:function(){return o},RIGHT_BOTTOM:function(){return f},RIGHT_TOP:function(){return p},TOP:function(){return i},TOP_LEFT:function(){return s},TOP_RIGHT:function(){return l}});var r="left",o="right",i="top",u="bottom",a="bottom-left",c="bottom-right",s="top-left",l="top-right",d="left-top",_="left-bottom",p="right-top",f="right-bottom"},58357:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(94009),o=n(4526),i=[o.TOP,o.BOTTOM],u=[o.LEFT,o.RIGHT];function a(e,t,n,a){var c=(0,r._)(a.split("-"),2),s=c[0],l=c[1],d=(T=t.top,E=t.bottom,h=t.left,v=t.right,{top:Math.max(T,0),bottom:Math.min(Math.max(E,0),window.innerHeight),left:Math.max(h,0),right:Math.min(Math.max(v,0),window.innerWidth)}),_={},p={},f=s;if(i.includes(s)){var T,E,h,v,m,A,I,y=d.right-n.width,O=d.left;if(l===o.LEFT?(m=e.left,A=O):l===o.RIGHT?(m=e.right-n.width,A=y):(m=e.left+e.width/2-n.width/2,A=O),y>O?m<O?p.left=O:m<y?p.left=m:p.left=y:p.left=A,e.width<=n.width){var S=e.left+e.width/2;_.left=S-p.left}else _.left=n.width/2;s===o.BOTTOM&&e.bottom+n.height>d.bottom&&e.top-n.height>d.top&&(f=o.TOP),s===o.TOP&&e.bottom+n.height<d.bottom&&e.top-n.height<d.top&&(f=o.BOTTOM),I=(0,r._)(f===o.TOP?[n.height,e.top-n.height]:[0,e.bottom],2),_.top=I[0],p.top=I[1]}if(u.includes(s)){var g,C,N,R=d.bottom-n.height,P=d.top;if(l===o.TOP?(g=e.top,C=P):l===o.BOTTOM?(g=e.bottom-n.height,C=R):(g=e.top+e.height/2-n.height/2,C=P),R>P?g<P?p.top=P:g<R?p.top=g:p.top=R:p.top=C,e.width<=n.width){var D=e.top+e.height/2;_.top=D-p.top}else _.top=n.height/2;s===o.RIGHT&&e.right+n.width>d.right&&e.left-n.width>d.left&&(f=o.LEFT),s===o.LEFT&&e.right+n.width<d.right&&e.left-n.width<d.left&&(f=o.RIGHT),N=(0,r._)(f===o.LEFT?[n.width,e.left-n.width]:[0,e.right],2),_.left=N[0],p.left=N[1]}return{arrowStyle:_,targetContainerStyle:p,placement:f}}},57386:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(57477),l=n(71728),d=n(85626),_=n(85879),p=n(82038),f=n(88329),T=n.n(f),E=n(92769),h=n.n(E),v=n(14168),m=n.n(v),A=n(87363),I=n(69383),y=n(43384),O=n(4534),S=n(38889),g=n(74128),C=n(31142),N=function(e){var t=e.onClose,n=e.shown;return(0,_.tZ)(g.Z,{wrapperClassName:"WalleModal",className:"WalleModal",title:"举报成功",onClose:t,children:n&&(0,_.BX)("div",{className:"WalleModal-wrapper",children:[(0,_.tZ)("p",{className:"WalleModal-des",children:"你的举报我们已经收到，处理完成后将会私信告知处理结果。"}),(0,_.tZ)("img",{className:"WalleModal-img",src:"https://zhstatic.zhihu.com/heifetz/wall-E.png",alt:"walle"}),(0,_.BX)("div",{className:"WalleModal-open",children:[(0,_.BX)("div",{className:"WalleModal-content",children:[(0,_.tZ)("div",{className:"WalleModal-title",children:"遇到不友善评论了？"}),(0,_.tZ)("div",{className:"WalleModal-intro",children:"开启瓦力保镖评论区保护，瓦力将自动为你识别并处理不友善的评论。"})]}),(0,_.tZ)(C.Z,{className:"WalleModal-btn",preset:"primary",color:"blue",to:"/settings/preference",children:"立即开启"})]})]})})},R=n(66263),P=n(85576),D=n(96611),L=function(e){(0,a._)(n,e);var t=(0,d._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{shown:!1,walleModalShown:!1}),(0,u._)((0,r._)(e),"handleShow",e.props.authRequired(function(t){var n=e.props.zaReportId;e.setState({shown:!0}),e.props.onModalShown(!0),I.Z.trackEvent(t.target,(0,c._)({action:"Report",element:"Button",is_intent:!0},n&&{id:n}))},R.q0.report)),(0,u._)((0,r._)(e),"handleHide",function(t){e.setState({shown:!1}),e.props.onModalShown(!1,t)}),(0,u._)((0,r._)(e),"handleWalleShow",function(){e.setState({walleModalShown:!0}),e.props.onModalShown(!0)}),(0,u._)((0,r._)(e),"handleWalleClose",function(){e.setState({walleModalShown:!1}),e.props.onModalShown(!1)}),e}return(0,i._)(n,[{key:"render",value:function(){var e=this.state,t=e.shown,n=e.walleModalShown,r=this.props,o=r.id,i=r.resourceType,u=r.type,a=r.modalProps,d=(0,l._)(r,["id","resourceType","type","modalProps"]),f=h()(d,["zaReportId","onModalShown","authRequired","isLogin","currentUser","dispatch"]);return(0,_.BX)(_.HY,{children:[(0,_.BX)(y.$U,(0,s._)((0,c._)({as:S.ZP,zaAction:"Report",zaType:"Button",preset:"plain",onClick:this.handleShow,zaModuleId:"click_report"},f),{children:[(0,_.tZ)(p.Z,{text:!0,center:!0})," 举报"]})),(0,_.tZ)(D.y,(0,s._)((0,c._)({resourceType:i,type:u,urlToken:o,shown:t,onClose:this.handleHide,showWalle:this.handleWalleShow},a),{zaEnabled:!0})),(0,_.tZ)(N,{shown:n,onClose:this.handleWalleClose})]})}}]),n}(A.Component);(0,u._)(L,"propTypes",{type:m().oneOf(O.eX).isRequired,id:m().oneOfType([m().number,m().string]).isRequired,zaReportId:m().number,onModalShown:m().func}),(0,u._)(L,"defaultProps",{onModalShown:T()});var w=(0,P.Z)(L)},96611:function(e,t,n){"use strict";n.d(t,{y:function(){return E}});var r=n(22107),o=n(94707),i=n(86325),u=n(55164),a=n(85626),c=n(85879),s=n(87363),l=n(53778),d=n(50373),_=n(6438),p=n(48132),f=function(){return Promise.all([n.e(1339),n.e(2927),n.e(876)]).then(n.bind(n,14171)).then(function(e){return e.default})},T=function(e){(0,i._)(n,e);var t=(0,a._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,o._)(n,[{key:"render",value:function(){return(0,c.tZ)(d.Z,(0,u._)({getComponent:f},this.props))}}]),n}(s.Component),E=(0,l.connect)(null,function(e,t){return{loadProfile:function(t){e((0,_.hr)(t))},updateUserBlocking:function(t,n){e((0,_.cR)(t,n))},doReport:function(n){return e((0,p.Hj)(n)).then(function(e){return e.payload.sarcasmRecommend&&t.showWalle(),e})}}})(T);n(57386)},69578:function(e,t,n){"use strict";var r=n(55164),o=n(57477),i=n(49899),u=n(85879),a=n(87363),c=n(53778),s=n(37705),l=n(48825),d=n(37209),_=n(67927),p=n(66263),f=[".webp",".jpg",".jpeg",".png",".gif"];t.Z=(0,a.forwardRef)(function(e,t){var n=(0,c.useDispatch)(),T=(0,c.useSelector)(function(e){return e.switches.couldSuperVideoUpload}),E=(0,c.useSelector)(function(e){return e.env.trafficSource}),h=(0,a.useCallback)(function(t){return n((0,l.Ix)(t,e.uploadType,e.editingContentType)).then(function(e){return e.payload}).then(function(e){return{url:e.src,originalSrc:e.originalSrc,watermarkSrc:e.watermarkSrc,privateWatermarkSrc:e.privateWatermarkSrc,watermark:e.watermark,rawWidth:e.dataRawwidth,rawHeight:e.dataRawheight,id:e.hash}})},[n,e.editingContentType,e.uploadType]),v=(0,a.useCallback)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(d.Ty.apply(void 0,(0,i._)(t))).then(function(e){return e.payload})},[n]),m=(0,a.useCallback)(function(e){if("object"==typeof e){n((0,_.c0)(e.message,"red"));return}switch(e){case"type":n((0,_.c0)("格式不支持，请上传以下格式的图片：".concat(f.join(", ")),"red"));return;case"size":n((0,_.c0)("请上传不超过 ".concat(p.i3,"M 的图片"),"red"));return;case"dimension":n((0,_.c0)("GIF 图片的长或宽低于 ".concat(120,"px，无法上传"),"red"));return;case"disable-question-answer-image-upload":n((0,_.c0)("图片服务进行升级改造，暂时不能在「问题」「回答」中添加图片","red"));return;case"other":n((0,_.c0)("图片上传未完成，请稍后发布"));return}},[n]),A=(0,a.useCallback)(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n(d.o2.apply(void 0,(0,i._)(t))).then(function(e){return e.payload})},[n]);return(0,u.tZ)(s.Z,(0,o._)((0,r._)({},e),{ref:t,allowInlineCode:!0,allowImageCaption:!0,allowResizeImage:!0,onImageUpload:h,onVideoUpload:v,uploadImageError:m,loadVideo:A,couldSuperVideoUpload:T,isProduction:"production"===E}))})},83821:function(e,t,n){"use strict";n.d(t,{Z:function(){return _},h:function(){return p}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(85626),s=n(85879),l=n(14168),d=n.n(l),_=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{visible:e.props.disabled}),(0,u._)((0,r._)(e),"onShow",function(){e.setState({visible:!0})}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){this.state.visible||(this.props.timeout>0?this.timeout=setTimeout(this.onShow,this.props.timeout):this.onShow())}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.placeholder;return this.state.visible?t:n}}]),n}(n(87363).Component);function p(e,t){return t.map(function(t,n){return n<e?t:(0,s.tZ)(_,{children:t},n)})}(0,u._)(_,"propTypes",{disabled:d().bool,placeholder:d().node,timeout:d().number}),(0,u._)(_,"defaultProps",{disabled:!1,placeholder:null,timeout:-1})},42114:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(22107),o=n(94707),i=n(86325),u=n(85626),a=n(85879),c=n(25480),s=function(e){(0,i._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,o._)(n,[{key:"renderGroupItems",value:function(e,t){var n=this,r=this.props,o=r.renderItem,i=r.isItemDisabled,u=this.state,s=u.id,l=u.selectedIndex,d=u.selectedGroupKey;return e.map(function(e,r){var u=e.data||r;return(0,a.tZ)(c.Z,{id:"".concat(s,"-").concat(t,"-").concat(u),tag:"div",disabled:i(e),hovered:r===l&&t===d,onMouseEnter:function(){n.setState({selectedIndex:r,selectedGroupKey:t})},onClick:function(){return n.handleClose(!0,r,t)},onMouseDown:function(e){return e.preventDefault()},role:"option",children:o(e)},u)})}}]),n}(n(5941).Z)},91654:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(57477),l=n(85626),d=n(85879),_=n(44066),p=n(25628),f=n.n(p),T=n(14168),E=n.n(T),h=n(87363),v=n(38889),m=n(95377),A=n(50379);function I(e){return(0,d.tZ)(v.ZP,(0,s._)((0,c._)({preset:"primary",className:"SimpleSearchBar-plainSearchButton"},e),{children:(0,d.tZ)(_.J7,{center:!0,size:18})}))}function y(e){return(0,d.tZ)(v.ZP,(0,s._)((0,c._)({preset:"primary",className:"SimpleSearchBar-solidSearchButton",color:"blue",type:"submit"},e),{children:(0,d.tZ)(_.J7,{center:!0,fill:"#fff",size:18})}))}var O=function(e){(0,a._)(n,e);var t=(0,l._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{inputValue:e.props.initialValue}),(0,u._)((0,r._)(e),"handleChange",function(t){e.setState({inputValue:t.target.value})}),(0,u._)((0,r._)(e),"handleSubmit",function(t){t.preventDefault();var n=e.state.inputValue,r=e.props.type;n&&(location.href="/search?type=".concat(encodeURIComponent(r),"&q=").concat(encodeURIComponent(n)))}),e}return(0,i._)(n,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.searchButtonType,o=this.state.inputValue;return"plain"===r?e=I:"solid"===r&&(e=y),(0,d.tZ)("form",{className:"SimpleSearchBar-wrapper",onSubmit:this.handleSubmit,children:(0,d.tZ)(m.Z,{className:f()("SimpleSearchBar-input",n),onChange:this.handleChange,value:o,placeholder:A.Jw,after:e&&(0,d.tZ)(e,{onClick:this.handleSubmit})})})}}]),n}(h.PureComponent);(0,u._)(O,"propTypes",{className:E().string,initialValue:E().string.isRequired,type:E().oneOf(["content","people","topic","column","km_general","live","album","publication","zvideo","scholar","km_course"]).isRequired,searchButtonType:E().oneOf(["solid","plain"])}),(0,u._)(O,"defaultProps",{initialValue:"",type:"content",searchButtonType:"plain"})},14253:function(e,t,n){"use strict";n.d(t,{N:function(){return el.Z},Z:function(){return es}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(57477),l=n(49899),d=n(85626),_=n(85879),p=n(44066),f=n(25628),T=n.n(f),E=n(85456),h=n.n(E),v=n(89910),m=n.n(v),A=n(57045),I=n(87363),y=n(53778),O=n(86616),S=n(94057),g=n(69383),C=n(38889),N=n(96611),R=n(83215),P=n(80714),D=n(72021),L=n(45842),w=n(3028),b=n(25734),G=n(32023),U=n(42114),k=n(50379),M=n(67516),F=n.n(M),Z=function(){return F().get(k.cQ)},B=function(e){F().set(k.cQ,e)},H=function(e){var t=Z();if(t){var n=t.words;B({nextRequestTime:t.nextRequestTime,words:n.map(function(t){return t.id===e?(0,s._)((0,c._)({},t),{valid:0}):t})})}},q=function(e){return!e||!e.lastUpdateTime||e.lastUpdateTime+k.Ok<Date.now()},x=function(e){var t=Z();if(t){var n=t.words,r=t.nextRequestTime,o=t.lastUpdateTime,i=t.lastId,u=q(t);B({nextRequestTime:r,lastUpdateTime:u?Date.now():o,lastId:u?e:i,words:n.map(function(t){return t.id===e?(0,s._)((0,c._)({},t),{times:t.times+1}):t})})}},V=function(e){var t=e&&e.payload&&e.payload.presetWords||{},n=t.nextRequestTs,r=t.words,o=(Z()||{}).words,i=void 0===o?[]:o,u={nextRequestTime:n?1e3*n:Date.now()+k.$I,words:r.map(function(e){var t=e.id,n=e.beginTs,r=e.endTs,o=i.find(function(e){return e.id===t}),u=o&&o.times||0;return(0,s._)((0,c._)({},e),{times:u,beginTs:1e3*n,endTs:1e3*r})})};return B(u),u},z=function(e){var t=e.reduce(function(e,t){return e+t.weight},0);return e.reduce(function(e,n){var r=n.id,o=n.weight,i=e&&e[e.length-1]&&e[e.length-1].range[1]||0;return(0,l._)(e).concat([{id:r,range:[i,i+o/t]}])},[])},K=function(e){var t=Math.random();return e.find(function(n,r){var o=n.range,i=r===e.length-1?1:o[1];return o[0]<t&&i>t})||e[e.length-1]},W=function(e){var t=Date.now(),n=e.filter(function(e){var n=e.valid,r=e.beginTs,o=e.endTs;return n&&r<t&&o>t});if(!n.length)return!1;var r=[],o=n.filter(function(e){return e.weight>=10}),i=(K(z((r=o.length>0?o:n).map(function(e){var t=e.weight,n=e.times;return{weight:t/((void 0===n?0:n)+1),id:e.id}})))||{}).id,u=void 0===i?"-1":i;return r.find(function(e){return e.id===u})},Y=function(e){var t=Z(),n=t||{},r=n.nextRequestTime,o=n.words;if(r&&(r<Date.now()||r>k.Cz)||!o)return e(t?t.words.map(function(e){return{valid:e.valid,id:e.id}}):null).then(V).then(function(e){var t=W(e.words.filter(function(e){return"general"===e.type}));return x(t.id),t});var i=o.filter(function(e){return"general"===e.type});if(!q(t)){var u=t.lastId;return Promise.resolve(i.find(function(e){return u===e.id}))}var a=W(i);return x(a.id),Promise.resolve(a)},Q=n(54526),j=n(48685),X=n(72778),J=n(47293),$=n(62787),ee=function(e){(0,a._)(n,e);var t=(0,d._)(n);function n(){return(0,o._)(this,n),t.apply(this,arguments)}return(0,i._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.rawSearchResult;(0,$.HT)(this.container,t,"history",n)}},{key:"render",value:function(){var e=this,t=this.props.rawSearchResult;return(0,_.BX)("div",{ref:function(t){e.container=t},className:"SearchBar-searchLink","data-za-detail-view-element_name":"ViewSeachResult",children:["查看「",t.length>J.ms?"".concat(t.slice(0,J.ms),"..."):t,"」的搜索结果"]})}}]),n}(I.Component),et=n(82926),en=n(89784),er=n(74440),eo=n(58158),ei=n(86202),eu=n(65294),ea={topSearch:"搜索发现",history:"搜索历史"},ec=function(e){(0,a._)(n,e);var t=(0,d._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{rawSearchResult:"",searchResults:{},presetWordsData:{query:""},completeTopSearchData:[],reportModalShown:!1}),(0,u._)((0,r._)(e),"domRef",(0,I.createRef)()),(0,u._)((0,r._)(e),"componentWillUnmount",function(){document.removeEventListener("visibilitychange",e.visibleCallback)}),(0,u._)((0,r._)(e),"visibleCallback",function(){!1===document.hidden&&e.handleUpdatePresetWords()}),(0,u._)((0,r._)(e),"handleReportHide",function(){e.setState({reportModalShown:!1})}),(0,u._)((0,r._)(e),"handleReportShow",function(){e.setState({reportModalShown:!0})}),(0,u._)((0,r._)(e),"handleUpdatePresetWords",function(){Y(e.props.getPresetWords).then(function(t){if(!t)return e.setState({presetWordsData:{query:k.Jw}});g.Z.trackCardShow((0,r._)(e),{id:2403},{search:{raw_query:t.query}}),e.setState({presetWordsData:t})})}),(0,u._)((0,r._)(e),"getCurrentHistoryKey",function(){var t=(e.props.currentUser||{}).id;return(0,er.e)(t)}),(0,u._)((0,r._)(e),"getHistoryData",function(t){return(0,er.s1)(e.getCurrentHistoryKey(),t)}),(0,u._)((0,r._)(e),"handleChange",h()(function(t){return void 0===t?null:t?e.handleInputHasValue(t):e.handleInputIsEmpty({rawSearchResult:t})},300)),(0,u._)((0,r._)(e),"handleInputHasValue",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,eo.l)(e.props.getSuggestActionCreator),o=e.getHistoryData(t);r(t).then(function(r){e.updateAutoComplete({suggestData:m()((0,l._)((0,eu.P)(o,{type:"history",rawSearchResult:t})).concat((0,l._)((0,eu.P)(r,{type:"suggest",rawSearchResult:t}))),function(e,t){var n=e.data,r=t.data;return n.toLowerCase()===r.toLowerCase()})},(0,c._)({rawSearchResult:t},n))})}),(0,u._)((0,r._)(e),"handleInputIsEmpty",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.props.loadTopSearchActionCreatorV2,r=e.getHistoryData(),o=(0,ei.ck)(),i=(0,ei.Jn)(n),u=function(n){e.setState({completeTopSearchData:n}),e.updateAutoComplete({topSearchData:n.map(function(e){return e.queryDisplay}),historyData:r},t)};return o?u(o):i().then(u)}),(0,u._)((0,r._)(e),"handleDeleteData",function(t,n){t.stopPropagation();var r=e.state,o=r.rawSearchResult,i=r.searchResults.suggest,u=(0,er.xt)(e.getCurrentHistoryKey(),n);if(o){var a=(void 0===i?[]:i).filter(function(e){var t=e.type,r=e.data;return!("history"===t&&r===n)});e.updateAutoComplete({suggestData:a})}else e.updateAutoComplete({historyData:u})}),(0,u._)((0,r._)(e),"updateAutoComplete",function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.state,o=r.searchResults,i=r.rawSearchResult,u=(n||{}).rawSearchResult,a=void 0===u?i:u,s=t.topSearchData,l=t.historyData,d=t.suggestData,_=void 0===d?[]:d;if(!a){var p=o.topSearch,f=o.history;return e.setState((0,c._)({searchResults:(0,c._)({},s?{topSearch:(0,eu.P)(s,{type:"topSearch",rawSearchResult:a})}:{topSearch:void 0===p?[]:p},l?{history:(0,eu.P)(l,{type:"history",rawSearchResult:a})}:{history:void 0===f?[]:f})},n))}var T=(0,eu.P)([a],{type:"searchLink",rawSearchResult:a});return e.setState((0,c._)({searchResults:(0,c._)({suggest:_,searchLink:T},_.length>0&&{reports:[{type:"reports"}]})},n))}),(0,u._)((0,r._)(e),"handleSelect",function(t,n){var r=n.data,o=n.type,i=e.state.completeTopSearchData;(0,$.qI)(n),e.autoComplete.inputNode.blur();var u=r;"topSearch"===o&&(u=(i.find(function(e){return e.displayQuery===r})||{}).query||r);var a=(0,c._)({q:u},"topSearch"===o&&{utm_content:"search_hot",search_source:"Guess"},"history"===o&&{utm_content:"search_history",search_source:"History"},"suggest"===o&&{utm_content:"search_suggestion",search_source:"Suggestion"});window.open("//www.zhihu.com/search?".concat((0,A.stringify)(a)))}),(0,u._)((0,r._)(e),"handleFocus",function(){var t=e.state.rawSearchResult,n={isFocus:!0};return t?e.handleInputHasValue(t,n):e.handleInputIsEmpty(n)}),(0,u._)((0,r._)(e),"focusInput",function(t){if(t.preventDefault(),e.autoCompleteInput.closest(".AppHeader.is-hidden")){setTimeout(function(){return e.autoCompleteInput.focus()},300);return}e.autoCompleteInput.focus()}),(0,u._)((0,r._)(e),"handleSubmit",function(){var t=e.props.location.query.type;if(e.autoComplete&&e.autoComplete.inputNode){var n=e.autoComplete.inputNode.value,r=void 0===t?"content":t,o=n;if(!n){var i=e.state.presetWordsData||{},u=i.realQuery,a=i.type,s=i.id;if(!u||!a)return;r="general"===a?"content":a,o=u,H(s)}var l=(0,c._)({type:r,q:o},!n&&{utm_content:"search_preset",search_source:"Preset"});location.href="//".concat(P.Z.wwwHost,"/search?").concat((0,A.stringify)(l))}}),(0,u._)((0,r._)(e),"renderItem",function(t){var n=t.type,r=t.data,o=t.index,i=t.rawSearchResult,u=null;switch(n){case"topSearch":u=(0,_.tZ)(en.Z,{index:o,query:r});break;case"history":var a=t.data;u=(0,_.tZ)(Q.Z,{data:a,index:o,onDelete:e.handleDeleteData,rawSearchResult:i});break;case"searchLink":u=(0,_.tZ)(ee,{index:o,data:r,rawSearchResult:i});break;case"suggest":u=(0,_.tZ)(et.Z,{data:r,index:o,rawSearchResult:i});break;case"reports":u=(0,_.tZ)(X.Z,{handleReportShow:e.handleReportShow})}return u&&(0,_.tZ)("div",{"data-za-module":"TopNavBar",children:(0,_.tZ)("div",{"data-za-module":(0,$.bf)(n,i),children:u})})}),(0,u._)((0,r._)(e),"renderAutoCompleteLabel",function(t){return"搜索历史"===t?(0,_.tZ)(j.Z,{onDelete:e.handleDeleteData,label:t}):(0,_.tZ)("div",{onMouseDown:function(e){return e.preventDefault()},role:"button",tabIndex:0,className:"SearchBar-label",children:t})}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){var e=this.autoComplete.inputNode.value;e?this.setState({rawSearchResult:e}):this.handleUpdatePresetWords(),document.addEventListener("visibilitychange",this.visibleCallback)}},{key:"render",value:function(){var e,t=this,n=this.state,r=n.searchResults,o=n.rawSearchResult,i=n.isFocus,u=n.presetWordsData,a=n.reportModalShown,l=this.props.location.query.q,d=this.props,f=d.className,E=d.theme,h=d.currentUser,v=E.searchInputColor,m=E.searchButtonColor,A=E.searchButtonBg,I=E.searchButtonOpacity,y=E.searchAreaColor,O=E.searchBorder,S=E.searchBorderColor,P=E.searchPlaceHolderOpacity,L=E.searchInputOpacity,w=E.searchIconOpacity;return(0,_.BX)("div",{className:T()("SearchBar",f),role:"search","data-za-module":"PresetWordItem",ref:this.domRef,children:[(0,_.tZ)(R.yW,{input:"/",action:this.focusInput}),(0,_.tZ)("form",{className:T()("SearchBar-tool",{"SearchBar-tool--focus":i}),onSubmit:function(e){return e.preventDefault()},children:(0,_.tZ)(U.Z,{autoSelect:!1,ref:function(e){return t.autoComplete=e},onRef:function(e){return t.autoCompleteInput=e},labels:ea,groups:r,renderLabel:this.renderAutoCompleteLabel,value:l||"",renderItem:this.renderItem,inputProps:{type:"text",maxLength:100,grey:!0,placeholder:u&&u.query,className:T()("SearchBar-input",{"SearchBar-input--focus":i}),css:function(e){return(0,c._)((0,s._)((0,c._)({input:(0,c._)({},v&&{color:e.colors[v]})},y&&{backgroundColor:"".concat(e.colorMod(e.colors[y]).alpha(L)," !important")}),{borderColor:"".concat((0,b.pe)(e)(S)," !important"),"input::placeholder":(0,c._)({},y&&{color:"".concat(e.colorMod(e.colors[y]).alpha(P)," !important")})}),(0,b.W5)("background-color","border","color"))},after:(0,_.tZ)(C.ZP,{className:"SearchBar-searchButton",preset:"primary",color:o?"blue":null,onClick:this.handleSubmit,"aria-label":"搜索",children:(0,_.tZ)(p.J7,{size:18,center:!0,className:T()("SearchBar-searchIcon",{isFocus:i,hasValue:o}),css:function(e){return(0,c._)({color:e.colors[y],opacity:w,"&:hover":{opacity:1}},(0,b.W5)("color"))}})})},menuProps:{menuClassName:T()("SearchBar-menu",{"SearchBar-hasValueMenu":o,"SearchBar-noValueMenu":!o}),menuContainerClassName:"SearchBar-menuContainer","data-za-module":"TopNavBar",positionStatus:"fixed",style:{width:null===(e=this.domRef.current)||void 0===e?void 0:e.getBoundingClientRect().width}},onFocus:this.handleFocus,onBlur:function(){setTimeout(function(){t.setState({isFocus:!1})},100),t.autoComplete.menu.popover.close()},onSelect:this.handleSelect,onEnterInput:this.handleSubmit,onChange:this.handleChange})}),h&&!h.isOrg&&(0,_.tZ)(D.x,{children:(0,_.tZ)(C.ZP,{className:T()("SearchBar-askButton",{"SearchBar-hiddenAskButton":i}),preset:"primary",color:"blue",onClick:function(){return g.Z.trackEvent(t,{id:2581,action:"OpenUrl"})},css:function(e){return(0,c._)({backgroundColor:"".concat(e.colors[A]," !important"),color:"".concat(e.colors[m]," !important"),opacity:I,border:"".concat(O," !important"),"&:hover":{opacity:1}},(0,b.W5)("background-color","color"))},children:"提问"})}),(0,_.tZ)(N.y,{type:"search_suggested_word",shown:a,onClose:this.handleReportHide,zaEnabled:!0,List:r.suggest})]})}}]),n}(I.Component);(0,u._)(ec,"defaultProps",{theme:b.mv.normal});var es=(0,S.compose)((0,w.Z)(null),O.withRouter,L.Z,(0,y.connect)(null,{getPresetWords:G.FN,loadTopSearchActionCreatorV2:G.oy,getSuggestActionCreator:G.kq}))(ec),el=n(91654)},50379:function(e,t,n){"use strict";n.d(t,{$I:function(){return r},Cz:function(){return a},Jw:function(){return i},Ok:function(){return u},cQ:function(){return o}});var r=6e5,o="search:preset_words",i="搜索你感兴趣的内容…",u=3e4,a=325036512e5},54526:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(85626),l=n(85879),d=n(87363),_=n(25628),p=n.n(_),f=n(69383),T=n(82644),E=n(65294),h=n(62787),v=function(e){(0,a._)(n,e);var t=(0,s._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"handleDelete",function(t,n){var r=e.props.rawSearchResult;f.Z.trackEvent(t.target,{action:"Delete"},{search:(0,c._)({raw_query:n},r&&{input_query:r,search_source:"SuggestionHistory"},!r&&{search_source:"History"})}),e.props.onDelete(t,n)}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.index,n=e.data,r=e.rawSearchResult;f.Z.setModule(this.container,{module:"SearchHistoryItem",index:t}),(0,h.HT)(this.container,n,"history",r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.rawSearchResult;return(0,l.BX)("div",{ref:function(t){e.container=t},className:"SearchBar-historyItem",children:[(0,l.tZ)("span",{className:p()("SearchBar-historyItemContent",{blueFont:r}),children:(0,E.Z)(n,r)}),(0,l.BX)("div",{className:"SearchBar-historyIconWrapper SearchBar-historyDelete",children:[(0,l.tZ)("span",{className:"preventCloseOnTarget SearchBar-historyIconShade",onClick:function(t){return e.handleDelete(t,n)},role:"button",tabIndex:0,"aria-label":"删除",onMouseDown:function(e){return e.preventDefault()}}),(0,l.tZ)(T.HN,{width:18,height:18,fill:"#d3d3d3"})]})]})}}]),n}(d.Component)},48685:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(22107),o=n(94707),i=n(86325),u=n(85626),a=n(85879),c=n(87363),s=n(43831),l=n(69383),d=n(62787),_=function(e){(0,i._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,o._)(n,[{key:"componentDidMount",value:function(){l.Z.trackCardShow(this.container,{name:"清空"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.onDelete;return(0,a.BX)("div",{role:"button",tabIndex:0,className:"SearchBar-label SearchBar-label--history","data-za-detail-view-path-module":(0,d.bf)("history",""),onMouseDown:function(e){return e.preventDefault()},children:[n,(0,a.BX)("div",{ref:function(t){e.container=t},className:"SearchBar-historyIconWrapper",children:[(0,a.tZ)("span",{role:"button",tabIndex:0,className:"SearchBar-historyIconShade preventCloseOnTarget",onClick:function(e){l.Z.trackEvent(e.target,{action:"Click",name:"清空"}),r(e,null)}}),(0,a.tZ)(s.R,{center:!0}),"清空"]})]})}}]),n}(c.Component)},72778:function(e,t,n){"use strict";var r=n(85879);t.Z=function(e){var t=e.handleReportShow;return(0,r.tZ)(r.HY,{children:(0,r.tZ)("div",{role:"button",tabIndex:0,className:"ReportsItem",onClick:function(e){e.stopPropagation(),t()},children:"举报"})})}},82926:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(22107),o=n(94707),i=n(86325),u=n(85626),a=n(85879),c=n(87363),s=n(69383),l=n(65294),d=n(62787),_=function(e){(0,i._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,o._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.rawSearchResult,r=e.index;s.Z.setModule(this.container,{module:"SearchSuggestionItem",index:r}),(0,d.HT)(this.container,t,"suggest",n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.rawSearchResult;return(0,a.tZ)("div",{ref:function(t){e.container=t},className:"SearchBar-defaultResult",children:(0,l.Z)(n,r)})}}]),n}(c.Component)},89784:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(22107),o=n(94707),i=n(86325),u=n(85626),a=n(85879),c=n(87363),s=n(69383),l=n(57032),d=n(62787),_=function(e){(0,i._)(n,e);var t=(0,u._)(n);function n(){return(0,r._)(this,n),t.apply(this,arguments)}return(0,o._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.index,n=e.query;s.Z.setModule(this.container,{module:"HotSearchWordItem",index:t}),(0,d.HT)(this.container,n,"topSearch","")}},{key:"render",value:function(){var e=this,t=this.props,n=t.index,r=t.query;return(0,a.BX)("div",{className:"SearchBar-topSearchItem",ref:function(t){e.container=t},children:[r,n<3&&(0,a.tZ)(l.ZP,{css:{marginLeft:5,fill:"#FA2925"},size:18})]},n)}}]),n}(c.Component)},47293:function(e,t,n){"use strict";n.d(t,{$q:function(){return u},EQ:function(){return i},JX:function(){return c},Oi:function(){return a},Sf:function(){return r},cx:function(){return o},hl:function(){return s},ms:function(){return l}});var r="search::top-search",o=10,i=100,u=5,a=5,c=10,s=2,l=12},74440:function(e,t,n){"use strict";n.d(t,{_Q:function(){return s},e:function(){return c},s1:function(){return l},xt:function(){return d}});var r=n(49899),o=n(67516),i=n.n(o),u=n(47293),a=function(e,t){return e===t},c=function(e){return e?"search::history_".concat(e):"search::history_guest"},s=function(e,t){var n=t.q,o=i().get(e)||[],c=o.findIndex(function(e){return a(e.q,n)}),s=c>-1?(0,r._)(o.slice(0,c)).concat((0,r._)(o.slice(c+1))):o;i().set(e,[t].concat((0,r._)(s)).slice(0,u.EQ))},l=function(e,t,n){var r=i().get(e)||[];return t?r.filter(function(e){var n=e.q;return"string"==typeof n&&n.toLowerCase().startsWith(t.toLowerCase())}).slice(0,u.hl).map(function(e){return e.q}):r.slice(0,n?u.JX:u.Oi).map(function(e){return e.q})},d=function(e,t,n){var o=i().get(e)||[],c=o.findIndex(function(e){return a(e.q,t)}),s=[];return t&&(s=c>-1?(0,r._)(o.slice(0,c)).concat((0,r._)(o.slice(c+1))):o),i().set(e,s),s.slice(0,n?u.JX:u.Oi).map(function(e){return e.q})}},58158:function(e,t,n){"use strict";n.d(t,{l:function(){return r}});var r=function(e){return function(t){return e(t).then(function(e){return e.payload.suggest.map(function(e){return{query:e.query,rawId:e.rawId}})})}}},86202:function(e,t,n){"use strict";n.d(t,{Jn:function(){return c},ck:function(){return u},pQ:function(){return a}});var r=n(67516),o=n.n(r),i=n(47293),u=function(){var e=o().get(i.Sf)||{},t=e.words,n=e.timeStamp;return t&&"string"==typeof t[0]?(o().delete(i.Sf),null):t&&n&&new Date().getTime()-Number(n)<6e4*i.cx?t:null},a=function(e){return function(){return e().then(function(e){var t=(e&&e.payload&&e.payload.topSearch||{}).words,n=(void 0===t?[]:t).map(function(e){return{displayQuery:e.displayQuery,query:e.query}}).slice(0,i.$q);return o().set(i.Sf,{words:n,timeStamp:new Date().getTime()}),n})}},c=function(e){return function(){return e().then(function(e){var t,n=((null==e?void 0:null===(t=e.payload)||void 0===t?void 0:t.recommendQueries)||{}).queries,r=(void 0===n?[]:n).map(function(e){return{queryDisplay:e.queryDisplay,query:e.query}}).slice(0,i.$q);return o().set(i.Sf,{words:r,timeStamp:new Date().getTime()}),r})}}},65294:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return u}});var r=n(55164),o=n(85879),i=function(e,t){return e.map(function(e,n){return(0,r._)({data:(null==e?void 0:e.query)||e,index:n,id:null==e?void 0:e.rawId},t)})},u=function(e,t){return"string"==typeof t&&e.startsWith(t)?(0,o.BX)("span",{children:[(0,o.tZ)("em",{children:t}),e.slice(t.length)]}):e}},62787:function(e,t,n){"use strict";n.d(t,{HT:function(){return u},bf:function(){return c},qI:function(){return a}});var r=n(55164),o=n(69383),i=function(e){return e?{history:{SearchSource:"SuggestionHistory",zaModuleName:"SearchHistoryItem"},suggest:{SearchSource:"Suggestion",zaModuleName:"SearchSuggestionItem"},searchLink:{SearchSource:"",zaModuleName:"SearchSuggestionList"}}:{topSearch:{SearchSource:"Hot",zaModuleName:"HotSearchWordItem"},history:{SearchSource:"History",zaModuleName:"SearchHistoryItem"}}},u=function(e,t,n,u){o.Z.trackCardShow(e,{},{search:(0,r._)({search_source:i(u)[n].SearchSource,raw_query:t},u&&{input_query:u})})},a=function(e){var t=e.type,n=e.index,u=e.rawSearchResult,a=e.data,c=null;(c="searchLink"!==t?(document.querySelectorAll(".SearchBar-menu div[data-za-detail-view-path-module =\n    ".concat(i(u)[t].zaModuleName,"]"))||[])[n]:document.querySelector(".SearchBar-menu div[data-za-detail-view-element_name=ViewSeachResult]"))&&o.Z.trackEvent(c,(0,r._)({action:"Click"},"searchLink"===t?{element_name:"ViewSeachResult"}:{}),{search:(0,r._)({search_source:i(u)[t].SearchSource,raw_query:a},u&&{input_query:u})})},c=function(e,t){return t?"SearchSuggestionList":"history"===e?"SearchHistoryList":"topSearch"===e?"HotSearchWordList":""}},45001:function(e,t,n){"use strict";n.d(t,{W:function(){return w},Z:function(){return G}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(57477),l=n(71728),d=n(85626),_=n(85879),p=n(83921),f=n(25628),T=n.n(f),E=n(7656),h=n.n(E),v=n(92769),m=n.n(v),A=n(95548),I=n.n(A),y=n(14168),O=n.n(y),S=n(87363),g=n(77617),C=n.n(g),N=n(98125),R=n(13844),P=n(7181),D={button:"HrHisPElmD_XxB9LKi6j",plainButton:"h39gnJsHf0NWeCTuygxV",arrow:"RXYxRcvJ7zVIfNZSOcHa",list:"wzIYYDapUzV6NOo6FjeV",option:"A1LO1m96faGxseE9tNf3",popoverTarget:"U4KXos1rwjW8g8If_xHY"},L=function(e){(0,a._)(n,e);var t=(0,d._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"handleMouseEnter",function(){e.node.focus()}),e}return(0,i._)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.text,o=t.className,i=t.onClick,u=t.children,a=(0,l._)(t,["value","text","className","onClick","children"]);return(0,_.tZ)("button",(0,s._)((0,c._)({ref:function(t){e.node=t},className:T()("Select-option",D.option,o),onClick:i,onMouseEnter:this.handleMouseEnter,tabIndex:-1,role:"option"},a),{children:u||r||n}))}}]),n}(S.Component);(0,u._)(L,"propTypes",{value:O().oneOfType([O().string,O().number,O().bool]).isRequired,text:O().string,onClick:O().func,children:O().node});var w=L,b=function(e){(0,a._)(n,e);var t=(0,d._)(n);function n(){var e;return(0,o._)(this,n),e=t.call(this),(0,u._)((0,r._)(e),"state",{open:!1}),(0,u._)((0,r._)(e),"handleOpen",function(){e.timeout=setTimeout(function(){if(e.list){var t=e.getSelectedIndex(),n=e.isRepositioned?0:t,r=e.list.querySelector(".Select-option:nth-child(".concat(n+1,")"));r&&r.focus()}},100),e.setState({open:!0})}),(0,u._)((0,r._)(e),"handleClose",function(){clearTimeout(e.timeout),e.isRepositioned=!1,e.setState({open:!1})}),(0,u._)((0,r._)(e),"handleItemClick",function(t){var n=e.props,r=n.onChange,o=n.children,i=S.Children.toArray(o)[t];r&&r(i.props.value,t)}),(0,u._)((0,r._)(e),"position",function(t){if(!t)return null;var n=e.props,r=n.plain,o=n.margin,i=n.needsReposition,u=n.topExcludedHeight,a=n.fixFirstItem,c=t.getBoundingClientRect(),s=c.top,l=c.left,d=getComputedStyle(t);e.listRect||(e.listRect=e.list.getBoundingClientRect());var _=e.listRect.width,p=e.list.clientHeight,f=e.list.scrollHeight,T=e.getSelectedIndex(),E=e.list.querySelector(".Select-option:nth-child(".concat((a?0:T)+1,")"));if(!E)return null;var v=E.offsetTop,m=E.offsetHeight,A=h()(Math.round(v-(p-m)/2),0,f-p),I=s+-(v-A+1)+o;i&&I<u&&(I=s-9+o,e.isRepositioned=!0);var y=l;return r&&(y-=20),y=Math.min(window.innerWidth-_,y),e.list.scrollTop=A,{targetContainerStyle:{top:I=Math.max(14,I),left:y=Math.max(14,y),fontSize:d.fontSize}}}),e.id=I()("Select"),e.isRepositioned=!1,e}return(0,i._)(n,[{key:"getSelectedIndex",value:function(){var e=this.props,t=e.value,n=e.children,r=S.Children.toArray(n).findIndex(function(e){return e.props.value===t});return -1!==r?r:0}},{key:"renderToggler",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.text,r=t.value,o=this.props,i=o.buttonClassName,a=o.plain,c=o.large,s=o.width,l=o.disabled;return(0,_.BX)(R.Z,{large:c,preset:a?"plain":null,className:T()("Select-button",D.button,i,(0,u._)({"Select-plainButton":a},D.plainButton,a)),style:{width:s},role:"combobox","aria-expanded":!1,disabled:l,children:["function"==typeof e?e(n,r):e||n||r,(0,_.tZ)(p.ZP,{text:!0,className:T()("Select-arrow",D.arrow)})]})}},{key:"render",value:function(){var e=this,t=m()(this.props,["buttonClassName"]),n=t.text,r=t.children,o=t.listClassName,i=t.menuToggler,a=t.width,d=t.useDefaultPosition,p=(0,l._)(t,["text","children","listClassName","menuToggler","width","useDefaultPosition"]),f=S.Children.toArray(r),E=f[this.getSelectedIndex()],h=i||this.renderToggler(n,E&&E.props),v=T()((0,u._)({"Select-list":!0},o,o),D.list);return(0,_.tZ)(P.Z,(0,s._)((0,c._)({toggler:h,fade:!0,delay:0,arrowed:!1,targetClassName:T()("Select-popoverTarget",D.popoverTarget),position:d?null:this.position,onOpen:this.handleOpen,onClose:this.handleClose},p),{children:(0,_.tZ)(N.Z,{selector:".Select-option",children:(0,_.tZ)("div",{className:v,role:"listbox",style:{width:a},ref:function(t){e.list=t},children:f.map(function(t,n){return(0,S.cloneElement)(t,{id:"".concat(e.id,"-").concat(n),onClick:function(r){t.props.onClick&&t.props.onClick(r),e.handleItemClick(n)},key:n})})})})}))}}]),n}(S.Component);(0,u._)(b,"propTypes",{className:O().string,listClassName:O().string,buttonClassName:O().string,plain:O().bool,large:O().bool,width:O().number,value:O().oneOfType([O().string,O().number,O().bool]),text:O().oneOfType([O().node,O().func]),margin:O().number,needsReposition:O().bool,topExcludedHeight:O().number,onChange:O().func,children:O().node,disabled:O().bool,useDefaultPosition:O().bool}),(0,u._)(b,"defaultProps",{plain:!1,large:!1,margin:0,needsReposition:!1,topExcludedHeight:60,disabled:!1,fixFirstItem:!1});var G=C()(b,{value:"onChange"})},7778:function(e,t,n){"use strict";n.d(t,{R:function(){return l}});var r=n(85879),o=n(7835),i=n(25628),u=n.n(i),a=n(87363),c=n(4416),s=n(56191),l=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).scrollPaddingTop,r=(0,a.useRef)(!1);(0,o.Z)(function(){var e=function(){r.current=""===document.documentElement.getAttribute("data-focus-visible")};return document.addEventListener("keydown",e,!0),function(){document.removeEventListener("keydown",e,!0)}});var i=function(){return Array.from((t?t.current:document).querySelectorAll(e)).filter(function(e){return null!==e.offsetParent})};(0,c.n)("k",function(){var e,t=i();if(t.length){var o=document.activeElement,u=o?(0,s.SN)(o,t):-1;e=-1!==u&&(0,s.v4)(t[u])?Math.max(r.current?u-1:u,0):(0,s.tN)(t),(0,s.C5)(t[e],!1,n)}}),(0,c.n)("j",function(){var e,t=i();if(t.length){var o=document.activeElement,u=o?(0,s.SN)(o,t):-1;e=-1!==u&&(0,s.v4)(t[u])?Math.min(r.current?u+1:u,t.length-1):(0,s.tN)(t),(0,s.C5)(t[e],!1,n)}})};t.Z=function(e){var t=e.selector,n=e.className,o=e.children,i=(0,a.useRef)(null);return l(t,i),(0,r.tZ)("div",{className:u()("ListShortcut",n),ref:i,children:o})}},4416:function(e,t,n){"use strict";n.d(t,{n:function(){return c},y:function(){return s}});var r=n(87363),o=n(51070),i=n.n(o),u=n(65733),a=n(4817),c=function(e,t){var n=(0,a.Z)(),o=(0,u.Z)(t);(0,r.useEffect)(function(){if(n){var t=new(i());return t.bind(e,o),function(){t.reset()}}},[o,n,e])},s=function(e){return c(e.input,e.action),null}},83215:function(e,t,n){"use strict";n.d(t,{yW:function(){return r.y},gx:function(){return o.Z},bY:function(){return E},wi:function(){return h}});var r=n(4416),o=n(7778),i=n(94009),u=n(49899),a=n(85879),c=n(87363),s=n.n(c),l=n(51070),d=n.n(l),_=n(65733),p=n(4817),f=s().createContext(null),T=function(e,t){var n=(0,p.Z)(),r=(0,c.useContext)(f),o=(0,_.Z)(t);(0,c.useEffect)(function(){if(n&&r)return r.bind(e,o),function(){r.unbind(e)}},[n,r,e,o])},E=function(e){var t=e.input,n=e.action;return T(t,function(e){for(var t,r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];t=e.target,/^(input|textarea|select)$/i.test(t.tagName)||t.isContentEditable||n.apply(void 0,[e].concat((0,u._)(o)))}),null},h=function(e){var t=e.children,n=e.root,r=(0,i._)((0,c.useState)(null),2),o=r[0],u=r[1];return(0,c.useEffect)(function(){if(n){var e=new(d())(n);return u(e),function(){e.reset()}}},[n]),(0,a.tZ)(f.Provider,{value:o,children:t})}},4817:function(e,t,n){"use strict";var r=n(53778);t.Z=function(){return(0,r.useSelector)(function(e){return e.env.enableShortcut})}},56191:function(e,t,n){"use strict";function r(e){if(!e)return!1;var t=e.getBoundingClientRect();return t.bottom>0&&t.top<window.innerHeight}function o(){return Math.max(window.innerHeight/10,100)}function i(e){return Math.abs(e.getBoundingClientRect().top-o())}function u(e){var t=Math.min(window.pageYOffset/(document.body.scrollHeight-window.innerHeight),1),n=Math.floor((e.length-1)*t);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=t,o=n(e[r]),i=!1;r===e.length-1&&(i=!0);for(var u=!1;;){var a=r+(i?-1:1);if(-1===a||a===e.length)break;var c=n(e[a]);if(c>o){if(u||i)break;i=!0;continue}r=a,o=c,u=!0}return r}(e,n,i)}function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;if(!e.matches("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]")){e.tabIndex=-1;var i=function(){e.removeAttribute("tabindex"),e.removeEventListener("blur",i)};e.addEventListener("blur",i)}e.focus({preventScroll:!0}),n||(t=e.getBoundingClientRect().top+window.pageYOffset-(null!=r?r:o()),window.scrollTo({top:t,behavior:"smooth"}))}function c(e,t){var n=!0,r=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var a=i.value;if(a.contains(e))return t.indexOf(a)}}catch(e){r=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}return -1}n.d(t,{C5:function(){return a},SN:function(){return c},tN:function(){return u},v4:function(){return r}})},27500:function(e,t,n){"use strict";n.d(t,{eB:function(){return d},pz:function(){return s},ts:function(){return _}});var r=n(55164),o=n(71728),i=n(94009),u=n(85879),a=n(87363),c=(0,a.createContext)({totalOffset:0}),s=function(e){var t=e.children,n=(0,i._)((0,a.useState)(function(){return new Map}),2),r=n[0],o=n[1],s=(0,a.useCallback)(function(e,t){return o(function(n){return new Map(n.set(e,t))})},[]),l=(0,a.useCallback)(function(e){return o(function(t){return t.delete(e),new Map(t)})},[]),d=(0,a.useMemo)(function(){var e=0;return r.forEach(function(t){return e+=t}),{totalOffset:e,addOffset:s,removeOffset:l}},[s,r,l]);return(0,u.tZ)(c.Provider,{value:d,children:t})},l=function(e,t){var n=(0,a.useContext)(c),r=n.addOffset,o=n.removeOffset;(0,a.useEffect)(function(){if(e)return r(e,t),function(){o(e)}},[e,t,r,o])},d=function(e){return l(e.id,e.height),null},_=function(){return(0,a.useContext)(c)},p=(0,a.forwardRef)(function(e,t){var n=e.name,i=e.offset,a=(0,o._)(e,["name","offset"]),c=_().totalOffset;return(0,u.tZ)("a",(0,r._)({ref:t,name:n,css:{display:"block",position:"relative",top:-c+(void 0===i?0:i),width:0,height:0}},a))});t.ZP=p},62317:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(20857),o=n(22107),i=n(94707),u=n(86325),a=n(85626),c=n(85879),s=n(25628),l=n.n(s),d=n(14168),_=n.n(d),p=n(87363),f=n(17002),T=n(87320),E=n(55164),h=n(57477),v=n(71728),m=function(e){(0,u._)(n,e);var t=(0,a._)(n);function n(){return(0,o._)(this,n),t.apply(this,arguments)}return(0,i._)(n,[{key:"render",value:function(){var e=this.props,t=e.position,n=e.preset,r=e.restricted,o=e.className,i=e.childrenClassName,u=e.children,a=(0,v._)(e,["position","preset","restricted","className","childrenClassName","children"]);return(0,c.tZ)("div",{className:"TooltipContent-wrapper",children:(0,c.BX)("div",(0,h._)((0,E._)({className:l()("TooltipContent","TooltipContent--".concat(t),"TooltipContent--".concat(n),o)},a),{children:[(0,c.tZ)("div",{className:"TooltipContent-arrow"}),(0,c.tZ)("div",{className:l()("TooltipContent-children",i,{"TooltipContent-children--restricted":r}),children:u})]}))})}}]),n}(p.Component);(0,T._)(m,"propTypes",{position:_().oneOf(["top","bottom","left","right"]),preset:_().oneOf(["black","white"]),restricted:_().bool,className:_().string,childrenClassName:_().string,children:_().node}),(0,T._)(m,"defaultProps",{position:"top",preset:"black",restricted:!0});var A=function(e){(0,u._)(n,e);var t=(0,a._)(n);function n(){var e;return(0,o._)(this,n),(e=t.call(this)).handleBodyClick=e.handleBodyClick.bind((0,r._)(e)),e.hideOnNextClick=!1,e}return(0,i._)(n,[{key:"componentDidMount",value:function(){this.props.hideOnClick&&document.body.addEventListener("click",this.handleBodyClick)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.timeout,r=t.hideOnClick,o=t.onClose;!this.props.shown&&e.shown&&(r&&(this.hideOnNextClick=!0),-1!==n&&(this.timeoutId=setTimeout(function(){o&&o()},n))),this.props.shown&&!e.shown&&this.reset()}},{key:"componentWillUnmount",value:function(){this.reset(),this.props.hideOnClick&&document.body.removeEventListener("click",this.handleBodyClick)}},{key:"handleBodyClick",value:function(){this.hideOnNextClick&&(this.reset(),this.props.onClose&&this.props.onClose())}},{key:"reset",value:function(){this.hideOnNextClick=!1,clearTimeout(this.timeoutId)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.contentClassName,r=e.contentChildrenClassName,o=e.preset,i=e.restricted,u=e.shown,a=e.x,s=e.y,d=e.position,_=e.content,p=e.children;return(0,c.tZ)(f.Z,{transitionName:"Tooltip",timeout:300,children:u&&(0,c.tZ)("div",{style:{left:a,top:s},className:l()("Tooltip",t),children:(0,c.tZ)(m,{className:n,childrenClassName:r,position:d,preset:o,restricted:i,children:_||p})},JSON.stringify({x:a,y:s}))})}}]),n}(p.Component);A.propTypes={position:m.propTypes.position,preset:m.propTypes.preset,restricted:m.propTypes.restricted,className:_().string,contentClassName:_().string,contentChildrenClassName:_().string,shown:_().bool,timeout:_().number,hideOnClick:_().bool,onClose:_().func,content:_().node,x:_().number,y:_().number},A.defaultProps={position:m.defaultProps.position,preset:m.defaultProps.preset,restricted:m.defaultProps.restricted,shown:!0,timeout:-1,hideOnClick:!1};var I=A},32854:function(e,t,n){"use strict";var r=n(55164),o=n(57477),i=n(71728),u=n(85879),a=n(9219),c=n(27723),s=n(86616),l=n(87641),d=n(1733),_=n(97476),p=n(38889);function f(e){var t=e.children,n=(0,i._)(e,["children"]);return(0,u.tZ)(d.sN,(0,o._)((0,r._)({css:function(e){return{height:36,display:"flex",alignItems:"center",color:e.colors.GBL05A,fontSize:"14px"}}},n),{children:t}))}t.Z=(0,s.withRouter)(function(e){var t=e.location,n=(0,u.tZ)(p.ZP,{component:l.Flex,preset:"plain",color:"gray",alignItems:"center",mr:"20px",children:"切换模式"});return(0,u.BX)(d.ZP,{positionStatus:"fixed",toggler:n,boundary:{padding:16},children:[(0,u.BX)(f,{onClick:_.Gb,children:[(0,u.tZ)(a.Z,{css:{marginRight:6}}),"无障碍"]}),(0,u.BX)(f,{tag:"a",href:(0,_.cg)((null==t?void 0:t.pathname)||""),children:[(0,u.tZ)(c.Z,{css:{marginRight:6}}),"关怀版"]})]})})},97476:function(e,t,n){"use strict";n.d(t,{cg:function(){return a},Gb:function(){return u}}),n(81897);var r=n(23483),o=n(80714);n(85879);var i=new r.xQ;function u(){var e;null===(e=window.aria)||void 0===e||e.start()}function a(e){return"https://".concat(o.Z.wwwHost,"/aria").concat(e)}"undefined"!=typeof window&&(window.RQ_HALW_QDPH=function(){i.next("off")},window.RQ_VWDUW_QDPH=function(){i.next("on")})},66654:function(e,t,n){"use strict";n.r(t);var r=JSON.parse(document.getElementById("js-clientConfig").textContent);t.default=r},80714:function(e,t,n){"use strict";var r=n(66654);t.Z=r.default},66263:function(e,t,n){"use strict";n.d(t,{$i:function(){return J},AW:function(){return V},An:function(){return C},BR:function(){return f},CZ:function(){return j},Dm:function(){return G},EE:function(){return eu},If:function(){return y},K9:function(){return U},K_:function(){return c},LA:function(){return q},M:function(){return L},M5:function(){return S},NB:function(){return ee},Pw:function(){return h},R8:function(){return F},Sp:function(){return x},T$:function(){return I},TY:function(){return b},UI:function(){return X},Uw:function(){return w},VV:function(){return $},W0:function(){return k},WW:function(){return ea},Wy:function(){return O},Xc:function(){return p},Xq:function(){return W},aK:function(){return en},dN:function(){return ed},dd:function(){return ec},em:function(){return N},fH:function(){return P},hE:function(){return T},hY:function(){return D},i3:function(){return z},i7:function(){return l},iG:function(){return g},iI:function(){return s},jB:function(){return M},lH:function(){return es},lM:function(){return K},o$:function(){return eo},o7:function(){return R},oP:function(){return Z},of:function(){return Q},ov:function(){return el},pL:function(){return ei},q0:function(){return A},rX:function(){return d},t6:function(){return ep},tU:function(){return et},ur:function(){return H},vg:function(){return _},xR:function(){return Y},yK:function(){return E},zg:function(){return v},zi:function(){return er},zs:function(){return B}});var r=n(87320),o=n(55164),i=n(57477),u=n(88423),a=n(80714),c={"-1":"他",0:"她",1:"他"},s={"-1":"未知",0:"女",1:"男"},l="//www.zhihu.com",d="column"!==a.Z.currentEntry?"":l,_="//zhuanlan.zhihu.com",p="//promotion.zhihu.com",f=52,T={weekly:"知乎周刊",roundtable:"圆桌",editor_recommendation:"编辑推荐"},E="www.zhihu.com",h={hang:"hang",lock:"lock",ban:"ban",isForceRenamed:"isForceRenamed",isGuest:"isGuest",destroy:"destroy",suicide:"suicide",notBindPhone:"notBindPhone"},v=Object.keys(h).map(function(e){return h[e]}),m={follow:[h.ban,h.isForceRenamed,h.notBindPhone,h.isGuest],report:[h.ban,h.notBindPhone],share:[h.ban,h.isForceRenamed],editProfile:[h.ban,h.isForceRenamed,h.notBindPhone],thank:[h.notBindPhone],deblock:[h.lock],vote:[h.notBindPhone],favlists:[h.notBindPhone],like:[h.notBindPhone],message:[h.notBindPhone],serviceAccountMessage:[h.notBindPhone,h.ban],deletePin:[h.notBindPhone],invite:[h.notBindPhone],getCoupon:[h.notBindPhone],gift:[h.notBindPhone],blockUser:[h.notBindPhone],buy:[h.notBindPhone]},A=Object.keys(m).reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,r._)({},t,v.filter(function(e){return!m[t].includes(e)})))},{}),I={blocking:"因为你已将此人屏蔽，暂时无法进行该操作。您可以进入他的个人主页解除屏蔽。",commentBlocked:"根据对方设置，暂时无法进行评论操作。",blocked:"根据对方设置，暂时无法进行该操作。"},y=2400,O=1e4,S={sina:"3063806388",qqconn:"100490701",wechat:"wx268fcfe924dcb171",mobileWechat:"wx21dd00cd1ccac236"},g="bindPhoneLastAlertTime",C=4039,N=100001,R=100007,P=1e5,D=100010,L=100016,w=100017,b=100018,G=100028,U=40312,k=110600,M={add:"annotation",cancel:"annotation_cancel",view:"show_annotation_detail"},F=0,Z=1,B=2,H={topic:"Topic",people:"User",column:"Column",collection:"Collection",live:"Live",ebook:"EBook",publication:"EBook",pin:"Pin",article:"Post",answer:"Answer",question:"Question",question_ask:"QuestionAsk",promotion:"Promotion",roundtable:"RoundtableItem",live_course:"LiveCourse",remix_album:"RemixAlbum",search_course:"LiveCourse",search_special:"LiveAlbum",out_link:"ExternalAd",ad:"Ad",album:"RemixAlbum",rewardPeople:"User",zvideo:"Video"},q={question:"Question",answer:"Answer",comment:"Comment",message:"Message",pin:"Pin",live:"Live",live_message:"LiveMessage",book_review:"BookReview",promotion:"Promotion",column:"Column",theater:"Theater",drama:"Drama",zvideo:"Zvideo",zvideo_collection:"ZvideoCollection",topic:"Topic",collection:"Collection",question_ask:"QuestionAsk",roundtable:"Roundtable",ebook:"EBook",remix_album:"RemixAlbum",live_course:"LiveCourse",ad:"Ad",article:"Post",favlist:"Collection",people:"User",member:"User",publication:"EBook",album:"RemixAlbum",search_course:"LiveCourse",search_special:"LiveAlbum",out_link:"ExternalAd",paid_consultation_question:"Conversation",paid_consultation_answer:"Conversation",activity:"Unknown",live_feedback:"Unknown",live_feedback_reply:"Unknown",infinity:"Unknown",zhihu_daily:"Unknown",market_comment:"Unknown",topic_log:"Unknown",book_note:"Unknown",discussion_review:"Unknown",drama_bullet:"Unknown",drama_statement:"Unknown",bullet:"Unknown",vip_comment:"Unknown",search_suggested_word:"Unknown",zpoll:"Unknown"},x="真诚赞赏，手留余香",V={abuseip:40350,imfrozen:40351,unhuman:40352},z=10,K=20,W="global::enableShortcut",Y={alertTimeSpan:3600,canWrite:!1,tip:"应国家法规对于账号实名的要求，进行下一步操作前，需要先完成手机绑定。"},Q={NO_AUTH:-1,ENTER_RECRUIT:0,NO_SETTING:1,PASS:2},j={IMAGE:[".png",".jpeg",".gif",".jpg"],VIDEO:[".3gp",".asf",".avi",".dat",".f4v",".flv",".m4v",".mkv",".mov",".mp4",".mp4v",".mpe",".mpeg",".mpg",".ra",".ram",".rm",".rmvb",".vob",".webm",".wm",".wmv"]},X="zh_s_dpa",J="zh_s_dpr",$=730,ee=".zhihu.com",et="https://pic1.zhimg.com/v2-abed1a8c04700ba7d72b45195223e0ff.jpeg",en={id:null,urlToken:null,name:"匿名用户",gender:-1,avatarUrl:(0,u.imgUrl)("https://pic1.zhimg.com/v2-d41c2ceaed8f51999522f903672a521f.jpeg","is"),headline:null,badge:null,isOrg:!1,isFollowing:!1,isFollowed:!1,isBlocking:!1,isBlocked:!1},er=(0,i._)((0,o._)({},en),{name:" 知乎用户",avatarUrl:(0,u.imgUrl)(et,"is")}),eo={answer:["1396303730","1394715943","1309692335","571602599","1405988657","1551858840","528969715","1126833448","1551974986"],question:["329062584","298155229","335633281","344276433","418460881","424224869","423070517"]},ei="https://www.zhihu.com/xen/market/vip-privileges",eu=[5,25],ea="3d198a56310c02c4a83efb9f4a4c027e",ec=!0,es=["四川","地震"],el={collect_answer:"收藏",up:"赞同",down:"反对",neutral:"取消赞同/反对"},ed={auto_notif:"auto_notif",header:"header",question_header_card:"question_header_card",force_launch_notif:"force_launch_notif",agree:"agree",disagree:"disagree",comment:"comment",star:"star",comment_list:"comment_list",comment_more:"comment_more",more_answers:"more_answers",bottom:"bottom",capsule:"capsule",follow:"follow",write_answer:"write_answer"},e_="auto_notif",ep={expand_answer:"force_launch_notif",expand_answer1:e_,expand_answer2:e_,up:"agree",down:"disagree",comment_answer:"comment",collect_answer:"star"}},4627:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(85626),s=n(85879),l=n(53910),d=n(25628),_=n.n(d),p=n(14168),f=n.n(p),T=n(87363),E=n(69383),h=n(38889),v=n(49899),m=n(68014),A=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"handleAdd",function(t){var n=e.props,r=n.value,o=n.onChange,i=n.onAdd;i&&i(t),o&&o((0,v._)(r).concat([t]))}),(0,u._)((0,r._)(e),"handleRemove",function(t){var n=e.props,r=n.value,o=n.onChange,i=n.onRemove;i&&i(r[t],t),o&&o((0,v._)(r.slice(0,t)).concat((0,v._)(r.slice(t+1))))}),(0,u._)((0,r._)(e),"handleIfBackspace",function(t){var n=e.props.value;8===t.keyCode&&!e.state.value&&n.length&&e.handleRemove(n.length-1)}),e}return(0,i._)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.value,o=t.renderTagInner,i=t.renderInput;return(0,s.BX)("div",{className:_()("TagInputAlias",n),children:[r&&r.map(function(t,n){return(0,s.tZ)(m.Z,{removable:!0,onRemove:function(){return e.handleRemove(n)},children:o(t)},n)}),i({onAdd:this.handleAdd,onIfBackspace:this.handleIfBackspace})]})}}]),n}(T.Component);(0,u._)(A,"propTypes",{renderTagInner:f().func.isRequired,renderInput:f().func,value:f().array.isRequired,onAdd:f().func,onRemove:f().func,onChange:f().func});var I=n(55164),y=n(57477),O=n(85456),S=n.n(O),g=n(53778),C=n(94057),N=n(5941),R=n(90656),P=n(58909),D=n(31857),L=function(e){return e.name.startsWith("创建 ")&&e.name.endsWith(" 话题")},w=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{value:"",items:[]}),(0,u._)((0,r._)(e),"mounted",!1),(0,u._)((0,r._)(e),"fetchTopic",function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return R.F.apply(void 0,(0,v._)(n).concat([[],{topic_filter:1}])).then(function(t){t=t.filter(function(e){return!L(e)});var r=e.props.currentUser,o=n[0];return!r||!r.canEditTopic||t.find(function(e){return e.name===o})||/\s/.test(o)||/(?:[+=$￥^><~`|!-#%-*,-/:;?@[-\]_{}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F])/.test(o)?t:(0,v._)(t).concat([{urlToken:"topic",token:o,name:"创建 ".concat(o," 话题")}])})}),(0,u._)((0,r._)(e),"createTopic",function(t){return e.props.createTopic(t).then(function(e){return e.payload})}),(0,u._)((0,r._)(e),"handleSelect",function(t,n){var r=e.props.onSelect;Promise.resolve(L(n)?e.createTopic(n.token||n.name):n).then(function(t){r&&r(t),e.mounted&&e.setState({value:""})}).catch(function(){e.setState({value:""})})}),(0,u._)((0,r._)(e),"handleChange",S()(function(t){e.setState({value:t}),e.fetchTopic(t).then(function(t){return e.mounted&&e.setState({items:t})})},200)),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,(0,this.props.fillCurrentUserIfNeeded)(["canEditTopic"])}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.state,t=e.value,n=e.items,r=this.props.filter;return(0,s.tZ)(N.Z,(0,y._)((0,I._)({},this.props),{autoFocus:!0,value:t,items:r&&n?n.filter(r):n,onChange:this.handleChange,onSelect:this.handleSelect}))}}]),n}(T.Component),b=(0,C.compose)((0,g.connect)(function(e){return{currentUser:(0,P.ib)(e)}},{createTopic:D.HV,fillCurrentUserIfNeeded:P.sF}))(w),G=function(e,t){if(!e||!t)return!1;var n=e.urlToken||e.id,r=t.urlToken||t.id;return n&&n===r},U=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"handleClick",function(t){var n=e.props.onToggleActived;n&&n(),E.Z.trackEvent(t.target,{id:2465,action:"Click"})}),(0,u._)((0,r._)(e),"handleBlur",function(t){var n=e.props.onBlur;n&&n(t);var r=e.props.onToggleActived;r&&r()}),(0,u._)((0,r._)(e),"handleChange",function(t){var n=e.props,r=n.max,o=n.onChange;r>0&&o(t.slice(0,r))}),e}return(0,i._)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.max,o=t.value,i=t.inputProps,u=t.onAdd,a=t.onRemove,c=t.actived,d=t.onRef,p=t.placeholderNote,f="绑定话题".concat(o.length>0?"（".concat(o.length,"/").concat(r,"）"):p||"（至少添加一个）");return(0,s.tZ)(A,{className:_()("TopicInputAlias-tagInput",n),value:o,renderInput:function(t){var n=t.onAdd,u=t.onIfBackspace;return(!o||o.length<r)&&(c?(0,s.tZ)(b,{className:"TopicInputAlias-autocomplete",inputProps:{className:_()("TopicInputAlias-input",null==i?void 0:i.className)},menuProps:{menuClassName:"TopicInputAlias-suggestionContainer"},filter:o&&function(e){return!o.find(function(t){return G(t,e)})},onRef:d,onKeyDown:u,onSelect:n,onBlur:e.handleBlur,placeholder:f}):(0,s.tZ)(h.ZP,{className:"TopicInputAlias-placeholderButton",label:f,icon:l.nY,onClick:e.handleClick,preset:"plain",color:"blue"}))},renderTagInner:function(e){return(0,s.tZ)("a",{target:"_blank",rel:"noopener noreferrer",href:"//www.zhihu.com/topic/".concat(e.id||e.urlToken),children:e.name})},onAdd:u,onRemove:a,onChange:this.handleChange})}}]),n}(T.Component);(0,u._)(U,"propTypes",{max:f().number}),(0,u._)(U,"defaultProps",{max:5});var k=U},72021:function(e,t,n){"use strict";n.d(t,{RR:function(){return q},x:function(){return ez}});var r,o,i,u,a,c=n(20857),s=n(22107),l=n(94707),d=n(87320),_=n(86325),p=n(55164),f=n(85626),T=n(85879),E=n(25628),h=n.n(E),v=n(87363),m=n(53778),A=n(94057),I=n(42559),y=n.n(I),O=n(69383),S=n(43384),g=n(20308),C=n(38889),N=function(e){var t=function(t){var n=e(t);if(n)return(t||window.event).returnValue=n,n};return window.addEventListener("beforeunload",t),function(){return window.removeEventListener("beforeunload",t)}},R=function(e){(0,_._)(n,e);var t=(0,f._)(n);function n(){return(0,s._)(this,n),t.apply(this,arguments)}return(0,l._)(n,[{key:"componentDidMount",value:function(){this.unsubscriber=N(this.props.onUnload)}},{key:"componentWillUnmount",value:function(){this.unsubscriber()}},{key:"render",value:function(){return this.props.children||null}}]),n}(v.Component),P=n(80714),D=n(26921),L=n(65514),w=n(71728),b=n(55698),G=n(58909),U=n(67516),k=n.n(U),M={title:"AskQuestion::title",topics:"AskQuestion::topics",detail:"AskQuestion::detail"},F=function(){var e=k().get(M.detail)||"";if(e&&"undefined"!==e){var t=e.html||e;if("string"==typeof t)return t}return""},Z=function(e){Object.keys(e).forEach(function(t){var n=M[t];n&&void 0!==e[t]&&k().set(n,e[t])})},B=function(e){return"commercial"===e},H=function(e,t){var n,r;if(t)return null===(n=null===(r=e.people.brands)||void 0===r?void 0:r.find(function(e){return e.id===t}))||void 0===n?void 0:n.logo},q=function(e){var t=e.questionType,n=e.brandId,r=e.brand,o=e.isAnonymous,i=e.css,u=(0,w._)(e,["questionType","brandId","brand","isAnonymous","css"]),a=(0,m.useSelector)(function(e){var i;if(!o)return B(t)?(null==r?void 0:r.logo)||H(e,n):null===(i=(0,G.ib)(e))||void 0===i?void 0:i.avatarUrl});return(0,T.tZ)(b.qE,(0,p._)({size:40,url:a,css:i},u))},x=n(57477),V=n(41283),z=n(45001),K=n(48504),W=n(84871),Y=n.n(W),Q=n(6438),j=(r=r||{},i=(o=v.createContext(r)).Provider,u=o.Consumer,{consume:function(e){return function(t){e=e||function(e){return e};var n=function(n){(0,_._)(o,n);var r=(0,f._)(o);function o(){return(0,s._)(this,o),r.apply(this,arguments)}return(0,l._)(o,[{key:"render",value:function(){var n=this.props,r=n.forwardedRef,o=(0,w._)(n,["forwardedRef"]);return(0,T.tZ)(u,{children:function(n){return(0,T.tZ)(t,(0,x._)((0,p._)({ref:r},o,e(n)),{onChangeContext:n.onChangeContext}))}})}}]),o}(v.Component);return Y()(v.forwardRef(function(e,t){return(0,T.tZ)(n,(0,x._)((0,p._)({},e),{forwardedRef:t}))}),t)}},provide:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return function(t){var n=function(n){(0,_._)(o,n);var r=(0,f._)(o);function o(){var t;return(0,s._)(this,o),t=r.apply(this,arguments),(0,d._)((0,c._)(t),"state",(0,p._)({},"function"==typeof e?e(t.props):e)),(0,d._)((0,c._)(t),"handleChange",function(e,n){return t.setState(e,n)}),t}return(0,l._)(o,[{key:"render",value:function(){return(0,T.tZ)(i,{value:(0,p._)({onChangeContext:this.handleChange},this.state),children:(0,T.tZ)(t,(0,x._)((0,p._)({},this.props,this.state),{onChangeContext:this.handleChange}))})}}]),o}(v.Component);return Y()(n,t)}}}),X=j.provide,J=j.consume,$=function(e){(0,_._)(n,e);var t=(0,f._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,d._)((0,c._)(e),"handleChange",function(t){return e.props.onChangeContext({brandId:t})}),e}return(0,l._)(n,[{key:"render",value:function(){var e=this.props,t=e.brandId,n=e.data,r=n&&n.payload&&n.payload.data||[];return(0,T.tZ)(z.Z,(0,x._)((0,p._)({className:"AskBrand",listClassName:"AskBrand--list"},!t&&{text:(0,T.tZ)("span",{className:"AskBrand-text",children:"选择品牌"})}),{value:t,onChange:this.handleChange,children:r.map(function(e){return(0,T.tZ)(z.W,{value:e.id,text:(0,T.BX)("span",{className:"AskBrand-text",children:[e.name,e.clickInfo&&e.clickInfo.target&&e.clickInfo.target.isOrg&&(0,T.tZ)(V.Kr,{size:24,"aria-label":"已认证账号"})]})},e.id)})}))}}]),n}(v.Component),ee=(0,A.compose)((0,m.connect)(function(e){return{currentUser:(0,G.ib)(e)}}),(a={load:function(e){return e.dispatch((0,Q.R8)(e.currentUser.urlToken))}},function(e){var t=a.load,n=function(n){(0,_._)(o,n);var r=(0,f._)(o);function o(){var e;return(0,s._)(this,o),e=r.apply(this,arguments),(0,d._)((0,c._)(e),"state",{isFetching:!1,isDrained:!1,error:null,data:null}),(0,d._)((0,c._)(e),"load",function(){e.setState({isFetching:!0}),t(e.props).then(function(t){return e.setState({isFetching:!1,isDrained:!0,data:t})}).catch(function(t){return e.setState({isFetching:!1,error:t})})}),e}return(0,l._)(o,[{key:"render",value:function(){return(0,T.tZ)(e,(0,x._)((0,p._)({},this.props,this.state),{load:this.load}))}}]),o}(v.Component);return Y()(n,e)}),(0,K.Z)({load:function(e){return e.load()}}),J(function(e){return{brandId:e.brandId}}))($),et=function(e){(0,_._)(n,e);var t=(0,f._)(n);function n(){return(0,s._)(this,n),t.apply(this,arguments)}return(0,l._)(n,[{key:"render",value:function(){return(0,T.BX)("div",{className:"AskBrandTitle",children:[(0,T.tZ)("h2",{className:"AskBrandTitle-main",children:"品牌提问"}),(0,T.tZ)("div",{className:"AskBrandTitle-sub",children:"创建前请先与商务确认订单，如未确认联系 ad@zhihu.com"})]})}}]),n}(v.Component),en=n(4667),er=n.n(en),eo=n(22701),ei=n(57730),eu=n(94902),ea=n(16234),ec=n(54460),es=n(69578),el=n(65744),ed=n(35102),e_=function(e){(0,_._)(n,e);var t=(0,f._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,d._)((0,c._)(e),"state",{toolBarShown:!1}),(0,d._)((0,c._)(e),"focus",function(){return e.editable&&e.editable.focus()}),(0,d._)((0,c._)(e),"triggerImageUpload",function(){e.editable&&e.editable.handleKeyCommand("insert-image")}),(0,d._)((0,c._)(e),"triggerVideoUpload",function(){e.editable&&e.editable.handleKeyCommand("insert-video")}),(0,d._)((0,c._)(e),"handleChange",function(t){var n=e.props.onChangeContext;n&&n({detail:t})}),(0,d._)((0,c._)(e),"handleBlur",function(t){var n=e.validate();(0,e.props.onChangeContext)({detailTip:n});var r=e.props.onBlur;r&&r(t)}),(0,d._)((0,c._)(e),"handleTrackDescriptionClickOnce",er()(function(e){O.Z.trackEvent(e.target,{id:2464,action:"Click"})})),(0,d._)((0,c._)(e),"handleToggleToolbar",function(){return e.setState({toolBarShown:!e.state.toolBarShown})}),(0,d._)((0,c._)(e),"handleRef",function(t){return e.editable=t}),(0,d._)((0,c._)(e),"handleUploadError",function(t,n){switch(n){case"video":e.handleError("video-upload-error");break;case"image":e.handleError("image-upload-error",t)}}),(0,d._)((0,c._)(e),"handleError",function(e,t){return(0,ed.Xc)(e,t,el.t)}),(0,d._)((0,c._)(e),"checkIfCanUpload",function(){return e.props.canUpload}),(0,d._)((0,c._)(e),"hasVideo",function(){return e.editable&&e.editable.hasVideo()}),(0,d._)((0,c._)(e),"canExit",function(){return e.editable&&e.editable.hasVideo("upload")?(0,el.y)("关闭弹窗将丢失上传中的视频内容"):Promise.resolve()}),(0,d._)((0,c._)(e),"validate",function(){var t;return!!(t=e.editable)&&(t.hasVideo("upload")?{level:"error",blockSubmit:!0,text:"请等待视频上传完成后发布"}:t.hasImage("upload")?{level:"error",blockSubmit:!0,text:"请等待图片上传完成后发布"}:t.hasImage("error")||t.hasVideo("error")&&!t.hasVideo("error-review")?{level:"fatal",blockSubmit:!0,text:"草稿中含有上传失败的内容，请更改后重新提交",title:"上传失败"}:!!(t.hasVideo("error-review")||t.hasVideo("censor"))&&{level:"fatal",blockSubmit:!0,text:"视频中包含未通过审核的信息，请更改后重新提交",title:"视频未通过审核"})}),(0,d._)((0,c._)(e),"validateAndNotice",function(){var t=e.validate();return!!t&&("fatal"===t.level?ei.Z.alert(t.text,{title:t.title}):(0,el.t)(t.text),e.focus(),t)}),e}return(0,l._)(n,[{key:"render",value:function(){var e=this.state.toolBarShown,t=this.props,n=t.onFocus,r=t.value;return(0,T.BX)("div",{className:"AskDetail",children:[(0,T.tZ)("div",{className:"AskDetail-actionsWrapper",children:(0,T.BX)("div",{className:"AskDetail-actions",children:[(0,T.tZ)(eo.hA,{label:"".concat(e?"收起":"展开","工具栏"),isActive:e,icon:eu.g_,onClick:this.handleToggleToolbar}),(0,T.tZ)(eo.hA,{label:"插入图片",icon:ea.x3,onClick:this.triggerImageUpload}),(0,T.tZ)(eo.hA,{label:"上传视频",icon:ec.Y,onClick:this.triggerVideoUpload})]})}),(0,T.tZ)("div",{className:"AskDetail-inputWrapper",onClick:this.handleTrackDescriptionClickOnce,children:(0,T.tZ)(es.Z,{placeholder:"输入问题背景、条件等详细信息（选填）",className:"AskDetail-input",ref:this.handleRef,allowDragAndDrop:!0,allowLinkCard:!0,minRows:2,allowToolbar:e,allowHeaderThree:!1,defaultValue:r&&r.toHTML(),onChange:this.handleChange,onError:this.handleError,onUploadError:this.handleUploadError,onBeforeVideoUpload:this.checkIfCanUpload,onBlur:this.handleBlur,onFocus:n,editingContentType:"question",videoSource:"question"})})]})}}]),n}(v.Component),ep=J(function(e){var t=e.detail;return{value:t&&t.toHTML?t:{toHTML:function(){return t}}}})(e_),ef=n(94009),eT=n(14168),eE=n.n(eT);function eh(e){var t=e.hasVideo,n=e.onChangeContext,r=e.value,o=e.questionType,i=e.currentUser,u=(0,ef._)((0,v.useState)(!1),2),a=u[0],c=u[1];return((0,v.useEffect)(function(){c(function(e){return e||r})},[r]),a)?i&&"organization"===i.userType||"commercial"===o||(0,T.tZ)("div",{children:(0,T.tZ)("div",{className:"AskOptions",children:(0,T.BX)("label",{htmlFor:"anonymous-checkbox",className:"AskOptions-label",children:[(0,T.tZ)("input",{id:"anonymous-checkbox",className:"AskOptions-checkbox",type:"checkbox",checked:r,onChange:function(){var e=!r;if(e){(0,el.t)("无法匿名发布，实名发布获得更多曝光",{theme:"red"});return}if(e&&t()){(0,el.t)("匿名不能使用知乎视频功能，如需启用匿名请删除问题中的视频",{theme:"red"});return}n({isAnonymous:e})}}),"匿名提问"]})})}):null}eh.propTypes={hasVideo:eE().func,onChange:eE().func,value:eE().bool,questionType:eE().string,currentUser:eE().object};var ev=(0,A.compose)((0,m.connect)(function(e){return{currentUser:(0,G.ib)(e)}}),J(function(e){return{value:e.isAnonymous||!1}}))(eh),em=n(85456),eA=n.n(em),eI=n(30722),ey=n(5941),eO=n(90656),eS=n(92868),eg=function(e){return(0,T.tZ)("div",{style:{textAlign:"right",minHeight:"1.67em"},children:(0,T.tZ)("span",{className:h()("AskFieldTip",(0,d._)({},"AskFieldTip--".concat(e.level),e.level)),children:e.text})})},eC="group-title",eN={default:18,smaller:16},eR=Math.floor(2.68*eN.default),eP=function(e){(0,_._)(n,e);var t=(0,f._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,d._)((0,c._)(e),"state",{fontSize:eN.default,items:[],rows:1,pos:0}),(0,d._)((0,c._)(e),"appended",!1),(0,d._)((0,c._)(e),"focus",function(){return e.input&&e.input.focus()}),(0,d._)((0,c._)(e),"handleKeyDown",function(e){13===e.keyCode&&e.preventDefault()}),(0,d._)((0,c._)(e),"handleSelect",function(e,t){window.open("/question/".concat(t.urlToken,"?q=").concat(e),"_self")}),(0,d._)((0,c._)(e),"handleCompositionEnd",function(t){var n=t.target.value,r=e.props.onChangeContext;if(!e.appended&&"string"==typeof n&&n.length&&-1===n.indexOf("?")&&-1===n.indexOf("？")){e.appended=!0;var o=e.input&&e.input.selectionStart,i="".concat(n,"？");return e.setState({pos:o},function(){e.input&&e.input.setSelectionRange(o,o)}),r({title:i,titleTip:e.validate(i)})}}),(0,d._)((0,c._)(e),"handleFocus",function(t){e.change(t.target.value),e.setState({focused:!0});var n=e.props.onFocus;n&&n(t)}),(0,d._)((0,c._)(e),"handleBlur",function(t){e.change(t.target.value),e.setState({focused:!1})}),(0,d._)((0,c._)(e),"handleDivRef",function(t){e.div=t}),(0,d._)((0,c._)(e),"handleChange",function(t){return e.change(t)}),(0,d._)((0,c._)(e),"change",function(t){var n=e.props,r=n.onChangeContext;if(t!==n.value)return t?e.updateItems(t):e.setState({items:[]}),r({title:t,titleTip:e.validate(t)})}),(0,d._)((0,c._)(e),"updateItems",eA()(function(t){return(0,eO.Ci)(t).then(function(t){return e.setState({items:t})})},200)),(0,d._)((0,c._)(e),"updateHeight",function(){if(e.input&&e.div){var t=e.state.fontSize,n=e.props,r=n.line,o=n.onChangeLine,i=e.div.scrollHeight;i>=eR&&r<2?o(2):i<eR&&r>=2&&o(1),t!==eN.smaller?i>eR&&e.setState({fontSize:eN.smaller}):t!==eN.default&&i<=eR&&e.setState({fontSize:eN.default})}}),(0,d._)((0,c._)(e),"validate",function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.value,r=(t=n||"").length<4?{level:"error",text:"至少输入 ".concat(4," 个字"),ignoreInInput:!0,blockSubmit:!0}:t.length>51?{level:"error",text:"已超过 ".concat(t.length-51," 个字"),ignoreInInput:!0,blockSubmit:!0}:t.length>0&&-1===t.indexOf("?")&&-1===t.indexOf("？")?{level:"error",text:"你还没有给问题添加问号",blockSubmit:!0}:(t.match(/(\?|？)/g)||[]).length>1?{level:"warning",text:"多个问题建议拆分"}:null,o=e.props.onError;return o&&o(r),r}),(0,d._)((0,c._)(e),"renderLabel",function(e){return(0,T.BX)("div",{className:"AskTitle-suggestionClose",children:[(0,T.tZ)("span",{children:e}),(0,T.tZ)(C.ZP,{preset:"plain",children:"关闭"})]})}),(0,d._)((0,c._)(e),"renderItem",function(t){var n=e.props.value;return(0,T.BX)("a",{className:"AskTitle-suggestionItemLink",href:"//www.zhihu.com/question/".concat(t.urlToken,"?q=").concat(n),children:[(0,T.tZ)("span",{className:"AskTitle-suggestionItemTitle",dangerouslySetInnerHTML:{__html:t.name}}),(0,T.BX)("span",{className:"AskTitle-suggestionItemDesc",children:[(0,eI.uf)(t.answersCount)," 个回答"]})]},t.urlToken)}),e}return(0,l._)(n,[{key:"componentDidMount",value:function(){var e=this;this.updateHeight(),setTimeout(function(){e.focus();var t=e.props.onFocus;t&&t()})}},{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&(this.updateHeight(),this.validate())}},{key:"render",value:function(){var e=this,t=this.state,n=t.focused,r=t.items,o=t.fontSize,i=this.props,u=i.value,a=i.line,c=i.tip;return(0,T.BX)(v.Fragment,{children:[(0,T.BX)("div",{className:"AskTitle",children:[(0,T.tZ)("div",{className:"AskTitle-text",ref:this.handleDivRef,children:u}),(0,T.tZ)(ey.Z,{value:u,autoFocus:!0,onChange:this.handleChange,inputProps:{required:!0,multiline:!0,rows:a,spread:!0,large:!0,onCompositionEnd:this.handleCompositionEnd,placeholder:"写下你的问题，准确地描述问题更容易得到解答",className:"AskTitle-input",onKeyDown:this.handleKeyDown,style:{fontSize:o}},menuProps:{position:this.position,preventCloseOnTarget:!0,menuContainerClassName:"AskTitle-suggestionPopover",itemClassName:"AskTitle-suggestionItem",menuClassName:"AskTitle-suggestionContainer"},labels:(0,d._)({},eC,"你的问题可能已经有答案"),renderLabel:this.renderLabel,groups:(0,d._)({},eC,r.slice(0,10)),renderItem:this.renderItem,preventOpenOnFocus:!0,onRef:function(t){return e.input=t},autoSelect:!1,onSelect:this.handleSelect,onBlur:this.handleBlur,onFocus:this.handleFocus})]}),(0,T.tZ)(eg,(0,p._)({},n&&(!c||c.ignoreInInput)?{text:(0,T.tZ)(eS.Z,{current:u?u.length:0,max:51,name:""})}:c))]})}}]),n}(v.Component),eD=J(function(e){return{value:e.title||"",tip:e.titleTip}})(eP),eL=n(4627),ew=function(e){(0,_._)(n,e);var t=(0,f._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,d._)((0,c._)(e),"state",{activated:!1,changed:!1}),(0,d._)((0,c._)(e),"updateTopicsFromKeyword",eA()(function(t){var n=e.props,r=n.loadMatchTopics,o=n.onChangeContext;r({text:t}).then(function(e){o({topics:e.payload.data.slice(0,3)})})},200)),(0,d._)((0,c._)(e),"handleChange",function(t){var n=e.props.onChangeContext,r=e.validate(t);r||e.setState({changed:!0}),n({topics:t,topicsTip:r}),r?e.focus():e.deactivated()}),(0,d._)((0,c._)(e),"handleRemove",function(){return O.Z.trackEvent((0,c._)(e),{id:2466,action:"Delete"})}),(0,d._)((0,c._)(e),"deactivated",function(){e.setState({activated:!1})}),(0,d._)((0,c._)(e),"toggleActivated",function(){return e.setState({activated:!e.state.activated})}),(0,d._)((0,c._)(e),"validate",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.value;return t&&0!==t.length?null:{level:"error",text:"至少添加一个话题",blockSubmit:!0}}),(0,d._)((0,c._)(e),"focus",function(){return e.topicsInput&&e.topicsInput.focus()}),e}return(0,l._)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.keyword,r=t.onChangeContext;if(n!==e.keyword){if(!n){r({topics:[]});return}!this.state.changed&&(n.length>=5||Math.abs(e.keyword.length-n.length)>=3)&&this.updateTopicsFromKeyword(n)}}},{key:"render",value:function(){var e=this,t=this.props.value,n=this.state.activated;return(0,T.tZ)(eL.Z,{actived:n,inputProps:{className:"AskTopics-input"},onRef:function(t){e.topicsInput=t},value:void 0===t?[]:t,onChange:this.handleChange,onRemove:this.handleRemove,onToggleActived:this.toggleActivated})}}]),n}(v.Component),eb=(0,A.compose)((0,m.connect)(null,{loadMatchTopics:L.$X}),J(function(e){return{keyword:e.title,value:e.topics||[]}}))(ew),eG=function(e){(0,_._)(n,e);var t=(0,f._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,d._)((0,c._)(e),"state",{trans:!1,actived:!1,line:1}),(0,d._)((0,c._)(e),"zaRef",(0,v.createRef)()),(0,d._)((0,c._)(e),"traceId",y()()),(0,d._)((0,c._)(e),"createAskFormRef",function(t){e.form=t}),(0,d._)((0,c._)(e),"askDetail",(0,v.createRef)()),(0,d._)((0,c._)(e),"handleFocus",function(){e.state.trans&&e.setState({trans:!1})}),(0,d._)((0,c._)(e),"handleChangeLine",function(t){return e.setState({line:t})}),(0,d._)((0,c._)(e),"handleUnload",function(){var t=e.props,n=t.topics,r=t.title,o=t.detail;Z({title:r,topics:n,detail:o&&o.toHTML?o.toHTML():o})}),(0,d._)((0,c._)(e),"transitionKey",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.state,n=e.props,r=n.title,o=n.titleTip,i=n.topics,u=n.detail,a=n.detailTip,c=t.line;return"".concat(!!r,"-").concat(!!u,"-").concat(i&&i.length,"-").concat(!!o,"-").concat(!!a,"-").concat(c)}),(0,d._)((0,c._)(e),"handleSuccess",function(){Z({title:null,topics:null,detail:null});var t=e.props,n=t.onSuccess,r=t.id;e.zaRef.current.trackEvent({action:"Question",eventType:"Click",elementLocation:{type:"Button",moduleId:"published_successful",content:{type:"Question",token:String(r)}}},{configMap:{traceId:e.traceId}}),n?n({id:r}):location.href="//".concat(P.Z.wwwHost,"/question/").concat(r)}),(0,d._)((0,c._)(e),"handleSubmit",function(t){if(O.Z.trackEvent(t.target,{id:2467,action:"Question"}),e.checkSubmitable()){var n=e.props,r=n.brandId,o=n.questionType,i=n.askQuestion,u=n.title,a=n.topics,c=n.detail,s=n.isAnonymous,l=c&&c.toHTML?c.toHTML():c,d=l&&l.html?l.html:l;i({type:B(o)?2:0,brandId:r,title:u,topicUrlTokens:a.map(function(e){return e.urlToken||e.id}),detail:"string"==typeof d?d:"",isAnonymous:s}).then(e.handleSuccess)}}),(0,d._)((0,c._)(e),"setTitle",function(){var t=e.props.setTitle;if(t){var n=e.props.currentUser.isOrg,r=e.props.questionType;n&&(B(r)?t("创建品牌提问",(0,T.BX)("p",{children:["创建前请先与商务确认订单，如未确认联系"," ",(0,T.tZ)("a",{href:"mailto:ad@zhihu.com",children:"ad@zhihu.com"})]})):t("创建社区提问",(0,T.BX)("div",{children:["描述精确的问题更易得到解答",(0,T.tZ)("a",{href:"/question/19806261",target:"_blank",children:"知乎社区提问规范"})]}))),t("写下你的问题","描述精确的问题更易得到解答")}}),(0,d._)((0,c._)(e),"canExit",function(){var t=e.askDetail&&e.askDetail.current;return e.handleUnload(),t&&t.canExit()}),(0,d._)((0,c._)(e),"checkSubmitable",function(){var t=e.props,n=t.titleTip,r=t.topicsTip;if(n&&n.blockSubmit)return!1;var o=e.askDetail&&e.askDetail.current;return!(o&&o.validateAndNotice())&&(!r||!r.blockSubmit)}),(0,d._)((0,c._)(e),"disabled",function(){var t=e.props,n=t.title,r=t.titleTip,o=t.topicsTip,i=t.topics;return!n||r&&r.blockSubmit||!(i&&i.length)||o&&o.blockSubmit}),(0,d._)((0,c._)(e),"shouldToggleTrans",function(){if(e.form){var t=e.form.scrollHeight<=327;t&&!e.state.trans?e.setState({trans:!0}):!t&&e.state.trans&&e.setState({trans:!1})}}),(0,d._)((0,c._)(e),"hasVideo",function(){var t=e.askDetail&&e.askDetail.current;return t&&t.hasVideo()}),e}return(0,l._)(n,[{key:"componentDidMount",value:function(){var e,t,n=this;null===(e=this.props.writeShield)||void 0===e||null===(t=e.setOnModalClose)||void 0===t||t.call(e,function(){var e,t;null===(t=(e=n.props).onClose)||void 0===t||t.call(e)}),this.props.onChangeContext({title:k().get(M.title)||"",detail:F(),topics:k().get(M.topics)||[]},this.checkSubmitable),this.setTitle(),this.timeout=setTimeout(function(){n.setState({actived:!0}),n.shouldToggleTrans()},300),this.props.imperativeRef&&(this.props.imperativeRef.current={canExit:this.canExit.bind(this)})}},{key:"componentDidUpdate",value:function(e,t){this.transitionKey(t)!==this.transitionKey()&&this.state.actived&&this.shouldToggleTrans()}},{key:"componentWillUnmount",value:function(){this.timeout&&clearTimeout(this.timeout),this.props.imperativeRef&&(this.props.imperativeRef.current=null)}},{key:"render",value:function(){var e=this.state,t=e.trans,n=e.line,r=this.props,o=r.questionType,i=r.brandId,u=r.title,a=r.detail,c=r.topics,s=r.isAnonymous,l=B(o),d=(0,T.BX)("div",{className:"Ask-items",children:[(0,T.BX)("div",{className:h()("Ask-item","Ask-titleWrapper"),children:[(0,T.tZ)(q,{isAnonymous:s,questionType:o,brandId:i,css:{float:"left",marginTop:"3px",marginRight:"16px"}}),(0,T.tZ)("div",{className:"Ask-title",children:(0,T.tZ)(eD,{line:n,onChangeLine:this.handleChangeLine})})]}),(u||a||!!(c&&c.length))&&(0,T.tZ)("div",{className:"Ask-item",children:(0,T.tZ)(ep,{ref:this.askDetail,canUpload:!s,onFocus:this.handleFocus,onBlur:this.shouldToggleTrans})}),(u||a||!!(c&&c.length))&&(0,T.tZ)("div",{className:"Ask-item",children:(0,T.tZ)(eb,{})}),(0,T.tZ)(R,{onUnload:this.handleUnload})]});return(0,T.BX)("form",{ref:this.createAskFormRef,className:"Ask-form",onSubmit:function(e){return e.preventDefault()},noValidate:!0,children:[(0,T.tZ)(S.pS,{ref:this.zaRef}),l&&(0,T.BX)("div",{className:"Ask-header",children:[(0,T.tZ)(et,{}),(0,T.tZ)(ee,{})]}),t?(0,T.tZ)(g.Z,{transitionKey:this.transitionKey(),children:d}):(0,T.tZ)("div",{children:d}),(0,T.BX)("div",{className:"Ask-footer",children:[!l&&(0,T.tZ)(ev,{hasVideo:this.hasVideo}),(0,T.tZ)("div",{className:"Ask-footer-buttonWrapper",children:(0,T.tZ)(S.$U,{as:C.ZP,zaType:"Button",zaText:!0,zaAction:"Question",zaModuleId:"published_button",extra:{configMap:{traceId:this.traceId,type:"Question",publish_type:"newPublish"}},preset:"primary",color:"blue",disabled:this.disabled(),onClick:this.handleSubmit,children:"发布问题"})})]})]})}}]),n}(v.Component),eU=(0,A.compose)((0,D.ZP)({init:!0,getScene:function(){return{type:"question"}}}),X(),(0,m.connect)(function(e){return(0,p._)({},e.common.ask)},{askQuestion:L.jt}))(eG),ek=n(86616),eM=n(47842),eF=n(85576),eZ=n(90381),eB=n(99878),eH=function(e){(0,_._)(n,e);var t=(0,f._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,d._)((0,c._)(e),"handleRefresh",function(){Promise.resolve(e.props.fillCurrentUserIfNeeded(["adType"])).then(e.handleCommercialSelect)}),(0,d._)((0,c._)(e),"handleNormalSelect",function(){return e.props.onSelect("normal")}),(0,d._)((0,c._)(e),"handleCommercialSelect",function(){var t=e.props,n=t.adType,r=t.onSelect;if("normal"===n)return ei.Z.alert((0,T.BX)("p",{children:["请发邮件至 ",(0,T.tZ)("a",{href:"mailto:ad@zhihu.com",children:"ad@zhihu.com"})," ","申请，标题为「申请品牌提问 - 账号名称」。我们会在 1 个工作日内联系你。"]}),{title:"暂无权限"});if("invited"===n){var o=e.props.currentUser.urlToken;return(0,el.y)("你尚未激活广告账号",{content:(0,T.tZ)("div",{children:"激活广告账号后即可创建品牌提问"}),text:{ok:"激活广告账号",cancel:"已激活，继续创建"}}).then(function(){return window.open("https://e.zhihu.com/activate-advertiser?rf=createBrandQuestion&urlToken=".concat(o),"_blank")},e.handleRefresh)}r("commercial")}),e}return(0,l._)(n,[{key:"componentDidMount",value:function(){var e=this.props.setTitle;e&&e("选择提问类型",(0,T.tZ)("a",{className:"QuestionCategory-link",href:"/organization/ophelp/faq/19",target:"_blank",children:"如何选择？"}))}},{key:"render",value:function(){return(0,T.BX)("div",{className:"QuestionCategorySelect",children:[(0,T.tZ)(n.Item,{onClick:this.handleNormalSelect,title:"社区提问",desc:"公共提问，社区用户共同参与问题编辑和管理，适合发起公共讨论。"}),(0,T.tZ)(n.Item,{onClick:this.handleCommercialSelect,title:"品牌提问",desc:(0,T.BX)("span",{children:["私有提问，由您自主管理问题展示和回答展示，适合承载官方活动。这是一款付费产品。",(0,T.tZ)("a",{href:"https://www.zhihu.com/introduction/brand_question",children:"了解更多"})]})})]})}}]),n}(v.Component);(0,d._)(eH,"Item",function(e){var t=e.onClick,n=e.title,r=e.desc;return(0,T.BX)("div",{role:"button",tabIndex:0,className:"AskOrgSelect-item",onClick:t,children:[(0,T.BX)("div",{className:"AskOrgSelect-ItemContent",children:[(0,T.tZ)("div",{className:"AskOrgSelect-itemTitle",children:n}),(0,T.tZ)("div",{className:"AskOrgSelect-itemDesc",children:r})]}),(0,T.tZ)(eB.N,{size:"2em"})]})});var eq=(0,A.compose)((0,m.connect)(function(e){return{currentUser:(0,G.ib)(e)}},{fillCurrentUserIfNeeded:G.sF}))(eH),ex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.userType,n=e.adType;return"organization"===t||"registered"===n},eV=function(e){(0,_._)(n,e);var t=(0,f._)(n);function n(){var e;return(0,s._)(this,n),e=t.apply(this,arguments),(0,d._)((0,c._)(e),"state",{selectShown:e.props.createBrandQuestion,askShown:!1,questionType:"normal"}),(0,d._)((0,c._)(e),"askRef",(0,v.createRef)()),(0,d._)((0,c._)(e),"toggleSelectShown",function(){return e.setState({selectShown:!e.state.selectShown})}),(0,d._)((0,c._)(e),"toggleAskShown",function(t){return e.setState({askShown:null!=t?t:!e.state.askShown})}),(0,d._)((0,c._)(e),"setTitle",function(t,n){return e.setState({title:t,subtitle:n})}),(0,d._)((0,c._)(e),"handleClose",function(){if(O.Z.trackEvent((0,c._)(e),{id:2463,action:"Close"}),e.askRef.current)return Promise.resolve(e.askRef.current.canExit()).then(function(){return e.toggleAskShown(!1)}).catch(function(){return null});e.toggleAskShown(!1)}),(0,d._)((0,c._)(e),"handleClick",e.props.authRequired(function(t){return e.props.realNameRequired(function(){var n,r;(null===(n=e.props.children)||void 0===n?void 0:n.props.onClick)&&(null===(r=e.props.children)||void 0===r||r.props.onClick(t)),e.props.canCurrentAskBrandQuestion?e.toggleSelectShown():e.toggleAskShown()})()})),(0,d._)((0,c._)(e),"handleSelect",function(t){e.setState({questionType:t}),"commercial"===t?e.props.loadBrands().then(function(){return e.toggleAskShown()}):e.toggleAskShown()}),(0,d._)((0,c._)(e),"handleSuccess",function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).id,n=e.props,r=n.askHandleSuccess,o=n.router;e.toggleAskShown(),o.push("//".concat(P.Z.wwwHost,"/question/").concat(t)),null==r||r()}),e}return(0,l._)(n,[{key:"componentDidMount",value:function(){(0,this.props.fillCurrentUserIfNeeded)(["adType"]),this.props.imperativeRef&&(this.props.imperativeRef.current={click:this.handleClick})}},{key:"render",value:function(){var e=this.state,t=e.selectShown,n=e.askShown,r=e.questionType,o=e.title,i=e.subtitle,u=this.props,a=u.children,c=u.currentUser;return(0,T.BX)(T.HY,{children:[a&&(0,v.cloneElement)(a,{onClick:this.handleClick}),(0,T.tZ)(eM.Z,{size:"large",maskClosable:!1,onClose:this.handleClose,children:n&&(0,T.tZ)(eU,{imperativeRef:this.askRef,questionType:r,onSuccess:this.handleSuccess,onClose:this.handleClose})}),(0,T.tZ)(eM.Z,{title:o,subtitle:i,onClose:this.toggleSelectShown,children:t&&(0,T.tZ)(eq,{adType:c&&c.adType,onSelect:this.handleSelect,setTitle:this.setTitle})})]})}}]),n}(v.Component),ez=(0,A.compose)(ek.withRouter,eF.Z,eZ.ru,(0,m.connect)(function(e,t){var n;return{createBrandQuestion:!!((n=t.location)&&n.query&&"createBrandQuestion"===n.query.rf),canCurrentAskBrandQuestion:ex((0,G.ib)(e)),currentUser:(0,G.ib)(e)}},{loadBrands:Q.R8,fillCurrentUserIfNeeded:G.sF}))(eV)},33722:function(e,t,n){"use strict";n.d(t,{GR:function(){return q},xu:function(){return $},H_:function(){return H},Ay:function(){return j},WD:function(){return J},Zy:function(){return K},AN:function(){return W},aF:function(){return Y},Yj:function(){return V},CF:function(){return Q},pr:function(){return X},gM:function(){return er},Oo:function(){return ei},_P:function(){return eo},vh:function(){return eu},Ep:function(){return et},er:function(){return en},Gf:function(){return ee},zt:function(){return x}});var r,o=n(87320),i=n(55164),u=n(49899),a=n(19774),c=n(37742),s=n(87752),l=n(16839),d=n(33849),_=n(95826),p=n(14888),f=n(42951),T=n(7209),E=n(50130),h=n(87363),v=n.n(h),m=n(66980),A=Object.assign,I=Object.assign,y=Object.assign,O=Object.assign,S=Object.assign,g=Object.assign,C=Object.assign,N=Object.assign,R=Object.assign,P=Object.assign,D=Object.assign,L=Object.assign,w=Object.assign,b=Object.assign,G=function(e){return v().createElement(m.Z,b({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},e),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M.552 6.167h2.945l2.853 6.575 2.865-6.575h5.352v11.666h-2.619V6.593l-5.163 11.24h-.858L.552 6.167Zm15.457 0h2.842c1.376 0 2.492.292 3.237.982.733.678 1.079 1.598 1.079 2.696 0 1.242-.366 2.267-1.16 2.995-.791.726-1.921 1.046-3.3 1.046h-.064v3.947h-2.634V6.167Zm2.634 2.422v2.86h.107c.798 0 1.21-.181 1.405-.399.25-.28.378-.615.378-1.03 0-.47-.131-.807-.36-1.057-.19-.207-.567-.374-1.279-.374h-.251Z",clipRule:"evenodd"}))},U=Object.assign,k=Object.assign,M=Object.assign,F=Object.assign,Z=Object.assign,B=Object.assign,H="5613324000",q="8613324000",x={learning:"创作学院卡片",activities:"创作活动卡片",newQuestions:"创作热点卡片",seaSalt:"海盐计划卡片"},V={pass:"pass",applying:"applying",canDraw:"can_draw",canApply:"can_apply",notActive:"not_active",banned:"banned"},z={vip_coupon:{id:"vip_coupon",name:"盐选会员代金券",icon:G,url:null},vip:{id:"vip",name:"盐选会员卡",icon:G,url:null},enjoy_live_free:{id:"enjoy_live_free",name:"畅享免费 Live",icon:function(e){return v().createElement(m.Z,U({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M22.429 32.336c-1.4.431-2.887.664-4.429.664-8.284 0-15-6.716-15-15C3 9.716 9.716 3 18 3c8.284 0 15 6.716 15 15 0 1.8-.317 3.524-.898 5.123A8.029 8.029 0 0 0 29 22.5c-3.675 0-6.699 2.482-8.346 5.84l-.325.66.325.66c.48.98 1.078 1.885 1.775 2.676ZM11.77 19.907s-.098.128-.044.29c.053.161.24.154.24.154l4.08-.1-1.564 7.714s-.038.138.075.186c.112.047.208-.082.208-.082l8.497-11.009s.098-.127.045-.289c-.054-.162-.241-.154-.241-.154l-4.08.1 1.565-7.715s.037-.137-.075-.185c-.113-.048-.209.082-.209.082L11.77 19.907Z",clipRule:"evenodd"}),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M22 29c1.476-3.007 4.06-5 7-5 2.94 0 5.524 1.993 7 5-1.476 3.007-4.06 5-7 5-2.94 0-5.524-1.993-7-5Zm8.75-.375c0 .958-.784 1.734-1.75 1.734-.967 0-1.75-.776-1.75-1.734s.783-1.734 1.75-1.734c.966 0 1.75.776 1.75 1.734Z",clipRule:"evenodd"}))},url:null},read:{id:"read",name:"读书卡",icon:function(e){return v().createElement(m.Z,L({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"m32.543 31.104-13.772-7.138V10.783c0-.097.055-.186.142-.229l11.36-5.652a.292.292 0 0 1 .422.237l1.098 12.821-1.53.694-.012-.13-9.937 4.546 10.8 5.675-.694-8.225 1.532-.695.946 11.043a.243.243 0 0 1-.355.236Zm-29.087 0 13.772-7.138V10.783a.256.256 0 0 0-.142-.229L5.726 4.903a.292.292 0 0 0-.421.236L4.203 18.006l1.345.61.008-.091 9.937 4.546-10.8 5.674.697-8.263-1.347-.61-.941 10.996a.243.243 0 0 0 .354.236Z",clipRule:"evenodd"}))},url:null},zhihu_vouchers:{id:"zhihu_vouchers",name:"知乎自营代金券",icon:function(e){return v().createElement(m.Z,F({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M5 6a2 2 0 0 0-2 2v5.756a4.502 4.502 0 0 1 0 8.488V28a2 2 0 0 0 2 2h26a2 2 0 0 0 2-2v-5.756a4.502 4.502 0 0 1 0-8.488V8a2 2 0 0 0-2-2H5Zm10.523 6.962a.75.75 0 1 0-1.046 1.076l2.773 2.695v1.121h-3a.75.75 0 0 0 0 1.5h3V22.5a.75.75 0 0 0 1.5 0v-3.146h3a.75.75 0 0 0 0-1.5h-3v-1.12l2.773-2.696a.75.75 0 1 0-1.046-1.076L18 15.371l-2.477-2.409Z",clipRule:"evenodd"}))},url:null}},K=(0,i._)({"0513324000":{id:"0513324000",name:"内容分析",icon:a.Z,url:"/creator/analytics"},5713324e3:{id:"5713324000",name:"近期热点",icon:function(e){return v().createElement(m.Z,P({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",d:"M30 20.24c0 6.218-5.373 11.26-12 11.26S6 26.458 6 20.24c0-2.052.693-3.975 1.714-5.631 1.199-1.944 2.572-2.703 4.286-4.722 1.714-2.018 2.25-4.583 2.25-5.387 0-.804 3.393.255 5.464 4.41 2.072 4.157 1.072 6.84 2.786 6.84s1.5-5.488 3.214-4.137C28.334 13.68 30 16.777 30 20.24Z"}))},url:"/creator/hot-question/hot/0/hour"},6713324e3:{id:"6713324000",name:"盐选合作",icon:function(e){return v().createElement(m.Z,A({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M15 31.5c8.284 0 15-1.679 15-3.75 0-1.909-5.706-3.485-13.086-3.72.602-.02 1.214-.03 1.835-.03 8.699 0 15.75 2.015 15.75 4.5S27.448 33 18.75 33c-6.275 0-11.693-1.049-14.225-2.566 2.704.66 6.4 1.066 10.476 1.066Z",clipRule:"evenodd"}),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M25.388 4.324a2 2 0 0 0-2.833.004L3.476 23.52a2 2 0 0 0-.565 1.152l-.603 4.645a.5.5 0 0 0 .554.561l4.695-.547a2 2 0 0 0 1.183-.573L27.86 9.623a2 2 0 0 0-.001-2.827l-2.471-2.472Zm-7.025-.209a1 1 0 0 0-1.415 0l-4.95 4.95a1 1 0 0 0 0 1.414l.178.177a1 1 0 0 0 1.414 0l4.95-4.95a1 1 0 0 0 0-1.414l-.177-.177Z",clipRule:"evenodd"}))},url:"/creator-salt/welfare"},9613324e3:{id:"9613324000",name:"主页置顶",icon:c.Z,url:null},9513324e3:{id:"9513324000",name:"知乎直播",icon:function(e){return v().createElement(m.Z,Z({width:"24",height:"24",viewBox:"0 0 24 24"},e),v().createElement("defs",null,v().createElement("path",{id:"id-1100645874-a",d:"M14.4 2.778c1.988 0 3.6 1.527 3.6 3.412v7.676c0 1.884-1.612 3.412-3.6 3.412H3.6c-1.988 0-3.6-1.528-3.6-3.412V6.19c0-1.885 1.612-3.412 3.6-3.412h10.8ZM7.771 7c-.556 0-1.014.446-1.066 1.017l-.005.108v3.75l.005.108c.052.57.51 1.017 1.066 1.017.165 0 .32-.039.46-.109l.008.005 2.846-1.878A1.13 1.13 0 0 0 11.7 10c0-.397-.196-.746-.492-.949L8.454 7.258A1.037 1.037 0 0 0 7.771 7Zm-.328-3.444L5.361 1.463A.858.858 0 0 1 6.571.249l2.318 2.33L11.204.252a.856.856 0 1 1 1.213 1.21l-2.083 2.094h-2.89Z"})),v().createElement("g",{fill:"none",fillRule:"evenodd"},v().createElement("path",{d:"M0 0h24v24H0z"}),v().createElement("g",{transform:"translate(3 3)"},v().createElement("mask",{id:"id-1100645874-b",fill:"#fff"},v().createElement("use",{xlinkHref:"#id-1100645874-a"})),v().createElement("use",{xlinkHref:"#id-1100645874-a",fill:"currentColor",fillRule:"nonzero"}),v().createElement("g",{fill:"currentColor",mask:"url(#id-1100645874-b)"},v().createElement("path",{d:"M-3-3h24v24H-3z"})))))},url:"/creator/rights-streaming"},2613324e3:{id:"2613324000",name:"知+自选",icon:function(e){return v().createElement(m.Z,B({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M18 33c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C9.716 3 3 9.716 3 18c0 8.284 6.716 15 15 15Zm6.482-14.41a5 5 0 0 0-7.071-7.072.834.834 0 0 0 1.178 1.179 3.333 3.333 0 1 1 4.714 4.714.833.833 0 0 0 1.179 1.178ZM11.518 17.41a5 5 0 0 0 7.071 7.071.833.833 0 0 0-1.178-1.178 3.333 3.333 0 0 1-4.714-4.714.833.833 0 0 0-1.179-1.179Zm3.982-.244a.833.833 0 0 0 0 1.667h1.667V20.5a.833.833 0 1 0 1.666 0v-1.666H20.5a.833.833 0 0 0 0-1.667h-1.667V15.5a.833.833 0 0 0-1.666 0v1.667H15.5Z",clipRule:"evenodd"}))},url:"/creator/zixuan"},1613324e3:{id:"1613324000",name:"好物推荐",icon:s.Z,url:"/creator/mcn"},7413324e3:{id:"7413324000",name:"内容自荐",icon:l.ZP,url:"/creator/recommend"},3713324e3:{id:"3713324000",name:"内容收益",icon:function(e){return v().createElement(m.Z,S({width:"24",height:"24",viewBox:"0 0 24 24"},e),v().createElement("path",{fillRule:"evenodd",d:"M4 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4Zm10.023 4.462a.75.75 0 1 0-1.046 1.076l1.773 1.723v.392H13a.75.75 0 0 0 0 1.5h1.75v1.68a.75.75 0 0 0 1.5 0v-1.68H18a.75.75 0 0 0 0-1.5h-1.75v-.392l1.773-1.723a.75.75 0 1 0-1.046-1.076L15.5 9.898l-1.477-1.436ZM6 8.25a.75.75 0 0 0 0 1.5h4a.75.75 0 0 0 0-1.5H6Zm0 5.25A.75.75 0 0 0 6 15h4a.75.75 0 0 0 0-1.5H6Z",clipRule:"evenodd"}))},url:"/creator/video-support"},3613324e3:{id:"3613324000",name:"招募任务",icon:function(e){return v().createElement(m.Z,w({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M7 7.828C9.003 6.34 11.822 4.5 15 4.5c1.934 0 3.189.729 4.404 1.435 1.14.662 2.246 1.304 3.846 1.304 2.634 0 4.405-.58 6.535-1.278.346-.113.7-.23 1.07-.347a.496.496 0 0 1 .645.474v16.62a.097.097 0 0 1-.043.082c-.44.293-4.2 2.71-8.207 2.71-2.32 0-3.669-.956-4.9-1.827-1.032-.731-1.982-1.404-3.35-1.404-1.608 0-3.43.696-5.123 1.342-1.034.395-2.02.771-2.877.958V31.5a1 1 0 1 1-2 0V6.24a1 1 0 0 1 2 0v1.588Z",clipRule:"evenodd"}))},url:"/creator/recruit-task"},"0713324000":{id:"0713324000",name:"创作贴纸",icon:function(e){return v().createElement(m.Z,g({width:"24",height:"24",viewBox:"0 0 24 24"},e),v().createElement("path",{fillRule:"evenodd",d:"M2 4a1 1 0 0 1 1-1h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4Zm7 4a2 2 0 1 1-4 0 2 2 0 0 1 4 0Zm-3.5 6a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1h-13ZM5 17.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5ZM14.5 6a.5.5 0 0 0-.5.5v3.761a.5.5 0 0 0 .686.465l1.443-.577a1 1 0 0 1 .742 0l1.443.577A.5.5 0 0 0 19 10.26V6.5a.5.5 0 0 0-.5-.5h-4Z",clipRule:"evenodd"}))},url:null},1513324e3:{id:"1513324000",name:"赞赏功能",icon:d.Z,url:"/creator/reward"},1713324e3:{id:"1713324000",name:"关注者画像",icon:function(e){return v().createElement(m.Z,R({width:"24",height:"24",viewBox:"0 0 24 24"},e),v().createElement("path",{fillRule:"evenodd",d:"M16.27 8.611c0 .346-.03.684-.09 1.012a6.264 6.264 0 0 0-4.075 10.612h-8.66c-.434 0-.869-.18-1.153-.527a1.275 1.275 0 0 1-.152-1.393c.518-1.05 1.7-2.26 3.223-3.204a11.542 11.542 0 0 1 3.084-1.341A5.613 5.613 0 0 1 10.66 3a5.611 5.611 0 0 1 5.611 5.611Zm6.015 6.692c.315 0 .573-.256.542-.569a5.697 5.697 0 0 0-5.1-5.1c-.313-.031-.57.227-.57.541v4.558c0 .315.256.57.57.57h4.558Zm-.556.57a5.128 5.128 0 1 1-5.128-5.127v4.627a.5.5 0 0 0 .5.5h4.628Z",clipRule:"evenodd"}))},url:"/creator/followers"},8713324e3:{id:"8713324000",name:"编辑器扩容",icon:function(e){return v().createElement(m.Z,C({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M3 7.5a3 3 0 0 1 3-3h9.133a1.5 1.5 0 0 1 1.175.568l2.67 3.364A1.5 1.5 0 0 0 20.153 9H30a3 3 0 0 1 3 3v16.5a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-21Zm22.5 10.875c.621 0 1.125.504 1.125 1.125v2.063h2.063a1.125 1.125 0 0 1 0 2.25h-2.063v2.062a1.125 1.125 0 0 1-2.25 0v-2.063h-2.063a1.125 1.125 0 0 1 0-2.25h2.063V19.5c0-.621.504-1.125 1.125-1.125Z",clipRule:"evenodd"}))},url:null},3513324e3:{id:"3513324000",name:"品牌特邀",icon:_.ZP,url:"/creator/commercial-task"},9413324e3:{id:"9413324000",name:"自定义推广",icon:p.Z,url:"/creator/custom-promotion"},7513324e3:{id:"7513324000",name:"圆桌主持人",icon:f.Z,url:"/creator/roundtable-host"},2513324e3:{id:"2513324000",name:"知乎 Live",icon:T.Z,url:"/creator/live"},2713324e3:{id:"2713324000",name:"关注者在看",icon:function(e){return v().createElement(m.Z,N({width:"24",height:"24",viewBox:"0 0 24 24"},e),v().createElement("path",{fillRule:"evenodd",d:"M15.408 8.665c0 .887-.203 1.726-.566 2.473-1.79.744-3.253 2.282-4.18 4.188l-.204.419.204.418c.948 1.95 2.456 3.514 4.302 4.238H2.459a1.5 1.5 0 0 1-1.164-.532 1.287 1.287 0 0 1-.154-1.407c.524-1.058 1.716-2.282 3.254-3.234a11.657 11.657 0 0 1 3.114-1.354A5.667 5.667 0 0 1 9.743 3a5.666 5.666 0 0 1 5.665 5.665Zm-3.886 7.08c1.21-2.488 3.328-4.136 5.739-4.136 2.41 0 4.529 1.648 5.739 4.136-1.21 2.487-3.328 4.136-5.74 4.136-2.41 0-4.528-1.649-5.738-4.136Zm7.173-.31a1.435 1.435 0 1 1-2.869 0 1.435 1.435 0 0 1 2.87 0Z",clipRule:"evenodd"}))},url:"/creator/followers"},7713324e3:{id:"7713324000",name:"专属小管家",icon:function(e){return v().createElement(m.Z,M({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",d:"M18 1.5c-7.27 0-13.33 5.17-14.707 12.035A3 3 0 0 0 .75 16.5v6a3 3 0 0 0 3 3h1.5a3 3 0 0 0 3-3v-6a3.001 3.001 0 0 0-1.922-2.8C7.59 8.423 12.337 4.5 18 4.5s10.41 3.923 11.672 9.2a3.001 3.001 0 0 0-1.922 2.8v6c0 .841.346 1.602.904 2.147A10.497 10.497 0 0 1 19.5 30a1.5 1.5 0 0 0 0 3c5.3 0 9.888-3.055 12.097-7.5h.653a3 3 0 0 0 3-3v-6a3 3 0 0 0-2.543-2.965C31.33 6.67 25.269 1.5 18 1.5Z"}))},url:null},6613324e3:{id:"6613324000",name:"复用任务",icon:function(e){return v().createElement(m.Z,D({width:"36",height:"36",fill:"none",viewBox:"0 0 36 36"},e),v().createElement("path",{fill:"#06F",d:"M13.5 3A1.5 1.5 0 0 1 15 1.5h6a1.5 1.5 0 0 1 0 3h-6A1.5 1.5 0 0 1 13.5 3Z"}),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M10.5 3h-3a3 3 0 0 0-3 3v24a3 3 0 0 0 3 3h21a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3h-3a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3Zm2.25 11.25a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm0 9a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm3-10.125a1.125 1.125 0 0 0 0 2.25h10.124a1.125 1.125 0 1 0 0-2.25H15.75ZM14.625 23.25c0-.621.504-1.125 1.125-1.125h10.125a1.125 1.125 0 0 1 0 2.25H15.75a1.125 1.125 0 0 1-1.125-1.125Z",clipRule:"evenodd"}))},url:"/creator/reuse-task"},4713324e3:{id:"4713324000",name:"内容分析高级数据",icon:function(e){return v().createElement(m.Z,I({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},e),v().createElement("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 7.42a1 1 0 0 1 .594-.914l2.393-1.064a4 4 0 0 1 3.683.226l.463.277a2 2 0 0 0 1.923.074l5.828-2.913a1 1 0 0 1 .84-.025l.119.05a1 1 0 0 1 .514 1.337l-.062.135a1 1 0 0 1-.461.477l-5.759 2.88a4 4 0 0 1-3.846-.149l-.392-.235a2 2 0 0 0-1.841-.112L4.703 8.927A.5.5 0 0 1 4 8.47V7.42Zm6.138 2.858c0-.307.335-.497.599-.339.927.557 2.074.6 3.041.117l.027-.013a.402.402 0 0 1 .583.36V18a1 1 0 0 1-1 1h-2.25a1 1 0 0 1-1-1v-7.722Zm-2.591-.801a.5.5 0 0 1 .703.457V18a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-6.297a1 1 0 0 1 .594-.914l2.953-1.312Zm12.255-2.34a.5.5 0 0 1 .724.447V12h-3.598a1.64 1.64 0 0 0-.652.136V9.518a1 1 0 0 1 .553-.894l2.973-1.487ZM16.928 13h4.135c.117 0 .231.032.332.093a.686.686 0 0 1 .244.255l1.296 2.334a.523.523 0 0 1-.081.614l-3.528 3.564a.465.465 0 0 1-.33.14.464.464 0 0 1-.331-.14l-3.52-3.565a.522.522 0 0 1-.082-.612l1.288-2.334a.686.686 0 0 1 .244-.255.642.642 0 0 1 .333-.094Z",clipRule:"evenodd"}))},url:"/creator/analytics/work/all?detailType=profile"},4613324e3:{id:"4613324000",name:"视频推广",url:"/creator/video-distribution",icon:a.Z},8613324e3:{id:"8613324000",name:"图文流量包",url:"/creator/recommend/article-exposure-promotion",icon:l.ZP},5613324e3:{id:"5613324000",name:"流量加油包",url:"/creator/recommend/exposure-promotion",icon:l.ZP},7613324e3:{id:"7613324000",name:"文章发布回答",url:"/creator/manage/creation/article",icon:null},6513324e3:{id:"6513324000",name:"版权服务",url:"/creator/explore/copyright",icon:E.Z},"0613324000":{id:"0613324000",name:"互选任务",url:"https://cheese.zhihu.com/creator/elect/task",icon:function(e){return v().createElement(m.Z,O({width:"18",height:"20",viewBox:"0 0 18 20"},e),v().createElement("path",{fillRule:"evenodd",d:"M2 0h14a2 2 0 0 1 2 2v15.133a1.9 1.9 0 0 1-2.7 1.723l-1.788-.83a2 2 0 0 0-1.796.055l-1.86 1.009a2 2 0 0 1-1.75.076l-2.7-1.171a2 2 0 0 0-1.77.088l-1.386.773A1.513 1.513 0 0 1 0 17.534V2a2 2 0 0 1 2-2Zm8.005 9.055a1.005 1.005 0 0 0 0 2.011h3.99a1.005 1.005 0 0 0 0-2.011h-3.99Zm-1.05-6.033A3.479 3.479 0 0 0 6.5 2.011 3.51 3.51 0 0 0 3 5.531a3.51 3.51 0 0 0 3.5 3.518A3.51 3.51 0 0 0 10 5.53c0-.478-.095-.934-.267-1.35L7.135 7.685a.654.654 0 0 1-.868.17l-1.859-1.14a.662.662 0 0 1-.218-.907.654.654 0 0 1 .902-.22l1.348.827 2.515-3.392Zm-4.95 10.055a1.005 1.005 0 1 0 0 2.011h9.99a1.005 1.005 0 0 0 0-2.011h-9.99Z"}))}},4513324e3:{id:"4513324000",name:"作者经纪",url:"/creator/manager",icon:null},8413324e3:{id:"8413324000",name:"问题推荐",url:null,icon:null},9713324e3:{id:"9713324000",name:"评论置顶",url:null,icon:function(e){return v().createElement(m.Z,y({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},e),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M12.98 2C18.79 2 23 6.746 23 12.015c0 1.682-.49 3.414-1.35 4.997-.16.26-.18.59-.07.902l.67 2.243c.15.541-.31.94-.82.78l-2.02-.6c-.55-.18-.98.05-1.49.361C16.46 21.558 14.64 22 13 22c-1.622 0-3.253-.41-4.713-1.178V19.45a1.978 1.978 0 0 0 1.555-1.164 1.885 1.885 0 0 0-.509-2.196l-2.998-2.598a2.052 2.052 0 0 0-2.67 0l-.492.427A10.699 10.699 0 0 1 3 11.985C3 6.656 7.3 2 12.98 2Zm4.038 11.32a1.103 1.103 0 1 0 0-2.2 1.103 1.103 0 0 0 0 2.2Zm-4.25 0a1.103 1.103 0 1 0 0-2.2 1.103 1.103 0 0 0 0 2.2Zm-3.147-1.103a1.103 1.103 0 0 1-2.205 0 1.103 1.103 0 0 1 2.205 0Z",clipRule:"evenodd"}),v().createElement("path",{fill:"#06F",fillRule:"evenodd",d:"M5.55 14.2a.856.856 0 0 0-1.1 0l-3.198 2.771c-.526.455-.174 1.264.55 1.264h1.025v3.033c0 .404.358.732.8.732h2.745c.443 0 .8-.328.8-.732v-3.033h1.026c.724 0 1.076-.809.55-1.264l-3.197-2.77Z",clipRule:"evenodd"}))}},"0813324000":{id:"0813324000",name:"瓦力保镖",url:"/creator/explore/wall-e",icon:function(e){return v().createElement(m.Z,k({width:"24",height:"24",fill:"none",viewBox:"0 0 24 24"},e),v().createElement("path",{fill:"#056DE8",fillRule:"evenodd",d:"m12.628 1.88 7.837 3.236c.554.23.94.742.99 1.34.124 1.501.29 4.384-.091 5.953-.532 2.185-2.443 8.956-9.364 9.974-6.921-1.018-8.832-7.789-9.364-9.974-.381-1.57-.215-4.452-.091-5.954.05-.597.435-1.11.99-1.339l7.837-3.237a1.645 1.645 0 0 1 1.256 0Zm3.927 8.125a.75.75 0 0 0-1.11-1.01l-4.425 4.868-2.198-2.598a.75.75 0 1 0-1.145.97l2.53 2.988a1.05 1.05 0 0 0 1.578.028l4.77-5.246Z",clipRule:"evenodd"}))}}},z),W={analytics:K["0513324000"],hotSpot:K["5713324000"],advancedCreation:K["6713324000"],dynamicTopping:K["9613324000"],drama:K["9513324000"],zixuan:K["2613324000"],mcn:K["1613324000"],recommend:K["7413324000"],contentRevenue:K["3713324000"],recruitTask:K["3613324000"],pasterPaper:K["0713324000"],reward:K["1513324000"],followProfile:K["1713324000"],commercialTask:K["3513324000"],customPromotion:K["9413324000"],roundtableHost:K["7513324000"],live:K["2513324000"],followInteraction:K["2713324000"],yourHelp:K["7713324000"],reuseTask:K["6613324000"],editorExpansion:K["8713324000"],analyticsAdvancedData:K["4713324000"],videoDistribution:K["4613324000"],articleExposurePromotion:K["8613324000"],exposurePromotion:K["5613324000"],articleToAnswer:K["7613324000"],copyright:K["6513324000"],contentTask:K["0613324000"],manager:K["4513324000"],question:K["8413324000"],commentTopping:K["9713324000"]},Y={vip_coupon:"在获得盐选会员代金券后，可前往前往手机端「创作中心」-「权益中心」领取。点击领取按钮后，会提示您去使用。点击去使用按钮，即可在「我的」-「钱包」-「礼券」中查看并使用。",vip:"在获得盐选会员卡后，可前往前往手机端「创作中心」-「权益中心」领取。点击领取按钮后，卡券权益会自动生效，此时按钮会变更为已使用。点击已使用按钮，即可进入会员推荐页面，体验会员权益。",enjoy_live_free:"在获得优质 Live 免费畅享权益后，可前往手机端「创作中心」-「权益中心」领取。点击领取按钮后，Live 讲座会自动发放，此时卡券变更为已使用状态，点击去查看按钮，即可进入会员-我的书架页面，观看获取的 Live 讲座。（受版权时效等因素影响，部分未领取的精选 Live 可能存在下架风险， 请及时关注权益内容更新）",read:"在获得读书卡后，可前往前往手机端「创作中心」-「权益中心」领取。点击领取按钮后，卡券权益会自动生效，此时按钮会变更为已使用。点击已使用按钮，即可进入读书会页面，体验会员权益。",zhihu_vouchers:"在获得知乎自营代金券后，可前往前往手机端「创作中心」-「权益中心」领取。点击领取按钮后，会提示您去使用。点击去使用按钮，即可进入知友书咖馆页面，进行消费。"},Q=(r={},(0,o._)(r,V.pass,[W.pasterPaper.id]),(0,o._)(r,V.canDraw,(0,u._)(Object.keys(z))),r),j=[W.mcn.id,W.contentRevenue.id,W.articleToAnswer.id,W.zixuan.id,W.live.id,W.recruitTask.id,W.reuseTask.id,W.commercialTask.id],X=[W.mcn.id,W.exposurePromotion.id,W.articleExposurePromotion.id,W.videoDistribution.id,W.reuseTask.id,W.recruitTask.id,W.contentTask.id,W.manager.id,W.articleToAnswer.id],J=[W.advancedCreation.id,W.commercialTask.id,W.contentTask.id,W.reuseTask.id,W.recruitTask.id],$=[W.mcn.id],ee=function(e){return!!e&&e.status===V.pass},et=function(e){return!!e&&e.status===V.canApply},en=function(e){return!!e&&[V.pass,V.canApply,V.canDraw,V.applying].includes(e.status)},er="https://hm.baidu.com/hm.js?df16839cf44aeee94fb85ae1d3c1e17b",eo="https://hm.baidu.com/hm.js?55ffe4b16dededb7fc296d525e1a68f3",ei=function(e){return{script:[{src:e,async:"async"}]}},eu="https://zhstatic.zhihu.com/geo/china-1651043096005.js"},97232:function(e,t,n){"use strict";n.d(t,{sJ:function(){return r}});var r=function(){if("undefined"==typeof window)return"https://bvip.zhihu.com";var e=window.location.host,t=e.includes(".test")||e.includes(".dev")?"dev":"com",n="https://bvip.zhihu.".concat(t),r=/--box-(\d+)--/g.exec(e);return r&&(n="https://ad-business-vip-web--box-".concat(r[1],"--bvip-zhihu-").concat(t,".zpres.zhihu.").concat(t,"/")),n}},35986:function(e,t,n){"use strict";n.d(t,{_d:function(){return c},ni:function(){return u},zM:function(){return a}});var r=n(85879),o=n(12506),i=n(92995),u={REWARD:"reward",EXPENSE:"expense"},a=4009,c=[{key:"detail",dataIndex:"detail",render:function(e){return(0,r.tZ)("div",{className:"ToolsRecommendTimesModal-tableContentTitle",children:(0,r.tZ)("span",{"data-tooltip":e,children:e})})}},{key:"created",dataIndex:"created",render:function(e){return(0,r.tZ)("div",{className:"ToolsRecommendTimesModal-tableContentDate",children:o.Z(i.Z(e),"MM-dd HH:mm:ss")})}},{key:"timesChange",dataIndex:"timesChange",title:"",render:function(e){return(0,r.tZ)("div",{className:"ToolsRecommendTimesModal-tableContentTimes",children:e>0?"+".concat(e):e})}}]},35332:function(e,t,n){"use strict";n.d(t,{s:function(){return r}});var r=10},20312:function(e,t,n){"use strict";n.d(t,{Y_:function(){return R},sk:function(){return N},nP:function(){return P}});var r,o=n(87320),i=n(55164),u=n(57477),a=n(49899),c=n(17924),s=n(34473),l=n(48725),d=n(35597),_=n(28363),p=n(19774),f=n(64439),T=n(1442),E=n(27548),h=n(33722),v=n(87363),m=n.n(v),A=n(66980),I=Object.assign,y=Object.assign,O=[h.AN.analytics.id,h.AN.hotSpot.id,h.AN.advancedCreation.id,h.AN.contentRevenue.id,h.AN.followProfile.id,h.AN.mcn.id],S=(r={},(0,o._)(r,h.Yj.banned,[h.AN.recommend.id]),(0,o._)(r,h.Yj.notActive,[h.AN.recommend.id].concat((0,a._)(O))),(0,o._)(r,h.Yj.canApply,[h.AN.commercialTask.id,h.AN.zixuan.id,h.AN.recommend.id].concat((0,a._)(O))),(0,o._)(r,h.Yj.canDraw,[h.AN.commercialTask.id,h.AN.zixuan.id,h.AN.recommend.id].concat((0,a._)(O))),(0,o._)(r,h.Yj.applying,[h.AN.commercialTask.id,h.AN.zixuan.id].concat((0,a._)(O))),r),g=function(e){var t=e.realRights,n=e.isOffice,r=void 0!==n&&n,o=e.menuRights,a=void 0===o?[]:o;return(void 0===t?[]:t).map(function(e){var t=a.find(function(t){return t.id===e.id});return t&&(0,u._)((0,i._)({},t,e),{isExternal:h.WD.includes(t.id),exactActive:h.xu.includes(t.id)})}).filter(function(e){var t=e||{},n=t.officeOnly,o=void 0!==n&&n,i=t.status,u=t.id;return i&&S[i]&&S[i].includes(u)?!o||r:(!o||r)&&(0,h.Gf)(e)})},C=function(e){var t=e.applyStatus||{},n=t.creatorCLevel,r=t.level,o="";return(2===n&&(r<4?o="https://www.zhihu.com/xen/market/ecom-page/1533181011139104769":r>=4&&r<=6?o="https://www.zhihu.com/xen/market/ecom-page/1533172762638524416":r>6&&(o="https://www.zhihu.com/xen/market/ecom-page/1529931735869829121")),n>2&&(o="https://www.zhihu.com/xen/market/ecom-page/1501987192373587968?utm_source=chuangzuozhongxin"),o)?{name:"海盐计划",url:o,isExternal:!0,zaModuleId:"seasalt_plan_btn"}:null},N=[{icon:s.y,name:"主页",url:"/creator",exactActive:!0},{icon:l.E,name:"创作灵感",subMenu:function(e,t){var n=g({realRights:e,isOffice:t,menuRights:[h.AN.hotSpot]});return[{name:"问题推荐",icon:d.Z,url:"/creator/featured-question"}].concat((0,a._)(n),[{name:"潜力问题",url:"/creator/potential-question/potential",isNewBefore:new Date("2021-06-30")},{name:"问题搜索",url:"/creator/search-question"}])}},{icon:_.D,name:"内容管理",subMenu:function(){return[{name:"内容管理",url:"/creator/manage/creation",isNewBefore:new Date(2021,9,22)},{name:"评论管理",url:"/creator/manage/comment",isNewBefore:new Date(2021,4,1)}]}},{icon:p.E,name:"数据分析",hideWhenHasNoSubMenus:!0,subMenu:function(e,t,n){var r=n.hasNewIncome,o=g({realRights:e,isOffice:t,menuRights:[h.AN.analytics]});return(0,a._)(o).concat([{name:"收益分析",url:"/creator/income-analysis?pageSource=creator_center_index_sidebar",showRedDot:r,isActive:function(e){return["/creator/income-analysis","/creator/knowledge-income","/creator/knowledge-tasks","/creator/video-support"].includes(e)}},{name:"关注者分析",url:"/creator/followers"}])}},{icon:c.Z,name:"芝士平台",clickBtnInfo:{text:"前往",handleClick:function(){window.open("https://cheese.zhihu.com/creator")},url:"https://cheese.zhihu.com/creator"},subMenu:function(e,t){return g({realRights:[h.AN.commercialTask,h.AN.recruitTask,h.AN.reuseTask,h.AN.contentTask,h.AN.mcn],isOffice:t,menuRights:e})}},{icon:function(e){return m().createElement(A.Z,I({width:"18",height:"18",fill:"none",viewBox:"0 0 18 18"},e),m().createElement("path",{fill:"#444",fillRule:"evenodd",d:"M4.666 2.074a.566.566 0 0 1 .486-.274h7.568c.2 0 .386.105.487.276a.556.556 0 0 1 .007.557l-1.19 2.128c2.594 1.009 4.176 3.293 4.176 5.77 0 1.685-.747 3.123-2.04 4.125C12.88 15.651 11.088 16.2 9 16.2s-3.879-.549-5.16-1.544c-1.293-1.002-2.04-2.44-2.04-4.124 0-2.447 1.502-4.701 4.046-5.725l-1.191-2.18a.557.557 0 0 1 .011-.553Zm2.6 5.481a.568.568 0 0 1 .798.042L9 8.63l.936-1.032a.568.568 0 0 1 .798-.042c.232.208.25.562.042.792l-1.21 1.335v.345h1.129c.312 0 .565.251.565.56 0 .31-.253.561-.565.561h-1.13v1.308c0 .31-.253.56-.565.56a.563.563 0 0 1-.565-.56v-1.308h-1.13a.563.563 0 0 1-.565-.56c0-.31.253-.561.565-.561h1.13v-.345L7.224 8.347a.557.557 0 0 1 .042-.792Z",clipRule:"evenodd"}))},name:"收益变现",hideWhenHasNoSubMenus:!0,subMenu:function(e,t){return g({realRights:e,isOffice:t,menuRights:[h.AN.advancedCreation,h.AN.reward,h.AN.live]})}},{icon:f.L,name:"权益中心",subMenu:function(){return[{name:"创作权益",url:"/creator/account/rights"},{name:"创作分明细",url:"/creator/account/growth-level"}]}},{icon:T.Y,name:"创作成长",subMenu:function(e,t,n){return[C({applyStatus:n.applyStatus}),{name:"活动中心",url:"/creator/activity"},{name:"创作者学院",url:"/creator/school"},{name:"创作榜单",url:"/creator/creative-list"}].filter(Boolean)}},{icon:function(e){return m().createElement(A.Z,y({width:"18",height:"18",fill:"none",viewBox:"0 0 18 18"},e),m().createElement("path",{fill:"#444",d:"M15 10.12c0 3.11-2.686 5.63-6 5.63s-6-2.52-6-5.63c0-1.026.347-1.987.857-2.816.6-.972 1.286-1.351 2.143-2.36.857-1.01 1.125-2.292 1.125-2.694 0-.402 1.696.128 2.732 2.205 1.036 2.078.536 3.42 1.393 3.42s.75-2.744 1.607-2.068C14.167 6.839 15 8.388 15 10.12Z"}))},name:"内容推广",hideWhenHasNoSubMenus:!0,subMenu:function(e,t,n){var r=n.menusShowControlByServer,o=e.find(function(e){return e.id===h.AN.recommend.id}),i=e.find(function(e){return e.id===h.AN.exposurePromotion.id}),u=e.find(function(e){return e.id===h.AN.articleExposurePromotion.id}),c=(0,h.Gf)(o)||(0,h.Gf)(i)||(0,h.Gf)(u)?g({realRights:e,isOffice:t,menuRights:[h.AN.recommend]}).map(function(e){return(0,h.Gf)(o)||(e.url=(0,h.Gf)(u)?h.AN.articleExposurePromotion.url:h.AN.exposurePromotion.url),e}):[],s=g({realRights:e,isOffice:t,menuRights:[h.AN.videoDistribution,h.AN.customPromotion]});return(0,a._)(r.bVipRecomend?[{name:"知享",url:"/creator/bvip-recommend"}]:[]).concat((0,a._)(c),(0,a._)(s))}},{icon:E.k,name:"个人中心",subMenu:function(e,t){var n=g({realRights:e,isOffice:t,menuRights:[h.AN.roundtableHost]});return[{name:"创作设置",url:"/creator/editor-setting?from=creator",hasQuery:!0},{name:"账号信息",url:"/creator/account/settings",isNewBefore:new Date("2022-10-10")},{name:"MCN 管理",url:"/creator/mcn-manage"}].concat((0,a._)(n),[{name:"常见问题",url:"/creator/explore/academy"},{name:"瓦力保镖",url:"/creator/explore/wall-e"},{name:"版权服务",url:"/creator/explore/copyright"}])}}],R={ICON_FLAT:"https://zhihu-live.zhimg.com/namespace_1001/static/20210423/237a595e8a3454f3c74a5f587c7bf4a8.png",ICON_RISE:"https://zhihu-live.zhimg.com/namespace_1001/static/20210423/d4c4246f9eda06f25e2f9bb9d5bfdd59.png",ICON_DECLINE:"https://zhihu-live.zhimg.com/namespace_1001/static/20210423/3e1821b2482307dcf4d673a9c2129671.png"},P={WEB_AUTHOR_RECOMMEND:"creator_web",WEB_AUTHOR_QUESTION_RECOMMEND:"web_author_recommend"}},75236:function(e,t,n){"use strict";n.d(t,{OV:function(){return a},kJ:function(){return c}});var r=n(35273),o=n(35695),i=n(12506),u=n(9539);function a(e){return(0,r.Z)(e,(0,o.Z)())}function c(e){if("number"==typeof e)return(0,i.Z)((0,u.Z)((0,o.Z)(),e),"yyyy-MM-dd")}},26512:function(e,t,n){"use strict";n.d(t,{A9:function(){return c},kl:function(){return s},wQ:function(){return a}});var r=n(55164),o=n(31824),i=n(33722),u=n(7407),a=(0,o.P1)(function(e){return e.creators.home.newRights},u.Xj,function(e,t){return e.map(function(e){var n=Object.values(i.Zy).find(function(t){return t.id===e.id});return!n||(null==n?void 0:n.officeOnly)&&!t?null:(0,r._)({},n,e)}).filter(Boolean)}),c=(0,o.P1)(a,function(e){return e.filter(function(e){return e.needShow})}),s=1001},61879:function(e,t,n){"use strict";n.d(t,{getCreateStore:function(){return T}});var r=n(49899),o=n(94057),i=n(62108),u=n(34959),a=n(28953),c=n(71549),s=n.n(c),l=function(){return{}},d=function(){return function(e){return function(t){if(t.FAILSAFE){var n=e(t=s()(t,{NOTIFICATION:!1,API:{fetchOptions:{failsafe:!0,timeout:t.FAILSAFE.timeout||1e3}}}));return n.catch?n.catch(l):n}return e(t)}}},_=n(84),p=n(25364);function f(){return function(e){return function(t){if(!t.payload)return e(t);var n=t.payload,r=n.rootComment,o=n.topComments;if(r){var i=(0,_.Fv)(r,a.l.COMMENT_V2),u=i.entities,c=i.result;t.rootComment=c,t.entities=(0,p.Z)(t.entities,u)}if(o){var s=o.data,l=o.paging,d=(0,_.Fv)(s,a.l.COMMENT_ARRAY_V2),f=d.entities,T=d.result;t.topComments={result:T,paging:l},t.entities=(0,p.Z)(t.entities,f)}return e(t)}}}function T(e){return function(t,n){var c=n.http,s=n.root,l=[i.Z.withExtraArgument({fnRefs:{}}),d,(0,u.Z)(c,s),a.Z,f];return(0,o.createStore)(e,t,o.applyMiddleware.apply(void 0,(0,r._)(l)))}}},75597:function(e,t,n){e.exports=n(61879)},45732:function(e,t,n){"use strict";n.d(t,{A$:function(){return v},Hf:function(){return T},WY:function(){return f},jS:function(){return E}});var r=n(15030),o=n(55164),i=n(57477),u=n(54231),a=n(87363),c=n(61533),s=n(69383),l=n(43384),d=n(87804),_=n(74351),p=function(){return null};function f(e){return e?fetch(e,{mode:"no-cors"}).catch(p):Promise.reject(Error("request but no url"))}function T(e,t){var n,_=t.ZhihuHybrid,p={userId:null==e?void 0:e.uid,memberHashId:null==e?void 0:e.id,userType:{people:"People",organization:"Org"}[null==e?void 0:e.userType],orgStatus:{normal:"Normal",forbidden:"Forbidden",reject:"Reject",audit:"Audit",register:"Register"}[null==e?void 0:e.orgStatus]},f=(0,i._)((0,o._)({},p),{sdkVersion:"4.13.0",normalizeElement:function(e){return(0,r._)(e,a.Component)?(0,c.findDOMNode)(e):e},shouldAutoTrackPageShow:!1});_||(f.pageProfile="zhihu-web");var T=(0,i._)((0,o._)({},p),{enableDyeing:!0}),E=new Promise(function(e){n=e});return!function(e){if(t.ZhihuHybrid){var n=/\b(from=home_tab|in_app_home_tab=|position=tab)\b/.test(location.search);if(t.Android&&n)var r=(0,d.Z)("base/viewDidAppear").listen(function(){r(),e()});else d.Z.onceViewAppeared().finally(e)}else e()}(function(){s.Z.init(f).then(function(){var e=new window.zap.Client(T,{experimentalProto3:!0});(0,l.U3)(e),"function"==typeof n&&(null==n||n())}).catch(function(e){throw u.ZP.increment("za_helper.init_failed.count"),e})}),E}var E={onEnter:function(e){if((0,_.isBrowser)()){var t=e.routes[e.routes.length-1];t.zaNotTrackPageShow||s.Z.trackPageShow({id:t.zaPageShowId})}},onChange:function(e,t){var n=t.routes[t.routes.length-1];n.zaNotTrackPageShow||s.Z.trackPageShow({id:n.zaPageShowId})}},h=["pin","comment","live","search_course","search_special","album"],v=function(e,t){return(t=String(t),"people"===e)?{member_hash_id:t}:h.includes(e)?{id:t}:{token:t}}},16563:function(e,t,n){"use strict";n.d(t,{Kz:function(){return l},M1:function(){return a},Qz:function(){return s},UJ:function(){return u},sO:function(){return c}});var r=n(67516),o=n.n(r),i="enabled_follower_n_days",u=function(){o().set(i,!0)},a=function(){return o().get(i)},c="follower_n_days",s=function(e,t){if(a())return e;var n,r=null===(n=e.find(function(e){return e.permission===c}))||void 0===n?void 0:n.checked;return!a()&&r?(u(),e):"answer"===t||e.find(function(e){return"follower"===e.permission})?e.filter(function(e){return e.permission!==c}):e.map(function(e){return e.permission===c?{permission:"follower",text:"关注我的人能评论",checked:!1,disable:!1,disable_alert:""}:e})},l="censor"},17518:function(e,t,n){"use strict";function r(e){return Promise.all([n.e(6649),n.e(4408)]).then(n.t.bind(n,38343,23)).then(function(t){return t.createMqttClient(e)})}n.d(t,{Z:function(){return r}})},48800:function(e,t,n){"use strict";n.d(t,{Po:function(){return a},_q:function(){return c},fG:function(){return l},sC:function(){return s}});var r=n(67516),o=n.n(r),i="VIDEO_CLIP",u="HAS_SHOWN_PIN_TIP";function a(){var e=o().get(i,"edit");if(!e)return null;var t=e.sourceId,n=e.timestamp;return(o().delete(i),Date.now()-n>3e5)?null:t}function c(){var e=o().get(u);return e||o().set(u,!0),e}function s(e){return!!(e&&Number(e)>0)&&e>=180&&e<=1800}var l={videoSucccess:1,videoEdit:2,pinPublish:3,pinSuccess:4}},35102:function(e,t,n){"use strict";n.d(t,{Xc:function(){return u},hu:function(){return a},lX:function(){return i}});var r=n(76931),o=n.n(r);n(88423);var i={"video-count":"最多只能上传 10 个视频","video-count-one":"视频暂时只支持上传一个","video-size":"请上传大小不超过 2G 的视频","video-duration":"请上传不超过 60 分钟的视频","video-type":"暂不支持该文件格式","video-uploading":"视频上传完成后即可发布","video-uploading-draft":"视频上传完成后即可保存草稿","video-upload-cancelled":"匿名身份不能使用视频功能","video-uploading-entity-small":"请上传大小超过 100KB 的视频","video-upload-error":"视频上传失败，请重新上传","doc-size":"文档最大 10MB，请重新上传","doc-type":"暂不支持该文件格式","image-uploading":"图片上传完成后即可发布","mage-uploading-draft":"图片上传完成后即可保存草稿","video-and-image":"图片、视频暂时无法同时上传","unsupported-browser":"暂不支持的浏览器, 请更换浏览器后重试"};function u(e,t,n,r){if("image-upload-error"===e){n(o()(t,"payload.err.payload.message")||"图片上传失败，请重新上传","red",r);return}if(["doc-size","doc-type"].includes(e)){var u=(null==t?void 0:t.message)||i[e];n(u,"red",r,{shouldTrackShow:!0,zaText:"文档导入-".concat(u),zaBlock:"EditorInsertDoc",key:Date.now()});return}n(i[e],"red",r)}var a=function(e){return"string"==typeof e&&["Failed to fetch","Network request failed","NetworkError when attempting to fetch resource","网络连接已中断","请求超时"].some(function(t){return e.includes(t)})}},4785:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},z:function(){return o}});var r=n(94009);function o(e){return new URLSearchParams(Object.entries(e).filter(function(e){return null!=(0,r._)(e,2)[1]}))}function i(e){return new URLSearchParams(Object.entries(e).map(function(e){var t=(0,r._)(e,2),n=t[0],o=t[1];return[n,null!=o?o:""]}))}},23113:function(e,t,n){"use strict";var r,o,i,u,a=n(9338),c=n(55846),s=n(4667),l=n.n(s),d="growth-chain",_={},p=new Promise(function(e){return u=e}),f=function(){return new Promise(requestAnimationFrame)},T=function(e){try{return e()}catch(e){}},E="https://www.zhihu.com",h=function(e){return T(function(){return localStorage.setItem(d,JSON.stringify(e))})},v=l()((0,a._)(function(){var e,t,n,r,o,i;return(0,c.__generator)(this,function(u){switch(u.label){case 0:return[4,p];case 1:if(!(e=u.sent().userId))return[2,null];if(t=T(function(){return JSON.parse(localStorage.getItem(d))}),n=new Date,!(!t||t.userId!==e||n>new Date(t.expiresAt)))return[3,3];return[4,fetch("".concat(E,"/api/v4/me/guides"),{credentials:"include"}).then(function(e){return e.json()})];case 2:return r=u.sent(),(o=new Date(n)).setDate(n.getDate()+1),h(i={userId:e,data:r,expiresAt:o}),[2,i];case 3:return[2,t]}})})),m=(r=(0,a._)(function(e){var t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return[4,fetch("".concat(E,"/api/v4/me/operation_guides/").concat(e.operation_guide_id_str),{method:"DELETE",credentials:"include"})];case 1:return n.sent(),[4,v()];case 2:return(t=n.sent())&&(t.data.actions=t.data.actions.filter(function(t){return t!==e}),h(t)),[2]}})}),function(e){return r.apply(this,arguments)}),A=(o=(0,a._)(function(e){var t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return[4,v()];case 1:return t=n.sent(),[4,f()];case 2:if(n.sent(),t)return[2,t.data.actions.filter(function(t){return e.includes(t.guide_name)})];return[2,[]]}})}),function(e){return o.apply(this,arguments)}),I=(i=(0,a._)(function(e){var t;return(0,c.__generator)(this,function(n){switch(n.label){case 0:return[4,v()];case 1:return t=n.sent(),[4,f()];case 2:if(n.sent(),t)return[2,t.data.actions.filter(function(t){return t.show_page===e})];return[2,[]]}})}),function(e){return i.apply(this,arguments)});t.Z={config:function(e){u(Object.assign(_,e))},markAsShown:m,getActionsByNames:A,getActionsByPage:I}},65744:function(e,t,n){"use strict";n.d(t,{t:function(){return s},y:function(){return l}});var r=n(55164),o=n(71728),i=n(85879),u=n(57730),a=n(36798),c=n(74351),s=function(e,t){var n=(0,r._)({delay:2e3},t),o=n.delay,u=n.theme,s=n.className;return(0,c.isBrowser)()?a.Z.show((0,i.tZ)(a.Z,{className:s,delay:o,notification:{text:e,theme:u}})):null},l=function(e,t){var n=t||{},a=n.content,c=(0,o._)(n,["content"]),s=a&&(0,i.tZ)("div",{style:{textAlign:"center"},children:a});return u.Z.confirm(s,(0,r._)({title:e},c))}},57138:function(e,t,n){"use strict";n.d(t,{MN:function(){return a},Qu:function(){return c}});var r=n(94009),o=n(57045),i=n(74351),u=function(e){var t=e||{},n=t.type,r=t.id,u=t.urlToken,a=t.q;switch(n){case"question":return"/questions/".concat(r);case"answer":return"/answers/".concat(r);case"article":case"p":return"/articles/".concat(r);case"column":return"/columns/".concat(r);case"live":return"/lives/".concat(r);case"ebook":case"book":return"/pub/book/".concat(r);case"feed":return"/feed";case"topic":return"/topics/".concat(r);case"people":return"/people/".concat(u||r);case"search":return"/search?".concat(o.stringify({q:a}));case"video":return"video_topic/".concat(r);case"zvideo":if((0,i.isBrowser)()){var c=new URL(location.href);if(!/^\d+$/.test(r)){var s="".concat(c.pathname.replace(/^\//,"")).concat(c.search);return"".concat(decodeURIComponent(s))}var l=c.searchParams.get("page");if(l)return"/zvideo/".concat(r,"?page=").concat(l)}return"/zvideo/".concat(r);case"theater":return"/theater/".concat(r);case"zvideo_answer":case"zvideo_article":var d=n.replace("zvideo_","");return"/".concat(d,"s/").concat(r);case"brief":return"/brief/".concat(r);default:return null}},a=function(e,t){var n=t?"?".concat(o.stringify(t)):"",r="string"==typeof e?e:u(e);if(r){var i=r.startsWith("/")?r.slice(1):r;return"zhihu://".concat(i).concat(n)}return"zhihu://".concat(n)},c=function(e){if(!e)return"/feed";try{var t=e.match(/(\/[\w]+)?(\/[\w-]+)?(\/[\w]+)?(\/[\w-]+)?/)||[],n=(0,r._)(t[3]&&t[4]?[t[3],t[4]]:[t[1],t[2]],2),o=n[0],i=n[1];return u({type:o.slice(1),id:i.slice(1)})||"/feed"}catch(e){return"/feed"}}},39288:function(e,t,n){"use strict";n.d(t,{FH:function(){return d},N4:function(){return E},O1:function(){return p},_D:function(){return T},co:function(){return _},os:function(){return f}});var r,o=n(87320),i=n(55164),u=n(57477),a=n(74135),c=n(52905),s=n(66263),l=(r={},(0,o._)(r,s.fH,"username"),(0,o._)(r,100003,"username"),(0,o._)(r,100006,"username"),(0,o._)(r,s.Dm,"username"),(0,o._)(r,100029,"username"),(0,o._)(r,100030,"username"),(0,o._)(r,120017,"username"),(0,o._)(r,12e4,"captcha"),(0,o._)(r,120001,"captcha"),(0,o._)(r,120005,"captcha"),(0,o._)(r,100002,"password"),(0,o._)(r,100004,"password"),(0,o._)(r,100005,"password"),(0,o._)(r,s.o7,"digits"),(0,o._)(r,s.M,"digits"),(0,o._)(r,100085,"digits"),(0,o._)(r,403,"extra"),r);function d(e,t){return t.reduce(function(t,n){return(0,u._)((0,i._)({},t),(0,o._)({},n,["request","success","failure"].reduce(function(t,r){return(0,u._)((0,i._)({},t),(0,o._)({},r,"".concat(e,"/").concat((0,a.camelize)(n.toLowerCase()),"/").concat(r)))},{})))},{})}function _(e,t){return t.reduce(function(t,n){return(0,u._)((0,i._)({},t),(0,o._)({},n,"".concat(e,"/").concat((0,a.camelize)(n.toLowerCase()))))},{})}function p(e){var t=e.code,n=e.message,r=l[t]||"unknown";return(0,o._)({},r,n||"系统繁忙，请稍后再试")}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(e-1)*t}function T(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,r=f(e,n),o=Math.ceil(t.length/n),i=t.slice(r,r+n)||[];return{total:o,isCurrentLoaded:i.some(function(e){return e||!1===e}),items:i.filter(Boolean)}}function E(e){(0,c.i4)(!0),(0,c.L0)(e)}},75157:function(e,t,n){"use strict";n.d(t,{QC:function(){return c},Y6:function(){return u},de:function(){return o}});var r=n(76435);function o(e){return/^[a-z0-9]{32}$/.test(e)}var i=/#comment-(\d+)/;function u(e){var t=e.match(i);return t&&t[1]}var a=function(e,t){"undefined"!=typeof window&&window.Raven&&window.Raven.captureException(e,{logger:"RouteLoader",fingerprint:["RouteLoader"],extra:t})},c=function(e){return function(){return e().then(function(e){return[e.default]}).catch(function(e){return a(e,{target:"resolveRoutes"}),[{path:"*",component:r.Ko}]})}}},54826:function(e,t,n){"use strict";n.d(t,{LP:function(){return a},ZP:function(){return l},hn:function(){return s},qz:function(){return c}});var r=n(7835),o=n(67516),i=n.n(o),u="uhiuhvk_wrnhq";function a(){return i().get(u)}function c(){i().delete(u)}function s(){(0,r.Z)(function(){c()})}function l(e){i().set(u,JSON.stringify({token:e,timestamp:Date.now()}))}},25669:function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var i=r[r.length-1]||{};return n.reduce(function(t,n,o){return t.concat(Number.isInteger(n)&&r[n]||i[n],e[o+1])},[e[0]]).join("")}}n.d(t,{Z:function(){return r}})},79091:function(e,t,n){"use strict";n.d(t,{D:function(){return i},G:function(){return o}});var r=n(94009),o=function(e,t){switch(e){case"answer":return"https://www.zhihu.com/answer/".concat(t);case"book":return"https//www.zhihu.com/pub/book/".concat(t);case"article":return"https://zhuanlan.zhihu.com/p/".concat(t);case"live":return"https://www.zhihu.com/lives/".concat(t);case"remix_album":case"remix":return"https://www.zhihu.com/remix/albums/".concat(t);case"pin":return"https://www.zhihu.com/pin/".concat(t);case"question":return"https://www.zhihu.com/question/".concat(t);case"zvideo":return"https://www.zhihu.com/zvideo/".concat(t);case"topic":return"https://www.zhihu.com/topic/".concat(t);default:return""}},i=function(e,t){try{if(!e||"string"!=typeof e)return"";if(!t||"object"!=typeof t||!Object.keys(t))return e;var n=(0,r._)(e.split("#"),2),o=n[0],i=n[1],u=void 0===i?"":i,a=(0,r._)(o.split("?"),2),c=a[0],s=a[1],l=new URLSearchParams(s);Object.entries(t).forEach(function(e){var t=(0,r._)(e,2),n=t[0],o=t[1];null!=o&&l.set(n,o)});var d=function(e,t){return t?e+t:""};return c+d("?",l.toString())+d("#",u)}catch(t){return console.error(t),e}}},76028:function(e,t,n){"use strict";n.d(t,{Hk:function(){return y},es:function(){return N},yX:function(){return O}});var r=n(55164),o=n(94009),i=n(49899),u=n(85879),a=n(67516),c=n.n(a),s=n(44169),l=n(66263),d=n(45471),_=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{color:"#3e7ac2"};return(0,u.tZ)("a",{target:"_blank",rel:"noopener noreferrer",href:e,style:n,children:t})},p=_("/term/community","知乎社区管理规定"),f=_("/term/community","知乎社区管理规定",{color:"#fff","text-decoration":"underline"}),T=_("/question/19551824","知乎用户信息管理规范"),E=_("/settings/profile#rename-section","修改"),h=_("/people/edit","修改"),v=_("/account/unblock","验证"),m={ads:"发布垃圾信息",unfriendly:"发布不友善内容",illegal:"发布违反法律法规的内容",politics:"发布不宜公开讨论的政治内容",animus_edit:"恶意编辑",other:"其他原因"},A={hang:(0,u.BX)("span",{children:["由于严重违反 ",p,"，该账号已被停用。"]}),lock:function(e){var t=e.unBlockInfo,n=t.isAppealed,r=t.spamLevel;return n?(0,u.tZ)("span",{children:"你的账号由于存在异常行为暂时被知乎反作弊系统限制使用，我们已收到了您的申诉信息，24 小时内会以私信的方式告知你申诉结果，请耐心等待。"}):6===r?(0,u.BX)("span",{children:["您的账号由于违反 ",f," ，已被永久封禁。"]}):4===r?(0,u.BX)("span",{children:["您的账号异常 ，部分功能暂不可用。如需恢复，请完成"," ",_("/account/unblock","账号验证")]}):(0,u.BX)("span",{children:["你的网络环境或行为异常，请进行安全",v]})},ban:function(e){var t=e.expiredAt,n=e.reason;return t>999?(0,u.BX)("span",{children:["由于严重违反\xa0",p,"\xa0，该账号已被永久禁言"]}):(0,u.BX)("span",{children:["您的账号由于\xa0",(0,u.tZ)("a",{target:"_blank",href:"/term/community",style:{color:"#3e7ac2"},children:m[n]||"违反知乎社区规定"}),"\xa0暂时被限制使用，",t," 天后恢复正常。"]})},isForceRenamed:function(e){var t=e.isOrg;return(0,u.BX)("span",{children:["您的用户名不符合 ",T,"，请您\xa0",t?E:h,"。"]})},notBindPhone:(0,u.BX)("span",{children:["您的账号未激活，无法正常使用赞同、评论等功能。请 ",(0,u.tZ)(d.$7,{})," 。"]})},I={profile:{hang:(0,u.BX)("span",{children:["由于严重违反 ",p,"，该账号已被停用"]}),lock:function(e){var t=e.unBlockInfo,n=t.isAppealed,r=t.spamLevel;return n&&3===r||!r?null:4===r?(0,u.BX)("span",{children:["您的账号异常 ，部分功能暂不可用。如需恢复，请完成"," ",_("/account/unblock","账号验证")]}):6===r?(0,u.BX)("span",{children:["您的账号由于违反 ",p," ，已被永久封禁。"]}):(0,u.BX)("span",{children:["你的网络环境或行为异常，请进行安全",v]})},ban:function(e){var t=e.isCurrentUser,n=e.expiredAt,r=e.reason;return n>999?(0,u.BX)("span",{children:["由于严重违反\xa0",p,"\xa0，该账号已被永久禁言"]}):t?(0,u.BX)("span",{children:["您的账号由于\xa0",(0,u.tZ)("a",{href:"/term/community",target:"_blank",style:{color:"#3e7ac2"},children:m[r]||"违反知乎社区规定"}),"\xa0暂时被限制使用，",n," 天后恢复正常。"]}):(0,u.BX)("span",{children:["由于违反 ",p,"，该用户暂时处于禁言状态，",n," ","日后将恢复正常使用。"]})},isForceRenamed:function(e){var t=e.isCurrentUser,n=e.hasRenamed,r=e.isOrg;return t?(0,u.tZ)("span",{children:n?"您的用户名已修改，请等待管理员确认。申诉邮箱：i@zhihu.com。":(0,u.BX)("span",{children:["您的用户名不符合 ",T,"，请您\xa0",r?E:h]})}):(0,u.BX)("span",{children:["由于违反 ",T," ，该用户暂时处于改名状态。"]})},notBindPhone:function(){return null}},behavior:A};function y(e){return e.payload&&31e4===e.payload.code}function O(e){return e.payload&&310001===e.payload.code}function S(e,t,n){var o,i="object"==typeof e?e.name:e;if("ban"===i){var u=e.createdAt,a=e.expiredAt;o={reason:e.reason,expiredAt:Math.ceil((0,s.NV)(a-Date.now()/1e3+u))}}return i===l.Pw.lock&&(o={unBlockInfo:t}),i===l.Pw.isForceRenamed&&(o={isOrg:!!(n&&"organization"===n.userType)}),function(e,t,n){if(!t)return"";var o=I[e];return"function"==typeof o[t]?o[t]((0,r._)({},n)):o[t]}("behavior",i,o)}function g(e,t){var n=e.accountStatus,r=e.isForceRenamed,o=e.isBindPhone,i=e.userType,u=e.isRealname;if(n&&n.length){var a=n.find(function(e){var n=e.name;return t.includes(n)});if(a)return a}return!1===o&&!u&&t.includes("notBindPhone")?"notBindPhone":r&&t.includes("isForceRenamed")?"isForceRenamed":"guest"===i&&t.includes("isGuest")?"isGuest":null}function C(e,t,n){for(var r=arguments.length,o=Array(r>3?r-3:0),u=3;u<r;u++)o[u-3]=arguments[u];var a=e.canWrite,s=e.alertTimeSpan;if(!a)return t.apply(void 0,(0,i._)(o));var d=new Date().getTime(),_=c().get(l.iG);return isNaN(_)||_>d||_+1e3*s<d?(c().set(l.iG,d),t.apply(void 0,(0,i._)(o))):n.apply(void 0,(0,i._)(o))}function N(e,t,n,r,u,a){var c=this;return function(s){for(var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.zg,_=arguments.length,p=Array(_>2?_-2:0),f=2;f<_;f++)p[f-2]=arguments[f];var T=function(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];e.apply(void 0,(0,i._)(n)),"function"==typeof m&&m.apply(void 0,(0,i._)(n))}};if(!s){var E="function"==typeof e?e():e;return S(g(E,d),null,E)}var h=(0,o._)(Array.isArray(s)?s:[s],2),v=h[0],m=h[1];return function(){for(var o=arguments.length,s=Array(o),_=0;_<o;_++)s[_]=arguments[_];var f="function"==typeof e?e():e;if(!f)return T(r).apply(c,(0,i._)(s));var E=g(f,d);return E?"notBindPhone"===E&&a?T(C.bind(null,t,a,v)).apply(c,(0,i._)(s)):"isGuest"===E?T(r).apply(c,(0,i._)(s)):T(function(){return u.apply(void 0,[S(E,E.name===l.Pw.lock?n():null,f)].concat((0,i._)(p)))}).apply(c,(0,i._)(s)):v.apply(void 0,(0,i._)(s))}}}},77440:function(e,t,n){"use strict";n.d(t,{Ef:function(){return d},aF:function(){return f}});var r=n(55164),o=n(49899),i=n(97614),u=n(54231),a=n(66111),c=n.n(a),s=n(69383),l={2555:{id:2555,name:"SEM落地页顶部下载点击"},2556:{id:2556,name:"SEM落地页按钮下载点击"},2557:{id:2557,name:"SEM落地页内容下载点击"}},d=function(e,t){var n="number"==typeof t?l[t]:t;"object"==typeof n&&s.Z.trackEvent(e&&e.currentTarget,(0,r._)({action:"Click"},n))},_=["a","b","c","d","e","f","g","h","i","j","k","l"],p=function(e,t){var n=Array(8).fill("").map(function(){return _[c()(11)]}).join("");new Image().src="https://lens.zhihu.com/report?type=msg&msg=".concat(e,"&dummy=").concat(n,"&uploadtype=").concat(t)};function f(e,t){return function(n){for(var r=arguments.length,a=Array(r>1?r-1:0),c=1;c<r;c++)a[c-1]=arguments[c];var s=Date.now(),l=["upload",t?"new":"old",void 0===n?"undefined":(0,i._)(n),n&&n.size?"normal":"empty"].join("_"),d=(0,u.HP)({appName:"heifetz"})("image.".concat((0,u.j0)(),".").concat(l));return u.ZP.increment({raw:"".concat(d,".start.count")}),p("puploadcount",l),Promise.resolve(e.apply(void 0,[n].concat((0,o._)(a)))).then(function(e){var t=Date.now();return p("psuccesscount",l),u.ZP.increment({raw:"".concat(d,".success.count")}),u.ZP.timing({raw:"".concat(d,".success")},t-s),e}).catch(function(e){throw u.ZP.increment({raw:"".concat(d,".error.count")}),p("pfailedcount",l),e})}}},26921:function(e,t,n){"use strict";n.d(t,{H2:function(){return S}});var r=n(55164),o=n(57477),i=n(94009),u=n(85879),a=n(91850),c=n(29229),s=n(65733),l=n(7835),d=n(84871),_=n.n(d),p=n(88329),f=n.n(p),T=n(87363),E=n(80714),h=n(79446),v=n(81956),m="".concat(E.Z.fetchRoot.api,"/content/publish/control/v2"),A={init:!0},I={write:{instruction:!1,msg:""},contribute:{instruction:!1,msg:""},anonymous:{instruction:!1,msg:""}},y=(0,T.createContext)(void 0),O=function(e){return function(t){return _()(function(d){var _,p=(0,i._)((0,a.Z)(!1),2),E=p[0],O=p[1],S=(0,i._)((0,T.useState)(!0),2),g=S[0],C=S[1],N=(0,i._)((0,T.useState)(I),2),R=N[0],P=N[1],D=(0,r._)({},A,e),L=(0,h.n)(),w=(0,v.Z)(),b=(0,T.useRef)({onClose:f()}),G=(0,c.Z)(function(){return n.e(5634).then(n.bind(n,4238))},L),U=(0,s.Z)(function(e){var t=e.getScene(d);return w(m,{method:"GET",query:(0,r._)({scene:t.type},t.token&&{questionToken:t.token})}).then(function(e){return e.payload})}),k=(0,s.Z)(function(e){b.current.onClose=e}),M=(0,T.useMemo)(function(){return{commands:R,setOnModalClose:k,isLoading:g}},[R,k,g]),F=(0,s.Z)(function(){var e,t;O.off(),null===(e=b.current)||void 0===e||null===(t=e.onClose)||void 0===t||t.call(e)});return(0,l.Z)(function(){D.init&&"function"==typeof D.getScene&&L&&U(D).then(function(e){var t=e.data;P(t),t.write.instruction&&O.on()}).finally(function(){C(!1)})}),(0,u.BX)(y.Provider,{value:M,children:[G?(0,u.tZ)(G,{show:E,text:(null==R?void 0:null===(_=R.write)||void 0===_?void 0:_.msg)||"系统升级中，敬请谅解",onClose:F}):null,(0,u.tZ)(t,(0,o._)((0,r._)({},d),{writeShield:M}))]})},t)}},S=O({init:!0,getScene:function(e){return e.writeScene}})(function(e){var t=e.writeShield,n=e.onClose;return(0,l.Z)(function(){t.setOnModalClose(function(){null==n||n()})}),null});t.ZP=O},48504:function(e,t,n){"use strict";var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(85626),l=n(85879),d=n(84871),_=n.n(d),p=n(87363);t.Z=function(e){return function(t){var n=e.shouldLoad,d=void 0===n?function(e){return!e.isDrained}:n,f=e.load,T=function(e){(0,a._)(_,e);var n=(0,s._)(_);function _(){var e;return(0,o._)(this,_),e=n.apply(this,arguments),(0,u._)((0,r._)(e),"load",function(){return f(e.props,e.state)}),e}return(0,i._)(_,[{key:"componentDidMount",value:function(){d(this.props,this.state)&&this.load()}},{key:"componentDidUpdate",value:function(e,t){var n=d(e,t),r=d(this.props,this.state);r&&r!==n&&this.load()}},{key:"render",value:function(){return(0,l.tZ)(t,(0,c._)({},this.props))}}]),_}(p.Component);return _()(T,t)}}},45842:function(e,t,n){"use strict";n.d(t,{s:function(){return l}});var r=n(55164),o=n(57477),i=n(85879),u=n(84871),a=n.n(u),c=n(53778),s=n(58909),l=(0,c.connect)(function(e){return{currentUser:(0,s.ib)(e)}});t.Z=function(e){return a()(function(t){var n=(0,c.useSelector)(function(e){return(0,s.ib)(e)});return(0,i.tZ)(e,(0,o._)((0,r._)({},t),{isLogin:n&&"guest"!==n.userType,currentUser:n}))},e)}},85576:function(e,t,n){"use strict";n.d(t,{M:function(){return d}});var r=n(87320),o=n(55164),i=n(85879),u=n(84871),a=n.n(u),c=n(14168),s=n.n(c),l=n(45842),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authRequired";return function(t){var n=function(n,u){var a=u.authRequired,c=(0,r._)({},e,void 0===a?function(){}:a);return(0,i.tZ)(t,(0,o._)({},n,c))};return n.contextTypes={authRequired:s().func},a()((0,l.Z)(n),t)}},_=d();t.Z=_},3028:function(e,t,n){"use strict";var r=n(22107),o=n(94707),i=n(86325),u=n(55164),a=n(57477),c=n(85626),s=n(85879),l=n(87363),d=n(84871),_=n.n(d),p=n(76435);t.Z=function(e){return function(t){var n=function(n){(0,i._)(_,n);var d=(0,c._)(_);function _(){return(0,r._)(this,_),d.apply(this,arguments)}return(0,o._)(_,[{key:"render",value:function(){var n=e&&!(0,l.isValidElement)(e)?e:{replacement:e};return(0,s.tZ)(p.SV,(0,a._)((0,u._)({},n),{children:(0,s.tZ)(t,(0,u._)({},this.props))}))}}]),_}(l.Component);return _()(n,t)}}},25734:function(e,t,n){"use strict";n.d(t,{W5:function(){return a},ZP:function(){return s},mv:function(){return u},pe:function(){return c}});var r=n(55164),o=n(57477),i=n(53778),u={normal:{logo:"primary",navActiveColor:"primary",headerTitle:"GBL01A"},custom:{logo:"GBK99B",boxShadow:"none",icon:"GBK99B",iconOpacity:"0.9",navColor:"GBK99B",navOpacity:"0.75",navActiveColor:"GBK99B",headerTitle:"GBK99B",searchInputColor:"GBK99B",searchButtonColor:"GBL01A",searchButtonBg:"GBK99B",searchButtonOpacity:"0.9",searchAreaColor:"GBK99B",searchBorder:"none",searchBorderColor:"transparent",searchPlaceHolderOpacity:"0.75",searchInputOpacity:"0.2",searchIconOpacity:"0.8"}},a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{transitionProperty:"".concat(t.join(",")),transitionDuration:"0.25s",transitionTimingFunction:"ease-in"}},c=function(e){return function(t){return e.colors[t]||t}};function s(){var e=(0,i.useSelector)(function(e){return e.env.appHeaderTheme}),t=e.current,n=e[t].bgColor;return(0,o._)((0,r._)({type:t,bgColor:n},u[t]),{themeTransition:a})}},79446:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var r=n(49899),o=n(87363),i=n(38322),u=n.n(i),a=n(53778),c=n(58909),s=function(){return(0,a.useSelector)(c.dd)};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,a.useDispatch)(),n=(0,a.useSelector)(function(t){return u()((0,c.ib)(t),e)},a.shallowEqual);return(0,o.useEffect)(function(){t((0,c.sF)(e))},[t].concat((0,r._)(e))),n}},81956:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},q:function(){return o}});var r=n(87363),o=(0,r.createContext)(null);function i(){return(0,r.useContext)(o)}},16850:function(e,t,n){"use strict";n.d(t,{$:function(){return s}});var r=n(55164),o=n(57477),i=n(85879),u=n(84871),a=n.n(u),c=n(7407);t.Z=c.dD;var s=function(e){return function(t){return a()(function(n){return(0,i.tZ)(t,(0,o._)((0,r._)({},n),{isMobile:(0,c.dD)(e)}))},t)}}},67689:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var r=n(94009),o=n(85879),i=n(87363),u=(0,i.createContext)(),a=function(e){var t=e.children,n=(0,r._)((0,i.useState)([]),2),a=n[0],c=n[1],s=(0,i.useCallback)(function(e){return c(function(t){return t.concat(e)})},[]),l=(0,i.useCallback)(function(e){return c(function(t){return t.filter(function(t){return t!==e})})},[]),d=(0,i.useRef)({addInstance:s,removeInstance:l});return(0,o.BX)(o.HY,{children:[(0,o.tZ)(u.Provider,{value:d.current,children:t}),a]})};t.Z=function(){var e=(0,i.useContext)(u);return{addInstance:e.addInstance,removeInstance:e.removeInstance}}},2493:function(e,t,n){"use strict";var r=n(53778),o=n(31824),i=(0,o.wN)(o.PW,r.shallowEqual);t.Z=i},93292:function(e,t){"use strict";t.Z=function(e,t){var n=!1,r=[],o=null;return function(){for(var i=arguments.length,u=Array(i),a=0;a<i;a++)u[a]=arguments[a];return r.push(u),n||(n=!0,o=new Promise(function(o){t(function(){var t=r;n=!1,r=[],o(e(t))})})),o}}},80523:function(e,t){"use strict";t.Z=function(e,t,n){return t in e?e[t]:e[t]=n()}},3803:function(e,t,n){"use strict";n.d(t,{r:function(){return r}});var r=function(e,t){var n=Object.keys(t).map(function(e){var n=t[e];return"".concat(e,"=").concat(n)}).join("&"),r=e.includes("?")?"&":"?";return"".concat(e).concat(r).concat(n)}},80498:function(e,t,n){"use strict";n.d(t,{D:function(){return u},b:function(){return i}});var r,o=n(87320),i={BABY:"knowledgeBaby",B_SIDE:"bSide",DIGITAL:"knowledgeDigital",CREATOR_SUPPORT:"creatorSupport",ACG:"knowledgeAcg",XIAOPENG_CAR:"knowledgeXiaopengCar",CAR:"knowledgeCar",SEA_SALT:"seaSalt",SCIENCE:"knowledgeScience",VIDEO_MAKER_ACQUISITION:"videoMakerAcquisition",VIDEO_MAKER_ACQUISITION_V2:"videoMakerAcquisitionV2",VIDEO_MAKER_ACQUISITION_V3:"videoMakerAcquisitionV3",BRAND_RENEWAL_QA:"brandRenewalQa",BRAND_RENEWAL_QA_ACTION:"brandRenewalQaAction",VOTE:"vote",ZHIHU_CAR:"zhihuCar",SCHOOL_NEWS:"schoolNews"},u=(r={},(0,o._)(r,i.BABY,{id:3}),(0,o._)(r,i.B_SIDE,{id:4}),(0,o._)(r,i.DIGITAL,{id:5}),(0,o._)(r,i.ACG,{id:10}),(0,o._)(r,i.XIAOPENG_CAR,{id:11}),(0,o._)(r,i.CAR,{id:12}),(0,o._)(r,i.SCIENCE,{id:15}),(0,o._)(r,i.VIDEO_MAKER_ACQUISITION,{id:1}),(0,o._)(r,i.VIDEO_MAKER_ACQUISITION_V2,{id:3}),(0,o._)(r,i.VIDEO_MAKER_ACQUISITION_V3,{id:5}),(0,o._)(r,i.VOTE,{id:2}),(0,o._)(r,i.ZHIHU_CAR,{id:21}),r)},14586:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var r=[{name:"total",text:"所有人",filterBy:"",countKey:"questionTotalCount"},{name:"followees",text:"我关注的人",filterBy:"followees",countKey:"questionFolloweeCount"}]},93542:function(e,t,n){"use strict";n.d(t,{V5:function(){return R},Zp:function(){return D},tw:function(){return P}});var r=n(55164),o=n(79065),i=n(85879),u=n(43998),a=n(34473),c=n(48498),s=n(57032),l=n(42951),d=n(30577),_=n(60811),p=n(82806),f=n.n(p),T=n(87641),E=n(69383),h=n(99447),v=n(30722),m=n(44169),A=n(31142),I=n(44893);function y(){var e=(0,o._)([""," 回答 \xb7 ","关注"]);return y=function(){return e},e}function O(){var e=(0,o._)([""," 回答 \xb7 ","关注"]);return O=function(){return e},e}function S(){var e=(0,o._)([" ",""]);return S=function(){return e},e}function g(){var e=(0,o._)([""," 浏览 \xb7 "," 回答 \xb7 ","关注 \xb7 ","的提问"]);return g=function(){return e},e}function C(){var e=(0,o._)([" ",""]);return C=function(){return e},e}var N="pc_panel",R=[{name:"recommend",queryName:"",icon:u.$,text:"为你推荐",request:{endpoint:"creators/question_route/pc_member_related/recommend",query:{pageSource:N}}},{name:"invite",queryName:"invite",icon:a.y,text:"邀请回答",request:{endpoint:"notifications/v3/timeline/entry/invite",query:{invite_with_time_slice:1}}},{name:"newest",queryName:"new",icon:c.k,text:"最新问题",request:{endpoint:"/creators/question_route/pc_member_related/newest",query:{pageSource:N,include:I.UH}}},{name:"hot",queryName:"hot",icon:s.ZV,text:"人气问题",request:{endpoint:"creators/question_route/pc_member_related/hot",query:{pageSource:N}}}];function P(e,t){var n,o,u,a,c,s,l,d,_,p,I,g,C,N,R,P,D,L=e.question,w=e.icons,b=e.extra,G=e.targetSource,U=e.content,k=null==w?void 0:w.find(function(e){return"normal"===e.type});switch(t){case"newest":return{question:L,headerInfo:{avatar:{url:null==L?void 0:null===(n=L.author)||void 0===n?void 0:n.avatarUrl,shape:(null==k?void 0:k.shape)||"circle",people:null==L?void 0:null===(o=L.author)||void 0===o?void 0:o.name},createdTime:(0,m.rL)((null==L?void 0:L.created)||(null==L?void 0:L.updatedTime)),invite:"期待你的回答"},extraFooter:(0,i.BX)(T.Flex,{alignItems:"center",children:[null==e?void 0:e.reason," ",(null==e?void 0:e.reason)&&"\xb7",f()(y(),(0,v.uf)(null==L?void 0:L.answerCount),(0,v.uf)(null==L?void 0:L.followerCount))]}),showTime:!0};case"recommend":case"hot":return{question:L,headerInfo:{avatar:{url:null==L?void 0:null===(u=L.author)||void 0===u?void 0:u.avatarUrl,shape:(null==k?void 0:k.shape)||"circle",people:null==L?void 0:null===(a=L.author)||void 0===a?void 0:a.name},createdTime:(0,m.rL)((null==L?void 0:L.created)||(null==L?void 0:L.updatedTime)),invite:"期待你的回答"},extraFooter:(0,i.BX)(T.Flex,{alignItems:"center",children:[null==e?void 0:e.reason," ",!!(null==e?void 0:e.reason)&&"\xb7 ",f()(O(),(0,v.uf)(null==L?void 0:L.answerCount),(0,v.uf)(null==L?void 0:L.followerCount))]}),showTime:"recommend"===t&&"invite_new_question_v2"===e.reasonType};case"invite":return(0,r._)({question:{id:null===(c=e.target)||void 0===c?void 0:c.id,ignoreId:e.id,title:null===(s=e.targetSource)||void 0===s?void 0:s.text,updatedTime:null===(l=e.target)||void 0===l?void 0:l.updatedTime},headerInfo:{avatar:{url:null===(d=e.head)||void 0===d?void 0:d.avatarUrl,shape:"circle",people:null==U?void 0:U.title},labels:null==e?void 0:null===(_=e.head)||void 0===_?void 0:null===(p=_.labels)||void 0===p?void 0:null===(I=p[0])||void 0===I?void 0:I.text,invite:"".concat((null==U?void 0:null===(g=U.subTitle)||void 0===g?void 0:g.startsWith("的提问"))?null==U?void 0:null===(C=U.subTitle)||void 0===C?void 0:C.substr(3):null==U?void 0:U.subTitle),relationShip:null===(N=e.target)||void 0===N?void 0:N.relationship,extra:(0,m.rL)(e.created),createdTime:(0,m.Jd)(e.created)},extraFooter:(null==G?void 0:G.subText)||b&&1!==b.buttonType?(0,i.BX)(T.Flex,{alignItems:"center",children:[(0,i.tZ)(T.Text,{dangerouslySetInnerHTML:{__html:(null==e?void 0:null===(R=e.additionalInfo)||void 0===R?void 0:null===(P=R[0])||void 0===P?void 0:P.text)||""}}),(0,i.tZ)(T.Text,{dangerouslySetInnerHTML:{__html:!!(null==e?void 0:e.additionalInfo)&&" \xb7 "||""}}),f()(S(),null==G?void 0:G.subText)]}):null,showTime:!1},b&&1!==b.buttonType?{titleLink:null===(D=e.targetSource)||void 0===D?void 0:D.targetLink,button:(0,i.tZ)(h.r,{view:{id:9535},extra:{button:{text:"立即参与"}},trackCardShow:!0,children:(0,i.tZ)("div",{children:(0,i.tZ)(A.Z,{className:"QuestionItem-footer--writeAnswerButton",label:"立即参与",href:b.buttonTargetLink,target:"_blank","data-za-not-track-link":!0,onClick:function(e){E.Z.trackEvent(e.target,{id:9534,action:"OpenUrl"})}})})}),zaContent:{type:"Topic",token:String(null==b?void 0:b.campaignId)||""}}:{})}}function D(e,t){var n,r,o,u,a,c,s,l=e.question,d=e.targetSource,_=e.content,p=e.hotLabelType,E=e.reason,h=e.reasonId,A=e.creatorScore,I=e.businessTransmitData,y=e.additionalInfo,O=e.head;switch(t){case"newest":case"recommend":case"hot":return{hotLabelType:p,question:l,headerInfo:{reason:E,reasonId:h},extraFooter:f()(g(),(0,v.uf)(null==l?void 0:l.visitCount),(0,v.uf)(null==l?void 0:l.answerCount),(0,v.uf)(null==l?void 0:l.followerCount),(0,m.rL)((null==l?void 0:l.created)||(null==l?void 0:l.updatedTime))),creatorScore:A};case"invite":return{hotLabelType:null==d?void 0:null===(n=d.extra)||void 0===n?void 0:n.questionTagId,question:{id:null===(r=e.target)||void 0===r?void 0:r.id,ignoreId:e.id,title:null===(o=e.targetSource)||void 0===o?void 0:o.text,updatedTime:null===(u=e.target)||void 0===u?void 0:u.updatedTime},headerInfo:{avatar:{url:null==O?void 0:O.avatarUrl},reason:null==y?void 0:null===(a=y[0])||void 0===a?void 0:a.text,reasonId:null==y?void 0:null===(c=y[0])||void 0===c?void 0:c.id,labels:O.labels,invite:(0,i.BX)(i.HY,{children:[(0,i.BX)(T.Text,{color:"GBK03A",mr:"3px",children:[null==_?void 0:_.title," ",(null==_?void 0:_.subTitle)==="邀请你回答"?"":"的提问"]}),(0,i.BX)(T.Text,{color:"GBK06A",children:[(0,m.Jd)(e.created)," ",null==_?void 0:null===(s=_.subTitle)||void 0===s?void 0:s.replace("的提问","")]})]}),createdTime:(0,m.Jd)(e.created)},extraFooter:f()(C(),null==d?void 0:d.subText),isGreyBg:!0,creatorScore:null==I?void 0:I.creatorScore}}}l.T,d.xl,c.k,_.RF},56628:function(e,t,n){"use strict";n.d(t,{AU:function(){return c},BP:function(){return A},Cf:function(){return d},H6:function(){return y},Iu:function(){return u},KW:function(){return l},Sk:function(){return m},YF:function(){return h},_x:function(){return f},ah:function(){return v},d_:function(){return i},g7:function(){return s},hj:function(){return p},nD:function(){return I},wD:function(){return _},wG:function(){return a}});var r=n(49899),o=n(80714),i=["content","people","topic","column","km_general","live","album","publication","zvideo","scholar","km_course"],u=["baike_box","edu_course","search_result","one_box","wiki_box","relevant_query","time_box","knowledge_ad","knowledge_result","knowledge_edu","ebook_saltpick","anniversary_activity","video_box","zvideo","koc_box","hot_timing","gaokao","film_box"].concat((0,r._)(o.Z.isMobileEntry?["ncee_2020_activity"]:[])),a=["baike_box","relevant_query","anniversary_activity","video_box","gaokao","film_box"].concat((0,r._)(o.Z.isMobileEntry?["ncee_2020_activity"]:[])),c=["answer","question","article","promotion","people","topic","column","live","album","publication","minor_hot_spot","domain_minor_hot","major_hot_spot","wiki_box","time_box","zvideo","scholar","videoanswer","hot_timing","edu_course","baike_box"],s={question:"QuestionItem",answer:"AnswerItem",article:"PostItem"},l={question:"讨论",article:"赞同",answer:"赞同",zvideo:"赞同"},d=["no_limit","a_day","a_week","three_months"],_={no_limit:"no_limit","1d":"a_day","1w":"a_week","3m":"three_months"},p=function(e){return"content"===e?"general":e},f=70,T={no_limit:{keyNameInReducer:"generalByQuery",keyNameInEntities:"searchGeneral"},a_day:{keyNameInReducer:"generalByQueryInADay",keyNameInEntities:"searchGeneralInADay"},a_week:{keyNameInReducer:"generalByQueryInAWeek",keyNameInEntities:"searchGeneralInAWeek"},three_months:{keyNameInReducer:"generalByQueryInThreeMonths",keyNameInEntities:"searchGeneralInThreeMonths"}},E={no_limit:{keyNameInReducer:"generalByQuery",keyNameInEntities:"searchAdvancedGeneral"},a_day:{keyNameInReducer:"generalByQueryInADay",keyNameInEntities:"searchAdvancedGeneralInOneDay"},a_week:{keyNameInReducer:"generalByQueryInAWeek",keyNameInEntities:"searchAdvancedGeneralInOneWeek"},three_months:{keyNameInReducer:"generalByQueryInThreeMonths",keyNameInEntities:"searchAdvancedGeneralInThreeMonths"}},h=function(e,t){var n=t;switch(d.includes(t)||(n="no_limit"),e){case"people":return{keyNameInReducer:"peopleByQuery",keyNameInEntities:"searchPeople"};case"topic":return{keyNameInReducer:"topicByQuery",keyNameInEntities:"searchTopic"};case"column":return{keyNameInReducer:"columnByQuery",keyNameInEntities:"searchColumn"};case"live":return{keyNameInReducer:"liveByQuery",keyNameInEntities:"searchLive"};case"album":return{keyNameInReducer:"albumByQuery",keyNameInEntities:"searchAlbum"};case"publication":return{keyNameInReducer:"eBookByQuery",keyNameInEntities:"searchEBook"};case"km_general":return{keyNameInReducer:"kmGeneralByQuery",keyNameInEntities:"searchKmGeneral"};case"km_course":return{keyNameInReducer:"kmCourseByQuery",keyNameInEntities:"searchKmCourse"};case"zvideo":return{keyNameInReducer:"zvideoByQuery",keyNameInEntities:"searchZvideo"};case"scholar":return{keyNameInReducer:"scholarByQuery",keyNameInEntities:"searchScholar"};default:return{keyNameInReducer:T[n].keyNameInReducer,keyNameInEntities:E[n].keyNameInEntities}}},v=function(e){return e?{id:3948,action:"UnFollow"}:{id:3947,action:"Follow"}},m={minorHotSpot:"minor_hot_spot",domainMinorHot:"domain_minor_hot",majorHotSpot:"major_hot_spot"},A={general:"未搜索到相关内容，提问快速获得回答",people:"未搜索到相关用户",topic:"未搜索到相关话题",km_course:"未搜索到相关课程",album:"未搜索到相关盐选专栏",live:"未搜索到相关 Live",course:"未搜索到相关课程",publication:"未搜索到相关电子书",column:"未搜索到相关专栏",sensitive:"未搜索到相关内容",zvideo:"未搜索到相关视频",scholar:"未搜索到相关内容"},I={general:"没有满意结果？提问快速获得回答",others:"没有更多了"},y=15},61803:function(e,t,n){"use strict";n.d(t,{A6:function(){return u},S9:function(){return a},Vr:function(){return i}});var r=n(44169),o=n(56628),i=function(e){return o.d_.includes(e)?e:"general"},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"no_limit";return o.Cf.includes(e)?e:"no_limit"},a=function(e){var t=new Date(1e3*e);return(0,r.Jd)(t)}},67094:function(e,t,n){"use strict";n.d(t,{JP:function(){return u},Mw:function(){return a},uB:function(){return i},RV:function(){return r},Yb:function(){return h}});var r={institutionIndex:"/index",zvideo:"/zvideo"},o=[{primary:!1,name:"follow",text:"关注",path:"/follow",path_if_org:"/follow",cookieValue:"f"},{primary:!0,name:"recommend",text:"推荐",path:"/",path_if_org:r.institutionIndex,cookieValue:"r"},{primary:!1,name:"hot",text:"热榜",path:"/hot",path_if_org:"/hot",cookieValue:"h"},{primary:!1,name:"zvideo",text:"视频",path:r.zvideo,path_if_org:r.zvideo,cookieValue:"v"}],i="tst",u=".zhihu.com",a=30,c=n(22107),s=n(94707),l=n(55164),d=n(57477),_=n(11625),p=n.n(_),f=o.map(function(e){return(0,d._)((0,l._)({},e),{path:e.path_if_org})}),T={tabsMapByName:p()(f,"name"),tabsMapByCookie:p()(f,"cookieValue"),tabsMapByPath:p()(f,"path")},E={tabsMapByName:p()(o,"name"),tabsMapByCookie:p()(o,"cookieValue"),tabsMapByPath:p()(o,"path")},h=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOrg:!1},n=t.isOrg,r=void 0!==n&&n;(0,c._)(this,e),this.TABS_TABLE=r?f:o,this.PRIMARY_TAB=this.TABS_TABLE.find(function(e){return e.primary}),this.maps=r?T:E}return(0,s._)(e,[{key:"isCurrCookiePrimary",value:function(e){return e===this.PRIMARY_TAB.cookieValue}},{key:"getTabByCookie",value:function(e){return this.maps.tabsMapByCookie[e]}},{key:"getTabByName",value:function(e){return this.maps.tabsMapByName[e]}},{key:"getTabByPath",value:function(e){return this.maps.tabsMapByPath[e]}}]),e}()},11857:function(e,t,n){"use strict";n.d(t,{y:function(){return c}});var r=n(57266),o=n.n(r),i=n(95769),u=n.n(i),a=n(74351),c=function(e){var t=e.payloadOrigin,n=e.currentUser;if((0,a.isBrowser)()){var r=t.data.map(function(e){return e.target}).filter(function(e){return!!e});u()(r,function(e){return"".concat(e.type,"_").concat(e.id)}).length<r.length&&window.Raven.captureException(Error("topstory recommend list duplication"),{extra:o()({payloadOrigin:t,currentUser:n},Boolean),level:"warning"})}}},6366:function(e,t,n){"use strict";n.d(t,{Yo:function(){return ec},gL:function(){return $},ZP:function(){return eI},KX:function(){return ef},fn:function(){return ep},sO:function(){return er},Qe:function(){return eT},dr:function(){return ev},sQ:function(){return X},F4:function(){return Q},t_:function(){return en},Z3:function(){return J},Bb:function(){return ei},L3:function(){return ee},MM:function(){return j},H2:function(){return ed},bH:function(){return el},c0:function(){return es},XX:function(){return em},Ci:function(){return eE},i4:function(){return eh},LC:function(){return W},Hr:function(){return Y},ms:function(){return eo},s:function(){return eu},jh:function(){return ea},Rv:function(){return et},yc:function(){return e_}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(74135),c=n(4785),s=n(58909),l=n(66263);function d(e){if(!e)return"";var t=e.indexOf("@");return t>2?e.slice(0,2)+"****"+e.slice(t):e}var _=n(39288),p=n(81897),f=n.n(p),T="unlock_ticket";function E(){return"undefined"!=typeof document&&f().remove(T),{unlockTicketStatus:!1,unlockTicket:null,challenge:[]}}var h=[l.An,l.hY,l.M,l.Uw,l.TY],v=(0,o._)({},(0,_.FH)("account",["UNLOCK_TICKET_BY_DIGITS","UNLOCK_TICKET_BY_PASSWORD","GET_UNLOCK_REQUEST","REQUEST_UNLOCK_TICKET","GET_UNBLOCK_INFO","REQUEST_PHONE_VERIFICATION_CODE","UPDATE_PHONE_NUMBER","GET_ACCOUNT_PHONE_VERIFY_CODE","UPDATE_ACCOUNT_PHONE","REQUEST_EMAIL_VERIFY_CODE","UPDATE_EMAIL","ACTIVE_EMAIL","MONOPOLIZE_PHONE_NUMBER","RESET_PASSWORD","RESET_ORG_PASSWORD","REQUEST_URL_TOKEN","UPDATE_URL_TOKEN","GET_ACCOUNT_INFO","GET_ORG_ACCOUNT_INFO","UPDATE_ORG_EMAIL","REQUEST_ORG_EMAIL_VERIFY_CODE","GET_ACCOUNT_CARDINFO","GET_ACCOUNT_STICKERS_LIST","GET_ACCOUNT_WIDGET","GET_ACCOUNT_WIDGETID"]),(0,_.co)("account",["RECOVER_DEFAULT_TYPE","SET_UNLOCK_TICKET","SET_HANDLEWIDGET","SET_ACCOUNTUSER_WIDGETID"])),m=v.UNLOCK_TICKET_BY_DIGITS,A=v.UNLOCK_TICKET_BY_PASSWORD,I=v.GET_UNLOCK_REQUEST,y=v.REQUEST_UNLOCK_TICKET,O=v.GET_UNBLOCK_INFO,S=v.REQUEST_PHONE_VERIFICATION_CODE,g=v.UPDATE_PHONE_NUMBER,C=v.GET_ACCOUNT_PHONE_VERIFY_CODE,N=v.UPDATE_ACCOUNT_PHONE,R=v.REQUEST_EMAIL_VERIFY_CODE,P=(v.REQUEST_ORG_EMAIL_VERIFY_CODE,v.UPDATE_EMAIL),D=v.ACTIVE_EMAIL,L=v.MONOPOLIZE_PHONE_NUMBER,w=v.RESET_PASSWORD,b=v.RESET_ORG_PASSWORD,G=v.REQUEST_URL_TOKEN,U=v.UPDATE_URL_TOKEN,k=v.GET_ACCOUNT_INFO,M=v.GET_ORG_ACCOUNT_INFO,F=v.UPDATE_ORG_EMAIL,Z=v.GET_ACCOUNT_CARDINFO,B=v.GET_ACCOUNT_STICKERS_LIST,H=v.GET_ACCOUNT_WIDGET,q=v.GET_ACCOUNT_WIDGETID,x=v.RECOVER_DEFAULT_TYPE,V=v.SET_UNLOCK_TICKET,z=v.SET_HANDLEWIDGET,K=v.SET_ACCOUNTUSER_WIDGETID;function W(e){return{API:{types:m,method:"POST",body:(0,c.z)((0,a.decamelizeKeys)({digits:e})),endpoint:"v3/oauth/account/unlock/digits"}}}function Y(e){return{API:{types:A,method:"POST",body:(0,c.z)((0,a.decamelizeKeys)({password:e})),endpoint:"v3/oauth/account/unlock/password"}}}function Q(){return{API:{types:I,method:"GET",endpoint:"v3/oauth/account/unlock/request",fetchOptions:{credentials:"include"}}}}function j(e){return{API:{types:y,method:"POST",endpoint:"v3/oauth/account/unlock/request/".concat(e)}}}function X(){return{API:{types:O,method:"GET",endpoint:"/antispam/lock_info"}}}function J(){return{type:x}}function $(){return function(e,t){var n,r=t().account,o=r.errorStatus,i=r.unlockTicket;if(o)return e({type:V,unlockTicket:null}),Promise.reject(Error("Require unlock ticket"));var u="undefined"==typeof document?null:"string"==typeof(n=f().get(T))?n.includes("|")&&!n.startsWith("|")?null:('"'===n.charAt(0)&&(n=n.slice(1,-1)),n):null;return u!==i&&e({type:V,unlockTicket:u}),null!==u?Promise.resolve():Promise.reject(Error("Require unlock ticket"))}}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.notification;return{API:{types:S,endpoint:"v3/account/api/account/phone_no",method:"POST",fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,c.Z)({new_phone_no:e})}},NOTIFICATION:void 0===n||n}}function et(e,t){return{phone:e,API:{types:g,endpoint:"v3/account/api/account/phone_no",method:"PUT",fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,c.Z)({new_phone_no:e,digits:t})}},NOTIFICATION:!1}}var en=function(){return{API:{types:L,endpoint:"v3/account/api/account/phone_no/cover",method:"POST",fetchOptions:{credentials:"include"}}}};function er(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{API:{types:C,endpoint:"v3/oauth/account/phone_no",method:"POST",headers:{"X-Account-Unlock":t},fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,c.Z)({new_phone_no:e})}},NOTIFICATION:n}}function eo(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return{phone:e,API:{types:N,endpoint:"v3/oauth/account/phone_no",method:"PUT",headers:{"X-Account-Unlock":n},fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,c.Z)({new_phone_no:e,digits:t})}},NOTIFICATION:r}}function ei(e,t){return{API:{types:R,endpoint:"v3/oauth/account/email",method:"POST",headers:{"X-Account-Unlock":t},fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,c.Z)({new_email:e})}}}}function eu(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(i,u){var a=u().currentUser;i({email:e,API:{types:P,endpoint:"v3/oauth/account/email",method:"PUT",headers:{"X-Account-Unlock":n},fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,c.Z)({new_email:e,digits:t})}},UPDATE:{success:function(){return{users:(0,r._)({},a,{email:d(e)})}}},NOTIFICATION:o})}}function ea(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(o,i){var u=i().currentUser;o({email:e,API:{types:F,endpoint:"org/settings/account/update_email",method:"POST",body:{email:e,digits:t}},UPDATE:{success:function(){return{users:(0,r._)({},u,{email:d(e)})}}},NOTIFICATION:n})}}function ec(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{API:{types:D,endpoint:"v3/oauth/account/active_mail",method:"POST"},NOTIFICATION:e}}function es(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,o){var i=(0,s.ib)(o()),u=i.urlToken,l=i.accountStatus,d=void 0===l?[]:l;return n({API:{types:w,endpoint:"v3/oauth/account/password",method:"PUT",fetchOptions:{zsEncrypt:!0,body:(0,c.Z)((0,a.decamelizeKeys)({newPassword:e}))}},UPDATE:{success:function(){return{users:(0,r._)({},u,{accountStatus:d.filter(function(e){return"force_reset_password"!==e.name})})}}},NOTIFICATION:t})}}function el(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,o){var i=(0,s.ib)(o()),u=i.urlToken,c=i.accountStatus,l=void 0===c?[]:c;return n({API:{types:b,endpoint:"org/settings/account/update_password",method:"POST",body:(0,a.decamelizeKeys)({password:e,passwordRepeat:e})},UPDATE:{success:function(){return{users:(0,r._)({},u,{accountStatus:l.filter(function(e){return"force_reset_password"!==e.name})})}}},NOTIFICATION:t})}}function ed(){return{API:{types:G,endpoint:"v3/oauth/account/url_token",method:"GET",fetchOptions:{credentials:"include"}}}}function e_(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,o){var i=o().currentUser;n({urlToken:e,API:{types:U,endpoint:"v3/oauth/account/url_token",method:"PUT",body:(0,c.z)({url_token:e}),fetchOptions:{credentials:"include"}},UPDATE:{success:function(){return{users:(0,r._)({},i,{urlToken:e})}}},NOTIFICATION:t})}}function ep(){return{API:{types:k,method:"GET",endpoint:"v3/oauth/account"}}}function ef(){return function(e){return e({API:{types:Z,endpoint:"unlimited/people/self/vip",root:"https://api.zhihu.com/",method:"GET"}})}}function eT(){return function(e){return e({API:{types:B,endpoint:"vip/widgets",root:"https://api.zhihu.com/",method:"GET"}})}}function eE(e){return function(t){return t({type:z,handleWidget:e})}}function eh(e,t){return function(n){return n({API:{types:H,endpoint:"vip/widget/settings",root:"https://api.zhihu.com/",method:e,body:{widget_id:"".concat(t)}}})}}function ev(){return function(e){return e({API:{types:q,endpoint:"vip/widget/member/info",root:"https://api.zhihu.com/",method:"GET"}})}}function em(e){return function(t){return t({type:K,widgetId:e})}}var eA={unlockTicketStatus:!1,unlockTicket:null,challenge:[],errorStatus:!1,message:"",isFetching:!1,accountInfo:{},urlToken:{loading:!1},cardUserInfo:{vipInfo:{}},handleWidget:{},widgetList:[],userWidgetId:""};function eI(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eA,a=arguments.length>1?arguments[1]:void 0,c=a.type,s=a.payload;if(c===O.success){var l=s.spamLevel,_=s.isAppealed;return(0,i._)((0,o._)({},r),{spamLevel:l,isAppealed:_,antispamLockInfo:s,isUnblockInfoFetched:!0})}if(-1!==[m.success,A.success].indexOf(c))return(0,o._)({},r,(e=a.payload,t=a.res,(n=e.unlockTicket)?{unlockTicketStatus:t.ok,unlockTicket:n,challenge:[],errorStatus:!1,message:""}:E()));if(-1!==[g.success,N.success].indexOf(c)){var p=a.phone,f=(0,i._)((0,o._)({},r.accountInfo),{phoneNo:function(e){if(!e)return"";var t=e+"";return t.slice(0,6)+"****"+t.slice(10)}(p)});return(0,i._)((0,o._)({},r,E()),{accountInfo:f})}if(c===P.success||c===F.success){var T=a.email,v=(0,i._)((0,o._)({},r.accountInfo),{email:d(T)});return(0,i._)((0,o._)({},r,E()),{accountInfo:v})}if(c===I.request)return(0,i._)((0,o._)({},r),{isFetching:!0});if(c===I.success)return(0,i._)((0,o._)({},r),{challenge:s.challenge,isFetching:!1});if(c===I.failure)return(0,i._)((0,o._)({},r),{isFetching:!1});if(c===k.success)return(0,i._)((0,o._)({},r),{accountInfo:s});if(c===M.success)return(0,i._)((0,o._)({},r),{accountInfo:{passwordSet:"已设置"===s.accountPwd.status,email:s.accountEmail.email}});if(c===G.request)return(0,i._)((0,o._)({},r),{urlToken:{loading:!0}});if(c===G.success)return(0,i._)((0,o._)({},r),{urlToken:{loading:!1,setable:s.setable,token:s.urlToken}});if(c===G.failure)return(0,i._)((0,o._)({},r),{urlToken:{loading:!1}});if(c===U.success){var y=a.urlToken;return(0,i._)((0,o._)({},r),{urlToken:{loading:!1,setable:!1,token:y}})}if(c===x)return(0,i._)((0,o._)({},r),{errorStatus:!1,isFetching:!1});if(c===z)return(0,i._)((0,o._)({},r),{handleWidget:(0,o._)({},a.handleWidget)});if(c===V)return(0,i._)((0,o._)({},r),{unlockTicket:a.unlockTicket});if(a.err&&a.err.payload){var S=a.err.payload;if(h.includes(S.code))return(0,i._)((0,o._)({},r),{unlockTicketStatus:!1,errorStatus:!0,message:S.message})}return c===Z.success?(0,i._)((0,o._)({},r),{cardUserInfo:(0,o._)({},s)}):c===B.success?(0,i._)((0,o._)({},r),{widgetList:(0,u._)(s.data)}):c===q.success?(0,i._)((0,o._)({},r),{userWidgetId:s.data.widgetId}):c===K?(0,i._)((0,o._)({},r),{userWidgetId:a.widgetId}):r}},22712:function(e,t,n){"use strict";n.d(t,{Cz:function(){return T},SE:function(){return s}});var r,o=n(87320),i=n(94146),u=n(8866),a=n(89250),c=n(35528),s={vote:{positive:"voteup",revertPositive:"revert_voteup",negative:"votedown",revertNegative:"revert_votedown"},like:"like",revertLike:"revert_like",collect:"collect",revertCollect:"revert_collect",follow:"follow",revertFollow:"revert_follow",comments:{show:"show_comments",close:"close_comments",publish:"comment_publish"},shareClick:"share_click"},l={answer:{},article:{}},d=function(e,t){var n=t.type,r=t.id,o=t.action;Object.keys(l).includes(n)&&r&&(e[n][r]=o)},_=function(e){return function(t,n){var r=n.meta,o=n.payload,i=t.answer[r.id];1===o.voting?i=s.vote.positive:-1===o.voting?i=s.vote.negative:0===o.voting&&1===r.beforeVoting?i=s.vote.revertPositive:0===o.voting&&-1===r.beforeVoting&&(i=s.vote.revertNegative),d(t,{type:e,id:r.id,action:i})}},p=function(e){return function(t,n){var r=n.meta,o=n.payload;d(t,{type:e,id:r.id,action:o.isThanked||o.isLiked?s.like:s.revertLike})}},f=(0,i.oM)({initialState:l,name:"adPromotion",reducers:{updateAdPromotionAction:function(e,t){var n=t.payload;d(e,{type:n.type,id:n.id,action:n.currentAction})}},extraReducers:(r={},(0,o._)(r,u.uJ.UPDATE_VOTE.success,_("answer")),(0,o._)(r,a.VA.VOTE.success,_("article")),(0,o._)(r,u.uJ.UPDATE_THANK.success,p("answer")),(0,o._)(r,a.VA.LIKE.success,p("article")),(0,o._)(r,c.xb.UPDATE_FAVLIST_ITEM.success,function(e,t){var n=t.meta,r=n.collected,o=n.contentId;d(e,{type:n.contentType,id:o,action:r?s.collect:s.revertCollect})}),r)}),T=f.actions.updateAdPromotionAction;t.ZP=f.reducer},8866:function(e,t,n){"use strict";n.d(t,{G:function(){return N},G_:function(){return X},Hh:function(){return U},Hs:function(){return V},IS:function(){return P},JX:function(){return Z},Md:function(){return W},Mn:function(){return ee},OC:function(){return w},ON:function(){return k},Pe:function(){return D},RW:function(){return x},TC:function(){return O},V7:function(){return j},Vc:function(){return M},Yu:function(){return G},Zq:function(){return I},ae:function(){return Y},bW:function(){return L},bs:function(){return z},eP:function(){return $},eu:function(){return S},f0:function(){return R},fT:function(){return g},iM:function(){return C},i_:function(){return y},mO:function(){return B},oe:function(){return H},p3:function(){return q},ri:function(){return K},uJ:function(){return E},xD:function(){return Q},xW:function(){return F},z:function(){return J}});var r=n(87320),o=n(55164),i=n(57477),u=n(94009),a=n(74135),c=n(94057),s=n(28953),l=n(84054),d=n.n(l),_=n(80714),p=n(39288),f=n(69906),T=n(28814),E=(0,p.FH)("answer",["UPDATE_VOTE","UPDATE_THANK","UPDATE_COMMENT_PERMISSION","UPDATE_RESHIPMENTSETTINGS","DELETE","RESTORE","GET","GET_SOME","GET_VOTERS","GET_COPYRIGHT_APPLICANTS","GET_FAVLISTS","GET_COMMENT_PERMISSION","COLLAPSE","ADD","UPDATE","STICK","UPDATE_ANSWER_REWARD","GET_CONCERNED_UPVOTERS","GET_SIMPLE_CONCERNED_UPVOTERS","LOAD_MARKET_ANSWER_PAID_CONTENT","GET_SETTINGS","SCHEDULED_PUBLISH","VALIDATE_SCHEDULED_PUBLISH","CANCEL_SCHEDULED_PUBLISH","CHECK_IF_CAN_CONVERT_TO_VESSAY","SUBMIT_EVALUTE","LOAD_ANSWER_SEARCH_ENTITY"]),h=(0,p.co)("answer",["UPDATE_SETTINGS_DISCLAIMER"]),v=d()({is_visible:!0,paid_info:!0,paid_info_content:!0,admin_closed_comment:!0,reward_info:!0,annotation_action:!0,annotation_detail:!0,collapse_reason:!0,is_normal:!0,is_sticky:!0,collapsed_by:!0,suggest_edit:!0,comment_count:!0,can_comment:!0,content:!0,editable_content:!0,voteup_count:!0,reshipment_settings:!0,comment_permission:!0,created_time:!0,updated_time:!0,review_info:!0,relevant_info:!0,question:!0,excerpt:!0,attachment:!0,relationship:{is_authorized:!0,voting:!0,is_thanked:!0,is_author:!0,is_nothelp:!0,is_labeled:!0},mark_infos:[{url:!0}],author:{badge:[{topics:!0}],vip_info:!0},settings:{table_of_content:{enabled:!0}},reaction_instruction:!0,ip_info:!0}),m=d()({"":[{is_normal:!0,is_sticky:!0,collapsed_by:!0,suggest_edit:!0,comment_count:!0,content:!0,editable_content:!0,voteup_count:!0,reshipment_settings:!0,comment_permission:!0,created_time:!0,updated_time:!0,question:!0,excerpt:!0,relationship:{is_authorized:!0,voting:!0,is_thanked:!0,is_author:!0,is_nothelp:!0},mark_infos:[{url:!0}],author:{badge:[{topics:!0}]},settings:{table_of_content:{enabled:!0}},ip_info:!0}]}),A={up:1,down:-1,neutral:0};function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"answer";return function(n){return n({meta:{id:e},API:{types:E.CHECK_IF_CAN_CONVERT_TO_VESSAY,endpoint:"vessay/".concat(t,"s/").concat(e,"/status")},UPDATE:{success:function(n){return(0,r._)({},"".concat(t,"s"),(0,r._)({},e,(0,o._)({},n)))}}})}}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=n.zVideoId,c=n.cardType,s=arguments.length>3?arguments[3]:void 0;return function(n,l){var d,_,p,f,T,h,v=l().entities,m=v.answers,I=void 0===m?{}:m,y=v.users,O=v.videoanswers,S=s||("videoanswers"===c?(void 0===O?{}:O)[e]:("koc"===c?null===(d=I[e])||void 0===d?void 0:d.answer:I[e])||{}),g=S.author||{},C=g.urlToken,N="videoanswers"===c?"videoanswers":"answers";return p="up"===t?1:1===S.voting?-1:0,n({API:{types:E.UPDATE_VOTE,endpoint:u?"zvideos/".concat(u,"/voters"):"answers/".concat(e,"/voters"),method:"POST",body:(0,a.decamelizeKeys)(u?{voting:t}:{type:t})},meta:{beforeVoting:S.relationship.voting,id:e},UPDATE:{request:(T={},(0,r._)(T,N,(0,r._)({},e,(0,i._)((0,o._)({},S),{voteupCount:S.voteupCount+p,relationship:(0,i._)((0,o._)({},S.relationship),{voting:A[t]})}))),(0,r._)(T,"users",(0,r._)({},C,{voteupCount:(null!==(f=null===(_=(void 0===y?{}:y)[C])||void 0===_?void 0:_.voteupCount)&&void 0!==f?f:0)+p})),T),failure:(h={},(0,r._)(h,N,(0,r._)({},e,S)),(0,r._)(h,"users",(0,r._)({},C,g)),h),success:function(t){return u?{answers:(0,r._)({},e,{voteupCount:t.voteupCount,relationship:(0,i._)((0,o._)({},S.relationship),{voting:t.voting})})}:"koc"===c?{answers:(0,r._)({},e,{answer:{voteupCount:t.voteupCount,relationship:(0,i._)((0,o._)({},S.relationship),{voting:t.voting})}})}:(0,r._)({},N,(0,r._)({},e,t))}}})}}function O(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=n.zVideoId,a=n.cardType,c=arguments.length>3?arguments[3]:void 0;return function(n,s){var l,d=s().entities,_=d.answers,p=void 0===_?{}:_,f=d.videoanswers,T="videoanswers"===a?"videoanswers":"answers",h=c||("videoanswers"===a?(void 0===f?{}:f)[e]:"koc"===a?null===(l=p[e])||void 0===l?void 0:l.answer:p[e]);return n({API:{types:E.UPDATE_THANK,endpoint:u?"zvideos/".concat(u,"/likers"):"answers/".concat(e,"/thankers"),method:t?"POST":"DELETE"},meta:{id:e},UPDATE:{request:(0,r._)({},T,(0,r._)({},e,(0,i._)((0,o._)({},h),{relationship:(0,i._)((0,o._)({},h.relationship),{isThanked:t}),thanksCount:h.thanksCount+(t?1:-1)}))),success:function(t){if(u){var n=t.isLiked,o=t.likedCount;return{answers:(0,r._)({},e,{relationship:{isThanked:n},thanksCount:o})}}var i=t.isThanked,c=t.thanksCount;return"koc"===a?{answers:(0,r._)({},e,{answer:{relationship:{isThanked:i},thanksCount:c}})}:(0,r._)({},T,(0,r._)({},e,{relationship:{isThanked:i},thanksCount:c}))},failure:(0,r._)({},T,(0,r._)({},e,h))}})}}function S(e,t){return function(n,o){var i=o().entities.answers[e];return n({API:{types:E.UPDATE_RESHIPMENTSETTINGS,endpoint:"answers/".concat(e),method:"PUT",body:(0,a.decamelizeKeys)({reshipmentSettings:t})},UPDATE:{request:{answers:(0,r._)({},e,{reshipmentSettings:t})},failure:{answers:(0,r._)({},e,i)}}})}}function g(e,t){return function(n,u){var c=u().entities.answers[e];return n({API:{types:E.UPDATE_ANSWER_REWARD,endpoint:"answers/".concat(e),method:"PUT",query:{include:v},body:(0,a.decamelizeKeys)({rewardSetting:{canReward:!!t,tagline:t}})},UPDATE:{success:function(t){return{answers:(0,r._)({},e,(0,i._)((0,o._)({},t),{rewardInfo:(0,o._)({},t.rewardInfo)}))}},failure:{answers:(0,r._)({},e,c)}}})}}function C(e,t){return function(n,o){var i=o().entities.answers[e];return n({API:{types:E.UPDATE_COMMENT_PERMISSION,endpoint:"answers/".concat(e),method:"PUT",body:(0,a.decamelizeKeys)({commentPermission:t})},UPDATE:{request:{answers:(0,r._)({},e,{commentPermission:t})},failure:{answers:(0,r._)({},e,i)}}})}}function N(e){return function(t,n){var o=n(),i=o.currentUser,u=o.entities,a=u.answers,c=u.questions,s=u.users,l=a[e],d=l.question.id,_=c[d],p=s[i];return t({API:{types:E.DELETE,endpoint:"answers/".concat(e),method:"DELETE"},UPDATE:{request:{answers:(0,r._)({},e,{isDelete:!0}),questions:(0,r._)({},d,{answerCount:_?_.answerCount-1:0,relationship:{myAnswer:{answerId:e,isDeleted:!0}}}),users:(0,r._)({},i,{answerCount:p.answerCount-1})},failure:{answers:(0,r._)({},e,l),questions:(0,r._)({},d,_),users:(0,r._)({},i,p)}}})}}function R(e,t){return function(n,o){var i=o(),u=i.currentUser,a=i.entities,c=a.answers,l=a.questions,d=a.users,_=c[t],p=l[e],f=d[u];return n({API:{types:E.RESTORE,endpoint:"/answers/".concat(t,"/actions/restore"),query:{include:v},method:"POST"},schema:s.l.ANSWER,id:e,UPDATE:{request:{answers:(0,r._)({},t,{isDelete:!1}),questions:(0,r._)({},e,{answerCount:p?p.answerCount+1:0,relationship:{myAnswer:{answerId:t,isDeleted:!1}}}),users:(0,r._)({},u,{answerCount:f.answerCount+1})},failure:{answers:(0,r._)({},t,_),questions:(0,r._)({},e,p),users:(0,r._)({},u,f)}}})}}function P(e,t){return{API:{types:E.GET,endpoint:"answers/".concat(e),query:{include:t||v}},schema:s.l.ANSWER}}function D(e){return{API:{endpoint:"v3/entity_word",query:{type:"answer",token:e},types:E.LOAD_ANSWER_SEARCH_ENTITY},meta:e}}function L(e){return{API:{types:E.GET_SOME,endpoint:"answers",query:{include:m,tokens:e.join(",")}},schema:s.l.ANSWER_ARRAY}}function w(e){return{id:e,API:{types:E.GET_SIMPLE_CONCERNED_UPVOTERS,endpoint:"answers/".concat(e,"/concerned_upvoters"),query:{limit:5,offset:0}},NOTIFICATION:!1,schema:s.l.USER_ARRAY}}function b(e,t){return function(n,r){var i=(t||r().answers.voters[e]||{}).next;return n({id:e,API:(0,o._)({types:E.GET_VOTERS},i?{endpoint:i}:{endpoint:"answers/".concat(e,"/voters"),query:{include:d()({data:[{answer_count:!0,articles_count:!0,follower_count:!0,gender:!0,is_followed:!0,is_following:!0,badge:!0}]}),limit:f.VZ,offset:0}}),schema:s.l.USER_ARRAY})}}function G(e){return function(t,n){var r=n().answers,i=r.voters,u=r.concernedUpvoters,a=(void 0===i?{}:i)[e]||{},c=(void 0===u?{}:u)[e]||{};return c.isDrained?t(b(e,a)):t(function(t,n){var r=(c||n().question.concernedFollowers[e]||{}).next;return t({id:e,API:(0,o._)({types:E.GET_CONCERNED_UPVOTERS},r?{endpoint:r}:{endpoint:"answers/".concat(e,"/concerned_upvoters"),query:{include:d()({data:[{answer_count:!0,articles_count:!0,follower_count:!0,gender:!0,is_followed:!0,is_following:!0,badge:!0}]}),limit:f.VZ,offset:0}}),NOTIFICATION:!1,schema:s.l.USER_ARRAY})}).then(function(n){var r=n.payload,o=r.paging,i=r.data;return o.isEnd||!i.length?t(b(e,a)):n},function(){return t(b(e,a))})}}function U(e){return P(e,d()({reshipment_settings:!0,comment_permission:!0}))}function k(e){return function(t,n){var o,i=n(),u=i.currentUser,a=i.entities,c=a.answers[e]||{},s=c.question.questionType,l=a.users[u],d=l.isAdvertiser,_=l.isOrg,p="nobody"!==c.collapsedBy;return t({id:e,answer:c,collapsedBy:o=p?"nobody":d&&"commercial"===s?"advertiser":_?"org":"community",API:{types:E.COLLAPSE,endpoint:"answers/".concat(e,"/actions/collapse"),method:p?"DELETE":"POST"},UPDATE:{request:{answers:(0,r._)({},e,{collapsedBy:o,isSticky:!1})},failure:{answers:(0,r._)({},e,{collapsedBy:c.collapsedBy,isSticky:c.isSticky})}}})}}function M(e){return function(t,n){var i,u=n().entities,a=(u.answers[e]||{}).isSticky,c=Object.values(u.answers).find(function(e){return e.isSticky}),s={};return i=a?"已取消当前精选回答。":c?"已设置为精选，之前的精选回答将被替换。":"已设置为精选，刷新后回答将置顶",c&&(s[c.id]={isSticky:!1}),t({id:e,API:{types:E.STICK,endpoint:"answers/".concat(e,"/actions/stick"),method:a?"DELETE":"POST"},UPDATE:{request:{answers:(0,o._)((0,r._)({},e,{isSticky:!a}),s)},failure:{answers:(0,r._)({},e,{isSticky:a})}},NOTIFICATION:{success:i,failure:function(e){return e.message}}})}}function F(e,t){return{API:{types:E.VALIDATE_SCHEDULED_PUBLISH,method:"POST",endpoint:"questions/".concat(e,"/validate-scheduled-answer"),body:(0,a.decamelizeKeys)(t)},NOTIFICATION:!1}}function Z(e){return{API:{types:E.CANCEL_SCHEDULED_PUBLISH,method:"DELETE",endpoint:"questions/".concat(e,"/scheduled-answer")},UPDATE:{success:function(){return{drafts:(0,r._)({},"question_".concat(e),{schedule:null})}}}}}function B(e,t){return{API:{types:E.SCHEDULED_PUBLISH,method:"POST",endpoint:"questions/".concat(e,"/scheduled-answer"),query:{include:v},body:(0,a.decamelizeKeys)(t)},schema:s.l.ANSWER}}function H(e,t){return function(n,o){var i=o(),u=i.currentUser,c=i.entities,l=c.users,d=c.questions,_=l[u]||{},p=d[e]||{};return n({API:{types:E.ADD,method:"POST",endpoint:t.publishAt?"questions/".concat(e,"/scheduled-answer"):"questions/".concat(e,"/answers"),query:{include:v},body:(0,a.decamelizeKeys)(t),fetchOptions:{zsAutoSignature:!1}},schema:s.l.ANSWER,id:e,question:p,UPDATE:{success:function(t){var n=p.answerCount;return"commercial"!==p.questionType&&n++,{users:(0,r._)({},u,{answerCount:_.answerCount+1}),questions:(0,r._)({},e,{answerCount:n,relationship:{myAnswer:{answerId:t.id,isDeleted:!1},isFollowing:!0}}),drafts:(0,r._)({},"question_".concat(e),null)}}}})}}function q(e,t){return function(n,u){var c=u().entities,l=c.answers,d=c.drafts,_=l[e];return n({API:{types:E.UPDATE,method:"PUT",endpoint:"answers/".concat(e),query:{include:v},body:(0,a.decamelizeKeys)(t),fetchOptions:{zsAutoSignature:!1}},schema:s.l.ANSWER,UPDATE:{request:{answers:(0,r._)({},e,t),drafts:(0,r._)({},"question_".concat(_.question.id),null)},success:function(t){return{answers:(0,r._)({},e,(0,i._)((0,o._)({},t),{rewardInfo:(0,i._)((0,o._)({},t.rewardInfo),{rewardMemberCount:_.rewardInfo.rewardMemberCount,rewardTotalMoney:_.rewardInfo.rewardTotalMoney})})),drafts:(0,r._)({},"question_".concat(_.question.id),null)}},failure:{answers:(0,r._)({},e,_),drafts:d}}})}}function x(e){return function(t,n){var r=(n().answers.copyrightApplicants[e]||{}).next;return t({id:e,API:(0,o._)({types:E.GET_COPYRIGHT_APPLICANTS},r?{endpoint:r}:{endpoint:"answers/".concat(e,"/copyright-applicants"),query:{offset:0,limit:f.VZ}}),schema:s.l.COPYRIGHT_APPLICANTS_ARRAY})}}function V(e){return function(t,n){var r=(n().answers.favlists[e]||{}).next;return t({id:e,API:(0,o._)({types:E.GET_FAVLISTS},r?{endpoint:r}:{endpoint:"answers/".concat(e,"/favlists"),query:{include:d()({data:[{answer_count:!0,follower_count:!0,creator:!0}]}),offset:0,limit:f.VZ}}),schema:s.l.FAVLIST_ARRAY})}}function z(e){return{id:e,API:{root:_.Z.fetchRoot.api,endpoint:"/kmqa/answers/".concat(e,"/paid_content"),query:{include:d()({goods_card:!0,btn_info:!0,za_info:!0,ab_param:!0,benefits_pics:!0})},types:E.LOAD_MARKET_ANSWER_PAID_CONTENT}}}function K(e){return{id:e,API:{types:E.GET_SETTINGS,endpoint:"/answers/".concat(e,"/settings")}}}function W(e,t,n){return{type:h.UPDATE_SETTINGS_DISCLAIMER,id:e,payload:{status:t,type:n}}}function Y(e,t){var n=t.id;return e.entities.answers[n]}var Q=function(e,t){var n=t.id,r=e.question.answers[n],o=(void 0===r?{}:r).ids,i=(0,u._)(void 0===o?[]:o,1)[0];if(i)return Y(e,{id:i})};function j(e,t){var n,r=t.id,o=null===(n=e.answers)||void 0===n?void 0:n.simpleConcernedUpvoters[r];return o?o.ids.map(function(t){return(0,T.np)(e,{id:t})}):null}function X(e){return!!e&&!!e.relevantInfo&&["self_commercial","self_community"].includes(e.relevantInfo.relevantType)}function J(e){return!!e&&!!e.relevantInfo&&["brand_special","brand_best"].includes(e.relevantInfo.relevantType)}function $(e){return!!e&&!!e.relevantInfo&&["brand_answer","brand_special","brand_best"].includes(e.relevantInfo.relevantType)}function ee(e,t){var n,r;return null===(n=e.answers)||void 0===n?void 0:null===(r=n.paidContent)||void 0===r?void 0:r[t]}t.ZP=(0,c.combineReducers)({voters:(0,f.Fd)(E.GET_VOTERS),copyrightApplicants:(0,f.Fd)(E.GET_COPYRIGHT_APPLICANTS),favlists:(0,f.Fd)(E.GET_FAVLISTS),newAnswer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===E.ADD.success?t.payload:e},entityWords:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===E.LOAD_ANSWER_SEARCH_ENTITY.success){var n=t.meta,u=t.payload,a=(void 0===u?{}:u).searchWords;return(0,i._)((0,o._)({},e),(0,r._)({},n,a))}return t.type===E.LOAD_ANSWER_SEARCH_ENTITY.failure&&window.Raven.captureException(t.err,{logger:"searchEntityError",extra:{id:t.meta,type:"answer"}}),e},concernedUpvoters:(0,f.Fd)(E.GET_CONCERNED_UPVOTERS),simpleConcernedUpvoters:(0,f.Fd)(E.GET_SIMPLE_CONCERNED_UPVOTERS),paidContent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===E.LOAD_MARKET_ANSWER_PAID_CONTENT.request){var n=t.id;return(0,i._)((0,o._)({},e),(0,r._)({},n,{isRequesting:!0}))}if(t.type===E.LOAD_MARKET_ANSWER_PAID_CONTENT.success){var u=t.id;return(0,i._)((0,o._)({},e),(0,r._)({},u,{isRequesting:!1,result:t.payload}))}if(t.type===E.LOAD_MARKET_ANSWER_PAID_CONTENT.failure){var a=t.id;return(0,i._)((0,o._)({},e),(0,r._)({},a,{isRequesting:!1,error:!0}))}return e},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===E.GET_SETTINGS.success){var n=t.id,u=t.payload;return(0,i._)((0,o._)({},e),(0,r._)({},n,u))}if(t.type===h.UPDATE_SETTINGS_DISCLAIMER){var a=t.id,c=t.payload,s=c.status,l=c.type;return(0,i._)((0,o._)({},e),(0,r._)({},a,(0,i._)((0,o._)({},e[a]),{disclaimerInfo:[{type:l,status:s}]})))}return e}})},89250:function(e,t,n){"use strict";n.d(t,{Id:function(){return h},Pt:function(){return T},Sb:function(){return v},V7:function(){return m},VA:function(){return p},k5:function(){return E}});var r=n(87320),o=n(55164),i=n(94057),u=n(28953),a=n(84054),c=n.n(a),s=n(39288),l=n(69906),d=n(67927),_=n(28814),p=(0,s.FH)("article",["LIKE","VOTE","GET_VOTERS","GET_COMMENT_PERMISSION","GET_CONCERNED_UPVOTERS"]),f={up:1,down:-1,neutral:0};function T(e,t,n){return function(i,u){var a,c=u().entities.articles[e],s=("koc"===n?c.article:c)||{},l=s.voteupCount,_=s.votePosting,T=s.voting;if(a=-1===T&&"neutral"===t||0===T&&"down"===t?l:Math.max(l+f[t],0),!_)return i({id:e,API:{types:p.VOTE,endpoint:"articles/".concat(e,"/voters"),method:"POST",body:{voting:f[t]}},meta:{id:e,beforeVoting:T},UPDATE:{request:{articles:(0,r._)({},e,{voteupCount:a,voting:f[t],votePosting:!0})},success:function(t){return"koc"===n?{articles:(0,r._)({},e,{votePosting:!1,article:(0,o._)({},t)})}:{articles:(0,r._)({},e,(0,o._)({votePosting:!1},t))}},failure:{articles:(0,r._)({},e,(0,o._)({votePosting:!1},c))}},NOTIFICATION:{failure:d.XR}})}}function E(e){return function(t,n){var o=n().entities.articles[e],i=o.voteupCount,u=o.voting;return t({id:e,API:{types:p.LIKE,endpoint:"articles/".concat(e,"/likers"),method:1===u?"delete":"post"},UPDATE:{request:{articles:(0,r._)({},e,{voteupCount:Math.max(1===u?i-1:i+1,0),voting:1===u?0:1})},success:function(t){return{articles:(0,r._)({},e,t)}},failure:{articles:(0,r._)({},e,o)}},NOTIFICATION:{failure:d.XR}})}}function h(e){return function(t,n){var r=n().articles,i=((void 0===r?{}:r).voters[e]||{}).next;return t({id:e,API:(0,o._)({types:p.GET_VOTERS},i?{endpoint:i}:{endpoint:"articles/".concat(e,"/likers"),query:{include:c()({data:[{answer_count:!0,articles_count:!0,follower_count:!0,gender:!0,is_followed:!0,is_following:!0,badge:!0}]}),offset:0,limit:l.VZ}}),schema:u.l.USER_ARRAY})}}function v(e){return{id:e,API:{types:p.GET_CONCERNED_UPVOTERS,endpoint:"articles/".concat(e,"/concerned_upvoters"),query:{limit:5,offset:0}},NOTIFICATION:!1,schema:u.l.USER_ARRAY}}function m(e,t){var n,r,o=t.id,i=null===(n=e.articles)||void 0===n?void 0:null===(r=n.concernedUpvoters)||void 0===r?void 0:r[o];return i?i.ids.map(function(t){return(0,_.np)(e,{id:t})}):null}t.ZP=(0,i.combineReducers)({voters:(0,l.Fd)(p.GET_VOTERS),concernedUpvoters:(0,l.Fd)(p.GET_CONCERNED_UPVOTERS)})},58857:function(e,t,n){"use strict";n.d(t,{ZP:function(){return s},c1:function(){return c}});var r=n(87320),o=n(55164),i=n(57477),u=n(39288),a=(0,o._)({},(0,u.FH)("banner",["GET","GET_BRANDTRACK"]),(0,u.co)("banner",["CLOSE"]));function c(e){var t=e.type,n=e.id;return{API:{types:a.GET_BRANDTRACK,endpoint:"/brand/track",query:{content_type:t,url_token:n}},NOTIFICATION:!1,FAILSAFE:!0}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===a.GET.success){var n=t.id,u=t.location,c=t.payload.banner;e=(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},e[n]),(0,r._)({},u,{banner:c,isDrained:!0}))))}if(t.type===a.CLOSE){var s=t.id,l=t.location;e=(0,i._)((0,o._)({},e),(0,r._)({},s,(0,i._)((0,o._)({},e[s]),(0,r._)({},l,null))))}return e}},79540:function(e,t,n){"use strict";n.d(t,{PQ:function(){return s},RD:function(){return a},ZP:function(){return d}});var r=n(87320),o=n(55164),i=n(57477),u=(0,n(39288).FH)("brand",["LOAD_CONTENT_PLUGIN"]).LOAD_CONTENT_PLUGIN;function a(e,t){var n={contentType:e,contentToken:t};return{FAILSAFE:!0,API:{types:Object.values(u),endpoint:"brand/content/plugin",query:n},meta:n}}var c=function(e){var t=e.contentType,n=e.contentToken;return"".concat(t,"_").concat(n)},s=function(e,t){var n,r=e.brand,o=t.contentType,i=t.contentToken;return null==r?void 0:null===(n=r.contentPlugin)||void 0===n?void 0:n[c({contentType:o,contentToken:i})]},l={contentPlugin:{}};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;if(n===u.success){var s=e.contentPlugin,d=c(t.meta);return(0,i._)((0,o._)({},e),{contentPlugin:(0,i._)((0,o._)({},s),(0,r._)({},d,a))})}return e}},80103:function(e,t,n){"use strict";var r=n(55164),o=n(39288),i=(0,r._)({},(0,o.FH)("campaign",["LOAD_SINGLE","TOGGLE_FOLLOW_USER","APPLY_KNOWLEDGE","LOAD_LIST","POLL","REFRESH_VIDEO_LIST","ACCEPT_INVITATION","SUBMIT_INVITATION_CODE","APPLY_VIDEO_MAKER_ACQUISITION","LOAD_INVITEE_INFO","APPLY_ACCEPT_INVITE","APPLY_INVITE","LOAD_VOTE_USERS","APPLY_VOTE","GET_SHARE_POSTER","GET_IDENTITY_VERIFY_STATUS","FOLLOW_USER"]),(0,o.co)("campaign",["UPDATE_ZHIHU2020_RECOMMENDED_MEMBER_FOLLOE_STATUS","REFRESH_RESERVATION","SHARE_POSITION"]));t.Z=i},64120:function(e,t,n){"use strict";n.d(t,{Tg:function(){return eT},uS:function(){return eh},NK:function(){return z},iS:function(){return q},AN:function(){return Y},qn:function(){return B},rL:function(){return en},ZP:function(){return eL},Wr:function(){return P},DV:function(){return R},JK:function(){return V},z8:function(){return x},om:function(){return eP},U9:function(){return D},CF:function(){return U},WK:function(){return J},f:function(){return eu},a:function(){return ea},d4:function(){return F},IU:function(){return e_},bD:function(){return ef},lb:function(){return ep},tK:function(){return et},li:function(){return eo},fZ:function(){return L},yR:function(){return w},Iy:function(){return ei},rs:function(){return H},VC:function(){return W},XN:function(){return Q},w9:function(){return eC},Cj:function(){return ec},dc:function(){return es},rz:function(){return G},n7:function(){return ed},$g:function(){return $},BS:function(){return eR},K1:function(){return ee},PW:function(){return X},RU:function(){return j},bn:function(){return K},lK:function(){return Z},wx:function(){return M},Jx:function(){return eD},Sj:function(){return ev},tU:function(){return eN},U3:function(){return em},xg:function(){return eI},H:function(){return eg},$A:function(){return b},$l:function(){return el},sj:function(){return er},NV:function(){return ey},wz:function(){return eE},V4:function(){return k},ow:function(){return eS},F0:function(){return eO},Kp:function(){return eA}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(74135),c=n(4667),s=n.n(c),l=n(94057);n(84054);var d=n(80523),_=n(80498),p=n(80103),f=n(39288),T="boarding",E=(0,o._)({},(0,f.FH)(T,["GET","GET_SHARE_LINK","GET_SHARE_POSTER","GET_BUBBLES","GET_REWARD_LIST","GET_WITHDRAWAL_LIST","BIND_INVITER","GET_INVITER","GET_INVITE_LIST","CALL","DRAW_REWARD","GET_TASK","GET_NOTIFICATION","WITHDRAW"]),(0,f.co)(T,["CLEAR"])),h={},v="card-collecting",m=(0,o._)({},(0,f.FH)(v,["GET_PROFILE","DRAW_PRIZE","GET_TASK_LIST","GET_SHARE_LINK","GET_GIVER_INFO","GET_INVITER_INFO","GET_PROFILE","GET_CARD_LIST","FUSE_CARD","GET_SHARE_KEY","GET_FUSE_STATUS","GET_RECEIVED_CARD","RECEIVE_CARD","GET_PRIZE_LIST","GET_SHARE_POSTER","WITHDRAW"]),(0,f.co)(v,["SET_MODAL","SET_PANEL","SHIFT_CARD","SET_NEW_COIN_COUNT","SET_SHARE_INTENTION","CONSUME_NEW_USER_CARD","SET_MESSAGE","CLEAR_RECEIVED_CARD","CLEAR_PRIZE"])),A={message:null,profile:{balance:"0",chance:0,coinNum:0,gatherClose:!1,isGotMagicCard:!1,isPay:!1,partitionStart:!1,totalDone:0,withdrawStart:!1},sharePoster:{share:"",sendCard:"",invite:""},shareLink:null,shareIntention:"share",shareKey:null,shareCardId:null,inviterInfo:null,giverInfo:null,prize:null,receivedCard:null,newCoinCount:null,newCardList:[],newUserCardCount:1,taskList:[],prizeList:null,cardList:null,panel:{showTaskPanel:!1,showRewardPanel:!1},modal:{showWelcomeModal:!1,showFusionModal:!1,showFusionPromptModal:!1,showShareModal:!1,showBackModal:!1}},I=n(62483),y=n(68392),O=n(42989),S=n(31824),g=n(7407),C="featuredQuestionsConfig",N=function(e){return e+"-featuredQuestions"},R=function(e,t){var n,r;return null===(n=e.campaign)||void 0===n?void 0:null===(r=n.list)||void 0===r?void 0:r[N(t)]},P=(0,S.P1)([g.Xj,function(e){var t,n,r,o;return null===(t=e.campaign)||void 0===t?void 0:null===(n=t.single)||void 0===n?void 0:null===(r=n[C])||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.config}],function(e,t){return t?e?t:t.filter(function(e){return"1"===e.isPublic}):null}),D=function(e){var t,n,r;return null===(t=e.campaign)||void 0===t?void 0:null===(n=t.single)||void 0===n?void 0:null===(r=n[C])||void 0===r?void 0:r.refreshLoading};function L(e){return function(t,n){var r,o=((null===(r=R(n(),e))||void 0===r?void 0:r.paging)||{}).next;return t({meta:{stateKey:N(e)},API:{types:p.Z.LOAD_LIST,endpoint:o||"/creative-events/activity/recommend/questions?limit=20&activity_id=".concat(e)}})}}function w(){return{meta:{stateKey:C},API:{types:p.Z.LOAD_SINGLE,endpoint:"/sku/km_resource?token=knowledge-plan-recommend-question",root:"https://api.zhihu.com"},FAILSAFE:!0}}var b=function(e){return function(t){var n;return null===(n=t.campaign.single["zvideo-".concat(e)])||void 0===n?void 0:n.video}};function G(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{meta:{stateKey:"mothersDay"},API:{types:p.Z.LOAD_SINGLE,endpoint:"creative-events/mother_day",query:{preview:e?"prev1ew":void 0}}}}function U(e){return{meta:{stateKey:["blueStarList",e]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/topics/rank_list/sub_rank_list/".concat(e)}}}function k(e,t){return{API:{types:p.Z.TOGGLE_FOLLOW_USER,endpoint:"members/".concat(e,"/followers"),method:t?"POST":"DELETE"}}}function M(e,t){return{meta:{stateKey:e},needMerge:!0,API:{types:p.Z.LOAD_SINGLE,endpoint:"/sku/km_resource",query:{token:t},root:"https://api.zhihu.com/"},FAILSAFE:!0}}function F(e,t,n){return{meta:{stateKey:e},needMerge:n,API:{types:p.Z.LOAD_SINGLE,endpoint:"/creator-events/home",query:{event_id:t}},FAILSAFE:!0}}function Z(e,t,n){return{meta:{stateKey:e},needMerge:n,API:{types:p.Z.LOAD_SINGLE,endpoint:"/creator-events/task/video_rec/home",query:{event_id:t}},FAILSAFE:!0}}function B(e,t){return{API:{method:"POST",types:p.Z.APPLY_VIDEO_MAKER_ACQUISITION,endpoint:"/creator-events/apply",body:(0,i._)((0,o._)({},(0,a.decamelizeKeys)(e)),{event_id:t})},FAILSAFE:!0}}function H(e,t){return{meta:{stateKey:e.token||e.uid},API:{method:"POST",types:p.Z.LOAD_INVITEE_INFO,endpoint:"/creator-events/invite/invitee",body:(0,i._)((0,o._)({},e),{event_id:t})},FAILSAFE:!0}}function q(e){return function(t,n){var r=n().env.xUDId;return t({API:(0,o._)({method:"POST",types:p.Z.APPLY_INVITE,endpoint:"/creator-events/invite/invite",body:{event_id:e}},r&&{headers:{"x-udid":r}}),FAILSAFE:!0})}}var x=function(e){return{API:{types:p.Z.GET_SHARE_POSTER,endpoint:"/creator-events/poster",query:{event_id:e}},FAILSAFE:!0}},V=function(e){return{API:{types:p.Z.GET_IDENTITY_VERIFY_STATUS,endpoint:"/creator-events/apply",query:{event_id:e}}}};function z(e){return function(t,n){var r=n().env.xUDId;return t({API:(0,o._)({method:"POST",types:p.Z.APPLY_ACCEPT_INVITE,endpoint:"/creator-events/invite/bind",body:e},r&&{headers:{"x-udid":r}}),FAILSAFE:!0})}}function K(e){return{meta:{stateKey:e},API:{types:p.Z.LOAD_SINGLE,endpoint:"/creators/benefit/sea_salt/homepage"},FAILSAFE:!0}}function W(e){var t=_.D[e];if(!t)throw Error('campaignType: "'.concat(e,'" 不存在'));return{meta:{stateKey:e},API:{types:p.Z.LOAD_SINGLE,endpoint:"/creative-events/activity/template?activity_id=".concat(null==t?void 0:t.id)}}}function Y(e){var t=_.D[e];return{API:{types:p.Z.APPLY_KNOWLEDGE,endpoint:"/creative-events/activity/apply",body:{activity_id:null==t?void 0:t.id},method:"POST"}}}function Q(e,t,n){var r=_.D[e];return{meta:{stateKey:n},API:{types:p.Z.LOAD_SINGLE,endpoint:"/creative-events/activities/".concat(null==r?void 0:r.id,"/creation_lists/").concat(t)}}}function j(e){return{meta:{stateKey:e},API:{types:p.Z.LOAD_SINGLE,endpoint:"/content-distribution-core/sections/7/news/list",root:"https://api.zhihu.com/"}}}function X(){return{meta:{stateKey:["recommend"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/sku/km_resource?token=recommend",root:"https://api.zhihu.com"}}}function J(){return{meta:{stateKey:["childrenAsk"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/sku/km_resource?token=children-ask-2021",root:"https://api.zhihu.com"}}}function $(){return{meta:{stateKey:["searchRedPacket"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/search/red_packet/result",method:"GET"}}}function ee(e){return{meta:{stateKey:[e]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/sku/km_resource?token=".concat(e),root:"https://api.zhihu.com"}}}function et(){return{meta:{stateKey:["evaluation"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/growth/exam"}}}function en(e){return{meta:{stateKey:["bindEvaluation"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/growth/exam/invite",query:e?{oid:e}:{}}}}function er(e){return{meta:{stateKey:["preBindEevaluation"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/growth/exam/preview_invite",query:{oid:e}}}}function eo(){return{meta:{stateKey:["evaluationConstants"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/sku/km_resource?token=evaluation",root:"https://api.zhihu.com"}}}function ei(){return{meta:{stateKey:["gaokaoTab4"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/sku/km_resource?token=gaokao-tab4",root:"https://api.zhihu.com"}}}function eu(){return{meta:{stateKey:["collegeCategory"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/creative-events/activity/ncee/college/category"}}}function ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.city,n=void 0===t?[]:t,r=e.category,o=e.typical,i=e.offset,u=e.limit,a=e.isRefetch;return{meta:{stateKey:["collegeList"],isRefetch:void 0!==a&&a},API:{types:p.Z.LOAD_LIST,endpoint:"/creative-events/activity/ncee/college/list",query:{college_province:n[0],college_city:n[1],college_category:r,college_typical:o,offset:void 0===i?0:i,limit:void 0===u?10:u}}}}function ec(){return{meta:{stateKey:["majorCategory"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/creative-events/activity/ncee/major/category"}}}function es(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.major,n=void 0===t?[]:t,r=e.offset,o=e.limit,i=e.isRefetch;return{meta:{stateKey:["majorList"],isRefetch:void 0!==i&&i},API:{types:p.Z.LOAD_LIST,endpoint:"/creative-events/activity/ncee/major/list",query:{major_first_type:n[0],major_second_type:n[1],offset:void 0===r?0:r,limit:void 0===o?10:o}}}}function el(e,t){return{API:{types:p.Z.POLL,endpoint:"/polls/".concat(e),body:{options:t},method:"POST"}}}function ed(e){return{meta:{stateKey:["gaokaotab4poll"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/polls/".concat(e),method:"GET"}}}function e_(e,t){return{meta:{stateKey:[e]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/creator/support/activity",query:t?{member_id:t}:{}}}}function ep(e){return{meta:{stateKey:e},API:{types:p.Z.LOAD_SINGLE,endpoint:"/creator/support/ranking"}}}function ef(e,t,n,r){return{meta:{stateKey:n},API:{types:p.Z.LOAD_SINGLE,endpoint:"/creator/support/detail",query:(0,o._)({date:t,is_video_content:"video"===e?"1":"0"},r?{member_id:r}:{})}}}function eT(e){return{API:{types:p.Z.ACCEPT_INVITATION,endpoint:"/creator/support/whitelist".concat(e?"?member_id="+e:""),method:"POST",body:{}}}}function eE(e){return function(t,n){var r=n().env.xUDId;return t({API:(0,o._)({types:p.Z.SUBMIT_INVITATION_CODE,method:"POST",endpoint:"/invite/code/submit",body:{invite_code:e,position:4}},r&&{headers:{"x-udid":r}})})}}function eh(){return{meta:{stateKey:["alipayMembershipCard"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/growth/bb/invite",fetchOptions:{ignoreCode:!0}}}}function ev(){return{meta:{stateKey:["zhihu2020"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/sku/km_resource?token=zhihu2020",root:"https://api.zhihu.com"}}}function em(e){return{meta:{stateKey:["zhihu2020Barrage".concat(e)]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/event-center/5/tenth/barrage?barrage_type=".concat(e),fetchOptions:{ignoreCode:!0}}}}function eA(e){return{meta:{stateKey:["zhihu2020Reservation"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/event-center/5/51/reservation",method:"POST",body:{uni_key:e},fetchOptions:{ignoreCode:!0}}}}function eI(){return{meta:{stateKey:["zhihu2020ReservationStatus"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/event-center/5/51/reservation_status",fetchOptions:{ignoreCode:!0}}}}function ey(e){return{meta:{stateKey:["zhihu2020ReservationStatus"]},type:p.Z.REFRESH_RESERVATION,payload:e}}function eO(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{meta:{stateKey:["zhihu2020AddLotteryTimes"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/event-center/5/50/draw_times",method:"POST",body:{is_init:e},fetchOptions:{ignoreCode:!0}}}}function eS(e){return{meta:{stateKey:["zhihu2020SharePosition"]},type:p.Z.SHARE_POSITION,payload:e}}function eg(e){return{meta:{stateKey:["zhihu2020LotteryPrize"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/event-center/5/50/tenth/draw_prize",method:"POST",fetchOptions:{ignoreCode:!0,allowPassThroughHeaders:!0},headers:{platform:e}}}}function eC(){return{meta:{stateKey:["zhihu2020LotteryTimes"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/event-center/5/profile",fetchOptions:{ignoreCode:!0}}}}function eN(e){return{meta:{stateKey:["zhihu2020Video"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/zvideos/".concat(e)}}}function eR(){return{meta:{stateKey:["zhihu2020PrizeList"]},API:{types:p.Z.LOAD_SINGLE,endpoint:"/event-center/5/tenth/prize_carousel",fetchOptions:{ignoreCode:!0}}}}function eP(e){return function(t,n,r){var o=r.fnRefs,i="zvideo-".concat(e);return(0,d.Z)(o,i,function(){return s()(function(){return t({meta:{stateKey:i},API:{types:p.Z.LOAD_SINGLE,endpoint:"/zvideos/".concat(e)}})})})()}}function eD(e){return{meta:{stateKey:["videoTabPostPage"],isRefetch:!1},API:(0,o._)({types:p.Z.LOAD_LIST,endpoint:null!=e?e:"/zvideo-tabs/campaigns/v2",fetchOptions:{ignoreCode:!0}},!e&&{query:{limit:5}})}}var eL=(0,l.combineReducers)({single:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.meta,a=t.payload,c=t.needMerge;if(n===p.Z.LOAD_SINGLE.request)return(0,i._)((0,o._)({},e),(0,r._)({},u.stateKey,(0,i._)((0,o._)({},e[u.stateKey]),{refreshLoading:!0})));if(n===p.Z.LOAD_SINGLE.success){var s=u.time;return(0,i._)((0,o._)({},e),(0,r._)({},u.stateKey,(0,i._)((0,o._)({},c&&e[u.stateKey],a,s&&{time:s}),{refreshLoading:!1})))}return n===p.Z.LOAD_SINGLE.failure?(0,i._)((0,o._)({},e),(0,r._)({},u.stateKey,(0,i._)((0,o._)({},e[u.stateKey]),{refreshLoading:!1}))):n===p.Z.REFRESH_RESERVATION?(0,i._)((0,o._)({},e),(0,r._)({},u.stateKey,(0,i._)((0,o._)({},e[u.stateKey]),{data:(e[u.stateKey].data||[]).concat(a)}))):n===p.Z.SHARE_POSITION?(0,i._)((0,o._)({},e),(0,r._)({},u.stateKey,(0,i._)((0,o._)({},e[u.stateKey]),{data:a}))):n===p.Z.UPDATE_ZHIHU2020_RECOMMENDED_MEMBER_FOLLOE_STATUS?(0,i._)((0,o._)({},e),(0,r._)({},u.stateKey,(0,i._)((0,o._)({},e[u.stateKey]),{data:e[u.stateKey].data.map(function(e){return e.urlToken===a?(0,i._)((0,o._)({},e),{isFollowing:!e.isFollowing}):e})}))):e},list:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=n.type,c=n.meta,s=n.payload;return a===p.Z.LOAD_LIST.request?(0,i._)((0,o._)({},t),(0,r._)({},c.stateKey,(0,i._)((0,o._)({},t[c.stateKey]),{isLoading:!0}))):a===p.Z.LOAD_LIST.failure?(0,i._)((0,o._)({},t),(0,r._)({},c.stateKey,(0,i._)((0,o._)({},t[c.stateKey]),{isLoading:!1}))):a===p.Z.LOAD_LIST.success?(0,i._)((0,o._)({},t),(0,r._)({},c.stateKey,(0,i._)((0,o._)({},t[c.stateKey],s),{data:(0,u._)(!c.isRefetch&&(null===(e=t[c.stateKey])||void 0===e?void 0:e.data)||[]).concat((0,u._)(s.data||[])),isLoading:!1}))):t},videoMakerAcq:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.meta,a=t.payload;return n===p.Z.LOAD_INVITEE_INFO.success?(0,i._)((0,o._)({},e),(0,r._)({},u.stateKey,a)):n===p.Z.GET_SHARE_POSTER.success?(0,i._)((0,o._)({},e),{sharePoster:a.posterUrl}):e},vote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.meta,a=t.payload;if(n===p.Z.LOAD_VOTE_USERS.success){var c=u.stateKey,s=a.activityInfo,l=a.userInfo,d=a.items;return{activityInfo:s,userInfo:l,candidatesList:(0,i._)((0,o._)({},e.candidatesList),(0,r._)({},c,d))}}return e},cardCollecting:function(){var e,t,n,u,a,c,s,l,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,_=arguments.length>1?arguments[1]:void 0,p=_.type,f=_.payload,T=_.meta;if(p.endsWith("/success")&&(null==f?void 0:null===(e=f.error)||void 0===e?void 0:e.message))return d.error?d:(0,i._)((0,o._)({},d),{message:{text:f.error.message,closePage:p===m.GET_SHARE_LINK.success}});if(p===m.SET_MODAL)return(0,i._)((0,o._)({},d),{modal:(0,o._)({},d.modal,f)});if(p===m.SET_PANEL)return(0,i._)((0,o._)({},d),{panel:(0,o._)({},d.panel,f)});if(p===m.SET_NEW_COIN_COUNT)return(0,i._)((0,o._)({},d),{newCoinCount:f});if(p===m.SHIFT_CARD)return(0,i._)((0,o._)({},d),{newCardList:d.newCardList.slice(1)});if(p===m.DRAW_PRIZE.request)return(0,i._)((0,o._)({},d),{prize:null});if(p===m.DRAW_PRIZE.success)return(null===(n=f.data)||void 0===n?void 0:n.prizeType)==="element"?(0,i._)((0,o._)({},d),{newCardList:d.newCardList.concat((0,o._)({},f.data,T))}):(0,i._)((0,o._)({},d),{prize:f.data});if(p===m.GET_TASK_LIST.success)return(0,i._)((0,o._)({},d),{taskList:(null===(u=f.data)||void 0===u?void 0:u.taskList)||[]});if(p===m.GET_SHARE_LINK.success)return f.error?(0,i._)((0,o._)({},d),{error:null===(a=f.error)||void 0===a?void 0:a.message}):(0,i._)((0,o._)({},d),{shareLink:f.data.linkUrl.replace("intention=invite&","")});if(p===m.GET_INVITER_INFO.success)return(0,i._)((0,o._)({},d),{inviterInfo:f.data});if(p===m.SET_SHARE_INTENTION)return(0,i._)((0,o._)({},d),{shareIntention:f});if(p===m.GET_PROFILE.success)return(0,i._)((0,o._)({},d),{profile:(0,o._)({},d.profile,f.data)});if(p===m.GET_CARD_LIST.success){var E=f.data.elements;return(0,i._)((0,o._)({},d),{cardList:E})}return p===m.GET_GIVER_INFO.success?(0,i._)((0,o._)({},d),{giverInfo:f.data}):p===m.CONSUME_NEW_USER_CARD?(0,i._)((0,o._)({},d),{newUserCardCount:d.newUserCardCount-1}):p===m.GET_SHARE_KEY.success?(0,i._)((0,o._)({},d,f.data.posterUrl&&{sharePoster:(0,i._)((0,o._)({},d.sharePoster),{sendCard:f.data.posterUrl})}),{shareKey:f.data.shareKey,shareCardId:T.shareCardId}):p===m.GET_FUSE_STATUS.success?(0,i._)((0,o._)({},d),{profile:(0,i._)((0,o._)({},d.profile),{fusionStatus:(null===(c=f.data)||void 0===c?void 0:null===(s=c.collections)||void 0===s?void 0:null===(l=s[0])||void 0===l?void 0:l.status)||0})}):p===m.SET_MESSAGE?(0,i._)((0,o._)({},d),{message:f}):p===m.GET_RECEIVED_CARD.success?(0,i._)((0,o._)({},d),{receivedCard:f}):p===m.CLEAR_RECEIVED_CARD?(0,i._)((0,o._)({},d),{receivedCard:null}):p===m.CLEAR_PRIZE?(0,i._)((0,o._)({},d),{prize:null}):p===m.RECEIVE_CARD.success&&(null==f?void 0:null===(t=f.data)||void 0===t?void 0:t.length)?(0,i._)((0,o._)({},d),{newCardList:d.newCardList.concat(f.data.filter(function(e){return e.linkId}))}):p===m.GET_PRIZE_LIST.success&&(null==f?void 0:f.data)?(0,i._)((0,o._)({},d),{prizeList:f.data}):p===m.GET_SHARE_POSTER.success?(0,i._)((0,o._)({},d),{sharePoster:(0,i._)((0,o._)({},d.sharePoster),(0,r._)({},d.shareIntention,f.data.imgUrl))}):d},zhiboPandian2020:O.Z,boarding:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,n=arguments.length>1?arguments[1]:void 0,r=n.type,u=n.payload;switch(r){case E.GET.success:return(0,i._)((0,o._)({},t),{profile:(0,o._)({},t.profile,u.data)});case E.GET_SHARE_LINK.success:var a,c,s=null===(a=u.error)||void 0===a?void 0:a.code;return(0,i._)((0,o._)({},t),{shareLink:null===(c=u.data)||void 0===c?void 0:c.linkUrl,taskError:1005===s||1003===s?["邀请任务已结束","快去提醒好友做任务得剩余奖励吧"]:null});case E.GET_SHARE_POSTER.success:return(0,i._)((0,o._)({},t),{sharePoster:null===(e=u.data)||void 0===e?void 0:e.imgUrl});case E.GET_BUBBLES.success:return(0,i._)((0,o._)({},t),{bubbles:u.data});case E.GET_REWARD_LIST.success:return(0,i._)((0,o._)({},t),{rewardList:u.data});case E.GET_WITHDRAWAL_LIST.success:return(0,i._)((0,o._)({},t),{withdrawalList:u.data});case E.GET_INVITER.success:return(0,i._)((0,o._)({},t),{inviter:u.data});case E.GET_INVITE_LIST.success:return(0,i._)((0,o._)({},t),{inviteList:u.data});case E.DRAW_REWARD.success:return(0,i._)((0,o._)({},t),{currentReward:u.data});case E.CLEAR:return(0,i._)((0,o._)({},t),{currentReward:null});case E.GET_TASK.success:return(0,i._)((0,o._)({},t),{task:u.data});case E.GET_NOTIFICATION.success:return(0,i._)((0,o._)({},t),{notification:u.data});default:return t}},searchGaokaoSubPage:I.ZP,searchHealth:y.Z})},62483:function(e,t,n){"use strict";n.d(t,{BN:function(){return h},Ho:function(){return a},M0:function(){return l},Po:function(){return c},Ut:function(){return _},ZP:function(){return v},ZX:function(){return E},cT:function(){return d},fy:function(){return s},lL:function(){return T},st:function(){return f},wQ:function(){return p}});var r=n(55164),o=n(57477),i=n(49899),u=(0,n(39288).FH)("searchGaokaoSubPage",["GET_ACE_MAJORS","GET_EMPLOYMENT_DESTINATION","GET_SCORES","GET_ADMISSIONS_GUIDE","GET_IMAGES","GET_PROVINCE_LINE","GET_SCHOOL_INFO","GET_COURSES","GET_COLLEGES","GET_STATS","GET_TOPIC"]);function a(e){return{API:{types:u.GET_COURSES,endpoint:"/search/gaokao/major/".concat(e,"/courses"),query:{gk_version:"gz-gaokao"}}}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"北京",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return o?{API:{types:u.GET_COLLEGES,endpoint:o}}:{meta:{isReset:i},API:{types:u.GET_COLLEGES,endpoint:"/search/gaokao/major/".concat(e,"/universities"),query:{province:t,class:n,tag:r,gk_version:"gz-gaokao"}}}}function s(e){return{API:{types:u.GET_STATS,endpoint:"/search/gaokao/major/".concat(e,"/stats"),query:{gk_version:"gz-gaokao"}}}}function l(e){return{API:{types:u.GET_ACE_MAJORS,endpoint:"/search/gaokao/university/".concat(e,"/majors"),query:{gk_version:"gz-gaokao"}}}}function d(e){return{API:{types:u.GET_EMPLOYMENT_DESTINATION,endpoint:"/search/gaokao/university/".concat(e,"/stats"),query:{gk_version:"gz-gaokao"}}}}function _(e,t,n,r){return{API:{types:u.GET_SCORES,endpoint:"/search/gaokao/university/".concat(e,"/scores"),query:{province:t,category:r,year:n,gk_version:"gz-gaokao"}}}}function p(e,t,n){return{API:{types:u.GET_PROVINCE_LINE,endpoint:"/search/gaokao/province_line",query:{province:e,category:t,year:n,gk_version:"gz-gaokao"}}}}function f(e){return{API:{types:u.GET_ADMISSIONS_GUIDE,endpoint:"/search/gaokao/university/".concat(e,"/intro"),query:{gk_version:"gz-gaokao"}}}}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;return{meta:{isPC:r},API:{types:u.GET_IMAGES,endpoint:"/search/gaokao/university/".concat(e,"/gallery"),query:{limit:t,last_read:n}}}}function E(e){return{API:{types:u.GET_SCHOOL_INFO,endpoint:"/search/gaokao/university/autocomplete",query:{q:e,gk_version:"gz-gaokao"}}}}function h(e){return{API:{types:u.GET_TOPIC,endpoint:"/topics/".concat(e,"/intro")}}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.meta,c=(void 0===a?{}:a).isReset;if(n===u.GET_TOPIC.success)return(0,o._)((0,r._)({},e),{topic:t.payload});if(n===u.GET_COURSES.success)return(0,o._)((0,r._)({},e),{courses:t.payload});if(n===u.GET_COLLEGES.request)return(0,o._)((0,r._)({},e),{universities:(0,o._)((0,r._)({},e.universities),{isLoading:!0})});if(n===u.GET_COLLEGES.success){var s,l=t.payload,d=l.universities,_=l.paging,p=l.provinces,f=l.tags,T=l.types,E=c?d:(0,i._)((null===(s=e.universities)||void 0===s?void 0:s.universities)||[]).concat((0,i._)(d));return(0,o._)((0,r._)({},e),{universities:(0,o._)((0,r._)({},e.universities),{isLoading:!1,paging:_,provinces:p,tags:f,types:T,universities:E})})}if(n===u.GET_STATS.success)return(0,o._)((0,r._)({},e),{stats:t.payload});if(n===u.GET_ACE_MAJORS.success)return(0,o._)((0,r._)({},e),{aceMajors:t.payload});if(n===u.GET_EMPLOYMENT_DESTINATION.success)return(0,o._)((0,r._)({},e),{employmentDestination:t.payload});if(n===u.GET_SCORES.success)return(0,o._)((0,r._)({},e),{scores:t.payload});if(n===u.GET_PROVINCE_LINE.success)return(0,o._)((0,r._)({},e),{provinceLine:t.payload});if(n===u.GET_ADMISSIONS_GUIDE.success)return(0,o._)((0,r._)({},e),{intro:t.payload});if(n===u.GET_SCHOOL_INFO.success)return(0,o._)((0,r._)({},e),{schoolInfo:t.payload});if(n===u.GET_IMAGES.request)return(0,o._)((0,r._)({},e),{images:(0,o._)((0,r._)({},e.images),{isLoading:!0,isDrained:!1})});if(n===u.GET_IMAGES.success){var h,v,m=t.payload||{},A=m.imageInfo.thumbnails,I=m.videoInfo.thumbnails,y=t.meta.isPC,O=(null===(h=e.images)||void 0===h?void 0:h.thumbnails)||[],S=(null===(v=e.images)||void 0===v?void 0:v.videoThumbnails)||[],g=I.length>0?y?I:(0,i._)(I).concat([{type:"text"}]):[];return(0,o._)((0,r._)({},e),{images:(0,o._)((0,r._)({},t.payload),{isLoading:!1,isDrained:!A.length,thumbnails:(0,i._)(O).concat((0,i._)(g),(0,i._)(A)),videoThumbnails:(0,i._)(S).concat((0,i._)(I))})})}return e}},68392:function(e,t,n){"use strict";n.d(t,{Q:function(){return i},Z:function(){return u}});var r=n(55164),o=(0,n(39288).FH)("searchHealth",["GET_HEALTH"]);function i(e,t){return{API:{types:o.GET_HEALTH,endpoint:"/health_content",query:{q:e,content_type:t}}}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===o.GET_HEALTH.success?(0,r._)({},e,t.payload):e}},42989:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(55164),o=n(39288),i=(0,r._)({},(0,o.FH)("zhiboPandian2020",["GET_STATISTICS"])),u=function(){return{API:{types:i.GET_STATISTICS,endpoint:"/drama/annual-statistics",fetchOptions:{ignoreCode:!0}}}};t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(t.type===i.GET_STATISTICS.success){var n=t.payload;return(0,r._)({},e,n)}return e}},13737:function(e,t,n){"use strict";n.d(t,{PI:function(){return d},ZP:function(){return f},hU:function(){return l},il:function(){return s},o5:function(){return _}});var r=n(55164),o=n(57477),i=n(4785),u=n(68900),a=n(39288),c=(0,r._)({},(0,a.FH)("captcha",["GET","GET_V2","PUT_V2"]),(0,a.co)("captcha",["RESET_CAPTCHA_INFO","CAPTCHA_EXPIRES","RESET_CAPTCHA_V2"]));function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{API:{types:c.GET_V2,endpoint:"v3/oauth/captcha/v2",method:"GET",query:{type:e},fetchOptions:{zsAutoSignature:!1}},NOTIFICATION:t}}function l(){return{type:c.RESET_CAPTCHA_V2}}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,o){var a,s=(null!==(a=(0,u.Uh)(o()))&&void 0!==a?a:{}).isAppleDevice;return n({API:(0,r._)({types:c.PUT_V2,endpoint:"v3/oauth/captcha/v2",method:"PUT",fetchOptions:{body:(0,i.Z)({ticket:e})}},s&&{query:{ticket:e}}),NOTIFICATION:t})}}function _(){return{type:c.RESET_CAPTCHA_INFO}}var p={captchaNeeded:!1,captchaValidated:!1};function f(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,n=arguments.length>1?arguments[1]:void 0,i=n.type,u=n.payload;return i===c.GET_V2.success?(0,o._)((0,r._)({},t),{v2:u,captchaNeeded:!!(null===(e=u.script)||void 0===e?void 0:e.length),captchaValidated:!1}):i===c.PUT_V2.success?(0,o._)((0,r._)({},t),{captchaNeeded:!u.success,captchaValidated:u.success}):i===c.RESET_CAPTCHA_INFO?(0,o._)((0,r._)({},p),{captchaValidated:t.captchaValidated,v2:t.v2}):i===c.RESET_CAPTCHA_V2?(0,o._)((0,r._)({},t),{captchaValidated:!1}):t}},79281:function(e,t,n){"use strict";n.d(t,{Ok:function(){return y},vn:function(){return I},JB:function(){return h},ZP:function(){return H},Rn:function(){return U},$Z:function(){return b},QO:function(){return G},sT:function(){return P},ii:function(){return R},tw:function(){return N},fb:function(){return g},wh:function(){return k},N1:function(){return v},$x:function(){return S},Vq:function(){return D},RW:function(){return L},bG:function(){return C},Hf:function(){return O},BI:function(){return w}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(74135),c=n(57266),s=n.n(c),l=n(95548),d=n.n(l),_=n(60683),p=n(68455),f=n(80714),T=n(39288),E=n(31376),h=(0,o._)({},(0,T.FH)("chat",["GET_HISTORY_MESSAGES","GET_LATEST_MESSAGES","SEND_MESSAGE","SEND_ECOM_MESSAGE","SET_MESSAGE_READ","DELETE_MESSAGE","DELETE_MESSAGE_THREAD","GET_ECOM_EVENT","GET_ECOM_COUPON","GET_ECOM_PROFILE","SEND_ECOM_SUBMIT"]),(0,T.co)("chat",["ADD_NEW_MESSAGE","INPUT_MESSAGE","ADD_TEMP_IMAGE_MESSAGE","ADD_TEMP_ECOM_CARD_MESSAGE","SET_IMAGE_SEND_FAILURE","DELETE_LOCAL_MESSAGE","RESET_HISTORY_MESSAGES"]));function v(e){var t=e.senderId,n=e.inputValue;return{type:h.INPUT_MESSAGE,meta:{inputValue:n,senderId:t}}}function m(e){return!!e&&new RegExp(/<a href="https:\/\/www.zhihu.com\/inbox\/+[\s\S]*?is_ecom=1/).test(e)}function A(e){var t=e.contentType,n=e.receiverId,r=e.data,u=e.tempMessageId||d()("tempMessageId_"),a=null;return t===_.wF.text&&(a=(0,p.Wf)(r.text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"))),{receiverId:n,data:(0,i._)((0,o._)({userType:"receiver",type:"message",createdTime:Date.now(),contentType:t,id:u},r),{richText:a})}}function I(e,t,n,r,o){var i=A({contentType:_.wF.image,receiverId:e,data:{id:n,image:{height:r,width:o,url:t}},tempMessageId:n});return{type:h.ADD_TEMP_IMAGE_MESSAGE,meta:i}}function y(e,t,n){var r=A({contentType:_.wF.ecomcard,receiverId:e,data:{id:t,ecomCard:{cardType:n}},tempMessageId:t});return{type:h.ADD_TEMP_ECOM_CARD_MESSAGE,meta:r}}function O(e){var t=e.receiverId,n=e.tempMessageId,r=e.file;return{type:h.SET_IMAGE_SEND_FAILURE,meta:{receiverId:t,tempMessageId:n,file:r}}}function S(e){var t=e.senderId;return function(e){return e({type:h.RESET_HISTORY_MESSAGES,meta:{senderId:t}})}}function g(e){var t=e.senderId,n=e.clientScene;return function(e,r){var i=(r().chat.chats[t]||{}).nextApiUrl,u=(void 0===i?"":i).split("?")[1],c=u?{endpoint:"/chat?".concat(u)}:{endpoint:"/chat",query:(0,a.decamelizeKeys)(s()({senderId:t,clientScene:n}))};return e({API:(0,o._)({types:h.GET_HISTORY_MESSAGES},c),meta:{senderId:t}})}}function C(e){var t=e.contentType,n=e.receiverId,r=e.data,i=e.tempMessageId,u=e.sourceType,a=e.sourceId,c=e.replySource,s=A({contentType:t,receiverId:n,data:r,tempMessageId:i});return{API:{types:h.SEND_MESSAGE,endpoint:"/chat",method:"POST",body:(0,o._)({content_type:_.YX[t],receiver_id:n},u&&{source_type:u},a&&{source_id:a},c&&{reply_source:c},r)},meta:s}}function N(e){return{API:{types:h.GET_ECOM_PROFILE,root:f.Z.fetchRoot.api,endpoint:"api/v4/crm/chat/plugin/profile/".concat(e),method:"GET"}}}function R(e){var t=e.templateType,n=e.senderId;return{API:{types:h.GET_ECOM_EVENT,root:f.Z.fetchRoot.api,endpoint:"api/v4/crm/chat/plugin/clue_activities?template_type=".concat(void 0===t?2:t),method:"GET"},meta:{senderId:n}}}function P(){return{API:{types:h.GET_ECOM_COUPON,root:f.Z.fetchRoot.api,endpoint:"api/v4/crm/chat/plugin/coupons",method:"GET"}}}function D(e){var t=e.contentType,n=e.id,r=e.token,o=e.data,i=e.tempMessageId,u=o.receiverId,a=o.cardType,c=A({contentType:t,receiverId:u,data:o,tempMessageId:i});return{API:{types:h.SEND_ECOM_MESSAGE,root:f.Z.fetchRoot.api,endpoint:1===a?"api/v4/crm/chat/plugin/clue_activities/".concat(r,"/action/send"):"api/v4/crm/chat/plugin/coupons/".concat(n,"/action/send"),method:"POST",body:{receiver_id:u}},meta:c}}function L(e){var t=e.token,n=e.data.phone;return{API:{types:h.SEND_ECOM_SUBMIT,root:f.Z.fetchRoot.api,endpoint:"api/v4/crm/chat/plugin/clue_activities/".concat(t,"/action/submit"),method:"POST",body:{phone_no:n}}}}function w(e){return function(t){t((0,E._c)({senderId:e,isRead:!0})),t({API:{types:h.SET_MESSAGE_READ,endpoint:"/messages/read/".concat(e),method:"PUT"}})}}function b(e,t){return{API:{types:h.DELETE_MESSAGE,endpoint:"/messages/".concat(e),method:"DELETE"},meta:{messageId:e,senderId:t}}}function G(e){return{API:{types:h.DELETE_MESSAGE_THREAD,endpoint:"/chat?sender_id=".concat(e),method:"DELETE"},meta:{chatId:e}}}function U(e,t){return{type:h.DELETE_LOCAL_MESSAGE,meta:{messageId:e,senderId:t}}}function k(e,t){var n=e.content,r=void 0===n?{}:n,i=e.meta,u=void 0===i?{}:i,c=u.sender_id,s=u.content_type,l=u.created_at,d=u.id,f=e.extra,T=void 0===f?{}:f,v=T.message_type,A=T.extra_content,I=T.associate_id,y=T.unfriendly,O={userType:t!==c?"sender":"receiver",type:v||"message",createdTime:l,contentType:s,id:d,status:_.Gs.success,extraContent:A,unfriendly:!!Number(y),associateId:I,isEcomWelcomeCard:!1};return O[O.contentType]=(0,a.camelizeKeys)(r[O.contentType]),s===_.wF.text&&(O.richText=(0,p.Wf)(O.text),O.isEcomWelcomeCard=m(O.richText)),s===_.wF.ecomcard&&(O.ecomCard=(0,o._)({},r.ecom_card)),s===_.wF.csevaluationcard&&(O.csevaluationCard=r.csevaluation_card),function(e){e((0,E._c)({senderId:c})),e({type:h.ADD_NEW_MESSAGE,meta:{messageInfo:O,senderId:c}})}}function M(e){var t=_.HG[e.contentType],n="text"===t?(0,p.Wf)(e.text||e.content):null;return(0,i._)((0,o._)({},e),{contentType:t,createdTime:1e3*e.createdTime,status:_.Gs.success,richText:n,isEcomWelcomeCard:"text"===t&&m(e.text||e.content)})}var F=function(e){return(null==e?void 0:e.messages)||[]},Z=function(e){var t=(e||{}).lastTimeStamp;return{lastTimeStamp:void 0===t?null:t}};function B(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,u._)(e),a=n.file,c=e.length-1;c>=0;c--)if(e[c].id===t){r[c]=(0,i._)((0,o._)({},r[c],a&&{file:a}),{status:_.Gs.failure});break}return r}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===h.GET_HISTORY_MESSAGES.request){var n=t.meta.senderId;return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},e[n]),{isLoading:!0})))}if(t.type===h.GET_HISTORY_MESSAGES.success||t.type===h.GET_LATEST_MESSAGES.success){var a=t.payload,c=a.warning,s=a.paging,l=a.data,d=s.isEnd,p=s.next,f=l.receiver,T=l.sender,E=l.messages,v=T.id,m=e[v],A=(null==m?void 0:m.sender)?F(m):[],I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(!(null==e?void 0:e.length))return{formattedMessages:[],lastTimeStamp:t};var n=t||1e3*e[0].createdTime;return{formattedMessages:e.map(function(t,r){var u=(0,i._)((0,o._)({},t),{showTime:!1}),a=1e3*u.createdTime;if(Math.abs(n-a)>_.X||n===a)u.showTime=!0;else{var c=e[r+1];c&&Math.abs(a-1e3*c.createdTime)>_.X&&(u.showTime=!0)}return n=a,M(u)}).reverse(),lastTimeStamp:n}}(E,Z(m).lastTimeStamp),y=I.formattedMessages,O=I.lastTimeStamp,S=t.type===h.GET_LATEST_MESSAGES.success?(0,u._)(y):(0,u._)(y).concat((0,u._)(A));return(0,i._)((0,o._)({},e),(0,r._)({},v,{receiver:f,sender:T,messages:S,isLoading:!1,isEnd:d,nextApiUrl:p,lastTimeStamp:O,inputValue:e[v].inputValue,warning:void 0===c?{}:c}))}if(t.type===h.RESET_HISTORY_MESSAGES){var g=t.meta.senderId;return(0,i._)((0,o._)({},e),(0,r._)({},g,void 0))}if(t.type===h.ADD_NEW_MESSAGE){var C,N,R=t.meta,P=R.senderId,D=R.messageInfo,L=e[P],w=F(L),b=Z(L).lastTimeStamp,G=(C=(0,o._)({},D),N=b,C.createdTime-N>=_.X?(C.showTime=!0,N=C.createdTime):C.showTime=!1,{message:C,lastTimeStamp:N}),U=G.message,k=G.lastTimeStamp;return w.length&&w[w.length-1].id===U.id?(0,o._)({},e):(0,i._)((0,o._)({},e),(0,r._)({},P,(0,i._)((0,o._)({},e[P]),{messages:(0,u._)(w).concat([U]),lastTimeStamp:k})))}if(t.type===h.INPUT_MESSAGE){var H=t.meta,q=H.senderId,x=H.inputValue;return(0,i._)((0,o._)({},e),(0,r._)({},q,(0,i._)((0,o._)({},e[q]),{inputValue:x})))}if(t.type===h.ADD_TEMP_IMAGE_MESSAGE||t.type===h.ADD_TEMP_ECOM_CARD_MESSAGE){var V=t.meta.receiverId;return(0,i._)((0,o._)({},e),(0,r._)({},V,(0,i._)((0,o._)({},e[V]),{messages:(0,u._)(e[V].messages).concat([(0,i._)((0,o._)({},t.meta.data),{status:_.Gs.loading})])})))}if(t.type===h.SET_IMAGE_SEND_FAILURE){var z=t.meta,K=z.receiverId,W=z.tempMessageId,Y=z.file,Q=B(e[K].messages,W,{file:Y});return(0,i._)((0,o._)({},e),(0,r._)({},K,(0,i._)((0,o._)({},e[K]),{messages:Q})))}if(t.type===h.SEND_MESSAGE.request||t.type===h.SEND_ECOM_MESSAGE.request){var j=t.meta,X=j.receiverId,J=j.data.contentType;if(J===_.wF.image){var $=t.meta.data,ee=$.image.url,et=$.id,en=function(e,t,n){for(var r=(0,u._)(e),o=e.length-1;o>=0;o--)if(e[o].id===t){r[o].image.url=n;break}return r}(e[X].messages,et,ee);return(0,i._)((0,o._)({},e),(0,r._)({},X,(0,i._)((0,o._)({},e[X]),{messages:en})))}if(J===_.wF.ecomcard&&1===t.meta.data.cardType){var er=e[X].messages;return(0,i._)((0,o._)({},e),(0,r._)({},X,(0,i._)((0,o._)({},e[X]),{messages:er})))}return(0,i._)((0,o._)({},e),(0,r._)({},X,(0,i._)((0,o._)({},e[X],J===_.wF.text&&{inputValue:""}),{messages:(0,u._)(e[X].messages).concat([(0,i._)((0,o._)({},t.meta.data),{status:_.Gs.loading})])})))}if(t.type===h.SEND_MESSAGE.success||t.type===h.SEND_ECOM_MESSAGE.success){var eo=t.payload.info,ei=t.meta,eu=ei.receiverId,ea=ei.data,ec=ea.id,es=ea.contentType,el=e[eu],ed=Z(el).lastTimeStamp,e_=function(e,t,n,r){for(var a=(0,u._)(e),c=(0,o._)({},n),s=r,l=e.length-1;l>=0;l--)if(e[l].id===t){1e3*c.createdTime-s>=_.X?(c.showTime=!0,s=1e3*c.createdTime):c.showTime=!1,a[l]=(0,i._)((0,o._)({},M(c)),{tempMessageId:t});break}return{realMessageList:a,lastTimeStamp:s}}(el.messages,ec,eo,ed),ep=e_.realMessageList,ef=e_.lastTimeStamp;return(0,i._)((0,o._)({},e),(0,r._)({},eu,(0,i._)((0,o._)({},e[eu],es===_.wF.text&&{inputValue:""}),{messages:ep,lastTimeStamp:ef})))}if(t.type===h.SEND_MESSAGE.failure||t.type===h.SEND_ECOM_MESSAGE.failure){var eT=t.meta,eE=eT.receiverId,eh=eT.data.id,ev=B(e[eE].messages,eh);return(0,i._)((0,o._)({},e),(0,r._)({},eE,(0,i._)((0,o._)({},e[eE]),{messages:ev})))}if(t.type===h.DELETE_MESSAGE.success||t.type===h.DELETE_LOCAL_MESSAGE){var em=t.meta,eA=em.messageId,eI=em.senderId,ey=e[eI].messages.filter(function(e){return e.id!==eA});return(0,i._)((0,o._)({},e),(0,r._)({},eI,(0,i._)((0,o._)({},e[eI]),{messages:ey})))}if(t.type===h.GET_ECOM_PROFILE.success){var eO=t.payload.receiver;return(0,i._)((0,o._)({},e),{isEcomMerchant:!!eO.isMerchant})}return e}},31376:function(e,t,n){"use strict";n.d(t,{OP:function(){return s},_c:function(){return l}});var r=n(87320),o=n(39288),i=n(33068),u=n(64813),a=n(25130),c=(0,o.co)("chat",["UPDATE_INBOX"]),s=function(){return function(e){return e((0,i.pU)(!0)).then(function(t){return t.payload.strangerMessage.switch?e((0,u.v)(!0)):Promise.resolve()})}},l=function(e){var t=e.senderId,n=e.isRead;return function(e,o){var i=o(),u=i.entities,l=i.chat,d=u.chats[t],_=[],p=l.inbox.strangers||{};if(p.result&&(_=p.result),!d)return e(s());var f=d.unreadCount,T=void 0===f?0:f;return e(n?_.includes(t)?(0,a.pP)(!1):(0,a.cs)(-1*T):_.includes(t)?(0,a.pP)(!0):(0,a.cs)(1)),e({type:c.UPDATE_INBOX,UPDATE:{update:{chats:(0,r._)({},t,{unreadCount:n?0:T+1})}}})}}},25130:function(e,t,n){"use strict";n.d(t,{ZP:function(){return _},cs:function(){return l},pP:function(){return d}});var r=n(55164),o=n(57477),i=n(39288),u=n(33068),a=n(73135),c={newCount:0,strangerMessageSwitch:!1,strangerMessageUnread:!1,friendCount:0},s=(0,i.co)("chat",["UPDATE_TOTAL_UNREAD_COUNT","CHANGE_STRANGER_MESSAGE_UNREAD_STATUS"]);function l(e){return{type:s.UPDATE_TOTAL_UNREAD_COUNT,meta:{count:e}}}function d(e){return{type:s.CHANGE_STRANGER_MESSAGE_UNREAD_STATUS,meta:{status:e}}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.Hp.GET_RECENTS.success:var n=t.payload,i=n.newCount,l=n.strangerMessage,d=l.switch,_=l.unread;return(0,o._)((0,r._)({},e),{newCount:i,strangerMessageSwitch:d,strangerMessageUnread:_});case a.Hp.GET_FRIENDS.success:return(0,o._)((0,r._)({},e),{friendCount:t.totals});case s.UPDATE_TOTAL_UNREAD_COUNT:var p=e.newCount,f=t.meta.count,T=p+(void 0===f?0:f);return(0,o._)((0,r._)({},e),{newCount:T>0?T:0});case s.CHANGE_STRANGER_MESSAGE_UNREAD_STATUS:var E=t.meta.status;return(0,o._)((0,r._)({},e),{strangerMessageUnread:E});default:return e}}},86871:function(e,t,n){"use strict";var r=n(55164),o=n(57477),i=n(54463),u=n.n(i),a={isFetching:!1,isDrained:!1,isPrevDrained:!1,result:[],next:null,key:null};t.Z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e},i=e.request,c=e.success,s=e.failure;return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,l=arguments.length>1?arguments[1]:void 0;switch(l.type){case t:return a;case i:return(0,o._)((0,r._)({},e),{isFetching:!0});case c:var d=l.key,_=l.result,p=l.next,f=l.isDrained,T=l.isPrevDrained,E=d!==e.key;return(0,o._)((0,r._)({},e),{result:E?_:u()(e.result,_),key:d,next:p,isDrained:f||_.length<10,isPrevDrained:T,isFetching:!1});case s:return(0,o._)((0,r._)({},e),{isFetching:!1});default:return n(e,l)}}}},73135:function(e,t,n){"use strict";n.d(t,{Hp:function(){return u},m6:function(){return a}});var r=n(28953),o=n(39288),i=n(86871),u=(0,o.FH)("chat",["GET_FRIENDS"]),a=function(e){return function(t,n){var o=n().chat.inbox.friends.next;return t({API:{types:u.GET_FRIENDS,endpoint:e||!o?"/me/mutual_followers":o},schema:r.l.USER_ARRAY})}};t.ZP=(0,i.Z)(u.GET_FRIENDS)},33068:function(e,t,n){"use strict";n.d(t,{Hp:function(){return l},pU:function(){return d}});var r=n(55164),o=n(57477),i=n(49899),u=n(56669),a=n(39288),c=n(86871),s=n(79281),l=(0,a.FH)("chat",["GET_RECENTS"]),d=function(e){return function(t,n){var r=n().chat.inbox.recents.next;return t({API:{types:l.GET_RECENTS,endpoint:e||!r?"/inbox":r},schema:u.e})}};t.ZP=(0,c.Z)(l.GET_RECENTS,null,function(e,t){if(t.type===s.JB.SEND_MESSAGE.success){var n=e.result,u=t.meta.receiverId;return n.indexOf(u)>=0?e:(0,o._)((0,r._)({},e),{result:[u].concat((0,i._)(n))})}if(t.type===s.JB.DELETE_MESSAGE_THREAD.success){var a=t.meta.chatId;return(0,o._)((0,r._)({},e),{result:e.result.filter(function(e){return e!==a})})}return e})},19532:function(e,t,n){"use strict";n.d(t,{$m:function(){return c},qz:function(){return s}});var r=n(55164),o=n(28953),i=n(39288),u=n(86871),a=(0,r._)({},(0,i.FH)("chat",["SEARCH_USER"]),(0,i.co)("chat",["CLEAR_SEARCH_RESULT"])),c=function(){return{type:a.CLEAR_SEARCH_RESULT}},s=function(e,t){return function(n,r){var i=r().chat.inbox.search,u=i.next,c=e!==i.key||t||!u;return n({key:e,API:{types:a.SEARCH_USER,endpoint:c?"/search_v3":u,query:c?{t:"people",q:e}:{}},schema:[{object:o.l.USER}]})}};t.ZP=(0,u.Z)(a.SEARCH_USER,a.CLEAR_SEARCH_RESULT)},64813:function(e,t,n){"use strict";n.d(t,{v:function(){return l}});var r=n(55164),o=n(57477),i=n(56669),u=n(39288),a=n(86871),c=n(79281),s=(0,u.FH)("chat",["GET_STRANGERS"]),l=function(e){return function(t,n){var r=n().chat.inbox.strangers.next;return t({API:{types:s.GET_STRANGERS,endpoint:e||!r?"/stranger_inbox":r},schema:i.e})}};t.Z=(0,a.Z)(s.GET_STRANGERS,null,function(e,t){if(t.type===c.JB.SEND_MESSAGE.success){var n=e.result,i=t.meta.receiverId;return 0>n.indexOf(i)?e:(0,o._)((0,r._)({},e),{result:n.filter(function(e){return e!==i})})}if(t.type===c.JB.DELETE_MESSAGE_THREAD.success){var u=t.meta.chatId;return(0,o._)((0,r._)({},e),{result:e.result.filter(function(e){return e!==u})})}return e})},56669:function(e,t,n){"use strict";n.d(t,{e:function(){return u}});var r=n(84),o=n(28953),i=new r.fK.Entity("chats",{participant:o.l.USER},{idAttribute:function(e){return e.participant.id}}),u=new r.fK.Array(i)},86434:function(e,t,n){"use strict";n.d(t,{F4:function(){return h},G7:function(){return f},Hp:function(){return d},Rz:function(){return T},X8:function(){return _},wJ:function(){return E},yV:function(){return p}});var r=n(87320),o=n(55164),i=n(57477),u=n(84),a=n(28953),c=n(39288),s=n(74135),l=new u.fK.Array(new u.fK.Entity("favlistFeedsByIds",{content:new u.fK.Union({article:a.l.ARTICLE,answer:a.l.ANSWER,pin:a.l.PIN,zvideo:a.l.ZVIDEO,eduCourse:a.l.EDU_COURSE,eduSection:a.l.EDU_SECTION},function(e){return(0,s.camelize)(e.type)})},{idAttribute:function(e){var t=e.content,n=t.type,r=t.id;return"".concat(n,"_").concat(r)}})),d=(0,o._)({},(0,c.FH)("collections",["ADD","DELETE","UPDATE","GET_DETAIL","GET_FEEDS","DELETE_FEED_ITEM","CANCEL_DELETE_FEED_ITEM"])),_=function(e){return{API:{types:d.GET_DETAIL,endpoint:"/collections/".concat(e),query:{include:"description,created_time,updated_time,answer_count,follower_count,comment_count,is_following,creator"}},schema:new u.fK.Entity("collections",{collection:a.l.FAVLIST},{idAttribute:function(){return e}})}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.offset,r=void 0===n?0:n,o=t.limit,i=void 0===o?20:o;return{API:{types:d.GET_FEEDS,endpoint:"/collections/".concat(e,"/items"),query:{offset:r,limit:i}},schema:l,id:e,offset:r,limit:i}},f=function(e){var t=e.id,n=e.urlToken;return{API:{types:d.DELETE,endpoint:"/collections/".concat(t),method:"DELETE"},id:t,urlToken:n}},T=function(e){var t=e.favlistsInfo,n=e.urlToken;return{API:{types:d.ADD,endpoint:"collections",method:"POST",body:(0,s.decamelizeKeys)(t)},urlToken:n,schema:a.l.COLLECTION,UPDATE:{success:function(e){var n=e.collection.id;return{favlists:(0,r._)({},n,(0,i._)((0,o._)({},t),{updateTime:Date.now()/1e3,createdTime:Date.now()/1e3}))}}}}},E=function(e){var t=e.toDelete,n=e.collectionId,r=e.type,o=e.id;return{API:{types:t?d.DELETE_FEED_ITEM:d.CANCEL_DELETE_FEED_ITEM,endpoint:"/collections/".concat(n,"/contents").concat(t?"/".concat(o):""),method:t?"DELETE":"POST",query:(0,s.decamelizeKeys)({contentId:o,contentType:r})},id:n,deletedItemId:"".concat(r,"_").concat(o)}},h=function(e){var t=e.id,n=e.favlistsInfo;return{API:{types:d.UPDATE,endpoint:"/collections/".concat(t),method:"PUT",body:(0,s.decamelizeKeys)(n)},UPDATE:{success:function(){return{favlists:(0,r._)({},t,n)}}}}}},98171:function(e,t,n){"use strict";n.d(t,{Hp:function(){return c.Hp},Rz:function(){return c.Rz},ZP:function(){return _},Nn:function(){return p},X8:function(){return c.X8},yV:function(){return c.yV},wJ:function(){return c.wJ}});var r=n(55164),o=n(57477),i=n(49899),u=n(94057),a=n(35528),c=n(86434),s=n(98104),l={data:[],paging:{},isLoading:!1},d=(0,s.V6)(c.Hp.GET_FEEDS,{additionalCaseTypes:[c.Hp.DELETE_FEED_ITEM.success,c.Hp.CANCEL_DELETE_FEED_ITEM.success],additionalCase:function(e,t){return t.type===c.Hp.DELETE_FEED_ITEM.success?(0,o._)((0,r._)({},e),{deletedItems:(0,i._)(e.deletedItems||[]).concat([t.deletedItemId])}):t.type===c.Hp.CANCEL_DELETE_FEED_ITEM.success?(0,o._)((0,r._)({},e),{deletedItems:e.deletedItems.filter(function(e){return e!==t.deletedItemId})}):e}}),_=(0,u.combineReducers)({hot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;if(t.type===a.xb.GET_HOT_FAVLISTS.request)return(0,o._)((0,r._)({},e),{isLoading:!0});if(t.type===a.xb.GET_HOT_FAVLISTS.success){var n=t.payload,u=n.data,c=n.paging;return{data:(0,i._)(e.data).concat((0,i._)(u.map(function(e){return e.id}))),paging:c,isLoading:!1}}return t.type===a.xb.GET_HOT_FAVLISTS.failure?(0,o._)((0,r._)({},e),{paging:(0,o._)((0,r._)({},e.paging),{isEnd:!0}),isLoading:!1}):e},collectionFeeds:d});function p(e,t){return t.type===c.Hp.ADD.success?(0,o._)((0,r._)({},e),{totals:e.totals+1,ids:[t.result].concat((0,i._)(e.ids))}):t.type===c.Hp.DELETE.success?(0,o._)((0,r._)({},e),{totals:e.totals-1,ids:e.ids.filter(function(e){return e!==t.id})}):e}},10886:function(e,t,n){"use strict";n.d(t,{As:function(){return _},PG:function(){return d},Pu:function(){return s},bK:function(){return p},ly:function(){return l}});var r=n(87320),o=n(55164),i=n(94057),u=n(28953),a=n(39288),c=n(69906),s=(0,a.FH)("column",["GET","UPDATE_FOLLOW","GET_COLUMN_FOLLOWERS","SUBMIT_REQUEST"]);function l(e){return{API:{types:s.GET,endpoint:"columns/".concat(e),query:{include:"title,intro,description,image_url,articles_count,followers,is_following,last_article.created"}},urlToken:e,schema:u.l.COLUMN}}function d(e){var t=e.title,n=e.intro;return{API:{types:s.SUBMIT_REQUEST,endpoint:"/columns/request",method:"POST",body:{title:t,intro:n}},NOTIFICATION:!1}}function _(e){return function(t,n){var o=n(),i=o.entities,u=i.columns,a=i.users,c=o.currentUser,l=u[e],d=a[c],_=l.isFollowing,p=l.followers,f=_?-1:1;return t({urlToken:c,columnId:e,expect:!_,API:{types:s.UPDATE_FOLLOW,endpoint:"columns/".concat(e,"/followers"),method:_?"DELETE":"POST"},UPDATE:{request:{columns:(0,r._)({},e,{isFollowing:!_,followers:p+f}),users:(0,r._)({},c,{followingColumnsCount:d.followingColumnsCount+f})},failure:{columns:(0,r._)({},e,l),users:(0,r._)({},c,a)}}})}}function p(e){return function(t,n){var r=(n().columns.voters[e]||{}).next;return t({id:e,API:(0,o._)({types:s.GET_COLUMN_FOLLOWERS},r?{endpoint:r}:{endpoint:"columns/".concat(e,"/followers"),query:{include:"data[*].follower_count,gender,is_followed,is_following",offset:0,limit:c.VZ}}),schema:u.l.USER_ARRAY})}}(0,i.combineReducers)({voters:(0,c.Fd)(s.GET_COLUMN_FOLLOWERS)})},81204:function(e,t,n){"use strict";n.d(t,{Am:function(){return m},Bk:function(){return E},Fw:function(){return V},Hc:function(){return D},Ir:function(){return R},J4:function(){return w},P8:function(){return S},TY:function(){return G},UK:function(){return N},X6:function(){return y},YF:function(){return b},Zn:function(){return g},_6:function(){return C},jP:function(){return I},kn:function(){return Z},nD:function(){return v},qH:function(){return L},rq:function(){return P},uA:function(){return U}});var r,o,i=n(87320),u=n(55164),a=n(57477),c=n(71728),s=n(94146),l=n(94057),d=n(74135),_=n(84054),p=n.n(_),f=n(39288),T=n(67927),E=function(e){if(!e)return!1;var t=e.childCommentCount,n=e.isDelete,r=e.collapsed;return t>0||!n&&!r},h=(0,u._)({},(0,f.FH)("commentMangage",["LOAD_UPDATE_STATUS","UPDATE_VISIT_STATUS","LOAD_COMMENT_LIST","UPDATE_COMMENT","UPDATE_COMMENT_LIKE","UPDATE_COMMENT_DISLIKE","UPDATE_COMMENT_HOT","UPDATE_COMMENT_COLLAPSED","DELETE_COMMENT","APPROVE_COMMENT","REJECT_COMMENT","REPLY_COMMENT","LOAD_SUB_COMMENT_LIST","UPDATE_SUB_COMMENT","UPDATE_SUB_COMMENT_LIKE","UPDATE_SUB_COMMENT_DISLIKE","UPDATE_SUB_COMMENT_HOT","UPDATE_SUB_COMMENT_COLLAPSED","DELETE_SUB_COMMENT","APPROVE_SUB_COMMENT","REJECT_SUB_COMMENT","REPLY_SUB_COMMENT"]));function v(){return{API:{types:h.LOAD_UPDATE_STATUS,endpoint:"/creators/comments/all/status"}}}function m(e){return{API:{types:h.UPDATE_VISIT_STATUS,endpoint:"/creators/comments/".concat(e,"/status"),method:"POST"}}}var A=(0,s.HF)(),I=function(e){return e.commentManage.commentList},y=A.getSelectors(I),O=(0,s.HF)(),S=function(e){return e.commentManage.subCommentList},g=O.getSelectors(S);function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.order,o=void 0===r?"score":r,i=n.reviewStatus,a=void 0===i?"0":i,s=(0,c._)(n,["order","reviewStatus"]);return function(n,r){return n({meta:{urlToken:t},API:{types:h.LOAD_COMMENT_LIST,endpoint:"/creators/comments/".concat(e,"/").concat(t),query:(0,u._)({offset:I(r()).nextOffset,limit:10,order:o,reviewStatus:a},s)}})}}function N(e){return function(t,n){var r=S(n()).paging.next;return t({API:{types:h.LOAD_SUB_COMMENT_LIST,endpoint:r||"/comment_v5/comment/".concat(e,"/child_comment"),query:{include:p()({reply_to_author:!0})}}})}}function R(e){var t=e.resourceType,n=e.resourceId,r=e.content,o=e.replyToId,i=e.isSubComment,a=e.inConversation;return function(e,c){var s=y.selectById(c(),o);return e({meta:(0,u._)({inConversation:a},!i&&{id:o,changes:{childCommentCount:(null==s?void 0:s.childCommentCount)+1}}),API:{types:i?h.REPLY_SUB_COMMENT:h.REPLY_COMMENT,endpoint:"comment_v5/".concat(t,"s/").concat(n,"/comment"),method:"POST",fetchOptions:{zsEncrypt:!0,body:(0,d.decamelizeKeys)({content:r,replyCommentId:String(o)})}},NOTIFICATION:{key:T.zQ,success:"评论发布成功！",failure:"评论发布失败"}})}}function P(e,t){return function(n,r){var o=(t?g:y).selectById(r(),e),i=o.likeCount,u=o.liked;return n({meta:{id:e,changes:{likeCount:i+(u?-1:1),liked:!u,disliked:!1}},API:{types:t?h.UPDATE_SUB_COMMENT_LIKE:h.UPDATE_COMMENT_LIKE,endpoint:"/comments/".concat(e,"/like"),method:u?"DELETE":"POST"}})}}function D(e,t){return function(n,r){var o=(t?g:y).selectById(r(),e),i=o.liked,u=o.likeCount,a=o.disliked,c=!a;return n({meta:{id:e,changes:{disliked:c,liked:!1,likeCount:c&&i?u-1:u}},API:{types:t?h.UPDATE_SUB_COMMENT_DISLIKE:h.UPDATE_COMMENT_DISLIKE,endpoint:"comments/".concat(e,"/actions/dislike"),method:a?"DELETE":"POST"}})}}function L(e,t){return function(n,r){var o=(t?g:y).selectById(r(),e).hot;return n({meta:{id:e,changes:{hot:!o,collapsed:!1}},API:{types:t?h.UPDATE_SUB_COMMENT_HOT:h.UPDATE_COMMENT_HOT,endpoint:"comments/".concat(e,"/actions/feature"),method:o?"DELETE":"POST"}})}}function w(e,t){return function(n,r){var o=(t?g:y).selectById(r(),e),i=o.collapsed,a=o.childCommentCount;return n((0,u._)({meta:{id:e,changes:{collapsed:!i,hot:!1}},API:{types:t?h.UPDATE_SUB_COMMENT_COLLAPSED:h.UPDATE_COMMENT_COLLAPSED,endpoint:"comments/".concat(e,"/actions/collapse"),method:i?"DELETE":"POST"}},(!a||a<0)&&{NOTIFICATION:{key:T.zQ,success:"评论折叠成功，已为您过滤被折叠评论"}}))}}function b(e,t){return{meta:{id:e,changes:{isDelete:!0}},API:{types:t?h.DELETE_SUB_COMMENT:h.DELETE_COMMENT,endpoint:"comments/".concat(e),method:"DELETE"}}}function G(e,t){return{meta:{id:e,changes:{reviewing:!1}},API:{types:t?h.APPROVE_SUB_COMMENT:h.APPROVE_COMMENT,endpoint:"/comment_v5/comment/".concat(e,"/operation/approve"),method:"PUT"}}}function U(e,t){return{meta:{id:e},API:{types:t?h.UPDATE_SUB_COMMENT:h.UPDATE_COMMENT,endpoint:"/creators/comments/".concat(e)}}}var k=A.getInitialState({nextOffset:0,urlToken:""}),M=function(e,t){var n=t.meta;A.updateOne(e,n)},F=(0,s.oM)({name:"commentManage/commentList",initialState:k,reducers:{resetCommentList:function(e,t){var n=t.payload;return(0,a._)((0,u._)({},k),{urlToken:n})}},extraReducers:(r={},(0,i._)(r,h.LOAD_COMMENT_LIST.success,function(e,t){var n,r=t.payload,o=t.meta.urlToken;o===e.urlToken&&r&&(e.nextOffset=r.nextOffset,e.urlToken=o,A.addMany(e,((null===(n=r.data)||void 0===n?void 0:n.filter(E))||[]).map(function(e){return(0,a._)((0,u._)({},e),{_id:(0,s.x0)()})})))}),(0,i._)(r,h.UPDATE_COMMENT_LIKE.request,M),(0,i._)(r,h.UPDATE_COMMENT_DISLIKE.request,M),(0,i._)(r,h.UPDATE_COMMENT_HOT.request,M),(0,i._)(r,h.UPDATE_COMMENT_COLLAPSED.request,M),(0,i._)(r,h.DELETE_COMMENT.success,M),(0,i._)(r,h.REPLY_COMMENT.success,M),(0,i._)(r,h.APPROVE_COMMENT.success,M),(0,i._)(r,h.UPDATE_COMMENT.success,function(e,t){var n=t.payload;n&&A.updateOne(e,{id:n.id,changes:n})}),r)}),Z=F.actions.resetCommentList,B=O.getInitialState({paging:{next:"",isEnd:!1}}),H=function(e,t){var n=t.meta,r=t.payload;n.inConversation&&O.addOne(e,r)},q=function(e,t){var n=t.meta;O.updateOne(e,n)},x=(0,s.oM)({name:"commentManage/subCommentList",initialState:B,reducers:{resetSubCommentList:function(){return B}},extraReducers:(o={},(0,i._)(o,h.LOAD_SUB_COMMENT_LIST.success,function(e,t){var n,r=t.payload;r&&(e.paging=r.paging,O.addMany(e,((null===(n=r.data)||void 0===n?void 0:n.filter(E))||[]).map(function(e){return(0,a._)((0,u._)({},e),{_id:(0,s.x0)()})})))}),(0,i._)(o,h.UPDATE_SUB_COMMENT_LIKE.request,q),(0,i._)(o,h.UPDATE_SUB_COMMENT_DISLIKE.request,q),(0,i._)(o,h.UPDATE_SUB_COMMENT_HOT.request,q),(0,i._)(o,h.UPDATE_SUB_COMMENT_COLLAPSED.request,q),(0,i._)(o,h.DELETE_SUB_COMMENT.success,q),(0,i._)(o,h.REPLY_SUB_COMMENT.success,H),(0,i._)(o,h.REPLY_COMMENT.success,H),(0,i._)(o,h.APPROVE_SUB_COMMENT.success,q),(0,i._)(o,h.UPDATE_SUB_COMMENT.success,function(e,t){var n=t.payload;n&&O.updateOne(e,{id:n.id,changes:n})}),o)}),V=x.actions.resetSubCommentList,z=(0,l.combineReducers)({commentList:F.reducer,subCommentList:x.reducer});t.ZP=z},803:function(e,t,n){"use strict";n.d(t,{I6:function(){return s},ZP:function(){return d},n5:function(){return l}});var r=n(87320),o=n(55164),i=n(57477),u=n(39288),a=n(16563),c=(0,u.FH)("commentPermission",["LOAD_TYPE_RELATED_COMMENT_PERMISSIONS","LOAD_CONTENT_COMMENT_PERMISSION"]);function s(e){return{API:{types:c.LOAD_TYPE_RELATED_COMMENT_PERMISSIONS,endpoint:"/comment_v5/".concat(e,"s/permission")},meta:{type:e}}}function l(e,t){return{API:{types:c.LOAD_CONTENT_COMMENT_PERMISSION,endpoint:"/comment_v5/".concat(e,"s/").concat(t,"/permission")},meta:{type:e,id:t}}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,u=t.meta;switch(t.type){case c.LOAD_TYPE_RELATED_COMMENT_PERMISSIONS.success:var s=u.type;return(0,i._)((0,o._)({},e),(0,r._)({},s,(0,i._)((0,o._)({},e[s]),{default:n.data})));case c.LOAD_CONTENT_COMMENT_PERMISSION.success:var l=u.type,d=u.id;return(0,i._)((0,o._)({},e),(0,r._)({},l,(0,i._)((0,o._)({},e[l]),(0,r._)({},d,(0,a.Qz)(n.data,l)))))}return e}},26215:function(e,t,n){"use strict";n.d(t,{FZ:function(){return _},Rf:function(){return p}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899);n(46942);var a=n(94057);n(28953);var c=n(39288),s=n(69906);function l(e,t){var n=e[t]&&e[t].ids||[],r=n.filter(function(e){return String(e).includes("_featured")}).length,o=n.length-r;return{featuredCounts:r,commonCounts:o}}n(67927);var d=(0,o._)({},(0,c.FH)("commentV2",["GET","GET_COLLAPSED","GET_REVERSE","GET_REVIEWING","GET_CONVERSATION","UPDATE_LIKE","UPDATE_DISLIKE","UPDATE_FEATURED","UPDATE_COLLAPSED","APPROVE","REJECT","DELETE","ADD","GET_MORE_REPLY_COMMENT","GET_CONVERSATION_MORE","GET_STICKERS","GET_COMMENT_WITH_PIC_PERMISSION","LOAD_NOTI_COMMENTS"]),(0,c.co)("comment",["ORDER"]));function _(){return function(e){e({API:{types:d.GET_COMMENT_WITH_PIC_PERMISSION,method:"GET",endpoint:"/user-permission"}})}}function p(){return function(e){e({API:{types:d.GET_STICKERS,method:"GET",endpoint:"/stickers"}})}}var f=function(e){var t=e.parentType,n=e.parentId;return"".concat(t,"_").concat(n)};t.ZP=(0,a.combineReducers)({stickers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===d.GET_STICKERS.success?(0,u._)(e).concat((0,u._)(t.payload.data)):e},commentWithPicPermission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===d.GET_COMMENT_WITH_PIC_PERMISSION.success?(0,o._)({},e,t.payload):e},notificationsComments:(0,s.Fd)(d.LOAD_NOTI_COMMENTS,{mapActionToKey:function(e){return e.notificationId||e.id},additionalCaseTypes:[d.ADD.success].concat((0,u._)(Object.values(d.UPDATE_FEATURED))),additionalCase:function(e,t){switch(t.type){case d.ADD.success:var n=t.replyType,r=t.result;if("notification"===n)return(0,i._)((0,o._)({},e),{ids:(0,u._)(e.ids).concat([r])});return e;case d.UPDATE_FEATURED.success:var a=t.notificationId,c=t.commentId;if(a){var s=e.ids,l=s.indexOf("".concat(c,"_featured"));-1===l?s.unshift("".concat(c,"_featured")):s.splice(l,1)}return e;default:return e}}}),pagination:(0,s.Fd)(d.GET,{mapActionToKey:f,additionalCaseTypes:[d.APPROVE.success,d.REJECT.success,d.ADD.success,d.ADD.failure,d.GET_CONVERSATION.success].concat((0,u._)(Object.values(d.UPDATE_FEATURED)),(0,u._)(Object.values(d.UPDATE_COLLAPSED))),additionalCase:function(e,t){switch(t.type){case d.APPROVE.success:return(0,i._)((0,o._)({},e),{totals:e.totals+1,ids:(0,u._)(e.ids).concat([t.id])});case d.REJECT.success:var n=e.ids;return(0,i._)((0,o._)({},e),{totals:e.totals-1,ids:n.filter(function(e){return e!==t.id})});case d.ADD.success:var r=t.replyToId,a=t.shouldUpdateChildComments;switch(t.replyType){case"comment":return(0,i._)((0,o._)({},e),{totals:e.totals+1,ids:(0,u._)(e.ids).concat([t.result]),newIds:(0,u._)(e.newIds).concat([t.result])});case"replyToFeatured":if(a)return(0,o._)({totals:e.totals+1},e);return(0,i._)((0,o._)({},e),{totals:e.totals+1,ids:(0,u._)(e.ids).concat([t.result]),newIds:(0,u._)(e.newIds).concat([t.result])});case"replyToSubFeatured":var c=e.ids.indexOf("".concat(r,"_featured"));return(0,i._)((0,o._)({},e),{totals:e.totals+1,ids:(0,u._)(e.ids.slice(0,c+1)).concat([t.result],(0,u._)(e.ids.slice(c+1))),newIds:(0,u._)(e.newIds.slice(0,c+1)).concat([t.result],(0,u._)(e.newIds.slice(c+1)))});case"replyToCommon":case"replyToSubCommon":return(0,i._)((0,o._)({},e),{totals:e.totals+1});default:return e}case d.UPDATE_COLLAPSED.request:var s=e.ids,l=s.indexOf(t.id),_=s.slice();return t.expect?_.splice(l,1):_.push(t.id),(0,i._)((0,o._)({},e),{ids:_,newIds:_,index:l});case d.UPDATE_COLLAPSED.success:return delete e.index,(0,o._)({},e);case d.UPDATE_COLLAPSED.failure:var p=e.ids.slice(),f=p.indexOf(t.id);return t.expect?p.splice(f,0,t.id):p.splice(f,1),delete e.index,(0,i._)((0,o._)({},e),{ids:p,newIds:p});case d.UPDATE_FEATURED.request:var T=t.commentId,E=e.ids,h=e.newIds,v=E.indexOf("".concat(T,"_featured"));if(-1===v)return(0,i._)((0,o._)({},e),{ids:["".concat(T,"_featured")].concat((0,u._)(E)),newIds:["".concat(T,"_featured")].concat((0,u._)(h))});return E.splice(v,1),h.splice(v,1),e;default:return e}}}),collapsed:(0,s.Fd)(d.GET_COLLAPSED,{mapActionToKey:f,additionalCaseTypes:(0,u._)(Object.values(d.UPDATE_COLLAPSED)),additionalCase:function(e,t){switch(t.type){case d.UPDATE_COLLAPSED.request:var n=e.ids,r=n.indexOf(t.id),u=n.slice();return t.expect?u.push(t.id):u.splice(r,1),(0,i._)((0,o._)({},e),{ids:u,newIds:u,index:r});case d.UPDATE_COLLAPSED.success:return delete e.index,(0,o._)({},e);case d.UPDATE_COLLAPSED.failure:var a=e.ids,c=e.index,s=a.slice();return t.expect?s.splice(c,1):s.splice(c,0,t.id),delete e.index,(0,i._)((0,o._)({},e),{ids:a,newIds:s});default:return e}}}),reverse:(0,s.Fd)(d.GET_REVERSE,{mapActionToKey:f,additionalCaseTypes:[d.APPROVE.success,d.ADD.success],additionalCase:function(e,t){switch(t.type){case d.APPROVE.success:return(0,i._)((0,o._)({},e),{totals:e.totals+1,ids:[t.id].concat((0,u._)(e.ids))});case d.ADD.success:var n=t.replyToId,r=t.id;if(n&&!r){var a=e.ids.indexOf(n);return(0,i._)((0,o._)({},e),{totals:e.totals+1,newIds:(0,u._)(e.newIds.slice(0,a+1)).concat([t.result],(0,u._)(e.newIds.slice(a+1))),ids:(0,u._)(e.ids.slice(0,a+1)).concat([t.result],(0,u._)(e.ids.slice(a+1)))})}return(0,i._)((0,o._)({},e),{totals:e.totals+1,ids:(0,u._)(e.ids).concat([t.result]),newIds:(0,u._)(e.newIds).concat([t.result])});default:return null}}}),reviewing:(0,s.Fd)(d.GET_REVIEWING,{mapActionToKey:f,additionalCaseTypes:[d.APPROVE.success,d.REJECT.success],additionalCase:function(e,t){switch(t.type){case d.APPROVE.success:var n=e.ids;return n.splice(n.indexOf(t.id),1),(0,i._)((0,o._)({},e),{ids:n});case d.REJECT.success:return(0,i._)((0,o._)({},e),{totals:e.totals+1,ids:(0,u._)(e.ids).concat([t.id])});default:return e}}}),conversation:(0,s.Fd)(d.GET_CONVERSATION,{additionalCaseTypes:[d.ADD.success].concat((0,u._)(Object.values(d.UPDATE_FEATURED))),additionalCase:function(e,t){switch(t.type){case d.ADD.success:var n=t.replyToId,r=t.replyType,a=t.isAnchorComments;if("conversation"===r){var c=e.ids.indexOf(n);if(-1===c&&(c=e.ids.indexOf("".concat(n,"_featured"))),a&&-1===c)return e;return(0,i._)((0,o._)({},e),{totals:e.totals+1,ids:(0,u._)(e.ids.slice(0,c+1)).concat([t.result],(0,u._)(e.ids.slice(c+1)))})}return e;case d.UPDATE_FEATURED.request:var s=t.commentId,l=e.ids,_=e.newIds,p=l.indexOf("".concat(s,"_featured")),f=l.indexOf(s);return -1!==p?(l.splice(p,1,s),_.splice(p,1,s)):-1!==f&&(l.splice(f,1,"".concat(s,"_featured")),_.splice(f,1,"".concat(s,"_featured"))),e;default:return e}}}),conversationMore:(0,s.Fd)(d.GET_CONVERSATION_MORE,{additionalCaseTypes:[d.ADD.success].concat((0,u._)(Object.values(d.UPDATE_FEATURED))),additionalCase:function(e,t){switch(t.type){case d.ADD.success:var n=t.replyToId,r=t.replyType,a=t.isAnchorComments;if("conversation"===r){if(!a)return(0,o._)({},e);var c=e.ids.indexOf(n);if(-1===c&&-1===(c=e.ids.indexOf("".concat(n,"_featured"))))return e;return(0,i._)((0,o._)({},e),{totals:e.totals+1,ids:(0,u._)(e.ids.slice(0,c+1)).concat([t.result],(0,u._)(e.ids.slice(c+1)))})}return e;case d.UPDATE_FEATURED.request:var s=t.commentId,l=e.ids,_=e.newIds,p=l.indexOf("".concat(s,"_featured")),f=l.indexOf(s);return -1!==p?(l.splice(p,1,s),_.splice(p,1,s)):-1!==f&&(l.splice(f,1,"".concat(s,"_featured")),_.splice(f,1,"".concat(s,"_featured"))),e;default:return e}}}),parent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=f(t);switch(t.type){case d.GET.success:var u=t.payload,a=u.featuredCounts,c=u.collapsedCounts,s=u.reviewingCounts,_=u.commonCounts,p=u.commentStatus;return(0,i._)((0,o._)({},e),(0,r._)({},n,{featuredCounts:a,collapsedCounts:c,reviewingCounts:s,commonCounts:_,commentStatus:p}));case d.APPROVE.success:var T=e[n].reviewingCounts-1;return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},e[n]),{reviewingCounts:T})));case d.REJECT.success:var E=e[n].reviewingCounts+1;return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},e[n]),{reviewingCounts:E})));case d.UPDATE_COLLAPSED.success:var h=e[n]||{};return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},h),{collapsedCounts:h.collapsedCounts+(t.expect?1:-1)})));case d.DELETE.success:var v=e[n]||{};return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,o._)({},v,t.collapsed&&{collapsedCounts:v.collapsedCounts-1},t.reviewing?{reviewingCounts:v.reviewingCounts-1}:{commonCount:v.commonCount-1})));case d.LOAD_NOTI_COMMENTS.success:var m=t.notificationsComments,A=t.notificationId;return(0,i._)((0,o._)({},e),(0,r._)({},A,(0,o._)({},l(m,A))));case d.UPDATE_FEATURED.request:case d.UPDATE_FEATURED.success:var I=t.notificationsComments,y=t.notificationId;if(y)return(0,i._)((0,o._)({},e),(0,r._)({},y,(0,o._)({},l(I,y))));return e;default:return e}}})},65514:function(e,t,n){"use strict";n.d(t,{$X:function(){return c},ZP:function(){return s},jt:function(){return a}});var r=n(55164),o=n(57477),i=n(74135),u=(0,n(39288).FH)("ask",["GET_MATCH_TOPICS","ADD"]);function a(e){return{API:{types:u.ADD,method:"POST",endpoint:"questions",fetchOptions:{zsEncrypt:!0,body:(0,i.decamelizeKeys)(e)}}}}function c(e){var t=(0,r._)({type:"question"},e),n=t.text,o=t.type;return{API:{types:u.GET_MATCH_TOPICS,endpoint:"/recommendations/match-topics",query:{text:n,type:o}}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!t.payload||![u.ADD.success,u.ADD.failure].includes(t.type))return e;var n=t.payload,i=n.id,a=n.code,c=n.message;switch(a){case 103003:return(0,o._)((0,r._)({},e),{title:{level:"error",text:"已经存在的问题"}});case 103001:return(0,o._)((0,r._)({},e),{detail:{level:"error",text:"过长的补充说明"}});default:return i?{id:i}:(0,o._)((0,r._)({},e),{overall:{text:c}})}}},11345:function(e,t,n){"use strict";n.d(t,{Z:function(){return s},z:function(){return c}});var r=n(55164),o=n(57477),i=n(80714),u=(0,n(39288).FH)("cities",["LOAD_CITIES"]),a={cityData:[]};function c(){return{API:{method:"GET",types:u.LOAD_CITIES,endpoint:"content/publish/content_source/config",root:i.Z.fetchRoot.api}}}function s(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,i=arguments.length>1?arguments[1]:void 0;return i.type===u.LOAD_CITIES.success?(0,o._)((0,r._)({},n),{cityData:null===(e=i.payload)||void 0===e?void 0:null===(t=e.data)||void 0===t?void 0:t.regions}):n}},99736:function(e,t,n){"use strict";n.d(t,{Km:function(){return _},L0:function(){return l},Np:function(){return s},TQ:function(){return f},ZP:function(){return T},ds:function(){return a},g2:function(){return p},o9:function(){return d},rF:function(){return c}});var r=n(55164),o=n(57477),i=n(39288),u=(0,r._)({},(0,i.FH)("creationRanking",["GET_CREATION_RANKING","GET_CREATION_RANKING_TYPE","GET__CREATION_RANKING_POSTER","GET__CREATION_RANKING_MONTHLIST"])),a=function(e){return e.creationRanking.creationRankData||{}},c=function(e){var t,n;return null===(t=e.creationRanking)||void 0===t?void 0:null===(n=t.posterData)||void 0===n?void 0:n.posterUrl},s=function(e){var t,n;return(null===(t=e.creationRanking)||void 0===t?void 0:null===(n=t.rankTypeData)||void 0===n?void 0:n.data)||[]},l=function(e){return e.creationRanking.monthList.data||[]};function d(e){var t=e.month,n=e.rank,r=e.domain;return{API:{types:u.GET_CREATION_RANKING,method:"GET",endpoint:"creator-events/rank_poster/list",query:{period:t,rank_type:n,domain_type:r}}}}function _(e){var t=e.month;return{API:{types:u.GET_CREATION_RANKING_TYPE,method:"GET",endpoint:"/creator-events/rank_poster/type",query:{period:t}}}}function p(e){var t=e.template_token,n=e.member_token,r=e.avatar_url,o=e.title,i=e.name,a=e.rank_type,c=e.domain_type,s=e.rank;return{API:{types:u.GET__CREATION_RANKING_POSTER,method:"GET",endpoint:"creator-events/gen_poster/".concat(t),query:{member_token:n,member_pic_url:r,title:o,name:i,rank_type:a,domain_type:c,rank:s}}}}function f(){return{API:{types:u.GET__CREATION_RANKING_MONTHLIST,method:"GET",endpoint:"/creator-events/rank_poster/period_info"}}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===u.GET_CREATION_RANKING.success?(0,o._)((0,r._)({},e),{creationRankData:t.payload}):t.type===u.GET__CREATION_RANKING_POSTER.success?(0,o._)((0,r._)({},e),{posterData:t.payload}):t.type===u.GET_CREATION_RANKING_TYPE.success?(0,o._)((0,r._)({},e),{rankTypeData:t.payload}):t.type===u.GET__CREATION_RANKING_MONTHLIST.success?(0,o._)((0,r._)({},e),{monthList:t.payload}):e}},19958:function(e,t,n){"use strict";n.d(t,{BP:function(){return E},CH:function(){return f},HA:function(){return I},Hm:function(){return T},Iz:function(){return N},NC:function(){return O},Nl:function(){return h},PM:function(){return g},SE:function(){return m},Uq:function(){return S},Y4:function(){return A},ZP:function(){return R},ig:function(){return y},ur:function(){return v}});var r=n(87320),o=n(55164),i=n(57477),u=n(74135),a=n(36762),c=n.n(a),s=n(39288),l=n(58909),d=n(25506),_=(0,o._)({},(0,s.FH)("creator",["GET_CREATOR_CAPTCHA","GET_CREATOR_SMS_SUPPORTED_COUNTRIES","VALIDATE_CREATOR_CAPTCHA","POST_CREATOR_APPLY_INFO","VALIDATE_CREATOR_CAPTCHA","LOAD_CREATOR_SMS_SUPPORTED_COUNTRIES","GET_TOOLS_QUESTION_INVITED_COUNT","GET_TOOLS_QUESTION_DOMAIN","GET_TOOLS_HOT_QUESTION_LIST","GET_TOOLS_MCN_QUESTION_LIST","SUBSCRIBE_TOOLS_HOTSPOT_DOMAIN_LIST","UPDATE_TOOLS_HOTSPOT_DOMAIN","GET_PROFIT_REWARD_COMMUNITY_LIST","GET_PROFIT_REWARD_PROMOTION_TOTAL","GET_PROFIT_REWARD_PROMOTION_LIST","LOAD_PROMOTION_PROTOCOL","GET_CONTENT_RIGHTS_NOTIFICATION","READ_CONTENT_RIGHTS_NOTIFICATION","GET_REALNAME_STATUS","GET_MCN_DAILY_STATUS","GET_MCN_ORDER_LIST","GET_MCN_OVERDUE_GOODS_LIST","GET_MCN_ORDER_DETAIL","GET_MCN_STATISTICS","GET_MCN_CURRENT_MONTH_STATS","GET_MCN_OVERVIEW_DATA","GET_MCN_BALANCE_DATA","GET_MCN_BALANCE_LIST","LOAD_TABLE","GET_CREATOR_TASKS","DO_CREATOR_TASK","LOAD_HOT_QUESTION_LIST","LOAD_CREATOR_STATISTICS","GET_RECOMMEND_QUESTION_LIST"]),(0,s.co)("creator",["READ_CONTENT_RIGHTS_NOTIFICATION_LOCALLY","CLEAN_MCN_ORDER_LIST","UPDATE_EDIT_MODAL_STATUS"])),p=function(e){return"apply"===e?"/qualification":""};function f(e){return{API:{types:_.POST_CREATOR_APPLY_INFO,endpoint:"/qualification/creator/apply",method:"POST",body:(0,u.decamelizeKeys)(e)}}}function T(){return{API:{types:_.LOAD_CREATOR_STATISTICS,endpoint:"/creators/analysis/card"},FAILSAFE:!0}}function E(e){return{API:{types:_.GET_TOOLS_QUESTION_DOMAIN,endpoint:"creators/question_route/common_module",query:{page_source:e}}}}function h(e,t){return{API:{method:"PUT",types:_.SUBSCRIBE_TOOLS_HOTSPOT_DOMAIN_LIST,endpoint:"/creators/domain",body:(0,u.decamelizeKeys)({domainIds:e,subType:t})}}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return function(r,o){var i=(0,l.ib)(o());return r({API:{types:_.GET_PROFIT_REWARD_COMMUNITY_LIST,endpoint:"/members/".concat(i.urlToken,"/").concat(e,"-reward-details"),query:{limit:t,offset:n,include:"data[*].target,reward_detail.transfer_amount"}}})}}function m(){return{API:{types:_.GET_PROFIT_REWARD_PROMOTION_TOTAL,endpoint:"/wallet-poisson/pu_fission/income",root:"/api/"}}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{API:{types:_.GET_PROFIT_REWARD_PROMOTION_LIST,endpoint:"/wallet-poisson/pu_fission/orders",root:"/api/",query:{limit:e,offset:t}}}}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apply";return{API:{types:_.GET_CREATOR_CAPTCHA,method:"POST",endpoint:"".concat(p(t),"/creator/phone/sms"),body:(0,u.decamelizeKeys)(e)}}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"apply";return{API:{types:_.VALIDATE_CREATOR_CAPTCHA,method:"POST",endpoint:"".concat(p(t),"/creator/phone/verify"),body:(0,u.decamelizeKeys)(e)}}}function O(e,t){return{API:{types:_.GET_CONTENT_RIGHTS_NOTIFICATION,method:"GET",endpoint:"/creator/notification/content/".concat(e,"s/").concat(t)},UPDATE:{success:function(n){return(0,r._)({},"".concat(e,"s"),(0,r._)({},t,{creatorRightsNotification:n}))}}}}function S(e,t,n){return function(o,i){var u=i().entities["".concat(e,"s")][t].creatorRightsNotification,a=(0,r._)({},"".concat(e,"s"),(0,r._)({},t,{creatorRightsNotification:c()(u,function(){return 0})}));return o("current"===n?{type:_.READ_CONTENT_RIGHTS_NOTIFICATION_LOCALLY,UPDATE:{update:a}}:{API:{types:_.READ_CONTENT_RIGHTS_NOTIFICATION,method:"next"===n?"PATCH":"DELETE",endpoint:"/creator/notification/content/".concat(e,"s/").concat(t)},UPDATE:{request:a}})}}function g(){return{API:{types:_.GET_RECOMMEND_QUESTION_LIST,endpoint:"creators/extra_card"}}}var C={tools:{question:{invitationCount:{questionFolloweeCount:0,questionTotalCount:0}},recommend:{recommendTimes:{}}},explore:{},levelUpperLimit:10,mcn:{},mcnManage:{},tasks:{},announcement:{},creatorsRecommendInfo:{}},N=function(e){return e.creator.creatorsRecommendInfo};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,n=t.meta,a=void 0===n?{}:n,c=t.payload;switch(t.type){case _.GET_TOOLS_QUESTION_INVITED_COUNT.success:return(0,i._)((0,o._)({},e),{tools:(0,i._)((0,o._)({},e.tools),{question:(0,i._)((0,o._)({},e.tools.question),{invitationCount:t.payload.data,isDrained:!0})})});case _.CLEAN_MCN_ORDER_LIST:return(0,i._)((0,o._)({},e),{mcn:(0,i._)((0,o._)({},e.mcn),{orderSource:void 0,orders:void 0})});case _.GET_MCN_ORDER_LIST.success:var s=t.payload,l=s.data,p=s.paging.totals,f=t.source,T=t.limit,E=t.offset,h=e.mcn.orderSource===f?e.mcn.orders:Array.from({length:p});return(0,i._)((0,o._)({},e),{mcn:(0,i._)((0,o._)({},e.mcn),{orderSource:f,orders:h.map(function(e,t){return t>=E&&t<E+T?l[t-E]:e})})});case _.GET_MCN_OVERDUE_GOODS_LIST.success:var v=t.payload,m=v.data,A=v.paging.totals,I=t.source,y=t.limit,O=t.offset,S=e.mcn.goodsListSource===I?e.mcn.goodsList:Array.from({length:A});return(0,i._)((0,o._)({},e),{mcn:(0,i._)((0,o._)({},e.mcn),{goodsListSource:I,goodsList:S.map(function(e,t){return t>=O&&t<O+y?m[t-O]:e})})});case _.GET_MCN_ORDER_DETAIL.success:var g=t.payload,N=t.id;return(0,i._)((0,o._)({},e),{mcn:(0,i._)((0,o._)({},e.mcn),{orders:e.mcn.orders.map(function(e){return(null==e?void 0:e.id)&&String(e.id)===N?(0,i._)((0,o._)({},e,g),{id:e.id,imgURL:e.imgURL}):e})})});case _.LOAD_TABLE.success:var R,P=a.stateKey,D=a.pagesKey,L=a.totalKey,w=a.dataKey,b=a.current,G=c.data,U=c.paging;return(0,i._)((0,o._)({},e),(0,r._)({},P,(0,d.qS)(null!==(R=e[P])&&void 0!==R?R:{},b,{data:null!=G?G:[],total:null==U?void 0:U.totals},{pagesKey:D,totalKey:L,dataKey:w})))}switch(t.type){case _.GET_CREATOR_TASKS.success:var k=t.payload;return(0,i._)((0,o._)({},e),{tasks:k});case _.LOAD_HOT_QUESTION_LIST.success:var M=t.payload;return(0,i._)((0,o._)({},e),{hotQuestionList:null==M?void 0:M.data});case _.LOAD_CREATOR_STATISTICS.success:return(0,i._)((0,o._)({},e),{creatorStatistics:t.payload});case _.GET_RECOMMEND_QUESTION_LIST.success:if(!c)return(0,o._)({},e);return(0,i._)((0,o._)({},e),{creatorsRecommendInfo:(0,i._)((0,o._)({},c),{showType:(0,u.camelize)(c.showType||"")})});case _.GET_RECOMMEND_QUESTION_LIST.failure:return(0,i._)((0,o._)({},e),{creatorsRecommendInfo:{showType:"data"}})}return e}},105:function(e,t,n){"use strict";n.d(t,{Oj:function(){return F},nl:function(){return ef},Dc:function(){return K},$9:function(){return I},Ah:function(){return y},y2:function(){return m},Q8:function(){return A},ZP:function(){return eh},Rv:function(){return x},Ko:function(){return ei},hH:function(){return ee},QO:function(){return b},in:function(){return w},QV:function(){return U},r8:function(){return eT},d1:function(){return eu},Eh:function(){return Y},O1:function(){return Q},F4:function(){return j},MW:function(){return z},sM:function(){return V},GL:function(){return q},NN:function(){return L},lc:function(){return et},Zo:function(){return en},ah:function(){return D},CS:function(){return $},BQ:function(){return eo},eL:function(){return B},iC:function(){return k},Av:function(){return er},mK:function(){return J},nP:function(){return X},lT:function(){return C},u3:function(){return h},uy:function(){return M},ge:function(){return P},A8:function(){return es},u0:function(){return el},J6:function(){return ed},Oe:function(){return e_},Zn:function(){return R},yf:function(){return ec},g0:function(){return ea},LA:function(){return ep},FO:function(){return O},z5:function(){return E},NU:function(){return S},FG:function(){return T},rn:function(){return v},xl:function(){return Z},qO:function(){return G},vS:function(){return g},ZX:function(){return H},tj:function(){return W}});var r=n(55164),o=n(57477),i=n(74135),u=n(4667),a=n.n(u),c=n(57045),s=n(28953),l=n(74351),d=n(80523),_=n(39288),p=n(31824),f=function(e){return e.creatorMCN},T=(0,p.P1)(f,function(e){return e.mcn}),E=(0,p.P1)(T,function(e){return e.id}),h=(0,p.P1)(f,function(e){return e.isNoAuth}),v=(0,p.P1)(f,function(e){return e.mcnStatistics}),m=(0,p.P1)(f,function(e){return e.creatorManageData}),A=(0,p.P1)(f,function(e){return e.creatorManageDataTotal}),I=(0,p.P1)(f,function(e){return e.creatorCheeseManageData}),y=(0,p.P1)(f,function(e){return e.creatorCheeseManageDataTotal}),O=(0,p.P1)(f,function(e){return e.mcnDomains}),S=(0,p.P1)(f,function(e){return e.mcnRight}),g=(0,p.P1)(f,function(e){return e.statisticHealthScoreData}),C=(0,p.P1)(f,function(e){return e.healthScore}),N=(0,r._)({},(0,_.FH)("creator-mcn",["GET_HOME_DATA","LOAD_ACTIVITY_LIST","GET_CREATOR_MANAGE_DATA","GET_CREATOR_CHEESE_MANAGE_DATA","DOWNLOAD_CREATOR_CHEESE_MANAGE_DATA_EXCEL_CHECK","SEARCH_PEOPLE","DOWNLOAD_CREATORS","GET_MCN_DOMAINS","GET_INVITE_STATUS","LAUNCH_UNBIND","ACCEPT_UNBIND","REJECT_UNBIND","SUBMIT_INVITATION","GET_CONTENTS","GET_CONTENT_ANALYSIS","DOWNLOAD_CONTENTS","GET_CREATOR_STATISTICS","DOWNLOAD_CREATOR_STATISTICS","GET_CREATOR_INCOME","GET_CREATOR_INCOME_STATISTICS","GET_MCN_INCOME","GET_INCOME_TYPE","DOWNLOAD_CREATOR_INCOME","DOWNLOAD_MCN_INCOME","LOAD_PAYMENT_LIST","LOAD_PAYMENT_DETAIL","LOAD_CREATOR_BALANCE","LOAD_CREATOR_BALANCE_DETAIL","GET_CONTENTS_PROMOTE_DETAIL","GET_CONTENTS_PROMOTE_COUPON_LIST","CHECK_CONTENTS_PROMOTE_COUPON","USE_CONTENTS_PROMOTE_COUPON","POST_CREATE_ORDER","POST_PAYMENT","GET_PAYMENT_STATUS","GET_SALT_AGGR","GET_SALT_DETAIL","GET_HEALTH_SCORE","LOAD_HEALTHSCORE_LIST","LOAD_STATISTIC_HEALTH_SCORE_DATA","BEFORE_DOWNLOAD_CHECK"]));function R(){return{API:{types:N.GET_HOME_DATA,endpoint:"/creator-mcn/homepage"},FAILSAFE:(0,l.isNode)()}}function P(e){var t=e.groupToken,n=e.pageSize,r=e.current;return{meta:{groupToken:t},API:{types:N.LOAD_ACTIVITY_LIST,endpoint:"/activity_banner/list",query:{pageSize:void 0===n?6:n,current:void 0===r?1:r,groupToken:t,order:"show"}}}}function D(e){return{API:{types:N.GET_CREATOR_MANAGE_DATA,endpoint:"/creator-mcn/creators",query:e}}}function L(e){return{API:{types:N.GET_CREATOR_CHEESE_MANAGE_DATA,endpoint:"/creator-mcn/cheese",query:e}}}function w(e){var t="/creator-mcn/cheese/download/check",n=(0,c.stringify)((0,i.decamelizeKeys)(e));return n&&(t+="?".concat(n)),{API:{types:N.DOWNLOAD_CREATOR_CHEESE_MANAGE_DATA_EXCEL_CHECK,endpoint:t,FAILSAFE:!0}}}function b(e){return function(){window.open("/api/v4/creator-mcn/cheese/download?".concat((0,c.stringify)((0,i.decamelizeKeys)(e))))}}function G(e,t){return{API:{types:N.SEARCH_PEOPLE,endpoint:t||"search_v3",query:t?{}:{t:"people",q:e,limit:10}},schema:s.l.SEARCH_PEOPLE_ARRAY}}function U(e){return function(){window.open("/api/v4/creator-mcn/creators/download?".concat((0,c.stringify)((0,i.decamelizeKeys)(e))))}}function k(){return function(e,t,n){var r=n.fnRefs;return(0,d.Z)(r,"getMCNDomains",function(){return a()(function(){return e({API:{types:N.GET_MCN_DOMAINS,endpoint:"creator-mcn/mcn-domain"}})})})()}}function M(e){var t=e.bindId,n=e.sponsorType,r=e.unbindReason;return{API:{types:N.LAUNCH_UNBIND,endpoint:"/creator-mcn/action/launch-unbind/".concat(t),body:(0,i.decamelizeKeys)({unbindReason:r,sponsorType:void 0===n?1:n}),method:"PUT"}}}function F(e){var t=e.bindId,n=e.sponsorType;return{API:{types:N.ACCEPT_UNBIND,endpoint:"/creator-mcn/action/accept-unbind/".concat(t),body:(0,i.decamelizeKeys)({sponsorType:void 0===n?1:n}),method:"PUT"}}}function Z(e){var t=e.bindId,n=e.sponsorType;return{API:{types:N.REJECT_UNBIND,endpoint:"/creator-mcn/action/reject-unbind/".concat(t),body:(0,i.decamelizeKeys)({sponsorType:void 0===n?1:n}),method:"PUT"}}}function B(e){return{API:{types:N.GET_INVITE_STATUS,endpoint:"/creator-mcn/creator-invite-status",query:{memberUrl:e}}}}function H(e){return function(t,n){var r=E(n());return t({API:{types:N.SUBMIT_INVITATION,endpoint:"/creator-mcn/action/launch-invite/".concat(r),method:"POST",body:(0,i.decamelizeKeys)(e)}})}}function q(e){return{API:{types:N.GET_CONTENTS,endpoint:"/creator-mcn/contents",query:e}}}function x(e){return function(){window.open("/api/v4/creator-mcn/contents/download?".concat((0,c.stringify)((0,i.decamelizeKeys)(e))))}}function V(e){return{API:{types:N.GET_CONTENTS_PROMOTE_DETAIL,endpoint:"/creator-mcn/contents/detail",query:e}}}function z(){return{API:{types:N.GET_CONTENTS_PROMOTE_COUPON_LIST,endpoint:"/creator-mcn/promote/coupon/list"}}}function K(e){return{API:{types:N.CHECK_CONTENTS_PROMOTE_COUPON,endpoint:"/creator-mcn/promote/force-insert/check",query:e}}}function W(e){return{API:{method:"POST",types:N.USE_CONTENTS_PROMOTE_COUPON,endpoint:"/creator-mcn/promote/force-insert/use_coupon",query:e}}}var Y=function(e){var t=e.skuId,n=e.content_id,r=e.content_type;return{API:{root:"https://pay.zhihu.com/",types:N.POST_CREATE_ORDER,endpoint:"/order/v2/checkout",method:"POST",body:{purchase_items:[{key:t,type:"SKU",quantity:1}],extra:{mcntc_content_type:r,mcntc_content_id:n}},fetchOptions:{credentials:"include",zsEncrypt:!0}}}},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ZHIPAY_ACCOUNT_MCN_SALT";return{API:{root:"https://pay.zhihu.com/",types:N.POST_PAYMENT,endpoint:"/order/v2/purchase/".concat(e),method:"POST",body:{payment:{payment_channel:t}}}}},j=function(e){return{API:{root:"https://pay.zhihu.com/",types:N.GET_PAYMENT_STATUS,endpoint:"/order/v1/delivery/status?deal_id=".concat(e),method:"GET"},NOTIFICATION:!1}},X=function(e){return{API:{types:N.GET_SALT_DETAIL,endpoint:"/creator-mcn/promote/salt/detail",query:e},NOTIFICATION:!1}},J=function(e){return{API:{types:N.GET_SALT_AGGR,endpoint:"/creator-mcn/promote/salt/balance",query:e},NOTIFICATION:!1}};function $(e){return{API:{types:N.GET_CREATOR_STATISTICS,endpoint:"/creator-mcn/creator-statistics",query:e}}}function ee(e){return function(){window.open("/api/v4/creator-mcn/creator-statistics/download?".concat((0,c.stringify)((0,i.decamelizeKeys)(e))))}}function et(e){return{API:{types:N.GET_CREATOR_INCOME,endpoint:"/creator-mcn/creator-income",query:e}}}function en(e){return{API:{types:N.GET_CREATOR_INCOME_STATISTICS,endpoint:"/creator-mcn/creator-daily-income",query:e}}}function er(e){return{API:{types:N.GET_MCN_INCOME,endpoint:"/creator-mcn/mcn-income",query:e}}}function eo(){return function(e,t,n){var r=n.fnRefs;return(0,d.Z)(r,"GET_INCOME_TYPE",function(){return a()(function(){return e({API:{types:N.GET_INCOME_TYPE,endpoint:"creator-mcn/income-type"}})})})()}}function ei(e){return function(){window.open("/api/v4/creator-mcn/creator-income/download?".concat((0,c.stringify)((0,i.decamelizeKeys)(e))))}}function eu(e){return function(){window.open("/api/v4/creator-mcn/mcn-income/download?".concat((0,c.stringify)((0,i.decamelizeKeys)(e))))}}function ea(e){return{API:{types:N.LOAD_PAYMENT_LIST,endpoint:"/creator-mcn/wallet/payment/list",query:e}}}function ec(e){return{API:{types:N.LOAD_PAYMENT_DETAIL,endpoint:"/creator-mcn/wallet/collect/list",query:e}}}function es(e){return{API:{types:N.LOAD_CREATOR_BALANCE,endpoint:"/creator-mcn/wallet/balance/list",query:e}}}function el(e){return{API:{types:N.LOAD_CREATOR_BALANCE_DETAIL,endpoint:"/creator-mcn/wallet/income/list",query:e}}}function ed(e){return{API:{types:N.GET_HEALTH_SCORE,endpoint:"/creator-mcn/health-score?mcn_id=".concat(e)}}}function e_(e){return{API:{types:N.LOAD_HEALTHSCORE_LIST,endpoint:"/creator-mcn/health-score/detail",query:e}}}function ep(){return{API:{types:N.LOAD_STATISTIC_HEALTH_SCORE_DATA,endpoint:"/sku/km_resource?token=mcn-health-score",root:"https://api.zhihu.com"}}}function ef(e){return{API:{types:N.BEFORE_DOWNLOAD_CHECK,endpoint:"/creator-mcn/health-score/detail/download/check?".concat((0,c.stringify)((0,i.decamelizeKeys)(e)))}}}function eT(e){return function(){window.open("/api/v4/creator-mcn/health-score/detail/download?".concat((0,c.stringify)((0,i.decamelizeKeys)(e))))}}var eE={mcn:{},mcnStatistics:{},mcnRight:{bind:!1,coupon:!1},isNoAuth:!1,creatorManageData:[],creatorManageDataTotal:1,mcnDomains:[],bill:{list:{},detail:{}},healthScore:{healthScore:"0",updateTime:"",evaluate:""},healthScoreRecordInfo:{},statisticHealthScoreData:{},beforeDownloadCheckResult:{}};function eh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:eE,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case N.GET_HOME_DATA.success:return(0,o._)((0,r._)({},e),{mcn:n.mcn,mcnStatistics:n.mcnStatistics,mcnRight:n.mcnRight||{}});case N.GET_HOME_DATA.failure:if(2e4===t.err.payload.code)return(0,o._)((0,r._)({},e),{isNoAuth:!0});break;case N.GET_CREATOR_MANAGE_DATA.success:return(0,o._)((0,r._)({},e),{creatorManageData:n.data,creatorManageDataTotal:n.paging.totals});case N.GET_CREATOR_CHEESE_MANAGE_DATA.success:return(0,o._)((0,r._)({},e),{creatorCheeseManageData:n.data,creatorCheeseManageDataTotal:n.paging.totals});case N.GET_MCN_DOMAINS.success:return(0,o._)((0,r._)({},e),{mcnDomains:n.data});case N.LOAD_PAYMENT_LIST.success:return(0,o._)((0,r._)({},e),{bill:(0,o._)((0,r._)({},e.bill),{list:n})});case N.LOAD_PAYMENT_DETAIL.success:return(0,o._)((0,r._)({},e),{bill:(0,o._)((0,r._)({},e.bill),{detail:n})});case N.GET_HEALTH_SCORE.success:return(0,o._)((0,r._)({},e),{healthScore:n});case N.LOAD_HEALTHSCORE_LIST.success:return(0,o._)((0,r._)({},e),{healthScoreRecordInfo:n});case N.LOAD_STATISTIC_HEALTH_SCORE_DATA.success:return(0,o._)((0,r._)({},e),{statisticHealthScoreData:n.data});case N.BEFORE_DOWNLOAD_CHECK.success:return(0,o._)((0,r._)({},e),{beforeDownloadCheckResult:n.data})}return e}},26267:function(e,t,n){"use strict";n.d(t,{Sy:function(){return s},Xd:function(){return c},ZP:function(){return l}});var r=n(55164),o=n(57477),i=n(39288),u={list:[]},a=(0,i.FH)("creatorRightStatus",["LOAD_CREATOR_RIGHT_STATUS"]);function c(){return{API:{types:a.LOAD_CREATOR_RIGHT_STATUS,endpoint:"/creators/rights/status"}}}var s=function(e){var t;return(null===(t=e.creatorRightStatus)||void 0===t?void 0:t.list)||u.list};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0,n=t.payload;return t.type===a.LOAD_CREATOR_RIGHT_STATUS.success?(0,o._)((0,r._)({},e),{list:n.data||[]}):e}},1047:function(e,t,n){"use strict";n.d(t,{$o:function(){return b},A:function(){return T},Di:function(){return w},Dn:function(){return C},H1:function(){return l},J9:function(){return er},Ji:function(){return G},KO:function(){return p},Kf:function(){return c},LE:function(){return K},MX:function(){return I},Me:function(){return V},Ms:function(){return _},Nr:function(){return j},Pf:function(){return F},QT:function(){return Z},SR:function(){return H},W1:function(){return q},XD:function(){return A},ZP:function(){return en},ZR:function(){return $},_$:function(){return Y},a8:function(){return m},aF:function(){return B},bZ:function(){return N},bf:function(){return W},cP:function(){return g},cT:function(){return s},dJ:function(){return ee},dh:function(){return X},en:function(){return O},gS:function(){return y},gq:function(){return U},j8:function(){return R},k:function(){return d},lh:function(){return f},lz:function(){return D},mz:function(){return x},nj:function(){return L},oQ:function(){return Q},oY:function(){return P},ou:function(){return E},qV:function(){return S},tL:function(){return h},uw:function(){return k},wF:function(){return J},yM:function(){return v},zK:function(){return z},zj:function(){return M}});var r=n(55164),o=n(57477),i=n(74135),u=n(39288),a=(0,r._)({},(0,u.FH)("creatorSalt",["GET_AUTHOR_STATUS","GET_AUTHOR_STATUS_NEW","GET_AUTHOR_WEBSITES","GET_AUTHOR_CONTRIBUTES_DOMAIN","CREATE_AUTHOR_DRAFT","PUBLISH_AUTHOR_DRAFT","UPDATE_AUTHOR_DRAFT","GET_QUESTION_RECOMMEND","SUB_USER_INFO","SUB_INSTITUTION_INFO","GET_AUTHOR_CONTRIBUTES_LIST","SUBMIT_AUTHOR_DRAFT","DELETE_AUTHOR_DRAFT","GET_DRAFT_INFO","GET_HAS_SUBMIT_ARTICLES","TRANSFER_CONTENT_TO_DRAFT","GET_BANNER_IMG_LIST","GET_CLAIM_BANNER_IMG_LIST","GET_REST_CONTRIBUTION_NUMBER","GET_AUTHOR_INFO","GET_All_BIND_ACCOUNT","OPERATE_INVITE_REQUEST","GET_AUTHOR_INVITE_STATUS","INVITE_AUTHOR","GET_INVITE_ACCOUNT_INFO","GET_INVITATION","HANDLE_INVITATION","UPLOAD_FILE","UPLOAD_IMG_WITH_WATERMARK","UPDATE_AUTHOR_INFO","CANCEL_INVITE_AUTHOR","GET_BOUND_INSTITUTION_INFO","GET_GROWTH_LEVEL","GET_TAGS_TREE","GET_LONG_SECTIONS","UPDATE_LONG_SECTIONS","GET_AUTHOR_CONTRIBUTES_DOMAIN_ALL","GET_MANUSCRIPT_LIST","GET_STATUS_COUNT","GET_STATUS_MAP","CREATE_CONTROBUTION","UPDATE_CONTROBUTION","GET_CONTRIBUTION_INFO","GET_COMMUNITY_CONTENT","CALLBACK_CONTROBUTION","UPLOAD_MANUSCRIPT","GET_All_BIND_ACCOUNT_NEW","GET_UNREAD_COUNT","UPDATE_AUTHOR_INFO_IN_SIGN_ON_LINE","CHOOSE_SETTLEMENT_INFO","GET_SIGN_LIST","GET_BANK_LIST","SUBMIT_CONTRACT_DESC_INFO","GET_CONTRACT_PDF","GET_WELFARE_CONFIG","GET_MANUSCRIPT_STATUS_TEXT"]));function c(){return{API:{types:a.GET_GROWTH_LEVEL,root:"https://www.zhihu.com/api/v4/",endpoint:"creator/v2/level"}}}function s(e){return{API:{types:a.UPLOAD_FILE,root:"https://api.zhihu.com/",endpoint:"promus/efs/upload",method:"POST",body:e}}}function l(e){return{API:{types:a.UPLOAD_IMG_WITH_WATERMARK,endpoint:"market/img/upload",method:"POST",body:e}}}function d(){return{API:{types:a.GET_AUTHOR_STATUS,endpoint:"/creators/contributions/author/status",method:"GET"}}}var _=function(){return{API:{types:a.GET_AUTHOR_STATUS_NEW,root:"",endpoint:"/km_author_web/author/status",method:"GET"}}};function p(e){return{API:{types:a.GET_INVITATION,endpoint:"/creators/institutions/author_invite/".concat(e),method:"GET"}}}function f(e){return{API:{types:a.HANDLE_INVITATION,endpoint:"/creators/institutions/author_invite",method:"POST",body:(0,i.decamelizeKeys)(e)}}}function T(){return{API:{types:a.GET_QUESTION_RECOMMEND,endpoint:"/creators/contributions/question/recommend",method:"GET"}}}function E(){return{API:{types:a.GET_AUTHOR_WEBSITES,endpoint:"/creators/contributions/config/sites",method:"GET"}}}function h(){return{API:{types:a.GET_AUTHOR_CONTRIBUTES_DOMAIN,endpoint:"/creators/contributions/config/domains",method:"GET"}}}function v(){return{API:{types:a.GET_AUTHOR_CONTRIBUTES_DOMAIN_ALL,endpoint:"/creators/domain/v2",method:"GET"}}}function m(){return{API:{types:a.GET_AUTHOR_INFO,root:"",endpoint:"/creators/institutions/personal_information",method:"GET"}}}function A(e){return{API:{types:a.UPDATE_AUTHOR_INFO,endpoint:"/creators/institutions/update",method:"POST",body:(0,i.decamelizeKeys)(e)}}}function I(e){return{API:{types:a.SUB_USER_INFO,endpoint:"/creators/contributions/author",method:"POST",body:(0,i.decamelizeKeys)(e)}}}function y(e){return{API:{types:a.SUB_USER_INFO,endpoint:"/creators/contributions/author",method:"PUT",body:(0,i.decamelizeKeys)(e)}}}function O(e){return{API:{types:a.SUB_INSTITUTION_INFO,endpoint:"/creators/institutions/create",method:"POST",body:(0,i.decamelizeKeys)(e)}}}function S(e){return{API:{types:a.GET_All_BIND_ACCOUNT,endpoint:"/creators/institutions/get_accounts",method:"GET",query:e}}}function g(){return{API:{types:a.GET_UNREAD_COUNT,root:"",endpoint:"/messages/unread_count?talker_id=54334036",method:"GET"}}}function C(){return{API:{types:a.GET_All_BIND_ACCOUNT_NEW,root:"",endpoint:"/km_author_web/submit_account/list",method:"GET"}}}function N(e){return{API:{types:a.GET_INVITE_ACCOUNT_INFO,endpoint:"/creators/institutions/get_invites",method:"GET",query:e}}}function R(){return{API:{types:a.GET_BOUND_INSTITUTION_INFO,endpoint:"/creators/institutions/institution_info",method:"GET"}}}function P(e){return{API:{types:a.GET_AUTHOR_INVITE_STATUS,endpoint:"/creators/institutions/author_status",method:"GET",query:e}}}function D(e){return{API:{types:a.INVITE_AUTHOR,endpoint:"/creators/institutions/send_invite",method:"POST",body:(0,i.decamelizeKeys)(e)}}}function L(e){return{API:{types:a.CANCEL_INVITE_AUTHOR,endpoint:"/creators/institutions/cancel_invite",method:"POST",body:(0,i.decamelizeKeys)(e)}}}var w=function(e){return{API:{types:a.GET_MANUSCRIPT_LIST,root:"",endpoint:"/km_author_web/contribution/list",method:"GET",query:e}}},b=function(){return{API:{types:a.GET_STATUS_COUNT,root:"",endpoint:"/km_author_web/contribution/status_count",method:"GET"}}},G=function(){return{API:{types:a.GET_STATUS_MAP,root:"",endpoint:"/km_author_web/contribution_status/list",method:"GET"}}},U=function(e){return{API:{types:a.CREATE_CONTROBUTION,root:"",endpoint:"/km_author_web/contribution/operate/create",method:"POST",body:(0,i.decamelizeKeys)(e)}}},k=function(e){return{API:{types:a.UPDATE_CONTROBUTION,root:"",endpoint:"/km_author_web/contribution/operate/update",method:"PUT",body:(0,i.decamelizeKeys)(e)}}},M=function(e){return{API:{types:a.CALLBACK_CONTROBUTION,root:"",endpoint:"/km_author_web/contribution/operate/callback",method:"PUT",body:(0,i.decamelizeKeys)(e)}}},F=function(e){return{API:{types:a.GET_CONTRIBUTION_INFO,root:"",endpoint:"/km_author_web/contribution/info?id=".concat(e),method:"GET"}}},Z=function(e){return{API:{types:a.GET_COMMUNITY_CONTENT,root:"",endpoint:"/km_author_web/community/content",method:"GET",query:e}}};function B(){return{API:{root:"https://api.zhihu.com",types:a.GET_BANNER_IMG_LIST,endpoint:"/sku/km_resource",method:"GET",query:{token:"creator-salt-banner"}}}}var H=function(){return{API:{types:a.GET_WELFARE_CONFIG,root:"https://api.zhihu.com",endpoint:"/sku/km_resource?token=author-platform-welfare",method:"GET"}}},q=function(){return{API:{types:a.GET_MANUSCRIPT_STATUS_TEXT,root:"https://api.zhihu.com",endpoint:"/sku/km_resource?token=author-platform-manuscript-status",method:"GET"}}};function x(){return{API:{root:"https://api.zhihu.com",types:a.GET_CLAIM_BANNER_IMG_LIST,endpoint:"/sku/km_resource",method:"GET",query:{token:"creator-salt-claim-banner"}}}}var V=function(){return{API:{types:a.GET_TAGS_TREE,root:"",endpoint:"/km_author_web/contribution/tag/all?tag_type=0",method:"GET"}}},z=function(e){return{API:{types:a.UPLOAD_MANUSCRIPT,root:"",endpoint:"/km_author_web/contribution/operate/upload",method:"PUT",body:(0,i.decamelizeKeys)(e)}}};function K(e){return{API:{types:a.GET_LONG_SECTIONS,root:"",endpoint:"/km_author_web/contribution/section/list?id=".concat(e),method:"GET"}}}function W(e){return{API:{types:a.UPDATE_LONG_SECTIONS,root:"",endpoint:"/km_author_web/contribution/index",method:"PUT",body:(0,i.decamelizeKeys)(e)}}}function Y(e){return{API:{types:a.GET_DRAFT_INFO,endpoint:"/creators/contributions/".concat(e),method:"GET"}}}function Q(e){var t=e.limit,n=e.offset;return{API:{types:a.GET_SIGN_LIST,endpoint:"/km_author_web/contract/page/list?limit=".concat(t,"&offset=").concat(n),root:"",method:"GET"}}}function j(){return{API:{types:a.GET_BANK_LIST,endpoint:"/km_author_web/contract/bank_list",root:"",method:"GET"}}}function X(e){return{API:{types:a.UPDATE_AUTHOR_INFO_IN_SIGN_ON_LINE,endpoint:"/km_author_web/contract/author_info",root:"",method:"POST",body:(0,r._)({},(0,i.decamelizeKeys)(e))}}}function J(e){return{API:{types:a.CHOOSE_SETTLEMENT_INFO,endpoint:"/km_author_web/contract/payment_method",root:"",method:"PUT",body:(0,r._)({},(0,i.decamelizeKeys)(e))}}}function $(e){return{API:{types:a.SUBMIT_CONTRACT_DESC_INFO,endpoint:"/km_author_web/contract/description",root:"",method:"PUT",body:(0,r._)({},(0,i.decamelizeKeys)(e))}}}function ee(e){return{API:{types:a.SUBMIT_CONTRACT_DESC_INFO,endpoint:"/km_author_web/contract/".concat(e),root:"",method:"GET"}}}var et={recommendQuestionList:[],bannerList:[],claimBannerList:[],sites:[],domains:{},hasRecored:!1,hasClaim:!1,hasContributedList:[],notContributedList:[],contributesTotal:null,previewPageTitle:"",previewPageContent:"",restContributionNumber:"-"};function en(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case a.GET_QUESTION_RECOMMEND.success:return(0,o._)((0,r._)({},e),{recommendQuestionList:n.data});case a.GET_BANNER_IMG_LIST.success:return(0,o._)((0,r._)({},e),{bannerList:JSON.parse(n.data.config).list});case a.GET_CLAIM_BANNER_IMG_LIST.success:return(0,o._)((0,r._)({},e),{claimBannerList:JSON.parse(n.data.config).list});case a.GET_AUTHOR_WEBSITES.success:return(0,o._)((0,r._)({},e),{sites:n.data});case a.GET_AUTHOR_CONTRIBUTES_DOMAIN.success:return(0,o._)((0,r._)({},e),{domains:n});case a.GET_AUTHOR_CONTRIBUTES_DOMAIN_ALL.success:return(0,o._)((0,r._)({},e),{domainsAll:n});case a.GET_AUTHOR_STATUS.success:return(0,o._)((0,r._)({},e),{hasRecored:n.hasRecored,hasClaim:n.hasClaim});case a.GET_AUTHOR_STATUS_NEW.success:return(0,o._)((0,r._)({},e),{statusFetched:!0,hasClue:n.isClue,hasContract:n.isSettlementContract,isExclusive:1===n.exclusiveLevel,isInstitution:n.isInstitution,isOperation:n.isOperatorAccount});case a.GET_AUTHOR_CONTRIBUTES_LIST.success:return(0,o._)((0,r._)({},e),{hasContributedList:n.data,contributesTotal:n.paging});case a.GET_DRAFT_INFO.success:return(0,o._)((0,r._)({},e),{previewPageTitle:n.title,previewPageContent:n.content});case a.GET_REST_CONTRIBUTION_NUMBER.success:return(0,o._)((0,r._)({},e),{restContributionNumber:n.specificNum});case a.GET_REST_CONTRIBUTION_NUMBER.failure:return(0,o._)((0,r._)({},e),{restContributionNumber:0});case a.GET_DRAFT_INFO.failure:return(0,o._)((0,r._)({},e),{previewPageTitle:"",previewPageContent:""});case a.GET_STATUS_COUNT.success:return(0,o._)((0,r._)({},e),{statusCount:n,restContributionNumber:3-((null==n?void 0:n.submit)||0)});case a.GET_STATUS_COUNT.failure:return(0,o._)((0,r._)({},e),{restContributionNumber:0});case a.GET_UNREAD_COUNT.success:return(0,o._)((0,r._)({},e),{unread:null==n?void 0:n.unreadCount})}return e}var er=function(e){return e.creatorSalt.hasClaim}},44893:function(e,t,n){"use strict";n.d(t,{Hj:function(){return v},II:function(){return h},Nc:function(){return E},Pk:function(){return A},RU:function(){return f},UH:function(){return l},Z2:function(){return _},ZP:function(){return I},a9:function(){return p},iu:function(){return m},qZ:function(){return T}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(84054),c=n.n(a),s=n(39288),l=c()({data:[{question:{answer_count:!0,follower_count:!0,visit_count:!0,detail:!0,excerpt:!0,relationship:{is_following:!0},author:!0,created:!0}}]}),d=(0,o._)({},(0,s.FH)("creators",["GET_GOODAT_TOPIC_LIST","MODIFY_GOODAT_TOPIC","SEARCH_TOPIC","DELETE_TOOLS_QUESTION","GET_TOOLS_QUESTION_LIST","DELETE_TOOLS_QUESTION_INVITED","GET_TOOLS_QUESTION_INVITED_LIST"]));function _(){return{API:{types:d.GET_GOODAT_TOPIC_LIST,endpoint:"/me/goodat_topics"},FAILSAFE:!0}}function p(e){return{meta:{goodatTopics:e},API:{types:d.MODIFY_GOODAT_TOPIC,endpoint:"/me/goodat_topics",method:"PUT",body:{data:{topic_ids:e.map(function(e){return String(e.id)})}}}}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{API:{types:d.SEARCH_TOPIC,endpoint:"/creator/domain/search",query:{limit:e,offset:t,query:n}}}}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"recommendQuestions";return{meta:{questionId:e,stateKey:t},API:{types:d.DELETE_TOOLS_QUESTION,endpoint:"/contributor-personalized-questions/".concat(e),method:"DELETE"}}}function E(e){var t=e.type,n=e.endpoint,r=e.query,u=e.limit,a=e.offset,c=e.pageSource,s=e.abValue;return{meta:{stateKey:t},API:{types:d.GET_TOOLS_QUESTION_LIST,endpoint:n,query:(0,o._)((0,i._)((0,o._)({},r),{limit:void 0===u?20:u,offset:void 0===a?0:a}),c&&{pageSource:c},void 0!==s&&{recomDomainScoreAb:s})}}}function h(e){return{API:{types:d.DELETE_TOOLS_QUESTION_INVITED,endpoint:"/notifications/v3/object/".concat(e),method:"DELETE",body:new URLSearchParams}}}function v(e,t){return{API:(0,o._)({types:d.GET_TOOLS_QUESTION_INVITED_LIST,endpoint:e,query:t},!1)}}var m=function(e){return e.creators.ToolsQuestion.goodatTopics||[]},A=function(e){return e.creators.ToolsQuestion.recommend||{}};function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{goodatTopics:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,c=t.meta;switch(n){case d.GET_GOODAT_TOPIC_LIST.success:return(0,i._)((0,o._)({},e),{goodatTopics:a.data.map(function(e){return(0,i._)((0,o._)({},e),{isGoodat:!0})}),isDrained:!0});case d.MODIFY_GOODAT_TOPIC.success:var s=c.goodatTopics;return(0,i._)((0,o._)({},e),{goodatTopics:s});case d.DELETE_TOOLS_QUESTION.success:var l=c.stateKey;return(0,i._)((0,o._)({},e),(0,r._)({},l,(0,i._)((0,o._)({},e[l]),{data:e[l].data.filter(function(e){return e.question.id!==t.meta.questionId})})));case d.GET_TOOLS_QUESTION_LIST.request:var _=c.stateKey;return(0,i._)((0,o._)({},e),(0,r._)({},_,(0,i._)((0,o._)({},e[_]),{isLoading:!0})));case d.GET_TOOLS_QUESTION_LIST.success:var p,f=c.stateKey;return(0,i._)((0,o._)({},e),(0,r._)({},f,(0,i._)((0,o._)((0,i._)((0,o._)({},e[f]),{isLoading:!1}),a),{data:(0,u._)((null===(p=e[f])||void 0===p?void 0:p.data)||[]).concat((0,u._)(a.data))})));case d.GET_TOOLS_QUESTION_LIST.failure:var T=c.stateKey;return(0,i._)((0,o._)({},e),(0,r._)({},T,(0,i._)((0,o._)({},e[T]),{isLoading:!1})))}return e}},49249:function(e,t,n){"use strict";n.d(t,{Ad$:function(){return tg},umv:function(){return rL},bbq:function(){return t2},WHP:function(){return tX},Jtt:function(){return A},VEM:function(){return C},iH3:function(){return N},ufw:function(){return U},X5E:function(){return ty},cO7:function(){return Q},G7:function(){return j},WNY:function(){return et},bIC:function(){return $},Dv:function(){return ee},KJr:function(){return en},uee:function(){return er},GQn:function(){return J},XjL:function(){return eK},LxE:function(){return X},dLh:function(){return es},bGM:function(){return P},jfO:function(){return tn},EtQ:function(){return eP},qSv:function(){return rC},IxQ:function(){return rR},G3W:function(){return rN},QJG:function(){return ev},AFX:function(){return eh},GlE:function(){return eE},bak:function(){return h},n_D:function(){return eq},k1I:function(){return eF},PeW:function(){return nY},Skx:function(){return eV},fkk:function(){return n$},AOv:function(){return tf},rMb:function(){return nt},amN:function(){return rD},NwD:function(){return rP},zQH:function(){return nd},JDO:function(){return tv},MRc:function(){return t4},ph1:function(){return rw},ZPm:function(){return rU},Gad:function(){return ex},zL$:function(){return nb},wKF:function(){return ez},MAC:function(){return eW},mju:function(){return eX},IAh:function(){return e2},kAm:function(){return e5},QS1:function(){return e1},lB_:function(){return eo},MN0:function(){return e0},kd2:function(){return e$},oEW:function(){return n8},Jwh:function(){return tr},LOu:function(){return eR},i7u:function(){return tG},SfH:function(){return eZ},OeT:function(){return eB},fQT:function(){return eQ},JaR:function(){return tl},jAG:function(){return n9},vee:function(){return tb},z_O:function(){return t_},tyi:function(){return tc},CZb:function(){return np},pBw:function(){return tD},Djh:function(){return tL},xjI:function(){return tP},TqK:function(){return t9},nbs:function(){return ry},UXb:function(){return rA},$mL:function(){return rI},E96:function(){return rO},cKT:function(){return rS},r8q:function(){return rg},mxw:function(){return ra},NP7:function(){return D},Iw8:function(){return tT},wbJ:function(){return rt},oDs:function(){return rn},mfp:function(){return nH},ipw:function(){return nu},S$H:function(){return na},qzc:function(){return ni},vnO:function(){return tQ},AUq:function(){return tY},H8K:function(){return tW},XWJ:function(){return tJ},ldC:function(){return _},jYd:function(){return v},u$K:function(){return E},gex:function(){return G},J6U:function(){return tA},hgP:function(){return eH},puJ:function(){return Z},b2Z:function(){return H},a7e:function(){return V},a0r:function(){return q},Ld_:function(){return x},cxj:function(){return B},kkP:function(){return z},Vzj:function(){return Y},yZ4:function(){return W},tPk:function(){return K},VTD:function(){return ec},ivP:function(){return ea},sA3:function(){return nK},S9Y:function(){return nz},JHH:function(){return nW},CZh:function(){return to},PCr:function(){return ts},zwd:function(){return e_},Cgw:function(){return ed},XKx:function(){return tV},LqX:function(){return S},BDt:function(){return eT},QPw:function(){return eM},hOe:function(){return ek},LWf:function(){return ti},CVY:function(){return y},bGQ:function(){return eC},Uly:function(){return t7},jnm:function(){return nO},wgs:function(){return ny},Xln:function(){return tu},TE4:function(){return nk},Jf9:function(){return nU},L_b:function(){return nG},m5$:function(){return nj},ESu:function(){return nJ},kd7:function(){return nX},dVd:function(){return ro},Kfi:function(){return O},Znu:function(){return e9},o2W:function(){return re},mdm:function(){return tS},MfE:function(){return tq},muX:function(){return tx},B5P:function(){return tB},PfL:function(){return tH},wC3:function(){return t$},lF3:function(){return nS},O7W:function(){return tt},jNv:function(){return nc},pX4:function(){return nl},Ntr:function(){return te},RqZ:function(){return tz},j4e:function(){return I},sOG:function(){return n6},riO:function(){return d},oM7:function(){return tI},j9X:function(){return nF},HKR:function(){return nZ},cOy:function(){return n1},kCE:function(){return n2},tr4:function(){return n7},Vrq:function(){return n5},VPV:function(){return ri},Ey2:function(){return f},oKF:function(){return rs},l4w:function(){return rl},qNt:function(){return rp},dpm:function(){return ng},sYz:function(){return t5},W2M:function(){return tE},vT0:function(){return ne},lIK:function(){return l},llY:function(){return p},WmP:function(){return m},XX4:function(){return n3},d_T:function(){return no},ZiB:function(){return ns},uaH:function(){return nE},BEx:function(){return nn},wf5:function(){return nr},P6B:function(){return nh},zRw:function(){return nv},iGT:function(){return eN},kqC:function(){return tK},Kk4:function(){return t1},gn8:function(){return t0},J31:function(){return eL},cyq:function(){return nT},Yr$:function(){return ep},o3q:function(){return nR},OkV:function(){return nN},$hu:function(){return nP},XvR:function(){return nC},WY7:function(){return th},jac:function(){return ta},TQt:function(){return g},F07:function(){return eD},qAJ:function(){return nQ},QdL:function(){return n0},m5g:function(){return tM},Czj:function(){return tk},D8S:function(){return tw},JDJ:function(){return tF},NmS:function(){return tU},b15:function(){return nB},P$3:function(){return ru},gep:function(){return nw},Wbm:function(){return ej},bEg:function(){return td},fjc:function(){return n_},koK:function(){return ef},y7f:function(){return T},UQn:function(){return tp},yhN:function(){return nf},z2z:function(){return R},dGk:function(){return r_},Pyj:function(){return rd},zLj:function(){return rb},hzW:function(){return rG}});var r=n(94057),o=n(55164),i=n(57477),u=n(71728),a=n(74135),c=n(39288),s=(0,o._)({},(0,c.FH)("creators",["GET_CREATOR_SETTINGS","PATCH_CREATOR_SETTINGS_INFO","GET_ACCOUNT_BINDING","POST_ACCOUNT_BINDING_INFO","GET_VALIDATION_MSG","GET_ACCOUNT_BINDING_URL","SET_CANCEL_ACCOUNT_BINDING","GET_ACCOUNT_BINDING_SYNC","POST_ACCOUNT_BINDING_SYNC","GET_CONTENT_SYNC_PERMISSION","ACCOUNT_BINDING_AGGREMENT","GET_SCORE_CHANGE_LOG","GET_CREATOR_APPLY_INFO","GET_GROWTH_LEVEL","LOAD_CONTENT_SYNC_PERMISSION_V2"]));function l(e,t,n){return{data:n,API:{types:s.PATCH_CREATOR_SETTINGS_INFO,method:"PATCH",endpoint:"/creator/settings/account/".concat(e),body:(0,a.decamelizeKeys)(t)}}}function d(){return{API:{types:s.GET_CREATOR_SETTINGS,method:"GET",endpoint:"/creator/settings/account",FAILSAFE:!0}}}function _(){return{API:{types:s.GET_ACCOUNT_BINDING,endpoint:"creators/settings/account_binding"}}}function p(e,t,n){return{API:{types:s.POST_ACCOUNT_BINDING_INFO,endpoint:"creators/settings/account_binding/".concat(e,"/").concat(t),method:"POST",body:(0,a.decamelizeKeys)(n)},NOTIFICATION:!1}}function f(e){return{API:{types:s.GET_VALIDATION_MSG,endpoint:"creators/settings/account_binding/".concat(e,"/validation_msg")}}}function T(e){return{API:{types:s.GET_VALIDATION_MSG,endpoint:"creators/settings/account_binding/".concat(e,"/refresh_msg")}}}function E(e){return{API:{types:s.GET_ACCOUNT_BINDING_URL,method:"POST",endpoint:"creators/settings/account_binding/".concat(e,"/redirect")}}}function h(e){return{API:{types:s.SET_CANCEL_ACCOUNT_BINDING,endpoint:"creators/settings/account_binding/".concat(e,"/cancel"),method:"POST"}}}function v(){return{API:{types:s.GET_ACCOUNT_BINDING_SYNC,endpoint:"creators/settings/account_binding/sync"}}}function m(e){var t=e.platform,n=(0,u._)(e,["platform"]);return{API:{types:s.POST_ACCOUNT_BINDING_SYNC,endpoint:"creators/settings/account_binding/".concat((0,a.decamelize)(t),"/sync"),method:"PUT",body:(0,a.decamelizeKeys)(n)}}}function A(){return{API:{types:s.ACCOUNT_BINDING_AGGREMENT,endpoint:"creators/settings/account_binding/aggrement",method:"POST"}}}function I(e){return{API:{types:s.GET_SCORE_CHANGE_LOG,method:"GET",endpoint:"/creators/creator_score_detail",query:(0,o._)({},e)}}}function y(){return{API:{types:s.GET_CREATOR_APPLY_INFO,endpoint:"/qualification/creator/apply_conf"}}}function O(){return{API:{types:s.GET_GROWTH_LEVEL,endpoint:"/creator/v2/level"}}}function S(){return{API:{types:s.LOAD_CONTENT_SYNC_PERMISSION_V2,endpoint:"/creators/settings/account_binding/content_sync/permission/v2"}}}var g=function(e){return e.creators.account.settings},C=function(e){return e.creators.account.accountBinding||{}},N=function(e){return e.creators.account.accountBindingSync||{}},R=function(e){var t;return null===(t=e.creators.account.validationMsg)||void 0===t?void 0:t.msg},P=function(e){return e.creators.account.applyConfigInfo||{}},D=function(e){return e.creators.account.growthLevel||{}},L=n(87320),w=n(49899),b=(0,o._)({},(0,c.FH)("creators",["LOAD_ACTIVITY_LIST"]));function G(e){var t=e.groupToken,n=e.pageSize,r=e.current;return{meta:{groupToken:t},API:{types:b.LOAD_ACTIVITY_LIST,endpoint:"/activity_banner/list",query:{pageSize:void 0===n?1e3:n,current:void 0===r?1:r,groupToken:t,order:"show"},FAILSAFE:!0}}}function U(e,t){var n,r,o;return null!==(o=null===(n=e.creators.activity)||void 0===n?void 0:null===(r=n[t])||void 0===r?void 0:r.data)&&void 0!==o?o:[]}var k=n(10840),M=n(20382),F=(0,o._)({},(0,c.FH)("creators",["LOAD_ANALYTICS_AGGREGATION","LOAD_ANALYTICS_AGGREGATION_V2","LOAD_ANALYTICS_DAILY_TOTAL_DETAIL","LOAD_ANALYTICS_DAILY_TOTAL_DETAIL_V2","LOAD_ANALYTICS_DAILY_SINGLE_DETAIL","LOAD_ANALYTICS_SINGLE_CONTENT_AGGREGATION","LOAD_ANALYTICS_SINGLE_CONTENT_DETAIL","LOAD_ANALYTICS_SINGLE_PIN_CONTENT_AGGREGATION","LOAD_ANALYTICS_SINGLE_PIN_CONTENT_DETAIL","LOAD_ANALYTICS_VISTER_PORTRAIT","LOAD_ANALYTICS_SINGLE_VISTER_PORTRAIT","LOAD_ANALYTICS_FOLLOW_PROFILE"]));function Z(e,t){return{meta:{stateKey:e},API:{types:F.LOAD_ANALYTICS_AGGREGATION,endpoint:"/creators/analysis/aggregation/tab/".concat(e),query:t},FAILSAFE:!0}}function B(){return{API:{types:F.LOAD_ANALYTICS_FOLLOW_PROFILE,endpoint:"/creators/analysis/aggregation/tab/follow/profile"},FAILSAFE:!0}}function H(e){var t=e.contentType,n=e.start,r=e.end;return{meta:{stateKey:t},API:{types:F.LOAD_ANALYTICS_AGGREGATION_V2,endpoint:"/creators/analysis/realtime/member/aggr?tab=".concat(t),query:(0,o._)({},n&&{start:n},r&&{end:r})},FAILSAFE:!0}}function q(e,t){return{meta:{stateKey:e},API:{types:F.LOAD_ANALYTICS_DAILY_TOTAL_DETAIL,endpoint:"/creators/analysis/aggregation/tab/".concat(e,"/detail"),query:(0,i._)((0,o._)({},t),{day:-t.day})},FAILSAFE:!0}}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.day,r=t.start,i=t.end;return{meta:{stateKey:e},API:{types:F.LOAD_ANALYTICS_DAILY_TOTAL_DETAIL_V2,endpoint:"/creators/analysis/realtime/member/daily",query:(0,o._)({tab:e},r&&{start:r},i&&{end:i},n&&{days:-n})},FAILSAFE:!0}}function V(e,t){var n=(0,k._)({},(0,M._)(t));return{meta:{stateKey:e},API:{types:F.LOAD_ANALYTICS_DAILY_SINGLE_DETAIL,endpoint:"/creators/analysis/realtime/content/list",query:(0,o._)({type:e},n)},FAILSAFE:!0}}function z(e){var t=e.contentType,n=e.contentId,r=e.start,i=e.end;return{meta:{stateKey:"".concat(t,"_").concat(n)},API:{types:F.LOAD_ANALYTICS_SINGLE_CONTENT_AGGREGATION,endpoint:"/creators/analysis/realtime/content/aggr",query:(0,o._)({type:t,token:n},r&&{start:r},i&&{end:i})},FAILSAFE:!0}}function K(e){return{meta:{stateKey:"".concat(e)},API:{types:F.LOAD_ANALYTICS_VISTER_PORTRAIT,endpoint:"/creators/analysis/realtime/member/visitor_portrait",query:{type:e}},FAILSAFE:!0}}function W(e,t){return{meta:{stateKey:"".concat(e,"_").concat(t)},API:{types:F.LOAD_ANALYTICS_SINGLE_VISTER_PORTRAIT,endpoint:"/creators/analysis/realtime/content/visitor_portrait",query:{type:e,token:t}},FAILSAFE:!0}}function Y(e,t,n,r,i){return{meta:{stateKey:"".concat(e,"_").concat(t)},API:{types:F.LOAD_ANALYTICS_SINGLE_CONTENT_DETAIL,endpoint:"/creators/analysis/realtime/content/daily",query:(0,o._)({type:e,token:t},r&&{start:r},i&&{end:i},n&&{days:-n})},FAILSAFE:!0}}function Q(e,t){var n;return null===(n=e.creators.analytics[t])||void 0===n?void 0:n.aggregation}function j(e,t){var n;return null===(n=e.creators.analytics[t])||void 0===n?void 0:n.aggregationV2}function X(e,t){var n;return null===(n=e.creators.analytics[t])||void 0===n?void 0:n.visterPortrait}function J(e,t,n){var r;return null===(r=e.creators.analytics["".concat(t,"_").concat(n)])||void 0===r?void 0:r.singleVisterPortrait}function $(e,t){var n,r;return null===(n=e.creators.analytics[t])||void 0===n?void 0:null===(r=n.totalDetail)||void 0===r?void 0:r.list}function ee(e,t){var n,r;return null===(n=e.creators.analytics[t])||void 0===n?void 0:null===(r=n.totalDetailV2)||void 0===r?void 0:r.data}function et(e,t){var n,r;return null===(n=e.creators.analytics[t])||void 0===n?void 0:null===(r=n.singleDetail)||void 0===r?void 0:r.data}function en(e,t,n){var r;return null===(r=e.creators.analytics.singleContent["".concat(t,"_").concat(n)])||void 0===r?void 0:r.aggregation}function er(e,t,n){var r,o;return null===(r=e.creators.analytics.singleContent["".concat(t,"_").concat(n)])||void 0===r?void 0:null===(o=r.detail)||void 0===o?void 0:o.data}function eo(e){return e.creators.analytics.followProfile}var ei=n(20312),eu=(0,o._)({},(0,c.FH)("creators",["LOAD_ANNOUNCEMENT_LIST","LOAD_ANNOUNCEMENT"]));function ea(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?0:t,r=e.offset,o=void 0===r?0:r,i=e.limit;return{meta:{stateKey:n,offset:o},API:{types:eu.LOAD_ANNOUNCEMENT_LIST,endpoint:"/creators/notices",query:{type:n,offset:o,limit:void 0===i?10:i,pageSource:ei.nP.WEB_AUTHOR_RECOMMEND}}}}function ec(e){return{API:{types:eu.LOAD_ANNOUNCEMENT,endpoint:"/creators/notices/detail/".concat(e)},FAILSAFE:!0}}var es=function(e,t){return e.creators.announcement[t]},el=(0,o._)({},(0,c.FH)("creators",["LOAD_BAYES_DOMAINS_STATUES","SAVE_POPUP_HAS_SHOWN","LOAD_BAYES_DOMAINS_OPYTIONAL","UPDATE_SELECTED_DOMAINS","LOAD_CONTENTS"]));function ed(){return{API:{types:el.LOAD_BAYES_DOMAINS_STATUES,endpoint:"/creators/bayes_domain/status"},FAILSAFE:!0}}function e_(){return{API:{types:el.LOAD_BAYES_DOMAINS_OPYTIONAL,endpoint:"/creators/bayes_domains/optional"},FAILSAFE:!0}}function ep(){return{API:{types:el.SAVE_POPUP_HAS_SHOWN,method:"POST",endpoint:"/creators/bayes_domain/light_popup"}}}function ef(e){return{API:{types:el.UPDATE_SELECTED_DOMAINS,method:"POST",endpoint:"/creators/bayes_domains/refresh",body:e}}}function eT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/creators/creations/v2/answer,article";return{API:{types:el.LOAD_CONTENTS,endpoint:e}}}function eE(e){return e.creators.bayesDomains.status}function eh(e){return e.creators.bayesDomains.options}function ev(e){return e.creators.bayesDomains.contents}var em={status:{},options:{topDomains:null,allDomains:null,editable:0},contents:null},eA=n(18837),eI=n.n(eA),ey=n(4667),eO=n.n(ey),eS=n(80523),eg=(0,o._)({},(0,c.FH)("creators",["GET_CREATOR_APPLY_STATUS","READ_NOTIFICATION","GET_CREATOR_RIGHTS_STATUS"]));function eC(){return function(e,t,n){var r=n.fnRefs;return(0,eS.Z)(r,"loadCreatorApplyStatus",function(){return eO()(function(){return e({API:{types:eg.GET_CREATOR_APPLY_STATUS,endpoint:"/creator/apply"}})})})()}}function eN(e){return{API:{types:eg.READ_NOTIFICATION,endpoint:"/creator/notification/read",method:"PATCH",body:{type:e}},meta:{type:e}}}function eR(e){return function(t,n,r){var o=r.fnRefs;return(0,eS.Z)(o,"getCreatorRightsStatus",function(){return eI()(function(e){return t({meta:{rightsId:e},API:{types:eg.GET_CREATOR_RIGHTS_STATUS,endpoint:"/creator/rights/".concat(e,"/switch")}})})})(e)}}var eP=function(e){return e.creators.common.applyStatus},eD=function(e){return e.creators.common.guide};function eL(e,t){var n;return null===(n=e.creators.common.rightsStatus[t])||void 0===n?void 0:n.isPass}var ew=n(84054),eb=n.n(ew),eG=n(48800),eU=(0,o._)({},(0,c.FH)("creators",["LOAD_CREATION_LIST","LOAD_CREATION","GET_DRAFT_COUNT","GET_DRAFTS","LOAD_ANALYSIS_STATUS","CANCEL_CREATION_RELATION","DELETE_ANSWER","CHECK_ARTICLE_PUBLISH"]),(0,c.co)("creator",["UPDATE_EDIT_MODAL_STATUS"]));function ek(e,t){var n=t||{},r=n.start,i=n.end,u=n.limit,a=n.offset,c=n.needCoCreation,s=n.sortType,l=n.searchWord;return{API:{types:eU.LOAD_CREATION_LIST,endpoint:"creators/creations/v2/".concat(e),query:(0,o._)({start:void 0===r?0:r,end:void 0===i?0:i,limit:void 0===u?10:u,offset:void 0===a?0:a,needCoCreation:c,sortType:void 0===s?"created":s},l&&{searchWord:l})}}}function eM(e,t){return{API:{types:eU.LOAD_CREATION,endpoint:"creators/creations/".concat(e,"/").concat(t)}}}function eF(e,t){return{type:eU.UPDATE_EDIT_MODAL_STATUS,payload:{status:e,zvideoId:t}}}function eZ(e){var t;return"answer"===e&&(t="/answer-drafts/count"),"article"===e&&(t="/articles/my_drafts/count"),"zvideo"===e&&(t="/zvideos/drafts"),{meta:{contentType:e},API:{types:eU.GET_DRAFT_COUNT,endpoint:t}}}function eB(e,t){var n,r=t||{},o=r.limit,i=r.offset;return"answer"===e&&(n="/answer-drafts"),"article"===e&&(n="/articles/my_drafts"),"zvideo"===e&&(n="/zvideos/drafts"),{API:{types:eU.GET_DRAFTS,endpoint:n,query:{offset:void 0===i?0:i,limit:void 0===o?10:o,include:eb()({data:[{schedule:!0}]})}}}}function eH(){return{API:{types:eU.LOAD_ANALYSIS_STATUS,endpoint:"/creators/analysis/status"}}}function eq(e){var t=e.contentType,n=e.contentId;return{API:{types:eU.CANCEL_CREATION_RELATION,endpoint:"/creation-relationship/cancel",method:"PUT",body:(0,a.decamelizeKeys)({contentType:t,contentId:n})}}}function ex(e){return{API:{types:eU.DELETE_ANSWER,endpoint:"answers/".concat(e),method:"DELETE"}}}function eV(e,t){var n={article_token:e};return t&&(n.question_token=t),{API:{types:eU.CHECK_ARTICLE_PUBLISH,endpoint:"creators/article_publish/check/question",method:"POST",body:n}}}var ez=function(e){return e.creators.creationManage.draftCount},eK=function(e){return e.creators.creationManage.analysisStatus},eW=function(e){return e.creators.creationManage.editModal},eY=(0,o._)({},(0,c.FH)("creators",["GET_EDITOR_SETTING","UPDATE_EDITOR_SETTING"]));function eQ(){return{API:{types:eY.GET_EDITOR_SETTING,endpoint:"/editor/default-settings",method:"GET"}}}function ej(e){var t=e.settings,n=e.commonSettings;return{API:{types:eY.UPDATE_EDITOR_SETTING,endpoint:"/editor/default-settings",method:"PUT",body:{settings:(0,a.decamelizeKeys)(t),common_settings:(0,a.decamelizeKeys)(n)}}}}var eX=function(e){return e.creators.editorSetting.baseInfo||{}},eJ=(0,o._)({},(0,c.FH)("creators",["GET_ACADEMY_TABS","GET_ACADEMY_ARTICLES"]));function e$(){return{API:{types:eJ.GET_ACADEMY_TABS,endpoint:"/sku/km_resource?token=creator-faq-tabs-ques",root:"https://api.zhihu.com/"}}}function e0(){return{API:{types:eJ.GET_ACADEMY_ARTICLES,endpoint:"/sku/km_resource?token=creator-faq-data",root:"https://api.zhihu.com/"}}}var e1=function(e){return e.creators.faq.tabs},e2=function(e){return e.creators.faq.article},e5=function(e){return e.creators.faq.isDrained},e3={tabs:[],article:{}},e7=n(74351),e4=n(97232),e8=n(26512),e6=(0,o._)({},(0,c.FH)("creators",["GET_HOME_DATA","APPLY_CREATOR_RIGHTS","GET_CREATOR_NEW_RIGHTS","LOAD_BVIP_RECOMMEND_MENU_SHOULD_SHOW","LOAD_CREATION_RELATIONSHIP_MENU_SHOULD_SHOW","LOAD_CREATOR_SCORE_INFO","GET_NEW_RIGHTS_IS_ACTIVE","LOAD_BANNER_LIST","GET_FALLBACK","UPDATE_FALLBACK","GET_LEVEL_UP_WINDOW_SHOW","UPGRADE_WINDOW_DONE","LOAD_RECOMMENDED_FOLLOW_LIST","LOAD_NEW_TASK_HOME_CARD"]),(0,c.co)("creators",["SET_CURRENT_CREATOR","CLEAN_GRADE_INFO"]));function e9(){return{API:{types:e6.GET_HOME_DATA,endpoint:"/creators/homepage"},FAILSAFE:(0,e7.isNode)()}}function te(){return{API:{types:e6.LOAD_RECOMMENDED_FOLLOW_LIST,endpoint:"/creators/recommended_follow/list"},FAILSAFE:!0}}function tt(){return{API:{types:e6.LOAD_NEW_TASK_HOME_CARD,endpoint:"/creators/new_task/homepage_card"},FAILSAFE:!0}}function tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isExperience;return{meta:{rightsId:e,isExperience:void 0!==n&&n},API:{types:e6.APPLY_CREATOR_RIGHTS,method:"PATCH",endpoint:"/creator/rights/".concat(e)},NOTIFICATION:{failure:function(e){return(!e||e.code!==e8.kl)&&e.message}}}}function tr(){return{API:{types:e6.GET_CREATOR_NEW_RIGHTS,endpoint:"/creators/all_rights"},FAILSAFE:!0}}function to(){return{API:{types:e6.LOAD_BVIP_RECOMMEND_MENU_SHOULD_SHOW,endpoint:"/commercial/vip/menu/show",root:"".concat((0,e4.sJ)(),"/api/v1/")},FAILSAFE:!0}}function ti(){return{API:{types:e6.LOAD_CREATION_RELATIONSHIP_MENU_SHOULD_SHOW,endpoint:"/creation-relationship/creator/qualification"},FAILSAFE:!0}}function tu(){return{API:{types:e6.LOAD_CREATOR_SCORE_INFO,endpoint:"/creators/creator_score"},FAILSAFE:!0}}function ta(e){return function(t,n){return"production"===n().env.trafficSource?Promise.resolve():t({type:e6.SET_CURRENT_CREATOR,payload:e})}}function tc(){return{API:{types:e6.GET_NEW_RIGHTS_IS_ACTIVE,endpoint:"/creators/right/have_active",query:{source:"pc"}},FAILSAFE:!0}}function ts(){return{API:{types:e6.LOAD_BANNER_LIST,endpoint:"sku/km_resource?token=creator-banner",root:"https://api.zhihu.com"},FAILSAFE:!0}}function tl(){return{API:{types:e6.GET_FALLBACK,endpoint:"/slytherin/fallback/nps-creator-center-pc",root:"https://api.zhihu.com"}}}function td(e){return{API:{types:e6.UPDATE_FALLBACK,endpoint:"/slytherin/fallback/nps-creator-center-pc",method:"POST",root:"https://api.zhihu.com",body:(0,a.decamelizeKeys)(e)}}}function t_(){return{API:{types:e6.GET_LEVEL_UP_WINDOW_SHOW,method:"GET",endpoint:"/creators/upgrade/window",query:{source:"pc"}},FAILSAFE:!0}}function tp(e){return{API:{types:e6.UPGRADE_WINDOW_DONE,endpoint:"/creators/upgrade/window_done",query:{source:e}}}}function tf(){return{type:e6.CLEAN_GRADE_INFO}}var tT=function(e){return e.creators.home.homeData||{}},tE=function(e){return e.creators.home.menusShowControlByServer||{}},th=function(e){return e.creators.home.scoreInfo},tv=function(e){return e.creators.home.bannerList},tm=(0,o._)({},(0,c.FH)("creators",["LOAD_AGGREGATION_CARD_DATA","LOAD_TABLE_DATA"]));function tA(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{API:{types:tm.LOAD_AGGREGATION_CARD_DATA,endpoint:"/creators/money/card"},FAILSAFE:e}}function tI(e){return{API:{types:tm.LOAD_TABLE_DATA,endpoint:"/creators/money/range",query:(0,o._)({},e)}}}var ty=function(e){return e.creators.incomeAnalysis.income.aggregation},tO=(0,o._)({},(0,c.FH)("creators",["LOAD_KM_RESOURCE"]));function tS(e){return{meta:{stateKey:e},API:{types:tO.LOAD_KM_RESOURCE,endpoint:"/sku/km_resource?token=".concat(e),root:"https://api.zhihu.com/"}}}var tg=function(e,t){return e.creators.KMResource[t]},tC=n(23391),tN=n.n(tC),tR=(0,o._)({},(0,c.FH)("creators",["GET_TEXT_INCOME_INFO","GET_TEXT_INCOME","GET_TEXT_INCOME_APPLY_INFO","TEXT_INCOME_APPLY","GET_INCOME_AUTHORIZE","GET_DOMAIN_LIST"]),(0,c.co)("creators",["SWITCH_DOMAIN_MODAL"]));function tP(){return{API:{types:tR.GET_TEXT_INCOME_INFO,endpoint:"/creators/text/income/base_info"}}}function tD(){return{API:{types:tR.GET_TEXT_INCOME,endpoint:"/creators/text/income/income"}}}function tL(){return{API:{types:tR.GET_TEXT_INCOME_APPLY_INFO,endpoint:"/creators/text/income/apply_info"},FAILSAFE:!0}}function tw(){return{API:{types:tR.TEXT_INCOME_APPLY,endpoint:"/creators/text/income/apply"}}}function tb(){return{API:{types:tR.GET_INCOME_AUTHORIZE,endpoint:"/creators/content/income/privilege"},FAILSAFE:!0}}function tG(){return{API:{types:tR.GET_DOMAIN_LIST,endpoint:"/creators/text/income/category/income"}}}var tU=function(e){return tN()({domainInfo:{},submitInfo:{}},e.creators.knowledgeIncome.textIncomeInfo,function(e,t){return null===t?e:t})},tk=function(e){return e.creators.knowledgeIncome.textIncomeAmount||{}},tM=function(e){return e.creators.knowledgeIncome.tabAuthorize||{}},tF=function(e){return e.creators.knowledgeIncome.textIncomeApplyInfo||{}},tZ=(0,o._)({},(0,c.FH)("creators",["GET_KNOWLEDGE_TASK_INFO","GET_KNOWLEDGE_TASK_DETAIL","GET_KNOWLEDGE_BENEFIT","GET_KNOWLEDGE_QUESTIONS","GET_CLOSED_TASKS","GET_RUNNING_TASKS","RECEIVE_TASK"]));function tB(e){return{API:{types:tZ.GET_KNOWLEDGE_TASK_INFO,endpoint:"/creator-events/zhizhi_task/base_info",query:e}}}function tH(e){return{API:{types:tZ.GET_KNOWLEDGE_TASK_DETAIL,endpoint:"/creator-events/zhizhi_task/detail",query:e},FAILSAFE:!0}}function tq(e){return{API:{types:tZ.GET_KNOWLEDGE_BENEFIT,endpoint:"/creator-events/zhizhi_task/benefit/list",query:e}}}function tx(e){return{API:{types:tZ.GET_KNOWLEDGE_QUESTIONS,endpoint:"/creator-events/zhizhi_task/detail/questions",query:e}}}function tV(e){return{API:{types:tZ.GET_CLOSED_TASKS,endpoint:"/creator-events/zhizhi_task/tasks/done",query:e}}}function tz(e){return{API:{types:tZ.GET_RUNNING_TASKS,endpoint:"/creator-events/zhizhi_task/tasks/running",query:e}}}function tK(e){var t=e.taskToken;return{API:{types:tZ.RECEIVE_TASK,method:"POST",endpoint:"/creator-events/zhizhi_task/draw",body:(0,a.decamelizeKeys)({taskToken:t})}}}var tW=function(e){var t;return(null===(t=e.creators.knowledgeTasks.knowledgeTaskInfo)||void 0===t?void 0:t.data)||{}},tY=function(e){var t;return tN()({taskInfo:{},completionInfo:{},contentInfo:[]},null===(t=e.creators.knowledgeTasks.knowledgeTaskDetail)||void 0===t?void 0:t.data,function(e,t){return null===t?e:t})},tQ=function(e){return tN()({data:[],paging:{}},e.creators.knowledgeTasks.knowledgeBenefit,function(e,t){return null===t?e:t})},tj=(0,o._)({},(0,c.FH)("creators",["ACCEPT_UNBIND","LAUNCH_UNBIND","LOAD_MCN_HOMEPAGE","REJECT_UNBIND","REJECT_MCN_INVITE","ACCEPT_MCN_INVITE"]));function tX(e){return{API:{types:tj.ACCEPT_UNBIND,endpoint:"/creator-mcn/action/accept-unbind/".concat(e),method:"PUT",body:{sponsor_type:2}}}}function tJ(e,t){return{API:{types:tj.LAUNCH_UNBIND,endpoint:"/creator-mcn/action/launch-unbind/".concat(e),method:"PUT",body:{sponsor_type:2,unbind_reason:t}}}}function t$(){return{API:{types:tj.LOAD_MCN_HOMEPAGE,endpoint:"/creator-mcn/creator/mcn/homepage"},FAILSAFE:!0}}function t0(e){return{API:{types:tj.REJECT_UNBIND,endpoint:"/creator-mcn/action/reject-unbind/".concat(e),method:"PUT",body:{sponsor_type:2}}}}function t1(e){return{API:{types:tj.REJECT_MCN_INVITE,endpoint:"/creator-mcn/action/reject-invite/".concat(e),method:"PUT"}}}function t2(e,t){return{API:{types:tj.ACCEPT_MCN_INVITE,endpoint:"/creator-mcn/action/accept-invite/".concat(e),method:"PUT",body:{creator_is_collected_income:t}}}}var t5=function(e){return e.creators.MCNManage.mcnInfo||{}},t3=(0,o._)({},(0,c.FH)("profilePoster",["LOAD_CREATOR_POSTER_CONFIG"]));function t7(e){return{API:{types:t3.LOAD_CREATOR_POSTER_CONFIG,endpoint:"/creator_center/creator_pack/config",query:{token:e},root:"/"}}}var t4=function(e){return e.creators.profilePoster},t8={creatorPosterConfig:{},creatorPosterData:{}},t6=(0,o._)({},(0,c.FH)("creators",["GET_USER_STATUS","OPEN_SAFEGUARD_RIGHTS","CONFIRM_SAFEGUARD_RIGHTS","POST_PROTECT_CONTENT","GET_PROTECT_INFRINGEMENT","GET_PROTECT_CONTENT","POST_INFRINGEMENT","INGORE_INFRINGEMENT","POST_INFRINGEMENT_MATERIAL","GET_PROTECT_STATISTIC","GET_PROTECT_CONTENT_DETAIL","GET_PROTECT_WHITE","POST_PROTECT_WHITE","UPDATE_PROTECT_WHITE","GET_SAFEGUARD_RIGHTS_SKU"]));function t9(){return{API:{types:t6.GET_USER_STATUS,endpoint:"/creators/protect/user/info"},FAILSAFE:!0}}function ne(){return{API:{types:t6.OPEN_SAFEGUARD_RIGHTS,endpoint:"/creators/protect/open",method:"POST"}}}function nt(){return{API:{types:t6.CONFIRM_SAFEGUARD_RIGHTS,endpoint:"/creators/protect/confirm",method:"POST"}}}function nn(e){return{API:{types:t6.GET_PROTECT_CONTENT,endpoint:"/creators/protect/content",query:(0,a.decamelizeKeys)(e)}}}function nr(e){return{API:{types:t6.GET_PROTECT_INFRINGEMENT,endpoint:"/creators/protect/infringement",query:(0,a.decamelizeKeys)(e)}}}function no(e){return{API:{types:t6.POST_PROTECT_CONTENT,endpoint:"/creators/protect/content",method:"PUT",body:(0,a.decamelizeKeys)(e)}}}function ni(e){return{API:{types:t6.POST_INFRINGEMENT,endpoint:"/creators/protect/infringement/submit",method:"POST",body:(0,a.decamelizeKeys)(e)}}}function nu(e){return{API:{types:t6.INGORE_INFRINGEMENT,endpoint:"/creators/protect/infringement",method:"PUT",body:(0,a.decamelizeKeys)(e)}}}function na(e){return{API:{types:t6.POST_INFRINGEMENT_MATERIAL,endpoint:"/creators/protect/infringement/material",method:"POST",body:(0,a.decamelizeKeys)(e)}}}function nc(){return{API:{types:t6.GET_PROTECT_STATISTIC,endpoint:"/creators/protect/user/statistic"}}}function ns(e){return{API:{types:t6.GET_PROTECT_CONTENT_DETAIL,endpoint:"/creators/protect/content/".concat(e,"/detail")}}}function nl(){return{API:{types:t6.GET_PROTECT_WHITE,endpoint:"/creators/protect/white"}}}function nd(e){return{API:{types:t6.POST_PROTECT_WHITE,endpoint:"/creators/protect/white",method:"POST",body:(0,a.decamelizeKeys)(e)}}}function n_(e){var t=e.id,n=e.method,r=e.query;return{API:(0,o._)({types:t6.UPDATE_PROTECT_WHITE,endpoint:"/creators/protect/white/".concat(t),method:n},r&&{body:(0,a.decamelizeKeys)(r)})}}function np(){return{API:{types:t6.GET_SAFEGUARD_RIGHTS_SKU,endpoint:"/sku/km_resource?token=safeguard-rights--white-list",root:"https://api.zhihu.com"}}}var nf=function(e){return e.creators.safeguardRights.userStatus||{}},nT=function(e){var t;return(null===(t=e.creators.safeguardRights.skuData)||void 0===t?void 0:t.data)||{}},nE=function(e){return e.creators.safeguardRights.protectContentDetail||{}},nh=function(e){return e.creators.safeguardRights.protectStatistic||{}},nv=function(e){var t;return null===(t=e.creators.safeguardRights.protectWhiteList)||void 0===t?void 0:t.data},nm=n(76931),nA=n.n(nm),nI=(0,o._)({},(0,c.FH)("creators",["LOAD_CREATOR_SCHOOL_KM_DATA","LOAD_CREATOR_SCHOOL_CONTENT_DETAIL","LOAD_MY_RECENTLY_STUDING","LOG_STUDING"]));function ny(e,t){return{meta:{stateKey:t},API:{types:nI.LOAD_CREATOR_SCHOOL_KM_DATA,endpoint:"/sku/km_resource?token=".concat(e),root:"https://api.zhihu.com"},FAILSAFE:!0}}function nO(e){return{API:{types:nI.LOAD_CREATOR_SCHOOL_CONTENT_DETAIL,endpoint:"/render?scenes=creator-school-1615289838&object_pairs=".concat(e)},FAILSAFE:!0}}function nS(){return{API:{types:nI.LOAD_MY_RECENTLY_STUDING,endpoint:"/creators/school/view/record"},FAILSAFE:!0}}function ng(e,t){return{API:{types:nI.LOG_STUDING,endpoint:"/creators/school/view/record?content_type=".concat("zvideo"===e?0:1,"&content_id=").concat(t),method:"POST"},FAILSAFE:!0}}var nC=function(e){return e.creators.school.tabs},nN=function(e){return e.creators.school.contents},nR=function(e){return e.creators.school.banner},nP=function(e){return e.creators.school.entities},nD={tabs:[],contents:[],banner:null,entities:{}},nL=(0,o._)({},(0,c.FH)("creators",["UPDATE_CURRENT_PROMOTION","DELETE_CURRENT_PROMOTION","GET_CUSTOM_PROMOTION_STATUS","GET_PROMOTION_ITEM_LIST","GET_PROMOTION_ITEM"]));function nw(e,t){return{API:{types:nL.UPDATE_CURRENT_PROMOTION,endpoint:"/creator/promotions".concat(t?"/".concat(t):""),method:"POST",body:(0,a.decamelizeKeys)(e)}}}function nb(e){return{API:{types:nL.DELETE_CURRENT_PROMOTION,endpoint:"/creator/promotions/".concat(e),method:"DELETE"}}}function nG(){return{API:{types:nL.GET_CUSTOM_PROMOTION_STATUS,endpoint:"/creator/promotions"}}}function nU(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r="".concat(e,"s");return"infinity"===e&&(r=e),{itemType:e,offset:n,limit:t,API:{types:nL.GET_PROMOTION_ITEM_LIST,endpoint:"/creator/promotion_preview/".concat(r),query:{limit:t,offset:n}}}}function nk(e,t){var n="".concat(e,"s");return"infinity"===e&&(n=e),{API:{types:nL.GET_PROMOTION_ITEM,endpoint:"/creator/promotion_preview/".concat(n,"/").concat(t)}}}var nM=(0,o._)({},(0,c.FH)("creators",["GET_TOOLS_HOTSPOT_DOMAIN_LIST","GET_TOOLS_HOTSPOT_LIST"]));function nF(){return{API:{types:nM.GET_TOOLS_HOTSPOT_DOMAIN_LIST,endpoint:"/creators/domain"}}}function nZ(e,t,n){return{meta:{stateKey:n},API:{types:nM.GET_TOOLS_HOTSPOT_LIST,endpoint:e,query:t}}}var nB=function(e){return e.creators.ToolsHotspot.domains||[]},nH=function(e,t){return e.creators.ToolsHotspot[t]},nq=n(44893),nx=n(35986),nV=(0,o._)({},(0,c.FH)("creators",["LOAD_ARTICLE_EXPOSURE_PROMOTION_LIST","LOAD_ARTICLE_EXPOSURE_PROMOTION_AMOUNT_BALANCE","LOAD_ARTICLE_EXPOSURE_PROMOTION_RECORD","CHECK_ARTICLE_EXPOSURE_PROMOTION_PERMISSION","START_ARTICLE_EXPOSURE_PROMOTION","LOAD_EXPOSURE_PROMOTION_AMOUNT_BALANCE","LOAD_EXPOSURE_PROMOTION_LIST","LOAD_EXPOSURE_PROMOTION_RECORD","CHECK_EXPOSURE_PROMOTION_PERMISSION","START_EXPOSURE_PROMOTION","GET_TOOLS_RECOMMEND_LIST","GET_TOOLS_RECOMMEND_LIST_AVAILABLE_TIMES","GET_TOOLS_RECOMMEND_TIMES_RECORD","POST_TOOLS_RECOMMEND","GET_TOOLS_RECOMMEND_RECORD"]));function nz(e){var t=e.limit,n=e.offset,r=e.type;return{API:{types:nV.LOAD_ARTICLE_EXPOSURE_PROMOTION_LIST,endpoint:"/creators/exposure-promotion/text/list/".concat(r),query:{limit:t,offset:n}}}}function nK(){return{API:{types:nV.LOAD_ARTICLE_EXPOSURE_PROMOTION_AMOUNT_BALANCE,endpoint:"/creators/exposure-promotion/text/amount-balance"}}}function nW(e){var t=e.type,n=e.limit,r=e.offset;return{API:{types:nV.LOAD_ARTICLE_EXPOSURE_PROMOTION_RECORD,endpoint:"/creators/exposure-promotion/text/record",query:{record_type:t,limit:n,offset:r}}}}function nY(e,t){return{API:{types:nV.CHECK_ARTICLE_EXPOSURE_PROMOTION_PERMISSION,endpoint:"/creators/exposure-promotion/text/check/".concat(e),method:"Post",body:{url_token:t}},NOTIFICATION:!1}}function nQ(e){var t=e.type,n=e.urlToken,r=e.promotionAmount;return{API:{types:nV.START_ARTICLE_EXPOSURE_PROMOTION,endpoint:"/creators/exposure-promotion/text/".concat(t),method:"Post",body:{url_token:n,promotion_amount:r}}}}function nj(){return{API:{types:nV.LOAD_EXPOSURE_PROMOTION_AMOUNT_BALANCE,endpoint:"/creators/exposure-promotion/amount-balance"}}}function nX(e){var t=e.limit,n=e.offset;return{API:{types:nV.LOAD_EXPOSURE_PROMOTION_LIST,endpoint:"/creators/exposure-promotion/list/zvideo",query:{limit:t,offset:n}}}}function nJ(e){var t=e.type,n=e.limit,r=e.offset;return{API:{types:nV.LOAD_EXPOSURE_PROMOTION_RECORD,endpoint:"/creators/exposure-promotion/record",query:{type:t,limit:n,offset:r}}}}function n$(e){return{API:{types:nV.CHECK_EXPOSURE_PROMOTION_PERMISSION,endpoint:"/creators/exposure-promotion/check/zvideo",method:"Post",body:{url_token:e}},NOTIFICATION:!1}}function n0(e){var t=e.urlToken,n=e.promotionAmount;return{API:{types:nV.START_EXPOSURE_PROMOTION,endpoint:"/creators/exposure-promotion/zvideo",method:"Post",body:{url_token:t,promotion_amount:n}}}}function n1(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.page;return{API:{types:nV.GET_TOOLS_RECOMMEND_LIST,endpoint:"/creators/recommendation/list/".concat(e),query:{offset:((void 0===n?1:n)-1)*10,limit:10}},NOTIFICATION:{failure:function(e){return e.error&&e.error.code===nx.zM}}}}function n2(){return{API:{types:nV.GET_TOOLS_RECOMMEND_LIST_AVAILABLE_TIMES,endpoint:"/creators/recommendation/available-times"}}}function n5(e){var t=e.type,n=e.limit,r=void 0===n?6:n,o=e.offset;return{itemType:t,offset:o,limit:r,API:{types:nV.GET_TOOLS_RECOMMEND_TIMES_RECORD,endpoint:"/creators/recommendation/record",query:{type:t,offset:o,limit:r}}}}function n3(e,t){return{API:{types:nV.POST_TOOLS_RECOMMEND,endpoint:"/creators/recommendation/".concat(e),body:{url_token:t},method:"POST"}}}function n7(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.page;return{API:{types:nV.GET_TOOLS_RECOMMEND_RECORD,endpoint:"/creators/recommendation/recommend-list/".concat(e),query:{offset:((void 0===n?1:n)-1)*10,limit:10}}}}var n4=(0,o._)({},(0,c.FH)("creators",["GET_ALGORITHM_RECOMMEND_LIST","GET_TOOLS_SEARCH_QUESTION_LIST","GET_HOT_EVENT","LOAD_HOUR_HOT_QUESTION"]));function n8(e){return{API:{types:n4.GET_ALGORITHM_RECOMMEND_LIST,endpoint:"creators/match/question/list",method:"GET",query:{article_token:e}}}}function n6(e,t){return{API:{types:n4.GET_TOOLS_SEARCH_QUESTION_LIST,endpoint:e,query:t}}}function n9(){return{API:{types:n4.GET_HOT_EVENT,endpoint:"/creators/search_event",method:"GET"}}}function re(){return{API:{types:n4.LOAD_HOUR_HOT_QUESTION,endpoint:"creators/rank/hot",method:"GET",query:{domain:"0",period:"hour"}}}}var rt=function(e){return e.creators.ToolsSearchQuestion.hotEventsList||[]},rn=function(e){return e.creators.ToolsSearchQuestion.hotHourQuestionList||[]},rr=(0,o._)({},(0,c.FH)("creators",["LOAD_USER_INFO","LOAD_GRADUATE_INFO"]));function ro(){return{API:{types:rr.LOAD_GRADUATE_INFO,endpoint:"/creator-events/training_camp/graduate"}}}function ri(){return{API:{types:rr.LOAD_USER_INFO,endpoint:"/creator-events/training_camp/userInfo"}}}var ru=function(e){return e.creators.training.userInfo},ra=function(e){return e.creators.training.graduate},rc=(0,o._)({},(0,c.FH)("creators",["LOAD_VIDEO_DISTRIBUTION_LIST","LOAD_VIDEO_DISTRIBUTION_MAPS","VIDEO_DISTRIBUTION_AUTH","VIDEO_DISTRIBUTION_ANSWER_DELETE","LOAD_VIDEO_DISTRIBUTION_RESOURCE"]));function rs(e){var t=e.limit,n=e.offset;return{API:{types:rc.LOAD_VIDEO_DISTRIBUTION_LIST,endpoint:"/creators/distribution/resource/list",query:{limit:t,offset:n}},FAILSAFE:!0}}function rl(e){var t=e.limit,n=e.offset,r=e.resourceId;return{API:{types:rc.LOAD_VIDEO_DISTRIBUTION_MAPS,endpoint:"/creators/distribution/resource/".concat(r,"/maps"),query:{limit:t,offset:n}},FAILSAFE:!0}}function rd(e){var t=e.resourceId,n=e.status;return{API:{types:rc.VIDEO_DISTRIBUTION_AUTH,endpoint:"/creators/distribution/resource/".concat(t,"/auth"),method:"POST",body:{status:n}}}}function r_(e){return{API:{types:rc.VIDEO_DISTRIBUTION_ANSWER_DELETE,endpoint:e,method:"DELETE"}}}function rp(e){return{API:{types:rc.LOAD_VIDEO_DISTRIBUTION_RESOURCE,endpoint:"/creators/distribution/resource/".concat(e)},FAILSAFE:!0}}var rf=n(57266),rT=n.n(rf),rE=n(75236),rh=n(35332),rv=n(79091),rm=(0,o._)({},(0,c.FH)("creators",["GET_VIDEO_SUPPORT_BASE_STATISTICS","GET_TEXT_SUPPORT_BASE_STATISTICS","GET_VIDEO_SUPPORT_CONTENT_STATISTICS","GET_TEXT_SUPPORT_CONTENT_STATISTICS","GET_VIDEO_SUPPORT_BANNER","GET_VIDEO_SUPPORT_DAILY_STATISTICS","GET_VIDEO_SUPPORT_USER_SHOW_STATUS","GET_VIDEO_SUPPORT_USER_STATUS","APPLY_VIDEO_SUPPORT"]));function rA(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"video_benefit";return{API:{types:"video_benefit"===e?rm.GET_VIDEO_SUPPORT_BASE_STATISTICS:rm.GET_TEXT_SUPPORT_BASE_STATISTICS,method:"GET",endpoint:"/creators/benefit/income_statistics",query:{page_source:e}},FAILSAFE:!0}}function rI(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page_no,n=e.order_field,r=e.page_limit,o=void 0===r?rh.s:r,i=e.start,u=void 0===i?-30:i,c=e.end,s=void 0===c?0:c,l=e.order_sort,d=e.type,_=void 0===d?"video_benefit":d;return{API:{types:"video_benefit"===_?rm.GET_VIDEO_SUPPORT_CONTENT_STATISTICS:rm.GET_TEXT_SUPPORT_CONTENT_STATISTICS,method:"GET",endpoint:"/creators/benefit/content_statistics",query:rT()({begin_date:(0,rE.kJ)(u),end_date:(0,rE.kJ)(s),order_sort:l,page_limit:o,order_field:n&&(0,a.decamelize)(n),page_no:void 0===t?1:t,page_source:_},function(e){return void 0!==e})},FAILSAFE:!0}}function ry(){return{API:{types:rm.GET_VIDEO_SUPPORT_BANNER,endpoint:(0,rv.D)("/zvideo_banners/v2",{type:"benefit_pc"}),method:"GET"}}}function rO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.start,n=void 0===t?-7:t,r=e.end,o=void 0===r?0:r;return{API:{types:rm.GET_VIDEO_SUPPORT_DAILY_STATISTICS,method:"GET",endpoint:"/creators/benefit/daily_statistics",query:{begin_date:(0,rE.kJ)(n),end_date:(0,rE.kJ)(o),order_field:"date",order_sort:"descend",page_source:"video_benefit"}},FAILSAFE:!0}}function rS(){return{API:{types:rm.GET_VIDEO_SUPPORT_USER_SHOW_STATUS,method:"GET",endpoint:"/creators/benefit/zvideo_user_show_status"},FAILSAFE:!0}}function rg(){return{API:{types:rm.GET_VIDEO_SUPPORT_USER_STATUS,method:"GET",endpoint:"/creators/benefit/zvideo_user_status"},FAILSAFE:!0}}function rC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.source,n=e.body,r=void 0===n?{}:n;return{API:{types:rm.APPLY_VIDEO_SUPPORT,method:"POST",endpoint:"/creators/benefit/apply/".concat(t),fetchOptions:{body:(0,a.decamelizeKeys)(r)}},FAILSAFE:!0}}var rN=function(e){return e.creators.videoSupport.base},rR=function(e){return e.creators.videoSupport.textBenefit.base},rP=function(e){return e.creators.videoSupport.content},rD=function(e){return e.creators.videoSupport.textBenefit.content},rL=function(e){return e.creators.videoSupport.banner},rw=function(e){return e.creators.videoSupport.daily},rb=function(e){return e.creators.videoSupport.status},rG=function(e){return e.creators.videoSupport.userStatus},rU=(0,r.combineReducers)({common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{applyStatus:{},rightsStatus:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,u=t.meta;switch(n){case eg.GET_CREATOR_APPLY_STATUS.success:return(0,i._)((0,o._)({},e),{applyStatus:(0,o._)({},r)});case eg.GET_CREATOR_APPLY_STATUS.failure:if(t.err&&403===t.err.status)return(0,i._)((0,o._)({},e),{guide:!0});break;case eg.READ_NOTIFICATION.success:return(0,i._)((0,o._)({},e),{applyStatus:(0,i._)((0,o._)({},e.applyStatus),{notification:(0,i._)((0,o._)({},e.applyStatus.notification),(0,L._)({},(0,a.camelize)(t.meta.type),0))})});case eg.GET_CREATOR_RIGHTS_STATUS.success:return(0,i._)((0,o._)({},e),{rightsStatus:(0,i._)((0,o._)({},e.rightsStatus),(0,L._)({},u.rightsId,r))})}return e},bayesDomains:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:em,n=arguments.length>1?arguments[1]:void 0,r=n.payload;return n.type===el.LOAD_BAYES_DOMAINS_STATUES.success?(0,i._)((0,o._)({},t),{status:r}):n.type===el.LOAD_BAYES_DOMAINS_OPYTIONAL.success?(0,i._)((0,o._)({},t),{options:r}):n.type===el.LOAD_CONTENTS.success?(0,i._)((0,o._)({},t),{contents:{data:(0,w._)((null===(e=t.contents)||void 0===e?void 0:e.data)||[]).concat((0,w._)(r.data)),paging:r.paging}}):t},school:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nD,t=arguments.length>1?arguments[1]:void 0,n=t.meta,r=t.payload;switch(t.type){case nI.LOAD_CREATOR_SCHOOL_KM_DATA.success:var u=(void 0===n?{}:n).stateKey;return(0,i._)((0,o._)({},e),(0,L._)({},u,nA()(r,{tabs:"data.tabs",contents:"data.tabContents",banner:"data.banners"}[u])));case nI.LOAD_CREATOR_SCHOOL_CONTENT_DETAIL.success:var a=r.data.filter(Boolean).reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,L._)({},t.id,t))},{});return(0,i._)((0,o._)({},e),{entities:(0,o._)({},e.entities,a)})}return e},faq:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e3,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case eJ.GET_ACADEMY_TABS.success:var n=t.payload.data;return(0,i._)((0,o._)({},e),{isDrained:!0,tabs:n.tabs});case eJ.GET_ACADEMY_ARTICLES.success:var r=t.payload.data;return(0,i._)((0,o._)({},e),{article:r.contents.reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,L._)({},t.id,t))},e.article)})}return e},knowledgeIncome:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,u=t.meta;switch(n){case tR.SWITCH_DOMAIN_MODAL:return(0,i._)((0,o._)({},e),{domainModalStatus:u});case tR.GET_TEXT_INCOME_INFO.success:return(0,i._)((0,o._)({},e),{textIncomeInfo:r});case tR.GET_TEXT_INCOME.success:return(0,i._)((0,o._)({},e),{textIncomeAmount:r});case tR.GET_INCOME_AUTHORIZE.success:return(0,i._)((0,o._)({},e),{tabAuthorize:r});case tR.GET_TEXT_INCOME_APPLY_INFO.success:return(0,i._)((0,o._)({},e),{textIncomeApplyInfo:r})}return e},safeguardRights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case t6.GET_USER_STATUS.success:return(0,i._)((0,o._)({},e),{userStatus:r});case t6.GET_PROTECT_STATISTIC.success:return(0,i._)((0,o._)({},e),{protectStatistic:r});case t6.GET_PROTECT_CONTENT_DETAIL.success:return(0,i._)((0,o._)({},e),{protectContentDetail:r});case t6.GET_PROTECT_WHITE.success:return(0,i._)((0,o._)({},e),{protectWhiteList:r});case t6.GET_SAFEGUARD_RIGHTS_SKU.success:return(0,i._)((0,o._)({},e),{skuData:r})}return e},analytics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:{},answer:{},zvideo:{},article:{},pin:{},singleContent:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,u=t.meta;switch(n){case F.LOAD_ANALYTICS_AGGREGATION.success:var a=u.stateKey;return(0,i._)((0,o._)({},e),(0,L._)({},a,(0,i._)((0,o._)({},e[a]),{aggregation:r})));case F.LOAD_ANALYTICS_FOLLOW_PROFILE.success:return(0,i._)((0,o._)({},e),{followProfile:r});case F.LOAD_ANALYTICS_AGGREGATION_V2.success:var c=u.stateKey;return(0,i._)((0,o._)({},e),(0,L._)({},c,(0,i._)((0,o._)({},e[c]),{aggregationV2:r})));case F.LOAD_ANALYTICS_DAILY_TOTAL_DETAIL.success:var s=u.stateKey;return(0,i._)((0,o._)({},e),(0,L._)({},s,(0,i._)((0,o._)({},e[s]),{totalDetail:r})));case F.LOAD_ANALYTICS_DAILY_TOTAL_DETAIL_V2.success:var l=u.stateKey;return(0,i._)((0,o._)({},e),(0,L._)({},l,(0,i._)((0,o._)({},e[l]),{totalDetailV2:r})));case F.LOAD_ANALYTICS_DAILY_SINGLE_DETAIL.success:var d=u.stateKey;return(0,i._)((0,o._)({},e),(0,L._)({},d,(0,i._)((0,o._)({},e[d]),{singleDetail:r})));case F.LOAD_ANALYTICS_SINGLE_CONTENT_AGGREGATION.success:case F.LOAD_ANALYTICS_SINGLE_PIN_CONTENT_AGGREGATION.success:var _=u.stateKey;return(0,i._)((0,o._)({},e),{singleContent:(0,i._)((0,o._)({},e.singleContent),(0,L._)({},_,(0,i._)((0,o._)({},e.singleContent[_]),{aggregation:r})))});case F.LOAD_ANALYTICS_VISTER_PORTRAIT.success:var p=u.stateKey;return(0,i._)((0,o._)({},e),(0,L._)({},p,(0,i._)((0,o._)({},e[p]),{visterPortrait:r})));case F.LOAD_ANALYTICS_SINGLE_VISTER_PORTRAIT.success:var f=u.stateKey;return(0,i._)((0,o._)({},e),(0,L._)({},f,(0,i._)((0,o._)({},e[f]),{singleVisterPortrait:r})));case F.LOAD_ANALYTICS_SINGLE_CONTENT_DETAIL.success:case F.LOAD_ANALYTICS_SINGLE_PIN_CONTENT_DETAIL.success:var T=u.stateKey;return(0,i._)((0,o._)({},e),{singleContent:(0,i._)((0,o._)({},e.singleContent),(0,L._)({},T,(0,i._)((0,o._)({},e.singleContent[T]),{detail:r})))})}return e},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{growthLevel:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case s.GET_CREATOR_SETTINGS.success:return(0,i._)((0,o._)({},e),{settings:r.data});case s.PATCH_CREATOR_SETTINGS_INFO.success:return(0,i._)((0,o._)({},e),{settings:(0,o._)({},e.settings,t.data)});case s.GET_ACCOUNT_BINDING.success:return(0,i._)((0,o._)({},e),{accountBinding:r});case s.GET_VALIDATION_MSG.success:return(0,i._)((0,o._)({},e),{validationMsg:r});case s.GET_ACCOUNT_BINDING_SYNC.success:return(0,i._)((0,o._)({},e),{accountBindingSync:r});case s.GET_CREATOR_APPLY_INFO.success:return(0,i._)((0,o._)({},e),{applyConfigInfo:t.payload});case s.GET_GROWTH_LEVEL.success:var u=t.payload;return(0,i._)((0,o._)({},e),{growthLevel:(0,o._)({},e.growthLevel,u)})}return e},KMResource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.meta;if(t.type===tO.LOAD_KM_RESOURCE.success&&n.data){var u=r.stateKey;return(0,i._)((0,o._)({},e),(0,L._)({},u,n.data))}return e},training:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===rr.LOAD_USER_INFO.success?(0,i._)((0,o._)({},e),{userInfo:t.payload}):t.type===rr.LOAD_GRADUATE_INFO.success?(0,i._)((0,o._)({},e),{graduate:t.payload}):e},ToolsQuestion:nq.ZP,ToolsHotspot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{domains:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,u=t.meta;switch(n){case nM.GET_TOOLS_HOTSPOT_DOMAIN_LIST.success:return(0,i._)((0,o._)({},e),{domains:r.domains});case nM.GET_TOOLS_HOTSPOT_LIST.success:return(0,i._)((0,o._)({},e),(0,L._)({},u.stateKey,r))}return e},ToolsRecommend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},ToolsCustomPromotion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{itemLists:{},baseInfo:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case nL.GET_CUSTOM_PROMOTION_STATUS.success:return(0,i._)((0,o._)({},e),{baseInfo:r});case nL.GET_PROMOTION_ITEM_LIST.success:var u=t.itemType,a=t.offset,c=t.limit,s=t.payload,l=s.data,d=s.count,_=e.itemLists[u]||{count:d,data:Array.from({length:d},function(){return null})},p=(0,i._)((0,o._)({},_),{data:(0,w._)(_.data.slice(0,a)).concat((0,w._)(l),(0,w._)(_.data.slice(a+c)))});return(0,i._)((0,o._)({},e),{itemLists:(0,i._)((0,o._)({},e.itemLists),(0,L._)({},u,p))})}return e},ToolsSearchQuestion:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case n4.GET_HOT_EVENT.success:return(0,i._)((0,o._)({},e),{hotEventsList:null==r?void 0:r.data});case n4.LOAD_HOUR_HOT_QUESTION.success:return(0,i._)((0,o._)({},e),{hotHourQuestionList:null==r?void 0:r.data})}return e},editorSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===eY.GET_EDITOR_SETTING.success?(0,i._)((0,o._)({},e),{baseInfo:r}):e},MCNManage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===tj.LOAD_MCN_HOMEPAGE.success?(0,i._)((0,o._)({},e),{mcnInfo:r}):e},knowledgeTasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case tZ.GET_KNOWLEDGE_TASK_INFO.success:return(0,i._)((0,o._)({},e),{knowledgeTaskInfo:r});case tZ.GET_KNOWLEDGE_TASK_DETAIL.success:return(0,i._)((0,o._)({},e),{knowledgeTaskDetail:r});case tZ.GET_KNOWLEDGE_BENEFIT.success:return(0,i._)((0,o._)({},e),{knowledgeBenefit:r})}return e},incomeAnalysis:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{income:{aggregation:{}}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===tm.LOAD_AGGREGATION_CARD_DATA.success?(0,i._)((0,o._)({},e),{income:(0,i._)((0,o._)({},e.income),{aggregation:r})}):e},creationManage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editModal:{status:!1,type:eG.fG.videoSuccess}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case eU.UPDATE_EDIT_MODAL_STATUS:var n=(0,eG.Po)(),r=t.payload||{},u=r.status,a=r.zvideoId,c=n||a,s=eG.fG.videoSucccess,l=eG.fG.videoEdit;if(u&&c)return(0,i._)((0,o._)({},e),{editModal:{status:u,type:n?s:l,sourceId:c}});return(0,i._)((0,o._)({},e),{editModal:(0,i._)((0,o._)({},e.editModal),{status:!1})});case eU.GET_DRAFT_COUNT.success:var d,_,p,f=t.meta.contentType;if("zvideo"===f)return(0,i._)((0,o._)({},e),{draftCount:(0,i._)((0,o._)({},e.draftCount),(0,L._)({},f,null===(_=t.payload)||void 0===_?void 0:null===(p=_.paging)||void 0===p?void 0:p.totals))});return(0,i._)((0,o._)({},e),{draftCount:(0,i._)((0,o._)({},e.draftCount),(0,L._)({},f,null===(d=t.payload)||void 0===d?void 0:d.count))});case eU.LOAD_ANALYSIS_STATUS.success:return(0,i._)((0,o._)({},e),{analysisStatus:t.payload})}return e},activity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,u=t.meta;if(n===b.LOAD_ACTIVITY_LIST.success){var a,c=u.groupToken;return(0,i._)((0,o._)({},e),(0,L._)({},c,(0,i._)((0,o._)({},e[c],r),{data:(0,w._)((null===(a=e[c])||void 0===a?void 0:a.data)||[]).concat((0,w._)(r.data||[])),page:(0,i._)((0,o._)({},r.page),{isLoading:!1})})))}return e},announcement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,u=t.meta;if(n===eu.LOAD_ANNOUNCEMENT_LIST.success){var a,c=u.stateKey,s=u.offset;return(0,i._)((0,o._)({},e),(0,L._)({},c,(0,i._)((0,o._)({},r),{data:(0,i._)((0,o._)({},null===(a=e[c])||void 0===a?void 0:a.data),(0,L._)({},s,r.data))})))}return e},home:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentCreatorUrlToken:null,rights:[],newRights:[],scoreInfo:{},menusShowControlByServer:{bVipRecomend:!1,creationRelationship:!1},newTasks:{creatorTask:{tasks:[],des:[]}},bannerList:[],recentlyCreated:[],homecard:{}},u=arguments.length>1?arguments[1]:void 0,a=u.type,c=u.payload;switch(a){case e6.GET_HOME_DATA.success:return(0,i._)((0,o._)({},r),{homeData:(0,o._)({},r.homeData,c)});case e6.GET_HOME_DATA.failure:return(0,i._)((0,o._)({},r),{isHomepageForbidden:(null===(e=u.err)||void 0===e?void 0:null===(t=e.payload)||void 0===t?void 0:t.code)==="403"});case e6.LOAD_NEW_TASK_HOME_CARD.success:return(0,i._)((0,o._)({},r),{homecard:c});case e6.APPLY_CREATOR_RIGHTS.success:var s=u.meta,l=s.rightsId,d=s.isExperience,_=u.payload;return(0,i._)((0,o._)({},r),{newRights:r.newRights.map(function(e){return(0,i._)((0,o._)({},e),{status:e.id===l?_.status:e.status})}),rights:r.rights.map(function(e){return(0,i._)((0,o._)({},e),{status:e.id===l?d?"experience":_.status:e.status})})});case e6.GET_CREATOR_NEW_RIGHTS.success:var p=u.payload.rights;return(0,i._)((0,o._)({},r),{newRights:void 0===p?[]:p});case e6.LOAD_BVIP_RECOMMEND_MENU_SHOULD_SHOW.success:return(0,i._)((0,o._)({},r),{menusShowControlByServer:(0,i._)((0,o._)({},r.menusShowControlByServer),{bVipRecomend:c.data})});case e6.LOAD_CREATION_RELATIONSHIP_MENU_SHOULD_SHOW.success:return(0,i._)((0,o._)({},r),{menusShowControlByServer:(0,i._)((0,o._)({},r.menusShowControlByServer),{creationRelationship:c.canRef})});case e6.LOAD_CREATOR_SCORE_INFO.success:var f=u.payload;return(0,i._)((0,o._)({},r),{scoreInfo:f});case e6.SET_CURRENT_CREATOR:return(0,i._)((0,o._)({},r),{currentCreatorUrlToken:c});case e6.LOAD_BANNER_LIST.success:return(0,i._)((0,o._)({},r),{bannerList:(null==c?void 0:null===(n=c.data)||void 0===n?void 0:n.bannerList)||[]});case e6.GET_LEVEL_UP_WINDOW_SHOW.success:return(0,i._)((0,o._)({},r),{upgradeInfo:c});case e6.CLEAN_GRADE_INFO:return(0,i._)((0,o._)({},r),{upgradeInfo:(0,i._)((0,o._)({},r.upgradeInfo),{needPop:!1})})}return r},videoSupport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{textBenefit:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case rm.GET_VIDEO_SUPPORT_BASE_STATISTICS.success:return(0,i._)((0,o._)({},e),{base:r});case rm.GET_TEXT_SUPPORT_BASE_STATISTICS.success:return(0,i._)((0,o._)({},e),{textBenefit:(0,i._)((0,o._)({},e.textBenefit),{base:r})});case rm.GET_VIDEO_SUPPORT_CONTENT_STATISTICS.success:return(0,i._)((0,o._)({},e),{content:r});case rm.GET_TEXT_SUPPORT_CONTENT_STATISTICS.success:return(0,i._)((0,o._)({},e),{textBenefit:(0,i._)((0,o._)({},e.textBenefit),{content:r})});case rm.GET_VIDEO_SUPPORT_BANNER.success:return(0,i._)((0,o._)({},e),{banner:r});case rm.GET_VIDEO_SUPPORT_DAILY_STATISTICS.success:return(0,i._)((0,o._)({},e),{daily:r});case rm.GET_VIDEO_SUPPORT_USER_SHOW_STATUS.success:return(0,i._)((0,o._)({},e),{status:null==r?void 0:r.status});case rm.GET_VIDEO_SUPPORT_USER_STATUS.success:return(0,i._)((0,o._)({},e),{userStatus:r})}return e},videoDistribution:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},profilePoster:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t8,t=arguments.length>1?arguments[1]:void 0,n=t.payload;if(t.type===t3.LOAD_CREATOR_POSTER_CONFIG.success&&(null==n?void 0:n.data)){var r=JSON.parse(n.data),u=r.config,a=r.data;return(0,i._)((0,o._)({},e),{creatorPosterConfig:u,creatorPosterData:a})}return e}})},51921:function(e,t,n){"use strict";n.d(t,{Ad:function(){return E},Hp:function(){return p},k:function(){return f},sF:function(){return T}});var r=n(55164),o=n(49899),i=n(46942),u=n.n(i),a=n(74135),c=n(4785),s=n(93292),l=n(80523),d=n(39288),_=n(59523),p=(0,r._)({},(0,d.FH)("currentUser",["GET","GET_COLUMN_CONTRIBUTIONS","UPDATE_FULLNAME","GET_REAL_NAME_STATUS"]),(0,d.co)("currentUser",["ACTIVE_USER"])),f=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,i){var c=i.fnRefs;return(0,l.Z)(c,"fetchCurrentUser",function(){return(0,s.Z)(function(t){var n;return e((n=t.map(function(e){return e[0]}).flat(),{API:(0,r._)({types:p.GET,endpoint:"me"},n&&{query:{include:u()(n.map(a.decamelize)).join(",")}})}))},queueMicrotask)}).apply(void 0,(0,o._)(t))}};function T(e){return function(t,n){var r=(0,_.ib)(n());if(r){var o=e.filter(function(e){return!(e in r)});if(o.length)return t(f(o))}}}function E(e){return function(t){return t({API:{types:p.UPDATE_FULLNAME,method:"PUT",endpoint:"me/fullname",body:(0,c.z)({fullname:e})}})}}},58909:function(e,t,n){"use strict";n.d(t,{Hp:function(){return o.Hp},ib:function(){return a.ib},wY:function(){return a.wY},ZP:function(){return c},k:function(){return o.k},sF:function(){return o.sF},kI:function(){return a.kI},dd:function(){return a.dd},W5:function(){return a.W5},pG:function(){return a.pG},cE:function(){return a.cE},me:function(){return u},mH:function(){return a.mH},uy:function(){return a.uy},Ad:function(){return o.Ad},xw:function(){return a.xw}});var r=n(94057),o=n(51921),i=n(98424),u=(0,r.combineReducers)({columnContributions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t.type===o.Hp.GET_COLUMN_CONTRIBUTIONS.success?t.payload.data.map(function(e){return e.column}):e}}),a=n(59523),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case o.Hp.GET.success:return t.payload.urlToken;case i.Hp.UPDATE_AUTHINFO:return t.token||"";default:return e}}},59523:function(e,t,n){"use strict";n.d(t,{W5:function(){return c},cE:function(){return s},dd:function(){return T},ib:function(){return a},kI:function(){return f},mH:function(){return l},pG:function(){return _},uy:function(){return d},wY:function(){return u},xw:function(){return p}});var r=n(53778),o=n(31824),i=n(66263),u=function(e){return e.currentUser},a=(0,o.P1)(function(e){var t;return null===(t=e.entities)||void 0===t?void 0:t.users},u,function(e,t){if(t){if(e[t])return e[t];var n=Object.keys(e).find(function(n){return e[n].id===t});return n?e[n]:void 0}}),c=(0,o.P1)(a,function(e){return!!e&&"organization"===e.userType}),s=(0,o.P1)(a,function(e){var t;return null==e?void 0:null===(t=e.vipInfo)||void 0===t?void 0:t.isVip}),l=(0,o.P1)(a,function(e){var t;return null==e?void 0:null===(t=e.vipInfo)||void 0===t?void 0:t.renameAwaitDays}),d=(0,o.P1)(a,function(e){var t;return null==e?void 0:null===(t=e.vipInfo)||void 0===t?void 0:t.renameFrequency}),_=(0,o.P1)([a,function(e,t){return t}],function(e,t){return!!(e&&t&&e.id===t.id)}),p=function(e){return(0,r.useSelector)(function(t){return _(t,e)})},f=(0,o.P1)(a,function(e){var t;return[i.of.NO_SETTING,i.of.PASS].includes(null==e?void 0:null===(t=e.mcnUserInfo)||void 0===t?void 0:t.status)});(0,o.P1)(a,function(e){var t;return(null==e?void 0:null===(t=e.mcnUserInfo)||void 0===t?void 0:t.availableSource)||[]});var T=(0,o.P1)(a,function(e){return!!(null==e?void 0:e.userType)&&"guest"!==e.userType})},74065:function(e,t,n){"use strict";n.d(t,{ZP:function(){return h},eJ:function(){return _},s1:function(){return d},mc:function(){return f},CU:function(){return p}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(94057),c=n(74135),s=n(39288),l=(0,o._)({},(0,s.FH)("draftHistory",["GET_HISTORY","GET_DRAFT","REVERT"]),(0,s.co)("draftHistory",["RESET"]));function d(e,t){return function(n,r){var o=r().draftHistory.history["".concat(e,"_").concat(t)];return n({meta:{type:e,id:t},API:{types:l.GET_HISTORY,endpoint:o&&o.next?o.next:"draft-histories",query:{objectType:e,objectId:t}}})}}function _(e,t){return{meta:{versionType:e,versionId:t},API:{types:l.GET_DRAFT,endpoint:"draft-history",query:{versionType:e,id:t}}}}function p(e,t){return{meta:{versionType:e,versionId:t},API:{types:l.REVERT,method:"POST",endpoint:"draft-history/revert",body:(0,c.decamelizeKeys)({versionType:e,id:t})}}}function f(e,t){return{type:l.RESET,meta:{type:e,id:t}}}function T(e){return"".concat(e.meta.type,"_").concat(e.meta.id)}function E(e){return"".concat(e.meta.versionType,"_").concat(e.meta.versionId)}var h=(0,a.combineReducers)({history:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.GET_HISTORY.request:var n=T(t);return(0,r._)({},n,{items:e[n]?e[n].items:null,next:e[n]?e[n].next:null,isFetching:!0,isDrained:!1});case l.GET_HISTORY.success:var o=T(t);return(0,r._)({},o,{items:e[o]&&e[o].items?(0,u._)(e[o].items).concat((0,u._)(t.payload.data)):t.payload.data,next:t.payload.paging.next,isFetching:!1,isDrained:t.payload.paging.isEnd});case l.GET_HISTORY.failure:var i=T(t);return(0,r._)({},i,{items:e[i]?e[i].items:null,next:e[i]?e[i].next:null,isFetching:!1,isDrained:!0});case l.RESET:return{};default:return e}},drafts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.GET_DRAFT.request:var n=E(t);return(0,i._)((0,o._)({},e),(0,r._)({},n,{data:null,isFetching:!0}));case l.GET_DRAFT.success:var u=E(t);return(0,i._)((0,o._)({},e),(0,r._)({},u,{data:t.payload,isFetching:!1}));case l.GET_DRAFT.failure:var a=E(t);return(0,i._)((0,o._)({},e),(0,r._)({},a,{data:null,isFetching:!1}));case l.RESET:return{};default:return e}}})},33824:function(e,t,n){"use strict";n.d(t,{M:function(){return a},Z:function(){return s}});var r=n(55164),o=n(57477),i=n(39288),u=(0,r._)({},(0,i.FH)("EDIT_VIDEO",["GET_ENABLED"]));function a(){return{API:{types:u.GET_ENABLED,endpoint:"/zvideos/switch/config?key=pin_video_switch"}}}var c={editVideoEnabled:!1};function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,n=arguments.length>1?arguments[1]:void 0;return n.type===u.GET_ENABLED.success?(0,o._)((0,r._)({},t),{editVideoEnabled:null===(e=n.payload)||void 0===e?void 0:e.pinVideoSwitch}):t}},20765:function(e,t,n){"use strict";n.d(t,{Qm:function(){return u},jY:function(){return i}});var r=n(87320),o=n(94057);function i(e,t){return function(n){return n({type:"UPDATE_LIKE",UPDATE:{update:{eduSections:(0,r._)({},e,{isLiked:t})}}})}}function u(e,t,n){var o={voteUp:1,voteDown:2};return function(i){return i({type:"UPDATE_VOTE",UPDATE:{update:{eduSections:(0,r._)({},e,{voting:o[t],voteCount:n})}}})}}t.ZP=(0,o.combineReducers)({eduSectionState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}})},62039:function(e,t,n){"use strict";n.d(t,{Jb:function(){return p},P0:function(){return l},XO:function(){return _},ZP:function(){return f},aV:function(){return d}});var r=n(87320),o=n(55164),i=n(57477),u=n(39288),a=n(68455),c={emoticonGroupList:[],emoticonGroupDetail:{}},s=(0,o._)({},(0,u.FH)("emoticons",["GET_EMOTICONGROUP_LIST","GET_EMOTICONS_DETAIL"]),(0,u.co)("emoticons",["SAVE_EMOTICONS_TO_REDUX","CHANGE_SELECTED_EMOTICON_GROUP","CHANGE_SELECTED_EMOTICON_PANEL"]));function l(){return{API:{types:s.GET_EMOTICONGROUP_LIST,endpoint:"/me/sticker-groups"}}}function d(e){return{API:{types:s.GET_EMOTICONS_DETAIL,endpoint:"/sticker-groups/".concat(e),query:{business:"message"}},meta:{id:e}}}function _(e){return{type:s.CHANGE_SELECTED_EMOTICON_GROUP,meta:{id:e}}}function p(e){return{type:s.CHANGE_SELECTED_EMOTICON_PANEL,meta:{id:e}}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;if(t.type===s.GET_EMOTICONGROUP_LIST.success){var n=t.payload.data;return(0,i._)((0,o._)({},e),{emoticonGroupList:n,curEmoticonGroupId:t.payload.data[0].id})}if(t.type===s.GET_EMOTICONS_DETAIL.success){var u=t.meta.id,l=(0,i._)((0,o._)({},e.emoticonGroupDetail),(0,r._)({},u,t.payload.data)),d=(0,a.GM)(l,e.emoticonGroupList);return(0,i._)((0,o._)({},e),{emoticonGroupDetail:l,emoticonPanelList:d})}if(t.type===s.SAVE_EMOTICONS_TO_REDUX){var _=t.meta.data.id,p=(0,i._)((0,o._)({},e.emoticonGroupDetail),(0,r._)({},_,t.meta.data)),f=(0,a.GM)(p,e.emoticonGroupList);return(0,i._)((0,o._)({},e),{emoticonGroupDetail:p,emoticonPanelList:f})}if(t.type===s.CHANGE_SELECTED_EMOTICON_GROUP){var T=t.meta.id;return(0,i._)((0,o._)({},e),{curEmoticonGroupId:T})}if(t.type===s.CHANGE_SELECTED_EMOTICON_PANEL){var E=t.meta.id;return(0,i._)((0,o._)({},e),{curEmoticonPanelId:E})}return e}},87441:function(e,t,n){"use strict";n.d(t,{N7:function(){return v}});var r=n(87320),o=n(55164),i=n(57477),u=n(92769),a=n.n(u),c=n(33720),s=n.n(c),l=n(21654),d=n(21389),_=n(44900),p=n(25364),f=n(82865),T=n(58909),E={users:{},questions:{},answers:{},articles:{},columns:{},topics:{},roundtables:{},favlists:{},comments:{},notifications:{},ebooks:{},activities:{},feeds:{},pins:{},promotions:{},drafts:{},chats:{},posts:{},zvideos:{},zvideoContributions:{},briefs:{},eduCourses:{}},h=function(e,t){var n=t.schema,r=t.id,o=t.urlToken;return n?e["".concat(n,"s")][o||r]:t},v=function(e,t){return h(e.entities,t)};t.ZP=s()(function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,n=arguments.length>1?arguments[1]:void 0;if(n.type===T.Hp.GET.success)return n.payload.isZombie=(0,f.Eh)(),(0,i._)((0,o._)({},t),{users:a()((0,i._)((0,o._)({},t.users),(0,r._)({},n.payload.urlToken,(0,o._)({},t.users[n.payload.id],t.users[n.payload.urlToken],n.payload))),n.payload.id)});if(n.type===T.Hp.ACTIVE_USER)return(0,i._)((0,o._)({},t),{users:(0,i._)((0,o._)({},t.users),(0,r._)({},n.currentUser,(0,i._)((0,o._)({},t.users[n.currentUser]),{isActive:!0})))});if(n.entities&&(t=(0,p.Z)(t,"function"==typeof(null===(e=n.meta)||void 0===e?void 0:e.entitiesPrefilter)?n.meta.entitiesPrefilter(n.entities):n.entities)),n.UPDATE){var u=n.type,c=n.payload,s=n.UPDATE,l=s.request,d=s.success,_=s.failure,h=s.update,v=n.err;if(u.endsWith("request")&&l&&(t=(0,p.Z)(t,"function"==typeof l?l(c,n):l)),u.endsWith("success")&&d&&(t=(0,p.Z)(t,"function"==typeof d?d(c,n):d)),u.endsWith("failure")&&_){var m="function"==typeof _?_(v):_;t=(0,p.Z)(t,m)}else h&&(t=(0,p.Z)(t,h))}return t},(0,d.y)({users:_.r,favlists:l.B}))},98424:function(e,t,n){"use strict";n.d(t,{GM:function(){return s},Hp:function(){return c},JT:function(){return d},Xj:function(){return l}});var r=n(55164),o=n(67516),i=n.n(o),u=n(66263),a=n(39288),c=(0,r._)({},(0,a.co)("env",["UPDATE_USERAGENT","SET_TRAFFICSOURCE","UPDATE_EDITION","SET_CTX","SET_THEME","SET_APP_HEADER_THEME","TOGGLE_ENABLE_SHORTCUT","GET_ANNOUNCEMENT","SET_REFERER","UPDATE_CONF","UPDATE_LOGGED","UPDATE_AUTHINFO","UPDATE_APPVIEW_CONFIG","UPDATE_TRAFFIC_FREE","SET_UDID","SET_MODE","SET_ENV_VARS"]),(0,a.FH)("env",["GET_IPINFO"]));function s(e){return{type:c.UPDATE_USERAGENT,payload:e}}function l(e){return{type:c.SET_APP_HEADER_THEME,payload:e}}function d(e){return e?i().delete(u.Xq):i().set(u.Xq,!1),{type:c.TOGGLE_ENABLE_SHORTCUT,payload:e}}},7407:function(e,t,n){"use strict";n.d(t,{tQ:function(){return _.tQ},ZP:function(){return p},cM:function(){return _.cM},H8:function(){return _.H8},Hu:function(){return _.Hu},Xj:function(){return _.Xj},nR:function(){return _.nR},Kv:function(){return _.Kv},XE:function(){return _.XE},cq:function(){return _.cq},hV:function(){return _.hV},JT:function(){return l.JT},Uh:function(){return _.Uh},GM:function(){return l.GM},dD:function(){return _.dD}});var r=n(55164),o=n(57477),i=n(92485),u=n(97055),a=n(94057),c=n(17132),s=n.n(c),l=n(98424),d=(0,a.combineReducers)({ab:u.default,abV2:i.Z,userAgent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===l.Hp.UPDATE_USERAGENT){var n=t.payload;return(0,r._)({},e,s()(n))}return e},appViewConfig:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===l.Hp.UPDATE_APPVIEW_CONFIG){var n=t.payload,i=n.can_auto_load_image,u=n.font_resize;return(0,o._)((0,r._)({},e),{can_auto_load_image:i,font_resize:u||1})}return e},ctx:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.SET_CTX?t.payload:e},trafficSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.SET_TRAFFICSOURCE?t.payload:e},edition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{beijing:!1,baidu:!1,sogou:!1,baiduBeijing:!1,sogouBeijing:!1,sogouInput:!1,oppoSearch:!1},t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.UPDATE_EDITION?(0,r._)({},e,t.payload):t.type===l.Hp.GET_IPINFO.success&&"北京"===t.payload.cityName?(0,o._)((0,r._)({},e),{beijing:!0,baiduBeijing:e.baidu,sogouBeijing:e.sogou}):e},theme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.SET_THEME?"dark"===t.payload?"dark":"light":e},appHeaderTheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{current:"normal",disable:!0,normal:{bgColor:"GBK99A"},custom:{bgColor:"GBK99A"}},t=arguments.length>1?arguments[1]:void 0;if(t.type===l.Hp.SET_APP_HEADER_THEME){var n=t.payload||{current:"normal"};return(0,r._)({},e,n)}return e},enableShortcut:function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.TOGGLE_ENABLE_SHORTCUT?t.payload:e},referer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.SET_REFERER?t.payload:e},xUDId:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.SET_UDID?t.payload:e},mode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ssr",t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.SET_MODE&&t.payload?t.payload:e},conf:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.UPDATE_CONF?(0,r._)({},e,t.payload):e},xTrafficFreeOrigin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;if(t.type===l.Hp.UPDATE_TRAFFIC_FREE){var n=t.payload;return void 0===n?"":n}return e},ipInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.GET_IPINFO.success?t.payload:e},logged:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.UPDATE_LOGGED?t.payload:e},vars:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===l.Hp.SET_ENV_VARS?(0,r._)({},e,t.payload):e}}),_=n(68900),p=d},68900:function(e,t,n){"use strict";n.d(t,{H8:function(){return p},Hu:function(){return l},Kv:function(){return E},Uh:function(){return s},XE:function(){return f},Xj:function(){return m},cM:function(){return c},cq:function(){return T},dD:function(){return d},hV:function(){return A},nR:function(){return _},tQ:function(){return v}});var r=n(53778),o=n(31824),i=n(66263),u=n(2493),a=n(58909),c=function(e){return e.env.edition},s=function(e){return e.env.userAgent},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.includeTablet,r=s(e),o=r.Mobile||r.iOS,i=r.Tablet;return void 0!==n&&n?o:o&&!i},d=function(e){return(0,r.useSelector)(function(t){return l(t,e)})},_=(0,o.P1)(s,function(e){return e.Zhihu||e.ZhihuHybrid}),p=(0,o.P1)(s,function(e){return!e.isBot}),f=(0,o.P1)(l,p,a.ib,function(e,t,n){return(t||!n)&&e});(0,o.P1)(f,c,function(e,t){return e&&t.baidu}),(0,o.P1)(f,c,function(e,t){return e&&t.sogouBeijing});var T=(0,o.P1)(f,c,function(e,t){return e&&!t.sogouBeijing&&!t.baidu&&!t.miniProgram}),E=function(e){return e.env.referer},h=["zhihu.com/special/19590770"],v=(0,u.Z)(function(e){return e.env.abV2.config.paramMap},function(e,t){return t},function(e,t){var n,r,o=t.paramId;return t.mock,null!==(r=null==e?void 0:null===(n=e[o])||void 0===n?void 0:n.value)&&void 0!==r?r:null});function m(e){var t=e.env;return(null==t?void 0:t.trafficSource)==="office"}(0,o.P1)(T,function(e){return h.some(function(t){return e.env.referer.includes(t)})},function(e,t){return e&&!t});var A=function(e,t){var n,r=t.type,o=t.id;return!!i.o$[r]&&e.env.userAgent.Mobile&&(null===(n=i.o$[r])||void 0===n?void 0:n.includes(String(o)))}},34797:function(e,t,n){"use strict";n.d(t,{Bp:function(){return s},GQ:function(){return _},Hp:function(){return r},LG:function(){return u},MA:function(){return T},NY:function(){return a},Rv:function(){return p},S_:function(){return o},ZQ:function(){return c},pN:function(){return l},r8:function(){return i},vp:function(){return d},wN:function(){return f}});var r=(0,n(39288).FH)("explore",["GET_RECOMMENDATIONS","GET_LATEST_SPECIALS","GET_LATEST_ROUNDTABLES","GET_HOT_COLLECTIONS","GET_RECOMMEND_COLUMNS","FOLLOW_SPECIAL","UNFOLLOW_SPECIAL","FOLLOW_ROUNDTABLE","UNFOLLOW_ROUNDTABLE","FOLLOW_COLLECTION","UNFOLLOW_COLLECTION","GET_RECENT_HOT_QUESTION","GET_POTENTIAL_QUESTION"]);function o(){return{API:{types:r.GET_LATEST_SPECIALS,endpoint:"news_specials/cards"}}}function i(){return{API:{types:r.GET_LATEST_ROUNDTABLES,endpoint:"roundtables/explore/cards"}}}function u(){return{API:{types:r.GET_HOT_COLLECTIONS,endpoint:"collections/discover/latest",query:{include:"data[*].total_count,creator,follower_count,is_following;data[*].favitems[*].content.question,excerpt,voteup_count,comment_count"}}}}function a(){return{API:{types:r.GET_RECOMMEND_COLUMNS,endpoint:"discover-columns"}}}function c(e){return{API:{types:r.FOLLOW_SPECIAL,endpoint:"news_specials/".concat(e,"/followers"),method:"POST"},meta:{id:e}}}function s(e){return{API:{types:r.UNFOLLOW_SPECIAL,endpoint:"news_specials/".concat(e,"/followers"),method:"DELETE"},meta:{id:e}}}function l(e){return{API:{types:r.FOLLOW_ROUNDTABLE,endpoint:"roundtables/".concat(e,"/followers"),method:"POST"},meta:{urlToken:e}}}function d(e){return{API:{types:r.UNFOLLOW_ROUNDTABLE,endpoint:"roundtables/".concat(e,"/followers"),method:"DELETE"},meta:{urlToken:e}}}function _(e){return{API:{types:r.FOLLOW_COLLECTION,endpoint:"collections/".concat(e,"/followers"),method:"POST"},meta:{id:e}}}function p(e){return{API:{types:r.UNFOLLOW_COLLECTION,endpoint:"collections/".concat(e,"/followers"),method:"DELETE"},meta:{id:e}}}function f(){return{API:{types:r.GET_RECENT_HOT_QUESTION,endpoint:"creators/rank/hot",method:"GET",query:{period:"hour",domain:0}}}}function T(){return{API:{types:r.GET_POTENTIAL_QUESTION,endpoint:"creators/rank/potential",method:"GET",query:{sort_type:"all",domain:0}}}}},35528:function(e,t,n){"use strict";n.d(t,{I3:function(){return E},NK:function(){return v},Pe:function(){return T},Vf:function(){return p},ZP:function(){return A},k1:function(){return h},n2:function(){return f},xb:function(){return d}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(74135),c=n(28953),s=n(39288),l=n(59523),d=(0,s.FH)("favlist",["GET_HOT_FAVLISTS","GET_CURRENT_USER_FAVLISTS","UPDATE_FOLLOWERS","UPDATE_FAVLIST_ITEM","ADD_FAVLIST"]),_=(0,s.co)("favlist",["UPDATE_FAV_RELATIONS"]);function p(e,t){var n=t.type,r=t.id;return function(t,o){return t({meta:{currentUser:o().currentUser,type:n,id:r},API:{types:d.ADD_FAVLIST,endpoint:"/collections",method:"POST",query:{include:"updated_time,answer_count,follower_count"},zsEncrypt:!0,bodyType:"json",body:(0,a.decamelizeKeys)(e)},schema:c.l.COLLECTION})}}function f(e,t){return function(n,r){var o=r(),i=o.currentUser,u=(o.favlists[i]||{}).paging,a=void 0===u?{}:u;return n({meta:{currentUser:i},API:{endpoint:a.next||"/collections/contents/".concat(e,"/").concat(t),types:d.GET_CURRENT_USER_FAVLISTS,query:a.next?void 0:{offset:0,limit:5}},schema:c.l.FAVLIST_ARRAY})}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0;return{API:{types:d.GET_HOT_FAVLISTS,endpoint:n||"collections/discover",query:n?void 0:{include:"data[*].updated_time,total_count,creator,follower_count,is_following;data[*].favitems[*].content.question,excerpt,voteup_count,comment_count",offset:e,limit:t}},schema:c.l.FAVLIST_ARRAY}}function E(e,t){return function(n,o){var i=o(),u=i.entities.favlists,a=(0,l.ib)(i).id,c=u[e],s=t?1:-1;return n({API:{types:d.UPDATE_FOLLOWERS,endpoint:"collections/".concat(e,"/followers").concat(t?"":"/".concat(a)),method:t?"POST":"DELETE"},UPDATE:{request:{favlists:(0,r._)({},e,{followerCount:c.followerCount+s,isFollowing:t})},failure:{favlists:(0,r._)({},e,c)}}})}}var h=function(e){var t=e.contentId,n=e.contentType,r=e.relations;return{type:_.UPDATE_FAV_RELATIONS,contentId:t,contentType:n,payload:{relations:r}}};function v(e,t,n){return function(o,i){var u,c=i().entities.favlists[e].answerCount,s=null===(u=i().favlists.relations["".concat(n,"_").concat(t)])||void 0===u?void 0:u[e],l=s?{endpoint:"/collections/".concat(e,"/contents/").concat(t),method:"DELETE",query:(0,a.decamelizeKeys)({contentType:n})}:{endpoint:"/collections/".concat(e,"/contents"),method:"POST",query:(0,a.decamelizeKeys)({contentId:t,contentType:n})},_=l.endpoint,p=l.method,f=l.query;return o({API:{types:d.UPDATE_FAVLIST_ITEM,endpoint:_,method:p,query:f},meta:{contentType:n,contentId:t,collectionId:e,collected:!s},UPDATE:{request:function(){return{favlists:(0,r._)({},e,{answerCount:s?c-1:c+1})}},failure:function(){return{favlists:(0,r._)({},e,{answerCount:c})}}}})}}var m={isFetching:!1,isDrained:!1,ids:[],offset:0,limit:10};function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{relations:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d.ADD_FAVLIST.success:var n,a=t.meta,c=a.currentUser,s=a.type,l=a.id,p="".concat(s,"_").concat(l);return(0,i._)((0,o._)({},e),(n={},(0,r._)(n,c,(0,i._)((0,o._)({},e[c]),{ids:[t.payload.collection.id].concat((0,u._)(e[c].ids))})),(0,r._)(n,"relations",(0,i._)((0,o._)({},e.relations),(0,r._)({},p,(0,i._)((0,o._)({},e.relations[p]),(0,r._)({},t.payload.collection.id,!1))))),n));case d.GET_CURRENT_USER_FAVLISTS.request:var f=t.meta.currentUser;return(0,i._)((0,o._)({},e),(0,r._)({},f,(0,i._)((0,o._)({},m,e[f]),{isFetching:!0,isDrained:!1})));case d.GET_CURRENT_USER_FAVLISTS.success:var T=t.result,E=t.meta.currentUser,h=t.payload,v=T.filter(function(t){return!e[E].ids.includes(t)});return(0,i._)((0,o._)({},e),(0,r._)({},E,(0,i._)((0,o._)({},m,e[E]),{isFetching:!1,ids:(0,u._)(e[E].ids).concat((0,u._)(v)),isDrained:h.paging.isEnd,paging:h.paging})));case d.GET_CURRENT_USER_FAVLISTS.failure:var A=t.meta.currentUser;return(0,i._)((0,o._)({},e),(0,r._)({},A,(0,i._)((0,o._)({},e[A]),{isFetching:!1})));case _.UPDATE_FAV_RELATIONS:var I=t.contentId,y=t.contentType,O=t.payload,S="".concat(y,"_").concat(I);return(0,i._)((0,o._)({},e),{relations:(0,i._)((0,o._)({},e.relations),(0,r._)({},S,(0,o._)({},e.relations[S],O.relations)))});case d.UPDATE_FAVLIST_ITEM.success:var g=t.meta,C=g.contentId,N=g.contentType,R=g.collectionId,P=g.collected,D="".concat(N,"_").concat(C);return(0,i._)((0,o._)({},e),{relations:(0,i._)((0,o._)({},e.relations),(0,r._)({},D,(0,i._)((0,o._)({},e.relations[D]),(0,r._)({},R,P))))});default:return e}}},29270:function(e,t,n){"use strict";n.d(t,{GD:function(){return d},Hp:function(){return r},Mb:function(){return s},Q0:function(){return o},TY:function(){return a},fT:function(){return i},tS:function(){return l},w9:function(){return c},xk:function(){return u}});var r=(0,n(39288).FH)("helpCenter",["LOAD_QUESTION_CATEGORIES","LOAD_CATEGORY_QUESTIONS","LOAD_COMMON_QUESTIONS","LOAD_QUESTION_DETAIL","LOAD_RELATED_QUESTIONS","SEARCH_QUESTIONS","LOAD_QUESTION_ALL_TYPES","LOAD_FAQ_QUESTIONS","LOAD_FAQ_QUESTION_DETAIL"]);function o(e){return{API:{types:r.LOAD_CATEGORY_QUESTIONS,endpoint:"help_center/question_types/".concat(e)},meta:{categoryId:e}}}function i(){return{API:{types:r.LOAD_COMMON_QUESTIONS,endpoint:"help_center/faq"}}}function u(e){return{API:{types:r.LOAD_QUESTION_DETAIL,endpoint:"help_center/question/".concat(e)}}}function a(e){return{API:{types:r.LOAD_RELATED_QUESTIONS,endpoint:"help_center/question/".concat(e,"/related")},meta:{questionId:e}}}function c(e){return{API:{types:r.SEARCH_QUESTIONS,endpoint:"help_center/search?q=".concat(encodeURIComponent(e))},meta:{keyword:e}}}function s(){return{API:{types:r.LOAD_QUESTION_ALL_TYPES,endpoint:"help_center/new_question_types"}}}function l(e){return{API:{types:r.LOAD_FAQ_QUESTIONS,endpoint:"help_center/new_question_types/".concat(e)}}}function d(e){return{API:{types:r.LOAD_FAQ_QUESTION_DETAIL,endpoint:"help_center/question/".concat(e)}}}},25364:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(15030),o=n(55164);function i(e,t){var n=(0,o._)({},e);return Object.keys(t).forEach(function(e){var i=(0,o._)({},n[e]),u=t[e]||{};Object.keys(u).forEach(function(e){var t=u[e],n=(0,o._)({},i[e]);if(t&&"object"==typeof t){var a=!0,c=!1,s=void 0;try{for(var l,d=Object.keys(t)[Symbol.iterator]();!(a=(l=d.next()).done);a=!0){var _=l.value,p=n[_],f=t[_];!Array.isArray(p)&&(0,r._)(p,Object)&&(0,r._)(f,Object)?n[_]=(0,o._)({},p,f):n[_]=f}}catch(e){c=!0,s=e}finally{try{a||null==d.return||d.return()}finally{if(c)throw s}}i[e]=n}else i[e]=t}),n[e]=i}),n}},94540:function(e,t,n){"use strict";n.d(t,{$N:function(){return s},$b:function(){return d},$h:function(){return a},$v:function(){return m},Bm:function(){return y},DH:function(){return h},GI:function(){return L},JN:function(){return R},Jg:function(){return D},ME:function(){return v},R1:function(){return O},R8:function(){return f},RL:function(){return P},V5:function(){return u},Vq:function(){return c},_M:function(){return _},cH:function(){return E},dt:function(){return g},f5:function(){return l},gV:function(){return A},gj:function(){return I},i:function(){return N},le:function(){return T},rv:function(){return p},vM:function(){return w},wI:function(){return S},y1:function(){return C}});var r=n(55164),o=n(39288),i=n(74135),u=(0,o.FH)("host",["GET_USER_PERMISSIONS","UPDATE_ROUNDTABLE_SUBJECT","GET_ROUNDTABLE_SUBJECT","GET_ROUNDTABLE_APPLICATIONS","GET_ONLINE_ROUNDTABLES","UPDATE_ROUNDTABLE_APPLY","CREATE_ROUNDTABLE_APPLY","GET_ROUNDTABLE_APPLY","GET_ROUNDTABLE_DETAIL","GET_ROUNDTABLE_INCLUDEDRESOURCE","GET_ROUNDTABLE_HOT_QUESTIONS","UPDATE_HIDDEN_ROUNDTABLE_INCLUDEDRESOURCE","UPDATE_ROUNDTABLE_INCLUDERESOURCE","TOGGLE_ROUNDTABLE_HOT_QUESTION_HIDDEN","POST_ROUNDTABLE_INCLUDEDRESOURCE","ADD_ROUNDTABLE_HOT_QUESTIONS","UPDATE_ROUNDTABLE_HOT_QUESTION","SEARCH_ROUNDTABLE_INCLUDED_RESOURCE","BATCH_ADD_ROUNDTABLE_INCLUDED_RESOURCE","GET_ROUNDTABLE_WARMUP_CONTENTS","TOGGLE_WARMUP_CONTENT_HIDDEN","SET_WARMUP_CONTENT_WEIGHT","GET_SPECIAL_APPLICATIONS","GET_SPECIAL_APPLY_CENSOR_HISTORY","GET_SPECIAL_DRAFT","SAVE_SPECIAL_DRAFT","SUBMIT_SPECIAL_APPLY"]);function a(e){return{API:{types:u.GET_USER_PERMISSIONS,endpoint:"sop/user",query:{business_type:e}}}}function c(e,t){return{API:{types:u.UPDATE_ROUNDTABLE_APPLY,endpoint:"sop/roundtable/apply/".concat(e),method:"PUT",body:(0,i.decamelizeKeys)(t)}}}function s(e){return{API:{types:u.CREATE_ROUNDTABLE_APPLY,endpoint:"sop/roundtable/apply",method:"POST",body:(0,i.decamelizeKeys)(e)}}}function l(e){var t=e.id;return{API:{types:u.GET_ROUNDTABLE_APPLY,endpoint:"sop/roundtable/apply/".concat(t)}}}function d(e){var t=e.current,n=e.pageSize;return{API:{types:u.GET_ROUNDTABLE_APPLICATIONS,endpoint:"sop/roundtable/applications?current=".concat(t,"&pageSize=").concat(n)},meta:{current:t}}}function _(e,t,n){return{API:(0,r._)({types:u.TOGGLE_ROUNDTABLE_HOT_QUESTION_HIDDEN,endpoint:"sop/roundtable/roundtable/".concat(e,"/hot_questions")},n?{method:"PATCH",body:{question_id:t}}:{method:"PUT",body:{question_id:t,action:"cancel_remove"}}),meta:{id:e,questionId:t,isDeleted:n}}}function p(e,t,n){return{API:{types:u.UPDATE_ROUNDTABLE_HOT_QUESTION,endpoint:"sop/roundtable/roundtable/".concat(e,"/hot_questions"),method:"PUT",body:(0,i.decamelizeKeys)((0,r._)({action:"update",questionId:t.id},n))},meta:{id:e,question:t,body:n}}}function f(e,t,n){return{API:{types:u.ADD_ROUNDTABLE_HOT_QUESTIONS,endpoint:"sop/roundtable/roundtable/".concat(e,"/hot_questions"),method:"POST",body:{urls:t,is_deleted:n}}}}function T(e){var t=e.current,n=e.pageSize;return{API:{types:u.GET_ONLINE_ROUNDTABLES,endpoint:"sop/roundtable/roundtables?current=".concat(t,"&pageSize=").concat(n)},meta:{current:t}}}function E(e){return{API:{types:u.GET_ROUNDTABLE_DETAIL,endpoint:"sop/roundtable/roundtable/".concat(e)},meta:{id:e}}}function h(e,t){var n=t.current,r=t.pageSize;return{API:{types:u.GET_ROUNDTABLE_INCLUDEDRESOURCE,endpoint:"sop/roundtable/roundtable/".concat(e,"/includes?current=").concat(n,"&pageSize=").concat(r)},meta:{id:e,current:n}}}function v(e,t,n){var r=t.current,o=t.pageSize;return{API:{types:u.SEARCH_ROUNDTABLE_INCLUDED_RESOURCE,endpoint:"sop/roundtable/roundtable/".concat(e,"/search_include?current=").concat(r,"&pageSize=").concat(o),query:n},meta:{id:e,current:r}}}function m(e,t){return{API:{types:u.BATCH_ADD_ROUNDTABLE_INCLUDED_RESOURCE,endpoint:"sop/roundtable/roundtable/".concat(e,"/search_include"),method:"POST",body:{answer_ids:t}}}}function A(e,t){var n=t.current,r=t.pageSize;return{API:{types:u.GET_ROUNDTABLE_HOT_QUESTIONS,endpoint:"sop/roundtable/roundtable/".concat(e,"/hot_questions?current=").concat(n,"&pageSize=").concat(r)},meta:{id:e,current:n}}}function I(e,t){var n=t.type,o=t.objectId,a=t.action,c="cancel_remove"===a;return{API:{types:u.UPDATE_HIDDEN_ROUNDTABLE_INCLUDEDRESOURCE,endpoint:"sop/roundtable/roundtable/".concat(e,"/includes"),fetchOptions:{body:(0,i.decamelizeKeys)((0,r._)({id:e,type:n,objectId:o},c&&{action:a}))},method:c?"PUT":"PATCH"},meta:{id:e,objectId:o,isDeleted:!c}}}function y(e,t,n){return{API:{types:u.UPDATE_ROUNDTABLE_INCLUDERESOURCE,endpoint:"sop/roundtable/roundtable/".concat(e,"/includes"),body:(0,i.decamelizeKeys)((0,r._)({action:"update",type:t.type,objectId:t.objectId},n)),method:"PUT"},meta:{id:e,resource:t,body:n}}}function O(e,t){var n=t.type,r=t.token,o=t.onlineAt;return{API:{types:u.POST_ROUNDTABLE_INCLUDEDRESOURCE,endpoint:"sop/roundtable/roundtable/".concat(e,"/includes"),fetchOptions:{body:(0,i.decamelizeKeys)({id:e,type:n,token:r,onlineAt:o})},method:"POST"},meta:{id:e}}}function S(e){var t=e.current,n=void 0===t?1:t,r=e.pageSize,o=void 0===r?10:r;return{API:{types:u.GET_SPECIAL_APPLICATIONS,endpoint:"news_specials/draft_history",query:{limit:o,offset:(n-1)*o}},meta:{current:n}}}function g(e){return{API:{types:u.GET_SPECIAL_APPLY_CENSOR_HISTORY,endpoint:"news_specials/draft/".concat(e,"/apply_history")},meta:{draftId:e}}}function C(e){return{API:{types:u.GET_SPECIAL_DRAFT,endpoint:"news_specials/draft/".concat(e)}}}function N(e){var t=!e.draftId;return{API:{types:u.SAVE_SPECIAL_DRAFT,endpoint:t?"news_specials/draft":"news_specials/draft/".concat(e.draftId),method:t?"POST":"PUT",fetchOptions:{zsAutoSignature:!1,body:(0,i.decamelizeKeys)(e)}}}}function R(e){var t=!e.draftId;return{API:{types:u.SUBMIT_SPECIAL_APPLY,endpoint:t?"news_specials/draft/actions/save_and_apply_censor":"news_specials/draft/".concat(e.draftId,"/actions/save_and_apply_censor"),method:t?"POST":"PUT",fetchOptions:{zsSignature:!1,body:(0,i.decamelizeKeys)(e)}}}}function P(e,t){var n=t.current,r=t.pageSize;return{API:{types:u.GET_ROUNDTABLE_WARMUP_CONTENTS,endpoint:"sop/roundtable/roundtable/".concat(e,"/warmup_contents?current=").concat(n,"&pageSize=").concat(r)},meta:{roundtableId:e,current:n}}}function D(e,t,n){return{API:{types:u.TOGGLE_WARMUP_CONTENT_HIDDEN,endpoint:"sop/roundtable/roundtable/".concat(e,"/warmup_contents"),method:"PATCH",body:{id:t,action:n?"delete":"recover"}},meta:{roundtableId:e,contentId:t,isDeleted:n}}}function L(e,t,n){return{API:{types:u.SET_WARMUP_CONTENT_WEIGHT,endpoint:"sop/roundtable/roundtable/".concat(e,"/warmup_contents"),method:"PATCH",body:{action:"update",id:t,weight:n}},meta:{roundtableId:e,contentId:t,weight:n}}}function w(e,t){return{API:{types:u.ADD_ROUNDTABLE_HOT_QUESTIONS,endpoint:"sop/roundtable/roundtable/".concat(e,"/warmup_contents"),method:"POST",body:(0,i.decamelizeKeys)(t)}}}},25506:function(e,t,n){"use strict";n.d(t,{R8:function(){return c.R8},vM:function(){return c.vM},$v:function(){return c.$v},$N:function(){return c.$N},ZP:function(){return E},le:function(){return c.le},$b:function(){return c.$b},f5:function(){return c.f5},cH:function(){return c.cH},gV:function(){return c.gV},DH:function(){return c.DH},RL:function(){return c.RL},wI:function(){return c.wI},dt:function(){return c.dt},R1:function(){return c.R1},qS:function(){return s.q},aV:function(){return p},Tv:function(){return f},iR:function(){return T},ME:function(){return c.ME},$T:function(){return s.$},GI:function(){return c.GI},_M:function(){return c._M},Jg:function(){return c.Jg},gj:function(){return c.gj},Vq:function(){return c.Vq},rv:function(){return c.rv},Bm:function(){return c.Bm}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(94057),c=n(94540),s=n(42412),l=n(44808),d=(0,a.combineReducers)({subjects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===c.V5.GET_ROUNDTABLE_SUBJECT.success){var n=t.payload.data;return(0,i._)((0,o._)({},e),(0,r._)({},n.id,n))}return e},applications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{total:0},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,o=t.meta;return n===c.V5.GET_ROUNDTABLE_APPLICATIONS.success?(0,s.q)(e,o.current,r):e},online:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{total:0},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,o=t.meta;return n===c.V5.GET_ONLINE_ROUNDTABLES.success?(0,s.q)(e,o.current,r):e},applies:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===c.V5.GET_ROUNDTABLE_APPLY.success){var n=t.payload.data;return(0,i._)((0,o._)({},e),(0,r._)({},n.id,n))}return e},details:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.meta,u=t.payload;return t.type===c.V5.GET_ROUNDTABLE_DETAIL.success?(0,i._)((0,o._)({},e),(0,r._)({},n.id,u.data)):e},includedResource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,d=t.meta;if(n===c.V5.GET_ROUNDTABLE_INCLUDEDRESOURCE.success)return(0,i._)((0,o._)({},e),(0,r._)({},d.id,(0,o._)({},e[d.id],(0,s.q)(e[d.id]||{},d.current,a,{dataKey:"objectId"}))));if(n===c.V5.UPDATE_HIDDEN_ROUNDTABLE_INCLUDEDRESOURCE.success)return(0,l.Uy)(e,function(e){e[d.id].entities[d.objectId].isDeleted=d.isDeleted});if(n===c.V5.UPDATE_ROUNDTABLE_INCLUDERESOURCE.success)return(0,l.Uy)(e,function(e){Object.assign(e[d.id].entities[d.resource.objectId],d.body)});if(n===c.V5.POST_ROUNDTABLE_INCLUDEDRESOURCE.success){var _=t.payload.payload;if(_){var p=_.objectId;return(0,l.Uy)(e,function(e){e[d.id].pages[1]=e[d.id].pages[1]?[p].concat((0,u._)(e[d.id].pages[1])):[p],e[d.id].entities[p]=_})}}return e},hotQuestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.payload,a=t.meta;return n===c.V5.GET_ROUNDTABLE_HOT_QUESTIONS.success?(0,i._)((0,o._)({},e),(0,r._)({},a.id,(0,o._)({},e[a.id],(0,s.q)(e[a.id]||{},a.current,u,{dataKey:"question.id"})))):n===c.V5.TOGGLE_ROUNDTABLE_HOT_QUESTION_HIDDEN.success?(0,l.Uy)(e,function(e){e[a.id].entities[a.questionId].isDeleted=a.isDeleted}):n===c.V5.UPDATE_ROUNDTABLE_HOT_QUESTION.success?(0,l.Uy)(e,function(e){Object.assign(e[a.id].entities[a.question.id],a.body)}):e},warmupContents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.payload,a=t.meta;return n===c.V5.GET_ROUNDTABLE_WARMUP_CONTENTS.success?(0,i._)((0,o._)({},e),(0,r._)({},a.roundtableId,(0,o._)({},e[a.roundtableId],(0,s.q)(e[a.roundtableId]||{},a.current,u,{dataKey:"id"})))):n===c.V5.TOGGLE_WARMUP_CONTENT_HIDDEN.success?(0,l.Uy)(e,function(e){e[a.roundtableId].entities[a.contentId].isDeleted=a.isDeleted}):n===c.V5.SET_WARMUP_CONTENT_WEIGHT.success?(0,l.Uy)(e,function(e){e[a.roundtableId].entities[a.contentId].weight=a.weight}):e},batchInclude:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.payload,a=t.meta;return n===c.V5.SEARCH_ROUNDTABLE_INCLUDED_RESOURCE.success?(0,i._)((0,o._)({},e),(0,r._)({},a.id,(0,o._)({},e[a.id],(0,s.q)(e[a.id]||{},a.current,u)))):e}}),_=(0,a.combineReducers)({applications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{total:0,pages:{},entities:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.meta,o=t.payload;return n===c.V5.GET_SPECIAL_APPLICATIONS.success?(0,s.q)(e,r.current,{total:o.paging.total,data:o.data}):e},censorHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.meta,a=t.payload;return n===c.V5.GET_SPECIAL_APPLY_CENSOR_HISTORY.success?(0,i._)((0,o._)({},e),(0,r._)({},u.draftId,a.data)):e},drafts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.payload;return n===c.V5.GET_SPECIAL_DRAFT.success?(0,i._)((0,o._)({},e),(0,r._)({},u.draftId,u)):e}});function p(e,t){var n=t.id;return e.host.roundtable.applies[n]}function f(e,t){var n=t.id;return e.host.roundtable.details[n]}function T(e,t){var n=t.id,r=t.current;return(0,s.$)(e.host.roundtable.includedResource[n]||{},r)}var E=(0,a.combineReducers)({roundtable:d,special:_})},42412:function(e,t,n){"use strict";n.d(t,{$:function(){return s},q:function(){return c}});var r=n(87320),o=n(55164),i=n(57477),u=n(76931),a=n.n(u),c=function(e,t,n){var u,c=n.total,s=n.data,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},d=l.dataKey,_=void 0===d?"id":d,p=l.pagesKey,f=void 0===p?"pages":p,T=l.entitiesKey,E=void 0===T?"entities":T,h=l.totalKey,v=void 0===h?"total":h,m=s.map(function(e,n){return"index"===_?"".concat(t,"-").concat(n):a()(e,_)});return(0,i._)((0,o._)({},e),(u={},(0,r._)(u,v,c),(0,r._)(u,E,m.reduce(function(e,t,n){return e[t]=s[n],e},(0,o._)({},e[E]||{}))),(0,r._)(u,f,(0,i._)((0,o._)({},e[f]),(0,r._)({},t,m))),u))},s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pagesKey,o=n.entitiesKey,i=n.totalKey,u=e[void 0===i?"total":i],a=e[void 0===o?"entities":o]||{};return{total:u,data:((e[void 0===r?"pages":r]||{})[t]||[]).map(function(e){return a[e]})}}},56683:function(e,t,n){"use strict";n.d(t,{$p:function(){return _},Lp:function(){return E},WM:function(){return m},XG:function(){return p},Zb:function(){return d},bG:function(){return v},bw:function(){return f},md:function(){return h},t8:function(){return T},v9:function(){return A},xo:function(){return l}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(94057),c=n(80714),s=(0,n(39288).FH)("knowledgePlan",["APPLY_ACTIVITY","LOAD_ALL_CREATION_RANK_LIST","LOAD_FEATURED_QUESTIONS","LOAD_LIST","SEND_MESSAGE"]);function l(e){return{meta:{id:e},API:{types:s.APPLY_ACTIVITY,endpoint:"creative-events/zzplan/activity/apply",body:{activity_id:e},method:"POST"}}}function d(e){return{meta:{stateKey:["activityInfo",e]},API:{types:s.LOAD_LIST,endpoint:"creative-events/zzplan/activity_info",query:{activity_id:e}},FAILSAFE:!0}}function _(e){return{meta:{stateKey:["activityStatus",e]},API:{types:s.LOAD_LIST,endpoint:"creative-events/education/season/home/page",query:{activity_id:e}},FAILSAFE:!0}}function p(){return{meta:{stateKey:"activityLives"},API:{types:s.LOAD_LIST,endpoint:"creative-events/education/season/live_list"},FAILSAFE:!0}}function f(){return{meta:{stateKey:"normalContent"},API:{types:s.LOAD_LIST,endpoint:"creative-events/education/season/normal/content"},FAILSAFE:!0}}function T(){return{meta:{stateKey:"goodQuestions"},API:{types:s.LOAD_LIST,endpoint:"creative-events/education/season/good/questions"},FAILSAFE:!0}}function E(e,t){return{meta:{stateKey:["content",e,t]},API:{types:s.LOAD_LIST,endpoint:"/".concat(e,"s/").concat(t,"?include=excerpt,voteup_count")}}}function h(e){return{meta:{stateKey:["kmResource",e]},API:{types:s.LOAD_LIST,root:c.Z.fetchRoot.api,endpoint:"/sku/km_resource",query:{token:e}}}}function v(){return{API:{types:s.SEND_MESSAGE,method:"POST",endpoint:"/creative-events/zzplan/activity/message/send"}}}function m(e,t){return{meta:{stateKey:["creationList",e,t]},API:{types:s.LOAD_LIST,endpoint:"/creative-events/activities/".concat(e,"/creation_lists/").concat(t)}}}function A(e){return{meta:{stateKey:["educationTeamCreationList",e]},API:{types:s.LOAD_LIST,endpoint:"/creative-events/education/season/org_corps_lists/".concat(e)}}}t.ZP=(0,a.combineReducers)({lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.meta,a=t.payload;return n===s.LOAD_LIST.success?(0,i._)((0,o._)({},e),(0,r._)({},u.stateKey,a)):e},allCreationRankList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===s.LOAD_ALL_CREATION_RANK_LIST.success?(0,o._)({},e,r):e},featuredQuestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===s.LOAD_FEATURED_QUESTIONS.request?(0,i._)((0,o._)({},e),{isLoading:!0}):n===s.LOAD_FEATURED_QUESTIONS.failure?(0,i._)((0,o._)({},e),{isLoading:!1}):n===s.LOAD_FEATURED_QUESTIONS.success?(0,i._)((0,o._)((0,i._)((0,o._)({},e),{isLoading:!1}),r),{data:(0,u._)((null==e?void 0:e.data)||[]).concat((0,u._)(r.data))}):e}})},10416:function(e,t,n){"use strict";n.d(t,{S2:function(){return d},T$:function(){return s},ZP:function(){return l},yM:function(){return c}});var r=n(87320),o=n(55164),i=n(57477),u=n(39288),a=(0,o._)({},(0,u.FH)("label",["GET"])),c=function(e,t){return t&&e.label["".concat(t.type,"_").concat(t.id)]};function s(e,t){return{itemType:e,id:t,API:{types:a.GET,endpoint:"/".concat(e,"s/").concat(t,"/labels")}}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===a.GET.success){var n=t.id,u=t.itemType,c=t.payload;e=(0,i._)((0,o._)({},e),(0,r._)({},"".concat(u,"_").concat(n),c))}return e}var d=function(e,t){return t&&"boolean"==typeof t.isLabeled}},69906:function(e,t,n){"use strict";n.d(t,{VZ:function(){return r.VZ},LZ:function(){return r.LZ},W2:function(){return r.W2},kf:function(){return i},Fd:function(){return r.Fd},QT:function(){return r.QT},TS:function(){return r.TS},V6:function(){return r.V6}});var r=n(98104),o=n(87320),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.itemsKey,r=void 0===n?"items":n;return e||(0,o._)({isFetching:!1,isDrained:!1},r,[])}},98104:function(e,t,n){"use strict";n.d(t,{Fd:function(){return T},LZ:function(){return p},QT:function(){return m},TS:function(){return v},V6:function(){return E},VZ:function(){return d},W2:function(){return _}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(75472),c=n.n(a),s=n(23391),l=n.n(s),d=10,_=5,p=20;function f(e){return e.id}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mapActionToKey,a=void 0===n?f:n,c=t.additionalCase,s=t.additionalCaseTypes,l=t.addSuccessType,d=void 0===l?"addSuccessType does not exist":l,_=t.addAtTop,p=void 0===_||_,T=function(){var e,t,n,r,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isDrained:!1,ids:[],newIds:[],totals:0,antiSpider:!1},s=arguments.length>1?arguments[1]:void 0;switch(s.type){case E:return(0,i._)((0,o._)({},a),{isFetching:!0,error:!1,antiSpider:!1});case h:var l=a.ids,_=(s.result||[]).filter(function(e){return!e||!l.includes(e)}),f=s.isPrevious,T=s.isPrevDrained,m=s.isDrained,A=s.previous,I=s.next,y=s.totals,O=s.payload,S=null,g=s.rootComment,C=s.topComments;S=g&&C?f?(0,u._)(_).concat((0,u._)(l)):[g].concat((0,u._)(C.result),(0,u._)(l),(0,u._)(_)):f?(0,u._)(_).concat((0,u._)(l)):(0,u._)(l).concat((0,u._)(_));var N=f||!l.length,R=!f||!l.length;return(0,o._)((0,i._)((0,o._)((0,i._)((0,o._)({},a),{emptyText:(null==O?void 0:O.emptyText)||"",filterItems:null==O?void 0:O.filterItems,isFetching:!1,totals:y,topComments:C,ids:S,newIds:s.result}),N?{isPrevDrained:T,previous:A}:{},R?{isDrained:m,next:I}:{}),{error:!1,sensitiveLevel:null==O?void 0:O.sensitiveLevel,warning:null==O?void 0:O.warning,warnNotes:null==O?void 0:O.warnNotes,antiSpider:!1}),(null==O?void 0:O.session)?{sessionId:O.session.id}:{});case v:if((null===(e=s.err)||void 0===e?void 0:null===(t=e.payload)||void 0===t?void 0:t.code)===101&&(null===(n=s.err)||void 0===n?void 0:null===(r=n.payload)||void 0===r?void 0:r.message)==="ZERR_NOT_LOGIN")return(0,i._)((0,o._)({},a),{isFetching:!1,isDrained:!0,error:!1,antiSpider:!0,ids:[]});return(0,i._)((0,o._)({},a),{isFetching:!1,isDrained:!0,error:!0,antiSpider:!1});case d:return"commercial"===s.question.questionType?a:(0,i._)((0,o._)({},a),{totals:a.totals+1,ids:p?[s.result].concat((0,u._)(a.ids)):(0,u._)(a.ids).concat([s.result]),newIds:p?[s.result].concat((0,u._)(a.newIds)):(0,u._)(a.newIds).concat([s.result])});default:if(c)return c(a,s);return a}},E=e.request,h=e.success,v=e.failure,m=(0,u._)(Object.values(e)).concat((0,u._)(void 0===s?[]:s),[d]);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(m.includes(t.type)){var n=a(t);if(void 0!==n)return(0,i._)((0,o._)({},e),(0,r._)({},n,T(e[n],t)))}return e}}function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mapActionToKey,a=void 0===n?f:n,c=t.additionalCase,s=t.additionalCaseTypes,l=t.addSuccessType,d=void 0===l?"addSuccessType does not exist":l,_=t.addAtTop,T=void 0===_||_,E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{error:void 0,isLoadedOnce:!1,isDrained:!1,isFetching:!1,ids:[],totals:0},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.offset;switch(n){case h:return(0,i._)((0,o._)({},e),{isFetching:!0});case v:var a=t.totals,s=t.isDrained,l=t.result,_=t.limit,f=void 0===_?p:_,E=e.ids,A=(void 0===l?[]:l).filter(function(e){return!E.includes(e)}),I=E.slice(r,r+f).filter(Boolean),y=f-I.length-A.length,O=(0,u._)(I).concat((0,u._)(A),(0,u._)(y<=0?[]:Array.from({length:y}).map(function(){return!1}))),S=a||E.length+A.length;return E.length=S,(0,i._)((0,o._)({},e),{isDrained:s,isLoadedOnce:!0,isFetching:!1,ids:(0,u._)(E.slice(0,r)).concat((0,u._)(O),(0,u._)(E.slice(r+O.length))).slice(0,S),totals:a});case m:var g=t.limit,C=e.ids;return(0,i._)((0,o._)({},e),{error:Error(),isLoadedOnce:!0,isFetching:!1,isDrained:!0,ids:(0,u._)(C.slice(0,r)).concat((0,u._)(Array.from({length:g}).map(function(){return!1})))});case d:var N=e.ids,R=e.totals;return(0,i._)((0,o._)({},e),{totals:R+1,ids:T?[t.result].concat((0,u._)(N)):(0,u._)(N).concat([t.result])});default:if(c)return c(e,t);return e}},h=e.request,v=e.success,m=e.failure,A=(0,u._)(Object.values(e)).concat((0,u._)(void 0===s?[]:s),[d]);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(A.includes(t.type)){var n=a(t);if(void 0!==n)return(0,i._)((0,o._)({},e),(0,r._)({},n,E(e[n],t)))}return e}}function h(e,t){if(Array.isArray(e))return e.concat(t)}var v=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return l().apply(void 0,[{}].concat((0,u._)(t),[h]))};function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.defaultState,u=t.mergeState,a=void 0===u?function(e,t){var n=e.items,r=t.result;return{items:n&&n.length?r.filter(function(e){return!n.find(function(t){return c()(t,e)})}):r,next:t.next}}:u,s=t.additionCase,l=t.keySelector,d=void 0===l?function(e){return e.id}:l,_=(0,o._)({isFetching:!1,isDrained:!1},n);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case e.request:return v(t,(0,r._)({},d(n),(0,i._)((0,o._)({},_),{isFetching:!0})));case e.success:var u=d(n),c=(n.payload||{}).paging,l=(void 0!==c&&c).isEnd;return v(t,(0,r._)({},u,(0,o._)({isFetching:!1,isDrained:l},a(t[u],n))));case e.failure:return v(t,(0,r._)({},d(n),{isFetching:!1,isDrained:!0}));default:if(s)return s(t,n);return t}}}},63315:function(e,t,n){"use strict";n.d(t,{L1:function(){return m},O:function(){return p},S7:function(){return h},Yu:function(){return T},ZP:function(){return y},gf:function(){return A},qo:function(){return f},uJ:function(){return v},zq:function(){return E}});var r=n(55164),o=n(57477),i=n(54231),u=n(74135),a=n(4785),c=n(54826),s=n(66263),l=n(39288),d=n(67927),_=(0,r._)({},(0,l.FH)("login",["DIGITS","LOGIN","VALIDATE_LOGIN_FORM","VALIDATE_LOGIN_DIGITS","GET_WECHAT_SOCIAL_INFO","SMS_IDENTIFY"]),(0,l.co)("login",["RESET_LOGIN_VALIDATE_RESULT"]),(0,l.FH)("qrcodeLogin",["TOKEN","SCAN_STATUS"]));function p(e){return{API:{types:_.SMS_IDENTIFY,endpoint:"v3/oauth/guardians/verify",query:{phone_no:e}}}}function f(e){return{API:{types:_.SMS_IDENTIFY,endpoint:"v3/oauth/guardians/verify",method:"POST",fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,a.Z)({phone_no:e})}}}}function T(e,t){var n={phoneNo:e};return t&&(n.smsType=t),function(e){return e({API:{types:_.DIGITS,endpoint:"v3/oauth/sign_in/digits",method:"POST",fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,a.Z)((0,u.decamelizeKeys)(n))}}}).then(null,function(t){t&&t.err&&120001===t.err.payload.code&&e((0,d.c0)("页面已过期，请刷新重试","red"))})}}function E(e){return function(t){return t({API:{types:_.LOGIN,endpoint:"v3/oauth/sign_in",method:"POST",fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,a.Z)((0,u.decamelizeKeys)(e))}},NOTIFICATION:!1}).catch(function(n){if(null==n?void 0:n.payload){var r=n.payload,o=r.code,u=r.message;if(null==e?void 0:e.refreshToken){(0,c.qz)(),i.ZP.increment("token.error.refresh.".concat(o));return}return t((0,d.c0)(120001===o?"页面已过期，请刷新重试":u,"red"))}})}}function h(){return{type:_.RESET_LOGIN_VALIDATE_RESULT}}function v(e){return function(t){return(t(h()),"digits"===e.grantType)?(e.phoneNo=e.username,t({API:{types:_.VALIDATE_LOGIN_DIGITS,endpoint:"v3/oauth/validate/sign_in/digits",method:"POST",fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,a.Z)((0,u.decamelizeKeys)(e))}}}).then(function(n){if(n&&n.payload&&n.payload.success)return t(E(e))})):t(E(e))}}function m(){return function(e){return e({API:{types:_.TOKEN,endpoint:"v3/account/api/login/qrcode",method:"POST",fetchOptions:{credentials:"include"}},NOTIFICATION:!1})}}function A(e){var t=e.token;return function(e){return e({API:{types:_.SCAN_STATUS,endpoint:"v3/account/api/login/qrcode/".concat(t,"/scan_info"),method:"GET",fetchOptions:{credentials:"include"}},NOTIFICATION:!1})}}var I={loginUnregisteredError:!1,loginBindWechatError:!1,loginConfirmError:null,sendDigitsError:null,needSMSIdentify:!1,validateDigitsError:!1,loginConfirmSucceeded:null,qrcodeLoginToken:"",qrcodeLoginScanStatus:0,qrcodeLoginError:null,qrcodeLoginReturnNewToken:!1};function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=t.type;if(n===_.RESET_LOGIN_VALIDATE_RESULT)return(0,o._)((0,r._)({},I),{qrcodeLoginToken:e.qrcodeLoginToken,qrcodeLoginScanStatus:e.qrcodeLoginScanStatus,qrcodeLoginError:e.qrcodeLoginError,qrcodeLoginReturnNewToken:e.qrcodeLoginReturnNewToken});if(n===_.LOGIN.success){var i=(null==t?void 0:t.payload)||{},u=i.verification,a=i.refreshToken;return a&&(0,c.ZP)(a),(0,o._)((0,r._)({},e),{loginConfirmSucceeded:!0,verification:u})}if(n===_.LOGIN.failure){var d=t.err.payload;return(0,o._)((0,r._)({},e),{loginConfirmSucceeded:!1,loginUnregisteredError:d.code===s.fH,loginBindWechatError:100077===d.code,loginConfirmError:(0,r._)({},e.loginConfirmError,(0,l.O1)(d))})}if(n===_.DIGITS.failure)return(0,o._)((0,r._)({},e),{sendDigitsError:(0,r._)({},e.sendDigitsError,(0,l.O1)(t.err.payload)),needSMSIdentify:410001===t.err.payload.code});if(n===_.VALIDATE_LOGIN_DIGITS.failure)return(0,o._)((0,r._)({},e),{loginConfirmError:(0,r._)({},e.loginConfirmError,(0,l.O1)(t.err.payload))});if(n===_.VALIDATE_LOGIN_DIGITS.success)return t.payload.success?e:(0,o._)((0,r._)({},e),{loginConfirmError:(0,o._)((0,r._)({},e.loginConfirmError),{validateDigitsError:"验证码填写错误"})});if(n===_.TOKEN.failure||n===_.SCAN_STATUS.failure)return(0,o._)((0,r._)({},e),{qrcodeLoginError:t.err.payload});if(n===_.TOKEN.success)return(0,o._)((0,r._)({},e),{qrcodeLoginToken:t.payload.token,qrcodeLoginTokenExpires:t.payload.expiresAt,qrcodeLoginError:null});if(n===_.SCAN_STATUS.success){var p={qrcodeLoginError:null};return t.payload.accessToken?p.loginConfirmSucceeded=!0:(t.payload.newToken&&t.payload.newToken.token&&(p.qrcodeLoginReturnNewToken=!0),p.qrcodeLoginScanStatus=t.payload.status,p.qrcodeLoginToken=t.payload.newToken&&t.payload.newToken.token||e.qrcodeLoginToken,p.qrcodeLoginTokenExpires=t.payload.newToken&&t.payload.newToken.expiresAt||e.qrcodeLoginTokenExpires),(0,r._)({},e,p)}return e}},71240:function(e,t,n){"use strict";n.d(t,{ZP:function(){return d},ko:function(){return s}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899);n(74135),n(58909);var a=n(39288),c=(0,o._)({},(0,a.FH)("mcn",["AGREE_CONTRACT","AGREE_TARGET_SOURCE_CONTRACT","GET_BIND_INFO","SET_BIND_INFO","SET_PINDUODUO_BIND_INFO","REMOVE_BIND_INFO","GET_MEMBER_CATEGORY","SET_MEMBER_CATEGORY","GET_PRODUCER","GET_CATEGORY","GET_SECONDARY_CATEGORY","SEARCH_GOOD","GET_TAOBAO_GOOD","GENERATE_LINK_CARD","UPDATE_LINK_CARD","GET_HOT_CITIES","SEARCH_CITY","GET_CITY_DISTRICTS","LOAD_LIST","LOAD_MCN_PERMISSION","GET_LINK_CARD_URL","LOAD_MCN_BANNER","GET_MCN_QUESTION_RECOMMEND_TABS","GET_MCN_QUESTION_RECOMMEND_LIST","LOAD_REDPACKET","GET_MEMBER_STATUS"]),(0,a.co)("mcn",["CLEAN_CATEGORY","REMOVE_RECENT_ADDED_GOODS"]));function s(e){return{API:{types:c.UPDATE_LINK_CARD,endpoint:"/mcn/linkcard/".concat(e.id),method:"PUT",body:{title:e.title}}}}var l={bindInfo:{},memberCategoryList:[],producerList:[],categoryList:[],lists:{},banners:{},protocolStatus:{isAgreedNew:!0,isAgreedOld:!0},probationCountdownDays:0};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;if(t.type===c.GET_BIND_INFO.success){var n=t.meta.source;return(0,i._)((0,o._)({},e),{bindInfo:(0,i._)((0,o._)({},e.bindInfo),(0,r._)({},n,t.payload))})}if(t.type===c.SET_BIND_INFO.success){var a=t.meta,s=a.source,d=a.pid;return(0,i._)((0,o._)({},e),{bindInfo:(0,i._)((0,o._)({},e.bindInfo),(0,r._)({},s,(0,i._)((0,o._)({},e.bindInfo[s]),{pid:d})))})}if(t.type===c.SET_PINDUODUO_BIND_INFO.success){var _=t.payload.pid;return(0,i._)((0,o._)({},e),{bindInfo:(0,i._)((0,o._)({},e.bindInfo),{pinduoduo:(0,i._)((0,o._)({},e.bindInfo.pinduoduo),{pid:_})})})}if(t.type===c.REMOVE_BIND_INFO.success){var p=t.meta.source;return(0,i._)((0,o._)({},e),{bindInfo:(0,i._)((0,o._)({},e.bindInfo),(0,r._)({},p,(0,i._)((0,o._)({},e.bindInfo[p]),{pid:"",store:{}})))})}if(t.type===c.GET_MEMBER_CATEGORY.success)return(0,i._)((0,o._)({},e),{memberCategoryList:t.payload.data});if(t.type===c.SET_MEMBER_CATEGORY.success){var f=t.meta.categoryList;return(0,i._)((0,o._)({},e),{memberCategoryList:f})}if(t.type===c.GET_PRODUCER.success)return(0,i._)((0,o._)({},e),{producerList:t.payload.data});if(t.type===c.CLEAN_CATEGORY)return(0,i._)((0,o._)({},e),{categoryList:[]});if(t.type===c.GET_CATEGORY.success)return(0,i._)((0,o._)({},e),{categoryList:t.payload.data});if(t.type===c.GET_SECONDARY_CATEGORY.success){var T=t.meta.categoryId;return(0,i._)((0,o._)({},e),{categoryList:e.categoryList.map(function(e){return e.id===T?(0,i._)((0,o._)({},e),{categoryList:t.payload.data}):e})})}if(t.type===c.LOAD_LIST.request){var E=t.meta.key;return(0,i._)((0,o._)({},e),{lists:(0,i._)((0,o._)({},e.lists),(0,r._)({},E,(0,i._)((0,o._)({},e.lists[E]),{isLoading:!0})))})}if(t.type===c.LOAD_LIST.success){var h=t.meta.key,v=t.payload,m=v.data,A=v.paging,I=A.next,y=A.isEnd;return(0,i._)((0,o._)({},e),{lists:(0,i._)((0,o._)({},e.lists),(0,r._)({},h,{data:(0,u._)(e.lists[h].data||[]).concat((0,u._)(m)),paging:{next:I,isEnd:y},isLoading:!1}))})}if(t.type===c.LOAD_LIST.failure){var O=t.meta.key;return(0,i._)((0,o._)({},e),{lists:(0,i._)((0,o._)({},e.lists),(0,r._)({},O,(0,i._)((0,o._)({},e.lists[O]),{isLoading:!1})))})}if(t.type===c.REMOVE_RECENT_ADDED_GOODS){var S,g,C=t.meta.skuid,N=e.lists.recentAddedGoods;return N?(0,i._)((0,o._)({},e),{lists:(0,i._)((0,o._)({},e.lists),{recentAddedGoods:(0,i._)((0,o._)({},N),{data:null!==(g=null===(S=N.data)||void 0===S?void 0:S.filter(function(e){return e.skuid!==C}))&&void 0!==g?g:[]})})}):e}if(t.type===c.LOAD_MCN_BANNER.success){var R=t.meta.stateKey,P=t.payload.data;return(0,i._)((0,o._)({},e),{banners:(0,i._)((0,o._)({},e.banners),(0,r._)({},R,P))})}if(t.type===c.AGREE_CONTRACT.success)return(0,i._)((0,o._)({},e),{protocolStatus:(0,i._)((0,o._)({},e.protocolStatus),{isAgreedNew:!0})});if(t.type===c.GET_MEMBER_STATUS.success){var D=t.payload,L=D.isAgreed,w=D.previousIsAgreed;return(0,i._)((0,o._)({},e),{protocolStatus:{isAgreedNew:L,isAgreedOld:w}})}if(t.type===c.LOAD_MCN_PERMISSION.success){var b=t.payload.probationCountdownDays;return(0,i._)((0,o._)({},e),{probationCountdownDays:b||0})}return e}},38030:function(e,t,n){"use strict";n.d(t,{EV:function(){return v},Lw:function(){return m},fg:function(){return A},nB:function(){return I}});var r,o,i,u,a,c,s=n(87320),l=n(55164),d=n(57477),_=n(49899);n(74135);var p=n(94057),f=n(28953),T=n(58909),E=n(39288),h=(0,l._)({},(0,E.FH)("message",["GET_INBOXES","ADD","MARK_READ","UPDATE_COMMENTPERMISSION","UPDATE_RESHIPMENTSETTINGS"]),(0,E.co)("message",["CURRENT_TAB","INBOX_UNREAD_COUNT"]));function v(e){return function(t,n){var r=n(),o=r.messages,i=r.messages.currentTab,u=(!e&&o.data[i]||{}).next;return t({reFetch:e,currentTab:i,API:{types:h.GET_INBOXES,endpoint:u||("stranger"===i?"stranger_inbox":"inbox")},schema:f.l.MESSAGE_ARRAY})}}function m(e){return{currentTab:e,type:h.CURRENT_TAB}}function A(){return function(e,t){var n=t(),r=n.entities.messages,o=n.messages,i=o.currentTab,u=o.data[i].ids.filter(function(e){return r[e].unreadCount>0});return u.length?e({API:{types:h.MARK_READ,endpoint:"messages/actions/mark-as-read",method:"POST",body:{type:i,tokens:u}}}):null}}function I(e){var t=e.event_name,n=e.data;if("INBOX_UNREAD_COUNT"===t)return{type:h.INBOX_UNREAD_COUNT,payload:n}}t.ZP=(0,p.combineReducers)({data:(r=h.GET_INBOXES,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:if(t.reFetch)return c;return(0,d._)((0,l._)({},e),{isFetching:!0});case u:var n=t.result,r=t.next,o=t.isDrained,s=e.ids;return(0,d._)((0,l._)({},e),{isFetching:!1,isDrained:o,next:r,ids:(0,_._)(s).concat((0,_._)(n.filter(function(e){return!s.includes(e)})))});case a:return(0,d._)((0,l._)({},e),{isFetching:!1,isDrained:!0});default:return e}},i=r.request,u=r.success,a=r.failure,c={isFetching:!1,isDrained:!1,ids:[]},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.currentTab;switch(n){case i:case u:case a:return(0,d._)((0,l._)({},e),(0,s._)({},r,o(e[r],t)));default:return e}}),currentTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"common",t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.currentTab;return n===h.CURRENT_TAB?r:e},messageCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===h.INBOX_UNREAD_COUNT?r:n===T.Hp.GET.success?t.payload.messagesCount:e}})},9273:function(e,t,n){"use strict";n.d(t,{Hp:function(){return u},Id:function(){return d},OT:function(){return l},Pb:function(){return s},T_:function(){return c}});var r,o=n(55164),i=n(39288),u=(0,o._)({},(0,i.FH)("negativeFeedback",["NEGATIVE_FEEDBACK_UNINTERESTED","NEGATIVE_FEEDBACK_CONTENT"])),a={ANSWER:1,ARTICLE:3,QUESTION:23,DRAMA:30,ZVIDEO:28},c={lessSimilar:"less_similar",author:"author"},s=(r={},["repeat","quality"].forEach(function(e){return r[e]=e}),r);function l(e){var t=e.uninterestedType,n=e.contentType,r=void 0===n?a.ZVIDEO:n,o=e.contentToken,i=e.index,c=e.blocked,s=void 0===c||c;return{API:{types:u.NEGATIVE_FEEDBACK_UNINTERESTED,method:s?"POST":"DELETE",endpoint:"/v3/feed/uninterested",query:{uninterested_type:t,content_type:r,content_token:o}},NOTIFICATION:{failure:s?"网络故障，请稍后重试":"网络差撤销失败，请重试"},index:i,blocked:s,blockedType:{uninterestedType:t}}}function d(e){var t=e.reportType,n=e.sectionName,r=e.contentType,o=void 0===r?a.ZVIDEO:r,i=e.contentToken,c=e.index,s=e.blocked,l=void 0===s||s;return{API:{types:u.NEGATIVE_FEEDBACK_CONTENT,method:l?"POST":"DELETE",endpoint:"/v3/feed/wechat-robot",query:{report_type:t,section_name:void 0===n?"全站":n,content_type:o,content_token:i}},NOTIFICATION:{failure:l?"网络故障，请稍后重试":"网络差撤销失败，请重试"},index:c,blocked:l,blockedType:{reportType:t}}}},67927:function(e,t,n){"use strict";n.d(t,{$b:function(){return d},V8:function(){return c},XR:function(){return _},ZP:function(){return m},_X:function(){return T},c0:function(){return E},zQ:function(){return s}});var r=n(87320),o=n(55164),i=n(57477),u=n(31824),a=(0,n(39288).co)("notification",["SHOW","CLEAR"]),c="global",s="comment",l="askQuestion",d="editQuestion",_="出错了！请稍后再试。",p={},f=[c,l,d,s],T=(0,u.P1)(function(e){return e.notification},function(e){return f.reduce(function(t,n){var r=e[n];return!t&&r||r&&r.timestamp>t.timestamp?r:t},null)});function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=arguments.length>3?arguments[3]:void 0;return{type:a.SHOW,NOTIFICATION:{key:n,text:e,theme:t,zaProps:r}}}function h(e){return e.err?e.err.payload:e.result?e.result.error:null}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_,n=e||{},r=n.code,o=n.message;return p[r]||o||t}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.requestMethod,_=t.NOTIFICATION;if(n===a.CLEAR){var p=_.key;return(0,i._)((0,o._)({},e),(0,r._)({},p,null))}if(_&&!0!==_){var f=_.text,T=_.theme,E=_.success,m=_.failure,A=_.key,I=void 0===A?c:A,y=_.zaProps;if(f&&T)return(0,i._)((0,o._)({},e),(0,r._)({},I,{text:f,theme:T,timestamp:Date.now(),zaProps:y}));if(E&&n.endsWith("success")){var O="function"==typeof E?E(t.payload):E;return(0,i._)((0,o._)({},e),(0,r._)({},I,(0,o._)({text:"string"==typeof O&&O,theme:"white",timestamp:Date.now(),zaProps:y},O)))}if(m&&n.endsWith("failure")){var S=h(t),g="function"==typeof m?m(S,t):m;if(!g)return e;var C=v(S,g);return(0,i._)((0,o._)({},e),(0,r._)({},I,(0,o._)({text:C,theme:I===s||I===l||I===d?"red-ghost":"red",timestamp:Date.now(),zaProps:y},g)))}return e}if(!1!==_&&n.endsWith("failure")&&"GET"!==(void 0===u?"GET":u)){var N=v(h(t));return(0,i._)((0,o._)({},e),(0,r._)({},c,{text:N,theme:"red",timestamp:Date.now()}))}return e}},78303:function(e,t,n){"use strict";n.d(t,{Hp:function(){return a},Ph:function(){return s},VN:function(){return f},bN:function(){return d},eC:function(){return _},gb:function(){return p},ix:function(){return c}});var r=n(55164),o=n(84),i=n(28953),u=n(39288),a=(0,r._)({},(0,u.FH)("notifications",["GET_RECENT","GET_HISTORY","GET_NOTIFICATION_ACTORS","MARK_ALL_READ"]),(0,u.co)("notifications",["CHANGE_RECENT_NOTIFICATION_ENTRY","CLEAR_NOTIFICATION_ACTORS"])),c=function(){return function(e,t){var n=t().notifications,r=n.recent,o=r.next,u=r.key,c=n.recentNotificationEntry;return e({key:c,API:{types:a.GET_RECENT,endpoint:u===c&&o?o:"notifications/v2/recent?entry_name=".concat(c)},schema:i.l.NOTIFICATION_ARRAY})}},s=function(){return function(e,t){var n=t().notifications.history.next;return e({API:{types:a.GET_HISTORY,endpoint:n||"notifications/v2/all?offset=-1"},schema:i.l.NOTIFICATION_ARRAY})}},l=new o.fK.Array(new o.fK.Object({target:i.l.USER})),d=function(e){return function(t,n){var r=n().notifications.notificationActors,o=r.next,i=r.key;return t({key:e,API:{types:a.GET_NOTIFICATION_ACTORS,endpoint:i===e&&o?o:"notifications/v2/timeline/".concat(e,"/actors")},schema:l})}},_=function(e){return{type:a.CHANGE_RECENT_NOTIFICATION_ENTRY,entry:e}},p=function(){return{type:a.CLEAR_NOTIFICATION_ACTORS}},f=function(){return{API:{types:a.MARK_ALL_READ,endpoint:"notifications/v2/timeline/actions/readall",method:"POST"}}}},6438:function(e,t,n){"use strict";n.d(t,{Lj:function(){return C},QV:function(){return F},R8:function(){return x},Rd:function(){return J},SN:function(){return N},XD:function(){return q},Yg:function(){return X},_u:function(){return D},cR:function(){return B},ck:function(){return L},eB:function(){return Z},hK:function(){return $},hr:function(){return P},jJ:function(){return k},t:function(){return R}});var r=n(87320),o=n(55164),i=n(57477),u=n(71728),a=n(49899),c=n(74135),s=n(84),l=n(94057),d=n(28953),_=n(46467),p=n(44900),f=n(84054),T=n.n(f),E=n(80714),h=n(39288),v=n(98171),m=n(10886),A=n(69906),I=n(9435),y=n(31857),O=n(28814),S=new s.fK.Array(d.l.ZVIDEO),g=(0,o._)({},(0,h.FH)("people",["GET","GET_MEMBER","GET_ACTIVITIES","GET_PUBLICATIONS","GET_ANSWERS","GET_ANSWERS_SORT_BY_VOTES","GET_ANSWERS_INCLUDED","GET_ZVIDEOS","GET_ARTICLES","GET_ARTICLES_SORT_BY_VOTES","GET_ARTICLES_INCLUDED","GET_PINS","GET_COLUMNS","GET_QUESTIONS","GET_COMMERCIAL_QUESTIONS","GET_FAVLISTS","GET_FOLLOWINGS","GET_FOLLOWERS","GET_FOLLOWING_COLUMNS","GET_FOLLOWING_QUESTIONS","GET_FOLLOWING_FAVLISTS","GET_FOLLOWING_TOPICS","GET_RELATIONS_VOTED","GET_RELATIONS_THANKED","GET_VOTE_ANSWERS","GET_VOTED_ANSWERS","GET_THANK_ANSWERS","GET_THANKED_ANSWERS","GET_IKNOW_FOLLOWERS","GET_TOPIC_ANSWERS","GET_ALL_FAVLISTS","GET_BRANDS","GET_CREATIONS","GET_CREATIONS_SORT_BY_VOTES","GET_CREATIONS_FEED","GET_INFINITY_INFO","UPDATE","UPDATE_SHIELD","DELETE_COLUMN","GET_BATCH_USERS","GET_PROFILE_INFINITY"]),(0,h.co)("people",["CHANGE_ANSWER_ORDER","CHANGE_ARTICLE_ORDER","CHANGE_ANSWERS_TOPIC","MARK_USER_STATUS","CLEAR_CREATION_FEED","TOGGLE_USER_BLOCKING"]));function C(e,t){var n=("string"==typeof t?{include:t}:t)||{},r=n.include,i=n.types,a=(0,u._)(n,["include","types"]);return(0,o._)({API:{types:i||g.GET_MEMBER,endpoint:"members/".concat(encodeURIComponent(e)),query:{include:r}},schema:d.l.USER},a)}function N(e){return{API:{types:g.GET_PROFILE_INFINITY,endpoint:"profile/".concat(e,"/infinity")}}}function R(e,t){return{type:g.TOGGLE_USER_BLOCKING,UPDATE:{update:{users:(0,r._)({},e,{isBlocking:t})}}}}function P(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0;return function(o){return o(C(e,{include:"juror,locations,employments,gender,educations,business,mcn_company,voteup_count,thanked_Count,follower_count,following_count,cover_url,following_topic_count,following_question_count,following_favlists_count,following_columns_count,avatar_hue,answer_count,zvideo_count,articles_count,pins_count,question_count,columns_count,commercial_question_count,favorite_count,favorited_count,logs_count,included_answers_count,included_articles_count,included_text,message_thread_token,account_status,is_active,is_bind_phone,is_force_renamed,is_privacy_protected,is_blocking,is_blocked,is_following,is_followed,mutual_followees_count,vote_to_count,vote_from_count,thank_to_count,thank_from_count,thanked_count,description,hosted_live_count,participated_live_count,allow_message,widgets,industry_category,org_name,org_homepage,is_org_createpin_white_user,badge[?(type=best_answerer)].topics",types:g.GET,isOwnProfile:t,NOTIFICATION:!1})).catch(function(t){var i=t.payload,u=(void 0===i?{}:i).message;return n?o({type:g.MARK_USER_STATUS,UPDATE:{update:{users:(0,r._)({},e,{errorMessage:u})}}}):Promise.reject(t)})}}function D(e){return C(e,"allow_message,is_followed,is_following,is_org,is_blocking,employments,answer_count,follower_count,articles_count,gender,badge[?(type=best_answerer)].topics")}function L(e,t){return function(n,o){var i=o(),u=i.entities.users,a=i.currentUser,s=u[a],l=(0,c.decamelizeKeys)(t||e);return n({API:{types:g.UPDATE,endpoint:"me",method:"PUT",query:{include:"".concat(Object.keys(l).join(","),",cover_url,verify_apply")},fetchOptions:{zsEncrypt:!0,body:l}},UPDATE:{request:{users:(0,r._)({},a,e||s)},success:function(e){return{users:(0,r._)({},a,e)}},failure:{users:(0,r._)({},a,s)}}})}}var w=(0,r._)({},E.Z.isMobileEntry?"mobile":"desktop",!0);function b(e){var t=e.urlToken,n=e.topicId,r=e.types,i=e.resource,u=void 0===i?"answers":i,a=e.offset,c=void 0===a?0:a,s=e.sortBy,l=e.endpoint,_=e.limit,p=void 0===_?A.W2:_,f=["data[*].is_normal,","admin_closed_comment,","reward_info,","is_collapsed,","annotation_action,","annotation_detail,","collapse_reason,","collapsed_by,","suggest_edit,","comment_count,","can_comment,","content,","editable_content,","attachment,","voteup_count,","reshipment_settings,","comment_permission,","mark_infos,","created_time,","updated_time,","review_info,","excerpt,","paid_info,","reaction_instruction,",n?"":"is_labeled,label_info,","relationship.is_authorized,","voting,is_author,","is_thanked,","is_nothelp;","data[*].vessay_info;","data[*].author.badge[?(type=best_answerer)].topics;","data[*].author.vip_info;","data[*].question.has_publishing_draft,","relationship"].join("");return{urlToken:t,topicId:n,API:(0,o._)({types:r},l?{endpoint:l}:{endpoint:"members/".concat(encodeURIComponent(t),"/").concat(u),query:{include:f,offset:c,limit:p,sortBy:void 0===s?"created":s}}),limit:p,offset:c,schema:d.l.ANSWER_ARRAY}}function G(e,t){var n=t.endpoint,r=t.sortBy,o=void 0===r?"created":r,i=t.offset,u=t.limit,a={urlToken:e,endpoint:n,offset:i,limit:void 0===u?A.W2:u,types:{created:g.GET_ANSWERS,voteups:g.GET_ANSWERS_SORT_BY_VOTES,included:g.GET_ANSWERS_INCLUDED}[o]};return"included"===o?(a.resource="marked-answers",a.sortBy="created"):a.sortBy=o,b(a)}function U(e,t){var n=t.endpoint,r=t.sortBy,i=void 0===r?"created":r,u=t.offset,a=void 0===u?0:u,c=t.limit,s=void 0===c?A.W2:c,l={created:g.GET_ARTICLES,voteups:g.GET_ARTICLES_SORT_BY_VOTES,included:g.GET_ARTICLES_INCLUDED};return{urlToken:e,offset:a,limit:s,API:(0,o._)({types:l[i]},n?{endpoint:n}:{endpoint:"members/".concat(encodeURIComponent(e),"/").concat("included"===i?"included-articles":"articles"),query:{include:"data[*].comment_count,suggest_edit,is_normal,thumbnail_extra_info,thumbnail,can_comment,comment_permission,admin_closed_comment,content,voteup_count,created,updated,upvoted_followees,voting,review_info,reaction_instruction,is_labeled,label_info;data[*].vessay_info;data[*].author.badge[?(type=best_answerer)].topics;data[*].author.vip_info;",offset:a,limit:s,sortBy:i}}),schema:d.l.ARTICLE_ARRAY}}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.endpoint,r=t.offset,i=void 0===r?0:r,u=t.limit,a=void 0===u?A.VZ:u,c=t.isAll;return{urlToken:e,API:(0,o._)({types:c?g.GET_ALL_FAVLISTS:g.GET_FAVLISTS},n?{endpoint:n}:{endpoint:"people/".concat(encodeURIComponent(e),"/collections"),query:{include:"data[*].updated_time,answer_count,follower_count,creator,description,is_following,comment_count,created_time;data[*].creator.vip_info",offset:i,limit:a}}),offset:i,schema:d.l.FAVLIST_ARRAY}}function M(e){var t=e.urlToken,n=e.resource,r=e.types,i=e.endpoint,u=e.offset,a=e.limit;return{urlToken:t,API:(0,o._)({types:r},i?{endpoint:i}:{endpoint:"members/".concat(encodeURIComponent(t),"/").concat(n),query:{include:"data[*].answer_count,articles_count,gender,follower_count,is_followed,is_following,badge[?(type=best_answerer)].topics",offset:u,limit:a}}),offset:u,schema:d.l.USER_ARRAY}}function F(e,t){var n=t.endpoint,r=t.offset,i=void 0===r?0:r,u=t.limit,a=void 0===u?A.VZ:u;return{urlToken:e,API:(0,o._)({types:g.GET_FOLLOWING_FAVLISTS},n?{endpoint:n}:{endpoint:"members/".concat(encodeURIComponent(e),"/following-favlists"),query:{include:"data[*].updated_time,answer_count,follower_count,creator,description,is_following,comment_count,created_time",offset:i,limit:a}}),offset:i,schema:d.l.FAVLIST_ARRAY}}function Z(e,t){return function(n,u){var a=u().entities.users[e];return n({columnId:t,memberToken:e,API:{types:g.DELETE_COLUMN,endpoint:"columns/".concat(t,"/coauthors/").concat(e),method:"DELETE"},UPDATE:{success:function(){return{users:(0,r._)({},e,(0,i._)((0,o._)({},a),{columnsCount:a.columnsCount-1}))}}}})}}function B(e,t){return function(n,o){var i=o().entities.users[e];return n({API:{types:g.UPDATE_SHIELD,endpoint:"members/".concat(encodeURIComponent(e),"/actions/block"),method:t?"POST":"DELETE"},UPDATE:{request:{users:(0,r._)({},e,{isBlocking:t})},failure:{users:(0,r._)({},e,i)}}})}}function H(e,t){var n=t.topicId,r=t.sortBy,i=void 0===r?"created":r,u=t.offset,a=void 0===u?0:u,c=t.limit,s=void 0===c?A.W2:c,l=t.endpoint,_={created:g.GET_CREATIONS,votenum:g.GET_CREATIONS_SORT_BY_VOTES};return{urlToken:e,offset:a,limit:s,topicId:n,API:(0,o._)({types:_[i]},l?{endpoint:l}:{endpoint:"members/".concat(encodeURIComponent(e),"/topics/").concat(n,"/creations"),query:{offset:a,limit:s,sortBy:i}}),schema:d.l.CREATION_ARRAY}}function q(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.offset,u=n.limit,a=n.topicId;return function(n,c){var s,l,_,p,f,h,v,m,I,y,O,C,N,R,P,D,L,Z,B,q,x,V,z,K,W,Y,Q,j,X,J,$,ee,et,en,er,eo,ei,eu,ea,ec,es,el,ed,e_,ep,ef,eT,eE,eh,ev,em,eA,eI,ey,eO,eS,eg,eC,eN,eR,eP,eD,eL,ew,eb,eG,eU,ek,eM,eF,eZ,eB,eH,eq,ex,eV,ez,eK,eW,eY,eQ,ej,eX,eJ,e$=c(),e0=e$.people,e1=e$.currentUser,e2=(e0["".concat(t,"ByUser")][e]||{}).next,e5=r||!e2?{offset:r,limit:u}:{endpoint:e2};switch(t){case"activities":return n({urlToken:s=e,API:{types:g.GET_ACTIVITIES,endpoint:e2||"v3/moments/".concat(encodeURIComponent(s),"/activities"),query:!e2&&(0,o._)({limit:A.W2},w),headers:{"X-API-VERSION":"3.0.40"}},FAILSAFE:{timeout:3e3},schema:d.l.ACTIVITY_ARRAY});case"answers":return n(G(e,e5));case"answersSortByVotes":return n(G(e,(0,o._)({sortBy:"voteups"},e5)));case"answersIncluded":return n(G(e,(0,o._)({sortBy:"included"},e5)));case"votedAnswers":return n((l=e,_=e5.endpoint,b({urlToken:l,endpoint:_,offset:void 0===(p=e5.offset)?0:p,limit:void 0===(f=e5.limit)?A.W2:f,types:g.GET_VOTED_ANSWERS,resource:"relations/voted"})));case"thankedAnswers":return n((h=e,v=e5.endpoint,b({urlToken:h,endpoint:v,offset:void 0===(m=e5.offset)?0:m,limit:void 0===(I=e5.limit)?A.W2:I,types:g.GET_THANKED_ANSWERS,resource:"relations/thanked"})));case"voteAnswers":return n((y=e,O=e5.endpoint,b({urlToken:y,endpoint:O,offset:void 0===(C=e5.offset)?0:C,limit:void 0===(N=e5.limit)?A.W2:N,types:g.GET_VOTE_ANSWERS,resource:"relations/vote"})));case"thankAnswers":return n((R=e,P=e5.endpoint,b({urlToken:R,endpoint:P,offset:void 0===(D=e5.offset)?0:D,limit:void 0===(L=e5.limit)?A.W2:L,types:g.GET_THANK_ANSWERS,resource:"relations/thank"})));case"topicAnswers":return n((Z=e,q=(B=(0,o._)({topicId:a},e5)).endpoint,x=B.topicId,b({topicId:x,urlToken:Z,endpoint:q,offset:void 0===(V=B.offset)?0:V,limit:void 0===(z=B.limit)?A.W2:z,types:g.GET_TOPIC_ANSWERS,resource:"topics/".concat(x,"/answers")})));case"zvideos":return n((K=e,Y=void 0===(W=e5.offset)?0:W,j=void 0===(Q=e5.limit)?A.W2:Q,{urlToken:K,API:{types:g.GET_ZVIDEOS,endpoint:"/members/".concat(encodeURIComponent(K),"/zvideos"),query:{offset:Y,limit:j,similarAggregation:!0,include:T()({similar_zvideo:!0,creation_relationship:!0,reaction_instruction:!0})}},offset:Y,limit:j,schema:S}));case"articles":return n(U(e,e5));case"pins":return n((X=e,$=void 0===(J=e5.offset)?0:J,et=void 0===(ee=e5.limit)?A.W2:ee,{urlToken:X,API:{types:g.GET_PINS,endpoint:"/v2/pins/".concat(encodeURIComponent(X),"/moments"),query:{offset:$,limit:et,includes:"data[*].upvoted_followees,admin_closed_comment"}},offset:$,limit:et,schema:d.l.PIN_ARRAY}));case"articlesSortByVotes":return n(U(e,(0,o._)({sortBy:"voteups"},e5)));case"articlesIncluded":return n(U(e,(0,o._)({sortBy:"included"},e5)));case"columns":return n((en=e,er=e5.endpoint,ei=void 0===(eo=e5.offset)?0:eo,ea=void 0===(eu=e5.limit)?A.VZ:eu,{urlToken:en,offset:ei,API:(0,o._)({types:g.GET_COLUMNS},er?{endpoint:er}:{endpoint:"members/".concat(encodeURIComponent(en),"/column-contributions"),query:{include:"data[*].column.intro,followers,articles_count,voteup_count,items_count",offset:ei,limit:ea}}),schema:d.l.COLUMN_CONTRIBUTION_ARRAY}));case"questions":return n((ec=e,es=e5.endpoint,ed=void 0===(el=e5.offset)?0:el,ep=void 0===(e_=e5.limit)?A.VZ:e_,{urlToken:ec,offset:ed,API:(0,o._)({types:g.GET_QUESTIONS},es?{endpoint:es}:{endpoint:"members/".concat(encodeURIComponent(ec),"/questions"),query:{include:"data[*].created,answer_count,follower_count,author,admin_closed_comment",offset:ed,limit:ep}}),schema:d.l.QUESTION_ARRAY}));case"commercialQuestions":return n((ef=e,eT=e5.endpoint,eh=void 0===(eE=e5.offset)?0:eE,em=void 0===(ev=e5.limit)?A.VZ:ev,{urlToken:ef,offset:eh,API:(0,o._)({types:g.GET_COMMERCIAL_QUESTIONS},eT?{endpoint:eT}:{endpoint:"members/".concat(encodeURIComponent(ef),"/commercial-questions"),query:{include:"data[*].created,answer_count,follower_count,author,is_muted,question_type,admin_closed_comment",offset:eh,limit:em}}),schema:d.l.COMMERCIAL_QUESTION_ARRAY}));case"favlists":return n(k(e,e5));case"following":return n((eA=e,eI=e5.endpoint,ey=e5.offset,eS=void 0===(eO=e5.limit)?A.VZ:eO,M({urlToken:eA,types:g.GET_FOLLOWINGS,resource:"followees",offset:void 0===ey?0:ey,endpoint:eI,limit:eS})));case"followers":return n((eg=e,eC=e5.endpoint,eN=e5.offset,eP=void 0===(eR=e5.limit)?A.VZ:eR,M({urlToken:eg,types:g.GET_FOLLOWERS,resource:"followers",endpoint:eC,offset:void 0===eN?0:eN,limit:eP})));case"mutuals":return n((eD=e,eL=e5.endpoint,ew=e5.offset,eG=void 0===(eb=e5.limit)?A.VZ:eb,(0,i._)((0,o._)({},M({urlToken:eD,types:g.GET_IKNOW_FOLLOWERS,resource:"relations/mutuals",offset:void 0===ew?0:ew,endpoint:eL,limit:eG})),{NOTIFICATION:!1})));case"followingColumns":return n((eU=e,ek=e5.endpoint,eF=void 0===(eM=e5.offset)?0:eM,eB=void 0===(eZ=e5.limit)?A.VZ:eZ,{urlToken:eU,API:(0,o._)({types:g.GET_FOLLOWING_COLUMNS},ek?{endpoint:ek}:{endpoint:"members/".concat(encodeURIComponent(eU),"/following-columns"),query:{include:"data[*].intro,followers,articles_count,voteup_count,items_count",offset:eF,limit:eB}}),offset:eF,schema:d.l.COLUMN_ARRAY}));case"followingQuestions":return n((eH=e,eq=e5.endpoint,eV=void 0===(ex=e5.offset)?0:ex,eK=void 0===(ez=e5.limit)?A.VZ:ez,{urlToken:eH,API:(0,o._)({types:g.GET_FOLLOWING_QUESTIONS},eq?{endpoint:eq}:{endpoint:"members/".concat(encodeURIComponent(eH),"/following-questions"),query:{include:"data[*].created,answer_count,follower_count,author",offset:eV,limit:eK}}),offset:eV,schema:d.l.QUESTION_ARRAY}));case"followingFavlists":return n(F(e,e5));case"followingTopics":return n((eW=e,eY=e5.endpoint,ej=void 0===(eQ=e5.offset)?0:eQ,eJ=void 0===(eX=e5.limit)?A.VZ:eX,{urlToken:eW,API:(0,o._)({types:g.GET_FOLLOWING_TOPICS},eY?{endpoint:eY}:{endpoint:"/topics/".concat(encodeURIComponent(eW),"/following_topics_contributions"),root:"".concat(E.Z.fetchRoot.www,"/api/v5.1/"),query:{include:"data[*].topic.introduction",offset:ej,limit:eJ}}),offset:ej,schema:d.l.TOPIC_CONTRIBUTION_ARRAY}));case"publications":return n(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.endpoint,r=t.offset,i=void 0===r?0:r;return{urlToken:e,API:(0,o._)({types:g.GET_PUBLICATIONS},n?{endpoint:n}:{root:E.Z.fetchRoot.api,endpoint:"/books/people/".concat(encodeURIComponent(e),"/publications"),query:{offset:i,limit:5}}),offset:i,schema:d.l.EBOOK_ARRAY,FAILSAFE:!1}}(e,e5));case"allFavlists":e=e||e1;var e3=(e0["".concat(t,"ByUser")][e]||{}).next;return n(k(e,(0,o._)({isAll:!0},{endpoint:e3})));case"creations":return n(H(e,(0,o._)({topicId:a,sortBy:"created"},e5)));case"creationsSortByVotes":return n(H(e,(0,o._)({topicId:a,sortBy:"votenum"},e5)));default:return Promise.reject(Error("Mismatched loadItems ".concat(t)))}}}function x(e){return{API:{types:g.GET_BRANDS,endpoint:"/brand/".concat(e,"/brands")}}}var V=(0,A.V6)(g.GET_COLUMNS,{mapActionToKey:function(e){return e.urlToken}}),z=(0,A.V6)(g.DELETE_COLUMN,{mapActionToKey:function(e){return e}}),K=(0,A.V6)(g.GET_FOLLOWING_TOPICS,{mapActionToKey:function(e){return e.urlToken},additionalCaseTypes:[y.Hp.UPDATE_FOLLOW.success],additionalCase:function(e,t){if(t.type===y.Hp.UPDATE_FOLLOW.success){var n=t.topicId,r=e.ids,u=e.totals;if(!r.includes(n))return(0,i._)((0,o._)({},e),{totals:u+1,ids:[n].concat((0,a._)(r))})}return e}}),W=(0,A.V6)(g.GET_TOPIC_ANSWERS,{mapActionToKey:function(e){return e.topicId}}),Y=(0,A.V6)(g.GET_CREATIONS,{mapActionToKey:function(e){return e.topicId}}),Q=(0,A.V6)(g.GET_CREATIONS_SORT_BY_VOTES,{mapActionToKey:function(e){return e.topicId}}),j=function(e){return e.urlToken};function X(e,t){var n=t.id,r=t.urlToken,o=n||r,i=e.people.profileStatus;return i[o]||Object.values(i).find(function(e){return e&&e.token&&(e.token.urlToken===o||e.token.id===o)})}var J=function(e,t){var n=t.urlToken,r=e.entities.users;return r[n]||Object.values(r).find(function(e){return e.id===n})||r["知乎用户"]},$=function(e,t){var n=t.urlToken,r=t.resourceName;return e.people[r][n]};t.ZP=(0,l.combineReducers)({profileStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.GET.failure:case g.GET.success:return(0,i._)((0,o._)({},e),(0,r._)({},t.result,(0,i._)((0,o._)({},t.payload&&{token:{id:t.payload.id,urlToken:t.payload.urlToken}}),{isFetching:!1,isDrained:!0})));default:return e}},activitiesByUser:(0,A.Fd)(g.GET_ACTIVITIES,{mapActionToKey:j}),answersByUser:E.Z.isMobileEntry?(0,A.Fd)(g.GET_ANSWERS,{mapActionToKey:j}):(0,A.V6)(g.GET_ANSWERS,{mapActionToKey:j}),answersSortByVotesByUser:(0,A.V6)(g.GET_ANSWERS_SORT_BY_VOTES,{mapActionToKey:j}),answersIncludedByUser:(0,A.V6)(g.GET_ANSWERS_INCLUDED,{mapActionToKey:j}),votedAnswersByUser:(0,A.V6)(g.GET_VOTED_ANSWERS,{mapActionToKey:j}),thankedAnswersByUser:(0,A.V6)(g.GET_THANKED_ANSWERS,{mapActionToKey:j}),voteAnswersByUser:(0,A.V6)(g.GET_VOTE_ANSWERS,{mapActionToKey:j}),thankAnswersByUser:(0,A.V6)(g.GET_THANK_ANSWERS,{mapActionToKey:j}),topicAnswersByUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.urlToken;return Object.values(g.GET_TOPIC_ANSWERS).includes(n)?(0,r._)({},o,W(e[o],t)):e},zvideosByUser:(0,A.V6)(g.GET_ZVIDEOS,{mapActionToKey:j}),articlesByUser:E.Z.isMobileEntry?(0,A.Fd)(g.GET_ARTICLES,{mapActionToKey:j}):(0,A.V6)(g.GET_ARTICLES,{mapActionToKey:j}),articlesSortByVotesByUser:(0,A.V6)(g.GET_ARTICLES_SORT_BY_VOTES,{mapActionToKey:j}),articlesIncludedByUser:(0,A.V6)(g.GET_ARTICLES_INCLUDED,{mapActionToKey:j}),pinsByUser:(0,A.V6)(g.GET_PINS,{mapActionToKey:j}),questionsByUser:E.Z.isMobileEntry?(0,A.Fd)(g.GET_QUESTIONS,{mapActionToKey:j,addSuccessType:I.Hp.ADD.success}):(0,A.V6)(g.GET_QUESTIONS,{mapActionToKey:j,addSuccessType:I.Hp.ADD.success}),commercialQuestionsByUser:(0,A.V6)(g.GET_COMMERCIAL_QUESTIONS,{mapActionToKey:j}),favlistsByUser:(0,A.V6)(g.GET_FAVLISTS,{mapActionToKey:j,additionalCaseTypes:[v.Hp.ADD.success,v.Hp.UPDATE.success,v.Hp.DELETE.success],additionalCase:v.Nn,addSuccessType:_.Z.ADD.SUCCESS}),followingByUser:(0,A.V6)(g.GET_FOLLOWINGS,{mapActionToKey:j,additionalCaseTypes:[O.cw.UPDATE_FOLLOWERS.success],additionalCase:function(e,t){var n=t.type,r=t.expect,u=t.userUrlToken;if(n===O.cw.UPDATE_FOLLOWERS.success&&r){var c=e.ids,s=e.totals;if(!c.includes(u))return(0,i._)((0,o._)({},e),{totals:s+1,ids:[u].concat((0,a._)(c))})}return e}}),followersByUser:(0,A.V6)(g.GET_FOLLOWERS,{mapActionToKey:j}),mutualsByUser:(0,A.Fd)(g.GET_IKNOW_FOLLOWERS,{mapActionToKey:j}),followingColumnsByUser:(0,A.V6)(g.GET_FOLLOWING_COLUMNS,{mapActionToKey:j,additionalCaseTypes:[m.Pu.UPDATE_FOLLOW.success],additionalCase:function(e,t){var n=t.type,r=t.expect,u=t.columnId;if(n===m.Pu.UPDATE_FOLLOW.success&&r){var c=e.ids,s=e.totals;if(!c.includes(u))return(0,i._)((0,o._)({},e),{totals:s+1,ids:[u].concat((0,a._)(c))})}return e}}),followingQuestionsByUser:(0,A.V6)(g.GET_FOLLOWING_QUESTIONS,{mapActionToKey:j,addSuccessType:I.Hp.ADD.success}),followingFavlistsByUser:(0,A.V6)(g.GET_FOLLOWING_FAVLISTS,{mapActionToKey:j}),followingTopicsByUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.urlToken;if(Object.values(g.GET_FOLLOWING_TOPICS).includes(n)){var a=t.result||[];t.result=a.map(function(e){return e.topic});var c=e[u]||{isFetching:!1,isDrained:!1,totals:0,ids:[],contributions:{}};return K((0,i._)((0,o._)({},e),(0,r._)({},u,(0,i._)((0,o._)({},c),{contributions:a.reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,r._)({},t.topic,t.contributionsCount))},c.contributions)}))),t)}return e},publicationsByUser:(0,A.Fd)(g.GET_PUBLICATIONS,{mapActionToKey:j}),columnsByUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.urlToken;if(Object.values(g.DELETE_COLUMN).includes(n)){var a=t.columnId,c=t.memberToken,s=e[c].ids;return z((0,i._)((0,o._)({},e),(0,r._)({},c,(0,i._)((0,o._)({},e[c]),{ids:s.map(function(e){if(e!==a)return e})}))),t)}if(Object.values(g.GET_COLUMNS).includes(n)){var l=t.result||[];t.result=l.map(function(e){return e.column});var d=e[u]||{isFetching:!1,isDrained:!1,totals:0,ids:[],contributions:{}};return V((0,i._)((0,o._)({},e),(0,r._)({},u,(0,i._)((0,o._)({},d),{contributions:l.reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,r._)({},t.column,t.contributionsCount))},d.contributions)}))),t)}return e},allFavlistsByUser:p.f,brands:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===g.GET_BRANDS.success?t.payload.data:e},creationsByUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.urlToken;return Object.values(g.GET_CREATIONS).includes(n)?(0,r._)({},o,Y(e[o],t)):e},creationsSortByVotesByUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.urlToken;return Object.values(g.GET_CREATIONS_SORT_BY_VOTES).includes(n)?(0,r._)({},o,Q(e[o],t)):e},creationsFeed:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.payload;switch(n){case g.GET_CREATIONS_FEED.request:var a=t.meta.contentType,c=e[a]||{isFetching:!0,isDrained:!1,paging:{},ids:[],items:[]};return(0,i._)((0,o._)({},e),(0,r._)({},a,(0,A.TS)(c,{isFetching:!0})));case g.GET_CREATIONS_FEED.failure:var s=t.meta.contentType;return(0,i._)((0,o._)({},e),(0,r._)({},s,(0,A.TS)(e[s],{isFetching:!1,isDrained:!0})));case g.GET_CREATIONS_FEED.success:var l=u.data,d=u.paging;if(!l||!d)return e;var _=t.meta.contentType,p=d.isStart,f=d.isEnd,T=e[_],E=l.map(function(e){var t=e.content,n=e.notiSubtype;return(0,i._)((0,o._)({},t),{contentType:n})}).filter(function(e){var t=e.urlToken;return!t||!T.ids.includes(t)}),h=(0,A.TS)(T,{isFetching:!1,isDrained:!p&&f||p&&f,paging:d,ids:E.map(function(e){return e.urlToken}),items:E});return(0,i._)((0,o._)({},e),(0,r._)({},_,h));case g.CLEAR_CREATION_FEED:return{};default:return e}},infinity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===g.GET_INFINITY_INFO.success){var n=t.meta,u=t.payload;return(0,i._)((0,o._)({},e),(0,r._)({},n,u))}return e},batchUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===g.GET_BATCH_USERS.success){var n=t.payload;return(0,o._)({},e,n)}return e},profileInfinity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(t.type===g.GET_PROFILE_INFINITY.success){var n=t.payload;return(0,o._)({},e,n)}return e}})},26797:function(e,t,n){"use strict";n.d(t,{Gr:function(){return S},Cz:function(){return I},ZP:function(){return C},q$:function(){return v},JS:function(){return y},Hd:function(){return O},ue:function(){return T},gb:function(){return A},Qw:function(){return m},bZ:function(){return g},T8:function(){return E},tW:function(){return h}});var r=n(94057),o=n(87320),i=n(55164),u=n(57477),a=(0,r.combineReducers)({reviewing:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if("pins/SET_REVIEWING_ERROR"===t.type){var n=t.payload,r=n.id,a=n.error;return(0,u._)((0,i._)({},e),(0,o._)({},r,a))}return e}}),c=n(28953),s=n(80714),l=n(4785),d=n(39288),_=n(69906),p=n(67927),f=(0,d.FH)("pin",["LIKE","REACTION","DELETE","GET_VOTERS","CREATE_PINS","GET_LINK_CONTENT","GET_PIN_CONTENT","LOAD_HOT_TOPIC","CREATE_PINS_V2","FETCH_RECOMMAND_TOPIC","FETCH_RECOMMAND_BY_KEYWORD","ADD_TOPIC"]);function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.failsafe;return{API:{types:f.GET_PIN_CONTENT,endpoint:"/v2/pins/".concat(e),method:"GET"},schema:c.l.PIN,NOTIFICATION:!1,FAILSAFE:void 0!==n&&n}}function E(e){return function(t,n){var r=n().entities.pins[e],i=r.likeCount,u=r.virtuals,a=(void 0===u?{}:u).isLiked;return t({id:e,API:{types:f.LIKE,endpoint:"pins/".concat(e,"/likers"),method:a?"delete":"post"},UPDATE:{request:{pins:(0,o._)({},e,{likeCount:i+(a?-1:1),virtuals:{isLiked:!a}})},failure:{pins:(0,o._)({},e,r)}},NOTIFICATION:{failure:p.XR}})}}function h(e){return function(t,n){var r=n().entities.pins[e],i=r.reactionCount,u=r.virtuals,a=(void 0===u?{}:u).reactionType,c="like"===a;return t({id:e,API:{types:f.REACTION,endpoint:"pins/".concat(e,"/reactions"),method:c?"DELETE":"POST",fetchOptions:{body:(0,l.Z)({type:"like"})}},UPDATE:{request:{pins:(0,o._)({},e,{reactionCount:i+(c?-1:1),virtuals:{reactionType:a?"":"like"}})},failure:{pins:(0,o._)({},e,r)}},NOTIFICATION:{failure:p.XR}})}}function v(e){return function(t,n){var r=n().entities.pins[e];return t({API:{types:f.DELETE,endpoint:"pins/".concat(e),method:"DELETE"},UPDATE:{request:{pins:(0,o._)({},e,{isDelete:!0})},failure:{pins:(0,o._)({},e,r)}}})}}function m(e){return function(t,n){var r=(n().pins.voters[e]||{}).next;return t({id:e,API:(0,i._)({types:f.GET_VOTERS},r?{endpoint:r}:{endpoint:"pins/".concat(e,"/likers"),query:{include:"data[*].answer_count,articles_count,follower_count,gender,is_followed,is_following,badge",offset:0,limit:_.VZ}}),schema:c.l.USER_ARRAY})}}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{API:{method:"POST",types:f.LOAD_HOT_TOPIC,endpoint:"/topics/recommends/pin",root:"".concat(s.Z.fetchRoot.api,"/v5.1"),body:e}}}function I(e){return{API:{types:f.CREATE_PINS_V2,endpoint:"/v2/pins",method:"POST",body:e},NOTIFICATION:{failure:p.XR}}}function y(){return{API:{types:f.FETCH_RECOMMAND_TOPIC,endpoint:"/topics/recommends",root:"".concat(s.Z.fetchRoot.api,"/v5.1")}}}function O(e){return{API:{types:f.FETCH_RECOMMAND_BY_KEYWORD,endpoint:"/topics/recommends/pin",root:"".concat(s.Z.fetchRoot.api,"/v5.1"),method:"POST",body:{keywords:e}}}}function S(e){return{API:{types:f.ADD_TOPIC,endpoint:"/topics",method:"POST",body:{name:e}}}}var g=(0,n(31824).P1)(function(e,t){return{pin:e.entities.pins[t],users:e.entities.users}},function(e){var t=e.pin,n=e.users;return t?"string"==typeof t.author?Object.assign({},t,{author:n[t.author]}):t:{}}),C=a},93220:function(e,t,n){"use strict";n.d(t,{T:function(){return u},Z:function(){return a}});var r=n(55164),o=n(57477),i=(0,n(39288).FH)("publicEditPermission",["GET_PUBLIC_EDIT_PERMMISSION"]);function u(){return function(e){e({API:{types:i.GET_PUBLIC_EDIT_PERMMISSION,method:"GET",endpoint:"/user-permission"}})}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===i.GET_PUBLIC_EDIT_PERMMISSION.success){var n=t.payload,u=n.isQuestionRedirectEditable,a=n.isQuestionTopicEditable,c=n.isQuestionEditable;return(0,o._)((0,r._)({},e),{isQuestionRedirectEditable:u,isQuestionTopicEditable:a,isQuestionEditable:c})}return e}},19680:function(e,t,n){"use strict";n.d(t,{F7:function(){return h},Lw:function(){return E},VN:function(){return v},_T:function(){return f}});var r=n(87320),o=n(55164),i=n(57477),u=n(94009),a=n(49899),c=n(94057),s=n(28953),l=n(58909),d=n(39288),_=(0,o._)({},(0,d.FH)("pushNotifications",["GET_DEFAULT","GET_FOLLOW","GET_VOTE_THANK","MARK_ALL_READ"]),(0,d.co)("pushNotifications",["ADD","CURRENT_TAB"])),p={default:_.GET_DEFAULT,follow:_.GET_FOLLOW,vote_thank:_.GET_VOTE_THANK};function f(e){return function(t,n){var r=n(),o=r.pushNotifications,i=r.pushNotifications.currentTab,u=(!e&&o[i]||{}).next;return t({reFetch:e,API:{types:p[i],endpoint:u||"notifications/v2/".concat(i)},schema:s.l.NOTIFICATION_ARRAY})}}function T(e){var t=e.request,n=e.success,r=e.failure,u={isFetching:!1,isDrained:!1,ids:[]};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case t:if(c.reFetch)return u;return(0,i._)((0,o._)({},e),{isFetching:!0});case n:var s=c.result,l=c.next,d=c.isDrained,_=e.ids;return(0,i._)((0,o._)({},e),{isFetching:!1,isDrained:d,next:l,ids:(0,a._)(_).concat((0,a._)(s.filter(function(e){return!_.includes(e)})))});case r:return(0,i._)((0,o._)({},e),{isFetching:!1,isDrained:!1});default:return e}}}function E(e){return{type:_.CURRENT_TAB,currentTab:e}}function h(e){return{type:_.ADD,payload:e}}function v(){return function(e,t){var n=t().pushNotifications.currentTab;return e({API:{types:_.MARK_ALL_READ,endpoint:"notifications/v2/".concat(n,"/actions/readall"),method:"POST"},tab:n})}}var m={default:0,follow:0,vote_thank:0};t.ZP=(0,c.combineReducers)({default:T(_.GET_DEFAULT),follow:T(_.GET_FOLLOW),vote_thank:T(_.GET_VOTE_THANK),currentTab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.currentTab;return n===_.CURRENT_TAB?r:e},notificationsCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type;if(n===_.ADD){var i=(0,u._)(t.payload,3);return{default:i[0],follow:i[1],vote_thank:i[2]}}if(n===l.Hp.GET.success){var a=t.payload;return{default:a.defaultNotificationsCount,follow:a.followNotificationsCount,vote_thank:a.voteThankNotificationsCount}}return n===_.MARK_ALL_READ.success?(0,o._)({},e,(0,r._)({},t.tab,0)):e}})},31021:function(e,t,n){"use strict";n.d(t,{$y:function(){return eR},AE:function(){return ey},Bi:function(){return K},C3:function(){return G},Ds:function(){return D},Dt:function(){return F},Dx:function(){return U},GE:function(){return eh},Gl:function(){return ew},Hp:function(){return A},IF:function(){return eg},II:function(){return e_},IJ:function(){return P},Io:function(){return ed},Is:function(){return eL},J_:function(){return eP},Km:function(){return R},Ky:function(){return k},LV:function(){return Z},MA:function(){return el},MY:function(){return eD},Mg:function(){return ev},Od:function(){return ee},PW:function(){return eG},R5:function(){return J},RE:function(){return C},Rc:function(){return em},T8:function(){return ef},Tp:function(){return M},Uo:function(){return B},Uw:function(){return w},W1:function(){return g},XD:function(){return eE},XX:function(){return q},Z3:function(){return eU},_E:function(){return V},_N:function(){return es},_S:function(){return $},_V:function(){return eI},_u:function(){return X},cD:function(){return W},dY:function(){return Q},fk:function(){return S},g4:function(){return L},gh:function(){return z},hm:function(){return eA},ik:function(){return eu},jy:function(){return eN},md:function(){return en},o1:function(){return eT},op:function(){return eC},po:function(){return x},qX:function(){return ep},qc:function(){return ea},rh:function(){return H},u1:function(){return er},uF:function(){return eO},uN:function(){return j},uj:function(){return N},vL:function(){return eS},vZ:function(){return eo},wU:function(){return et},w_:function(){return ei},yV:function(){return I},zR:function(){return Y},zp:function(){return eb}});var r=n(87320),o=n(55164),i=n(57477),u=n(94009),a=n(74135),c=n(28953),s=n(84054),l=n.n(s),d=n(74351),_=n(80714),p=n(4785),f=n(9435),T=n(66263),E=n(39288),h=n(8866),v=n(69906),m=n(67927),A=(0,E.FH)("question",["GET","GET_TITLE","ADD","VOTE","DELETE","UPDATE","GET_INVITERS","GET_ALL_INVITERS","DELETE_INVITERS","GET_INVITEES","GET_FOLLOWERS","UPDATE_FOLLOWERS","GET_LATERS_COUNT","GET_LATERS","GET_INVITED_QUESTIONS_COUNT","GET_INVITED_QUESTIONS","IGNORE_INVITED_QUESTION","UPDATE_LATER","UPDATE_ANONYMOUS","CREATE_REDIRECTION","REVOKE_REDIRECTION","GET_BIO","CHOOSE_BIO","GET_SIMILAR_QUESTIONS","GET_RELATED_COMMODITIES","GET_ANSWERS","GET_UPDATED_ANSWERS","GET_COLLAPSED_ANSWERS","GET_HIDDEN_ANSWERS","GET_A11Y_ANSWERS","GET_NOTIFICATION_ANSWER_TOKENS","GET_INVITATION_CANDIDATES","GET_WAITING_QUESTIONS","DELETE_WAITING_QUESTION","DELETE_TOOLS_QUESTION_INVITED","GET_BIOS","UPDATE_INVITATION","UPDATE_LOCK","TOGGLE_QUESTION_EDIT_LOCK","GET_DRAFT","ADD_DRAFT","GET_ATTACHED_POST_TO_DRAFT","UPDATE_DRAFT","DELETE_DRAFT","GET_BRAND","GET_BRAND_QUESTION_ADVANCED_STYLE","UPDATE_BRAND_QUESTION_ADVANCED_STYLE","GET_BRAND_QUESTION_RECOMMENDATION","GET_BRAND_QUESTION_PERMISSION","GET_BRAND_QUESTION_OPEN_STATUS","UPDATE_BRAND_QUESTION_OPEN_STATUS","GET_BRAND_QUESTION_RED_PACKET","GET_BRAND_QUESTION_PRIZE","GET_BRAND_QUESTION_ANSWER_SUMMARIES","GET_BRAND_QUESTION_WINNERS","CREATE_BRAND_QUESTION_PRIZE","SET_BRAND_QUESTION_WINNERS","GET_CONCERNED_FOLLOWERS","GET_ANSWER_COUNT","UPDATE_COMMENT_PERMISSION","GET_META_TOPICS","LOAD_RELATED_BLUESTAR_RANKLIST","GET_RELATED_SEARCH","GET_AUTO_INVITATION","OPEN_AUTO_INVITATION","CLOSE_AUTO_INVITATION","UPDATE_ONCE_INVITE","LOAD_COMMERCIAL_BANNER","GET_SIMPLE_CONCERNED_FOLLOWERS","UPDATE_VOTE_TOPIC","GET_DISCLAIMERS","GET_QUESTION_SHARE","GET_READING_MEMBERSHIP","GET_BRAND_QUESTION_ANSWER_MARK","PUT_BRAND_QUESTION_ANSWER_MARK","PUT_BRAND_QUESTION_STATUS","GET_BRAND_QUESTION_STATUSINFO","GET_QUESTION_BANNER","OPEN_BUS_VIP","QUERY_BUS_VIP_STATUS","QUERY_DEFAULT_SETTINGS","QUERY_QUESTION_DRAFT","UPDATE_MARKDOWN_ENABLED","REMOVE_SESSION"]),I=(0,E.co)("question",["REMOVE_RED_PACKET","SHOW_MOBILE_SIGN_IN_MODAL"]),y=l()({is_visible:!0,related_cards:!0,ad_track_url:!0,review_info:!0,mute_info:!0,detail:!0,editable_detail:!0,comment_count:!0,can_comment:!0,comment_permission:!0,admin_closed_comment:!0,answer_count:!0,collapsed_answer_count:!0,follower_count:!0,visit_count:!0,topics:!0,author:!0,show_author:!0,show_encourage_author:!0,excerpt:!0,thumbnail_info:!0,voteup_count:!0,is_editable:!0,is_normal:!0,status:!0,redirection:!0,question_type:!0,is_labeled:!0,is_muted:!0,created:!0,updated_time:!0,has_publishing_draft:!0,annotation_detail:!0,relationship:{is_author:!0,voting:!0,is_anonymous:!0,is_following:!0,can_edit:!0,can_collapse_answers:!0,can_stick_answers:!0,can_lock:!0,can_vote:!0,my_answer:!0},is_bannered:!0,event:!0,reaction_instruction:!0,ai_summary:!0}),O=l()({data:[{is_normal:!0,admin_closed_comment:!0,reward_info:!0,is_collapsed:!0,annotation_action:!0,annotation_detail:!0,collapse_reason:!0,is_sticky:!0,collapsed_by:!0,suggest_edit:!0,comment_count:!0,can_comment:!0,content:!0,editable_content:!0,attachment:!0,voteup_count:!0,reshipment_settings:!0,comment_permission:!0,created_time:!0,updated_time:!0,review_info:!0,relevant_info:!0,question:!0,excerpt:!0,relationship:{is_authorized:!0,is_author:!0,voting:!0,is_thanked:!0,is_nothelp:!0},is_labeled:!0,paid_info:!0,paid_info_content:!0,mark_infos:[{url:!0}],author:{follower_count:!0,badge:[{topics:!0}],vip_info:!0},settings:{table_of_content:{enabled:!0}},reaction_instruction:!0}]});function S(e){return function(t,n){var r=_.Z.isMobileEntry&&n().currentUser?y:"".concat(y,";topics");return t({API:{types:A.GET,endpoint:"questions/".concat(e),query:{include:r}},schema:c.l.QUESTION})}}function g(e){return{API:{types:A.GET_TITLE,endpoint:"questions/".concat(e)}}}function C(e){return{id:e,API:{types:A.GET_META_TOPICS,root:"".concat(_.Z.fetchRoot.api,"/v5.1"),endpoint:"/topics/question/".concat(e,"/relation")},NOTIFICATION:!1}}function N(e){return{id:e,API:{types:A.LOAD_RELATED_BLUESTAR_RANKLIST,endpoint:"/topics/rank_list/question/".concat(e,"/related")}}}function R(e){return{API:{types:A.DELETE,endpoint:"questions/".concat(e),method:"DELETE"}}}function P(e){return{API:{types:A.DELETE,endpoint:"/brand/commercial-questions/".concat(e),method:"DELETE"}}}function D(e,t){var n={};return t.question.title&&(n.title=t.question.title),t.question.detail&&(n.editableDetail=t.question.detail),function(o,i){var u=i().entities.questions[e];return o({API:{types:A.UPDATE,method:"PUT",endpoint:"questions/".concat(e),query:{include:y},body:(0,a.decamelizeKeys)(t),fetchOptions:{zsAutoSignature:!1}},schema:c.l.QUESTION,UPDATE:{request:{questions:(0,r._)({},e,n)},success:function(t){return{questions:(0,r._)({},e,t)}},failure:{questions:(0,r._)({},e,u)}},NOTIFICATION:{key:"updateQuestion",success:function(e){return{id:e.id}},failure:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).err;return{code:e.code,err:t}}}})}}function L(e,t){return{API:{types:A.UPDATE_COMMENT_PERMISSION,endpoint:"questions/".concat(e,"/comment_permission"),method:"PUT",body:{comment_permission:t}},UPDATE:{success:function(){return{questions:(0,r._)({},e,{commentPermission:t})}}}}}function w(e){return{id:e,API:{types:A.GET_SIMPLE_CONCERNED_FOLLOWERS,endpoint:"questions/".concat(e,"/concerned_followers"),query:{limit:7,offset:0}},schema:c.l.USER_ARRAY}}function b(e,t){return function(n,r){var i=(t||r().question.followers[e]||{}).next;return n({id:e,API:(0,o._)({types:A.GET_FOLLOWERS},i?{endpoint:i}:{endpoint:"questions/".concat(e,"/followers"),query:{include:"data[*].gender,answer_count,articles_count,follower_count,is_following,is_followed,vip_info",limit:v.VZ,offset:0}}),schema:c.l.USER_ARRAY})}}function G(e){return function(t,n){var r=n().question,i=r.followers,u=r.concernedFollowers,a=i[e]||{},s=u[e]||{};return a.isDrained?t(b(e,a)):t(function(t,n){var r=(s||n().question.concernedFollowers[e]||{}).next;return t({id:e,API:(0,o._)({types:A.GET_CONCERNED_FOLLOWERS},r?{endpoint:r}:{endpoint:"questions/".concat(e,"/concerned_followers"),query:{include:"data[*].gender,answer_count,articles_count,follower_count,is_following,is_followed,vip_info",limit:v.VZ,offset:0}}),schema:c.l.USER_ARRAY})}).then(function(n){var r=n.payload,o=r.paging,i=r.data;(o.isEnd||!i.length)&&t(b(e,a))})}}function U(){return{API:{types:A.GET_LATERS_COUNT,endpoint:"/answer_later/count"}}}function k(e){return{type:I.SHOW_MOBILE_SIGN_IN_MODAL,payload:e}}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{API:{types:A.GET_LATERS,endpoint:"/answer_later",query:{include:"data[*].answer_count,visit_count,detail,excerpt,relationship.is_following",limit:e,offset:t}}}}function F(e,t){return{meta:{expect:t},API:{types:A.UPDATE_LATER,endpoint:"questions/".concat(e,"/answer_later"),method:t?"POST":"DELETE"}}}function Z(){return{API:{types:A.GET_INVITED_QUESTIONS_COUNT,endpoint:"/me/invitations"}}}function B(e){var t=e.name,n=e.filterBy,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{meta:{typeName:t},API:{types:A.GET_INVITED_QUESTIONS,endpoint:"/me/invitations/questions",query:{limit:r,offset:o,include:"data[*].inviters[*].is_following,is_followed;data[*][question].created,answer_count,visit_count,detail,excerpt",filterBy:n}}}}function H(e){return{API:{types:A.IGNORE_INVITED_QUESTION,endpoint:"/me/invitations/questions/".concat(e),method:"DELETE"}}}function q(e,t){return function(n,u){var a=u(),c=a.currentUser,s=a.entities,l=s.users,d=s.questions,_=l[c],p=d[e],f=t?1:-1,T={types:A.UPDATE_FOLLOWERS,endpoint:"questions/".concat(e,"/followers"),method:t?"POST":"DELETE"};return n(p?{meta:{id:e,expect:t},API:T,UPDATE:{request:{users:(0,r._)({},c,{followingQuestionCount:_.followingQuestionCount+f}),questions:(0,r._)({},e,{followerCount:p.followerCount+f,relationship:(0,i._)((0,o._)({},p.relationship||{}),{isFollowing:t})})},failure:{users:(0,r._)({},c,_),questions:(0,r._)({},e,p)}}}:{meta:{id:e,expect:t},API:T})}}function x(e,t){return function(n,u){var a=u(),c=a.currentUser,s=a.entities,l=s.users,d=s.questions,_=s.answers,p=l[c],f=d[e],E=f.relationship,h=E.myAnswer,v=E.isAnonymous,m=h&&h.answerId?_[h.answerId]:null;return t="boolean"==typeof t?t:!v,n({API:{types:A.UPDATE_ANONYMOUS,endpoint:"questions/".concat(e,"/anonyms"),method:t?"POST":"DELETE"},UPDATE:{request:{questions:(0,r._)({},e,{relationship:(0,i._)((0,o._)({},f.relationship),{isAnonymous:t})}),answers:m?(0,r._)({},m.id,{author:t?T.aK:p}):{}},failure:{questions:(0,r._)({},e,f),answers:m?(0,r._)({},m.id,m):{}}}})}}function V(e,t){return{API:{types:A.CREATE_REDIRECTION,endpoint:"questions/".concat(e,"/redirections"),method:"POST",body:{url_token:t}},UPDATE:{success:function(){return{questions:(0,r._)({},e,{redirection:{to:{id:t}}})}}}}}function z(e){return{API:{types:A.REVOKE_REDIRECTION,endpoint:"questions/".concat(e,"/redirections"),method:"DELETE"},UPDATE:{success:function(){return{questions:(0,r._)({},e,{redirection:{to:null}})}}}}}function K(e,t){var n=t&&{answerId:t};return{id:e,API:{types:A.GET_SIMILAR_QUESTIONS,endpoint:"questions/".concat(e,"/similar-questions"),query:(0,o._)({include:"data[*].answer_count,author,follower_count",limit:_.Z.isMobileEntry?2:5},n)},FAILSAFE:!0,NOTIFICATION:!1}}function W(e){return{id:e,API:{types:A.GET_QUESTION_BANNER,endpoint:"question/".concat(e,"/banner")},FAILSAFE:!0,NOTIFICATION:!1}}function Y(e,t){var n=t&&{answerId:t};return{id:e,API:{types:A.GET_RELATED_COMMODITIES,endpoint:"market/rhea/questions/".concat(e,"/qa_related"),query:_.Z.isMobileEntry?(0,i._)((0,o._)({},n),{limit:2}):(0,o._)({},n)},FAILSAFE:!0,NOTIFICATION:!1}}function Q(e){return{id:e,API:{types:A.GET_DRAFT,endpoint:"questions/".concat(e,"/draft"),query:{include:"question,schedule"}},schema:c.l.DRAFT,NOTIFICATION:{failure:"草稿加载失败"},UPDATE:{success:function(t){return t.question?(0,r._)({},"question_".concat(e),{attachment:t.attachment}):{drafts:(0,r._)({},"question_".concat(e),null)}}}}}function j(e,t,n,u,c,s){return function(l,d){var _="question_".concat(e),p=d().entities.drafts;return l({API:{types:A.ADD_DRAFT,endpoint:"questions/".concat(e,"/draft"),method:"POST",body:(0,a.decamelizeKeys)({content:t,deltaTime:n,draftType:u,attachment:c,settings:s}),fetchOptions:{zsAutoSignature:!1}},UPDATE:{request:{drafts:(0,r._)({},_,{editableContent:t,draftType:u,attachment:c,updating:!0,updated:!1,updateFailed:!1})},success:function(e){return{drafts:(0,r._)({},_,{createdTime:e.createdTime,updatedTime:e.updatedTime,updating:!1,updated:!0,updateFailed:!1})}},failure:{drafts:(0,r._)({},_,(0,i._)((0,o._)({},p[_]),{updating:!1,updated:!1,updateFailed:!0}))}}})}}function X(e,t,n,u,c,s){return function(l,d){var _="question_".concat(e),p=d().entities.drafts;return l({API:{types:A.UPDATE_DRAFT,endpoint:"questions/".concat(e,"/draft"),method:"PUT",body:(0,a.decamelizeKeys)({content:t,deltaTime:n,draftType:u,attachment:c,settings:s}),fetchOptions:{zsSignature:!1}},UPDATE:{request:{drafts:(0,r._)({},_,{editableContent:t,draftType:u,attachment:c,updating:!0,updated:!1,updateFailed:!1})},success:function(e){return{drafts:(0,r._)({},_,{createdTime:e.createdTime,updatedTime:e.updatedTime,updating:!1,updated:!0,updateFailed:!1})}},failure:{drafts:(0,r._)({},_,(0,i._)((0,o._)({},p[_]),{updating:!1,updated:!1,updateFailed:!0}))}}})}}function J(e){return function(t,n){var o="question_".concat(e),i=n().entities.drafts;return t({API:{types:A.DELETE_DRAFT,endpoint:"questions/".concat(e,"/draft"),method:"DELETE"},UPDATE:{request:{drafts:(0,r._)({},o,null)},failure:{drafts:i}}})}}function $(e,t){var n="question_".concat(e);return{API:{types:A.GET_ATTACHED_POST_TO_DRAFT,endpoint:"articles/".concat(t,"/draft")},FAILSAFE:!0,UPDATE:{success:function(e){return{drafts:(0,r._)({},n,{editableContent:e.content,attachment:{bizExt:JSON.stringify({bind_article_token:Number(t)})}})}}}}}function ee(e){return{id:e,API:{types:A.GET_BRAND,endpoint:"questions/".concat(e,"/brand"),query:{include:"$[*].logo,name,answer_cnt_description,follow_description,about_description,toast_answer_description,censor_comment_description,toast_comment_description,show_all_description,editor_description,target.is_following"}},UPDATE:{success:function(t){return{questions:(0,r._)({},e,{brand:t})}}}}}function et(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return{id:e,API:{types:A.GET_BRAND_QUESTION_ADVANCED_STYLE,endpoint:"brand/question/".concat(e,"/card"),query:n.length?{include:"$[*].".concat(n.join(","))}:{}},UPDATE:{success:function(t){return{questions:(0,r._)({},e,{advancedStyle:t})}}},NOTIFICATION:{failure:!1}}}function en(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return{id:e,API:{types:A.GET_BRAND_QUESTION_PERMISSION,endpoint:"brand/question/".concat(e,"/permission"),query:n.length?{include:"$[*].".concat(n.join(","))}:null},UPDATE:{success:function(t){return{questions:(0,r._)({},e,{permission:t})}}},NOTIFICATION:{failure:!1}}}function er(e){return{id:e,API:{types:A.GET_BRAND_QUESTION_OPEN_STATUS,endpoint:"brand/question/".concat(e,"/open-status")},UPDATE:{success:function(t){return{questions:(0,r._)({},e,{brandOpenStatus:t.status})}}},NOTIFICATION:!1}}function eo(e,t){return{id:e,API:{types:A.UPDATE_BRAND_QUESTION_OPEN_STATUS,endpoint:"brand/question/".concat(e,"/open-status"),method:"PUT",body:{status:t}},UPDATE:{success:function(){return{questions:(0,r._)({},e,{brandOpenStatus:t})}}}}}function ei(e){return{id:e,API:{method:"GET",types:A.GET_BRAND_QUESTION_RED_PACKET,endpoint:"brand/questions/".concat(e,"/activity/red-packet")},FAILSAFE:!0,UPDATE:{success:function(t){return{questions:(0,r._)({},e,{redPacket:t})}}}}}function eu(e){return{type:I.REMOVE_RED_PACKET,UPDATE:{update:{questions:(0,r._)({},e,{redPacket:void 0})}}}}function ea(e,t){return{id:e,API:{method:"GET",types:A.GET_BRAND_QUESTION_PRIZE,endpoint:"brand/question/".concat(e,"/lottery"),query:(0,o._)({include:"$[*].winners_answer_tokens"},t)},FAILSAFE:!0,UPDATE:{success:function(t){return{questions:(0,r._)({},e,{prize:(0,o._)({isFetched:!0},t)})}},failure:function(){return{questions:(0,r._)({},e,{prize:{isFetched:!0}})}}},NOTIFICATION:{failure:!1}}}function ec(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.offset,i=n.limit,u=void 0===i?v.W2:i,a=n.sortBy,s=n.filter,l=n.platform,_=void 0===l?null:l,p=n.endpoint,f=n.headers,T=void 0===f?null:f;return{meta:{entitiesPrefilter:n.entitiesPrefilter},id:e,API:(0,o._)({types:t},p?{endpoint:p}:(0,o._)({endpoint:"questions/".concat(e,"/feeds"),query:(0,o._)({include:O,offset:r,limit:u,order:void 0===a?"default":a},s&&{filter:s},"desktop"===_&&{platform:_})},!!T&&{headers:T})),FAILSAFE:(0,d.isNode)(),offset:r,limit:u,schema:c.l.NEW_ANSWER_ARRAY}}function es(e,t){return{meta:{type:"invite"},API:{types:A.GET_WAITING_QUESTIONS,endpoint:e,query:t}}}function el(e){var t=e.type,n=e.endpoint,r=e.query,u=e.limit,a=e.offset,c=e.abValue;return{meta:{type:t},API:{types:A.GET_WAITING_QUESTIONS,endpoint:n,query:(0,i._)((0,o._)({},r),{limit:void 0===u?20:u,offset:void 0===a?0:a,recomDomainScoreAb:c})}}}function ed(e){return{API:{types:A.DELETE_WAITING_QUESTION,endpoint:"/candidate-quesitons/".concat(e),method:"DELETE"}}}function e_(e){return{API:{types:A.DELETE_TOOLS_QUESTION_INVITED,endpoint:"/notifications/v3/object/".concat(e),method:"DELETE",body:new URLSearchParams}}}function ep(e){return{id:e,API:{types:A.GET_ALL_INVITERS,endpoint:"questions/".concat(e,"/inviters"),query:{with_answered:!0,with_ignored:!0,with_admin:!0}},schema:c.l.USER_ARRAY}}function ef(e){return{API:{types:A.DELETE_INVITERS,endpoint:"questions/".concat(e,"/inviters"),method:"DELETE"}}}function eT(e){return function(t,n){var r,i,u,a,c=n().question.notificationAnswers[e]||{};return t((0,o._)({notificationId:e},(i=(r={endpoint:c.next}).offset,a=void 0===(u=r.limit)?v.VZ:u,{API:{types:A.GET_NOTIFICATION_ANSWER_TOKENS,endpoint:"notifications/".concat(e,"/answer-tokens"),limit:a,offset:void 0===i?0:i},FAILSAFE:!0}))).then(function(e){var n=e.result;return n&&n.length&&t((0,h.bW)(n)).catch(function(){return null})})}}function eE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"answers",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.offset,u=n.limit,a=n.entitiesPrefilter;return function(s,l){var d,_=l(),p=(_.question[t][e]||{}).next,f=r||!p?{offset:r,limit:u}:{endpoint:p};switch(t){case"answers":return s(ec(e,A.GET_ANSWERS,(0,i._)((0,o._)({},f,!_.env.userAgent.Mobile&&{platform:"desktop"}),{entitiesPrefilter:a})));case"updatedAnswers":return s(ec(e,A.GET_UPDATED_ANSWERS,(0,i._)((0,o._)({},f),{sortBy:"updated"})));case"collapsedAnswers":return s(ec(e,A.GET_COLLAPSED_ANSWERS,(0,i._)((0,o._)({},f),{filter:"collapsed"})));case"hiddenAnswers":return s(ec(e,A.GET_HIDDEN_ANSWERS,(0,i._)((0,o._)({},f),{sortBy:"created",filter:"collapsed"})));case"ariaAnswers":return s(ec(e,A.GET_A11Y_ANSWERS,(0,i._)((0,o._)({},f),{headers:{"x-a11y-mode":1}})));case"invitationCandidates":return s({id:e,keyword:d=n.keyword,API:{types:A.GET_INVITATION_CANDIDATES,endpoint:d?"questions/".concat(e,"/invitation-candidates"):"questions/".concat(e,"/recommendation_invitees"),query:{include:"[*].member.answer_count,articles_count,follower_count,gender,is_followed,is_following,badge",keyword:d||""}},schema:c.l.USER_TOPIC_CONTRIBUTION_ARRAY});case"inviters":return s({id:e,API:{types:A.GET_INVITERS,endpoint:"questions/".concat(e,"/inviters")},schema:c.l.USER_ARRAY});case"invitees":return s({id:e,API:{types:A.GET_INVITEES,endpoint:"questions/".concat(e,"/invitees"),query:{include:"answer_count,articles_count,follower_count,gender,is_followed,is_following,badge"}},schema:c.l.USER_ARRAY});default:return{type:null}}}}function eh(e){return{API:{types:A.GET_ANSWER_COUNT,endpoint:"/brand/commercial-questions/".concat(e,"/counters"),query:{include:"answer_count,hidden_answer_count"}},NOTIFICATION:{failure:!1}}}function ev(e){return{id:e,API:{types:Object.values(A.LOAD_COMMERCIAL_BANNER),endpoint:"/api/commercial/banner/".concat(e)},UPDATE:{success:function(t){return{questions:(0,r._)({},e,{commercial:t})}}}}}function em(e){return function(t,n){var u=(n().entities.questions[e]||{}).status;return t({id:e,API:{endpoint:"questions/".concat(e,"/actions/lock"),types:A.UPDATE_LOCK,method:u.isLocked?"DELETE":"POST"},UPDATE:{request:{questions:(0,r._)({},e,{status:(0,i._)((0,o._)({},u),{isLocked:!u.isLocked})})},failure:{questions:(0,r._)({},e,{status:u})}},NOTIFICATION:{success:!u.isLocked&&{theme:"red",text:"该问题已被锁定"}}})}}function eA(e){return function(t,n){var o=(n().entities.questions[e]||{}).showEncourageAuthorEditLock;return t({id:e,API:{endpoint:"questions/".concat(e,"/show-encourage-author"),types:A.TOGGLE_QUESTION_EDIT_LOCK,method:"POST",fetchOptions:{body:(0,p.Z)({is_edit_lock:!o})}},UPDATE:{request:{questions:(0,r._)({},e,{showEncourageAuthorEditLock:!o})},failure:{questions:(0,r._)({},e,{showEncourageAuthorEditLock:o})}}})}}function eI(e,t,n){return function(r,i){var u=i(),c=u.question,s=u.entities,l=!((c.invitationCandidates[e].items.find(function(e){return e.member===t})||{}).isInvited||c.invitees[e].items.includes(t)),d=s.users[t].id;return r({id:e,urlToken:t,API:{types:A.UPDATE_INVITATION,endpoint:"questions/".concat(e,"/invitees"),method:l?"POST":"DELETE",body:(0,a.decamelizeKeys)((0,o._)({memberHash:d},n&&l?{src:n}:{}))},NOTIFICATION:{key:m.zQ,failure:!0}})}}function ey(e,t,n){return{id:e,userTokens:n,API:{types:A.UPDATE_ONCE_INVITE,endpoint:"questions/".concat(e,"/invitations/batch"),method:"POST",root:"https://api.zhihu.com",body:{src:"normal",member_hashes:t},FAILSAFE:!0},NOTIFICATION:{success:"邀请成功",failure:function(e){return e.message}}}}function eO(e){return{API:{endpoint:"questions/".concat(e,"/bios"),types:A.GET_BIOS}}}function eS(e,t){return function(n,r){var u=r().topic.bios;return n({API:{endpoint:"questions/".concat(e,"/bio"),types:A.CHOOSE_BIO,body:(0,a.decamelizeKeys)({type:t.type,topicId:(t.topic||{}).id}),method:"POST"},id:e,bio:(0,i._)((0,o._)({},t),{bio:u[(t.topic||{}).id]})})}}function eg(e){return{API:{types:A.GET_BIO,endpoint:"questions/".concat(e,"/bio")},id:e}}function eC(e){return{API:{types:A.GET_AUTO_INVITATION,endpoint:"questions/".concat(e,"/auto_invite")},id:e}}function eN(e){return{API:{types:A.OPEN_AUTO_INVITATION,endpoint:"questions/".concat(e,"/auto_invite"),method:"POST"},id:e}}function eR(e){return{API:{types:A.CLOSE_AUTO_INVITATION,endpoint:"questions/".concat(e,"/auto_invite"),method:"DELETE"},id:e}}function eP(e){return{id:e,API:{types:A.GET_DISCLAIMERS,endpoint:"/questions/".concat(e,"/disclaimers")}}}function eD(){return{API:{types:A.GET_READING_MEMBERSHIP,endpoint:"/growth/regist/right"},FAILSAFE:!0}}function eL(e){return function(t,n){var a=(0,f.Md)(n(),{id:e}).relationship,c=a.voting,s=(0,u._)([["voters/up","POST"],["voters","DELETE"]][c],2),l=s[0],d=s[1],_="questions/".concat(e,"/").concat(l);return t({API:{types:A.VOTE,endpoint:_,method:d},UPDATE:{success:function(t){var n=t.voteupCount,u=t.isUp;return{questions:(0,r._)({},e,{relationship:(0,i._)((0,o._)({},a),{voting:u?1:0}),isUp:u,voteupCount:n})}}}})}}function ew(){return{API:{types:A.QUERY_DEFAULT_SETTINGS,endpoint:"/editor/default-settings",method:"GET"}}}function eb(e){return{API:{types:A.UPDATE_MARKDOWN_ENABLED,endpoint:"editor/default-settings",method:"PUT",body:{common_settings:(0,a.decamelizeKeys)(e)}}}}function eG(e){return{API:{types:A.QUERY_QUESTION_DRAFT,endpoint:"/questions/".concat(e,"/draft"),method:"GET"}}}function eU(e){var t=e.questionId,n=e.sessionId;return{API:{types:A.REMOVE_SESSION,endpoint:"/questions/".concat(t,"/feeds/").concat(n),method:"DELETE"},FAILSAFE:!0}}},9435:function(e,t,n){"use strict";n.d(t,{Hp:function(){return f.Hp},uN:function(){return f.uN},kM:function(){return C},em:function(){return P},vL:function(){return f.vL},RX:function(){return g},_E:function(){return f._E},ZP:function(){return L},IJ:function(){return f.IJ},R5:function(){return f.R5},T8:function(){return f.T8},Km:function(){return f.Km},Io:function(){return f.Io},x9:function(){return m},qX:function(){return f.qX},Af:function(){return N},IF:function(){return f.IF},Uo:function(){return f.Uo},LV:function(){return f.LV},Tp:function(){return f.Tp},Dx:function(){return f.Dx},cD:function(){return f.cD},MY:function(){return f.MY},_N:function(){return f._N},MA:function(){return f.MA},rh:function(){return f.rh},II:function(){return f.II},MT:function(){return D},SZ:function(){return S},gW:function(){return O},_S:function(){return f._S},op:function(){return f.op},uF:function(){return f.uF},Od:function(){return f.Od},wU:function(){return f.wU},GE:function(){return f.GE},u1:function(){return f.u1},md:function(){return f.md},qc:function(){return f.qc},w_:function(){return f.w_},J_:function(){return f.J_},dY:function(){return f.dY},XD:function(){return f.XD},o1:function(){return f.o1},fk:function(){return f.fk},Mg:function(){return f.Mg},Uw:function(){return f.Uw},C3:function(){return f.C3},RE:function(){return f.RE},W1:function(){return f.W1},uj:function(){return f.uj},zR:function(){return f.zR},Bi:function(){return f.Bi},hh:function(){return R},mG:function(){return I},Md:function(){return A},y7:function(){return y},ik:function(){return f.ik},Z3:function(){return f.Z3},gh:function(){return f.gh},Ky:function(){return f.Ky},hm:function(){return f.hm},vZ:function(){return f.vZ},_u:function(){return f._u},_V:function(){return f._V},Dt:function(){return f.Dt},zp:function(){return f.zp},AE:function(){return f.AE},Ds:function(){return f.Ds},po:function(){return f.po},XX:function(){return f.XX},Rc:function(){return f.Rc},g4:function(){return f.g4},Is:function(){return f.Is}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(46942),c=n.n(a),s=n(94057),l=n(14586),d=n(93542),_=n(8866),p=n(69906),f=n(31021),T=(0,p.Fd)(f.Hp.GET_NOTIFICATION_ANSWER_TOKENS,{mapActionToKey:function(e){return e.notificationId}}),E=(0,s.combineReducers)({followers:(0,p.Fd)(f.Hp.GET_FOLLOWERS),concernedFollowers:(0,p.Fd)(f.Hp.GET_CONCERNED_FOLLOWERS),answers:(0,p.Fd)(f.Hp.GET_ANSWERS,{addSuccessType:_.uJ.ADD.success,addAtTop:!1,additionalCaseTypes:[_.uJ.RESTORE.success,_.uJ.COLLAPSE.success],additionalCase:function(e,t){return t.type!==_.uJ.RESTORE.success||e.ids.includes(t.result)?e:(0,i._)((0,o._)({},e),{ids:(0,u._)(e.ids).concat([t.result])})}}),hiddenAnswers:(0,p.Fd)(f.Hp.GET_HIDDEN_ANSWERS,{addSuccessType:_.uJ.ADD.success,addAtTop:!1,additionalCaseTypes:[_.uJ.RESTORE.success,_.uJ.COLLAPSE.success],additionalCase:function(e,t){return t.type!==_.uJ.RESTORE.success||e.ids.includes(t.result)?e:(0,i._)((0,o._)({},e),{ids:(0,u._)(e.ids).concat([t.result])})}}),updatedAnswers:(0,p.Fd)(f.Hp.GET_UPDATED_ANSWERS,{addSuccessType:_.uJ.ADD.success,addAtTop:!1,additionalCaseTypes:[_.uJ.RESTORE.success],additionalCase:function(e,t){return t.type!==_.uJ.RESTORE.success||e.ids.includes(t.result)?e:(0,i._)((0,o._)({},e),{ids:(0,u._)(e.ids).concat([t.result])})}}),ariaAnswers:function(e,t){return(0,p.Fd)(f.Hp.GET_A11Y_ANSWERS)(e,t)},collapsedAnswers:function(e,t){return(0,p.Fd)(f.Hp.GET_COLLAPSED_ANSWERS)(e,t)},notificationAnswers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;if(Object.values(f.Hp.GET_NOTIFICATION_ANSWER_TOKENS).includes(r)){if(r===f.Hp.GET_NOTIFICATION_ANSWER_TOKENS.success){var o=n.data,i=n.paging,u=i.isEnd,a=i.next;t.result=o,t.isDrained=u,t.next=a}return T(e,t)}return e},invitedQuestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.V.reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,r._)({},t.name,{count:null,isEnd:!1,isLoading:!1,questions:[]}))},{}),t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_INVITED_QUESTIONS_COUNT.success)return l.V.reduce(function(e,n){return(0,i._)((0,o._)({},e),(0,r._)({},n.name,(0,i._)((0,o._)({},e[n.name]),{count:t.payload.data[n.countKey]})))},e);if(t.type===f.Hp.GET_INVITED_QUESTIONS.request){var n=t.meta.typeName;return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},e[n]),{isLoading:!0})))}if(t.type===f.Hp.GET_INVITED_QUESTIONS.success){var a=t.meta.typeName,c=t.payload,s=c.paging,d=c.data;return(0,i._)((0,o._)({},e),(0,r._)({},a,(0,i._)((0,o._)({},e[a]),{isEnd:s.isEnd,isLoading:!1,questions:(0,u._)(e[a].questions).concat((0,u._)(d))})))}return e},laterQuestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{count:null,isEnd:!1,isLoading:!1,questions:[]},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_LATERS_COUNT.success)return(0,i._)((0,o._)({},e),{count:t.payload.count});if(t.type===f.Hp.UPDATE_LATER.success)return(0,i._)((0,o._)({},e),{count:e.count+(t.meta.expect?1:-1)});if(t.type===f.Hp.GET_LATERS.request)return(0,i._)((0,o._)({},e),{isLoading:!0});if(t.type===f.Hp.GET_LATERS.success){var n=t.payload,r=n.paging,a=n.data;return(0,i._)((0,o._)({},e),{isEnd:r.isEnd,isLoading:!1,questions:(0,u._)(e.questions).concat((0,u._)(a))})}return e},waitingQuestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.V5.reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,r._)({},t.name,{isEnd:!1,isLoading:!1,questions:[]}))},{}),t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_WAITING_QUESTIONS.request){var n=t.meta.type;return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},e[n]),{isLoading:!0})))}if(t.type===f.Hp.GET_WAITING_QUESTIONS.success){var a=t.meta.type,c=t.payload,s=c.paging,l=c.data;return(0,i._)((0,o._)({},e),(0,r._)({},a,{paging:s,isEnd:s.isEnd,isLoading:!1,questions:(0,u._)(e[a].questions).concat((0,u._)(l))}))}if(t.type===f.Hp.UPDATE_FOLLOWERS.success){var _=t.meta,p=_.id,T=_.expect;return Object.keys(e).reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,r._)({},t,(0,i._)((0,o._)({},e[t]),{questions:e[t].questions.map(function(e){return e.question.id===p?(0,i._)((0,o._)({},e),{question:(0,i._)((0,o._)({},e.question),{relationship:(0,i._)((0,o._)({},e.question.relationship),{isFollowing:T})})}):e})})))},e)}return e},invitationCandidates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,u._)(Object.values(f.Hp.GET_INVITATION_CANDIDATES)).concat((0,u._)(Object.values(f.Hp.UPDATE_INVITATION)),(0,u._)(Object.values(f.Hp.UPDATE_ONCE_INVITE))).includes(t.type)?(0,r._)({},t.id,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isDrained:!1,items:[],searchItems:[],onceDisabled:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.Hp.GET_INVITATION_CANDIDATES.request:return(0,i._)((0,o._)({},e),{isFetching:!0});case f.Hp.GET_INVITATION_CANDIDATES.success:return(0,i._)((0,o._)({},e),(0,r._)({isFetching:!1,isDrained:!0},t.keyword?"searchItems":"items",t.result));case f.Hp.GET_INVITATION_CANDIDATES.failure:return(0,i._)((0,o._)({},e),{isFetching:!1});case f.Hp.UPDATE_ONCE_INVITE.success:var n=e.items.map(function(e){return(0,i._)((0,o._)({},e),{isInvited:!0})});return(0,i._)((0,o._)({},e),{items:n});case f.Hp.UPDATE_ONCE_INVITE.request:return(0,i._)((0,o._)({},e),{onceDisabled:!0});case f.Hp.UPDATE_INVITATION.request:case f.Hp.UPDATE_INVITATION.failure:var a=e.items,c=e.searchItems,s=a.findIndex(function(e){return e.member===t.urlToken}),l=c.findIndex(function(e){return e.member===t.urlToken});if(s>=0){var d=a[s];return(0,i._)((0,o._)({},e),{items:(0,u._)(a.slice(0,s)).concat([(0,i._)((0,o._)({},d),{isInvited:!d.isInvited})],(0,u._)(a.slice(s+1)))})}if(l>=0){var _=c[l];return(0,i._)((0,o._)({},e),{searchItems:(0,u._)(c.slice(0,l)).concat([(0,i._)((0,o._)({},_),{isInvited:!_.isInvited})],(0,u._)(c.slice(l+1)))})}return e;default:return e}}(e[t.id],t)):e},inviters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_INVITERS.success){var n=t.id,u=t.payload.data;return(0,i._)((0,o._)({},e),(0,r._)({},n,u))}if(t.type===f.Hp.GET_ALL_INVITERS.success){var a=t.id,c=t.payload.data;return(0,i._)((0,o._)({},e),(0,r._)({},"".concat(a,"_all"),c))}return e},invitees:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return(0,u._)(Object.values(f.Hp.GET_INVITEES)).concat((0,u._)(Object.values(f.Hp.UPDATE_INVITATION)),(0,u._)(Object.values(f.Hp.UPDATE_ONCE_INVITE))).includes(t.type)?(0,r._)({},t.id,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isDrained:!1,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.Hp.GET_INVITEES.request:return(0,i._)((0,o._)({},e),{isFetching:!0});case f.Hp.GET_INVITEES.success:return(0,i._)((0,o._)({},e),{isFetching:!1,isDrained:!0,items:t.result});case f.Hp.GET_INVITEES.failure:return(0,i._)((0,o._)({},e),{isFetching:!1});case f.Hp.UPDATE_ONCE_INVITE.success:var n=e.items,r=t.userTokens,a=(0,u._)(n);return(0,i._)((0,o._)({},e),{items:c()((0,u._)(r).concat((0,u._)(a)))});case f.Hp.UPDATE_INVITATION.request:var s=t.urlToken,l=e.items,d=l.indexOf(s),_=(0,u._)(l);if(d<0)return(0,i._)((0,o._)({},e),{items:[s].concat((0,u._)(_))});return _.splice(d,1),(0,i._)((0,o._)({},e),{items:(0,u._)(_),deleteIndex:d});case f.Hp.UPDATE_INVITATION.failure:var p=t.urlToken,T=e.items,E=T.indexOf(p),h=(0,u._)(T);if(E>=0)return h.splice(p,1),(0,i._)((0,o._)({},e),{items:(0,u._)(h)});return h.splice(e.deleteIndex,0,p),(0,i._)((0,o._)({},e),{items:(0,u._)(h),deleteIndex:-1});default:return e}}(e[t.id],t)):e},similarQuestions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_SIMILAR_QUESTIONS.success){var n=t.id,u=t.payload.data;return(0,i._)((0,o._)({},e),(0,r._)({},n,u))}return e},questionBanners:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_QUESTION_BANNER.success){var n=t.id,u=t.payload.data;return(0,i._)((0,o._)({},e),(0,r._)({},n,u))}return e},relatedCommodities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_RELATED_COMMODITIES.success){var n=t.id,u=t.payload,a=u.data,c=u.attachedInfo;return a.attachedInfo=c,(0,i._)((0,o._)({},e),(0,r._)({},n,a))}return e},bio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.id,u=e[n]||{};return t.type===f.Hp.GET_BIO.success?(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},u),{result:t.payload}))):t.type===f.Hp.CHOOSE_BIO.success?(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},u),{result:t.bio}))):e},brand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===f.Hp.GET_BRAND.success?t.payload:e},permission:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===f.Hp.GET_BRAND_QUESTION_PERMISSION.success?t.payload:e},adverts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_ANSWERS.success&&t.payload.adInfo){var n=t.payload.adInfo,i=n.position,u=n.ad,a=n.adjson;return(0,o._)({},e,(0,r._)({},i,{ad:u,adjson:a}))}return e},advancedStyle:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===f.Hp.GET_BRAND_QUESTION_ADVANCED_STYLE.success?t.payload:e},commonAnswerCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return t.type===f.Hp.GET_ANSWER_COUNT.success?t.payload.answerCount:t.type===_.uJ.COLLAPSE.success?"nobody"===t.answer.collapsedBy?e-1:e+1:e},hiddenAnswerCount:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return t.type===f.Hp.GET_ANSWER_COUNT.success?t.payload.hiddenAnswerCount:t.type===_.uJ.COLLAPSE.success?"org"===t.collapsedBy||"advertiser"===t.collapsedBy?e+1:e-1:e},topicMeta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_META_TOPICS.success){var n=t.payload,u=t.id;return(0,i._)((0,o._)({},e),(0,r._)({},u,n))}return e},bluestarRanklist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.LOAD_RELATED_BLUESTAR_RANKLIST.success){var n=t.payload,u=t.id;return(0,i._)((0,o._)({},e),(0,r._)({},u,n))}return e},relatedSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_RELATED_SEARCH.success){var n=t.id,u=t.payload;return(0,i._)((0,o._)({},e),(0,r._)({},n,u))}return e},autoInvitation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_AUTO_INVITATION.success){var n=t.payload,u=void 0===n?{}:n,a=t.id;return(0,i._)((0,o._)({},e),(0,r._)({},a,u))}if(t.type===f.Hp.OPEN_AUTO_INVITATION.success){var c=t.id,s=e[c];return(0,i._)((0,o._)({},e),(0,r._)({},c,(0,i._)((0,o._)({},s),{status:"open"})))}if(t.type===f.Hp.CLOSE_AUTO_INVITATION.success){var l=t.id,d=e[l];return(0,i._)((0,o._)({},e),(0,r._)({},l,(0,i._)((0,o._)({},d),{status:"close"})))}return e},simpleConcernedFollowers:(0,p.Fd)(f.Hp.GET_SIMPLE_CONCERNED_FOLLOWERS),draftStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_DRAFT.request){var n=t.id;return(0,i._)((0,o._)({},e),(0,r._)({},n,{loading:!0}))}if(t.type===f.Hp.GET_DRAFT.success||t.type===f.Hp.GET_DRAFT.failure){var u=t.id;return(0,i._)((0,o._)({},e),(0,r._)({},u,{loading:!1}))}return e},disclaimers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===f.Hp.GET_DISCLAIMERS.success){var n=t.id,u=t.payload.data;return(0,i._)((0,o._)({},e),(0,r._)({},n,u))}return e},isShowMobileSignInModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===f.yV.SHOW_MOBILE_SIGN_IN_MODAL?t.payload:e}}),h=n(31824),v=n(28814),m=function(e,t){var n=t.id;return(e.entities.drafts||{})["question_".concat(n)]};function A(e,t){var n=t.id;return(e.entities.questions||{})[n]}function I(e,t){var n=t.id;return e.question.topicMeta[n]}var y=function(e,t){var n;return null===(n=e.question.bluestarRanklist)||void 0===n?void 0:n[t]};function O(e){var t;return(null==e?void 0:null===(t=e.muteInfo)||void 0===t?void 0:t.type)==="special_mute"}function S(e){var t;return(null==e?void 0:null===(t=e.muteInfo)||void 0===t?void 0:t.type)==="freeze"}function g(e,t){var n=t.id,r=e.question.simpleConcernedFollowers[n];return r?r.ids.map(function(t){return(0,v.np)(e,{id:t})}):null}function C(e){return e.question.adverts}var N=(0,h.P1)(C,function(e){return[0].concat((0,u._)(Object.keys(e||{}).map(Number).sort(function(e,t){return e-t})))});function R(e){return e.question?e.question.permission:{}}function P(e,t){return e.question.inviters["".concat(t,"_all")]}function D(e,t){var n,r,o,i=t.id;return null===(n=e.commercialReport)||void 0===n?void 0:null===(r=n.questions)||void 0===r?void 0:null===(o=r[i])||void 0===o?void 0:o.isCommercialReported}var L=E},35586:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c},m3:function(){return a}});var r=n(87320),o=n(55164),i=n(57477),u=(0,n(39288).co)("readStatus",["UPDATE"]);function a(e,t){return{type:u.UPDATE,data:{item:e,isRead:t}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===u.UPDATE){var n=t.data,a=n.item,c=a.type,s=a.id,l=n.isRead;return(0,i._)((0,o._)({},e),(0,r._)({},c,(0,i._)((0,o._)({},e[c]),(0,r._)({},s,l))))}return e}},72238:function(e,t,n){"use strict";n.d(t,{Gz:function(){return h},To:function(){return T},ZP:function(){return m},cP:function(){return E},mA:function(){return f}});var r=n(10840),o=n(20382),i=n(55164),u=n(57477),a=n(74135),c=n(81897),s=n.n(c),l=n(4785),d=n(66263),_=n(39288),p=(0,i._)({},(0,_.FH)("register",["DIGITS","REGISTER","VALIDATE_DIGITS","VALIDATE_REGISTER_FORM","GET_WECHAT_SOCIAL_INFO"]),(0,_.co)("register",["RESET_REGISTER_VALIDATE_RESULT"]));function f(){return{type:p.RESET_REGISTER_VALIDATE_RESULT}}function T(e){return{API:{types:p.VALIDATE_REGISTER_FORM,endpoint:"v3/oauth/validate/register_form",method:"POST",fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,l.Z)((0,a.decamelizeKeys)(e))}}}}function E(e){var t=(0,r._)({},(0,o._)(e));return function(e){return e(f()),e(T(t)).then(function(n){n.payload.success&&e(function(e){return e(f()),e({API:{types:p.REGISTER,endpoint:"v3/oauth/register",method:"POST",fetchOptions:{credentials:"include",zsEncrypt:!0,body:(0,l.Z)((0,a.decamelizeKeys)(t))}},NOTIFICATION:!1})})})}}var h=function(e,t){return function(n){var r=s().get("atoken"),o=s().get("atoken_expired_in");if(!r)return Promise.reject();var i=(0,l.z)((0,a.decamelizeKeys)({socialType:e,appkey:d.M5[t||e],expires_at:o,accessToken:r,source:"com.zhihu.web"}));return n({API:{types:p.GET_WECHAT_SOCIAL_INFO,endpoint:"/v3/oauth/social/info",method:"POST",body:i,fetchOptions:{credentials:"include"}},NOTIFICATION:!1})}},v={registerValidateSucceeded:null,registerValidateErrors:{},registerConfirmError:null,sendDigitsError:null,registerConfirmSucceeded:null};function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.type;if(n===p.VALIDATE_REGISTER_FORM.success){var r=t.payload;return(0,u._)((0,i._)({},e),{registerValidateSucceeded:!!r.success,registerValidateErrors:(0,i._)({},e.registerValidateErrors,r)})}return n===p.VALIDATE_REGISTER_FORM.failure?(0,u._)((0,i._)({},e),{registerConfirmError:(0,_.O1)(t.err.payload)}):n===p.RESET_REGISTER_VALIDATE_RESULT?(0,i._)({},v):n===p.REGISTER.success?(0,u._)((0,i._)({},e),{registerConfirmSucceeded:!0}):n===p.REGISTER.failure?(0,u._)((0,i._)({},e),{registerConfirmSucceeded:!1,registerConfirmError:(0,_.O1)(t.err.payload)}):n===p.DIGITS.failure?(0,u._)((0,i._)({},e),{sendDigitsError:t.err.payload.message}):n===p.VALIDATE_DIGITS.failure?(0,u._)((0,i._)({},e),{registerValidateErrors:(0,i._)({},e.registerValidateErrors,(0,_.O1)(t.err.payload))}):e}},48132:function(e,t,n){"use strict";n.d(t,{Hj:function(){return _},Ob:function(){return l}});var r=n(55164),o=n(57477),i=n(74135),u=n(39716),a=n(39288),c=n(67927),s=(0,a.FH)("report",["ADD","REPORT_USER_ACTION"]),l=function(e){var t=e.message;return[103006,103007].includes(e.code)?t||u.dC.failure:[103003,103001].includes(e.code)?u.dC.duplicate:u.dC.failure},d=u.dC.success;function _(e){var t=e.resourceId,n=e.resourceIds,u=e.type,a=e.reasonType,_=e.reasonId,p=e.customReason,f=e.source,T=e.reportedMemberHashId,E=e.options,h=void 0===E?{}:E,v=e.url,m=e.pictures;return{API:{types:s.ADD,endpoint:"reports",method:"POST",body:(0,i.decamelizeKeys)((0,o._)((0,r._)({},t&&{resourceId:t},n&&{resourceIds:n}),{type:u,reasonType:a,reasonId:_,reasonKey:_,customReason:p,source:void 0===f?"web":f,reportedMemberHashId:T,url:v,pictures:m}))},NOTIFICATION:void 0===h.NOTIFICATION?{key:"comment"===u?c.zQ:c.V8,success:d,failure:l}:h.NOTIFICATION}}},39041:function(e,t,n){"use strict";n.d(t,{ZP:function(){return m},bG:function(){return v},Jg:function(){return p},$T:function(){return _},gT:function(){return f},OO:function(){return T}});var r=n(87320),o=n(55164),i=n(57477),u=n(39288),a=n(4785),c=n(28953),s=(0,u.FH)("republish",["GET_ARTICLE_REPUBLISH_REQUESTS","GET_ALL_REPUBLISH_REQUESTS","POST_ARTICLE_REPUBLISH","UPDATE_REPUBLISH_PERMISSION"]),l={cancel:"canceled",approve:"approved",reject:"rejected"},d={column:"column_owner",article:"article_author"};function _(e){return{meta:{entityType:"article"},API:{types:s.GET_ARTICLE_REPUBLISH_REQUESTS,endpoint:"/articles/".concat(e,"/republish-requests")},FAILSAFE:!0,schema:c.l.REPUBLISH_ARRAY}}function p(e,t){var n=d[t];return function(r,o){var i,u,a=(null!==(u=null===(i=o().republish)||void 0===i?void 0:i[t])&&void 0!==u?u:{}).paging,l=(null==a?void 0:a.isEnd)===!1?a.next:"/members/".concat(e,"/republish-requests?role=").concat(n);return r({meta:{id:e,entityType:t},API:{types:s.GET_ALL_REPUBLISH_REQUESTS,endpoint:l},FAILSAFE:!0,schema:c.l.REPUBLISH_ARRAY})}}function f(e){var t=e.requestId,n=e.action,i=e.articleId,u=e.columnId;return{API:{types:s.POST_ARTICLE_REPUBLISH,endpoint:"/articles/".concat(i,"/republish"),method:"POST",body:(0,o._)({action:n},"create"===n?{column:u}:{request_id:t})},meta:{articleId:i,requestId:t,result:n},UPDATE:{success:function(){return{republishes:(0,r._)({},t,{state:l[n]})}}}}}function T(e,t){return function(n,o){var i=o().entities.articles[e];return n({API:{types:s.UPDATE_REPUBLISH_PERMISSION,endpoint:"/articles/".concat(e,"/copyright-permission"),method:"PUT",body:(0,a.Z)({copyright_permission:t})},UPDATE:{request:{articles:(0,r._)({},e,{copyrightPermission:t})},failure:{articles:(0,r._)({},e,i)}}})}}var E=n(71728),h=function(e){var t=e.isAuthor,n=e.isProfile,r=e.requestType;return n?"approver":t&&"self_recommend"===r?"proposer":"approver"},v=function(e,t){var n=t.isAuthor,r=t.isProfile,u=t.entityType,a=t.requestType,c=e.entities.republishes||{},s=Object.keys(c).map(function(e){return c[e]}).filter(function(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=h({isAuthor:n,isProfile:r,requestType:a});return"column"===u?o[i]===e.currentUser&&"self_recommend"===o.requestType:o[i]===e.currentUser&&(null===(t=o.object)||void 0===t?void 0:t.schema)===u&&o.requestType===(a||"invite")});return(null==s?void 0:s[0])?s.map(function(t){var n,r=t.object,u=r.id,a=r.schema,c=t.destination,s=t.proposer,l=t.approver,d=(0,E._)(t,["object","destination","proposer","approver"]);return(0,i._)((0,o._)({},d),{object:null===(n=e.entities["".concat(a,"s")])||void 0===n?void 0:n[u],destination:e.entities.columns[c],approver:e.entities.users[l],proposer:e.entities.users[s]})}):[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.meta,a=t.payload;if(n===s.GET_ARTICLE_REPUBLISH_REQUESTS.request||n===s.GET_ARTICLE_REPUBLISH_REQUESTS.failure||n===s.GET_ALL_REPUBLISH_REQUESTS.failure||n===s.GET_ALL_REPUBLISH_REQUESTS.request){var c=u.entityType;return(0,i._)((0,o._)({},e),(0,r._)({},c,(0,i._)((0,o._)({},e[c]),{isLoading:n===s.GET_ARTICLE_REPUBLISH_REQUESTS.request||n===s.GET_ALL_REPUBLISH_REQUESTS.request})))}if(n===s.GET_ALL_REPUBLISH_REQUESTS.success||n===s.GET_ARTICLE_REPUBLISH_REQUESTS.success){var l=u.entityType,d=a.paging;return(0,i._)((0,o._)({},e),(0,r._)({},l,(0,i._)((0,o._)({},e[l]),{paging:d,isLoading:!1})))}return e}},67036:function(e,t,n){"use strict";n.d(t,{$U:function(){return N},$j:function(){return R},Ad:function(){return T},BE:function(){return A},Cf:function(){return E},Js:function(){return O},OC:function(){return g},TN:function(){return C},ZP:function(){return L},Ze:function(){return m},i3:function(){return I},nb:function(){return v},on:function(){return S},pb:function(){return h},vu:function(){return y}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(74135),c=n(95769),s=n.n(c),l=n(39288),d=n(67927),_=n(69906),p=n(66263),f=(0,o._)({},(0,l.FH)("reward",["ADD_REWARD","GET_REWARD_USER","ADD_ARTICLE_REWARD","GET_REWARD_USER_DETAILS","GET_ARTICLE_REWARD_USER","GET_PAGING_ARTICLE_REWARD_USER","GET_PAGING_ARTICLE_REWARD_USER_DETAILS","UPDATE_ARTICLE_REWARD","UPDATE_REWARD_FOLLOWERS"]),(0,l.co)("reward",["REMOVE_TRADE_NUMBER","ADD_REWARD_TAGLINE","ON_REWARD_SUCCESS","UPDATE_ENTITIES_USERS","UPDATE_QUESTION_REWARDINFO"]));function T(e,t){return function(n,r){var o=r().reward,i=o.answer,u=o.article,a=Object.keys(i).length>0,c=a?i:u,s=Object.keys(c)[0],l=Object.values(c)[0].users,_=l.filter(function(t){return t.urlToken===e})[0],T=l.indexOf(_);return n(_.isBlocked?(0,d.c0)(p.T$.blocked,"red"):{id:s,user:_,count:t?1:-1,index:T,expect:t,rewardType:a?"answer":"article",API:{types:f.UPDATE_REWARD_FOLLOWERS,endpoint:"members/".concat(_.urlToken,"/followers"),method:t?"POST":"DELETE"}})}}function E(e,t,n){return function(r){return r({API:{types:f.ADD_REWARD,endpoint:"/answers/".concat(e,"/rewarders"),method:"POST",body:(0,a.decamelizeKeys)({amount:t,type:n})},id:e})}}function h(e,t){return function(n){return n({API:{types:f.ADD_ARTICLE_REWARD,endpoint:"/articles/".concat(e,"/tipjar_wallet"),method:"POST",body:(0,a.decamelizeKeys)({price:Number(t)})},id:e})}}function v(e){return function(t){return t({API:{types:f.GET_ARTICLE_REWARD_USER,endpoint:"/articles/".concat(e,"/tipjar"),method:"GET"},id:e})}}function m(e){return function(t){return t({API:{types:f.GET_PAGING_ARTICLE_REWARD_USER,endpoint:"/articles/".concat(e,"/tipjarors"),method:"GET"},id:e})}}function A(e){return function(t){return t({API:{types:f.GET_PAGING_ARTICLE_REWARD_USER_DETAILS,endpoint:"/articles/".concat(e,"/rewarddetails"),method:"GET"},id:e})}}function I(e,t,n){return function(r){var o={tagline:t};return"boolean"==typeof n&&(o.canTip=n),r({API:{types:f.UPDATE_ARTICLE_REWARD,endpoint:"/articles/".concat(e),method:"PUT",body:(0,a.decamelizeKeys)({tipjarSetting:o})},id:e,tagline:t,canTip:n})}}function y(e){return function(t,n){var r=(n().reward[e]||{}).endpoint;return t({API:(0,o._)({types:f.GET_REWARD_USER},r?{endpoint:r}:{endpoint:"answers/".concat(e,"/rewarders"),method:"GET",query:{include:"data[*].answer_count,articles_count,follower_count,is_blocking,is_blocked,is_following,is_followed",offset:0,limit:_.VZ}}),id:e})}}function O(e){return function(t,n){var r=(n().reward[e]||{}).endpoint;return t({API:(0,o._)({types:f.GET_REWARD_USER_DETAILS},r?{endpoint:r}:{endpoint:"answers/".concat(e,"/rewarddetails"),method:"GET",query:{include:"data[*].rewarder.answer_count,articles_count,follower_count,is_blocking,is_blocked,is_following,is_followed",offset:0,limit:_.VZ}}),id:e,NOTIFICATION:!1})}}function S(e,t){return{type:f.REMOVE_TRADE_NUMBER,appsType:t,id:e}}function g(e,t){return{type:f.ADD_REWARD_TAGLINE,text:e,id:t}}function C(e,t,n){return{type:f.ON_REWARD_SUCCESS,appsType:n,users:e,id:t}}function N(e){return{type:f.UPDATE_ENTITIES_USERS,entities:{users:e}}}function R(e,t){return{type:f.UPDATE_QUESTION_REWARDINFO,questionId:e,isRewardable:t}}function P(e){var t=[];return e.forEach(function(e){var n=e.amount,r=e.created,o=e.rewarder;o.amount=n,o.rewardCreated=r;var i=t.findIndex(function(e){return e.urlToken===o.urlToken});if(-1!==i){t[i].amount+=o.amount;return}t.push(o)}),t}var D={answer:{},article:{},question:{}};function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,c=t.id;if(n===f.ADD_REWARD.success)return(0,i._)((0,o._)({},e),{answer:(0,i._)((0,o._)({},e.answer),(0,r._)({},c,{users:e.answer[c].users,tradeNumber:a.tradeNumber}))});if(n===f.REMOVE_TRADE_NUMBER){var l=t.appsType;return(0,i._)((0,o._)({},e),(0,r._)({},l,(0,i._)((0,o._)({},e[l]),(0,r._)({},c,{users:e.answer[c].users,tradeNumber:""}))))}if(n===f.ADD_REWARD_TAGLINE)return(0,i._)((0,o._)({},e),{answer:(0,i._)((0,o._)({},e.answer),(0,r._)({},c,{users:e.answer[c].users,tradeNumber:e[c].tradeNumber,rewardTagline:t.text}))});if(n===f.GET_REWARD_USER.success)return(0,i._)((0,o._)({},e),{answer:(0,i._)((0,o._)({},e.answer),(0,r._)({},c,{users:e.answer[c]?s()((0,u._)(e.answer[c].users).concat((0,u._)(a.data)),"id"):a.data,endpoint:a.paging.next}))});if(n===f.ON_REWARD_SUCCESS){var d=t.users,_=t.appsType;return(0,i._)((0,o._)({},e),(0,r._)({},_,(0,i._)((0,o._)({},e[_]),(0,r._)({},c,{users:d}))))}if(n===f.GET_REWARD_USER_DETAILS.success){var p=P(a.data);return(0,i._)((0,o._)({},e),{answer:(0,i._)((0,o._)({},e.answer),(0,r._)({},c,{users:e.answer[c]?s()((0,u._)(e.answer[c].users).concat((0,u._)(p)),"id"):p,notice:a.notice,endpoint:a.paging.next}))})}if(n===f.UPDATE_QUESTION_REWARDINFO){var T=t.questionId,E=t.isRewardable;return(0,i._)((0,o._)({},e),{question:(0,i._)((0,o._)({},e.question),(0,r._)({},T,{isRewardable:E}))})}else if(n===f.GET_ARTICLE_REWARD_USER.success)return(0,i._)((0,o._)({},e),{article:(0,i._)((0,o._)({},e.article),(0,r._)({},c,(0,o._)({},a)))});else if(n===f.GET_PAGING_ARTICLE_REWARD_USER.success){var h=a.data,v=a.paging.next;return(0,i._)((0,o._)({},e),{article:(0,i._)((0,o._)({},e.article),(0,r._)({},c,(0,i._)((0,o._)({},e.article[c]),{users:h,endpoint:v})))})}else if(n===f.GET_PAGING_ARTICLE_REWARD_USER_DETAILS.success){var m=a.data,A=a.paging.next,I=a.notice,y=P(m);return(0,i._)((0,o._)({},e),{article:(0,i._)((0,o._)({},e.article),(0,r._)({},c,(0,i._)((0,o._)({},e.article[c]),{users:y,notice:I,endpoint:A})))})}else if(n===f.UPDATE_ARTICLE_REWARD.success){var O=t.tagline,S=t.canTip;return(0,i._)((0,o._)({},e),{article:(0,i._)((0,o._)({},e.article),(0,r._)({},c,(0,i._)((0,o._)({},e.article[c]),{bio:O,canTip:S})))})}else if(n===f.ADD_ARTICLE_REWARD.success)return(0,i._)((0,o._)({},e),{article:(0,i._)((0,o._)({},e.article),(0,r._)({},c,(0,i._)((0,o._)({},e.article[c]),{tradeNumber:a.tradeNumber})))});else if(n===f.UPDATE_REWARD_FOLLOWERS.request){var g=t.rewardType,C=t.id,N=t.user,R=t.count,L=t.expect,w=t.index,b=e[g][C].users.map(function(e,t){return t===w&&(e.followerCount=N.followerCount+R,e.isFollowing=L),e});return(0,i._)((0,o._)({},e),(0,r._)({},g,(0,i._)((0,o._)({},e[g]),(0,r._)({},C,(0,i._)((0,o._)({},e[g][C]),{users:b})))))}else if(n===f.UPDATE_REWARD_FOLLOWERS.failure){var G=t.rewardType,U=t.id,k=t.user,M=t.index,F=e[G][U].users.map(function(e,t){var n=e;return M===t&&(n=k),n});return(0,i._)((0,o._)({},e),(0,r._)({},G,(0,i._)((0,o._)({},e[G]),(0,r._)({},U,(0,i._)((0,o._)({},e[G][U]),{users:F})))))}return e}},37208:function(e,t,n){"use strict";n.d(t,{ZP:function(){return R},eB:function(){return y},R8:function(){return m},g4:function(){return h},AO:function(){return f},UD:function(){return E},G6:function(){return T},ap:function(){return A},VM:function(){return v},Tg:function(){return C},n1:function(){return N},e:function(){return S},zW:function(){return g},OQ:function(){return I}});var r=n(87320),o=n(55164),i=n(57477),u=n(97379),a=n.n(u),c=n(54463),s=n.n(c),l=n(28953),d=n(39288),_="roundtable",p=(0,o._)({},(0,d.FH)(_,["LOAD_OLD_ROUNDTABLE","LOAD_ROUNDTABLE_LIST","LOAD_ROUNDTABLE_DETAIL","LOAD_ROUNDTABLE_HOT_QUESTIONS","LOAD_ROUNDTABLE_WARM_UP_CONTENTS","LOAD_ROUNDTABLE_HOT_DISCUSSIONS","LOAD_ROUNDTABLE_SELECTED_CONTENTS","TOGGLE_FOLLOW_ROUNDTABLE"]),(0,d.co)(_,["EMPTY_ROUNDTABLE"]));function f(e){return{API:{types:p.LOAD_OLD_ROUNDTABLE,endpoint:"roundtables/".concat(e),query:{include:"description,guests,activities_count,questions_count,followers,stop_time,banner,is_following"}},schema:l.l.ROUNDTABLE}}function T(){return function(e,t){var n,r=null===(n=t().roundtables.roundtables.paging)||void 0===n?void 0:n.next;return e({API:{types:p.LOAD_ROUNDTABLE_LIST,endpoint:r||"/roundtables"}})}}function E(e){return{API:{types:p.LOAD_ROUNDTABLE_DETAIL,endpoint:"/roundtables/".concat(e),query:{include:"color,description,is_following,followers_count,visits_count,organizers,guests,hosts"}},schema:l.l.ROUNDTABLE}}function h(e){return function(t,n){var r,o,i=null===(r=n().roundtables.hotQuestions[e])||void 0===r?void 0:null===(o=r.paging)||void 0===o?void 0:o.next;return t({API:{types:p.LOAD_ROUNDTABLE_HOT_QUESTIONS,endpoint:i||"/roundtables/".concat(e,"/hot-questions"),query:{include:"data[*].question.relationship"}},meta:{urlToken:e},schema:[{answers:l.l.ANSWER_ARRAY,question:l.l.QUESTION}]})}}function v(e){return{API:{types:p.LOAD_ROUNDTABLE_WARM_UP_CONTENTS,endpoint:"/roundtables/".concat(e,"/warmup_contents")},meta:{urlToken:e},schema:l.l.QUESTION_ARRAY}}function m(e){return function(t,n){var r,o,i=null===(r=n().roundtables.hotDiscussions[e])||void 0===r?void 0:null===(o=r.paging)||void 0===o?void 0:o.next;return t({API:{types:p.LOAD_ROUNDTABLE_HOT_DISCUSSIONS,endpoint:i||"/roundtables/".concat(e,"/hot_discussions")},meta:{urlToken:e},schema:[{answers:l.l.ANSWER_ARRAY,question:l.l.QUESTION,article:l.l.ARTICLE}]})}}function A(e){return function(t,n){var r,o,i=null===(r=n().roundtables.selectedContents[e])||void 0===r?void 0:null===(o=r.paging)||void 0===o?void 0:o.next;return t({API:{types:p.LOAD_ROUNDTABLE_SELECTED_CONTENTS,endpoint:i||"/roundtables/".concat(e,"/selected_contents")},meta:{urlToken:e},schema:[{answer:l.l.ANSWER,article:l.l.ARTICLE}]})}}function I(e){return function(t,n){var o=n().entities.roundtables[e],i=o.isFollowing,u=o.followersCount;return t({API:{types:p.TOGGLE_FOLLOW_ROUNDTABLE,endpoint:"roundtables/".concat(e,"/followers"),method:i?"DELETE":"POST"},UPDATE:{request:{roundtables:(0,r._)({},e,{isFollowing:!i,followersCount:i?u-1:u+1})},failure:{roundtables:(0,r._)({},e,o)}}})}}function y(){return{type:p.EMPTY_ROUNDTABLE}}var O={hotQuestions:{},warmupContents:{},hotDiscussions:{},selectedContents:{},roundtables:{}},S=function(e){return e.roundtables.roundtables},g=function(e){return function(t){return t.entities.questions[e]}},C=function(e){return function(t){return t.entities.answers[e]}},N=function(e){return function(t){return t.entities.articles[e]}},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.payload;switch(n){case p.LOAD_ROUNDTABLE_LIST.request:return(0,i._)((0,o._)({},e),{roundtables:(0,i._)((0,o._)({},e.roundtables),{isLoading:!0})});case p.LOAD_ROUNDTABLE_LIST.failure:return(0,i._)((0,o._)({},e),{roundtables:(0,i._)((0,o._)({},e.roundtables),{isLoading:!1})});case p.LOAD_ROUNDTABLE_LIST.success:if(u){var c=u.data,l=u.paging;return(0,i._)((0,o._)({},e),{roundtables:(0,i._)((0,o._)({},e.roundtables),{isLoading:!1,paging:l,data:s()(e.roundtables.data,c,"urlToken")})})}return(0,i._)((0,o._)({},e),{roundtables:(0,i._)((0,o._)({},e.roundtables),{isLoading:!1})});case p.LOAD_ROUNDTABLE_HOT_QUESTIONS.request:var d=t.meta.urlToken;return(0,i._)((0,o._)({},e),{hotQuestions:(0,i._)((0,o._)({},e.hotQuestions),(0,r._)({},d,(0,i._)((0,o._)({},e.hotQuestions[d]),{isLoading:!0})))});case p.LOAD_ROUNDTABLE_HOT_QUESTIONS.failure:var _=t.meta.urlToken;return(0,i._)((0,o._)({},e),{hotQuestions:(0,i._)((0,o._)({},e.hotQuestions),(0,r._)({},_,(0,i._)((0,o._)({},e.hotQuestions[_]),{isLoading:!1})))});case p.LOAD_ROUNDTABLE_HOT_QUESTIONS.success:var f,T=t.meta.urlToken,E=u.data,h=u.paging,v=E.map(function(e){var t=e.question,n=e.answers;return t?{question:{id:t.id},answers:n.map(function(e){return{id:e.id}})}:null});return(0,i._)((0,o._)({},e),{hotQuestions:(0,i._)((0,o._)({},e.hotQuestions),(0,r._)({},T,(0,i._)((0,o._)({},e.hotQuestions[T]),{isLoading:!1,paging:h,data:a()(null===(f=e.hotQuestions[T])||void 0===f?void 0:f.data,v)})))});case p.LOAD_ROUNDTABLE_WARM_UP_CONTENTS.request:var m=t.meta.urlToken;return(0,i._)((0,o._)({},e),{warmupContents:(0,i._)((0,o._)({},e.warmupContents),(0,r._)({},m,(0,i._)((0,o._)({},e.warmupContents[m]),{isLoading:!0})))});case p.LOAD_ROUNDTABLE_WARM_UP_CONTENTS.failure:var A=t.meta.urlToken;return(0,i._)((0,o._)({},e),{warmupContents:(0,i._)((0,o._)({},e.warmupContents),(0,r._)({},A,(0,i._)((0,o._)({},e.warmupContents[A]),{isLoading:!1})))});case p.LOAD_ROUNDTABLE_WARM_UP_CONTENTS.success:var I=t.meta.urlToken,y=u.data.map(function(e){return{question:{id:e.id}}});return(0,i._)((0,o._)({},e),{warmupContents:(0,i._)((0,o._)({},e.warmupContents),(0,r._)({},I,(0,i._)((0,o._)({},e.warmupContents[I]),{isLoading:!1,data:y})))});case p.LOAD_ROUNDTABLE_HOT_DISCUSSIONS.request:var S=t.meta.urlToken;return(0,i._)((0,o._)({},e),{hotDiscussions:(0,i._)((0,o._)({},e.hotDiscussions),(0,r._)({},S,(0,i._)((0,o._)({},e.hotDiscussions[S]),{isLoading:!0})))});case p.LOAD_ROUNDTABLE_HOT_DISCUSSIONS.failure:var g=t.meta.urlToken;return(0,i._)((0,o._)({},e),{hotDiscussions:(0,i._)((0,o._)({},e.hotDiscussions),(0,r._)({},g,(0,i._)((0,o._)({},e.hotDiscussions[g]),{isLoading:!1})))});case p.LOAD_ROUNDTABLE_HOT_DISCUSSIONS.success:var C,N=t.meta.urlToken,R=u.paging,P=u.data.map(function(e){var t=e.question,n=e.answers,r=e.article;return t?{question:{id:t.id},answers:(null==n?void 0:n.map(function(e){return{id:e.id}}))||[]}:r?{article:{id:r.id}}:null});return(0,i._)((0,o._)({},e),{hotDiscussions:(0,i._)((0,o._)({},e.hotDiscussions),(0,r._)({},N,(0,i._)((0,o._)({},e.hotDiscussions[N]),{isLoading:!1,paging:R,data:a()(null===(C=e.hotDiscussions[N])||void 0===C?void 0:C.data,P)})))});case p.LOAD_ROUNDTABLE_SELECTED_CONTENTS.request:var D=t.meta.urlToken;return(0,i._)((0,o._)({},e),{selectedContents:(0,i._)((0,o._)({},e.selectedContents),(0,r._)({},D,(0,i._)((0,o._)({},e.selectedContents[D]),{isLoading:!0})))});case p.LOAD_ROUNDTABLE_SELECTED_CONTENTS.failure:var L=t.meta.urlToken;return(0,i._)((0,o._)({},e),{selectedContents:(0,i._)((0,o._)({},e.selectedContents),(0,r._)({},L,(0,i._)((0,o._)({},e.selectedContents[L]),{isLoading:!1})))});case p.LOAD_ROUNDTABLE_SELECTED_CONTENTS.success:var w,b=t.meta.urlToken,G=u.paging,U=u.data.map(function(e){var t=e.answer,n=e.article;return t?{answer:{id:t.id}}:n?{article:{id:n.id}}:null});return(0,i._)((0,o._)({},e),{selectedContents:(0,i._)((0,o._)({},e.selectedContents),(0,r._)({},b,(0,i._)((0,o._)({},e.selectedContents[b]),{isLoading:!1,paging:G,data:a()(null===(w=e.selectedContents[b])||void 0===w?void 0:w.data,U)})))});case p.EMPTY_ROUNDTABLE:return(0,o._)({},e,O);default:return e}}},32023:function(e,t,n){"use strict";n.d(t,{AE:function(){return X},CP:function(){return j},FN:function(){return et},Ho:function(){return K},L:function(){return Y},Oq:function(){return Z},PU:function(){return M},Q$:function(){return ei},Qr:function(){return eo},UB:function(){return R},Xx:function(){return F},Z6:function(){return V},aF:function(){return J},bX:function(){return q},fy:function(){return z},fz:function(){return en},gT:function(){return B},kq:function(){return ee},le:function(){return W},m4:function(){return Q},n$:function(){return er},oy:function(){return $},vP:function(){return H},yj:function(){return x}});var r=n(87320),o=n(55164),i=n(57477),u=n(71728),a=n(49899),c=n(53582),s=n.n(c),l=n(92769),d=n.n(l),_=n(38322),p=n.n(_),f=n(89910),T=n.n(f),E=n(84),h=n(57045),v=n(94057),m=n(28953),A=n(39288),I=n(56628),y=n(61803),O=n(7407),S=n(67927),g=n(69906),C=(0,A.FH)("search",["GET_GENERAL","GET_GENERAL_A_DAY","GET_GENERAL_A_WEEK","GET_GENERAL_THREE_MONTHS","GET_PEOPLE","GET_TOPIC","GET_COLUMN","GET_LIVE","GET_KM_COURSE","GET_ALBUM","GET_EBOOK","GET_KM_GENERAL","GET_SUGGEST","GET_TOP_SEARCH","GET_NEW_TOP_SEARCH","GET_PRESET_WORDS","LIKE_TOPIC","CANCEL_LIKE_TOPIC","DISLIKE_TOPIC","GET_MOBILE_TOP_SEARCH","CANCEL_DISLIKE_TOPIC","GET_ZVIDEO","GET_SCHOLAR","GET_SIDEBAR","GET_CALENDAR","GET_SCORES","GET_STATS","GET_COURSES","GET_UNIVERSITIES","GET_ACE_MAJORS","GET_ADMISSIONS_GUIDE","GET_EMPLOYMENT_DESTINATION","GET_CUSTOM_FILTER_TAGS"]),N=(0,A.co)("search",["UPDATE_SEARCH_VALUE","CLEAR_SEARCH_QUERY_DATA"]),R=20,P=Object.values(d()(C,["GET_TOP_SEARCH","GET_MOBILE_TOP_SEARCH","GET_NEW_TOP_SEARCH"])).map(function(e){return e.success}),D={no_limit:m.l.SEARCH_ADVANCED_GENERAL_ARRAY,a_day:m.l.SEARCH_ADVANCED_GENERAL_ONE_DAY_ARRAY,a_week:m.l.SEARCH_ADVANCED_GENERAL_ONE_WEEK_ARRAY,three_months:m.l.SEARCH_ADVANCED_GENERAL_THREE_MONTHS_ARRAY},L={no_limit:C.GET_GENERAL,a_day:C.GET_GENERAL_A_DAY,a_week:C.GET_GENERAL_A_WEEK,three_months:C.GET_GENERAL_THREE_MONTHS},w=new E.fK.Array(new E.fK.Entity("searchKnowledgeGeneral")),b=new E.fK.Array(new E.fK.Entity("searchKnowledge")),G=function(e){return e.query},U=function(e){return"".concat(e.query,"/").concat(e.customQuery)},k=function(e,t){switch(e){case"people":return{action:C.GET_PEOPLE,schema:m.l.SEARCH_PEOPLE_ARRAY};case"zvideo":return{action:C.GET_ZVIDEO,schema:m.l.SEARCH_ZVIDEO_ARRAY};case"scholar":return{action:C.GET_SCHOLAR,schema:m.l.SEARCH_SCHOLAR_ARRAY};case"topic":return{action:C.GET_TOPIC,schema:m.l.SEARCH_TOPIC_ARRAY};case"column":return{action:C.GET_COLUMN,schema:m.l.SEARCH_COLUMN_ARRAY};case"live":return{action:C.GET_LIVE,schema:m.l.SEARCH_LIVE_ARRAY};case"km_course":return{action:C.GET_KM_COURSE,schema:b};case"publication":return{action:C.GET_EBOOK,schema:m.l.SEARCH_EBOOK_ARRAY};case"album":return{action:C.GET_ALBUM,schema:m.l.SEARCH_ALBUM_ARRAY};case"km_general":return{action:C.GET_KM_GENERAL,schema:w};default:return{action:L[t],schema:D[t]}}},M=function(e){return["knowledge_ad","knowledge_result"].includes(e.type)&&(!e.object||!e.object.answerObj)},F=function(e){return["knowledge_ad","knowledge_result"].includes(e.type)&&e.object&&e.object.answerObj},Z=function(e){var t,n,r;return(null==e?void 0:e.type)==="ebook_saltpick"&&(null==e?void 0:null===(t=e.object)||void 0===t?void 0:null===(n=t.card)||void 0===n?void 0:null===(r=n.saltPickMeta)||void 0===r?void 0:r.boxType)==="salt_brand_box"},B=function(e){return["knowledge_edu"].includes(e.type)};function H(){return{API:{endpoint:"search/customize",types:C.GET_CUSTOM_FILTER_TAGS},NOTIFICATION:!1}}function q(e){return function(t,n){var r,i=n(),a=(0,O.Hu)(i),c=i.search.customFilter.keys,s=i.search.customFilter.requestFinished,l=e.query,d=void 0===l?"":l,_=e.type,f=void 0===_?"general":_,T=e.correction,E=e.offset,h=void 0===E?0:E,v=e.limit,m=void 0===v?R:v,A=e.range,S=e.lcIdx,g=e.searchHashId,C=e.showAllTopics,N=e.verticalInfo,P=e.filterFields,D=(0,u._)(e,["query","type","correction","offset","limit","range","lcIdx","searchHashId","showAllTopics","verticalInfo","filterFields"]),L=(0,y.Vr)(f),w=(0,y.A6)(void 0===A?"no_limit":A),G=k(L,w),U=(0,I.YF)(L,w).keyNameInReducer,M="general"===f&&I.Cf.includes(w)&&"no_limit"!==w?{time_zone:w}:{},F=c.some(function(e){return!!D[e]}),Z=c.map(function(e){return null!==(r=D[e])&&void 0!==r?r:""}).join("_");if("general"!==f||s){var B=F?(0,o._)({search_source:"Filter"},p()(D,c)):{search_source:(null==D?void 0:D.search_source)||"Normal"},H=(0,o._)({gk_version:"gz-gaokao",t:L,q:d,correction:void 0===T?1:T,offset:h,limit:m,filterFields:P,lc_idx:void 0===S?0:S,show_all_topics:C?1:0},M,0===h?{}:{searchHashId:g},B);return h>0&&N&&(H.vertical_info=N),t({searchType:L,query:d,customQuery:Z,loadSearchType:U,nextOffset:h,API:{types:G.action,endpoint:"search_v3",query:H,headers:(0,o._)({"X-API-Version":"3.0.91","X-App-Za":"OS=Web"},a&&{"x-is-zhihu-mobile":1})},schema:["live","album","publication","km_course"].includes(f)?b:G.schema})}}}function x(e){return{API:{endpoint:"search/calendar",types:C.GET_CALENDAR,query:{q:e}},NOTIFICATION:!1}}function V(e){return{API:{endpoint:"search/sidebar",types:C.GET_SIDEBAR,query:{q:e}},FAILSAFE:!0}}function z(e){return{meta:{dataType:"stats-".concat(e)},API:{endpoint:"search/gaokao/major/".concat(e,"/stats"),types:C.GET_STATS,query:{gk_version:"gz-gaokao"}},NOTIFICATION:!1}}function K(e){return{meta:{dataType:"courses-".concat(e)},API:{endpoint:"search/gaokao/major/".concat(e,"/courses"),types:C.GET_COURSES,query:{gk_version:"gz-gaokao"}},NOTIFICATION:!1}}function W(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0;return function(i,u){var a,c,s=null===(a=u().search.majors["universities-".concat(e)])||void 0===a?void 0:null===(c=a.paging)||void 0===c?void 0:c.next;return i(s&&!o?{meta:{dataType:"universities-".concat(e)},API:{types:C.GET_UNIVERSITIES,endpoint:s}}:{meta:{dataType:"universities-".concat(e),isReset:o},API:{endpoint:"search/gaokao/major/".concat(e,"/universities"),types:C.GET_UNIVERSITIES,query:{gk_version:"gz-gaokao",province:t,class:n,tag:r}},NOTIFICATION:!1})}}function Y(e){return{meta:{dataType:"aceMajors"},API:{types:C.GET_ACE_MAJORS,endpoint:"/search/gaokao/university/".concat(e,"/majors"),query:{gk_version:"gz-gaokao"}},NOTIFICATION:!1}}function Q(e){return{meta:{dataType:"intro"},API:{types:C.GET_ADMISSIONS_GUIDE,endpoint:"/search/gaokao/university/".concat(e,"/intro"),query:{gk_version:"gz-gaokao"}},NOTIFICATION:!1}}function j(e){return{meta:{dataType:"employmentDestination"},API:{types:C.GET_EMPLOYMENT_DESTINATION,endpoint:"/search/gaokao/university/".concat(e,"/stats"),query:{gk_version:"gz-gaokao"}},NOTIFICATION:!1}}function X(e,t,n,r){return{meta:{dataType:"scores"},API:{types:C.GET_SCORES,endpoint:"/search/gaokao/university/".concat(e,"/scores"),query:{gk_version:"gz-gaokao",province:t,year:n,category:r}},NOTIFICATION:!1}}function J(){return{API:{endpoint:"search/top_search",types:C.GET_TOP_SEARCH},NOTIFICATION:!1}}function $(){return{API:{endpoint:"search/recommend_query/v2",types:C.GET_NEW_TOP_SEARCH},NOTIFICATION:!1}}function ee(e){return{API:{types:C.GET_SUGGEST,endpoint:"/search/suggest",query:{q:e},headers:{"X-API-Version":"3.0.91","X-App-Za":"OS=Web"}},NOTIFICATION:!1}}function et(){return{API:{endpoint:"search/preset_words",types:C.GET_PRESET_WORDS,headers:{"X-API-Version":"3.0.91","X-App-Za":"OS=Web"}},NOTIFICATION:!1}}function en(e,t,n){return{id:e,totalVotes:t,currentStatus:n,API:{types:C.LIKE_TOPIC,endpoint:"topics/".concat(e,"/vote/like"),method:"POST"},NOTIFICATION:{failure:S.XR}}}function er(e,t){return{id:e,totalVotes:t,API:{types:C.CANCEL_LIKE_TOPIC,endpoint:"topics/".concat(e,"/vote/like"),method:"DELETE"},NOTIFICATION:{failure:S.XR}}}function eo(e,t,n){return{id:e,totalVotes:t,currentStatus:n,API:{types:C.DISLIKE_TOPIC,endpoint:"topics/".concat(e,"/vote/dislike"),method:"POST"},NOTIFICATION:{failure:S.XR}}}function ei(e){return{id:e,API:{types:C.CANCEL_DISLIKE_TOPIC,endpoint:"topics/".concat(e,"/vote/dislike"),method:"DELETE"},NOTIFICATION:{failure:S.XR}}}t.ZP=(0,v.combineReducers)({recommendSearch:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;if(n.type===C.GET_GENERAL.success&&(null===(e=n.payload.relatedSearchResult)||void 0===e?void 0:e.length)){var r=n.payload.relatedSearchResult.map(function(e){return e.object||{}});return T()((0,a._)(t).concat((0,a._)(r)),function(e,t){return e.id===t.id&&e.type===t.type})}return t},topSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===C.GET_NEW_TOP_SEARCH.success?t.payload?t.payload.recommendQueries:e:t.type===C.GET_TOP_SEARCH.success?t.payload?t.payload.topSearch:e:t.type===C.GET_MOBILE_TOP_SEARCH.success&&t.payload?{words:t.payload.data}:e},searchValue:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===N.UPDATE_SEARCH_VALUE?{value:t.data.searchValue}:e},suggestSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===C.GET_SUGGEST.success&&t.payload?t.payload:e},attachedInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{generalByQuery:{}},t=arguments.length>1?arguments[1]:void 0,n=t.payload,u=t.loadSearchType,a=t.searchType,c=null==n?void 0:n.searchActionInfo;if(P.includes(t.type)&&c){if("general"===a){var s=U(t);return(0,i._)((0,o._)({},e),(0,r._)({},u,(0,i._)((0,o._)({},e[u]),(0,r._)({},s,c))))}return(0,i._)((0,o._)({},e),(0,r._)({},u,c))}return e},nextOffset:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{generalByQuery:{}},t=arguments.length>1?arguments[1]:void 0;if(t.type===N.CLEAR_SEARCH_QUERY_DATA)return{};if(P.includes(t.type)){var n,u=t.nextOffset,a=t.loadSearchType,c=t.payload,s=t.searchType,l=null==c?void 0:null===(n=c.paging)||void 0===n?void 0:n.next,d=l?(0,h.parse)(l.split("?")[1]):{},_=d.offset,p=d.limit,f=_?{offset:Number(_),limit:Number(p)}:{offset:u||0,limit:R};if("general"===s){var T=U(t);return(0,i._)((0,o._)({},e),(0,r._)({},a,(0,i._)((0,o._)({},e[a]),(0,r._)({},T,f))))}return(0,i._)((0,o._)({},e),(0,r._)({},a,f))}return e},topicReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.id,a=t.totalVotes,c=t.currentStatus;switch(n){case C.LIKE_TOPIC.success:return(0,i._)((0,o._)({},e),(0,r._)({},u,{status:"like",totalVotes:"dislike"===c?a:a+1}));case C.DISLIKE_TOPIC.success:return(0,i._)((0,o._)({},e),(0,r._)({},u,{status:"dislike",totalVotes:"like"===c?a:a+1}));case C.CANCEL_LIKE_TOPIC.success:case C.CANCEL_DISLIKE_TOPIC.success:return(0,i._)((0,o._)({},e),(0,r._)({},u,{status:"none",totalVotes:a-1}))}return e},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===C.GET_SIDEBAR.success&&t.payload?t.payload:e},calendar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===C.GET_CALENDAR.success&&t.payload?t.payload:e},scores:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===C.GET_SCORES.success&&t.payload?t.payload:e},majors:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,u=n.type,c=n.meta;switch(u){case C.GET_UNIVERSITIES.request:return(0,i._)((0,o._)({},t),(0,r._)({},c.dataType,(0,i._)((0,o._)({},t[c.dataType]),{isLoading:!0})));case C.GET_COURSES.success:case C.GET_STATS.success:return(0,i._)((0,o._)({},t),(0,r._)({},c.dataType,n.payload));case C.GET_UNIVERSITIES.success:return c.isReset?(0,r._)({},c.dataType,(0,i._)((0,o._)({},n.payload),{isLoading:!1})):(0,i._)((0,o._)({},t),(0,r._)({},c.dataType,(0,i._)((0,o._)({},t[c.dataType],n.payload),{isLoading:!1,universities:(0,a._)((null===(e=t[c.dataType])||void 0===e?void 0:e.universities)||[]).concat((0,a._)(n.payload.universities))})))}return t},university:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.meta;switch(n){case C.GET_ACE_MAJORS.success:case C.GET_ADMISSIONS_GUIDE.success:case C.GET_EMPLOYMENT_DESTINATION.success:case C.GET_SCORES.success:return(0,i._)((0,o._)({},e),(0,r._)({},u.dataType,t.payload))}return e},generalByQuery:(0,g.Fd)(C.GET_GENERAL,{mapActionToKey:U}),generalByQueryInADay:(0,g.Fd)(C.GET_GENERAL_A_DAY,{mapActionToKey:G}),generalByQueryInAWeek:(0,g.Fd)(C.GET_GENERAL_A_WEEK,{mapActionToKey:G}),generalByQueryInThreeMonths:(0,g.Fd)(C.GET_GENERAL_THREE_MONTHS,{mapActionToKey:G}),peopleByQuery:(0,g.Fd)(C.GET_PEOPLE,{mapActionToKey:G}),topicByQuery:(0,g.Fd)(C.GET_TOPIC,{mapActionToKey:G}),zvideoByQuery:(0,g.Fd)(C.GET_ZVIDEO,{mapActionToKey:G}),scholarByQuery:(0,g.Fd)(C.GET_SCHOLAR,{mapActionToKey:G}),columnByQuery:(0,g.Fd)(C.GET_COLUMN,{mapActionToKey:G}),liveByQuery:(0,g.Fd)(C.GET_LIVE,{mapActionToKey:G}),albumByQuery:(0,g.Fd)(C.GET_ALBUM,{mapActionToKey:G}),eBookByQuery:(0,g.Fd)(C.GET_EBOOK,{mapActionToKey:G}),kmGeneralByQuery:(0,g.Fd)(C.GET_KM_GENERAL,{mapActionToKey:G}),kmCourseByQuery:(0,g.Fd)(C.GET_KM_COURSE,{mapActionToKey:G}),customFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{requestFinished:!1,keys:[],tags:[]},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;if(n===C.GET_CUSTOM_FILTER_TAGS.success){var u=r.data,c=void 0===u?[]:u;return{requestFinished:!0,keys:(0,a._)(new Set(s()(c).map(function(e){return e.group}))),tags:c}}return n===C.GET_CUSTOM_FILTER_TAGS.failure?(0,i._)((0,o._)({},e),{requestFinished:!0}):e}})},39874:function(e,t,n){"use strict";n.d(t,{Bo:function(){return Y},CM:function(){return z},I1:function(){return $},K4:function(){return F},KS:function(){return H},Kw:function(){return x},PW:function(){return ee},QO:function(){return et},Qc:function(){return Z},SY:function(){return B},UT:function(){return J},ZP:function(){return eu},b_:function(){return K},c0:function(){return q},i9:function(){return M},oh:function(){return W},pR:function(){return V},rh:function(){return U},tR:function(){return j},uU:function(){return k},wA:function(){return X},zv:function(){return Q}});var r=n(87320),o=n(55164),i=n(57477),u=n(74135),a=n(74351),c=n(4785),s=n(39288),l=(0,o._)({},(0,s.FH)("social",["UNBIND_SOCIAL_ACCOUNT","DELETE_SOCIAL_ACCOUNT","GET_SOCIAL_BIND","GET_MESSAGE_SETTING","UPDATE_MESSAGE_SETTING","GET_NOTIFICATION_SETTING","UPDATE_NOTIFICATION_SETTING","GET_EMAIL_SETTING","UPDATE_EMAIL_SETTING","GET_PRIVACY_SETTING","UPDATE_PRIVACY_SETTING","GET_BLOCKED_USERS","UNBLOCK_USER","GET_BLOCKED_FOLLOWEES","UNBLOCK_FOLLOWEE","GET_IGNORED_TOPICS","GET_RESTRICTED_TOPICS","RELEASE_IGNORED_TOPIC","GET_LABORATORY_SETTING","UPDATE_LABORATORY_SETTING","UPDATE_WATERMARK_SETTING","GET_PROFILE","UPDATE_AVATAR","UPDATE_ADMIN_PHONE","UPDATE_ADMIN","GET_ORG_PHONE_VERIFY_CODE","GET_WALL_E_BLACKLIST","UNDO_WALL_E_BLOCK"])),d=l.UNBIND_SOCIAL_ACCOUNT,_=l.DELETE_SOCIAL_ACCOUNT,p=l.GET_SOCIAL_BIND,f=l.GET_MESSAGE_SETTING,T=l.UPDATE_MESSAGE_SETTING,E=l.GET_NOTIFICATION_SETTING,h=l.UPDATE_NOTIFICATION_SETTING,v=l.GET_EMAIL_SETTING,m=l.UPDATE_EMAIL_SETTING,A=l.GET_PRIVACY_SETTING,I=l.UPDATE_PRIVACY_SETTING,y=l.GET_BLOCKED_USERS,O=l.UNBLOCK_USER,S=l.GET_BLOCKED_FOLLOWEES,g=l.UNBLOCK_FOLLOWEE,C=l.GET_IGNORED_TOPICS,N=l.GET_RESTRICTED_TOPICS,R=l.RELEASE_IGNORED_TOPIC,P=l.GET_LABORATORY_SETTING,D=l.UPDATE_LABORATORY_SETTING,L=l.UPDATE_WATERMARK_SETTING,w=l.GET_PROFILE,b=(l.UPDATE_AVATAR,l.UPDATE_ADMIN_PHONE,l.UPDATE_ADMIN,l.GET_ORG_PHONE_VERIFY_CODE,l.GET_WALL_E_BLACKLIST),G=l.UNDO_WALL_E_BLOCK;function U(){return{API:{types:A,endpoint:"v3/settings/privacy"}}}function k(e){return{API:{types:I,endpoint:"v3/settings/privacy",method:"PUT",body:(0,c.z)({member_private_flag:e})}}}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{account:e,API:{types:d,endpoint:"v3/oauth/account/".concat(e,"/bind"),method:"DELETE",headers:{"X-API-VERSION":"3.0.18"}},NOTIFICATION:t}}function F(e){return{account:e,API:{types:_,endpoint:"v3/oauth/account/".concat(e),method:"DELETE"}}}function Z(){return{API:{types:p,method:"GET",endpoint:"v3/oauth/social/bind"}}}function B(){return{API:{types:f,method:"GET",endpoint:"v3/settings/new"}}}function H(e,t){return function(n,r){void 0===t&&(t=r().settings.inboxMsg.inboxmsgStranger);var o={inboxmsgScope:e,inboxmsgStranger:t};return n({input:o,API:{types:T,method:"PUT",endpoint:"v3/settings/message",body:(0,c.z)((0,u.decamelizeKeys)(o))}})}}function q(){return{API:{types:E,method:"GET",endpoint:"v3/settings/new/notification"}}}function x(){return{API:{types:v,method:"GET",endpoint:"v3/settings/new/email"}}}function V(e,t){var n=(0,r._)({},e,t);return{input:n,API:{types:m,method:"PUT",endpoint:"v3/settings/new/email",body:(0,c.z)((0,u.decamelizeKeys)(n))}}}function z(e,t){return{input:{key:e,option:t},API:{types:h,method:"PUT",endpoint:"v3/settings/new/notification",body:(0,c.z)((0,u.decamelizeKeys)((0,r._)({},e,JSON.stringify(t))))}}}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return{page:{pageNo:e,pageSize:t},API:{types:y,method:"GET",endpoint:"v3/settings/blocked_users",query:{offset:Math.max((e-1)*t,0),limit:t}},FAILSAFE:(0,a.isNode)()}}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return{page:{pageNo:e,pageSize:t},API:{types:b,method:"GET",endpoint:"v3/settings/blocked_users",query:{offset:Math.max((e-1)*t,0),limit:t,filter:"walle"}}}}function Y(e){return{meta:{urlToken:e},API:{types:G,endpoint:"members/".concat(encodeURIComponent(e),"/actions/block"),method:"DELETE"}}}function Q(e){return{meta:{urlToken:e},API:{types:O,endpoint:"members/".concat(encodeURIComponent(e),"/actions/block"),method:"DELETE"}}}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return{page:{pageNo:e,pageSize:t},API:{types:S,method:"GET",endpoint:"v3/people/self/activity_blocked_followees",query:{offset:Math.max((e-1)*t,0),limit:t}}}}function X(e){return{urlToken:e,API:{types:g,endpoint:"v3/people/self/activity_blocked_followees/".concat(encodeURIComponent(e)),method:"DELETE"}}}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return{page:{pageNo:e,pageSize:t},API:{types:C,method:"GET",endpoint:"v3/topics/ignored",query:{offset:Math.max((e-1)*t,0),limit:t}}}}function $(){return{API:{types:N,method:"GET",endpoint:"v3/topics/restricted_parent"}}}function ee(e){return{id:e,API:{types:R,endpoint:"v3/topics/".concat(encodeURIComponent(e),"/ignore"),method:"DELETE"}}}function et(e){return function(t,n){var o=n().currentUser;return t({API:{types:L,method:"PUT",endpoint:"me/settings",body:(0,c.z)({type:"watermark",value:e?"enable":"disable"})},UPDATE:{success:function(){return{users:(0,r._)({},o,{isEnableWatermark:e})}}}})}}var en={socialBind:null,inboxMsg:null,notification:{},email:{},privacyFlag:null,blockedUsers:{isFetching:!1,paging:{pageNo:1,pageSize:6},data:[]},blockedFollowees:{isFetching:!1,paging:{pageNo:1,pageSize:6},data:[]},ignoredTopics:{isFetching:!1,paging:{pageNo:1,pageSize:6},data:[]},restrictedTopics:null,laboratory:{}};function er(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return(0,i._)((0,o._)({},e),{isFetching:t})}function eo(e){var t=e.page,n=e.payload,r=n.paging,u=void 0===r?{}:r,a=n.data;return{paging:(0,o._)({},u,t),data:(void 0===a?[]:a).map(function(e){return(0,i._)((0,o._)({},e),{isBlocked:!0})}),isFetching:!1}}function ei(e,t){var n=e.paging,r=e.data;return{paging:(0,i._)((0,o._)({},n),{totals:n.totals-1}),data:r.map(function(e){return e.urlToken===t?(0,i._)((0,o._)({},e),{isBlocked:!1}):e})}}function eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.payload;if(n===p.success)return(0,i._)((0,o._)({},e),{socialBind:u});if(n===d.success||n===_.success){var a=t.account,c=(0,o._)({},e.socialBind);return c[a]&&delete c[a],(0,i._)((0,o._)({},e),{socialBind:c})}if(n===f.success)return(0,i._)((0,o._)({},e),{inboxMsg:u.inboxmsg});if(n===T.success){var s=t.input;return(0,i._)((0,o._)({},e),{inboxMsg:(0,o._)({},e.inboxMsg,s)})}if(n===E.success)return(0,i._)((0,o._)({},e),{notification:u});if(n===h.success){var l=t.input,L=l.key,U=l.option,k=(0,o._)({},e.notification[L],U);return(0,i._)((0,o._)({},e),{notification:(0,i._)((0,o._)({},e.notification),(0,r._)({},L,k))})}if(n===A.success)return(0,i._)((0,o._)({},e),{privacyFlag:u.memberPrivateFlag});if(n===v.success)return(0,i._)((0,o._)({},e),{email:u});if(n===m.success){var M=t.input;return(0,i._)((0,o._)({},e),{email:(0,o._)({},e.email,M)})}if(n===I.success)return(0,i._)((0,o._)({},e),{privacyFlag:!e.privacyFlag});if(n===y.request)return(0,i._)((0,o._)({},e),{blockedUsers:er(e.blockedUsers,!0)});if(n===y.success)return(0,i._)((0,o._)({},e),{blockedUsers:eo(t)});if(n===y.failure)return(0,i._)((0,o._)({},e),{blockedUsers:er(e.blockedUsers,!1)});if(n===b.request)return(0,i._)((0,o._)({},e),{wallEBlacklist:er(e.wallEBlacklist,!0)});if(n===b.success)return(0,i._)((0,o._)({},e),{wallEBlacklist:eo(t)});if(n===b.failure)return(0,i._)((0,o._)({},e),{wallEBlacklist:er(e.wallEBlacklist,!1)});if(n===G.success)return(0,i._)((0,o._)({},e),{wallEBlacklist:ei(e.wallEBlacklist,t.meta.urlToken)});if(n===O.success)return(0,i._)((0,o._)({},e),{blockedUsers:ei(e.blockedUsers,t.meta.urlToken)});if(n===S.request)return(0,i._)((0,o._)({},e),{blockedFollowees:er(e.blockedFollowees,!0)});if(n===S.success)return(0,i._)((0,o._)({},e),{blockedFollowees:eo(t)});if(n===S.failure)return(0,i._)((0,o._)({},e),{blockedFollowees:er(e.blockedFollowees,!1)});if(t.type===w.success)return(0,i._)((0,o._)({},e),{account:t.payload});if(n===g.success)return(0,i._)((0,o._)({},e),{blockedFollowees:ei(e.blockedFollowees,t.urlToken)});if(n===C.request)return(0,i._)((0,o._)({},e),{ignoredTopics:er(e.ignoredTopics,!0)});if(n===C.success)return(0,i._)((0,o._)({},e),{ignoredTopics:eo(t)});if(n===C.failure)return(0,i._)((0,o._)({},e),{ignoredTopics:er(e.ignoredTopics,!1)});if(n===N.success)return(0,i._)((0,o._)({},e),{restrictedTopics:u.data});if(n===R.success){var F=e.ignoredTopics,Z=F.paging,B=F.data;return(0,i._)((0,o._)({},e),{ignoredTopics:{paging:(0,i._)((0,o._)({},Z),{totals:Z.totals-1}),data:B.filter(function(e){return e.id!==t.id})}})}if(n===P.success)return(0,i._)((0,o._)({},e),{laboratory:{useTopstory:u.useTopstory.enable}});if(n===D.success){var H=t.input.useTopstory;return(0,i._)((0,o._)({},e),{laboratory:{useTopstory:H}})}return e}},40861:function(e,t,n){"use strict";n.d(t,{ZP:function(){return c},kB:function(){return a}});var r=n(87320),o=n(55164),i=n(57477),u=(0,n(39288).FH)("shareText",["GET"]);function a(e,t){return{id:e,shareType:t,API:{types:u.GET,endpoint:"".concat(t,"s/").concat(e),query:{include:"share_text"}}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===u.GET.success){var n=t.id,a=t.shareType,c=t.payload.shareText;return(0,i._)((0,o._)({},e),(0,r._)({},"".concat(a).concat(n),c))}return e}},14304:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},o:function(){return u}});var r=n(55164),o=n(39288),i=(0,r._)({},(0,o.FH)("sms",["SUPPORTED_COUNTRIES"]));function u(){return{API:{types:i.SUPPORTED_COUNTRIES,endpoint:"v3/oauth/sms/supported_countries",method:"GET"}}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{supportedCountries:[]},t=arguments.length>1?arguments[1]:void 0;return t.type===i.SUPPORTED_COUNTRIES.success?{supportedCountries:t.payload.data}:e}},23017:function(e,t,n){"use strict";n.d(t,{Bp:function(){return u},Hp:function(){return r},ZQ:function(){return i},d5:function(){return o}});var r=(0,n(39288).FH)("specials",["GET_SPECIALS","FOLLOW_SPECIAL","UNFOLLOW_SPECIAL"]);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0;return{API:{types:r.GET_SPECIALS,endpoint:n||"news_specials/list",query:n?void 0:{limit:t,offset:e}}}}function i(e){return{API:{types:r.FOLLOW_SPECIAL,endpoint:"news_specials/".concat(e,"/followers"),method:"POST"},meta:{id:e}}}function u(e){return{API:{types:r.UNFOLLOW_SPECIAL,endpoint:"news_specials/".concat(e,"/followers"),method:"DELETE"},meta:{id:e}}}},4276:function(e,t,n){"use strict";n.d(t,{$z:function(){return y},BR:function(){return s},Bj:function(){return S},EJ:function(){return T},NG:function(){return p},P_:function(){return f},Tp:function(){return m},X1:function(){return _},ZP:function(){return g},bh:function(){return h},cJ:function(){return O},i3:function(){return v},mO:function(){return I},mP:function(){return l},pI:function(){return E},v1:function(){return d},x7:function(){return A}});var r=n(55164),o=n(57477),i=n(74135),u=n(4785),a=n(39288),c=(0,r._)({},(0,a.FH)("streaming",["CHECK_WHITE_LIST_STATUS","CHECK_ACTOR_STATUS","LOAD_CATEGORY_DATA","LOAD_ACTIVITY_DATA","CHECK_THEATER_STATUS","GET_THEATER_INFO","GET_PUSH_DRAMA_INFO","START_PUSH_DRAMA","CLOSE_PUSH_DRAMA","GET_PULL_INFO","CREATE_PULL_INFO","UPDATE_PULL_INFO","START_PULL_DRAMA","CLOSE_PULL_DRAMA","START_PREVIEW_PULL_DRAMA","STOP_PREVIEW_PULL_DRAMA"]));function s(){return{API:{types:c.CHECK_WHITE_LIST_STATUS,endpoint:"drama/whitelist-status"}}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"push";return{API:{types:c.CHECK_ACTOR_STATUS,endpoint:"/drama/actor/status?check_external=0&".concat("push"===e?"obs_close_tips=1":"external_close_tips=1")}}}function d(){return{API:{types:c.LOAD_CATEGORY_DATA,endpoint:"drama/category-tree"}}}function _(){return{API:{types:c.LOAD_ACTIVITY_DATA,endpoint:"drama/recruit-activities"}}}function p(e){return{API:{types:c.CHECK_THEATER_STATUS,endpoint:"drama/theaters",method:"POST",body:(0,u.z)((0,i.decamelizeKeys)(e))}}}function f(e,t){return{API:{types:c.GET_THEATER_INFO,endpoint:"/drama/theaters/".concat(e,"?drama_id=").concat(t)}}}function T(e){return{API:{types:c.GET_PUSH_DRAMA_INFO,endpoint:"/drama/dramas/".concat(e,"/obs")}}}function E(e){return{API:{types:c.START_PUSH_DRAMA,endpoint:"drama/dramas",method:"POST",body:(0,u.z)((0,i.decamelizeKeys)(e))}}}function h(e){return{API:{types:c.CLOSE_PUSH_DRAMA,endpoint:"/drama/dramas/".concat(e,"/close"),method:"POST"}}}function v(){return{API:{types:c.GET_PULL_INFO,endpoint:"drama/recent-external-drama-task?source=pc"}}}function m(e){return{meta:{data:e},API:{types:c.CREATE_PULL_INFO,endpoint:"drama/external-drama-tasks",method:"POST",body:(0,u.z)((0,i.decamelizeKeys)(e))}}}function A(e,t){return{meta:{data:t},API:{types:c.UPDATE_PULL_INFO,endpoint:"drama/external-drama-tasks/".concat(e),method:"PUT",body:(0,u.z)((0,i.decamelizeKeys)(t))}}}function I(e,t,n){var r=t?{startAt:n}:{type:16};return{API:{types:c.START_PULL_DRAMA,endpoint:"drama/external-drama-tasks/".concat(e,"/").concat(t?"auto-start":"start"),method:"POST",body:(0,u.z)((0,i.decamelizeKeys)(r))}}}function y(e,t){return{API:{types:c.CLOSE_PULL_DRAMA,endpoint:"drama/external-drama-tasks/".concat(e,"/").concat(t?"cancel-auto":"close"),method:"POST"}}}function O(e){return{API:{types:c.START_PREVIEW_PULL_DRAMA,endpoint:"drama/preview",method:"POST",body:(0,u.z)((0,i.decamelizeKeys)({source:"pc",externalStream:e}))}}}function S(e){return{API:{types:c.STOP_PREVIEW_PULL_DRAMA,endpoint:"drama/previews/".concat(e,"/close"),method:"POST",body:(0,u.z)((0,i.decamelizeKeys)({source:"pc"}))}}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,i=t.meta;switch(t.type){case c.CHECK_WHITE_LIST_STATUS.success:return(0,o._)((0,r._)({},e),{showCategorySelector:(null==n?void 0:n.isMediaExternal)!==1,whiteListStatus:null==n?void 0:n.status});case c.CHECK_ACTOR_STATUS.request:return(0,o._)((0,r._)({},e),{isCheckingStatus:!0});case c.CHECK_ACTOR_STATUS.success:return(0,o._)((0,r._)({},e),{actorStatus:n,isCheckingStatus:!1});case c.CHECK_ACTOR_STATUS.failure:var u=t.err,a=(void 0===u?{}:u).payload;return(0,o._)((0,r._)({},e),{actorStatus:a,isCheckingStatus:!1});case c.LOAD_CATEGORY_DATA.success:var s=n.data;return(0,o._)((0,r._)({},e),{categoryList:s});case c.LOAD_ACTIVITY_DATA.success:var l=n.data;return(0,o._)((0,r._)({},e),{activities:l});case c.CHECK_THEATER_STATUS.success:return(0,o._)((0,r._)({},e),{theater:null==n?void 0:n.theater});case c.GET_THEATER_INFO.success:var d=n.theater,_=(void 0===d?{}:d).drama;return(0,o._)((0,r._)({},e),{currentDramaInfo:_});case c.GET_PUSH_DRAMA_INFO.success:return(0,o._)((0,r._)({},e),{pushStreamingRes:n});case c.START_PUSH_DRAMA.success:return(0,o._)((0,r._)({},e),{currentDramaInfo:null==n?void 0:n.drama});case c.GET_PULL_INFO.success:return(0,o._)((0,r._)({},e),{currentPullInfo:n});case c.CREATE_PULL_INFO.success:return(0,o._)((0,r._)({},e),{currentPullInfo:(0,o._)((0,r._)({},e.currentPullInfo,i.data),{id:n.id})});case c.UPDATE_PULL_INFO.success:return(0,o._)((0,r._)({},e),{currentPullInfo:(0,r._)({},e.currentPullInfo,i.data)});case c.START_PULL_DRAMA.success:return(0,o._)((0,r._)({},e),{currentPullInfo:(0,o._)((0,r._)({},e.currentPullInfo),{theater:(0,o._)((0,r._)({},e.currentPullInfo.theater),{drama:n.drama})})});case c.START_PREVIEW_PULL_DRAMA.success:return(0,o._)((0,r._)({},e),{currentPullInfo:(0,o._)((0,r._)({},e.currentPullInfo),{preview:n})});case c.STOP_PREVIEW_PULL_DRAMA.success:return(0,o._)((0,r._)({},e),{currentPullInfo:(0,o._)((0,r._)({},e.currentPullInfo),{preview:void 0})})}return e}},55344:function(e,t,n){"use strict";n.d(t,{BW:function(){return v},X2:function(){return h},op:function(){return A}});var r=n(9338),o=n(55164),i=n(57477),u=n(55846),a=n(74135),c=n(18837),s=n.n(c),l=n(46942),d=n.n(l),_=n(31824),p=n(93292),f=n(80523),T=(0,n(39288).FH)("switches",["GET","GET_VIP_SWITCHES"]),E=["hong-yuan-81-63","te-bie-mi-wang","15101089713","lewisiii","zhihuadmin","fei-xiao-gui","yan-sha-long","dong-hua-si-shu","bei-sen-80-3","2c0db1125100e7229cf159f66d859f8e","807e863f27d8bdb7d3bde20a991ace1d","c64379c8e25578f97e29c6395401d234","869e3a50498ee9f9b4e062267f4d7007","3d198a56310c02c4a83efb9f4a4c027e","41cd5c7249081389da3a523b3cb0629b","dbe159e1503acb112148055bb5b87e1d","07738e6e3211b95849334a4dc95a60a0","bab986472d44f9caa8d2c875f225b216","3b4c31848309b4109a738ee0e523cad7"],h=function(e){var t;return t=(0,r._)(function(t,n){return(0,u.__generator)(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(e){return t(function(t,n,r){var o=r.fnRefs;return(0,f.Z)(o,"loadSwitches",function(){return s()((0,p.Z)(function(e){return t(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t,n){var r=n(),o=r.currentUser,i=r.switches;if(o){var u=e.filter(function(e){return!(e in i)});if(u.length)return t({API:{types:T.GET,endpoint:"me/switches",query:{include:d()(u.map(a.decamelize)).join(",")}},meta:{couldSuperVideoUpload:-1!==E.indexOf(o)},NOTIFICATION:!1,FAILSAFE:!0})}}}(e.flat()))},queueMicrotask))})(e)})}))];case 1:return r.sent(),[2,n().switches]}})}),function(e,n){return t.apply(this,arguments)}};function v(){return{API:{endpoint:"/me/vip_switches",types:T.GET_VIP_SWITCHES},FAILSAFE:!0}}function m(e){return e.switches&&e.switches.vipSwitches}var A=(0,_.P1)(m,function(e){return e&&e.mAINSWITCH&&e.sPEEDRENAME});(0,_.P1)(m,function(e){return e&&e.mAINSWITCH&&e.vIPICON}),(0,_.P1)(m,function(e){return e&&e.mAINSWITCH&&e.wIDGET}),t.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.GET.success:return(0,i._)((0,o._)({},e,t.payload),{couldSuperVideoUpload:t.meta.couldSuperVideoUpload});case T.GET_VIP_SWITCHES.success:return(0,i._)((0,o._)({},e),{vipSwitches:t.payload});default:return e}}},40894:function(e,t,n){"use strict";n.d(t,{Hp:function(){return E},HK:function(){return el},VU:function(){return et},sF:function(){return en},Vl:function(){return Y},HV:function(){return I},bg:function(){return er},Wt:function(){return H},_A:function(){return X},Jo:function(){return J},tK:function(){return D},HA:function(){return m},Is:function(){return R},aZ:function(){return M},bF:function(){return F},I6:function(){return ei},xs:function(){return ec},n$:function(){return es},pC:function(){return ea},uD:function(){return eu},fq:function(){return Q},WQ:function(){return K},Ss:function(){return W},q5:function(){return P},zB:function(){return w},VN:function(){return N},hX:function(){return v},kY:function(){return B},uF:function(){return V},wD:function(){return k},Dy:function(){return $},j1:function(){return U},D$:function(){return Z},n5:function(){return x},Xz:function(){return q},Fy:function(){return L},GF:function(){return b},i8:function(){return G},KT:function(){return ee},KS:function(){return O},g_:function(){return S},vm:function(){return z},s4:function(){return eo},rl:function(){return y},Lx:function(){return j}});var r=n(87320),o=n(55164),i=n(57477),u=n(85879),a=n(74135),c=n(57045),s=n(28953),l=n(80714),d=n(65744),_=n(39288),p=n(58909),f=n(14288),T={topicBasicMessage:"topicBasicMessage"},E=(0,_.FH)("topic",["GET","GET_VOTE","CREATE","GET_STICKY","GET_INTRO","GET_INDEX","GET_TOP","GET_HOT","GET_NEWEST","GET_ESSENCE_STICKY","UPDATE_ESSENCE_STICKY","GET_UNANSWERED","GET_QUESTIONS","GET_ZVIDEO","GET_ZVIDEO_NEW","GET_PIN","GET_PARENT","GET_CHILDREN","GET_BESTANSWERERS","GET_WIKI_META","GET_WIKI_EDIT_INFO","GET_COMMITTED_WIKI","VOTE_WIKI","GET_FOLLOWERS","GET_CONTRIBUTORS","UPDATE_FOLLOW","UPDATE_BIO","UPDATE","UPDATE_INTRO","GET_META_CATEGORIES","GET_META_CATEGORY","CREATE_META","UPDATE_META","GET_META","UPDATE_TOPIC_CONTRIBUTOR_FOLLOWERS","GET_CREATOR_WALL","GET_CREATOR_WALL_ENTRY","GET_CREATOR_WALL_USER_INFO","UPDATE_VOTE_TOPIC","COMMIT_WIKI","CREATE_ABSTRACT","UPDATE_ABSTRACT_RANK","DELETE_ABSTRACT","GET_LANDING_BASIC_DATA","GET_LANDING_EXCELLENT_ITEMS","GET_LANDING_EXCELLENT_EDITORS","GET_LANDING_CATALOG","GET_LANDING_ENTRIES","APPLY_LANDING_PERMISSION"]);function h(e,t){return{id:e,API:{types:E.GET,endpoint:"topics/".concat(e),query:{include:t},root:"".concat(l.Z.fetchRoot.www,"/api/v5.1/")},UPDATE:{success:function(t){return(0,r._)({},"topics",(0,r._)({},e,function(e,t){var n=t.include,r=(void 0===n?{}:n).vote,u=t.permission,a=void 0===u?{}:u,c=a.isMetaEditable,s=a.isIndexEditable,l=a.viewCommit,d=a.editBaike,_=a.createBaike,p=a.addMoreInfo,f=t.include,E=void 0===f?{}:f,h=E.vote,v=void 0===h?{}:h,m=v.score,A=v.disliked,I=v.liked,y=E.meta,O=t.excerpt,S=t.introduction,g=t.wikiDescription,C=t.name,N=t.subtitle,R=t.avatarUrl,P=t.pubInfo,D=void 0===P?{}:P,L=D.status,w=D.pubDate,b=t.themeConfig,G=(void 0===b?{}:b).avatarStyle;if(e===T.topicBasicMessage)return(0,i._)((0,o._)({},t),{relationship:{isMetaEditable:c},vote:(0,i._)((0,o._)({},r),{ratio:m,status:A?"dislike":I?"like":"none"}),headerCard:{description1:void 0===O?"":O,description2:void 0===S?"":S,wikiDescription:void 0===g?"":g,title:void 0===C?"":C,subtitle:void 0===N?"":N,avatarUrl:R,pubInfo:{status:L,pubDate:w},config:{avatarType:G}},meta:void 0===y?{}:y,isIndexEditable:s,viewCommit:l,editBaike:d,createBaike:_,addMoreInfo:p})}("topicBasicMessage",t)))}}}}function v(e){return h(e,"introduction,questions_count,best_answers_count,followers_count,is_following,header_card")}function m(e){return h(e,"vote,introduction,questions_count,best_answers_count,followers_count,is_following,father_count,is_index_visible,is_index_editable,header_card,meta.summary,avatar,content.category,scores,avatar;relationship.is_editable,is_meta_editable,topic_value")}var A=/创建 ([\w\W]*) 话题/;function I(e){return{API:{types:E.CREATE,endpoint:"/topics",method:"POST",body:{name:function e(t){return A.test(t)?e(t.match(A)[1]):t}(e)}},NOTIFICATION:{failure:function(t){return 269!==t.code||((0,d.t)((0,u.BX)("div",{children:["该话题被暂停使用，请",(0,u.tZ)("a",{style:{color:"#3e7ac2"},href:"//".concat(l.Z.wwwHost,"/messages/3d198a56310c02c4a83efb9f4a4c027e?").concat(c.stringify({message:"我想要创建「".concat(e,"」话题，系统提示被暂停使用，需要恢复")})),children:"私信「知一声」"}),"申请恢复创建"]}),{delay:6e3}),!1)}}}}function y(e,t){return{API:{types:E.UPDATE_BIO,endpoint:"/topics/".concat(e,"/bio"),body:(0,a.decamelizeKeys)({bio:t}),method:"PUT"},id:e,bio:t}}function O(e,t){return function(n,u){var a,c=u(),s=(0,p.ib)(c),l=(0,f.CZ)(c,{id:e}),d=(t=void 0===t?!l.isFollowing:t)?1:-1,_={request:{},failure:{}};return l&&(_.request.topics=(0,r._)({},e,{isFollowing:t}),_.failure.topics=(0,r._)({},e,l)),s&&(_.request.users=(0,r._)({},s.urlToken,{followingTopicCount:s.followingTopicCount+d}),_.failure.users=(0,r._)({},s.urlToken,s)),n((0,o._)((0,i._)((0,o._)({},s&&{urlToken:s.urlToken}),{topicId:e,UPDATE:_}),(a=t,{API:{types:E.UPDATE_FOLLOW,endpoint:"topics/".concat(e,"/followers"),method:a?"POST":"DELETE"}})))}}function S(e,t,n){return function(o,i){var u=i().entities.users[t];return o({id:e,userUrlToken:t,expect:n,API:{types:E.UPDATE_TOPIC_CONTRIBUTOR_FOLLOWERS,endpoint:"members/".concat(t,"/followers"),method:n?"POST":"DELETE"},UPDATE:{request:{users:(0,r._)({},t,{isFollowing:n})},failure:{users:(0,r._)({},t,u)},success:function(e){return{users:(0,r._)({},t,e)}}}})}}function g(e,t){var n=t.resource,r=t.endpoint,u=t.types,a=t.query,c="".concat(l.Z.fetchRoot.www,"/api");return{id:e,API:(0,i._)((0,o._)({types:u},r?{root:c,endpoint:r}:{root:c,endpoint:"/v5.1/topics/".concat(e,"/feeds/").concat(n),query:{include:"data[?(target.type=topic_sticky_module)].target.data[?(target.type=answer)].target.content,relationship.is_authorized,is_author,voting,is_thanked,is_nothelp;data[?(target.type=topic_sticky_module)].target.data[?(target.type=answer)].target.is_normal,comment_count,voteup_count,content,relevant_info,excerpt.author.badge[?(type=best_answerer)].topics;data[?(target.type=topic_sticky_module)].target.data[?(target.type=article)].target.content,voteup_count,comment_count,voting,author.badge[?(type=best_answerer)].topics;data[?(target.type=topic_sticky_module)].target.data[?(target.type=people)].target.answer_count,articles_count,gender,follower_count,is_followed,is_following,badge[?(type=best_answerer)].topics;data[?(target.type=answer)].target.annotation_detail,content,hermes_label,is_labeled,relationship.is_authorized,is_author,voting,is_thanked,is_nothelp,answer_type;data[?(target.type=answer)].target.author.badge[?(type=best_answerer)].topics;data[?(target.type=answer)].target.paid_info;data[?(target.type=article)].target.annotation_detail,content,hermes_label,is_labeled,author.badge[?(type=best_answerer)].topics;data[?(target.type=question)].target.annotation_detail,comment_count;"}}),{query:a}),schema:s.l.TOPIC_FEED_ARRAY}}function C(e,t){return function(n,r){return function(o,i){var u=(e(i(),{id:n})||{}).next,a=r||{},c=a.offset,s=a.limit,l=c||!u?{offset:c,limit:s}:{endpoint:u};return o(t(n,l))}}}var N=C(f.ux,function(e,t){return g(e,(0,i._)((0,o._)({},t),{resource:"top_activity",types:E.GET_TOP}))}),R=C(f.SL,function(e,t){return g(e,(0,i._)((0,o._)({},t),{resource:"essence",types:E.GET_HOT}))}),P=C(f.n$,function(e,t){return g(e,(0,i._)((0,o._)({},t),{resource:"timeline_activity",types:E.GET_NEWEST}))}),D=function(e){return{id:e,API:{types:E.GET_ESSENCE_STICKY,root:"".concat(l.Z.fetchRoot.www,"/api/v5.1/"),endpoint:"/topics/".concat(e,"/feeds/essence/sticky")}}},L=C(f.ye,function(e,t){return g(e,(0,i._)((0,o._)({},t),{resource:"top_question",types:E.GET_UNANSWERED}))}),w=C(f.m8,function(e,t){return g(e,(0,i._)((0,o._)({},t),{resource:"new_question",types:E.GET_QUESTIONS}))}),b=C(f.S2,function(e,t){return g(e,(0,i._)((0,o._)({},t),{resource:"top_zvideo",types:E.GET_ZVIDEO}))}),G=C(f.Ih,function(e,t){return g(e,(0,i._)((0,o._)({},t),{resource:"new_zvideo",types:E.GET_ZVIDEO_NEW}))});C(f.E2,function(e,t){return g(e,(0,i._)((0,o._)({},t),{resource:"pin-new",types:E.GET_PIN,query:{offset:0,limit:30}}))});var U=C(f.Zc,function(e,t){var n=t.offset,r=t.limit,i=void 0===r?20:r,u=t.endpoint;return{id:e,API:(0,o._)({types:E.GET_FOLLOWERS},u?{endpoint:u}:{endpoint:"topics/".concat(e,"/followers"),query:{offset:n,limit:i,include:"data[*].gender,answer_count,articles_count,follower_count,is_following,is_followed"}}),offset:n,limit:i,schema:s.l.USER_ARRAY}}),k=C(f.Bi,function(e,t){var n=t.offset,r=t.limit,i=void 0===r?20:r,u=t.endpoint;return{id:e,API:(0,o._)({types:E.GET_CONTRIBUTORS},u?{endpoint:u}:{endpoint:"topics/".concat(e,"/contributors"),query:{offset:n,limit:i,include:"data[*].gender,is_following,is_followed"}}),offset:n,limit:i,schema:s.l.USER_ARRAY}}),M=function(e){return{id:e,API:{types:E.GET_INDEX,endpoint:"topics/".concat(e,"/topic_index")},schema:{topicIndexEditors:s.l.USER_ARRAY}}},F=function(e){return{id:e,API:{types:E.GET_INTRO,endpoint:"topics/".concat(e,"/intro"),query:{include:"content.meta.content.photos"}}}};function Z(e){return{id:e,API:{types:E.GET_PARENT,endpoint:"v3/topics/".concat(e,"/parent")}}}function B(e){return{id:e,API:{types:E.GET_CHILDREN,endpoint:"v3/topics/".concat(e,"/children")}}}function H(e,t){return{id:e,API:{types:E.GET_BESTANSWERERS,endpoint:"topics/".concat(e,"/best_answerers"),query:(0,o._)({limit:3},t)}}}function q(e){return{id:e,API:{types:E.GET_WIKI_META,endpoint:"topics/".concat(e,"/wiki")}}}function x(e){return{id:e,API:{types:E.GET_WIKI_EDIT_INFO,endpoint:"topics/".concat(e,"/wiki/edit_info")},FAILSAFE:!0}}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"view";return{id:e,API:{types:E.GET_COMMITTED_WIKI,endpoint:"topics/".concat(e,"/wiki/commit")},FAILSAFE:"edit"===t,NOTIFICATION:"view"===t&&{failure:"获取已提交内容失败，请刷新重试"}}}function z(e,t){return{id:e,upVote:t,API:{types:E.VOTE_WIKI,endpoint:"topics/".concat(e,"/wiki/vote"),method:t?"POST":"DELETE"}}}var K=function(){return{API:{endpoint:"topics/meta/categories",types:E.GET_META_CATEGORIES}}},W=function(e){return{API:{endpoint:"topics/meta/categories/".concat(e),types:E.GET_META_CATEGORY},category:e}},Y=function(e,t,n){return{API:{endpoint:"topics/".concat(e,"/schema"),types:E.CREATE_META,method:"POST",body:(0,a.decamelizeKeys)({category:t,content:n})}}},Q=function(e){return{id:e,API:{endpoint:"topics/".concat(e,"/schema"),types:E.GET_META}}},j=function(e,t){return{id:e,API:{endpoint:"topics/".concat(e,"/schema"),types:E.UPDATE_META,method:"PUT",body:(0,a.decamelizeKeys)(t)}}},X=function(e){var t=e.id,n=e.isEntry,r=void 0!==n&&n;return function(e,n){var i=(n().topic.creatorWall[t]||{}).paging,u=(void 0===i?{}:i).next;return e((0,o._)({id:t,API:(0,o._)({endpoint:u||"topics/".concat(t,"/creator_wall"),types:r?E.GET_CREATOR_WALL_ENTRY:E.GET_CREATOR_WALL},r&&{query:{limit:5,offset:0}})},!r&&{schema:s.l.CREATOR_WALL_ARRAY}))}},J=function(e){return{id:e,API:(0,o._)({endpoint:"topics/".concat(e,"/creator_wall"),types:E.GET_CREATOR_WALL_ENTRY},{query:{limit:5,offset:0}})}},$=function(e,t){return{API:{endpoint:"topics/".concat(e,"/creator_wall/").concat(t),types:E.GET_CREATOR_WALL_USER_INFO},UPDATE:{success:function(e){return{users:(0,r._)({},t,(0,o._)({},e.member))}}}}};function ee(e){var t=e.id,n=e.voteFor,u=e.method;return function(e,a){var c=a().entities.topics[t],s=c.vote,l=s.totalVotes,d=s.status,_={};return"like"===n?("POST"===u&&(_=(0,i._)((0,o._)({},c.vote),{status:"like",totalVotes:"none"===d?l+1:l})),"DELETE"===u&&(_=(0,i._)((0,o._)({},c.vote),{totalVotes:l-1,status:"none"}))):"dislike"===n&&("POST"===u&&(_=(0,i._)((0,o._)({},c.vote),{status:"dislike",totalVotes:"none"===d?l+1:l})),"DELETE"===u&&(_=(0,i._)((0,o._)({},c.vote),{status:"none",totalVotes:l-1}))),e({API:{endpoint:"topics/".concat(t,"/vote/").concat(n),types:E.UPDATE_VOTE_TOPIC,method:u},UPDATE:{success:function(){return{topics:(0,r._)({},t,{vote:_})}}}})}}function et(e,t){return{id:e,API:{types:E.COMMIT_WIKI,endpoint:"topics/".concat(e,"/wiki/commit"),method:"POST",body:{content:t}},NOTIFICATION:!1}}var en=function(e){var t=e.topicId,n=e.type,r=e.token,o=e.content;return{API:{endpoint:"/topics/".concat(t,"/abstract"),types:E.CREATE_ABSTRACT,method:"POST",body:(0,a.decamelizeKeys)({type:n,token:r,content:o})},NOTIFICATION:{success:"操作成功",failure:function(e){return e.message}}}};function er(e){var t=e.id,n=e.sid;return function(e,r){var o=r(),i=(0,f.ME)(o,{id:t}),u=(0,f.Qb)(o,{id:t,sid:n});return e({id:t,sid:n,topicAbstract:i,topicRestAbstract:u,API:{types:E.DELETE_ABSTRACT,endpoint:"topics/".concat(t,"/abstract/").concat(n),method:"DELETE"}})}}function eo(e){var t=e.id,n=e.rank;return function(e,r){var o=r(),i=(0,f.ME)(o,{id:t}),u=(0,f.Ik)(o,{id:t,rank:n});return e({id:t,topicAbstract:i,topicRankedAbstract:u,API:{types:E.UPDATE_ABSTRACT_RANK,endpoint:"topics/".concat(t,"/abstract_rank"),method:"POST",body:{rank:n}}})}}function ei(){return{API:{types:E.GET_LANDING_BASIC_DATA,endpoint:"topics/wiki/landing_page/basic_data"}}}function eu(){return{API:{types:E.GET_LANDING_EXCELLENT_ITEMS,endpoint:"topics/wiki/landing_page/rand_excellent_items"}}}function ea(){return{API:{types:E.GET_LANDING_EXCELLENT_EDITORS,endpoint:"topics/wiki/landing_page/excellent_editors"}}}function ec(){return{API:{types:E.GET_LANDING_CATALOG,endpoint:"topics/wiki/landing_page/catalog"}}}function es(e){var t=e.categoryId,n=e.limit,r=e.offset;return{API:{types:E.GET_LANDING_ENTRIES,endpoint:"topics/wiki/landing_page/entries",query:{categoryId:t,limit:n,offset:r}}}}function el(){return{API:{endpoint:"/topics/wiki/landing_page/apply_permission",types:E.APPLY_LANDING_PERMISSION,method:"POST"},NOTIFICATION:{success:function(){return(0,d.t)("感谢你的申请，我们将在 3 个工作日内处理完毕。申请通过将会收到一封私信。期待你的分享。"),!1},failure:function(e){return(0,d.t)(e.message),!1}}}}},31857:function(e,t,n){"use strict";n.d(t,{Hp:function(){return E.Hp},HK:function(){return E.HK},VU:function(){return E.VU},sF:function(){return E.sF},Vl:function(){return E.Vl},HV:function(){return E.HV},ZP:function(){return y},bg:function(){return E.bg},QG:function(){return I.QG},Xn:function(){return I.Xn},Wt:function(){return E.Wt},tK:function(){return E.tK},HA:function(){return E.HA},Is:function(){return E.Is},aZ:function(){return E.aZ},bF:function(){return E.bF},I6:function(){return E.I6},xs:function(){return E.xs},n$:function(){return E.n$},pC:function(){return E.pC},uD:function(){return E.uD},fq:function(){return E.fq},WQ:function(){return E.WQ},Ss:function(){return E.Ss},q5:function(){return E.q5},zB:function(){return E.zB},VN:function(){return E.VN},hX:function(){return E.hX},kY:function(){return E.kY},uF:function(){return E.uF},wD:function(){return E.wD},j1:function(){return E.j1},D$:function(){return E.D$},n5:function(){return E.n5},Xz:function(){return E.Xz},Fy:function(){return E.Fy},GF:function(){return E.GF},i8:function(){return E.i8},TI:function(){return I.TI},uq:function(){return I.uq},kv:function(){return I.kv},KS:function(){return E.KS},g_:function(){return E.g_},vm:function(){return E.vm},ax:function(){return I.ax},Mt:function(){return I.Mt},Bj:function(){return I.Bj},DC:function(){return I.DC},Dc:function(){return I.Dc},Uu:function(){return I.Uu},Ho:function(){return I.Ho},$p:function(){return I.$p},Fh:function(){return I.Fh},oZ:function(){return I.oZ},cM:function(){return I.cM},Dj:function(){return I.Dj},CZ:function(){return I.CZ},V6:function(){return I.V6},Bp:function(){return I.Bp},JY:function(){return I.JY},mn:function(){return I.mn},MP:function(){return I.MP},hx:function(){return I.hx},sI:function(){return I.sI},s4:function(){return E.s4},rl:function(){return E.rl},Lx:function(){return E.Lx}});var r,o=n(87320),i=n(55164),u=n(57477),a=n(49899),c=n(74135),s=n(75472),l=n.n(s),d=n(71549),_=n.n(d),p=n(94057),f=n(69906),T=n(9435),E=n(40894),h=Object.prototype.hasOwnProperty;function v(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(n.type===e){var r=n.payload,u=n.id;return(0,i._)({},t,r.data?(0,o._)({},u,{items:r.data,next:(r.paging||{}).next,isDrained:(r.paging||{}).isEnd}):(0,o._)({},u,n.result||r))}return t}}function m(e){var t={isFetching:!1,isDrained:!1},n=function(e){return e.id},r=function(e,t){var n=e.discussItems,r=void 0===n?[]:n,o=(null==t?void 0:t.payload).data,i=r?o.filter(function(e){return!r.find(function(t){return l()(t,e)})}):o;return{discussItems:r.concat(i),next:t.next}};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0,s=n(c);switch(c.type){case e.request:return _()(a,(0,o._)({},s,(0,u._)((0,i._)({},t),{isFetching:!0})));case e.success:var l=n(c),d=(c.payload||{}).paging,p=d.isEnd,f=d.totals;return _()(a,(0,o._)({},l,(0,u._)((0,i._)({},r(a[l],c)),{isFetching:!1,isDrained:void 0!==p&&p,totals:f})));case e.failure:return _()(a,(0,o._)({},s,{isFetching:!1,isDrained:!0}));default:return a}}}var A=(0,p.combineReducers)((r={bios:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.Hp.GET_BIOS.request:return(0,u._)((0,i._)({},e),{isFetching:!0});case T.Hp.GET_BIOS.success:return t.payload.data.reduce(function(e,t){var n=t.topic.id,r=t.bio;return(0,u._)((0,i._)({},e),(0,o._)({},n,r))},(0,u._)((0,i._)({},e),{isFetching:!1}));case T.Hp.GET_BIOS.failure:return(0,u._)((0,i._)({},e),{isFetching:!1});case E.Hp.UPDATE_BIO.success:return(0,u._)((0,i._)({},e),(0,o._)({},t.id,t.bio));default:return e}},hot:m(E.Hp.GET_HOT),newest:m(E.Hp.GET_NEWEST),top:(0,f.QT)(E.Hp.GET_TOP),sticky:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===E.Hp.GET_ESSENCE_STICKY.success?t.payload||null:e},pin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.id;switch(t.type){case E.Hp.GET_PIN.success:return(0,o._)({},n,(0,u._)((0,i._)({data:t.result},e[n]),{isFetching:!1,isDrained:!0}));case E.Hp.GET_PIN.request:return(0,o._)({},n,(0,u._)((0,i._)({},e[n]),{isFetching:!0,isDrained:!0}));default:return e}},unanswered:(0,f.QT)(E.Hp.GET_UNANSWERED),questions:(0,f.QT)(E.Hp.GET_QUESTIONS),zivdeo:(0,f.QT)(E.Hp.GET_ZVIDEO),"zvideo-new":(0,f.QT)(E.Hp.GET_ZVIDEO_NEW),followers:(0,f.QT)(E.Hp.GET_FOLLOWERS),contributors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.id;switch(t.type){case E.Hp.GET_CONTRIBUTORS.request:return(0,u._)((0,i._)({},e),(0,o._)({},r,(0,u._)((0,i._)({},e[r]),{isFetching:!0,isDrained:!1})));case E.Hp.GET_CONTRIBUTORS.success:return(0,i._)({},e,n.data?(0,o._)({},r,{items:n.data,next:(n.paging||{}).next,isDrained:(n.paging||{}).isEnd,isFetching:!1}):(0,o._)({},r,t.result||n));case E.Hp.GET_CONTRIBUTORS.failure:return(0,u._)((0,i._)({},e),(0,o._)({},r,(0,u._)((0,i._)({},e[r]),{isFetching:!1,isDrained:!0})));case E.Hp.UPDATE_TOPIC_CONTRIBUTOR_FOLLOWERS.success:var a=t.userUrlToken,c=e[r].items.map(function(e){var t=e.author,n=e.author,r=n.urlToken,o=n.isFollowing;return r===a?(0,u._)((0,i._)({},e),{author:(0,u._)((0,i._)({},t),{isFollowing:!o})}):e});return(0,u._)((0,i._)({},e),(0,o._)({},r,(0,u._)((0,i._)({},e[r]),{items:c})));default:return e}},parent:v(E.Hp.GET_PARENT.success),children:v(E.Hp.GET_CHILDREN.success),bestAnswerers:v(E.Hp.GET_BESTANSWERERS.success)},(0,o._)(r,"wikiMeta",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.id;switch(t.type){case E.Hp.GET_WIKI_META.success:return(0,u._)((0,i._)({},e),(0,o._)({},n,t.payload));case E.Hp.VOTE_WIKI.success:var r=t.upVote,a=e[n].voteInfo.num;return(0,u._)((0,i._)({},e),(0,o._)({},n,(0,u._)((0,i._)({},e[n]),{hasVoted:r,voteInfo:{num:r?a+1:a-1}})));default:return e}}),(0,o._)(r,"index",v(E.Hp.GET_INDEX.success)),(0,o._)(r,"intro",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.id,r=t.topicAbstract,a=t.topicRestAbstract,c=t.topicRankedAbstract;switch(t.type){case E.Hp.GET_INTRO.success:return(0,u._)((0,i._)({},e),(0,o._)({},n,t.payload));case E.Hp.DELETE_ABSTRACT.request:return(0,u._)((0,i._)({},e),(0,o._)({},n,(0,u._)((0,i._)({},e[n]),{abstract:a})));case E.Hp.UPDATE_ABSTRACT_RANK.request:return(0,u._)((0,i._)({},e),(0,o._)({},n,(0,u._)((0,i._)({},e[n]),{abstract:void 0===c?[]:c})));case E.Hp.DELETE_ABSTRACT.failure:case E.Hp.UPDATE_ABSTRACT_RANK.failure:return(0,u._)((0,i._)({},e),(0,o._)({},n,(0,u._)((0,i._)({},e[n]),{abstract:r})));default:return e}}),(0,o._)(r,"meta",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.Hp.GET_META.success:return(0,u._)((0,i._)({},e),(0,o._)({},t.id,t.payload.data));case E.Hp.UPDATE_META.success:var n=t.id,r=t.payload,a=e[n];return(0,u._)((0,i._)({},e),(0,o._)({},n,a.map(function(e){var t=e.target;if("Table"===t.type)return(0,u._)((0,i._)({},e),{target:(0,u._)((0,i._)({},e.target),{value:t.value.map(function(e){var t=(0,c.camelize)(e.target.name);return h.call(r,t)?(0,u._)((0,i._)({},e),{target:(0,u._)((0,i._)({},e.target),{value:r[t].value})}):e})})});if(Array.isArray(t))return(0,u._)((0,i._)({},e),{target:t.map(function(e){var t=(0,c.camelize)(e.target.name);return h.call(r,t)?(0,u._)((0,i._)({},e),{target:(0,u._)((0,i._)({},e.target),{value:r[t].value})}):e})});var n=(0,c.camelize)(t.name);return h.call(r,n)?(0,u._)((0,i._)({},e),{target:(0,u._)((0,i._)({},e.target),{value:r[n].value})}):e})));default:return e}}),(0,o._)(r,"schema",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.Hp.GET_META_CATEGORIES.success:return(0,u._)((0,i._)({},e),{categories:t.payload.data});case E.Hp.GET_META_CATEGORY.success:return(0,u._)((0,i._)({},e),{category:(0,u._)((0,i._)({},e.category),(0,o._)({},t.category,t.payload.schema))});default:return e}}),(0,o._)(r,"creatorWall",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.id;if(t.type===E.Hp.GET_CREATOR_WALL.request)return _()(e,(0,o._)({},r,{paging:{loading:!0}}));if(t.type===E.Hp.GET_CREATOR_WALL.success){var c=e[r],s=(void 0===c?{}:c).items,l=void 0===s?[]:s;return(0,u._)((0,i._)({},e),(0,o._)({},r,(0,u._)((0,i._)({},n),{items:(0,a._)(l).concat((0,a._)(t.result)),paging:(0,u._)((0,i._)({},n.paging),{loading:!1})})))}return e}),(0,o._)(r,"wikiEditInfo",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.id,r=t.type,a=t.payload;if(r===E.Hp.GET_WIKI_EDIT_INFO.success){var c=a.canEdit,s=a.hasCommit;return void 0===c||void 0===s?e:(0,u._)((0,i._)({},e),(0,o._)({},n,a))}return e}),(0,o._)(r,"committedWiki",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.id,r=t.type,a=t.payload;if(r===E.Hp.GET_COMMITTED_WIKI.success){var c=a.data;return c?(0,u._)((0,i._)({},e),(0,o._)({},n,c)):e}return e}),(0,o._)(r,"landingBasicData",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===E.Hp.GET_LANDING_BASIC_DATA.success?r:e}),(0,o._)(r,"landingExcellentItems",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===E.Hp.GET_LANDING_EXCELLENT_ITEMS.success?r.excellentItems:e}),(0,o._)(r,"landingExcellentEditors",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===E.Hp.GET_LANDING_EXCELLENT_EDITORS.success?r.editors:e}),(0,o._)(r,"landingCatalog",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===E.Hp.GET_LANDING_CATALOG.success?r.data:e}),(0,o._)(r,"landingEntries",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===E.Hp.GET_LANDING_ENTRIES.success?r:e}),r)),I=n(14288),y=A},14288:function(e,t,n){"use strict";n.d(t,{$p:function(){return B},Bi:function(){return F},Bj:function(){return v},Bp:function(){return y},CZ:function(){return l},DC:function(){return Z},Dc:function(){return W},Dj:function(){return D},E2:function(){return U},Fh:function(){return x},Ho:function(){return S},Ih:function(){return b},Ik:function(){return K},JY:function(){return R},ME:function(){return V},MP:function(){return E},Mt:function(){return p},QG:function(){return Y},Qb:function(){return z},S2:function(){return L},SL:function(){return O},TI:function(){return Q},Uu:function(){return M},V6:function(){return q},Xn:function(){return J},Zc:function(){return k},ax:function(){return T},cM:function(){return _},hx:function(){return G},kv:function(){return X},m8:function(){return P},mn:function(){return h},n$:function(){return g},oZ:function(){return C},sI:function(){return w},uq:function(){return j},ux:function(){return I},ye:function(){return N}});var r=n(55164),o=n(57477),i=n(31824),u=n(87441),a=n(69906),c=n(28814),s=function(e){return e&&e.items},l=function(e,t){var n=t.id;return e.entities.topics[n]},d=function(e,t){var n=t.id;return e.topic.parent[n]},_=(0,i.P1)(d,s),p=(0,i.P1)(function(e,t){var n=t.id;return e.topic.children[n]},s),f=function(e,t){var n=t.id;return e.topic.bestAnswerers[n]},T=(0,i.P1)(f,s),E=function(e,t){var n=t.id;return e.topic.wikiMeta[n]},h=function(e,t){var n=t.id;return e.topic.wikiEditInfo[n]},v=function(e,t){var n=t.id;return e.topic.committedWiki[n]},m=function(e){return function(t,n){var r=n.id;return t.topic[e][r]}},A=function(e){return(0,i.P1)(function(e){return e},(0,i.P1)(e,a.kf),function(e,t){return(0,o._)((0,r._)({},t),{items:(t.items||[]).map(function(t){return{sourceTopic:l(e,{id:t.sourceTopic}),target:(0,u.N7)(e,t.target)}})})})},I=m("top"),y=A(I),O=m("hot"),S=A(O),g=m("newest"),C=A(g),N=m("unanswered"),R=A(N),P=m("questions"),D=A(P),L=m("zivdeo"),w=A(L),b=m("zvideo-new"),G=A(b),U=m("pin");A(U);var k=m("followers"),M=(0,i.P1)(function(e){return e},(0,i.P1)(k,a.kf),function(e,t){return(0,o._)((0,r._)({},t),{items:(t.items||[]).map(function(t){return(0,c.np)(e,{id:t})})})}),F=m("contributors"),Z=(0,i.P1)(function(e){return e},(0,i.P1)(F,a.kf),function(e,t){return(0,o._)((0,r._)({},t),{items:t.items||[]})}),B=function(e,t){var n=t.id,i=e.topic.index[n];return i&&(0,o._)((0,r._)({},i),{topicIndexEditors:(i.topicIndexEditors||[]).map(function(t){return(0,c.np)(e,{id:t})})})},H=["answer","question","article"],q=function(e){var t=e.topic.sticky||{},n=t.categories;return(0,o._)((0,r._)({},t),{categories:null==n?void 0:n.map(function(e){var t,n=null===(t=e.data)||void 0===t?void 0:t.filter(function(e){var t=e.target,n=(void 0===t?{}:t).type;return H.includes(n)});return 0===n.length?null:(0,o._)((0,r._)({},e),{data:n})}).filter(function(e){return e})})},x=function(e,t){var n=t.id;return e.topic.intro[n]},V=(0,i.P1)(x,function(e){return e&&e.abstract}),z=(0,i.P1)([V,function(e,t){return t}],function(e,t){var n=t.sid;return e.filter(function(e){return e.sid!==n})}),K=(0,i.P1)([V,function(e,t){return t}],function(e,t){return t.rank.map(function(t){return e.find(function(e){return e.sid===t})})}),W=(0,i.P1)(f,p,d,function(e,t,n){return e&&t&&n}),Y=(0,i.P1)(l,function(e){if(e.showIntro)return!0;var t=e&&e.meta&&e.meta.category;return!!t&&(["variety_show","tv","movie","book","game"].includes(t)||t.startsWith("n_"))}),Q=function(e){return e.topic.schema.categories},j=function(e,t){var n=t.type;return(e.topic.schema.category||{})[n]},X=function(e,t){var n=t.id;return e.topic.meta[n]},J=function(e){return e.topic.landingEntries.hasPermission}},55193:function(e,t,n){"use strict";n.d(t,{E0:function(){return C},F3:function(){return R},G9:function(){return g},Hp:function(){return p},IH:function(){return N},MW:function(){return v},Nw:function(){return y},Tl:function(){return S},Uf:function(){return h},aS:function(){return m},lh:function(){return A},qq:function(){return O},sT:function(){return P},tS:function(){return I}});var r=n(87320),o=n(55164),i=n(57477),u=n(74135),a=n(28953),c=n(80714),s=n(4785),l=n(39288),d=n(69906),_={timeout:4e3},p=(0,o._)({},(0,l.FH)("topstory",["GET_RECOMMEND","GET_FOLLOW","GET_FOLLOW_WONDERFUL","GET_ASIDEDATA","UNINTEREST","UNINTEREST_REASONS","GET_ANNOUNCEMENT","GET_HOT_LIST_CATEGORIES","UPDATE_HOT_LIST_CATEGORIES","GET_HOT_LIST","GET_GUEST_FEEDS","GET_FOLLOW_EXTRA","GET_HOT_DAILY","GET_HOT_HIGHLIGHT","GET_BANNER","GET_COMMERCIAL_BANNER","GET_VIDEOS"]),(0,l.co)("topstory",["DIMISS_ANNOUNCEMENT","UPDATE_FOLLOW_COUNT","RESET_RECOMMEND","RESET_FOLLOW","RESET_FOLLOW_WONDERFUL","RESET_HOT_LIST","CLEAR_VIDEOS"])),f="3.0.53",T=(0,r._)({},c.Z.isMobileEntry?"mobile":"desktop",!0),E=(0,o._)({limit:d.VZ},T);function h(){return function(e,t){var n=t(),r=n.topstory.recommend,u=r.next,s=r.afterId,l=r.sessionToken,d=n.currentUser,T="1"===c.Z.apollo.topstory_rec_adp;return e({currentUser:d,API:(0,i._)((0,o._)({types:p.GET_RECOMMEND},u?{endpoint:u}:{endpoint:"v3/feed/topstory/recommend",query:(0,o._)({},E,s&&{afterId:s},l&&{sessionToken:l})}),{headers:{"X-API-VERSION":f},fetchOptions:(0,o._)({},T&&{downgradeProbe:{url:"https://web-render.zhihu.com/api/v3/feed/topstory/recommend?".concat(new URLSearchParams(E).toString())}})}),FAILSAFE:_,schema:a.l.TOPSTORY_ARRAY})}}function v(){return{type:p.RESET_RECOMMEND}}function m(){return function(e){return e({API:{types:p.GET_FOLLOW_EXTRA,endpoint:"/v3/moments/extra"}}).then(function(t){return"big"===t.payload.guideCard.styleType?e(y()):e(A())})}}function A(){return function(e,t){var n=t().topstory.follow,r=n.next,u=n.afterId,c=n.sessionToken;return e({API:(0,i._)((0,o._)({types:p.GET_FOLLOW},r?{endpoint:r}:{endpoint:"v3/moments",query:(0,o._)({},E,u&&{afterId:u},c&&{sessionToken:c})}),{headers:{"X-API-VERSION":f},FAILSAFE:_}),schema:a.l.TOPSTORY_ARRAY})}}function I(){return{type:p.RESET_FOLLOW}}function y(){return function(e,t){var n=t().topstory.follow,u=n.next,c=n.afterId,s=n.sessionToken;return e({API:(0,i._)((0,o._)({types:p.GET_FOLLOW_WONDERFUL},u?{endpoint:u}:{endpoint:"v3/feed/topstory/follow_wonderful",query:(0,o._)({},E,c&&{afterId:c},s&&{sessionToken:s})}),{headers:{"X-API-VERSION":f}}),UPDATE:{success:function(e){var t=e.data.map(function(e){return e.target.author}).reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,r._)({},t.urlToken,t))},{});return{users:(0,o._)({},t)}}},FAILSAFE:_,schema:a.l.TOPSTORY_ARRAY})}}function O(){return{type:p.RESET_FOLLOW_WONDERFUL}}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"topstorys";return function(n,o){var i=o(),a=i.topstory,c=i.entities,l=a[t],d=l.sessionToken,_=l.items.find(function(t){return t.id===e}).schema,f="".concat(_,"s"),T=c[f][e],E=T.brief;return n({API:{types:p.UNINTEREST,endpoint:"v3/feed/topstory/uninterestv2",body:(0,s.z)((0,u.decamelizeKeys)({itemBrief:E,sessionToken:d})),method:"POST"},UPDATE:{request:(0,r._)({},f,(0,r._)({},e,{isDelete:!0})),failure:(0,r._)({},f,(0,r._)({},e,T))},NOTIFICATION:{success:"已减少此类内容出现"}})}}function g(){return{API:{types:p.GET_ASIDEDATA,endpoint:"home/sidebar"}}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{API:{types:p.GET_HOT_LIST,endpoint:"/v3/feed/topstory/hot-lists/total",query:(0,o._)({limit:e.query&&e.query.limit||3},T),headers:{"X-API-VERSION":"3.0.76"}},FAILSAFE:!0}}function N(){return{type:p.RESET_HOT_LIST}}function R(e){return{type:p.UPDATE_FOLLOW_COUNT,payload:{urlToken:e}}}function P(){return{API:{root:c.Z.fetchRoot.www,types:p.GET_COMMERCIAL_BANNER,endpoint:"/commercial_api/banners_v3/pc_top_banner"},FAILSAFE:!0}}},63475:function(e,t,n){"use strict";n.d(t,{ZP:function(){return b},E0:function(){return _.E0},yk:function(){return A},YY:function(){return m},G9:function(){return _.G9},sT:function(){return _.sT},aS:function(){return _.aS},lh:function(){return _.lh},Nw:function(){return _.Nw},Uf:function(){return _.Uf},tS:function(){return _.tS},qq:function(){return _.qq},IH:function(){return _.IH},MW:function(){return _.MW},wx:function(){return w},V5:function(){return R},Rj:function(){return g},QO:function(){return C},yp:function(){return N},o5:function(){return L},eJ:function(){return D},Uk:function(){return P},Tl:function(){return _.Tl},F3:function(){return _.F3}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(94057),c=n(15042),s=n(44986),l=n(74351),d=n(11857),_=n(55193),p=n(44808),f=n(9273);function T(){return{meta:{},isFetching:!1,isDrained:!1,afterId:0,items:[],next:null}}var E=(0,a.combineReducers)({recommend:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isDrained:!1,afterId:0,items:[],next:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.Hp.GET_RECOMMEND.request:return(0,i._)((0,o._)({},e),{isFetching:!0});case _.Hp.GET_RECOMMEND.success:var n=t.result,r=t.isDrained,a=t.next,c=t.payloadOrigin,s=t.currentUser,p=e.items,f=n.filter(function(e){var t=e.id;return!p.find(function(e){return e.id===t})});(0,d.y)({payloadOrigin:c,currentUser:s});var E=(0,u._)(p).concat((0,u._)(f));return(0,i._)((0,o._)({},e),{isDrained:r,isFetching:!1,afterId:(E[E.length-1]||{}).id,items:E,next:a,sessionToken:t.payload.sessionToken,serverPayloadOrigin:(0,l.isBrowser)()?null:c});case _.Hp.GET_RECOMMEND.failure:return(0,i._)((0,o._)({},e),{isFetching:!1,isDrained:!0});case _.Hp.RESET_RECOMMEND:return T();default:return e}},follow:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isDrained:!1,afterId:0,items:[],next:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.Hp.GET_FOLLOW.request:return(0,i._)((0,o._)({},e),{isFetching:!0});case _.Hp.GET_FOLLOW.success:var n=t.result,r=t.isDrained,a=t.next,c=e.items,s=n.filter(function(e){var t=e.id;return!c.find(function(e){return e.id===t})}),l=(0,u._)(c).concat((0,u._)(s));return(0,i._)((0,o._)({},e),{isDrained:r,isFetching:!1,afterId:(l[l.length-1]||{}).id,items:l,next:a,sessionToken:t.payload.sessionToken});case _.Hp.GET_FOLLOW.failure:return(0,i._)((0,o._)({},e),{isFetching:!1,isDrained:!0});case _.Hp.RESET_FOLLOW:return T();default:return e}},followWonderful:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isDrained:!1,afterId:0,items:[],next:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.Hp.GET_FOLLOW_WONDERFUL.request:return(0,i._)((0,o._)({},e),{isFetching:!0});case _.Hp.GET_FOLLOW_WONDERFUL.success:var n=t.result,r=t.isDrained,a=t.next,c=t.hasNew,s=e.items,l=n.filter(function(e){var t=e.id;return!s.find(function(e){return e.id===t})}),d=(0,u._)(s).concat((0,u._)(l));return(0,i._)((0,o._)({},e),{isDrained:r,isFetching:!1,afterId:(d[d.length-1]||{}).id,items:d,next:a,sessionToken:t.payload.sessionToken,hasNew:c});case _.Hp.GET_FOLLOW_WONDERFUL.failure:return(0,i._)((0,o._)({},e),{isFetching:!1,isDrained:!0,hasNew:!0});case _.Hp.RESET_FOLLOW_WONDERFUL:return T();default:return e}},sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===_.Hp.GET_ASIDEDATA.success?t.payload:e},announcement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===_.Hp.GET_ANNOUNCEMENT.success&&t.payload?(0,i._)((0,o._)({},e),{data:t.payload}):t.type===_.Hp.DIMISS_ANNOUNCEMENT?(0,i._)((0,o._)({},e),{dimiss:!0}):e},hotList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(t.payload||{}).data;return t.type===_.Hp.GET_HOT_LIST.success?n:t.type===_.Hp.RESET_HOT_LIST?[]:e},hotListHeadZone:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=(t.payload||{}).headZone;return t.type===_.Hp.GET_HOT_LIST.success?n||{}:e},guestFeeds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isDrained:!1,afterId:0,items:[],next:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.Hp.GET_GUEST_FEEDS.request:return(0,i._)((0,o._)({},e),{isFetching:!0});case _.Hp.GET_GUEST_FEEDS.success:var n=t.result,r=t.isDrained,a=t.next,c=t.offset,s=e.items,l=n.slice(c||0).filter(function(e){var t=e.id;return!s.find(function(e){return e.id===t})}),d=(0,u._)(s).concat((0,u._)(l));return(0,i._)((0,o._)({},e),{isDrained:r,isFetching:!1,afterId:(d[d.length-1]||{}).id,items:d,next:a,sessionToken:t.payload.sessionToken});case _.Hp.GET_GUEST_FEEDS.failure:return(0,i._)((0,o._)({},e),{isFetching:!1,isDrained:!0});default:return e}},followExtra:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isNewUser:null,isFetched:!1,followCount:0,followers:[]},t=arguments.length>1?arguments[1]:void 0;if(t.type===_.Hp.GET_FOLLOW_EXTRA.success){var n=t.payload.guideCard.styleType;return(0,i._)((0,o._)({},e),{isNewUser:"big"===n,isFetched:!0})}if(t.type===_.Hp.UPDATE_FOLLOW_COUNT){var r,a=t.payload.urlToken,c=e.followers;return r=c.findIndex(function(e){return e===a})>-1?c.filter(function(e){return e!==a}):(0,u._)(c).concat([a]),(0,i._)((0,o._)({},e),{followers:r,followCount:r.length})}return e},hotDaily:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:[],paging:{}},t=arguments.length>1?arguments[1]:void 0;return t.type===_.Hp.GET_HOT_DAILY.success?t.payload:e},hotHighlight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,isDrained:!1,data:[],paging:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case _.Hp.GET_HOT_HIGHLIGHT.request:case _.Hp.GET_HOT_HIGHLIGHT.failure:return(0,i._)((0,o._)({},e),{isFetching:t.type===_.Hp.GET_HOT_HIGHLIGHT.request});case _.Hp.GET_HOT_HIGHLIGHT.success:return(0,i._)((0,o._)({},e),{isFetching:!1,paging:t.payload.paging,data:(0,u._)(e.data).concat((0,u._)(r.data))});default:return e}},banner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,u=t.payload;if(n===_.Hp.GET_BANNER.success){var a=t.meta.position;return(0,i._)((0,o._)({},e),(0,r._)({},a,u.data))}return e},commercialBanner:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{show:!1,banner:{},trackData:{}},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;if(n===_.Hp.GET_COMMERCIAL_BANNER.success){var u=(0,c.iL)((0,s.PO)({adjson:null==r?void 0:r.banner})),a=u.creative,l=u.ad,d=void 0===l?{}:l,p=d.id,f=d.template,T=void 0===f?"":f,E=d.impressionTracks,h=d.viewTracks,v=d.clickTracks,m=(void 0===a?{asset:{}}:a).asset,A=m.imgs,I=m.landingUrl,y=m.imgHue;return(0,i._)((0,o._)({},e),{show:"home_top_big_pc_template"===T,trackData:"home_top_big_pc_template"===T?{impressionTracks:void 0===E?[]:E,viewTracks:void 0===h?[]:h,clickTracks:void 0===v?[]:v}:{},banner:{id:p,url:void 0===I?"":I,imageUrl:(void 0===A?[]:A)[0],bgColor:y?"#".concat(y):"GBK99A"}})}return e},video:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[],next:null,isLoading:!1,isDrained:!1},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload,a=t.index;switch(n){case _.Hp.CLEAR_VIDEOS:return(0,i._)((0,o._)({},e),{items:[],isLoading:!1});case _.Hp.GET_VIDEOS.request:return(0,i._)((0,o._)({},e,t.clear&&{items:[]}),{isLoading:!0});case _.Hp.GET_VIDEOS.success:return(0,i._)((0,o._)({},e),{items:(0,u._)(e.items).concat((0,u._)(r.data)),next:r.paging.next,isDrained:r.paging.isEnd,isLoading:!1});case f.Hp.NEGATIVE_FEEDBACK_UNINTERESTED.success:case f.Hp.NEGATIVE_FEEDBACK_CONTENT.success:return(0,p.Uy)(e,function(e){e.items[a]&&(e.items[a].blocked=t.blocked,e.items[a].blockedType=t.blockedType)})}return e}}),h=n(31824),v=n(2493);function m(e){return e.topstory.hotList}function A(e){return e.topstory.hotListHeadZone}function I(e,t){var n=e.feeds[t.id],r=n.target,i=(e["".concat(r.schema,"s")]||{})[r.id];return null!=i?(0,o._)({},n,i&&{target:i}):n}var y={meta:{},isFetching:!1,items:[],isDrained:!1},O=function(e,t){var n=e.topstory[t]||y,r=n.meta,i=n.isFetching,u=n.isDrained,a=n.items,c=n.serverPayloadOrigin;return(0,o._)({meta:r,isFetching:i,isDrained:u,items:a},"recommend"===t&&{serverPayloadOrigin:c,currentUser:e.currentUser})},S=function(e){return(0,v.Z)(function(t){return O(t,e)},function(e){return e.entities},function(t,n){return(0,i._)((0,o._)({},t),{items:t.items.map(function(t){return function(e,t){var n,r,u,a,c,s,d,_=t.id,p=t.schema;try{switch(p){case"actionCard":return n=e.actionCards,r=e.topics,a=(u=n[_]).card,(c=u.card.topicList)?(0,i._)((0,o._)({},u),{card:(0,i._)((0,o._)({},a),{topicList:c.map(function(e){return r[e]})})}):null;case"feed":return I(e,{id:_});case"feedAdvert":return e.feedAdverts[_];case"feedGroup":return d=(s=e.feedGroups)&&s[_],(0,i._)((0,o._)({},d),{list:d.list.map(function(t){return I(e,{id:t})})});default:return t}}catch(e){(0,l.isBrowser)()&&window.Raven.captureException(e,{level:"warning",extra:t})}return null}(n,t,e)}).filter(Boolean)})})},g=S("follow"),C=S("followWonderful"),N=S("recommend");(0,h.P1)(function(e){var t=e.topstory.guestFeeds||y;return{isFetching:t.isFetching,isDrained:t.isDrained,items:t.items}},function(e){return e.entities},function(e,t){return(0,i._)((0,o._)({},e),{items:e.items.map(function(e){return I(t,e)}).filter(Boolean)})});var R=function(e){return e.topstory.followExtra},P=function(e){return e.topstory.video.items},D=function(e){return e.topstory.video.isLoading},L=function(e){return e.topstory.video.isDrained},w=function(e){return e.topstory.commercialBanner},b=E},48825:function(e,t,n){"use strict";n.d(t,{Ix:function(){return p},TL:function(){return f},ZP:function(){return T}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(74135),c=n(71746),s=n(77440),l=(0,n(39288).FH)("upload",["IMAGE","VIDEO"]);function d(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0;return(0,o._)({NOTIFICATION:"default"!==n&&{failure:"上传失败"},uploadId:n},(t=new FormData,"string"==typeof e?t.append("url",e):t.append("picture",e),r&&t.append("source",r),{API:{types:l.IMAGE,endpoint:"/uploaded_images",method:"POST",body:t,headers:{Accept:"application/json"},fetchOptions:{credentials:"include"}}}))}var _=(0,s.aF)(c.Z,!0),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;return function(i){return"string"!=typeof e?_(e,{source:r,autoRotate:o}).then(function(e){return i({type:l.IMAGE.success,uploadId:t,payload:(0,a.camelizeKeys)(e)})},function(o){if(n.g.raven){var a=Error(o.message);a.name="UploadError",n.g.raven.captureException(a),n.g.raven.captureException(o)}return(0,s.aF)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(d.apply(void 0,(0,u._)(t)))})(e,t,r)}):(0,s.aF)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i(d.apply(void 0,(0,u._)(t)))})(e,t,r)}};function f(e,t){var n=t.id;return e.upload[n]}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l.IMAGE.request:case l.IMAGE.failure:return(0,i._)((0,o._)({},e),(0,r._)({},t.uploadId,null));case l.IMAGE.success:return(0,i._)((0,o._)({},e),(0,r._)({},t.uploadId,{url:t.payload.src,rawWidth:t.payload.dataRawwidth,rawHeight:t.payload.dataRawheight,id:t.payload.hash}));case l.VIDEO.request:case l.VIDEO.failure:return(0,i._)((0,o._)({},e),{video:null});case l.VIDEO.success:return(0,i._)((0,o._)({},e),{video:t.payload});default:return e}}},96354:function(e,t,n){"use strict";n.d(t,{Yr:function(){return a},ZP:function(){return l},nh:function(){return c}});var r=n(55164),o=n(57477),i=n(39288),u=(0,r._)({},(0,i.FH)("userProfit",["GET_MEMBER_STATUS","UPDATE_MEMBER_STATUS","GET_USER_PROFIT_PERMISSION","GET_LINK_CARD_LIMIT"]));function a(){return{API:{types:u.GET_USER_PROFIT_PERMISSION,endpoint:"mcn/permission/profit"}}}function c(){return{API:{types:u.GET_LINK_CARD_LIMIT,endpoint:"mcn/v2/limit/linkcard"}}}var s={permission:{permissionStatus:{zhiZixuan:0,recommend:-1,task:0,plugin:0,infinity:0},visible:!1},linkCardLimit:0};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;return t.type===u.GET_USER_PROFIT_PERMISSION.success?(0,o._)((0,r._)({},e),{permission:t.payload}):t.type===u.GET_LINK_CARD_LIMIT.success?(0,o._)((0,r._)({},e),{linkCardLimit:t.payload.data}):e}},28814:function(e,t,n){"use strict";n.d(t,{FU:function(){return d},KX:function(){return f},_:function(){return p},cw:function(){return s},np:function(){return l}});var r=n(87320),o=n(84),i=n(28953),u=n(39288),a=n(67927),c=n(66263),s=(0,u.FH)("user",["UPDATE_FOLLOWERS","LOAD_USER_DMP_CROWD","RECOMMEND_FOLLOW_PEOPLE_TOPSTORY"]),l=function(e,t){var n=t.urlToken,r=t.id,o=e.entities.users,i=void 0===o?{}:o;return i[n||r]||i[Object.keys(i).find(function(e){return i[e].id===r})]};function d(e,t){return{API:{types:s.LOAD_USER_DMP_CROWD,endpoint:"creators/dmp/crowd",method:"POST",body:{crowd_ids:e,url_token:t}}}}var _=new o.fK.Array(new o.fK.Object({actor:i.l.USER}));function p(){return{API:{types:s.RECOMMEND_FOLLOW_PEOPLE_TOPSTORY,endpoint:"moments/recommend_follow_people",query:{rec_type:"PC_HOME_FEED"}},schema:_}}function f(e,t){return function(n,o){var i,u,l=o(),d=l.entities.users,_=l.currentUser,p=d[e]||{};if(p.isBlocked)return n((0,a.c0)(c.T$.blocked,"red"));var f=d[_],T=t?1:-1;return n({urlToken:_,userUrlToken:e,expect:t,API:{types:s.UPDATE_FOLLOWERS,endpoint:"members/".concat(e,"/followers"),method:t?"POST":"DELETE"},UPDATE:{request:{users:(i={},(0,r._)(i,p.urlToken,{followerCount:p.followerCount+T,isFollowing:t}),(0,r._)(i,f.urlToken,{followingCount:f.followingCount+T}),i)},failure:{users:(u={},(0,r._)(u,p.urlToken,p),(0,r._)(u,f.urlToken,f),u)},success:function(e){return{users:(0,r._)({},p.urlToken,e)}}}})}}},37209:function(e,t,n){"use strict";n.d(t,{Ty:function(){return _},ZP:function(){return f},hK:function(){return d},o2:function(){return l}});var r=n(87320),o=n(55164),i=n(57477);n(74351);var u=n(80714),a=n(39288),c="".concat(u.Z.fetchRoot.lens,"/api"),s=(0,o._)({},(0,a.FH)("VIDEO",["GET","GET_DETAILS","CREATE","GET_VIDEO_DEFAULT_COVER"]));function l(e){return{id:e,API:{types:s.GET,root:c,endpoint:"/embedded_videos/".concat(e)}}}function d(e){return{id:e,API:{types:s.GET_DETAILS,root:"".concat(u.Z.fetchRoot.lens,"/api/v4"),endpoint:"/videos/".concat(e)}}}function _(e){return{API:{types:s.CREATE,root:c,endpoint:"/embedded_videos",method:"POST",body:{url:e}}}}var p={data:{},shareVideoDetail:{},last:{}};function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.GET.success:return(0,i._)((0,o._)({},e),{data:(0,i._)((0,o._)({},e.data),(0,r._)({},t.id,t.payload))});case s.CREATE.success:return(0,i._)((0,o._)({},e),{data:(0,i._)((0,o._)({},e.data),(0,r._)({},t.payload.id,t.payload)),last:t.payload});case s.GET_DETAILS.success:return(0,i._)((0,o._)({},e),{shareVideoDetail:t.payload});default:return e}}},6484:function(e,t,n){"use strict";n.d(t,{Z:function(){return l},g:function(){return c}});var r=n(55164),o=n(57477),i=n(39288),u=n(42412),a=(0,i.FH)("WALL-E",["LOAD_PROTECT_HISTORY"]);function c(e,t){return{API:{types:a.LOAD_PROTECT_HISTORY,endpoint:"wallee/creator/walle/list",query:{limit:t,offset:(e-1)*t}},meta:{paging:e}}}var s={protectHistory:{total:0,pages:{},entities:{}}};function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;if(t.type===a.LOAD_PROTECT_HISTORY.success){var n=t.meta,i=t.payload,c=i.data,l=i.paging.totals;return(0,o._)((0,r._)({},e),{protectHistory:(0,u.q)(e.protectHistory,n.paging,{data:c,total:l})})}return e}},4773:function(e,t,n){"use strict";n.d(t,{gq:function(){return g},ZP:function(){return b},EB:function(){return R},KQ:function(){return N},ry:function(){return S},Xg:function(){return A},ub:function(){return I},nL:function(){return O},GC:function(){return y},__:function(){return P},O:function(){return D},uw:function(){return C},cF:function(){return T.cF},fh:function(){return T.fh},oL:function(){return T.oL}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(74135),c=n(44808),s=n(94057),l=n(92769),d=n.n(l),_=n(42029),p=n.n(_),f=n(39288),T=n(21220),E=n(84),h=new E.fK.Entity("zvideoContributions",{},{processStrategy:function(e){return(0,i._)((0,o._)({},e),{abnormalReason:e.abnormalReason||null})}}),v=new E.fK.Array(h),m=(0,o._)({},(0,f.FH)("zvideoContribution",["LOAD_CONFIG","LOAD_CONTRIBUTION_LIST","LOAD_RECOMMEND_QUESTIONS","LOAD_QUESTION_SEARCH_RESULT","CREATE_CONTRIBUTION","LOAD_CONTRIBUTION","UPDATE_CONTRIBUTION","DELETE_CONTRIBUTION_DRAFT","DELETE_CONTRIBUTED_ANSWER","PUBLISH_CONTRIBUTIONS"]),(0,f.co)("zvideoContribution",["SELECT_CONTRIBUTION","SET_CAMPAIGN"])),A=function(e){var t=e.zvideoId,n=e.target,r=e.duration;return{meta:{zvideoId:t},API:{types:m.LOAD_CONFIG,endpoint:"/zvideo-contribute/zvideos/".concat(t,"/status"),query:(0,o._)({target:void 0===n?"answer":n},r&&{full_duration_millis:r})}}},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all";return{meta:{zvideoId:e},API:{types:m.LOAD_CONTRIBUTION_LIST,endpoint:"zvideo-contribute/zvideos/".concat(e,"/contributions"),query:{scene:t}},schema:v}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.zvideoId,n=e.title,r=e.description,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e,u){var a=u().zvideos.contribution.recommendQuestions.paging.next,c=!!a&&!i;e({meta:{reload:i},API:(0,o._)({types:m.LOAD_RECOMMEND_QUESTIONS,endpoint:c?a:"/zvideo-contribute/contribute/question/recommend"},!c&&{query:{zvideo_id:t,title:n,description:r,limit:20}})})}},O=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i=r().zvideos.contribution.questionSearchResults.paging.next,u=!!i&&!t;n({meta:{reload:t},API:(0,o._)({types:m.LOAD_QUESTION_SEARCH_RESULT,endpoint:u?i:"/zvideo-contribute/contribute/question/search"},!u&&{query:{query:e,limit:20}})})}},S=function(e){return{API:{types:m.LOAD_CONTRIBUTION,endpoint:"/zvideo-contribute/contribute/".concat(e)},schema:h}},g=function(e,t,n){return{meta:{zvideoId:e},API:{types:m.CREATE_CONTRIBUTION,endpoint:"/zvideo-contribute/contribute",method:"POST",body:(0,a.decamelizeKeys)((0,o._)({zvideoId:e},d()(t,["target.parentObject.title"]),n&&{full_duration_millis:n}))},UPDATE:{success:function(e){var n=e.id;return{zvideoContributions:(0,r._)({},n,(0,o._)({status:0,id:n},t))}}}}},C=function(e,t){return{API:{types:m.UPDATE_CONTRIBUTION,endpoint:"/zvideo-contribute/contribute/".concat(e),method:"PUT",body:(0,a.decamelizeKeys)(t)},UPDATE:{success:{zvideoContributions:(0,r._)({},e,t)}}}},N=function(e,t){return{meta:{zvideoId:e,contributionId:t},API:{types:m.DELETE_CONTRIBUTION_DRAFT,endpoint:"/zvideo-contribute/contribute/".concat(t),method:"DELETE"}}},R=function(e,t,n){return{meta:{zvideoId:e,contributionId:t},API:{types:m.DELETE_CONTRIBUTED_ANSWER,endpoint:"/answers/".concat(n),method:"DELETE"}}},P=function(e){return function(t,n){var r,o=null===(r=(0,T.JG)(n(),e))||void 0===r?void 0:r.filter(function(e){return 0===e.status}).map(function(e){return e.id});return(null==o?void 0:o.length)?t({API:{types:m.PUBLISH_CONTRIBUTIONS,endpoint:"/zvideo-contribute/contribute/publish",method:"POST",body:{ids:o}}}):Promise.resolve()}},D=function(e){return{type:m.SELECT_CONTRIBUTION,payload:e}},L={isLoading:!0,paging:{isEnd:!1,isStart:!0,totals:0},data:[]},w=function(e,t){return(0,c.ZP)(function(n,r){var o=r.type,i=r.payload,a=r.meta;if(o===e.success){var c,s=t?t(i.data):i.data;n.isLoading=!1,n.paging=i.paging,(c=n.data).push.apply(c,(0,u._)(s))}o===e.failure&&(n.isLoading=!1,n.paging.isEnd=!0),o===e.request&&(n.isLoading=!0,a.reload&&Object.assign(n,L))},L)},b=(0,s.combineReducers)({selectedContribution:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===m.SELECT_CONTRIBUTION?r:e},campaign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;return n===m.SET_CAMPAIGN?r:e},configs:(0,c.ZP)(function(e,t){var n=t.payload,r=t.type,o=t.meta;r===m.LOAD_CONFIG.success&&(e[o.zvideoId]=n)},{}),contributionLists:(0,c.ZP)(function(e,t){var n=t.payload,r=t.type,o=t.meta,i=void 0===o?{}:o,u=i.zvideoId,a=i.contributionId,c=t.result;r===m.LOAD_CONTRIBUTION_LIST.success&&(e[u]=c),r===m.CREATE_CONTRIBUTION.success&&(e[u]?e[u].push(n.id):e[u]=[n.id]),(r===m.DELETE_CONTRIBUTION_DRAFT.success||r===m.DELETE_CONTRIBUTED_ANSWER.success)&&p()(e[u],a)},{}),recommendQuestions:w(m.LOAD_RECOMMEND_QUESTIONS),questionSearchResults:w(m.LOAD_QUESTION_SEARCH_RESULT,function(e){return e.map(function(e){return(0,i._)((0,o._)({},e.object),{highlight:e.highlight})})})})},21220:function(e,t,n){"use strict";n.d(t,{JG:function(){return a},cF:function(){return l},fh:function(){return d},hX:function(){return _},oL:function(){return p}});var r=n(53778),o=[],i={},u=function(e,t){return e.entities.zvideoContributions[t]},a=function(e,t){var n,r;return(null===(n=null===(r=e.zvideos)||void 0===r?void 0:r.contribution.contributionLists[t])||void 0===n?void 0:n.map(function(t){return u(e,t)}))||o},c=function(e,t){var n,r;return null===(n=e.entities.zvideos[t])||void 0===n?void 0:null===(r=n.chapters)||void 0===r?void 0:r.map(function(e){var t=e.text;return{start_time:e.startTime,text:t}})},s=function(e){var t,n=null===(t=e.zvideos)||void 0===t?void 0:t.contribution.selectedContribution;return n?u(e,n):null},l=function(e){return(0,r.useSelector)(function(t){var n;return(null===(n=t.zvideos)||void 0===n?void 0:n.contribution.configs[e])||i})},d=function(e){return(0,r.useSelector)(function(t){return a(t,e)})},_=function(e){return(0,r.useSelector)(function(t){return c(t,e)})},p=function(){return(0,r.useSelector)(s)}},41492:function(e,t,n){"use strict";n.d(t,{l0:function(){return K},ER:function(){return R},P6:function(){return q},ZP:function(){return Y},B$:function(){return W},b_:function(){return V},eJ:function(){return k},My:function(){return z},XT:function(){return x},Hi:function(){return D},SL:function(){return N},jl:function(){return H},Fn:function(){return O},SM:function(){return U},zL:function(){return y},DQ:function(){return b},Es:function(){return G},dc:function(){return g},oi:function(){return F},KB:function(){return Z},W2:function(){return L},MM:function(){return P},XD:function(){return M},qO:function(){return C}});var r=n(87320),o=n(55164),i=n(57477),u=n(49899),a=n(74135),c=n(54463),s=n.n(c),l=n(84);n(53778);var d=n(94057),_=n(28953),p=n(84054),f=n.n(p),T=n(80714),E=n(39288),h=n(4773),v=(0,o._)({},(0,E.FH)("zvideoRecruit",["GET_FORM","POST_FORM"])),m={form:{platform:"",nickname:"",followerCount:"",domain:"",contact:""},submited:!1,ranking:[]},A=(0,o._)({},(0,E.FH)("zvideo",["GET","GET_INSERTABLE_ZVIDEOS","VOTE","LIKE","CHANGE_COMMENT_PERMISSION","TOGGLE_VISIBLE_STATUS","GET_DELETE_PROMPT_TEXT","REMOVE","GET_RECOMMENDATIONS","GET_CAMPAIGN","GET_CAMPAIGN_VIDEO","GET_CAMPAIGN_DETAIL","GET_CAMPAIGN_VIDEO_LIST","GET_TAGORE_CATEGORY","GET_TAGORE_RECOMMEND_CATEGORY","GET_MATCH_TOPIC","GET_CONTRIBUTABLE_ZVIDEO_CAMPAIGN","CREATE_DRAFT","GET_DRAFT","UPDATE_DRAFT","REMOVE_DRAFT","PUBLISH_DRAFT","PUBLISH_SCHEDULED_DRAFT","GET_ZVIDEO_BANNERS","UPDATE_ZVIDEO_UPLOAD_FEEDBACK","GET_QY_ACTIVITY","GET_TALK_ACTIVITY","GET_PARTY2022_ACTIVITY","GET_BATCHVIDEOS","GET_PUBLISH_LIMIT","LOAD_CREATION_REFERENCES","GET_SIMILAR_ZVIDEOS","GET_ZVIDEO_COLLECTION_LIST","GET_STICKY_PAGE_CONTENT","TOGGLE_ALLOW_STATUS","GET_COOP_AUTH","GET_IS_READ_PROTOCOL","AGREE_COOP_PROTOCOL","GET_COLLECT_LIST","CHECK_STICKY_LINK","GET_VIDEO_SOURCE"])),I=new l.fK.Union({answer:_.l.ANSWER,zvideo:_.l.ZVIDEO},function(e){var t=e.type;return(0,a.camelize)(t)});function y(e){return{API:{types:A.GET_SIMILAR_ZVIDEOS,endpoint:"/zvideos/".concat(e,"/similar")}}}function O(){return function(e,t){var n=(t().zvideos.insertable||{}).paging;return e({API:{types:A.GET_INSERTABLE_ZVIDEOS,endpoint:(null==n?void 0:n.next)||"/zvideos/insertable"}})}}new l.fK.Array(I);var S=new l.fK.Entity("zvideos",{author:_.l.USER,creationRelationship:{coCreation:{refTo:{contents:[{answer:{author:_.l.USER},article:{author:_.l.USER}}]}}}},{idAttribute:function(e){return"zvideo_answer"===e.type?"zvideo_answer:".concat(e.id,":").concat(e.video.videoId):"zvideo_article"===e.type?"zvideo_article:".concat(e.id,":").concat(e.video.videoId):e.id?e.id:e.zvideoId}});function g(e){return{API:{types:A.GET,endpoint:"zvideos/".concat(e),query:{include:f()({reaction_instruction:!0,contribute:!0,creation_relationship:!0,ip_info:!0})}},schema:S}}function C(e,t){return function(n,u){var a={API:{types:A.VOTE,method:"POST",endpoint:"zvideos/".concat(e,"/voters"),body:{voting:t},fetchOptions:{zsSignature:!0}}},c=u().entities.zvideos[e];if(c){var s,l=1===t?1:1===c.voting?-1:0;a=(0,i._)((0,o._)({},a),{UPDATE:{success:{zvideos:(0,r._)({},e,{voting:t,voteupCount:(null!==(s=c.voteupCount)&&void 0!==s?s:c.voteCount)+l})}}})}return n(a)}}function N(e,t){return function(n,u){var a={API:{types:A.LIKE,method:t?"POST":"DELETE",endpoint:"zvideos/".concat(e,"/likers"),fetchOptions:{zsSignature:!0}}},c=u().entities.zvideos[e];return c&&(a=(0,i._)((0,o._)({},a),{UPDATE:{success:{zvideos:(0,r._)({},e,{isLiked:t,likedCount:c.likedCount+t?1:0})}}})),n(a)}}function R(e,t){return function(n,u){var c,s={API:{types:A.CHANGE_COMMENT_PERMISSION,method:"PUT",endpoint:"zvideos/".concat(e,"/comment_permission"),body:(0,a.decamelizeKeys)({commentPermission:t}),fetchOptions:{zsSignature:!0}}};return(null===(c=u().entities.zvideos)||void 0===c?void 0:c[e])&&(s=(0,i._)((0,o._)({},s),{UPDATE:{success:{zvideos:(0,r._)({},e,{commentPermission:t})}}})),n(s)}}function P(e){return function(t,n){var u=n().entities.zvideos[e],c=!u.isVisible,s={API:{types:A.TOGGLE_VISIBLE_STATUS,method:"PUT",endpoint:"zvideos/".concat(e,"/is_visible"),body:(0,a.decamelizeKeys)({isVisible:c}),fetchOptions:{zsSignature:!0}}};return u&&(s=(0,i._)((0,o._)({},s),{UPDATE:{success:{zvideos:(0,r._)({},e,{isVisible:c})}}})),t(s)}}function D(e){return{API:{types:A.GET_DELETE_PROMPT_TEXT,endpoint:"zvideos/".concat(e,"/delete-prompt")},FAILSAFE:!0}}function L(e){return{API:{types:A.REMOVE,method:"DELETE",endpoint:"zvideos/".concat(e),fetchOptions:{zsSignature:!0}}}}var w=[{title:"热门",name:"hot"},{title:"最新",name:"latest"}];function b(){return{API:{types:A.GET_TAGORE_CATEGORY,endpoint:"/tagore/categories/tree"}}}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.title,r=e.content;return{API:{types:A.GET_TAGORE_RECOMMEND_CATEGORY,endpoint:"/tagore/categories/recommend",query:(0,a.decamelizeKeys)({type:t,title:n,content:r})}}}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=e.text,r=e.offset,o=e.limit,i=e.firstLevelCategoryId,u=e.secondLevelCategoryId;return{API:{types:A.GET_MATCH_TOPIC,endpoint:"/recommendations/match-topics",query:(0,a.decamelizeKeys)({type:t,text:n,offset:void 0===r?0:r,limit:o,firstLevelCategoryId:i,secondLevelCategoryId:u})}}}function k(e){return{API:{types:A.GET_DRAFT,endpoint:"zvideos/drafts/".concat(e),method:"GET"}}}function M(e,t){return{API:{types:A.UPDATE_DRAFT,endpoint:"zvideos/drafts/".concat(e),method:"PATCH",body:(0,a.decamelizeKeys)(t)}}}function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{API:{types:A.PUBLISH_DRAFT,endpoint:"zvideos/".concat(e,"/actions/publish"),method:"POST",body:(0,a.decamelizeKeys)(t)}}}function Z(e,t){return{API:{types:A.PUBLISH_SCHEDULED_DRAFT,endpoint:"auto-publish/".concat(e,"/zvideo"),method:"POST",body:(0,a.decamelizeKeys)({publishAt:t})}}}var B=new l.fK.Object({authors:new l.fK.Array(new l.fK.Object({author:_.l.USER}))}),H=function(e){return{meta:{id:e},API:{types:A.LOAD_CREATION_REFERENCES,endpoint:"zvideos/".concat(e,"/creation-references")},schema:B}},q=function(e){return{API:{types:A.CHECK_STICKY_LINK,method:"GET",endpoint:"/creation-relationship/content/qualification/v2",query:{text:e}}}},x=function(e){var t=e.type,n=e.id,r="",i="",u={};return"article"===t?(r="articles/".concat(n),i=T.Z.fetchRoot.zhuanlan,u={fetchOptions:{credentials:"include"}}):"answer"===t&&(r="answers/".concat(n),i="/api/v4/",u={query:{include:"thumbnail_info,is_visible,paid_info,paid_info_content,admin_closed_comment,reward_info,annotation_action,annotation_detail,collapse_reason,is_normal,is_sticky,collapsed_by,suggest_edit,comment_count,can_comment,content,editable_content,voteup_count,reshipment_settings,comment_permission,created_time,updated_time,review_info,relevant_info,question,excerpt,attachment,relationship.is_authorized,voting,is_thanked,is_author,is_nothelp,is_labeled;mark_infos[*].url;author.vip_info,badge[*].topics;settings.table_of_content.enabled"}}),{API:(0,o._)({types:A.GET_STICKY_PAGE_CONTENT,endpoint:r,root:i},u)}};function V(){return{API:{types:A.GET_COOP_AUTH,endpoint:"creation-relationship/creator/qualification",method:"GET"}}}function z(){return{API:{types:A.GET_IS_READ_PROTOCOL,endpoint:"creation-relationship/cocreation/agreement",method:"GET"}}}function K(){return{API:{types:A.AGREE_COOP_PROTOCOL,endpoint:"creation-relationship/cocreation/set/agree",method:"POST"}}}function W(e){return function(t,n){if(0===n().zvideos.collectData.list.length&&!e||e)return t({API:{types:A.GET_COLLECT_LIST,method:"GET",endpoint:e||"creation-relationship/fav-list?".concat(new URLSearchParams({offset:0,limit:10}))}})}}var Y=(0,d.combineReducers)({campaignVideoList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===A.GET_CAMPAIGN_DETAIL.success){var n=t.meta.id,a=t.payload.tabList;return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},t.payload),{zvideos:a.reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,r._)({},t.tabId,{isLoading:!1,paging:{isEnd:!1,next:null},data:[]}))},{})})))}if(t.type===A.GET_CAMPAIGN_VIDEO_LIST.request||t.type===A.GET_CAMPAIGN_VIDEO_LIST.failure){var c=t.meta,s=c.id,l=c.tabId,d=t.type===A.GET_CAMPAIGN_VIDEO_LIST.request;return(0,i._)((0,o._)({},e),(0,r._)({},s,(0,i._)((0,o._)({},e[s]),{zvideos:(0,i._)((0,o._)({},e[s].zvideos),(0,r._)({},l,(0,i._)((0,o._)({},e[s].zvideos[l]),{isLoading:d})))})))}if(t.type===A.GET_CAMPAIGN_VIDEO_LIST.success){var _=t.meta,p=_.id,f=_.tabId,T=t.payload,E=T.paging,h=T.data;return(0,i._)((0,o._)({},e),(0,r._)({},p,(0,i._)((0,o._)({},e[p]),{zvideos:(0,i._)((0,o._)({},e[p].zvideos),(0,r._)({},f,(0,i._)((0,o._)({},e[p].zvideos[f]),{isLoading:!1,paging:E,data:(0,u._)(e[p].zvideos[f].data).concat((0,u._)(h))})))})))}return e},campaigns:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===A.GET_CAMPAIGN.success){var n=t.meta.id;return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},t.payload),{zvideos:w.reduce(function(e,t){return(0,i._)((0,o._)({},e),(0,r._)({},t.name,{isLoading:!1,paging:{isEnd:!1,next:null},data:[]}))},{})})))}if(t.type===A.GET_CAMPAIGN_VIDEO.request||t.type===A.GET_CAMPAIGN_VIDEO.failure){var a=t.meta,c=a.id,s=a.typeName,l=t.type===A.GET_CAMPAIGN_VIDEO.request;return(0,i._)((0,o._)({},e),(0,r._)({},c,(0,i._)((0,o._)({},e[c]),{zvideos:(0,i._)((0,o._)({},e[c].zvideos),(0,r._)({},s,(0,i._)((0,o._)({},e[c].zvideos[s]),{isLoading:l})))})))}if(t.type===A.GET_CAMPAIGN_VIDEO.success){var d=t.meta,_=d.id,p=d.typeName,f=t.payload,T=f.paging,E=f.data;return(0,i._)((0,o._)({},e),(0,r._)({},_,(0,i._)((0,o._)({},e[_]),{zvideos:(0,i._)((0,o._)({},e[_].zvideos),(0,r._)({},p,(0,i._)((0,o._)({},e[_].zvideos[p]),{isLoading:!1,paging:T,data:(0,u._)(e[_].zvideos[p].data).concat((0,u._)(E))})))})))}return e},tagoreCategory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if(t.type===A.GET_TAGORE_CATEGORY.success){var n=t.payload.data;return Array.isArray(n)?n:[]}return e},recommendations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.GET_RECOMMENDATIONS.request:return(0,i._)((0,o._)({},e),(0,r._)({},t.key,(0,i._)((0,o._)({},e[t.key]),{isLoading:!0})));case A.GET_RECOMMENDATIONS.success:return(0,i._)((0,o._)({},e),(0,r._)({},t.key,(0,i._)((0,o._)({},e[t.key]),{isLoading:!1,paging:t.payload.paging,data:(0,u._)(e[t.key].data||[]).concat((0,u._)(t.payload.data))})));case A.GET_RECOMMENDATIONS.failure:return(0,i._)((0,o._)({},e),(0,r._)({},t.key,(0,i._)((0,o._)({},e[t.key]),{isLoading:!1})));default:return e}},insertable:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A.GET_INSERTABLE_ZVIDEOS.request:case A.GET_INSERTABLE_ZVIDEOS.failure:return(0,i._)((0,o._)({},e),{isLoading:t.type===A.GET_INSERTABLE_ZVIDEOS.request});case A.GET_INSERTABLE_ZVIDEOS.success:return(0,i._)((0,o._)({},e),{isLoading:!1,paging:t.payload.paging,data:s()(e.data,t.payload.data,"id")});default:return e}},recruit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;if(t.type===v.GET_FORM.success){var n=t.payload;e=(0,i._)((0,o._)({},e),{form:(0,o._)({},e.form,n),submited:!0})}return e},qyActivityData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===A.GET_QY_ACTIVITY.success?(0,o._)({},e,t.payload):e},talkActivityData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===A.GET_TALK_ACTIVITY.success?(0,o._)({},e,t.payload):e},party2022ActivityData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===A.GET_PARTY2022_ACTIVITY.success?(0,o._)({},e,t.payload):e},batchVideos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.meta,u=t.payload;return t.type===A.GET_BATCHVIDEOS.success?(0,i._)((0,o._)({},e),(0,r._)({},n,u)):e},contribution:h.ZP,creationReferences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===A.LOAD_CREATION_REFERENCES.success?(0,i._)((0,o._)({},e),(0,r._)({},t.meta.id,t.result)):e},zvideoCollection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===A.GET_ZVIDEO_COLLECTION_LIST.request||t.type===A.GET_ZVIDEO_COLLECTION_LIST.failure){var n=t.meta.id,a=e[n]||{};return(0,i._)((0,o._)({},e),(0,r._)({},n,(0,i._)((0,o._)({},a),{isLoading:t.type===A.GET_ZVIDEO_COLLECTION_LIST.request})))}if(t.type===A.GET_ZVIDEO_COLLECTION_LIST.success){var c=t.meta.id,s=t.payload.paging,l=t.result,d=e[c]||{},_=d.items||[];return(0,i._)((0,o._)({},e),(0,r._)({},c,(0,i._)((0,o._)({},d),{paging:s,items:(0,u._)(_).concat((0,u._)(l)),isLoading:!1})))}return e},zvideoGrant:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===A.TOGGLE_ALLOW_STATUS.success?(0,o._)({},e,t.payload):e},collectData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,list:[]},t=arguments.length>1?arguments[1]:void 0;return t.type===A.GET_COLLECT_LIST.success?(0,o._)((0,i._)((0,o._)({},e),{isFetching:!1,list:e.list.concat(t.payload.data)}),t.payload.paging):t.type===A.GET_COLLECT_LIST.request||t.type===A.GET_COLLECT_LIST.failure?(0,i._)((0,o._)({},e),{isFetching:!0}):e},videoSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1},t=arguments.length>1?arguments[1]:void 0;if(t.type===A.GET_VIDEO_SOURCE.success){var n=t.payload,r=n.topic,u=n.title;return r&&r.length>0&&r.map(function(e){return(0,i._)((0,o._)({},e),{urlToken:e.id})}),{isLoaded:!0,zvideoType:"original",title:u,topics:r}}return e}})},7917:function(e,t,n){"use strict";var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(71728),l=n(85626),d=n(85879),_=n(87363),p=n(53778),f=n(43384),T=n(54231),E=n(14304),h=n(90394),v=n(35374),m=function(e){(0,a._)(n,e);var t=(0,l._)(n);function n(e){var i;return(0,o._)(this,n),i=t.call(this,e),(0,u._)((0,r._)(i),"handleSignFlowModalOpen",function(e){i.setState({signFlowModalType:e,signFlowModalShown:!0}),T.ZP.increment("logIn.modal.show.count",.001)}),(0,u._)((0,r._)(i),"handleSignFlowModalClose",function(){var e=i.props.onClose;i.setState({signFlowModalShown:!1},function(){"function"==typeof e&&e()}),T.ZP.increment("logIn.modal.close.count",.001)}),(0,u._)((0,r._)(i),"handleLogin",function(e){var t=i.props.loginButton,n=void 0===t?{}:t,r=n.props&&n.props.onClick;"function"==typeof r&&r(e),i.handleSignFlowModalOpen("login")}),(0,u._)((0,r._)(i),"handleRegister",function(e){var t=i.props.registerButton,n=t.props&&t.props.onClick;"function"==typeof n&&n(e),i.handleSignFlowModalOpen("register")}),e.defaultType?i.state={signFlowModalType:e.defaultType,signFlowModalShown:!0}:(i.state={signFlowModalType:"initial",signFlowModalShown:!1},T.ZP.increment("logIn.modal.show.count",.001)),i}return(0,i._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.supportedCountries,n=e.getSupportedCountries;(null==t?void 0:t.length)||n()}},{key:"render",value:function(){var e=this,t=this.state,n=t.signFlowModalType,r=t.signFlowModalShown,o=this.props,i=o.loginButton,u=o.loginButtonWithZa,a=o.registerButton,l=o.children,p=o.wrapperClassName,T=(0,s._)(o,["loginButton","loginButtonWithZa","registerButton","children","wrapperClassName"]),E=(0,d.BX)(d.HY,{children:[(0,d.tZ)(h.Z,(0,c._)({signType:n,onClose:this.handleSignFlowModalClose},T)),(0,d.tZ)(v.A6,{})]});return(0,d.BX)("div",{className:p,children:[u&&(0,_.cloneElement)(u,{onClick:this.handleLogin}),i&&(0,d.tZ)(f.Wi,{zaType:"Button",zaText:"login",as:(0,_.forwardRef)(function(t,n){return(0,_.cloneElement)(i,{onClick:e.handleLogin,ref:n})})}),a&&(0,_.cloneElement)(a,{onClick:this.handleRegister}),l,r&&E]})}}]),n}(_.Component);t.Z=(0,p.connect)(function(e){return{supportedCountries:e.sms.supportedCountries,showQrcodeFirst:!1}},{getSupportedCountries:E.o})(m)},69140:function(e,t,n){"use strict";n.r(t),n.d(t,{BIND_PHONE:function(){return $},CONFIRM_BIND_PHONE:function(){return J},CONFIRM_UNBIND:function(){return en},LOGIN_WITH_PHONE:function(){return ee},NEED_UNBIND:function(){return et},SAFETY_VERIFICATION:function(){return er},default:function(){return ei}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(85626),s=n(85879),l=n(14168),d=n.n(l),_=n(87363),p=n(53778),f=n(94057),T=n(11786),E=n(45842),h=n(6366),v=n(58909),m=n(66263),A=n(67927),I=n(55164),y=n(57477),O=n(51679),S=n(90763),g=n(69383),C=n(43384),N=n(74128),R=n(38889),P=n(16850),D=n(65357),L=n(71670),w=n(87843),b=n(80487),G=n(71728),U=n(79065),k=n(49899),M=n(7407),F=n(25773),Z=n(25669),B=n(34150);function H(){var e=(0,U._)(["","s 后可重发"]);return H=function(){return e},e}var q=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){return(0,o._)(this,n),t.apply(this,arguments)}return(0,i._)(n,[{key:"render",value:function(){var e=this.props,t=e.countDownEvent,n=e.startAtOnce,r=e.interceptTime,o=e.resetText,i=e.manualValidateError,u=e.onChange,a=e.validations,c=e.countDownEndEvent,l=e.reStartTime,d=e.isIOS,_=e.isMobile,p=(0,G._)(e,["countDownEvent","startAtOnce","interceptTime","resetText","manualValidateError","onChange","validations","countDownEndEvent","reStartTime","isIOS","isMobile"]);return(0,s.BX)("div",{className:"SignFlow SignFlow-smsBindPhoneInputContainer",children:[(0,s.tZ)(B.Z,(0,I._)({name:"digits",className:"SignFlow-smsBindPhoneInput",type:d?"tel":"number",errorMessageClassName:_?"SignFlow-smsBindPhoneInputErrorMask-Mobile":"SignFlow-smsBindPhoneInputErrorMask",placeholder:"输入 6 位验证码",manualValidateError:i,onChange:u,validations:[{type:"required",message:"请填写验证码",className:"SignFlow-smsInputBindPhoneRequiredErrorMask"}].concat((0,k._)(a||[]))},p)),(0,s.tZ)(F.Z,{className:"SignFlow-smsBindPhoneInputButton",preset:"plain",initialText:"发送验证码",resetText:o,countingText:(0,Z.Z)(H(),"count"),startAtOnce:n,event:t,countDownEndEvent:c,interceptTime:r,reStartTime:l})]})}}]),n}(_.Component);(0,u._)(q,"propTypes",{countDownEvent:d().func.isRequired,startAtOnce:d().bool,interceptTime:d().number,resetText:d().string,manualValidateError:d().string}),(0,u._)(q,"defaultProps",{startAtOnce:!1,resetText:"重发验证码"});var x=(0,p.connect)(function(e){return{isIOS:e.env.userAgent.iOS,isMobile:(0,M.Hu)(e)}})(q),V=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"zaRef",(0,_.createRef)()),(0,u._)((0,r._)(e),"state",{selectedCountry:{code:"+86",name:"中国"},phoneNo:null,smsInputInterceptTime:-1,manualError:null,showFooter:!1,sendValidationCodeButtonText:"发送验证码",identifyingCodeError:null}),(0,u._)((0,r._)(e),"testPhoneNo",function(){var t=e.state,n=t.selectedCountry.code,r=t.phoneNo;return"+86"!==n||/^\d{11}$/.test(r)}),(0,u._)((0,r._)(e),"handleChange",function(t){return function(n){e.setState((0,u._)({},t,n))}}),(0,u._)((0,r._)(e),"handleSendDigits",function(t){var n=e.props.isMobile;e.zaRef.current.trackEvent({eventType:"Click",elementLocation:{type:"Button",moduleId:e.isSocialRegister?"reg_mobile_verification_code_button":""}});var r=e.props,o=r.requestPhoneVerificationCode,i=r.onVipUnbind,u=e.state,a=u.selectedCountry.code,c=u.phoneNo,s=u.manualError;if(g.Z.trackEvent(t.target,{action:"GetCaptcha"}),e.testPhoneNo())return o("".concat(a).concat(c)).then(function(){e.setState({manualError:null})}).catch(function(t){var n=t.payload,r=void 0===n?{}:n,o=r.message;if(!(r.code===m.W0&&"function"==typeof i&&i({phoneNo:c})))return e.setState({manualError:o,smsInputInterceptTime:Date.now()})});var l=n?"手机号错误":"请输入正确的手机号";return e.setState({manualError:s===l?" ".concat(l):l,smsInputInterceptTime:Date.now()})}),(0,u._)((0,r._)(e),"trackSubmitResult",function(t){e.zaRef.current.trackEvent({eventType:"Click",elementLocation:{type:"Button",moduleId:e.isSocialRegister?"reg_mobile_setting_confirm_button":""}},{configMap:{bindResult:t?"1":"0"}})}),(0,u._)((0,r._)(e),"handleSubmit",function(t){var n=t.phoneNo,r=t.digits,o=e.props,i=o.updatePhoneNumber,u=o.onSuccess,a=o.onNeedUnbind,c=e.state,s=c.selectedCountry.code,l=c.identifyingCodeError;i("".concat(s).concat(n),r).then(function(t){var r=t.payload,o=r.data,i=r.success;return(e.trackSubmitResult(i),i)?u():a({phoneNumber:n,bindName:o.bindedAccountFullname,requiredName:o.requestAccountFullname})}).catch(function(t){e.trackSubmitResult(!1);var n=t.payload,r=void 0===n?{}:n,o=r.code,i=r.message;o===m.o7&&e.setState({identifyingCodeError:l===i?" ".concat(i):i})})}),(0,u._)((0,r._)(e),"handleZaOK",function(e){g.Z.trackEvent(e.target,{action:"Ok"})}),(0,u._)((0,r._)(e),"renderContent",function(){var t=e.state,n=t.smsInputInterceptTime,r=t.manualError,o=t.sendValidationCodeButtonText,i=t.identifyingCodeError,u=e.props.isMobile;return(0,s.BX)(C.Wi,{zaType:"Popup",zaModuleId:e.isSocialRegister?"reg_mobile_setting_popup":"",ref:function(t){e.container=t},children:[(0,s.tZ)(C.pS,{ref:e.zaRef}),u&&(0,s.tZ)("div",{css:function(e){return{color:e.colors.GBK03A,fontWeight:"bold",fontSize:17,lineHeight:"24px",padding:"0 24px",marginTop:-18}},children:"绑定手机号，享受知乎完整功能 ~"}),(0,s.BX)(w.Z,{className:"SignFlow BindPhoneForm",onSubmit:e.handleSubmit,style:u?{marginTop:0,padding:"0 24px"}:{},children:[(0,s.tZ)(L.l,{selectClassName:"BindPhone-select",children:(0,s.tZ)(b.Z,{type:"register",supportedCountriesShown:!0,manualValidateError:r,onSelect:e.handleChange("selectedCountry"),onChange:e.handleChange("phoneNo")})}),(0,s.tZ)(x,{resetText:o,interceptTime:n,countDownEvent:e.handleSendDigits,manualValidateError:i},"sms-input"),!u&&(0,s.tZ)("div",{className:"BindPhone-helpWrapper",children:(0,s.tZ)(R.ZP,{className:"BindPhone-helpText",preset:"link",onClick:function(){e.setState({showFooter:!0})},children:"需要帮助？"})}),u?(0,s.tZ)(O.Z,{css:{marginTop:60},children:(0,s.tZ)(C.$U,{zaType:"Button",zaModuleId:"bind_enter_zhihu_button",as:S.z,colorPreset:"primary",type:"submit",label:"确认",size:"l",children:"确认"})}):(0,s.tZ)(R.ZP,{css:{display:"block",width:"220px",margin:"55px auto 0"},preset:"primary",color:"blue",type:"submit",onClick:e.handleZaOK,children:"确认"})]})]})}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){g.Z.setModule(this.container,{module:"BindPhoneForm"}),g.Z.trackCardShow(this.container)}},{key:"isSocialRegister",get:function(){return(0,D.wb)()}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.modalProps,r=void 0===n?{}:n,o=e.isMobile,i=this.state.showFooter;return(0,s.tZ)(N.Z,(0,y._)((0,I._)({title:o?null:"设置手机号",subtitle:o?null:"绑定手机号后，您可以解锁知乎的提问、回答、评论等更多功能。",footer:i?"如需要帮助，请联系 i@zhihu.com，我们会尽快帮你解决":null,onClose:t,size:o?"fullPage":"default"},r),{children:this.renderContent()}))}}]),n}(_.Component);(0,u._)(V,"propTypes",{requestPhoneVerificationCode:d().func.isRequired,updatePhoneNumber:d().func.isRequired,onClose:d().func.isRequired,onSuccess:d().func.isRequired,onNeedUnbind:d().func.isRequired,isMobile:d().bool.isRequired});var z=(0,P.$)()(V),K=n(80714),W=n(31142),Y=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"zaKnowMore",function(e){g.Z.trackEvent(e.target,{action:"OpenUrl",name:"了解更多"})}),(0,u._)((0,r._)(e),"toBindPhone",function(t){var n=e.props.onBindPhone;g.Z.trackEvent(t.target,{action:"OpenUrl",name:"去绑定手机"}),n()}),(0,u._)((0,r._)(e),"handleClose",function(t){var n=e.props,r=n.onClose,o=n.config.canWrite;g.Z.trackEvent(t.target,{action:"Cancel",name:o?"暂不绑定":"取消"}),r()}),(0,u._)((0,r._)(e),"renderContent",function(){var t=e.props.config,n=t.tip,r=t.canWrite;return(0,s.BX)("div",{ref:function(t){e.container=t},children:[(0,s.BX)("p",{children:[n,(0,s.tZ)(W.Z,{preset:"link",target:"_blank",href:"https://zhuanlan.zhihu.com/p/27257715",onClick:e.zaKnowMore,children:"了解更多"})]}),(0,s.BX)("div",{className:"BindPhone-buttonSection",children:[(0,s.tZ)(W.Z,{className:"BindPhone-button",onClick:e.handleClose,children:r?"暂不绑定":"取消"}),(0,s.tZ)(R.ZP,{className:"BindPhone-button",preset:"primary",color:"blue",onClick:e.toBindPhone,children:"去绑定手机"})]})]})}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){g.Z.setModule(this.container,{module:"BindPhoneForm"}),g.Z.trackCardShow(this.container)}},{key:"render",value:function(){var e=this.props.onClose;return(0,s.tZ)(N.Z,{className:K.Z.isMobileEntry&&"BindPhoneMobileModal",title:"绑定手机",onClose:e,size:K.Z.isMobileEntry?"small":"default",children:this.renderContent()})}}]),n}(_.Component);(0,u._)(Y,"propTypes",{config:d().object,onClose:d().func,onBindPhone:d().func});var Q=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"handleUnbind",function(t){var n=e.props,r=n.onSuccess,o=n.monopolizePhoneNumber,i=n.showNotification;g.Z.trackEvent(t.target,{action:"Click",name:"确认解绑"}),o().then(function(){return i("绑定成功！","white"),r()})}),(0,u._)((0,r._)(e),"handleCancel",function(t){var n=e.props.onCancel;g.Z.trackEvent(t.target,{action:"Click",name:"暂不绑定"}),n()}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){g.Z.setModule(this.container,{module:"BindPhoneVerifyForm"}),g.Z.trackCardShow(this.container)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.bindName;return(0,s.tZ)(N.Z,{className:K.Z.isMobileEntry&&"ConfirmUnbindMobileModal",title:"解绑手机",onClose:n,size:K.Z.isMobileEntry?"small":"default",children:(0,s.BX)("div",{ref:function(t){e.container=t},children:[(0,s.tZ)("p",{children:(0,s.tZ)("b",{children:"解绑操作无法撤销。"})}),K.Z.isMobileEntry&&(0,s.tZ)("br",{}),(0,s.BX)("p",{children:["如果你没有其他登录方式，你将无法再使用账号「",r,"」。"]}),(0,s.BX)("div",{className:"BindPhone-buttonSection",children:[(0,s.tZ)(R.ZP,{className:"BindPhone-button",onClick:this.handleUnbind,children:"确认解绑"}),(0,s.tZ)(R.ZP,{className:"BindPhone-button",preset:"primary",color:"blue",onClick:this.handleCancel,children:"暂不绑定"})]})]})})}}]),n}(_.Component);(0,u._)(Q,"propTypes",{onClose:d().func.isRequired,onSuccess:d().func.isRequired,onCancel:d().func.isRequired,bindName:d().string.isRequired,showNotification:d().func.isRequired,monopolizePhoneNumber:d().string.isRequired});var j=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"handleCancel",function(t){var n=e.props.onClose;g.Z.trackEvent(t.target,{action:"Cancel",name:"不绑定"}),n()}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){g.Z.setModule(this.container,{module:"BindMailForm"}),g.Z.trackCardShow(this.container)}},{key:"render",value:function(){var e=this,t=this.props.onClose;return(0,s.tZ)(N.Z,{className:K.Z.isMobileEntry&&"LoginWithPhoneMobileModal",title:"手机号绑定成功",onClose:t,size:K.Z.isMobileEntry?"small":"default",children:(0,s.BX)("div",{ref:function(t){e.container=t},children:[(0,s.tZ)("p",{children:"由于你此前绑定的邮箱未经验证，未来请使用手机号登录知乎。"}),(0,s.tZ)(R.ZP,{className:"BindPhone-remindLoginWithPhoneButton",onClick:this.handleCancel,preset:"primary",color:"blue",children:"知道了"})]})})}}]),n}(_.Component);(0,u._)(j,"propTypes",{onClose:d().func});var X=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"handleCancel",function(t){var n=e.props.onCancel;g.Z.trackEvent(t.target,{action:"Click",name:"暂不绑定"}),n()}),(0,u._)((0,r._)(e),"handleConfirm",function(t){var n=e.props.onConfirm;g.Z.trackEvent(t.target,{action:"Click",name:"确认解绑"}),n()}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){g.Z.setModule(this.container,{module:"BindPhoneFailForm"}),g.Z.trackCardShow(this.container)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.phoneNumber,o=t.bindName,i=t.requiredName;return(0,s.tZ)(N.Z,{className:K.Z.isMobileEntry&&"NeedUnbindMobileModal",title:"绑定失败",onClose:n,size:K.Z.isMobileEntry?"small":"default",children:(0,s.BX)("div",{ref:function(t){e.container=t},children:[(0,s.BX)("p",{children:["你所输入的手机号 ",r," 已经被绑定到账号「",o,"」。"]}),K.Z.isMobileEntry&&(0,s.tZ)("br",{}),(0,s.BX)("p",{children:["你可以选择将该手机号从该账号中解绑，并绑定至当前账号「",i,"」。"]}),K.Z.isMobileEntry&&(0,s.tZ)("br",{}),(0,s.tZ)("p",{children:(0,s.BX)("b",{children:["解绑后，你将无法再通过手机号登录原账号「",o,"」。"]})}),(0,s.BX)("div",{className:"BindPhone-buttonSection",children:[(0,s.tZ)(R.ZP,{className:"BindPhone-button",onClick:this.handleConfirm,children:"确认解绑"}),(0,s.tZ)(R.ZP,{className:"BindPhone-button",preset:"primary",color:"blue",onClick:this.handleCancel,children:"暂不绑定"})]})]})})}}]),n}(_.Component);(0,u._)(X,"propTypes",{onClose:d().func.isRequired,onCancel:d().func.isRequired,onConfirm:d().func.isRequired,phoneNumber:d().string.isRequired,bindName:d().string.isRequired,requiredName:d().string.isRequired});var J="CONFIRM_BIND_PHONE",$="BIND_PHONE",ee="LOGIN_WITH_PHONE",et="NEED_UNBIND",en="CONFIRM_UNBIND",er="SAFETY_VERIFICATION",eo=function(e){(0,a._)(n,e);var t=(0,c._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{}),(0,u._)((0,r._)(e),"handleBindPhoneSuccess",function(){var t=e.props,n=t.needShowLoginWithPhoneNumber,r=t.showNotification,o=t.onToggle,i=t.onSuccess;return(null==i||i(),n)?e.goToStep(ee)():(r("绑定成功！","white"),setTimeout(function(){return location.reload()},2e3),o())}),(0,u._)((0,r._)(e),"handleNeedUnbind",function(t){var n=t.bindName,r=t.phoneNumber,o=t.requiredName;return e.setState({bindName:n,phoneNumber:r,requiredName:o,step:et})}),(0,u._)((0,r._)(e),"goToStep",function(t){return function(){return e.setState({step:t})}}),(0,u._)((0,r._)(e),"handleCloseWithReload",function(){return location.reload()}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){(0,this.props.fillCurrentUserIfNeeded)(["email","isActive","isBindPhone"])}},{key:"componentDidUpdate",value:function(e){e.currentStep!==this.props.currentStep&&this.goToStep(this.props.currentStep)()}},{key:"render",value:function(){var e=this,t=this.props,n=t.shown,r=t.requestPhoneVerificationCode,o=t.updatePhoneNumber,i=t.monopolizePhoneNumber,u=t.showNotification,a=t.config,c=t.account,l=t.unlockTicketByDigits,d=t.requestUnlockTicket,_=t.unlockTicketByPassword,p=t.onToggle,f=t.isBindPhone,E=t.isZombie,h=t.onSuccess,v=this.state,m=v.step,A=v.bindName,I=v.phoneNumber,y=v.requiredName;return n?m===J?(0,s.tZ)(Y,{onBindPhone:this.goToStep(er),onClose:p,config:a}):m===$?(0,s.tZ)(z,{onClose:p,onSuccess:this.handleBindPhoneSuccess,onNeedUnbind:this.handleNeedUnbind,requestPhoneVerificationCode:r,updatePhoneNumber:o}):m===ee?(0,s.tZ)(j,{onClose:this.handleCloseWithReload}):m===et?(0,s.tZ)(X,{onClose:p,onCancel:this.goToStep($),onConfirm:this.goToStep(en),bindName:A,phoneNumber:I,requiredName:y}):m===en?(0,s.tZ)(Q,{onClose:p,onSuccess:this.handleBindPhoneSuccess,onCancel:this.goToStep($),bindName:A,monopolizePhoneNumber:i,showNotification:u}):m===er?(0,s.tZ)(T.c,{isShown:!0,account:c,unlockTicketByDigits:l,requestUnlockTicket:d,unlockTicketByPassword:_,onClose:p,onSuccess:function(){E&&f||e.goToStep($)(),null==h||h()},zaModuleName:"BindMailForm"}):null:null}}]),n}(_.Component);(0,u._)(eo,"propTypes",{shown:d().bool.isRequired,onToggle:d().func.isRequired,needShowLoginWithPhoneNumber:d().bool.isRequired,config:d().object.isRequired,requestPhoneVerificationCode:d().func.isRequired,updatePhoneNumber:d().func.isRequired,monopolizePhoneNumber:d().func.isRequired,onSuccess:d().func});var ei=(0,f.compose)(E.Z,(0,p.connect)(function(e,t){var n=e.account,r=t.currentUser,o=r.isActive,i=r.email,u=r.isZombie,a=r.isBindPhone;return{account:n,hasActiveEmail:o&&i,needShowLoginWithPhoneNumber:!o&&!!i,config:m.xR,isZombie:u,isBindPhone:a}},{requestPhoneVerificationCode:h.L3,updatePhoneNumber:h.Rv,monopolizePhoneNumber:h.t_,showNotification:A.c0,getUnlockRequest:h.F4,unlockTicketByDigits:h.LC,requestUnlockTicket:h.MM,unlockTicketByPassword:h.Hr,fillCurrentUserIfNeeded:v.sF}))(eo)},65357:function(e,t,n){"use strict";n.d(t,{Ww:function(){return u},o$:function(){return c},wb:function(){return a}});var r=n(67516),o=n.n(r),i="ftasl";function u(){o().set(i,"1")}function a(){return o().get(i)||!1}function c(){o().delete(i)}},82865:function(e,t,n){"use strict";n.d(t,{Eh:function(){return s},Fu:function(){return c},dq:function(){return a}});var r=n(67516),o=n.n(r),i=n(54231),u="vIsZ";function a(e){e&&(o().set(u,null==e?void 0:e.isZombie),i.ZP.increment("logIn.zombieStatus.write.count"))}function c(){o().delete(u),i.ZP.increment("logIn.zombieStatus.delete.count")}function s(){return o().get(u)||!1}},90381:function(e,t,n){"use strict";n.d(t,{Ho:function(){return T},w:function(){return v},ru:function(){return O}});var r=n(85879),o=n(87363),i=n(74128),u=n(80714),a=function(e){var t=e.onClose,n=e.shown,a=(0,o.useCallback)(function(){location.href="https://".concat(u.Z.wwwHost,"/authenticate/phone")},[]),c=(0,o.useCallback)(function(){location.href="https://".concat(u.Z.wwwHost,"/authenticate/intro")},[]);return(0,r.tZ)(i.Z,{title:"账号实名制认证",onClose:t,size:u.Z.isMobileEntry?"fullPage":"default",children:n&&(0,r.BX)("div",{className:"RealNameModal",children:[(0,r.tZ)("p",{children:"根据相关法律法规，您需要完成真实身份核验后方可使用提问、回答、评论等功能。"}),(0,r.tZ)("p",{children:"你可选择以下任一方式完成实名认证。"}),(0,r.BX)("p",{children:["如有其它问题可私信联系"," ",(0,r.tZ)("a",{href:"https://www.zhihu.com/messages/-10029",children:"知乎管理员"})," ","进行咨询沟通"]}),(0,r.BX)("div",{className:"RealNameModal-buttonGroup",children:[(0,r.tZ)("div",{role:"button",tabIndex:0,onClick:a,children:"中国大陆手机号认证"}),(0,r.tZ)("div",{role:"button",tabIndex:0,onClick:c,children:"身份证件信息认证"})]})]})})},c=n(94009),s=n(49899),l=n(91850),d=n(65733),_=n(79446),p=(0,o.createContext)({}),f=function(e){var t=e.children,n=(0,_.Z)(["isRealname"]),i=(0,c._)((0,l.Z)(!1),2),u=i[0],a=i[1],f=(0,d.Z)(function(e){return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];(n||{}).isRealname?e.apply(void 0,(0,s._)(r)):a.on()}}),T=(0,d.Z)(function(){return a.off()}),E=(0,o.useMemo)(function(){return{realNameRequired:f,realNameModalShown:u,closeRealNameModal:T}},[u]);return(0,r.tZ)(p.Provider,{value:E,children:t})},T=function(e){var t=e.path,n=e.children;return(0,o.useMemo)(function(){return!(t.match(/\/story\/\d+$/)||t.match(/\/authorize$/)||"errorpage"===u.Z.currentEntry)},[t])?(0,r.tZ)(f,{children:n}):n},E=n(86616),h=function(){var e=(0,_.Z)(["isRealname"]),t=(0,o.useContext)(p),n=t.closeRealNameModal,i=t.realNameModalShown,u=(e||{}).isRealname;return(0,r.tZ)(r.HY,{children:!1===u&&(0,r.tZ)(a,{onClose:n,shown:i})})},v=(0,E.withRouter)(function(e){var t=e.location.pathname;return(0,o.useMemo)(function(){return!(t.match(/\/story\/\d+$/)||t.match(/\/authorize$/)||"errorpage"===u.Z.currentEntry)},[t])?(0,r.tZ)(h,{}):null}),m=n(55164),A=n(57477),I=n(84871),y=n.n(I),O=function(e){return y()(function(t){var n=(0,o.useContext)(p).realNameRequired;return(0,r.tZ)(e,(0,A._)((0,m._)({},t),{realNameRequired:n}))},e)}},80487:function(e,t,n){"use strict";n.d(t,{Z:function(){return R}});var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(57477),l=n(71728),d=n(85626),_=n(85879),p=n(92769),f=n.n(p),T=n(14168),E=n.n(T),h=n(87363),v=n(53778),m=n(45001),A=n(80714),I=n(14304),y=n(71670),O=n(34150),S=n(94009),g=n(83921),C=function(e){(0,a._)(n,e);var t=(0,d._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"handleChange",function(t){var n=(0,S._)(t.target.value.match(/\+\d+/),1)[0];e.codeDiv.innerHTML=n;var r=e.props.items.findIndex(function(e){return e.code===n});e.props.onChange(t.target.value,r)}),e}return(0,i._)(n,[{key:"render",value:function(){var e=this,t=this.props.items;return(0,_.BX)("div",{className:"MobileContriesSelect",children:[(0,_.BX)("div",{className:"MobileContriesSelect-content",children:[(0,_.tZ)("div",{ref:function(t){e.codeDiv=t},children:"+ 86"}),(0,_.tZ)("select",{onChange:this.handleChange,children:t.map(function(e,t){var n=e.name,r=e.code;return(0,_.tZ)("option",{value:"".concat(n," ").concat(r),children:"".concat(n," ").concat(r)},t)})})]}),(0,_.tZ)(g.ji,{})]})}}]),n}(h.Component),N=function(e){(0,a._)(n,e);var t=(0,d._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"state",{selectedCountry:null}),(0,u._)((0,r._)(e),"handleSelect",function(t,n){var r=e.props,o=r.supportedCountries,i=r.onSelect,u=o[n];e.setState({selectedCountry:u}),i(u)}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.supportedCountries,n=e.getSupportedCountries;t&&t.length||n()}},{key:"render",value:function(){var e=f()(this.props,["getSupportedCountries","onSelect"]),t=e.supportedCountries,n=e.onChange,r=e.defaultPhoneNo,o=e.type,i=e.defaultSelectedCountry,u=e.supportedCountriesShown,a=e.placeholderPrefix,s=void 0===a?"":a,d=e.getPlaceholder,p=e.selectClassName,T=(0,l._)(e,["supportedCountries","onChange","defaultPhoneNo","type","defaultSelectedCountry","supportedCountriesShown","placeholderPrefix","getPlaceholder","selectClassName"]),E=this.state.selectedCountry||i,h=E.name,v=E.code,I=!!(u&&t&&t.length);return(0,_.BX)("div",{className:"SignFlow-account",children:[I&&(0,_.BX)(_.HY,{children:[(0,_.tZ)("div",{className:"SignFlow-supportedCountriesSelectContainer",children:!!t&&!!t.length&&(A.Z.isMobileEntry?(0,_.tZ)(C,{items:t,onChange:this.handleSelect}):(0,_.tZ)(m.Z,{plain:!0,targetClassName:p,text:"".concat(h," ").concat(v),onChange:this.handleSelect,children:t.map(function(e,t){var n=e.name,r=e.code;return(0,_.tZ)(m.W,{value:"".concat(n," ").concat(r)},t)})}))}),(0,_.tZ)("span",{className:"SignFlow-accountSeperator",children:"\xa0"})]}),(0,_.tZ)(O.Z,(0,c._)({className:"SignFlow-accountInputContainer",name:"register"===o?"phoneNo":"username",inputClassName:"SignFlow-accountInput",placeholder:d(o,s),onChange:n,defaultValue:r,validations:[{type:"required",message:d(o,"请输入")}],type:"digits"===o||"register"===o?"tel":"text"},T))]})}}]),n}(h.Component);(0,u._)(N,"propTypes",{defaultPhoneNo:E().string,defaultSelectedCountry:E().object,supportedCountries:E().array,onSelect:E().func,onChange:E().func,getSupportedCountries:E().func,type:E().oneOf(["register","digits","password"]).isRequired,supportedCountriesShown:E().bool,placeholderPrefix:E().string,getPlaceholder:E().func}),(0,u._)(N,"defaultProps",{defaultPhoneNo:"",defaultSelectedCountry:{name:"中国",code:"+86"},supportedCountriesShown:!0,getPlaceholder:function(e,t){return"".concat(t).concat("digits"===e||"register"===e?"手机号":"手机号或邮箱")}});var R=(0,v.connect)(function(e){return{supportedCountries:e.sms.supportedCountries}},{getSupportedCountries:I.o})(function(e){var t=(0,y.h)().selectClassName;return(0,_.tZ)(N,(0,s._)((0,c._)({},e),{selectClassName:t}))})},90394:function(e,t,n){"use strict";n.d(t,{Y:function(){return a},Z:function(){return c}});var r=n(55164),o=n(57477),i=n(85879),u=n(50373);function a(){return Promise.all([n.e(8368),n.e(581)]).then(n.bind(n,53987))}function c(e){return(0,i.tZ)(u.Z,(0,o._)((0,r._)({},e),{getComponent:a}))}},34150:function(e,t,n){"use strict";var r=n(20857),o=n(22107),i=n(94707),u=n(87320),a=n(86325),c=n(55164),s=n(71728),l=n(85626),d=n(85879),_=n(25628),p=n.n(_),f=n(92769),T=n.n(f),E=n(14168),h=n.n(E),v=n(87363),m=n(95377),A=n(87843),I=function(e){(0,a._)(n,e);var t=(0,l._)(n);function n(){var e;return(0,o._)(this,n),e=t.apply(this,arguments),(0,u._)((0,r._)(e),"handleErrorHide",function(){e.getValidationMessage()&&e.setState({errorMaskShown:!1},function(){e.clearValidations({errorMaskShown:!0},function(){return e.inputEl.focus()})})}),(0,u._)((0,r._)(e),"handleKeyUp",function(t){(8===t.keyCode||9===t.keyCode)&&e.clearValidations()}),(0,u._)((0,r._)(e),"handleChange",function(t){var n=t.target.value,r=e.props.onChange;e.setValue(n),"function"==typeof r&&r(n)}),e}return(0,i._)(n,[{key:"componentDidMount",value:function(){var e=this.props.defaultValue;e&&this.setValue(e),this.setState({errorMaskShown:!0})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props,n=t.manualValidateError,r=t.type,o=t.smsType,i=e.manualValidateError,u=e.type,a=e.defaultValue,c=e.smsType;!n&&i||"string"==typeof n&&n!==i?this.addManualValidation(i):n&&!i&&this.clearValidations({errorMaskShown:!0}),(r!==u||o!==c)&&(this.setValue(a),this.clearValidations({errorMaskShown:!0}))}},{key:"render",value:function(){var e,t=this,n=T()(this.props,["validations","defaultValue","onChange","smsType","manualValidateError","dispatch"]),r=n.className,o=n.inputClassName,i=n.errorMessageClassName,a=(0,s._)(n,["className","inputClassName","errorMessageClassName"]),l=(this.state||{}).errorMaskShown,_=this.getValue(),f=this.getValidationMessage();return(0,d.BX)("div",{className:p()("SignFlowInput",r),children:[(0,d.tZ)(m.Z,(0,c._)({onRef:function(e){t.inputEl=e},value:_,onChange:this.handleChange,onKeyUp:this.handleKeyUp,onClick:this.handleErrorHide,onBlur:function(){return t.validate()},className:o},a)),(0,d.tZ)("div",{className:p()("SignFlowInput-errorMask",this.getValidationClassName(),(e={},(0,u._)(e,i,f),(0,u._)(e,"SignFlowInput-requiredErrorMask",!_),(0,u._)(e,"SignFlowInput-errorMask--hidden",!f||!l),e)),onClick:this.handleErrorHide,children:f})]})}}]),n}(v.Component);(0,u._)(I,"propTypes",{inputClassName:h().string,errorMessageClassName:h().string,manualValidateError:h().node}),t.Z=(0,A.$)()(I)},29065:function(e,t,n){"use strict";var r=n(55164),o=n(36907),i=n.n(o),u=n(23768);t.Z=function(e,t){var n=Date.now(),o="com.zhihu.web",a=new(i())("SHA-1","TEXT");return a.setHMACKey("d1b964811afb40118a12068ff74a12f4","TEXT"),a.update(e),a.update(u.ym),a.update(o),a.update(String(n)),(0,r._)({clientId:u.ym,grantType:e,timestamp:n,source:o,signature:a.getHMAC("HEX")},t)}},72925:function(e,t,n){"use strict";n.d(t,{N:function(){return u},g:function(){return i}});var r=n(67516),o=n.n(r);function i(){return o().get("lastuser")||o().get("lastuser:email")}function u(e){o().set("lastuser",e)}},76295:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o}});var r=n(87804);function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?void r.Z.supportsAction("account/showLoginDialog").then(function(e){e?(0,r.Z)("account/showLoginDialog").dispatch({next:location.href}):location.href="zhihu://".concat(t?"signup":"signin","?next=").concat(encodeURIComponent(location.pathname+location.search))}):void(location.href="".concat(t?"/signup":"/signin","?next=").concat(encodeURIComponent(location.pathname+location.search)))}},45471:function(e,t,n){"use strict";n.d(t,{uq:function(){return I},Vy:function(){return r.Z},$7:function(){return S},t:function(){return N},gl:function(){return R.g}});var r=n(7917),o=n(20857),i=n(22107),u=n(94707),a=n(87320),c=n(86325),s=n(55164),l=n(57477),d=n(85626),_=n(85879),p=n(82644),f=n(25628),T=n.n(f),E=n(87363),h=n(74128),v=n(38889),m=n(80714),A=n(76295),I=function(e){(0,c._)(n,e);var t=(0,d._)(n);function n(){var e;return(0,i._)(this,n),e=t.apply(this,arguments),(0,a._)((0,o._)(e),"handleSignUp",function(){(0,A.ZP)(e.props.isAppView,!0)}),(0,a._)((0,o._)(e),"handleSignIn",function(){(0,A.ZP)(e.props.isAppView)}),e}return(0,u._)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.isAppView;return(0,_.tZ)(h.Z,{title:"注册/登录后即可继续操作",size:m.Z.isMobileEntry?"small":"default",className:T()("AppAuthentication",{"AppAuthentication--appView":n}),closeButton:!1,onClose:t,children:(0,_.BX)("div",{className:"AppAuthentication-buttonContainer",children:[!n&&(0,_.tZ)(v.ZP,{preset:"plain",className:"AppAuthentication-closeButton",onClick:t,"aria-label":"关闭",children:(0,_.tZ)(p.HN,{size:16,name:"remove"})}),!m.Z.isMobileEntry&&(0,_.tZ)(v.ZP,{className:"AppAuthentication-button",color:"blue",preset:"primary",onClick:this.handleSignUp,children:"注册"}),(0,_.BX)(v.ZP,(0,l._)((0,s._)({className:"AppAuthentication-button",onClick:this.handleSignIn},m.Z.isMobileEntry?{color:"blue",preset:"primary"}:{}),{children:[m.Z.isMobileEntry?"注册或":"","登录"]}))]})})}}]),n}(E.Component);n(90381);var y=n(14168),O=n.n(y),S=function(e){(0,c._)(n,e);var t=(0,d._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,u._)(n,[{key:"render",value:function(){var e=this.context.handleBindPhoneModalToggle;return(0,_.tZ)(v.ZP,{css:{display:"inline-block",border:"none"},preset:"link",onClick:e,children:"激活账号"})}}]),n}(E.Component);(0,a._)(S,"contextTypes",{handleBindPhoneModalToggle:O().func});var g=n(50373),C=function(){return Promise.resolve().then(n.bind(n,69140))},N=function(e){(0,c._)(n,e);var t=(0,d._)(n);function n(){return(0,i._)(this,n),t.apply(this,arguments)}return(0,u._)(n,[{key:"render",value:function(){return(0,_.tZ)(g.Z,(0,s._)({getComponent:C},this.props))}}]),n}(E.Component),R=n(72925)},71670:function(e,t,n){"use strict";n.d(t,{h:function(){return s},l:function(){return l}});var r=n(85879),o=n(87363),i=n(88329),u=n.n(i),a=function(e){return console.error("该组件没有设置 LoginV2ContextProvider，使用的是默认 Context value。"),e},c=(0,o.createContext)({get captchaNeeded(){return a(!1)},get captchaV2(){return a(void 0)},get captchaV2Ref(){return a({current:null})},get continueActionRef(){return a({current:null})},get handleChange(){return a(u())},get handleChangeType(){return a(u())},get handleSendDigits(){return a(u())},get selectClassName(){return a("")},get setState(){return a(u())},get testPhoneNo(){return a(u())}}),s=function(){return(0,o.useContext)(c)},l=function(e){var t=e.handleChangeType,n=e.setState,i=e.handleChange,u=e.testPhoneNo,a=e.handleSendDigits,s=e.continueActionRef,l=e.captchaV2Ref,d=e.captchaNeeded,_=e.selectClassName,p=e.captchaV2,f=e.children,T=(0,o.useMemo)(function(){return{handleChangeType:t,handleChange:i,testPhoneNo:u,handleSendDigits:a,selectClassName:_,setState:n,continueActionRef:s,captchaV2Ref:l,captchaNeeded:d,captchaV2:p}},[t,i,u,a,_,n,s,l,d,p]);return(0,r.tZ)(c.Provider,{value:T,children:f})}},88729:function(e,t,n){"use strict";e.exports=n.p+"assets/liukanshan_desert.ecf3c388.svg"},53778:function(e,t,n){e.exports=n(88160)(2450)},94057:function(e,t,n){e.exports=n(88160)(4944)},86616:function(e,t,n){e.exports=n(88160)(7094)},73439:function(e,t,n){e.exports=n(88160)(7729)},87363:function(e){"use strict";e.exports=React},61533:function(e){"use strict";e.exports=ReactDOM},37831:function(e){"use strict";e.exports=ReactDOMServer},88160:function(e){"use strict";e.exports=vendor_5f3e51e68d56265eb628}},function(e){e.O(0,[4929],function(){return e(e.s=26348)}),e.O()}]);
//# sourceMappingURL=main.app.ef07590a3257a3dc6699.js.map