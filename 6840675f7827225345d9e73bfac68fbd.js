"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8705],{78503:function(e,t,r){r.d(t,{H:function(){return o}});var n=r(67294),i=r(86235);let o=()=>{let{dispatch:e,circleOffersReducerState:t}=(0,n.useContext)(i.j);return[t,e]}},87588:function(e,t,r){r.d(t,{Z:function(){return n},v:function(){return i}});let n={cmsPageId:"/bulkoffers",cmsPageType:"/bulkoffers/",pageName:"bulk offers",pageType:"bulk offers"},i={cmsPageId:"/ATCofferssheet",cmsPageType:"/ATCofferssheet/",pageName:"ATC: offers sheet",pageType:"ATC offers sheet"}},91605:function(e,t,r){r.d(t,{E:function(){return d},b:function(){return u}});var n=r(59499),i=r(67294),o=r(43430),a=r(78503),s=r(14715);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let d=({isMagicWandShown:e,appState:t,circleOffers:r})=>{let{trackEvent:n}=(0,o.rS)(),[s]=(0,a.H)(),c=r.some(e=>{var t,r;return null==s?void 0:null===(t=s[null!==(r=e.id)&&void 0!==r?r:""])||void 0===t?void 0:t.added}),d=(0,i.useMemo)(()=>r.filter(e=>{var t,r;return null==s?void 0:null===(t=s[null!==(r=e.id)&&void 0!==r?r:""])||void 0===t?void 0:t.added}),[r,s]),u=(0,i.useRef)(!1),m=(0,i.useRef)(!1);(0,i.useEffect)(()=>(m.current=!1,u.current=!1,()=>{m.current=!0}),[]),(0,i.useEffect)(()=>{e&&n({appState:t,guest:{eventType:"pageload"}})},[e,n,t]);let p=(0,i.useCallback)((r="button")=>{if(!e||u.current)return;let i=null==d?void 0:d.map(e=>({offerId:e.id,offerSelected:!0,offerType:"cartwheel"}));n(l({appState:t,guest:{eventType:"click"},lnk:{contentClick:{componentType:"action",contentType:`bulk offers: offer: ${c?"added":`${r}: no action`}`}}},c?{offerInfo:{addOffer:!0,offers:i}}:{})),u.current=!0},[e,n,c,d,t]);return(0,i.useEffect)(()=>()=>{m.current&&p("dismiss")},[p]),p},u=e=>{let{trackEvent:t}=(0,o.rS)();return r=>{let n,i;let{offerId:o,action:a,offerAriaLabel:c}=null!=r?r:{};o&&(a===s.x.ADDED_OFFER?n=!0:a===s.x.ADD_OFFER_ERROR&&(n=!1),a===s.x.REMOVED_OFFER?i=!0:a===s.x.REMOVE_OFFER_ERROR&&(i=!1),t({appState:e,guest:{eventType:"click"},offerInfo:l(l(l({},n?{addOffer:n}:{}),i?{removeOffer:i}:{}),{},{offers:[{offerId:o,offerSelected:void 0!==n||void 0!==i,offerType:"cartwheel"}]}),promotionInfo:{promos:[{id:o,omtOfferId:o,added:n,removed:i,longTagSpecialOffer:c}]}}))}}},54985:function(e,t,r){r.d(t,{i:function(){return S}});var n=r(59499),i=r(85893),o=r(67294),a=r(60217),s=r(8668),c=r(48496),l=r(97193),d=r(37586),u=r(18617),m=r(2181),p=r(90945),f=r(50411),g=r(23680),h=r(38620),y=r(40801),v=r(43430),x=r(35593),O=r(81647),b=r(81982),j=r(72604),C=r(1280);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let S=({index:e,handleRecommendationsClick:t,strategyId:r,strategyName:n,location:T})=>{var S;let w=(0,a.ct)(s.hg),_=(0,c.T)(),N=(0,l.h)(),P=(0,a.ct)(d.jz),E=(0,h.b)({hidePromos:!0}),R=4-E,I=(0,a.Ao)(u.$y),{cartRequestParams:A}=null!==(S=(0,o.useContext)(C.zZ))&&void 0!==S?S:{},{trackEvent:M}=(0,v.rS)(),$=T===j.SM.SHOP_SIMILAR_CAROUSEL||T===j.SM.SHOP_SIMILAR_DRAWER?"web_cart_sfl_subs":"mweba2ch1",D=(0,o.useCallback)(t=>k(k({},t),{},{lnk:k(k({},t.lnk),{},{recClick:{position:e,productId:w,strategyId:r,strategyName:n}})}),[e,w,r,n]),F=(0,o.useCallback)(()=>{M({event:{name:"addToCart",source:`product ad | ${$} | ${e}`,type:"click"},guest:{eventType:"click"},products:[{tcin:w}]})},[e,$,w,M]),L=(0,o.useMemo)(()=>(0,i.jsxs)(O.OH,{"data-test":"addToCartSuccessModalRecommendationsTile",children:[(0,i.jsxs)(O.Fg,{className:`item-${e}`,color:"onLightSecondary","data-position":e,"data-product-id":w,href:N,onClick:t,underline:"invert",children:[(0,i.jsx)("div",{className:"h-margin-b-tiny",children:(0,i.jsx)(m.t,{alt:_,aspectRatio:"1x1",src:P,width:"100px"})}),(0,i.jsx)(y.S,{hidePromos:!0}),(0,i.jsx)(p.k,{lines:R,children:_}),I?(0,i.jsx)("p",{className:"h-text-xs",children:"Sponsored"}):null]}),(0,i.jsx)(O.W4,{onClick:I?F:D,children:(0,i.jsx)(x.AddToCartButtonForProductContext,{cartRequestParams:k(k({},A),{},{registry_information:void 0}),handleOverridingOrAddingTrackingFieldsToAddToCartSuccess:D,overrideBehavior:b.TX.ENABLE_CHOOSE_OPTIONS_ONLY_MODE,placementType:j.bo.AddToCartSuccessModalRecommendation,size:"sm"})})]}),[N,A,F,D,t,P,e,I,w,_,R]),B=(0,o.useMemo)(()=>(0,i.jsxs)(O.on,{"data-test":`item-card-${w}`,children:[(0,i.jsxs)(O.Fg,{color:"onLightSecondary","data-position":e,"data-product-id":w,href:N,onClick:t,underline:"invert",children:[(0,i.jsx)("div",{className:"h-margin-b-tiny",children:(0,i.jsx)(O.Vt,{alt:_,aspectRatio:"1x1",src:P,width:"100%"})}),(0,i.jsxs)(O.$5,{$isRegPrice:1===E,children:[(0,i.jsx)(y.S,{hidePromos:!0,textAlignment:"left"}),(0,i.jsx)(p.k,{className:"h-text-sm h-margin-t-tiny",lines:R,children:_})]})]}),(0,i.jsx)(x.AddToCartButtonForProductContext,{"aria-label":`add to cart for ${_}`,handleOverridingOrAddingTrackingFieldsToAddToCartSuccess:D,isFullWidth:!0,overrideBehavior:b.TX.ENABLE_CHOOSE_OPTIONS_ONLY_MODE,placementType:j.bo.similarItems,size:"sm"})]}),[N,D,t,P,e,E,w,_,R]),H=(0,o.useMemo)(()=>(0,i.jsxs)("div",{className:"h-display-flex h-margin-b-default","data-test":`drawer-item-card-${w}`,children:[(0,i.jsx)(f.F,{"data-position":e,"data-product-id":w,href:N,onClick:t,children:(0,i.jsx)(O.Vt,{alt:_,aspectRatio:"1x1",src:P,width:"160px"})}),(0,i.jsxs)("div",{className:"h-margin-l-default",children:[(0,i.jsx)(f.F,{"data-position":e,"data-product-id":w,href:N,onClick:t,underline:"invert",children:(0,i.jsx)(p.k,{className:"h-text-bold h-text-grayDarkest",lines:3,children:(0,g.Jx)(_)})}),(0,i.jsx)("div",{className:"h-padding-t-tight"}),(0,i.jsx)(y.S,{className:"h-text-normal h-padding-b-tight",hidePromos:!0,textAlignment:"left"}),(0,i.jsx)(x.AddToCartButtonForProductContext,{"aria-label":`add to cart for ${_}`,handleOverridingOrAddingTrackingFieldsToAddToCartSuccess:D,overrideBehavior:b.TX.ENABLE_CHOOSE_OPTIONS_ONLY_MODE,placementType:j.bo.similarItems,size:"sm"})]})]}),[N,D,t,P,e,w,_]);return(()=>{switch(T){case j.SM.RECOMMENDATIONS:return L;case j.SM.SHOP_SIMILAR_CAROUSEL:return B;case j.SM.SHOP_SIMILAR_DRAWER:return H;default:return null}})()};S.displayName="RecommendationsTile"},66031:function(e,t,r){r.d(t,{V:function(){return j}});var n=r(41609),i=r.n(n),o=r(85893),a=r(67294),s=r(43430),c=r(84512),l=r(39788),d=r(36176),u=r(85393),m=r(18617),p=r(42850),f=r(8668),g=r(69626),h=r(6410),y=r(56947),v=r(54985);let x=({recommendedProducts:e})=>{let{trackEvent:t}=(0,s.rS)();return(0,a.useEffect)(()=>{t({guest:{eventType:"recommendations"},recommendations:{categoryId:e.category_id,docType:e.doctype,placementId:e.placement_id,strategyDescription:e.strategy_description,strategyId:e.strategy_id,strategyName:e.strategy_name,type:"product"}})},[e,t]),(0,o.jsx)("div",{"data-test":"recommendations-tracking"})};x.displayName="RecommendationsTracking";var O=r(95114),b=r(72604);let j=({tcins:e})=>{var t;let{trackEvent:r}=(0,s.rS)(),n=(0,s.rS)(),j="mweba2ch1",[C,T]=(0,d.T)({placement_id:j,tcins:e}),k=C(u.t_),S=(0,u.VB)(k),w=(0,u.Dm)(k),_=(0,u.YE)(k),N=null!==(t=(0,u.k2)(k))&&void 0!==t?t:"More to consider",P=(0,O._l)(S);(0,a.useEffect)(()=>{i()(P)||n.trackEvent({guest:{eventType:"adimp"},adImpressions:P})},[P,n]);let E=(0,a.useCallback)(e=>{var t,n,i,o,a,c;let l=null!==(t=null===(n=e.currentTarget)||void 0===n?void 0:n.getAttribute("data-position"))&&void 0!==t?t:-1,d=null!==(i=null===(o=e.currentTarget)||void 0===o?void 0:o.getAttribute("data-product-id"))&&void 0!==i?i:void 0,u=null!==(a=null==S?void 0:S[l])&&void 0!==a?a:{};if((0,m.$y)(u)){let{ad_source:e,click_id:t,click_token:n}=null!==(c=(0,m.TV)(u))&&void 0!==c?c:{};r({event:{name:"openNewPage",source:`product ad | ${j} | ${l}`,type:"click"},guest:{eventType:"click"},products:[{tcin:d}]}),r({customInteraction:{type:"click",value:`${t}|${n}`},guest:{eventType:"customInteraction"},products:[{tcin:d,sponsor:{name:e}}]})}else(0,s.OK)({recClick:{position:Number(l),productId:d,strategyId:w,strategyName:_,type:"product"}})},[S,w,_,r]),R=(0,g.s_)(T),I=(0,a.useMemo)(()=>{var e;return null==k?void 0:null===(e=k.products)||void 0===e?void 0:e.map((e,t)=>(0,o.jsx)(p.d,{debugName:"RecommendationsFilmstrip",queryResult:R,value:e,children:(0,o.jsx)(v.i,{handleRecommendationsClick:E,index:t,location:b.SM.RECOMMENDATIONS,strategyId:w,strategyName:_})},(0,f.iC)(e)))},[null==k?void 0:k.products,w,_,E,R]);return k||T.isSuccess||T.isError?!(null!=k&&k.products)||k.products.length<=0?null:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(x,{recommendedProducts:k}),(0,o.jsxs)("div",{children:[(0,o.jsx)(l.w,{className:"h-margin-t-x2",size:3,children:N}),(0,o.jsx)(h.M,{buttonSize:"sm","data-test":"addToCartSuccessModalRecommendations",itemsPerClick:4,maxClickCount:1,tabTitle:N,tagName:"div",children:I})]})]}):(0,o.jsx)(c.G,{animationDuration:"500ms",height:"120px",isAnimated:!0,stroke:y.colors.palette.gray.light,width:"100%"})};j.displayName="Recommendations"},81647:function(e,t,r){r.d(t,{$5:function(){return d},Fg:function(){return l},OH:function(){return s},Vt:function(){return u},W4:function(){return m},on:function(){return c}});var n=r(19521),i=r(50411),o=r(2181),a=r(56947);let s=n.ZP.div.withConfig({displayName:"styles__TileRoot",componentId:"sc-12wgyin-0"})(["display:flex;flex-direction:column;align-items:center;flex:0 0 50%;padding:"," ",";text-align:center;"],a.space.generic.x4,a.space.generic.x2),c=n.ZP.div.withConfig({displayName:"styles__ShopSimilarCarouselTileRoot",componentId:"sc-12wgyin-1"})(["padding:",";width:133px;line-height:",";"],a.space.generic.x1,a.font.lineHeight.heading),l=(0,n.ZP)(i.F).withConfig({displayName:"styles__StyledLink",componentId:"sc-12wgyin-2"})(["display:block;flex-grow:1;margin-bottom:",";font-size:",";"],a.space.generic.x2,a.font.size.text.medium),d=n.ZP.div.withConfig({displayName:"styles__TileContentWrapper",componentId:"sc-12wgyin-3"})(["padding:"," "," ",";min-height:85px;"],a.space.generic.x2,a.space.generic.x2,e=>e.$isRegPrice?"10.5px":`${a.space.generic.x2}`),u=(0,n.ZP)(o.t).withConfig({displayName:"styles__CarouselTilePicture",componentId:"sc-12wgyin-4"})(["img{border-radius:",";}"],a.border.radius.x1),m=n.ZP.div.withConfig({displayName:"styles__ButtonWrapper",componentId:"sc-12wgyin-5"})(["margin:",";width:calc(100% - ",");min-width:110px;& > button{max-width:unset;width:100%;}"],a.space.generic.x1,a.space.generic.x2)},38620:function(e,t,r){r.d(t,{b:function(){return s}});var n=r(60217),i=r(56696),o=r(83251),a=r(40786);let s=({hidePromos:e=!1}={})=>{var t;let r=(0,n.ct)(i.hp),s=!e&&r&&r.length>0,c=(0,n.ct)(o.mU),l=(0,n.ct)(o.D2),d=!!a.DP[null!==(t=null!=l?l:c)&&void 0!==t?t:""];return s?1!==r.length||d?3:2:d?2:1}},6410:function(e,t,r){r.d(t,{M:function(){return m}});var n=r(85893),i=r(67294),o=r(70958),a=r(50411),s=r(22235),c=r(43430),l=r(23921),d=r(19521);let u=(0,d.ZP)(l.B).withConfig({displayName:"styles__StyledIconNavigationArrowDownFill",componentId:"sc-qwvsl5-0"})(["width:24px;color:#333;vertical-align:bottom;transition:transform;transform:rotate(0deg) translateY(0);",";"],e=>e.isActive&&`transform-origin: center;
        transform: rotate(180deg);`),m=({tabTitle:e,itemsPerClick:t=6,maxClickCount:r=2,tagName:l="ul",hasFlexColumn:d,children:m,justifyContentCenter:p,shouldScrollIntoView:f,alternateButton:g,onClick:h,buttonSize:y,"data-test":v})=>{let{0:x,1:O}=(0,i.useState)(0),{trackEvent:b}=(0,c.rS)();(0,i.useEffect)(()=>{O(0)},[m]);let j=(0,i.useRef)(null),C=(0,i.useCallback)(()=>{var e;if(!j.current||0===x)return;let r=null===(e=j.current)||void 0===e?void 0:e.querySelector(`.item-${x*t}`);r&&r.focus()},[j,t,x]);(0,i.useEffect)(()=>{C()},[C]);let T=(0,i.useCallback)(t=>{null==h||h(t),b({customInteraction:{type:"click",value:`${e} load more button ${x} click`},guest:{eventType:"customInteraction"}}),O(x+1)},[O,b,x,e,h]),k=(0,i.useCallback)(t=>{if(null==h||h(t),b({customInteraction:{type:"click",value:`${e} show less button`},guest:{eventType:"customInteraction"}}),O(0),f&&window.scrollY>=215){var r;null===(r=j.current)||void 0===r||r.scrollIntoView()}},[e,b,f,h]),S=(0,i.useCallback)(()=>x===r?i.Children.toArray(m).length:t*(x+1),[x,r,m,t]),w=(0,i.useCallback)(()=>{if(x===r)return 0;let e=i.Children.toArray(m).length,n=S(),o=e-n;return x===r-1?o:Math.min(o,t)},[x,r,t,m,S]),_=(0,i.useCallback)(e=>{let t=w();if(t>0){T(e);return}k(e)},[T,w,k]),N=i.Children.toArray(m),P=S(),E="Show less";return w()>0&&(E=`Show ${w()} more`),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(l,{className:`${d?"h-flex-direction-col h-flex-align-center":"h-flex-direction-row"} h-display-flex h-flex-wrap ${p?"h-flex-justify-center":""}`,"data-test":v,ref:j,children:N.slice(0,P)}),N.length>t&&(g?(0,n.jsx)(o.X,{children:(0,n.jsxs)(a.F,{"aria-label":`${E} ${e}`,className:"h-text-grayDarkest h-margin-t-tiny","data-test":"loadMoreRecommendations",onClick:_,underline:"invert",children:[E," ",(0,n.jsx)(u,{isActive:"Show less"===E})]})}):(0,n.jsx)(o.X,{className:"h-flex-justify-center",children:(0,n.jsx)(s.P,{"aria-label":`${E} ${e} items`,className:"h-margin-h-default h-align-center","data-test":"loadMoreRecommendations",onClick:_,size:y,children:E})}))]})};m.displayName="ShowMoreItemsWrapper"}}]);